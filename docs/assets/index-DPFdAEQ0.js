(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rg={exports:{}},ou={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function MC(){if(R_)return ou;R_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:s,key:l,ref:i!==void 0?i:null,props:a}}return ou.Fragment=t,ou.jsx=e,ou.jsxs=e,ou}var I_;function OC(){return I_||(I_=1,Rg.exports=MC()),Rg.exports}var m=OC(),Ig={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function PC(){if(j_)return Jt;j_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function E(q,st,ft){this.props=q,this.context=st,this.refs=S,this.updater=ft||w}E.prototype.isReactComponent={},E.prototype.setState=function(q,st){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,st,"setState")},E.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=E.prototype;function j(q,st,ft){this.props=q,this.context=st,this.refs=S,this.updater=ft||w}var O=j.prototype=new k;O.constructor=j,T(O,E.prototype),O.isPureReactComponent=!0;var B=Array.isArray,z={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function A(q,st,ft,rt,mt,xt){return ft=xt.ref,{$$typeof:n,type:q,key:st,ref:ft!==void 0?ft:null,props:xt}}function R(q,st){return A(q.type,st,void 0,void 0,void 0,q.props)}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function M(q){var st={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ft){return st[ft]})}var U=/\/+/g;function V(q,st){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):st.toString(36)}function L(){}function gt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(L,L):(q.status="pending",q.then(function(st){q.status==="pending"&&(q.status="fulfilled",q.value=st)},function(st){q.status==="pending"&&(q.status="rejected",q.reason=st)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function dt(q,st,ft,rt,mt){var xt=typeof q;(xt==="undefined"||xt==="boolean")&&(q=null);var yt=!1;if(q===null)yt=!0;else switch(xt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(q.$$typeof){case n:case t:yt=!0;break;case g:return yt=q._init,dt(yt(q._payload),st,ft,rt,mt)}}if(yt)return mt=mt(q),yt=rt===""?"."+V(q,0):rt,B(mt)?(ft="",yt!=null&&(ft=yt.replace(U,"$&/")+"/"),dt(mt,st,ft,"",function(Kt){return Kt})):mt!=null&&(I(mt)&&(mt=R(mt,ft+(mt.key==null||q&&q.key===mt.key?"":(""+mt.key).replace(U,"$&/")+"/")+yt)),st.push(mt)),1;yt=0;var jt=rt===""?".":rt+":";if(B(q))for(var bt=0;bt<q.length;bt++)rt=q[bt],xt=jt+V(rt,bt),yt+=dt(rt,st,ft,xt,mt);else if(bt=b(q),typeof bt=="function")for(q=bt.call(q),bt=0;!(rt=q.next()).done;)rt=rt.value,xt=jt+V(rt,bt++),yt+=dt(rt,st,ft,xt,mt);else if(xt==="object"){if(typeof q.then=="function")return dt(gt(q),st,ft,rt,mt);throw st=String(q),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return yt}function W(q,st,ft){if(q==null)return q;var rt=[],mt=0;return dt(q,rt,"","",function(xt){return st.call(ft,xt,mt++)}),rt}function at(q){if(q._status===-1){var st=q._result;st=st(),st.then(function(ft){(q._status===0||q._status===-1)&&(q._status=1,q._result=ft)},function(ft){(q._status===0||q._status===-1)&&(q._status=2,q._result=ft)}),q._status===-1&&(q._status=0,q._result=st)}if(q._status===1)return q._result.default;throw q._result}var wt=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Pt(){}return Jt.Children={map:W,forEach:function(q,st,ft){W(q,function(){st.apply(this,arguments)},ft)},count:function(q){var st=0;return W(q,function(){st++}),st},toArray:function(q){return W(q,function(st){return st})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Jt.Component=E,Jt.Fragment=e,Jt.Profiler=i,Jt.PureComponent=j,Jt.StrictMode=s,Jt.Suspense=h,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return z.H.useMemoCache(q)}},Jt.cache=function(q){return function(){return q.apply(null,arguments)}},Jt.cloneElement=function(q,st,ft){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var rt=T({},q.props),mt=q.key,xt=void 0;if(st!=null)for(yt in st.ref!==void 0&&(xt=void 0),st.key!==void 0&&(mt=""+st.key),st)!H.call(st,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&st.ref===void 0||(rt[yt]=st[yt]);var yt=arguments.length-2;if(yt===1)rt.children=ft;else if(1<yt){for(var jt=Array(yt),bt=0;bt<yt;bt++)jt[bt]=arguments[bt+2];rt.children=jt}return A(q.type,mt,void 0,void 0,xt,rt)},Jt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},Jt.createElement=function(q,st,ft){var rt,mt={},xt=null;if(st!=null)for(rt in st.key!==void 0&&(xt=""+st.key),st)H.call(st,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(mt[rt]=st[rt]);var yt=arguments.length-2;if(yt===1)mt.children=ft;else if(1<yt){for(var jt=Array(yt),bt=0;bt<yt;bt++)jt[bt]=arguments[bt+2];mt.children=jt}if(q&&q.defaultProps)for(rt in yt=q.defaultProps,yt)mt[rt]===void 0&&(mt[rt]=yt[rt]);return A(q,xt,void 0,void 0,null,mt)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(q){return{$$typeof:u,render:q}},Jt.isValidElement=I,Jt.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:at}},Jt.memo=function(q,st){return{$$typeof:f,type:q,compare:st===void 0?null:st}},Jt.startTransition=function(q){var st=z.T,ft={};z.T=ft;try{var rt=q(),mt=z.S;mt!==null&&mt(ft,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Pt,wt)}catch(xt){wt(xt)}finally{z.T=st}},Jt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Jt.use=function(q){return z.H.use(q)},Jt.useActionState=function(q,st,ft){return z.H.useActionState(q,st,ft)},Jt.useCallback=function(q,st){return z.H.useCallback(q,st)},Jt.useContext=function(q){return z.H.useContext(q)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(q,st){return z.H.useDeferredValue(q,st)},Jt.useEffect=function(q,st,ft){var rt=z.H;if(typeof ft=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(q,st)},Jt.useId=function(){return z.H.useId()},Jt.useImperativeHandle=function(q,st,ft){return z.H.useImperativeHandle(q,st,ft)},Jt.useInsertionEffect=function(q,st){return z.H.useInsertionEffect(q,st)},Jt.useLayoutEffect=function(q,st){return z.H.useLayoutEffect(q,st)},Jt.useMemo=function(q,st){return z.H.useMemo(q,st)},Jt.useOptimistic=function(q,st){return z.H.useOptimistic(q,st)},Jt.useReducer=function(q,st,ft){return z.H.useReducer(q,st,ft)},Jt.useRef=function(q){return z.H.useRef(q)},Jt.useState=function(q){return z.H.useState(q)},Jt.useSyncExternalStore=function(q,st,ft){return z.H.useSyncExternalStore(q,st,ft)},Jt.useTransition=function(){return z.H.useTransition()},Jt.version="19.1.1",Jt}var D_;function ey(){return D_||(D_=1,Ig.exports=PC()),Ig.exports}var F=ey();const ur=nE(F);var jg={exports:{}},lu={},Dg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function LC(){return M_||(M_=1,function(n){function t(W,at){var wt=W.length;W.push(at);t:for(;0<wt;){var Pt=wt-1>>>1,q=W[Pt];if(0<i(q,at))W[Pt]=at,W[wt]=q,wt=Pt;else break t}}function e(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var at=W[0],wt=W.pop();if(wt!==at){W[0]=wt;t:for(var Pt=0,q=W.length,st=q>>>1;Pt<st;){var ft=2*(Pt+1)-1,rt=W[ft],mt=ft+1,xt=W[mt];if(0>i(rt,wt))mt<q&&0>i(xt,rt)?(W[Pt]=xt,W[mt]=wt,Pt=mt):(W[Pt]=rt,W[ft]=wt,Pt=ft);else if(mt<q&&0>i(xt,wt))W[Pt]=xt,W[mt]=wt,Pt=mt;else break t}}return at}function i(W,at){var wt=W.sortIndex-at.sortIndex;return wt!==0?wt:W.id-at.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,x=null,b=3,w=!1,T=!1,S=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var at=e(f);at!==null;){if(at.callback===null)s(f);else if(at.startTime<=W)s(f),at.sortIndex=at.expirationTime,t(h,at);else break;at=e(f)}}function z(W){if(S=!1,B(W),!T)if(e(h)!==null)T=!0,H||(H=!0,V());else{var at=e(f);at!==null&&dt(z,at.startTime-W)}}var H=!1,A=-1,R=5,I=-1;function M(){return E?!0:!(n.unstable_now()-I<R)}function U(){if(E=!1,H){var W=n.unstable_now();I=W;var at=!0;try{t:{T=!1,S&&(S=!1,j(A),A=-1),w=!0;var wt=b;try{e:{for(B(W),x=e(h);x!==null&&!(x.expirationTime>W&&M());){var Pt=x.callback;if(typeof Pt=="function"){x.callback=null,b=x.priorityLevel;var q=Pt(x.expirationTime<=W);if(W=n.unstable_now(),typeof q=="function"){x.callback=q,B(W),at=!0;break e}x===e(h)&&s(h),B(W)}else s(h);x=e(h)}if(x!==null)at=!0;else{var st=e(f);st!==null&&dt(z,st.startTime-W),at=!1}}break t}finally{x=null,b=wt,w=!1}at=void 0}}finally{at?V():H=!1}}}var V;if(typeof O=="function")V=function(){O(U)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,gt=L.port2;L.port1.onmessage=U,V=function(){gt.postMessage(null)}}else V=function(){k(U,0)};function dt(W,at){A=k(function(){W(n.unstable_now())},at)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var at=3;break;default:at=b}var wt=b;b=at;try{return W()}finally{b=wt}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(W,at){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var wt=b;b=W;try{return at()}finally{b=wt}},n.unstable_scheduleCallback=function(W,at,wt){var Pt=n.unstable_now();switch(typeof wt=="object"&&wt!==null?(wt=wt.delay,wt=typeof wt=="number"&&0<wt?Pt+wt:Pt):wt=Pt,W){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=wt+q,W={id:g++,callback:at,priorityLevel:W,startTime:wt,expirationTime:q,sortIndex:-1},wt>Pt?(W.sortIndex=wt,t(f,W),e(h)===null&&W===e(f)&&(S?(j(A),A=-1):S=!0,dt(z,wt-Pt))):(W.sortIndex=q,t(h,W),T||w||(T=!0,H||(H=!0,V()))),W},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(W){var at=b;return function(){var wt=b;b=at;try{return W.apply(this,arguments)}finally{b=wt}}}}(Mg)),Mg}var O_;function VC(){return O_||(O_=1,Dg.exports=LC()),Dg.exports}var Og={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function zC(){if(P_)return On;P_=1;var n=ey();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(h,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,On.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(h,f,null,g)},On.flushSync=function(h){var f=l.T,g=s.p;try{if(l.T=null,s.p=2,h)return h()}finally{l.T=f,s.p=g,s.d.f()}},On.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},On.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},On.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:w}):g==="script"&&s.d.X(h,{crossOrigin:x,integrity:b,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},On.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},On.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin);s.d.L(h,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},On.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=u(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},On.requestFormReset=function(h){s.d.r(h)},On.unstable_batchedUpdates=function(h,f){return h(f)},On.useFormState=function(h,f,g){return l.H.useFormState(h,f,g)},On.useFormStatus=function(){return l.H.useHostTransitionStatus()},On.version="19.1.1",On}var L_;function UC(){if(L_)return Og.exports;L_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Og.exports=zC(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function BC(){if(V_)return lu;V_=1;var n=VC(),t=ey(),e=UC();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(s(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(s(188));return o!==r?null:r}for(var c=r,d=o;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(d=y.return,d!==null){c=d;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return u(y),r;if(v===d)return u(y),o;v=v.sibling}throw Error(s(188))}if(c.return!==d.return)c=y,d=v;else{for(var C=!1,D=y.child;D;){if(D===c){C=!0,c=y,d=v;break}if(D===d){C=!0,d=y,c=v;break}D=D.sibling}if(!C){for(D=v.child;D;){if(D===c){C=!0,c=v,d=y;break}if(D===d){C=!0,d=v,c=y;break}D=D.sibling}if(!C)throw Error(s(189))}}if(c.alternate!==d)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function gt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case T:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case H:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case O:return(r.displayName||"Context")+".Provider";case j:return(r._context.displayName||"Context")+".Consumer";case B:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return o=r.displayName||null,o!==null?o:gt(r.type)||"Memo";case R:o=r._payload,r=r._init;try{return gt(r(o))}catch{}}return null}var dt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},Pt=[],q=-1;function st(r){return{current:r}}function ft(r){0>q||(r.current=Pt[q],Pt[q]=null,q--)}function rt(r,o){q++,Pt[q]=r.current,r.current=o}var mt=st(null),xt=st(null),yt=st(null),jt=st(null);function bt(r,o){switch(rt(yt,o),rt(xt,r),rt(mt,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?s_(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=s_(o),r=i_(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ft(mt),rt(mt,r)}function Kt(){ft(mt),ft(xt),ft(yt)}function qt(r){r.memoizedState!==null&&rt(jt,r);var o=mt.current,c=i_(o,r.type);o!==c&&(rt(xt,r),rt(mt,c))}function Dt(r){xt.current===r&&(ft(mt),ft(xt)),jt.current===r&&(ft(jt),nu._currentValue=wt)}var Qt=Object.prototype.hasOwnProperty,ce=n.unstable_scheduleCallback,G=n.unstable_cancelCallback,X=n.unstable_shouldYield,et=n.unstable_requestPaint,Nt=n.unstable_now,Mt=n.unstable_getCurrentPriorityLevel,Wt=n.unstable_ImmediatePriority,zt=n.unstable_UserBlockingPriority,_t=n.unstable_NormalPriority,ee=n.unstable_LowPriority,kt=n.unstable_IdlePriority,de=n.log,je=n.unstable_setDisableYieldValue,Xt=null,Ot=null;function $t(r){if(typeof de=="function"&&je(r),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Xt,r)}catch{}}var ne=Math.clz32?Math.clz32:ln,se=Math.log,Hn=Math.LN2;function ln(r){return r>>>=0,r===0?32:31-(se(r)/Hn|0)|0}var Be=256,Fe=4194304;function ue(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $n(r,o,c){var d=r.pendingLanes;if(d===0)return 0;var y=0,v=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var D=d&134217727;return D!==0?(d=D&~v,d!==0?y=ue(d):(C&=D,C!==0?y=ue(C):c||(c=D&~r,c!==0&&(y=ue(c))))):(D=d&~v,D!==0?y=ue(D):C!==0?y=ue(C):c||(c=d&~r,c!==0&&(y=ue(c)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:y}function Ft(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function bs(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var r=Be;return Be<<=1,(Be&4194048)===0&&(Be=256),r}function wr(){var r=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),r}function Bs(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function as(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Er(r,o,c,d,y,v){var C=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var D=r.entanglements,$=r.expirationTimes,Z=r.hiddenUpdates;for(c=C&~c;0<c;){var ot=31-ne(c),ut=1<<ot;D[ot]=0,$[ot]=-1;var tt=Z[ot];if(tt!==null)for(Z[ot]=null,ot=0;ot<tt.length;ot++){var nt=tt[ot];nt!==null&&(nt.lane&=-536870913)}c&=~ut}d!==0&&os(r,d,0),v!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=v&~(C&~o))}function os(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-ne(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|c&4194090}function Tr(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var d=31-ne(c),y=1<<d;y&o|r[d]&o&&(r[d]|=o),c&=~y}}function ti(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Di(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ei(){var r=at.p;return r!==0?r:(r=window.event,r===void 0?32:E_(r.type))}function Co(r,o){var c=at.p;try{return at.p=r,o()}finally{at.p=c}}var De=Math.random().toString(36).slice(2),Ye="__reactFiber$"+De,Ge="__reactProps$"+De,we="__reactContainer$"+De,gn="__reactEvents$"+De,Mi="__reactListeners$"+De,ls="__reactHandles$"+De,yh="__reactResources$"+De,Aa="__reactMarker$"+De;function Sr(r){delete r[Ye],delete r[Ge],delete r[gn],delete r[Mi],delete r[ls]}function Oi(r){var o=r[Ye];if(o)return o;for(var c=r.parentNode;c;){if(o=c[we]||c[Ye]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=l_(r);r!==null;){if(c=r[Ye])return c;r=l_(r)}return o}r=c,c=r.parentNode}return null}function ni(r){if(r=r[Ye]||r[we]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function si(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function Gn(r){var o=r[yh];return o||(o=r[yh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ke(r){r[Aa]=!0}var lc=new Set,ko={};function Fs(r,o){Pi(r,o),Pi(r+"Capture",o)}function Pi(r,o){for(ko[r]=o,r=0;r<o.length;r++)lc.add(o[r])}var xh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bh={},Ca={};function vh(r){return Qt.call(Ca,r)?!0:Qt.call(bh,r)?!1:xh.test(r)?Ca[r]=!0:(bh[r]=!0,!1)}function Nr(r,o,c){if(vh(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function ii(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Sn(r,o,c,d){if(d===null)r.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+d)}}var ka,_h;function Li(r){if(ka===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ka=o&&o[1]||"",_h=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+r+_h}var Ro=!1;function Io(r,o){if(!r||Ro)return"";Ro=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(nt){var tt=nt}Reflect.construct(r,[],ut)}else{try{ut.call()}catch(nt){tt=nt}r.call(ut.prototype)}}else{try{throw Error()}catch(nt){tt=nt}(ut=r())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(nt){if(nt&&tt&&typeof nt.stack=="string")return[nt.stack,tt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),C=v[0],D=v[1];if(C&&D){var $=C.split(`
`),Z=D.split(`
`);for(y=d=0;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(d===$.length||y===Z.length)for(d=$.length-1,y=Z.length-1;1<=d&&0<=y&&$[d]!==Z[y];)y--;for(;1<=d&&0<=y;d--,y--)if($[d]!==Z[y]){if(d!==1||y!==1)do if(d--,y--,0>y||$[d]!==Z[y]){var ot=`
`+$[d].replace(" at new "," at ");return r.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",r.displayName)),ot}while(1<=d&&0<=y);break}}}finally{Ro=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Li(c):""}function cc(r){switch(r.tag){case 26:case 27:case 5:return Li(r.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return Io(r.type,!1);case 11:return Io(r.type.render,!1);case 1:return Io(r.type,!0);case 31:return Li("Activity");default:return""}}function jo(r){try{var o="";do o+=cc(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function qn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function uc(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Mm(r){var o=uc(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){d=""+C,v.call(this,C)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Do(r){r._valueTracker||(r._valueTracker=Mm(r))}function hc(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return r&&(d=uc(r)?r.checked?"true":"false":r.value),r=d,r!==c?(o.setValue(r),!0):!1}function Ra(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Om=/[\n"\\]/g;function en(r){return r.replace(Om,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function cs(r,o,c,d,y,v,C,D){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),o!=null?C==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+qn(o)):r.value!==""+qn(o)&&(r.value=""+qn(o)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),o!=null?Ar(r,C,qn(o)):c!=null?Ar(r,C,qn(c)):d!=null&&r.removeAttribute("value"),y==null&&v!=null&&(r.defaultChecked=!!v),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+qn(D):r.removeAttribute("name")}function Ia(r,o,c,d,y,v,C,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;c=c!=null?""+qn(c):"",o=o!=null?""+qn(o):c,D||o===r.value||(r.value=o),r.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=D?r.checked:!!d,r.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C)}function Ar(r,o,c){o==="number"&&Ra(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Vi(r,o,c,d){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&d&&(r[c].defaultSelected=!0)}else{for(c=""+qn(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,d&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function Ne(r,o,c){if(o!=null&&(o=""+qn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+qn(c):""}function ja(r,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(s(92));if(dt(d)){if(1<d.length)throw Error(s(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=qn(o),r.defaultValue=c,d=r.textContent,d===c&&d!==""&&d!==null&&(r.value=d)}function vs(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var Da=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wh(r,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,c):typeof c!="number"||c===0||Da.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function dc(r,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&c[y]!==d&&wh(r,y,d)}else for(var v in o)o.hasOwnProperty(v)&&wh(r,v,o[v])}function fc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(r){return Lm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var zi=null;function _s(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ui=null,Bi=null;function mc(r){var o=ni(r);if(o&&(r=o.stateNode)){var c=r[Ge]||null;t:switch(r=o.stateNode,o.type){case"input":if(cs(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+en(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==r&&d.form===r.form){var y=d[Ge]||null;if(!y)throw Error(s(90));cs(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===r.form&&hc(d)}break t;case"textarea":Ne(r,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Vi(r,!!c.multiple,o,!1)}}}var ri=!1;function Eh(r,o,c){if(ri)return r(o,c);ri=!0;try{var d=r(o);return d}finally{if(ri=!1,(Ui!==null||Bi!==null)&&(gd(),Ui&&(o=Ui,r=Bi,Bi=Ui=null,mc(o),r)))for(o=0;o<r.length;o++)mc(r[o])}}function Ma(r,o){var c=r.stateNode;if(c===null)return null;var d=c[Ge]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=!1;if(Hs)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){ws=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{ws=!1}var ai=null,Cr=null,Fi=null;function pc(){if(Fi)return Fi;var r,o=Cr,c=o.length,d,y="value"in ai?ai.value:ai.textContent,v=y.length;for(r=0;r<c&&o[r]===y[r];r++);var C=c-r;for(d=1;d<=C&&o[c-d]===y[v-d];d++);return Fi=y.slice(r,1<d?1-d:void 0)}function oi(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function li(){return!0}function gc(){return!1}function yn(r){function o(c,d,y,v,C){this._reactName=c,this._targetInst=y,this.type=d,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(c=r[D],this[D]=c?c(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?li:gc,this.isPropagationStopped=gc,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),o}var ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=yn(ve),Pa=g({},ve,{view:0,detail:0}),Th=yn(Pa),Po,Lo,ci,La=g({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(Po=r.screenX-ci.screenX,Lo=r.screenY-ci.screenY):Lo=Po=0,ci=r),Po)},movementY:function(r){return"movementY"in r?r.movementY:Lo}}),Es=yn(La),Sh=g({},La,{dataTransfer:0}),Vm=yn(Sh),Va=g({},Pa,{relatedTarget:0}),Vo=yn(Va),yc=g({},ve,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=yn(yc),Nh=g({},ve,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Uo=yn(Nh),zm=g({},ve,{data:0}),xc=yn(zm),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Ch[r])?!!o[r]:!1}function Ua(){return bc}var kh=g({},Pa,{key:function(r){if(r.key){var o=za[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=oi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ah[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(r){return r.type==="keypress"?oi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Bo=yn(kh),Rh=g({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=yn(Rh),Hi=g({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),Ih=yn(Hi),jh=g({},ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=yn(jh),Mh=g({},La,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Fo=yn(Mh),Wn=g({},ve,{newState:0,oldState:0}),Oh=yn(Wn),Ph=[9,13,27,32],ui=Hs&&"CompositionEvent"in window,p=null;Hs&&"documentMode"in document&&(p=document.documentMode);var _=Hs&&"TextEvent"in window&&!p,N=Hs&&(!ui||p&&8<p&&11>=p),P=" ",Q=!1;function it(r,o){switch(r){case"keyup":return Ph.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fe=!1;function cn(r,o){switch(r){case"compositionend":return vt(o);case"keypress":return o.which!==32?null:(Q=!0,P);case"textInput":return r=o.data,r===P&&Q?null:r;default:return null}}function me(r,o){if(fe)return r==="compositionend"||!ui&&it(r,o)?(r=pc(),Fi=Cr=ai=null,fe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return N&&o.locale!=="ko"?null:o.data;default:return null}}var xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!xn[r.type]:o==="textarea"}function $i(r,o,c,d){Ui?Bi?Bi.push(d):Bi=[d]:Ui=d,o=wd(o,"onChange"),0<o.length&&(c=new Oo("onChange","change",null,c,d),r.push({event:c,listeners:o}))}var Nn=null,hi=null;function _c(r){Jv(r,0)}function Lh(r){var o=si(r);if(hc(o))return r}function bx(r,o){if(r==="change")return o}var vx=!1;if(Hs){var Um;if(Hs){var Bm="oninput"in document;if(!Bm){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),Bm=typeof _x.oninput=="function"}Um=Bm}else Um=!1;vx=Um&&(!document.documentMode||9<document.documentMode)}function wx(){Nn&&(Nn.detachEvent("onpropertychange",Ex),hi=Nn=null)}function Ex(r){if(r.propertyName==="value"&&Lh(hi)){var o=[];$i(o,hi,r,_s(r)),Eh(_c,o)}}function uA(r,o,c){r==="focusin"?(wx(),Nn=o,hi=c,Nn.attachEvent("onpropertychange",Ex)):r==="focusout"&&wx()}function hA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lh(hi)}function dA(r,o){if(r==="click")return Lh(o)}function fA(r,o){if(r==="input"||r==="change")return Lh(o)}function mA(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var us=typeof Object.is=="function"?Object.is:mA;function wc(r,o){if(us(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var y=c[d];if(!Qt.call(o,y)||!us(r[y],o[y]))return!1}return!0}function Tx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Sx(r,o){var c=Tx(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=o&&d>=o)return{node:c,offset:o-r};r=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Tx(c)}}function Nx(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Nx(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Ax(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Ra(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Ra(r.document)}return o}function Fm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var pA=Hs&&"documentMode"in document&&11>=document.documentMode,Ho=null,Hm=null,Ec=null,$m=!1;function Cx(r,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;$m||Ho==null||Ho!==Ra(d)||(d=Ho,"selectionStart"in d&&Fm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ec&&wc(Ec,d)||(Ec=d,d=wd(Hm,"onSelect"),0<d.length&&(o=new Oo("onSelect","select",null,o,c),r.push({event:o,listeners:d}),o.target=Ho)))}function Ba(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var $o={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},Gm={},kx={};Hs&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Fa(r){if(Gm[r])return Gm[r];if(!$o[r])return r;var o=$o[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in kx)return Gm[r]=o[c];return r}var Rx=Fa("animationend"),Ix=Fa("animationiteration"),jx=Fa("animationstart"),gA=Fa("transitionrun"),yA=Fa("transitionstart"),xA=Fa("transitioncancel"),Dx=Fa("transitionend"),Mx=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function $s(r,o){Mx.set(r,o),Fs(o,[r])}var Ox=new WeakMap;function Ts(r,o){if(typeof r=="object"&&r!==null){var c=Ox.get(r);return c!==void 0?c:(o={value:r,source:o,stack:jo(o)},Ox.set(r,o),o)}return{value:r,source:o,stack:jo(o)}}var Ss=[],Go=0,Wm=0;function Vh(){for(var r=Go,o=Wm=Go=0;o<r;){var c=Ss[o];Ss[o++]=null;var d=Ss[o];Ss[o++]=null;var y=Ss[o];Ss[o++]=null;var v=Ss[o];if(Ss[o++]=null,d!==null&&y!==null){var C=d.pending;C===null?y.next=y:(y.next=C.next,C.next=y),d.pending=y}v!==0&&Px(c,y,v)}}function zh(r,o,c,d){Ss[Go++]=r,Ss[Go++]=o,Ss[Go++]=c,Ss[Go++]=d,Wm|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Ym(r,o,c,d){return zh(r,o,c,d),Uh(r)}function qo(r,o){return zh(r,null,null,o),Uh(r)}function Px(r,o,c){r.lanes|=c;var d=r.alternate;d!==null&&(d.lanes|=c);for(var y=!1,v=r.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(y=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,y&&o!==null&&(y=31-ne(c),r=v.hiddenUpdates,d=r[y],d===null?r[y]=[o]:d.push(o),o.lane=c|536870912),v):null}function Uh(r){if(50<Yc)throw Yc=0,tg=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Wo={};function bA(r,o,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(r,o,c,d){return new bA(r,o,c,d)}function Km(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Gi(r,o){var c=r.alternate;return c===null?(c=hs(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Lx(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Bh(r,o,c,d,y,v){var C=0;if(d=r,typeof r=="function")Km(r)&&(C=1);else if(typeof r=="string")C=_C(r,c,mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=hs(31,c,o,y),r.elementType=I,r.lanes=v,r;case T:return Ha(c.children,y,v,o);case S:C=8,y|=24;break;case E:return r=hs(12,c,o,y|2),r.elementType=E,r.lanes=v,r;case z:return r=hs(13,c,o,y),r.elementType=z,r.lanes=v,r;case H:return r=hs(19,c,o,y),r.elementType=H,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case O:C=10;break t;case j:C=9;break t;case B:C=11;break t;case A:C=14;break t;case R:C=16,d=null;break t}C=29,c=Error(s(130,r===null?"null":typeof r,"")),d=null}return o=hs(C,c,o,y),o.elementType=r,o.type=d,o.lanes=v,o}function Ha(r,o,c,d){return r=hs(7,r,d,o),r.lanes=c,r}function Xm(r,o,c){return r=hs(6,r,null,o),r.lanes=c,r}function Qm(r,o,c){return o=hs(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Yo=[],Ko=0,Fh=null,Hh=0,Ns=[],As=0,$a=null,qi=1,Wi="";function Ga(r,o){Yo[Ko++]=Hh,Yo[Ko++]=Fh,Fh=r,Hh=o}function Vx(r,o,c){Ns[As++]=qi,Ns[As++]=Wi,Ns[As++]=$a,$a=r;var d=qi;r=Wi;var y=32-ne(d)-1;d&=~(1<<y),c+=1;var v=32-ne(o)+y;if(30<v){var C=y-y%5;v=(d&(1<<C)-1).toString(32),d>>=C,y-=C,qi=1<<32-ne(o)+y|c<<y|d,Wi=v+r}else qi=1<<v|c<<y|d,Wi=r}function Jm(r){r.return!==null&&(Ga(r,1),Vx(r,1,0))}function Zm(r){for(;r===Fh;)Fh=Yo[--Ko],Yo[Ko]=null,Hh=Yo[--Ko],Yo[Ko]=null;for(;r===$a;)$a=Ns[--As],Ns[As]=null,Wi=Ns[--As],Ns[As]=null,qi=Ns[--As],Ns[As]=null}var Yn=null,qe=null,be=!1,qa=null,di=!1,tp=Error(s(519));function Wa(r){var o=Error(s(418,""));throw Nc(Ts(o,r)),tp}function zx(r){var o=r.stateNode,c=r.type,d=r.memoizedProps;switch(o[Ye]=r,o[Ge]=d,c){case"dialog":re("cancel",o),re("close",o);break;case"iframe":case"object":case"embed":re("load",o);break;case"video":case"audio":for(c=0;c<Xc.length;c++)re(Xc[c],o);break;case"source":re("error",o);break;case"img":case"image":case"link":re("error",o),re("load",o);break;case"details":re("toggle",o);break;case"input":re("invalid",o),Ia(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Do(o);break;case"select":re("invalid",o);break;case"textarea":re("invalid",o),ja(o,d.value,d.defaultValue,d.children),Do(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||n_(o.textContent,c)?(d.popover!=null&&(re("beforetoggle",o),re("toggle",o)),d.onScroll!=null&&re("scroll",o),d.onScrollEnd!=null&&re("scrollend",o),d.onClick!=null&&(o.onclick=Ed),o=!0):o=!1,o||Wa(r)}function Ux(r){for(Yn=r.return;Yn;)switch(Yn.tag){case 5:case 13:di=!1;return;case 27:case 3:di=!0;return;default:Yn=Yn.return}}function Tc(r){if(r!==Yn)return!1;if(!be)return Ux(r),be=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||gg(r.type,r.memoizedProps)),c=!c),c&&qe&&Wa(r),Ux(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));t:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){qe=qs(r.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}qe=null}}else o===27?(o=qe,$r(r.type)?(r=vg,vg=null,qe=r):qe=o):qe=Yn?qs(r.stateNode.nextSibling):null;return!0}function Sc(){qe=Yn=null,be=!1}function Bx(){var r=qa;return r!==null&&(Zn===null?Zn=r:Zn.push.apply(Zn,r),qa=null),r}function Nc(r){qa===null?qa=[r]:qa.push(r)}var ep=st(null),Ya=null,Yi=null;function kr(r,o,c){rt(ep,o._currentValue),o._currentValue=c}function Ki(r){r._currentValue=ep.current,ft(ep)}function np(r,o,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===c)break;r=r.return}}function sp(r,o,c,d){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var v=y.dependencies;if(v!==null){var C=y.child;v=v.firstContext;t:for(;v!==null;){var D=v;v=y;for(var $=0;$<o.length;$++)if(D.context===o[$]){v.lanes|=c,D=v.alternate,D!==null&&(D.lanes|=c),np(v.return,c,r),d||(C=null);break t}v=D.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(s(341));C.lanes|=c,v=C.alternate,v!==null&&(v.lanes|=c),np(C,c,r),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===r){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Ac(r,o,c,d){r=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var D=y.type;us(y.pendingProps.value,C.value)||(r!==null?r.push(D):r=[D])}}else if(y===jt.current){if(C=y.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(nu):r=[nu])}y=y.return}r!==null&&sp(o,r,c,d),o.flags|=262144}function $h(r){for(r=r.firstContext;r!==null;){if(!us(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ka(r){Ya=r,Yi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Mn(r){return Fx(Ya,r)}function Gh(r,o){return Ya===null&&Ka(r),Fx(r,o)}function Fx(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Yi===null){if(r===null)throw Error(s(308));Yi=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Yi=Yi.next=o;return c}var vA=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},_A=n.unstable_scheduleCallback,wA=n.unstable_NormalPriority,hn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new vA,data:new Map,refCount:0}}function Cc(r){r.refCount--,r.refCount===0&&_A(wA,function(){r.controller.abort()})}var kc=null,rp=0,Xo=0,Qo=null;function EA(r,o){if(kc===null){var c=kc=[];rp=0,Xo=og(),Qo={status:"pending",value:void 0,then:function(d){c.push(d)}}}return rp++,o.then(Hx,Hx),o}function Hx(){if(--rp===0&&kc!==null){Qo!==null&&(Qo.status="fulfilled");var r=kc;kc=null,Xo=0,Qo=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function TA(r,o){var c=[],d={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),d}var $x=W.S;W.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&EA(r,o),$x!==null&&$x(r,o)};var Xa=st(null);function ap(){var r=Xa.current;return r!==null?r:Me.pooledCache}function qh(r,o){o===null?rt(Xa,Xa.current):rt(Xa,o.pool)}function Gx(){var r=ap();return r===null?null:{parent:hn._currentValue,pool:r}}var Rc=Error(s(460)),qx=Error(s(474)),Wh=Error(s(542)),op={then:function(){}};function Wx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yh(){}function Yx(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Yh,Yh),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Xx(r),r;default:if(typeof o.status=="string")o.then(Yh,Yh);else{if(r=Me,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,Xx(r),r}throw Ic=o,Rc}}var Ic=null;function Kx(){if(Ic===null)throw Error(s(459));var r=Ic;return Ic=null,r}function Xx(r){if(r===Rc||r===Wh)throw Error(s(483))}var Rr=!1;function lp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ir(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function jr(r,o,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ee&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=Uh(r),Px(r,null,c),o}return zh(r,d,o,c),Uh(r)}function jc(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,Tr(r,c)}}function up(r,o){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=C:v=v.next=C,c=c.next}while(c!==null);v===null?y=v=o:v=v.next=o}else y=v=o;c={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var hp=!1;function Dc(){if(hp){var r=Qo;if(r!==null)throw r}}function Mc(r,o,c,d){hp=!1;var y=r.updateQueue;Rr=!1;var v=y.firstBaseUpdate,C=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var $=D,Z=$.next;$.next=null,C===null?v=Z:C.next=Z,C=$;var ot=r.alternate;ot!==null&&(ot=ot.updateQueue,D=ot.lastBaseUpdate,D!==C&&(D===null?ot.firstBaseUpdate=Z:D.next=Z,ot.lastBaseUpdate=$))}if(v!==null){var ut=y.baseState;C=0,ot=Z=$=null,D=v;do{var tt=D.lane&-536870913,nt=tt!==D.lane;if(nt?(pe&tt)===tt:(d&tt)===tt){tt!==0&&tt===Xo&&(hp=!0),ot!==null&&(ot=ot.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var Ht=r,Lt=D;tt=o;var ke=c;switch(Lt.tag){case 1:if(Ht=Lt.payload,typeof Ht=="function"){ut=Ht.call(ke,ut,tt);break t}ut=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Lt.payload,tt=typeof Ht=="function"?Ht.call(ke,ut,tt):Ht,tt==null)break t;ut=g({},ut,tt);break t;case 2:Rr=!0}}tt=D.callback,tt!==null&&(r.flags|=64,nt&&(r.flags|=8192),nt=y.callbacks,nt===null?y.callbacks=[tt]:nt.push(tt))}else nt={lane:tt,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ot===null?(Z=ot=nt,$=ut):ot=ot.next=nt,C|=tt;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;nt=D,D=nt.next,nt.next=null,y.lastBaseUpdate=nt,y.shared.pending=null}}while(!0);ot===null&&($=ut),y.baseState=$,y.firstBaseUpdate=Z,y.lastBaseUpdate=ot,v===null&&(y.shared.lanes=0),Ur|=C,r.lanes=C,r.memoizedState=ut}}function Qx(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function Jx(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Qx(c[r],o)}var Jo=st(null),Kh=st(0);function Zx(r,o){r=nr,rt(Kh,r),rt(Jo,o),nr=r|o.baseLanes}function dp(){rt(Kh,nr),rt(Jo,Jo.current)}function fp(){nr=Kh.current,ft(Jo),ft(Kh)}var Dr=0,Zt=null,Ae=null,nn=null,Xh=!1,Zo=!1,Qa=!1,Qh=0,Oc=0,tl=null,SA=0;function Xe(){throw Error(s(321))}function mp(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!us(r[c],o[c]))return!1;return!0}function pp(r,o,c,d,y,v){return Dr=v,Zt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=r===null||r.memoizedState===null?Pb:Lb,Qa=!1,v=c(d,y),Qa=!1,Zo&&(v=eb(o,c,d,y)),tb(r),v}function tb(r){W.H=sd;var o=Ae!==null&&Ae.next!==null;if(Dr=0,nn=Ae=Zt=null,Xh=!1,Oc=0,tl=null,o)throw Error(s(300));r===null||bn||(r=r.dependencies,r!==null&&$h(r)&&(bn=!0))}function eb(r,o,c,d){Zt=r;var y=0;do{if(Zo&&(tl=null),Oc=0,Zo=!1,25<=y)throw Error(s(301));if(y+=1,nn=Ae=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=jA,v=o(c,d)}while(Zo);return v}function NA(){var r=W.H,o=r.useState()[0];return o=typeof o.then=="function"?Pc(o):o,r=r.useState()[0],(Ae!==null?Ae.memoizedState:null)!==r&&(Zt.flags|=1024),o}function gp(){var r=Qh!==0;return Qh=0,r}function yp(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function xp(r){if(Xh){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Xh=!1}Dr=0,nn=Ae=Zt=null,Zo=!1,Oc=Qh=0,tl=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Zt.memoizedState=nn=r:nn=nn.next=r,nn}function sn(){if(Ae===null){var r=Zt.alternate;r=r!==null?r.memoizedState:null}else r=Ae.next;var o=nn===null?Zt.memoizedState:nn.next;if(o!==null)nn=o,Ae=r;else{if(r===null)throw Zt.alternate===null?Error(s(467)):Error(s(310));Ae=r,r={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},nn===null?Zt.memoizedState=nn=r:nn=nn.next=r}return nn}function bp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(r){var o=Oc;return Oc+=1,tl===null&&(tl=[]),r=Yx(tl,r,o),o=Zt,(nn===null?o.memoizedState:nn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?Pb:Lb),r}function Jh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pc(r);if(r.$$typeof===O)return Mn(r)}throw Error(s(438,String(r)))}function vp(r){var o=null,c=Zt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=Zt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=bp(),Zt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),d=0;d<r;d++)c[d]=M;return o.index++,c}function Xi(r,o){return typeof o=="function"?o(r):o}function Zh(r){var o=sn();return _p(o,Ae,r)}function _p(r,o,c){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=c;var y=r.baseQueue,v=d.pending;if(v!==null){if(y!==null){var C=y.next;y.next=v.next,v.next=C}o.baseQueue=y=v,d.pending=null}if(v=r.baseState,y===null)r.memoizedState=v;else{o=y.next;var D=C=null,$=null,Z=o,ot=!1;do{var ut=Z.lane&-536870913;if(ut!==Z.lane?(pe&ut)===ut:(Dr&ut)===ut){var tt=Z.revertLane;if(tt===0)$!==null&&($=$.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ut===Xo&&(ot=!0);else if((Dr&tt)===tt){Z=Z.next,tt===Xo&&(ot=!0);continue}else ut={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(D=$=ut,C=v):$=$.next=ut,Zt.lanes|=tt,Ur|=tt;ut=Z.action,Qa&&c(v,ut),v=Z.hasEagerState?Z.eagerState:c(v,ut)}else tt={lane:ut,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},$===null?(D=$=tt,C=v):$=$.next=tt,Zt.lanes|=ut,Ur|=ut;Z=Z.next}while(Z!==null&&Z!==o);if($===null?C=v:$.next=D,!us(v,r.memoizedState)&&(bn=!0,ot&&(c=Qo,c!==null)))throw c;r.memoizedState=v,r.baseState=C,r.baseQueue=$,d.lastRenderedState=v}return y===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function wp(r){var o=sn(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var d=c.dispatch,y=c.pending,v=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do v=r(v,C.action),C=C.next;while(C!==y);us(v,o.memoizedState)||(bn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,d]}function nb(r,o,c){var d=Zt,y=sn(),v=be;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=o();var C=!us((Ae||y).memoizedState,c);C&&(y.memoizedState=c,bn=!0),y=y.queue;var D=rb.bind(null,d,y,r);if(Lc(2048,8,D,[r]),y.getSnapshot!==o||C||nn!==null&&nn.memoizedState.tag&1){if(d.flags|=2048,el(9,td(),ib.bind(null,d,y,c,o),null),Me===null)throw Error(s(349));v||(Dr&124)!==0||sb(d,o,c)}return c}function sb(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Zt.updateQueue,o===null?(o=bp(),Zt.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function ib(r,o,c,d){o.value=c,o.getSnapshot=d,ab(o)&&ob(r)}function rb(r,o,c){return c(function(){ab(o)&&ob(r)})}function ab(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!us(r,c)}catch{return!0}}function ob(r){var o=qo(r,2);o!==null&&gs(o,r,2)}function Ep(r){var o=Qn();if(typeof r=="function"){var c=r;if(r=c(),Qa){$t(!0);try{c()}finally{$t(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},o}function lb(r,o,c,d){return r.baseState=c,_p(r,Ae,typeof d=="function"?d:Xi)}function AA(r,o,c,d,y){if(nd(r))throw Error(s(485));if(r=o.action,r!==null){var v={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};W.T!==null?c(!0):v.isTransition=!1,d(v),c=o.pending,c===null?(v.next=o.pending=v,cb(o,v)):(v.next=c.next,o.pending=c.next=v)}}function cb(r,o){var c=o.action,d=o.payload,y=r.state;if(o.isTransition){var v=W.T,C={};W.T=C;try{var D=c(y,d),$=W.S;$!==null&&$(C,D),ub(r,o,D)}catch(Z){Tp(r,o,Z)}finally{W.T=v}}else try{v=c(y,d),ub(r,o,v)}catch(Z){Tp(r,o,Z)}}function ub(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){hb(r,o,d)},function(d){return Tp(r,o,d)}):hb(r,o,c)}function hb(r,o,c){o.status="fulfilled",o.value=c,db(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,cb(r,c)))}function Tp(r,o,c){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,db(o),o=o.next;while(o!==d)}r.action=null}function db(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function fb(r,o){return o}function mb(r,o){if(be){var c=Me.formState;if(c!==null){t:{var d=Zt;if(be){if(qe){e:{for(var y=qe,v=di;y.nodeType!==8;){if(!v){y=null;break e}if(y=qs(y.nextSibling),y===null){y=null;break e}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){qe=qs(y.nextSibling),d=y.data==="F!";break t}}Wa(d)}d=!1}d&&(o=c[0])}}return c=Qn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fb,lastRenderedState:o},c.queue=d,c=Db.bind(null,Zt,d),d.dispatch=c,d=Ep(!1),v=kp.bind(null,Zt,!1,d.queue),d=Qn(),y={state:o,dispatch:null,action:r,pending:null},d.queue=y,c=AA.bind(null,Zt,y,v,c),y.dispatch=c,d.memoizedState=r,[o,c,!1]}function pb(r){var o=sn();return gb(o,Ae,r)}function gb(r,o,c){if(o=_p(r,o,fb)[0],r=Zh(Xi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Pc(o)}catch(C){throw C===Rc?Wh:C}else d=o;o=sn();var y=o.queue,v=y.dispatch;return c!==o.memoizedState&&(Zt.flags|=2048,el(9,td(),CA.bind(null,y,c),null)),[d,v,r]}function CA(r,o){r.action=o}function yb(r){var o=sn(),c=Ae;if(c!==null)return gb(o,c,r);sn(),o=o.memoizedState,c=sn();var d=c.queue.dispatch;return c.memoizedState=r,[o,d,!1]}function el(r,o,c,d){return r={tag:r,create:c,deps:d,inst:o,next:null},o=Zt.updateQueue,o===null&&(o=bp(),Zt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,o.lastEffect=r),r}function td(){return{destroy:void 0,resource:void 0}}function xb(){return sn().memoizedState}function ed(r,o,c,d){var y=Qn();d=d===void 0?null:d,Zt.flags|=r,y.memoizedState=el(1|o,td(),c,d)}function Lc(r,o,c,d){var y=sn();d=d===void 0?null:d;var v=y.memoizedState.inst;Ae!==null&&d!==null&&mp(d,Ae.memoizedState.deps)?y.memoizedState=el(o,v,c,d):(Zt.flags|=r,y.memoizedState=el(1|o,v,c,d))}function bb(r,o){ed(8390656,8,r,o)}function vb(r,o){Lc(2048,8,r,o)}function _b(r,o){return Lc(4,2,r,o)}function wb(r,o){return Lc(4,4,r,o)}function Eb(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Tb(r,o,c){c=c!=null?c.concat([r]):null,Lc(4,4,Eb.bind(null,o,r),c)}function Sp(){}function Sb(r,o){var c=sn();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&mp(o,d[1])?d[0]:(c.memoizedState=[r,o],r)}function Nb(r,o){var c=sn();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&mp(o,d[1]))return d[0];if(d=r(),Qa){$t(!0);try{r()}finally{$t(!1)}}return c.memoizedState=[d,o],d}function Np(r,o,c){return c===void 0||(Dr&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=kv(),Zt.lanes|=r,Ur|=r,c)}function Ab(r,o,c,d){return us(c,o)?c:Jo.current!==null?(r=Np(r,c,d),us(r,o)||(bn=!0),r):(Dr&42)===0?(bn=!0,r.memoizedState=c):(r=kv(),Zt.lanes|=r,Ur|=r,o)}function Cb(r,o,c,d,y){var v=at.p;at.p=v!==0&&8>v?v:8;var C=W.T,D={};W.T=D,kp(r,!1,o,c);try{var $=y(),Z=W.S;if(Z!==null&&Z(D,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ot=TA($,d);Vc(r,o,ot,ps(r))}else Vc(r,o,d,ps(r))}catch(ut){Vc(r,o,{then:function(){},status:"rejected",reason:ut},ps())}finally{at.p=v,W.T=C}}function kA(){}function Ap(r,o,c,d){if(r.tag!==5)throw Error(s(476));var y=kb(r).queue;Cb(r,y,o,wt,c===null?kA:function(){return Rb(r),c(d)})}function kb(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:wt},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Rb(r){var o=kb(r).next.queue;Vc(r,o,{},ps())}function Cp(){return Mn(nu)}function Ib(){return sn().memoizedState}function jb(){return sn().memoizedState}function RA(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=ps();r=Ir(c);var d=jr(o,r,c);d!==null&&(gs(d,o,c),jc(d,o,c)),o={cache:ip()},r.payload=o;return}o=o.return}}function IA(r,o,c){var d=ps();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},nd(r)?Mb(o,c):(c=Ym(r,o,c,d),c!==null&&(gs(c,r,d),Ob(c,o,d)))}function Db(r,o,c){var d=ps();Vc(r,o,c,d)}function Vc(r,o,c,d){var y={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(nd(r))Mb(o,y);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var C=o.lastRenderedState,D=v(C,c);if(y.hasEagerState=!0,y.eagerState=D,us(D,C))return zh(r,o,y,0),Me===null&&Vh(),!1}catch{}finally{}if(c=Ym(r,o,y,d),c!==null)return gs(c,r,d),Ob(c,o,d),!0}return!1}function kp(r,o,c,d){if(d={lane:2,revertLane:og(),action:d,hasEagerState:!1,eagerState:null,next:null},nd(r)){if(o)throw Error(s(479))}else o=Ym(r,c,d,2),o!==null&&gs(o,r,2)}function nd(r){var o=r.alternate;return r===Zt||o!==null&&o===Zt}function Mb(r,o){Zo=Xh=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function Ob(r,o,c){if((c&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,c|=d,o.lanes=c,Tr(r,c)}}var sd={readContext:Mn,use:Jh,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},Pb={readContext:Mn,use:Jh,useCallback:function(r,o){return Qn().memoizedState=[r,o===void 0?null:o],r},useContext:Mn,useEffect:bb,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,ed(4194308,4,Eb.bind(null,o,r),c)},useLayoutEffect:function(r,o){return ed(4194308,4,r,o)},useInsertionEffect:function(r,o){ed(4,2,r,o)},useMemo:function(r,o){var c=Qn();o=o===void 0?null:o;var d=r();if(Qa){$t(!0);try{r()}finally{$t(!1)}}return c.memoizedState=[d,o],d},useReducer:function(r,o,c){var d=Qn();if(c!==void 0){var y=c(o);if(Qa){$t(!0);try{c(o)}finally{$t(!1)}}}else y=o;return d.memoizedState=d.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},d.queue=r,r=r.dispatch=IA.bind(null,Zt,r),[d.memoizedState,r]},useRef:function(r){var o=Qn();return r={current:r},o.memoizedState=r},useState:function(r){r=Ep(r);var o=r.queue,c=Db.bind(null,Zt,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Sp,useDeferredValue:function(r,o){var c=Qn();return Np(c,r,o)},useTransition:function(){var r=Ep(!1);return r=Cb.bind(null,Zt,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var d=Zt,y=Qn();if(be){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),Me===null)throw Error(s(349));(pe&124)!==0||sb(d,o,c)}y.memoizedState=c;var v={value:c,getSnapshot:o};return y.queue=v,bb(rb.bind(null,d,v,r),[r]),d.flags|=2048,el(9,td(),ib.bind(null,d,v,c,o),null),c},useId:function(){var r=Qn(),o=Me.identifierPrefix;if(be){var c=Wi,d=qi;c=(d&~(1<<32-ne(d)-1)).toString(32)+c,o=""+o+"R"+c,c=Qh++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=SA++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:Cp,useFormState:mb,useActionState:mb,useOptimistic:function(r){var o=Qn();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=kp.bind(null,Zt,!0,c),c.dispatch=o,[r,o]},useMemoCache:vp,useCacheRefresh:function(){return Qn().memoizedState=RA.bind(null,Zt)}},Lb={readContext:Mn,use:Jh,useCallback:Sb,useContext:Mn,useEffect:vb,useImperativeHandle:Tb,useInsertionEffect:_b,useLayoutEffect:wb,useMemo:Nb,useReducer:Zh,useRef:xb,useState:function(){return Zh(Xi)},useDebugValue:Sp,useDeferredValue:function(r,o){var c=sn();return Ab(c,Ae.memoizedState,r,o)},useTransition:function(){var r=Zh(Xi)[0],o=sn().memoizedState;return[typeof r=="boolean"?r:Pc(r),o]},useSyncExternalStore:nb,useId:Ib,useHostTransitionStatus:Cp,useFormState:pb,useActionState:pb,useOptimistic:function(r,o){var c=sn();return lb(c,Ae,r,o)},useMemoCache:vp,useCacheRefresh:jb},jA={readContext:Mn,use:Jh,useCallback:Sb,useContext:Mn,useEffect:vb,useImperativeHandle:Tb,useInsertionEffect:_b,useLayoutEffect:wb,useMemo:Nb,useReducer:wp,useRef:xb,useState:function(){return wp(Xi)},useDebugValue:Sp,useDeferredValue:function(r,o){var c=sn();return Ae===null?Np(c,r,o):Ab(c,Ae.memoizedState,r,o)},useTransition:function(){var r=wp(Xi)[0],o=sn().memoizedState;return[typeof r=="boolean"?r:Pc(r),o]},useSyncExternalStore:nb,useId:Ib,useHostTransitionStatus:Cp,useFormState:yb,useActionState:yb,useOptimistic:function(r,o){var c=sn();return Ae!==null?lb(c,Ae,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:vp,useCacheRefresh:jb},nl=null,zc=0;function id(r){var o=zc;return zc+=1,nl===null&&(nl=[]),Yx(nl,r,o)}function Uc(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function rd(r,o){throw o.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Vb(r){var o=r._init;return o(r._payload)}function zb(r){function o(K,Y){if(r){var J=K.deletions;J===null?(K.deletions=[Y],K.flags|=16):J.push(Y)}}function c(K,Y){if(!r)return null;for(;Y!==null;)o(K,Y),Y=Y.sibling;return null}function d(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function y(K,Y){return K=Gi(K,Y),K.index=0,K.sibling=null,K}function v(K,Y,J){return K.index=J,r?(J=K.alternate,J!==null?(J=J.index,J<Y?(K.flags|=67108866,Y):J):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function C(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function D(K,Y,J,lt){return Y===null||Y.tag!==6?(Y=Xm(J,K.mode,lt),Y.return=K,Y):(Y=y(Y,J),Y.return=K,Y)}function $(K,Y,J,lt){var At=J.type;return At===T?ot(K,Y,J.props.children,lt,J.key):Y!==null&&(Y.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&Vb(At)===Y.type)?(Y=y(Y,J.props),Uc(Y,J),Y.return=K,Y):(Y=Bh(J.type,J.key,J.props,null,K.mode,lt),Uc(Y,J),Y.return=K,Y)}function Z(K,Y,J,lt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=Qm(J,K.mode,lt),Y.return=K,Y):(Y=y(Y,J.children||[]),Y.return=K,Y)}function ot(K,Y,J,lt,At){return Y===null||Y.tag!==7?(Y=Ha(J,K.mode,lt,At),Y.return=K,Y):(Y=y(Y,J),Y.return=K,Y)}function ut(K,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Xm(""+Y,K.mode,J),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return J=Bh(Y.type,Y.key,Y.props,null,K.mode,J),Uc(J,Y),J.return=K,J;case w:return Y=Qm(Y,K.mode,J),Y.return=K,Y;case R:var lt=Y._init;return Y=lt(Y._payload),ut(K,Y,J)}if(dt(Y)||V(Y))return Y=Ha(Y,K.mode,J,null),Y.return=K,Y;if(typeof Y.then=="function")return ut(K,id(Y),J);if(Y.$$typeof===O)return ut(K,Gh(K,Y),J);rd(K,Y)}return null}function tt(K,Y,J,lt){var At=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return At!==null?null:D(K,Y,""+J,lt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===At?$(K,Y,J,lt):null;case w:return J.key===At?Z(K,Y,J,lt):null;case R:return At=J._init,J=At(J._payload),tt(K,Y,J,lt)}if(dt(J)||V(J))return At!==null?null:ot(K,Y,J,lt,null);if(typeof J.then=="function")return tt(K,Y,id(J),lt);if(J.$$typeof===O)return tt(K,Y,Gh(K,J),lt);rd(K,J)}return null}function nt(K,Y,J,lt,At){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return K=K.get(J)||null,D(Y,K,""+lt,At);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case b:return K=K.get(lt.key===null?J:lt.key)||null,$(Y,K,lt,At);case w:return K=K.get(lt.key===null?J:lt.key)||null,Z(Y,K,lt,At);case R:var te=lt._init;return lt=te(lt._payload),nt(K,Y,J,lt,At)}if(dt(lt)||V(lt))return K=K.get(J)||null,ot(Y,K,lt,At,null);if(typeof lt.then=="function")return nt(K,Y,J,id(lt),At);if(lt.$$typeof===O)return nt(K,Y,J,Gh(Y,lt),At);rd(Y,lt)}return null}function Ht(K,Y,J,lt){for(var At=null,te=null,Rt=Y,Vt=Y=0,_n=null;Rt!==null&&Vt<J.length;Vt++){Rt.index>Vt?(_n=Rt,Rt=null):_n=Rt.sibling;var xe=tt(K,Rt,J[Vt],lt);if(xe===null){Rt===null&&(Rt=_n);break}r&&Rt&&xe.alternate===null&&o(K,Rt),Y=v(xe,Y,Vt),te===null?At=xe:te.sibling=xe,te=xe,Rt=_n}if(Vt===J.length)return c(K,Rt),be&&Ga(K,Vt),At;if(Rt===null){for(;Vt<J.length;Vt++)Rt=ut(K,J[Vt],lt),Rt!==null&&(Y=v(Rt,Y,Vt),te===null?At=Rt:te.sibling=Rt,te=Rt);return be&&Ga(K,Vt),At}for(Rt=d(Rt);Vt<J.length;Vt++)_n=nt(Rt,K,Vt,J[Vt],lt),_n!==null&&(r&&_n.alternate!==null&&Rt.delete(_n.key===null?Vt:_n.key),Y=v(_n,Y,Vt),te===null?At=_n:te.sibling=_n,te=_n);return r&&Rt.forEach(function(Kr){return o(K,Kr)}),be&&Ga(K,Vt),At}function Lt(K,Y,J,lt){if(J==null)throw Error(s(151));for(var At=null,te=null,Rt=Y,Vt=Y=0,_n=null,xe=J.next();Rt!==null&&!xe.done;Vt++,xe=J.next()){Rt.index>Vt?(_n=Rt,Rt=null):_n=Rt.sibling;var Kr=tt(K,Rt,xe.value,lt);if(Kr===null){Rt===null&&(Rt=_n);break}r&&Rt&&Kr.alternate===null&&o(K,Rt),Y=v(Kr,Y,Vt),te===null?At=Kr:te.sibling=Kr,te=Kr,Rt=_n}if(xe.done)return c(K,Rt),be&&Ga(K,Vt),At;if(Rt===null){for(;!xe.done;Vt++,xe=J.next())xe=ut(K,xe.value,lt),xe!==null&&(Y=v(xe,Y,Vt),te===null?At=xe:te.sibling=xe,te=xe);return be&&Ga(K,Vt),At}for(Rt=d(Rt);!xe.done;Vt++,xe=J.next())xe=nt(Rt,K,Vt,xe.value,lt),xe!==null&&(r&&xe.alternate!==null&&Rt.delete(xe.key===null?Vt:xe.key),Y=v(xe,Y,Vt),te===null?At=xe:te.sibling=xe,te=xe);return r&&Rt.forEach(function(DC){return o(K,DC)}),be&&Ga(K,Vt),At}function ke(K,Y,J,lt){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:t:{for(var At=J.key;Y!==null;){if(Y.key===At){if(At=J.type,At===T){if(Y.tag===7){c(K,Y.sibling),lt=y(Y,J.props.children),lt.return=K,K=lt;break t}}else if(Y.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&Vb(At)===Y.type){c(K,Y.sibling),lt=y(Y,J.props),Uc(lt,J),lt.return=K,K=lt;break t}c(K,Y);break}else o(K,Y);Y=Y.sibling}J.type===T?(lt=Ha(J.props.children,K.mode,lt,J.key),lt.return=K,K=lt):(lt=Bh(J.type,J.key,J.props,null,K.mode,lt),Uc(lt,J),lt.return=K,K=lt)}return C(K);case w:t:{for(At=J.key;Y!==null;){if(Y.key===At)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){c(K,Y.sibling),lt=y(Y,J.children||[]),lt.return=K,K=lt;break t}else{c(K,Y);break}else o(K,Y);Y=Y.sibling}lt=Qm(J,K.mode,lt),lt.return=K,K=lt}return C(K);case R:return At=J._init,J=At(J._payload),ke(K,Y,J,lt)}if(dt(J))return Ht(K,Y,J,lt);if(V(J)){if(At=V(J),typeof At!="function")throw Error(s(150));return J=At.call(J),Lt(K,Y,J,lt)}if(typeof J.then=="function")return ke(K,Y,id(J),lt);if(J.$$typeof===O)return ke(K,Y,Gh(K,J),lt);rd(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(c(K,Y.sibling),lt=y(Y,J),lt.return=K,K=lt):(c(K,Y),lt=Xm(J,K.mode,lt),lt.return=K,K=lt),C(K)):c(K,Y)}return function(K,Y,J,lt){try{zc=0;var At=ke(K,Y,J,lt);return nl=null,At}catch(Rt){if(Rt===Rc||Rt===Wh)throw Rt;var te=hs(29,Rt,null,K.mode);return te.lanes=lt,te.return=K,te}finally{}}}var sl=zb(!0),Ub=zb(!1),Cs=st(null),fi=null;function Mr(r){var o=r.alternate;rt(dn,dn.current&1),rt(Cs,r),fi===null&&(o===null||Jo.current!==null||o.memoizedState!==null)&&(fi=r)}function Bb(r){if(r.tag===22){if(rt(dn,dn.current),rt(Cs,r),fi===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(fi=r)}}else Or()}function Or(){rt(dn,dn.current),rt(Cs,Cs.current)}function Qi(r){ft(Cs),fi===r&&(fi=null),ft(dn)}var dn=st(0);function ad(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||bg(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Rp(r,o,c,d){o=r.memoizedState,c=c(d,o),c=c==null?o:g({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Ip={enqueueSetState:function(r,o,c){r=r._reactInternals;var d=ps(),y=Ir(d);y.payload=o,c!=null&&(y.callback=c),o=jr(r,y,d),o!==null&&(gs(o,r,d),jc(o,r,d))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var d=ps(),y=Ir(d);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=jr(r,y,d),o!==null&&(gs(o,r,d),jc(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=ps(),d=Ir(c);d.tag=2,o!=null&&(d.callback=o),o=jr(r,d,c),o!==null&&(gs(o,r,c),jc(o,r,c))}};function Fb(r,o,c,d,y,v,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,C):o.prototype&&o.prototype.isPureReactComponent?!wc(c,d)||!wc(y,v):!0}function Hb(r,o,c,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==r&&Ip.enqueueReplaceState(o,o.state,null)}function Ja(r,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(r=r.defaultProps){c===o&&(c=g({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}var od=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function $b(r){od(r)}function Gb(r){console.error(r)}function qb(r){od(r)}function ld(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Wb(r,o,c){try{var d=r.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function jp(r,o,c){return c=Ir(c),c.tag=3,c.payload={element:null},c.callback=function(){ld(r,o)},c}function Yb(r){return r=Ir(r),r.tag=3,r}function Kb(r,o,c,d){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=d.value;r.payload=function(){return y(v)},r.callback=function(){Wb(o,c,d)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){Wb(o,c,d),typeof y!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function DA(r,o,c,d,y){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&Ac(o,c,y,!0),c=Cs.current,c!==null){switch(c.tag){case 13:return fi===null?ng():c.alternate===null&&We===0&&(We=3),c.flags&=-257,c.flags|=65536,c.lanes=y,d===op?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),ig(r,d,y)),!1;case 22:return c.flags|=65536,d===op?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),ig(r,d,y)),!1}throw Error(s(435,c.tag))}return ig(r,d,y),ng(),!1}if(be)return o=Cs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==tp&&(r=Error(s(422),{cause:d}),Nc(Ts(r,c)))):(d!==tp&&(o=Error(s(423),{cause:d}),Nc(Ts(o,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,d=Ts(d,c),y=jp(r.stateNode,d,y),up(r,y),We!==4&&(We=2)),!1;var v=Error(s(520),{cause:d});if(v=Ts(v,c),Wc===null?Wc=[v]:Wc.push(v),We!==4&&(We=2),o===null)return!0;d=Ts(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=jp(c.stateNode,d,r),up(c,r),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Br===null||!Br.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Yb(y),Kb(y,r,c,d),up(c,y),!1}c=c.return}while(c!==null);return!1}var Xb=Error(s(461)),bn=!1;function An(r,o,c,d){o.child=r===null?Ub(o,null,c,d):sl(o,r.child,c,d)}function Qb(r,o,c,d,y){c=c.render;var v=o.ref;if("ref"in d){var C={};for(var D in d)D!=="ref"&&(C[D]=d[D])}else C=d;return Ka(o),d=pp(r,o,c,C,v,y),D=gp(),r!==null&&!bn?(yp(r,o,y),Ji(r,o,y)):(be&&D&&Jm(o),o.flags|=1,An(r,o,d,y),o.child)}function Jb(r,o,c,d,y){if(r===null){var v=c.type;return typeof v=="function"&&!Km(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,Zb(r,o,v,d,y)):(r=Bh(c.type,null,d,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!Up(r,y)){var C=v.memoizedProps;if(c=c.compare,c=c!==null?c:wc,c(C,d)&&r.ref===o.ref)return Ji(r,o,y)}return o.flags|=1,r=Gi(v,d),r.ref=o.ref,r.return=o,o.child=r}function Zb(r,o,c,d,y){if(r!==null){var v=r.memoizedProps;if(wc(v,d)&&r.ref===o.ref)if(bn=!1,o.pendingProps=d=v,Up(r,y))(r.flags&131072)!==0&&(bn=!0);else return o.lanes=r.lanes,Ji(r,o,y)}return Dp(r,o,c,d,y)}function tv(r,o,c){var d=o.pendingProps,y=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,r!==null){for(y=o.child=r.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;o.childLanes=v&~d}else o.childLanes=0,o.child=null;return ev(r,o,d,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&qh(o,v!==null?v.cachePool:null),v!==null?Zx(o,v):dp(),Bb(o);else return o.lanes=o.childLanes=536870912,ev(r,o,v!==null?v.baseLanes|c:c,c)}else v!==null?(qh(o,v.cachePool),Zx(o,v),Or(),o.memoizedState=null):(r!==null&&qh(o,null),dp(),Or());return An(r,o,y,c),o.child}function ev(r,o,c,d){var y=ap();return y=y===null?null:{parent:hn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},r!==null&&qh(o,null),dp(),Bb(o),r!==null&&Ac(r,o,d,!0),null}function cd(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function Dp(r,o,c,d,y){return Ka(o),c=pp(r,o,c,d,void 0,y),d=gp(),r!==null&&!bn?(yp(r,o,y),Ji(r,o,y)):(be&&d&&Jm(o),o.flags|=1,An(r,o,c,y),o.child)}function nv(r,o,c,d,y,v){return Ka(o),o.updateQueue=null,c=eb(o,d,c,y),tb(r),d=gp(),r!==null&&!bn?(yp(r,o,v),Ji(r,o,v)):(be&&d&&Jm(o),o.flags|=1,An(r,o,c,v),o.child)}function sv(r,o,c,d,y){if(Ka(o),o.stateNode===null){var v=Wo,C=c.contextType;typeof C=="object"&&C!==null&&(v=Mn(C)),v=new c(d,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ip,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=d,v.state=o.memoizedState,v.refs={},lp(o),C=c.contextType,v.context=typeof C=="object"&&C!==null?Mn(C):Wo,v.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Rp(o,c,C,d),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Ip.enqueueReplaceState(v,v.state,null),Mc(o,d,v,y),Dc(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){v=o.stateNode;var D=o.memoizedProps,$=Ja(c,D);v.props=$;var Z=v.context,ot=c.contextType;C=Wo,typeof ot=="object"&&ot!==null&&(C=Mn(ot));var ut=c.getDerivedStateFromProps;ot=typeof ut=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ot||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||Z!==C)&&Hb(o,v,d,C),Rr=!1;var tt=o.memoizedState;v.state=tt,Mc(o,d,v,y),Dc(),Z=o.memoizedState,D||tt!==Z||Rr?(typeof ut=="function"&&(Rp(o,c,ut,d),Z=o.memoizedState),($=Rr||Fb(o,c,$,d,tt,Z,C))?(ot||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=Z),v.props=d,v.state=Z,v.context=C,d=$):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{v=o.stateNode,cp(r,o),C=o.memoizedProps,ot=Ja(c,C),v.props=ot,ut=o.pendingProps,tt=v.context,Z=c.contextType,$=Wo,typeof Z=="object"&&Z!==null&&($=Mn(Z)),D=c.getDerivedStateFromProps,(Z=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==ut||tt!==$)&&Hb(o,v,d,$),Rr=!1,tt=o.memoizedState,v.state=tt,Mc(o,d,v,y),Dc();var nt=o.memoizedState;C!==ut||tt!==nt||Rr||r!==null&&r.dependencies!==null&&$h(r.dependencies)?(typeof D=="function"&&(Rp(o,c,D,d),nt=o.memoizedState),(ot=Rr||Fb(o,c,ot,d,tt,nt,$)||r!==null&&r.dependencies!==null&&$h(r.dependencies))?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,nt,$),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,nt,$)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&tt===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&tt===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=nt),v.props=d,v.state=nt,v.context=$,d=ot):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&tt===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&tt===r.memoizedState||(o.flags|=1024),d=!1)}return v=d,cd(r,o),d=(o.flags&128)!==0,v||d?(v=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&d?(o.child=sl(o,r.child,null,y),o.child=sl(o,null,c,y)):An(r,o,c,y),o.memoizedState=v.state,r=o.child):r=Ji(r,o,y),r}function iv(r,o,c,d){return Sc(),o.flags|=256,An(r,o,c,d),o.child}var Mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Op(r){return{baseLanes:r,cachePool:Gx()}}function Pp(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=ks),r}function rv(r,o,c){var d=o.pendingProps,y=!1,v=(o.flags&128)!==0,C;if((C=v)||(C=r!==null&&r.memoizedState===null?!1:(dn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,r===null){if(be){if(y?Mr(o):Or(),be){var D=qe,$;if($=D){t:{for($=D,D=di;$.nodeType!==8;){if(!D){D=null;break t}if($=qs($.nextSibling),$===null){D=null;break t}}D=$}D!==null?(o.memoizedState={dehydrated:D,treeContext:$a!==null?{id:qi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},$=hs(18,null,null,0),$.stateNode=D,$.return=o,o.child=$,Yn=o,qe=null,$=!0):$=!1}$||Wa(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return bg(D)?o.lanes=32:o.lanes=536870912,null;Qi(o)}return D=d.children,d=d.fallback,y?(Or(),y=o.mode,D=ud({mode:"hidden",children:D},y),d=Ha(d,y,c,null),D.return=o,d.return=o,D.sibling=d,o.child=D,y=o.child,y.memoizedState=Op(c),y.childLanes=Pp(r,C,c),o.memoizedState=Mp,d):(Mr(o),Lp(o,D))}if($=r.memoizedState,$!==null&&(D=$.dehydrated,D!==null)){if(v)o.flags&256?(Mr(o),o.flags&=-257,o=Vp(r,o,c)):o.memoizedState!==null?(Or(),o.child=r.child,o.flags|=128,o=null):(Or(),y=d.fallback,D=o.mode,d=ud({mode:"visible",children:d.children},D),y=Ha(y,D,c,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,sl(o,r.child,null,c),d=o.child,d.memoizedState=Op(c),d.childLanes=Pp(r,C,c),o.memoizedState=Mp,o=y);else if(Mr(o),bg(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var Z=C.dgst;C=Z,d=Error(s(419)),d.stack="",d.digest=C,Nc({value:d,source:null,stack:null}),o=Vp(r,o,c)}else if(bn||Ac(r,o,c,!1),C=(c&r.childLanes)!==0,bn||C){if(C=Me,C!==null&&(d=c&-c,d=(d&42)!==0?1:ti(d),d=(d&(C.suspendedLanes|c))!==0?0:d,d!==0&&d!==$.retryLane))throw $.retryLane=d,qo(r,d),gs(C,r,d),Xb;D.data==="$?"||ng(),o=Vp(r,o,c)}else D.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=$.treeContext,qe=qs(D.nextSibling),Yn=o,be=!0,qa=null,di=!1,r!==null&&(Ns[As++]=qi,Ns[As++]=Wi,Ns[As++]=$a,qi=r.id,Wi=r.overflow,$a=o),o=Lp(o,d.children),o.flags|=4096);return o}return y?(Or(),y=d.fallback,D=o.mode,$=r.child,Z=$.sibling,d=Gi($,{mode:"hidden",children:d.children}),d.subtreeFlags=$.subtreeFlags&65011712,Z!==null?y=Gi(Z,y):(y=Ha(y,D,c,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,D=r.child.memoizedState,D===null?D=Op(c):($=D.cachePool,$!==null?(Z=hn._currentValue,$=$.parent!==Z?{parent:Z,pool:Z}:$):$=Gx(),D={baseLanes:D.baseLanes|c,cachePool:$}),y.memoizedState=D,y.childLanes=Pp(r,C,c),o.memoizedState=Mp,d):(Mr(o),c=r.child,r=c.sibling,c=Gi(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,r!==null&&(C=o.deletions,C===null?(o.deletions=[r],o.flags|=16):C.push(r)),o.child=c,o.memoizedState=null,c)}function Lp(r,o){return o=ud({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function ud(r,o){return r=hs(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Vp(r,o,c){return sl(o,r.child,null,c),r=Lp(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function av(r,o,c){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),np(r.return,o,c)}function zp(r,o,c,d,y){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:y}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=y)}function ov(r,o,c){var d=o.pendingProps,y=d.revealOrder,v=d.tail;if(An(r,o,d.children,c),d=dn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&av(r,c,o);else if(r.tag===19)av(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(rt(dn,d),y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&ad(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),zp(o,!1,y,c,v);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&ad(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}zp(o,!0,c,null,v);break;case"together":zp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ji(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Ur|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(Ac(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,c=Gi(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Gi(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function Up(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&$h(r)))}function MA(r,o,c){switch(o.tag){case 3:bt(o,o.stateNode.containerInfo),kr(o,hn,r.memoizedState.cache),Sc();break;case 27:case 5:qt(o);break;case 4:bt(o,o.stateNode.containerInfo);break;case 10:kr(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Mr(o),o.flags|=128,null):(c&o.child.childLanes)!==0?rv(r,o,c):(Mr(o),r=Ji(r,o,c),r!==null?r.sibling:null);Mr(o);break;case 19:var y=(r.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(Ac(r,o,c,!1),d=(c&o.childLanes)!==0),y){if(d)return ov(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),rt(dn,dn.current),d)break;return null;case 22:case 23:return o.lanes=0,tv(r,o,c);case 24:kr(o,hn,r.memoizedState.cache)}return Ji(r,o,c)}function lv(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)bn=!0;else{if(!Up(r,c)&&(o.flags&128)===0)return bn=!1,MA(r,o,c);bn=(r.flags&131072)!==0}else bn=!1,be&&(o.flags&1048576)!==0&&Vx(o,Hh,o.index);switch(o.lanes=0,o.tag){case 16:t:{r=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")Km(d)?(r=Ja(d,r),o.tag=1,o=sv(null,o,d,r,c)):(o.tag=0,o=Dp(null,o,d,r,c));else{if(d!=null){if(y=d.$$typeof,y===B){o.tag=11,o=Qb(null,o,d,r,c);break t}else if(y===A){o.tag=14,o=Jb(null,o,d,r,c);break t}}throw o=gt(d)||d,Error(s(306,o,""))}}return o;case 0:return Dp(r,o,o.type,o.pendingProps,c);case 1:return d=o.type,y=Ja(d,o.pendingProps),sv(r,o,d,y,c);case 3:t:{if(bt(o,o.stateNode.containerInfo),r===null)throw Error(s(387));d=o.pendingProps;var v=o.memoizedState;y=v.element,cp(r,o),Mc(o,d,null,c);var C=o.memoizedState;if(d=C.cache,kr(o,hn,d),d!==v.cache&&sp(o,[hn],c,!0),Dc(),d=C.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=iv(r,o,d,c);break t}else if(d!==y){y=Ts(Error(s(424)),o),Nc(y),o=iv(r,o,d,c);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(qe=qs(r.firstChild),Yn=o,be=!0,qa=null,di=!0,c=Ub(o,null,d,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Sc(),d===y){o=Ji(r,o,c);break t}An(r,o,d,c)}o=o.child}return o;case 26:return cd(r,o),r===null?(c=d_(o.type,null,o.pendingProps,null))?o.memoizedState=c:be||(c=o.type,r=o.pendingProps,d=Td(yt.current).createElement(c),d[Ye]=o,d[Ge]=r,kn(d,c,r),Ke(d),o.stateNode=d):o.memoizedState=d_(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return qt(o),r===null&&be&&(d=o.stateNode=c_(o.type,o.pendingProps,yt.current),Yn=o,di=!0,y=qe,$r(o.type)?(vg=y,qe=qs(d.firstChild)):qe=y),An(r,o,o.pendingProps.children,c),cd(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&be&&((y=d=qe)&&(d=lC(d,o.type,o.pendingProps,di),d!==null?(o.stateNode=d,Yn=o,qe=qs(d.firstChild),di=!1,y=!0):y=!1),y||Wa(o)),qt(o),y=o.type,v=o.pendingProps,C=r!==null?r.memoizedProps:null,d=v.children,gg(y,v)?d=null:C!==null&&gg(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=pp(r,o,NA,null,null,c),nu._currentValue=y),cd(r,o),An(r,o,d,c),o.child;case 6:return r===null&&be&&((r=c=qe)&&(c=cC(c,o.pendingProps,di),c!==null?(o.stateNode=c,Yn=o,qe=null,r=!0):r=!1),r||Wa(o)),null;case 13:return rv(r,o,c);case 4:return bt(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=sl(o,null,d,c):An(r,o,d,c),o.child;case 11:return Qb(r,o,o.type,o.pendingProps,c);case 7:return An(r,o,o.pendingProps,c),o.child;case 8:return An(r,o,o.pendingProps.children,c),o.child;case 12:return An(r,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,kr(o,o.type,d.value),An(r,o,d.children,c),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,Ka(o),y=Mn(y),d=d(y),o.flags|=1,An(r,o,d,c),o.child;case 14:return Jb(r,o,o.type,o.pendingProps,c);case 15:return Zb(r,o,o.type,o.pendingProps,c);case 19:return ov(r,o,c);case 31:return d=o.pendingProps,c=o.mode,d={mode:d.mode,children:d.children},r===null?(c=ud(d,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Gi(r.child,d),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return tv(r,o,c);case 24:return Ka(o),d=Mn(hn),r===null?(y=ap(),y===null&&(y=Me,v=ip(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),o.memoizedState={parent:d,cache:y},lp(o),kr(o,hn,y)):((r.lanes&c)!==0&&(cp(r,o),Mc(o,null,null,c),Dc()),y=r.memoizedState,v=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),kr(o,hn,d)):(d=v.cache,kr(o,hn,d),d!==y.cache&&sp(o,[hn],c,!0))),An(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Zi(r){r.flags|=4}function cv(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!y_(o)){if(o=Cs.current,o!==null&&((pe&4194048)===pe?fi!==null:(pe&62914560)!==pe&&(pe&536870912)===0||o!==fi))throw Ic=op,qx;r.flags|=8192}}function hd(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?wr():536870912,r.lanes|=o,ol|=o)}function Bc(r,o){if(!be)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function He(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=d,r.childLanes=c,o}function OA(r,o,c){var d=o.pendingProps;switch(Zm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(o),null;case 1:return He(o),null;case 3:return c=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ki(hn),Kt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Tc(o)?Zi(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Bx())),He(o),null;case 26:return c=o.memoizedState,r===null?(Zi(o),c!==null?(He(o),cv(o,c)):(He(o),o.flags&=-16777217)):c?c!==r.memoizedState?(Zi(o),He(o),cv(o,c)):(He(o),o.flags&=-16777217):(r.memoizedProps!==d&&Zi(o),He(o),o.flags&=-16777217),null;case 27:Dt(o),c=yt.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Zi(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return He(o),null}r=mt.current,Tc(o)?zx(o):(r=c_(y,d,c),o.stateNode=r,Zi(o))}return He(o),null;case 5:if(Dt(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Zi(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return He(o),null}if(r=mt.current,Tc(o))zx(o);else{switch(y=Td(yt.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?y.createElement(c,{is:d.is}):y.createElement(c)}}r[Ye]=o,r[Ge]=d;t:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break t;for(;y.sibling===null;){if(y.return===null||y.return===o)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;t:switch(kn(r,c,d),c){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Zi(o)}}return He(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Zi(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(s(166));if(r=yt.current,Tc(o)){if(r=o.stateNode,c=o.memoizedProps,d=null,y=Yn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}r[Ye]=o,r=!!(r.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||n_(r.nodeValue,c)),r||Wa(o)}else r=Td(r).createTextNode(d),r[Ye]=o,o.stateNode=r}return He(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Tc(o),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(s(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Ye]=o}else Sc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;He(o),y=!1}else y=Bx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Qi(o),o):(Qi(o),null)}if(Qi(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=d!==null,r=r!==null&&r.memoizedState!==null,c){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==y&&(d.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),hd(o,o.updateQueue),He(o),null;case 4:return Kt(),r===null&&hg(o.stateNode.containerInfo),He(o),null;case 10:return Ki(o.type),He(o),null;case 19:if(ft(dn),y=o.memoizedState,y===null)return He(o),null;if(d=(o.flags&128)!==0,v=y.rendering,v===null)if(d)Bc(y,!1);else{if(We!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=ad(r),v!==null){for(o.flags|=128,Bc(y,!1),r=v.updateQueue,o.updateQueue=r,hd(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)Lx(c,r),c=c.sibling;return rt(dn,dn.current&1|2),o.child}r=r.sibling}y.tail!==null&&Nt()>md&&(o.flags|=128,d=!0,Bc(y,!1),o.lanes=4194304)}else{if(!d)if(r=ad(v),r!==null){if(o.flags|=128,d=!0,r=r.updateQueue,o.updateQueue=r,hd(o,r),Bc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!be)return He(o),null}else 2*Nt()-y.renderingStartTime>md&&c!==536870912&&(o.flags|=128,d=!0,Bc(y,!1),o.lanes=4194304);y.isBackwards?(v.sibling=o.child,o.child=v):(r=y.last,r!==null?r.sibling=v:o.child=v,y.last=v)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Nt(),o.sibling=null,r=dn.current,rt(dn,d?r&1|2:r&1),o):(He(o),null);case 22:case 23:return Qi(o),fp(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(c&536870912)!==0&&(o.flags&128)===0&&(He(o),o.subtreeFlags&6&&(o.flags|=8192)):He(o),c=o.updateQueue,c!==null&&hd(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),r!==null&&ft(Xa),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ki(hn),He(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function PA(r,o){switch(Zm(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ki(hn),Kt(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Dt(o),null;case 13:if(Qi(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Sc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ft(dn),null;case 4:return Kt(),null;case 10:return Ki(o.type),null;case 22:case 23:return Qi(o),fp(),r!==null&&ft(Xa),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Ki(hn),null;case 25:return null;default:return null}}function uv(r,o){switch(Zm(o),o.tag){case 3:Ki(hn),Kt();break;case 26:case 27:case 5:Dt(o);break;case 4:Kt();break;case 13:Qi(o);break;case 19:ft(dn);break;case 10:Ki(o.type);break;case 22:case 23:Qi(o),fp(),r!==null&&ft(Xa);break;case 24:Ki(hn)}}function Fc(r,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&r)===r){d=void 0;var v=c.create,C=c.inst;d=v(),C.destroy=d}c=c.next}while(c!==y)}}catch(D){Re(o,o.return,D)}}function Pr(r,o,c){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var v=y.next;d=v;do{if((d.tag&r)===r){var C=d.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,y=o;var $=c,Z=D;try{Z()}catch(ot){Re(y,$,ot)}}}d=d.next}while(d!==v)}}catch(ot){Re(o,o.return,ot)}}function hv(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{Jx(o,c)}catch(d){Re(r,r.return,d)}}}function dv(r,o,c){c.props=Ja(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(d){Re(r,o,d)}}function Hc(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof c=="function"?r.refCleanup=c(d):c.current=d}}catch(y){Re(r,o,y)}}function mi(r,o){var c=r.ref,d=r.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(y){Re(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Re(r,o,y)}else c.current=null}function fv(r){var o=r.type,c=r.memoizedProps,d=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(y){Re(r,r.return,y)}}function Bp(r,o,c){try{var d=r.stateNode;sC(d,r.type,c,o),d[Ge]=o}catch(y){Re(r,r.return,y)}}function mv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$r(r.type)||r.tag===4}function Fp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||mv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$r(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hp(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ed));else if(d!==4&&(d===27&&$r(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(Hp(r,o,c),r=r.sibling;r!==null;)Hp(r,o,c),r=r.sibling}function dd(r,o,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(d!==4&&(d===27&&$r(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(dd(r,o,c),r=r.sibling;r!==null;)dd(r,o,c),r=r.sibling}function pv(r){var o=r.stateNode,c=r.memoizedProps;try{for(var d=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);kn(o,d,c),o[Ye]=r,o[Ge]=c}catch(v){Re(r,r.return,v)}}var tr=!1,Qe=!1,$p=!1,gv=typeof WeakSet=="function"?WeakSet:Set,vn=null;function LA(r,o){if(r=r.containerInfo,mg=Rd,r=Ax(r),Fm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var y=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break t}var C=0,D=-1,$=-1,Z=0,ot=0,ut=r,tt=null;e:for(;;){for(var nt;ut!==c||y!==0&&ut.nodeType!==3||(D=C+y),ut!==v||d!==0&&ut.nodeType!==3||($=C+d),ut.nodeType===3&&(C+=ut.nodeValue.length),(nt=ut.firstChild)!==null;)tt=ut,ut=nt;for(;;){if(ut===r)break e;if(tt===c&&++Z===y&&(D=C),tt===v&&++ot===d&&($=C),(nt=ut.nextSibling)!==null)break;ut=tt,tt=ut.parentNode}ut=nt}c=D===-1||$===-1?null:{start:D,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(pg={focusedElem:r,selectionRange:c},Rd=!1,vn=o;vn!==null;)if(o=vn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,vn=r;else for(;vn!==null;){switch(o=vn,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=o,y=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var Ht=Ja(c.type,y,c.elementType===c.type);r=d.getSnapshotBeforeUpdate(Ht,v),d.__reactInternalSnapshotBeforeUpdate=r}catch(Lt){Re(c,c.return,Lt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)xg(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,vn=r;break}vn=o.return}}function yv(r,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Lr(r,c),d&4&&Fc(5,c);break;case 1:if(Lr(r,c),d&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(C){Re(c,c.return,C)}else{var y=Ja(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(C){Re(c,c.return,C)}}d&64&&hv(c),d&512&&Hc(c,c.return);break;case 3:if(Lr(r,c),d&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Jx(r,o)}catch(C){Re(c,c.return,C)}}break;case 27:o===null&&d&4&&pv(c);case 26:case 5:Lr(r,c),o===null&&d&4&&fv(c),d&512&&Hc(c,c.return);break;case 12:Lr(r,c);break;case 13:Lr(r,c),d&4&&vv(r,c),d&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=qA.bind(null,c),uC(r,c))));break;case 22:if(d=c.memoizedState!==null||tr,!d){o=o!==null&&o.memoizedState!==null||Qe,y=tr;var v=Qe;tr=d,(Qe=o)&&!v?Vr(r,c,(c.subtreeFlags&8772)!==0):Lr(r,c),tr=y,Qe=v}break;case 30:break;default:Lr(r,c)}}function xv(r){var o=r.alternate;o!==null&&(r.alternate=null,xv(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Sr(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ze=null,Jn=!1;function er(r,o,c){for(c=c.child;c!==null;)bv(r,o,c),c=c.sibling}function bv(r,o,c){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Xt,c)}catch{}switch(c.tag){case 26:Qe||mi(c,o),er(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Qe||mi(c,o);var d=ze,y=Jn;$r(c.type)&&(ze=c.stateNode,Jn=!1),er(r,o,c),Jc(c.stateNode),ze=d,Jn=y;break;case 5:Qe||mi(c,o);case 6:if(d=ze,y=Jn,ze=null,er(r,o,c),ze=d,Jn=y,ze!==null)if(Jn)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(c.stateNode)}catch(v){Re(c,o,v)}else try{ze.removeChild(c.stateNode)}catch(v){Re(c,o,v)}break;case 18:ze!==null&&(Jn?(r=ze,o_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),au(r)):o_(ze,c.stateNode));break;case 4:d=ze,y=Jn,ze=c.stateNode.containerInfo,Jn=!0,er(r,o,c),ze=d,Jn=y;break;case 0:case 11:case 14:case 15:Qe||Pr(2,c,o),Qe||Pr(4,c,o),er(r,o,c);break;case 1:Qe||(mi(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&dv(c,o,d)),er(r,o,c);break;case 21:er(r,o,c);break;case 22:Qe=(d=Qe)||c.memoizedState!==null,er(r,o,c),Qe=d;break;default:er(r,o,c)}}function vv(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{au(r)}catch(c){Re(o,o.return,c)}}function VA(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new gv),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new gv),o;default:throw Error(s(435,r.tag))}}function Gp(r,o){var c=VA(r);o.forEach(function(d){var y=WA.bind(null,r,d);c.has(d)||(c.add(d),d.then(y,y))})}function ds(r,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var y=c[d],v=r,C=o,D=C;t:for(;D!==null;){switch(D.tag){case 27:if($r(D.type)){ze=D.stateNode,Jn=!1;break t}break;case 5:ze=D.stateNode,Jn=!1;break t;case 3:case 4:ze=D.stateNode.containerInfo,Jn=!0;break t}D=D.return}if(ze===null)throw Error(s(160));bv(v,C,y),ze=null,Jn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)_v(o,r),o=o.sibling}var Gs=null;function _v(r,o){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ds(o,r),fs(r),d&4&&(Pr(3,r,r.return),Fc(3,r),Pr(5,r,r.return));break;case 1:ds(o,r),fs(r),d&512&&(Qe||c===null||mi(c,c.return)),d&64&&tr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var y=Gs;if(ds(o,r),fs(r),d&512&&(Qe||c===null||mi(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=r.memoizedState,c===null)if(d===null)if(r.stateNode===null){t:{d=r.type,c=r.memoizedProps,y=y.ownerDocument||y;e:switch(d){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Aa]||v[Ye]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(d),y.head.insertBefore(v,y.querySelector("head > title"))),kn(v,d,c),v[Ye]=r,Ke(v),d=v;break t;case"link":var C=p_("link","href",y).get(d+(c.href||""));if(C){for(var D=0;D<C.length;D++)if(v=C[D],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(D,1);break e}}v=y.createElement(d),kn(v,d,c),y.head.appendChild(v);break;case"meta":if(C=p_("meta","content",y).get(d+(c.content||""))){for(D=0;D<C.length;D++)if(v=C[D],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(D,1);break e}}v=y.createElement(d),kn(v,d,c),y.head.appendChild(v);break;default:throw Error(s(468,d))}v[Ye]=r,Ke(v),d=v}r.stateNode=d}else g_(y,r.type,r.stateNode);else r.stateNode=m_(y,d,r.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?g_(y,r.type,r.stateNode):m_(y,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Bp(r,r.memoizedProps,c.memoizedProps)}break;case 27:ds(o,r),fs(r),d&512&&(Qe||c===null||mi(c,c.return)),c!==null&&d&4&&Bp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(ds(o,r),fs(r),d&512&&(Qe||c===null||mi(c,c.return)),r.flags&32){y=r.stateNode;try{vs(y,"")}catch(nt){Re(r,r.return,nt)}}d&4&&r.stateNode!=null&&(y=r.memoizedProps,Bp(r,y,c!==null?c.memoizedProps:y)),d&1024&&($p=!0);break;case 6:if(ds(o,r),fs(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,c=r.stateNode;try{c.nodeValue=d}catch(nt){Re(r,r.return,nt)}}break;case 3:if(Ad=null,y=Gs,Gs=Sd(o.containerInfo),ds(o,r),Gs=y,fs(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{au(o.containerInfo)}catch(nt){Re(r,r.return,nt)}$p&&($p=!1,wv(r));break;case 4:d=Gs,Gs=Sd(r.stateNode.containerInfo),ds(o,r),fs(r),Gs=d;break;case 12:ds(o,r),fs(r);break;case 13:ds(o,r),fs(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Qp=Nt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Gp(r,d)));break;case 22:y=r.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,Z=tr,ot=Qe;if(tr=Z||y,Qe=ot||$,ds(o,r),Qe=ot,tr=Z,fs(r),d&8192)t:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||$||tr||Qe||Za(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){$=c=o;try{if(v=$.stateNode,y)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=$.stateNode;var ut=$.memoizedProps.style,tt=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;D.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(nt){Re($,$.return,nt)}}}else if(o.tag===6){if(c===null){$=o;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(nt){Re($,$.return,nt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Gp(r,c))));break;case 19:ds(o,r),fs(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Gp(r,d)));break;case 30:break;case 21:break;default:ds(o,r),fs(r)}}function fs(r){var o=r.flags;if(o&2){try{for(var c,d=r.return;d!==null;){if(mv(d)){c=d;break}d=d.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var y=c.stateNode,v=Fp(r);dd(r,v,y);break;case 5:var C=c.stateNode;c.flags&32&&(vs(C,""),c.flags&=-33);var D=Fp(r);dd(r,D,C);break;case 3:case 4:var $=c.stateNode.containerInfo,Z=Fp(r);Hp(r,Z,$);break;default:throw Error(s(161))}}catch(ot){Re(r,r.return,ot)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function wv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;wv(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Lr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)yv(r,o.alternate,o),o=o.sibling}function Za(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Pr(4,o,o.return),Za(o);break;case 1:mi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&dv(o,o.return,c),Za(o);break;case 27:Jc(o.stateNode);case 26:case 5:mi(o,o.return),Za(o);break;case 22:o.memoizedState===null&&Za(o);break;case 30:Za(o);break;default:Za(o)}r=r.sibling}}function Vr(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=r,v=o,C=v.flags;switch(v.tag){case 0:case 11:case 15:Vr(y,v,c),Fc(4,v);break;case 1:if(Vr(y,v,c),d=v,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){Re(d,d.return,Z)}if(d=v,y=d.updateQueue,y!==null){var D=d.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)Qx($[y],D)}catch(Z){Re(d,d.return,Z)}}c&&C&64&&hv(v),Hc(v,v.return);break;case 27:pv(v);case 26:case 5:Vr(y,v,c),c&&d===null&&C&4&&fv(v),Hc(v,v.return);break;case 12:Vr(y,v,c);break;case 13:Vr(y,v,c),c&&C&4&&vv(y,v);break;case 22:v.memoizedState===null&&Vr(y,v,c),Hc(v,v.return);break;case 30:break;default:Vr(y,v,c)}o=o.sibling}}function qp(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Cc(c))}function Wp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Cc(r))}function pi(r,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ev(r,o,c,d),o=o.sibling}function Ev(r,o,c,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:pi(r,o,c,d),y&2048&&Fc(9,o);break;case 1:pi(r,o,c,d);break;case 3:pi(r,o,c,d),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Cc(r)));break;case 12:if(y&2048){pi(r,o,c,d),r=o.stateNode;try{var v=o.memoizedProps,C=v.id,D=v.onPostCommit;typeof D=="function"&&D(C,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){Re(o,o.return,$)}}else pi(r,o,c,d);break;case 13:pi(r,o,c,d);break;case 23:break;case 22:v=o.stateNode,C=o.alternate,o.memoizedState!==null?v._visibility&2?pi(r,o,c,d):$c(r,o):v._visibility&2?pi(r,o,c,d):(v._visibility|=2,il(r,o,c,d,(o.subtreeFlags&10256)!==0)),y&2048&&qp(C,o);break;case 24:pi(r,o,c,d),y&2048&&Wp(o.alternate,o);break;default:pi(r,o,c,d)}}function il(r,o,c,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,C=o,D=c,$=d,Z=C.flags;switch(C.tag){case 0:case 11:case 15:il(v,C,D,$,y),Fc(8,C);break;case 23:break;case 22:var ot=C.stateNode;C.memoizedState!==null?ot._visibility&2?il(v,C,D,$,y):$c(v,C):(ot._visibility|=2,il(v,C,D,$,y)),y&&Z&2048&&qp(C.alternate,C);break;case 24:il(v,C,D,$,y),y&&Z&2048&&Wp(C.alternate,C);break;default:il(v,C,D,$,y)}o=o.sibling}}function $c(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,d=o,y=d.flags;switch(d.tag){case 22:$c(c,d),y&2048&&qp(d.alternate,d);break;case 24:$c(c,d),y&2048&&Wp(d.alternate,d);break;default:$c(c,d)}o=o.sibling}}var Gc=8192;function rl(r){if(r.subtreeFlags&Gc)for(r=r.child;r!==null;)Tv(r),r=r.sibling}function Tv(r){switch(r.tag){case 26:rl(r),r.flags&Gc&&r.memoizedState!==null&&EC(Gs,r.memoizedState,r.memoizedProps);break;case 5:rl(r);break;case 3:case 4:var o=Gs;Gs=Sd(r.stateNode.containerInfo),rl(r),Gs=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Gc,Gc=16777216,rl(r),Gc=o):rl(r));break;default:rl(r)}}function Sv(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function qc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];vn=d,Av(d,r)}Sv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Nv(r),r=r.sibling}function Nv(r){switch(r.tag){case 0:case 11:case 15:qc(r),r.flags&2048&&Pr(9,r,r.return);break;case 3:qc(r);break;case 12:qc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,fd(r)):qc(r);break;default:qc(r)}}function fd(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];vn=d,Av(d,r)}Sv(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Pr(8,o,o.return),fd(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,fd(o));break;default:fd(o)}r=r.sibling}}function Av(r,o){for(;vn!==null;){var c=vn;switch(c.tag){case 0:case 11:case 15:Pr(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Cc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,vn=d;else t:for(c=r;vn!==null;){d=vn;var y=d.sibling,v=d.return;if(xv(d),d===c){vn=null;break t}if(y!==null){y.return=v,vn=y;break t}vn=v}}}var zA={getCacheForType:function(r){var o=Mn(hn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},UA=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Me=null,ie=null,pe=0,Te=0,ms=null,zr=!1,al=!1,Yp=!1,nr=0,We=0,Ur=0,to=0,Kp=0,ks=0,ol=0,Wc=null,Zn=null,Xp=!1,Qp=0,md=1/0,pd=null,Br=null,Cn=0,Fr=null,ll=null,cl=0,Jp=0,Zp=null,Cv=null,Yc=0,tg=null;function ps(){if((Ee&2)!==0&&pe!==0)return pe&-pe;if(W.T!==null){var r=Xo;return r!==0?r:og()}return ei()}function kv(){ks===0&&(ks=(pe&536870912)===0||be?Us():536870912);var r=Cs.current;return r!==null&&(r.flags|=32),ks}function gs(r,o,c){(r===Me&&(Te===2||Te===9)||r.cancelPendingCommit!==null)&&(ul(r,0),Hr(r,pe,ks,!1)),as(r,c),((Ee&2)===0||r!==Me)&&(r===Me&&((Ee&2)===0&&(to|=c),We===4&&Hr(r,pe,ks,!1)),gi(r))}function Rv(r,o,c){if((Ee&6)!==0)throw Error(s(327));var d=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Ft(r,o),y=d?HA(r,o):sg(r,o,!0),v=d;do{if(y===0){al&&!d&&Hr(r,o,0,!1);break}else{if(c=r.current.alternate,v&&!BA(c)){y=sg(r,o,!1),v=!1;continue}if(y===2){if(v=o,r.errorRecoveryDisabledLanes&v)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;t:{var D=r;y=Wc;var $=D.current.memoizedState.isDehydrated;if($&&(ul(D,C).flags|=256),C=sg(D,C,!1),C!==2){if(Yp&&!$){D.errorRecoveryDisabledLanes|=v,to|=v,y=4;break t}v=Zn,Zn=y,v!==null&&(Zn===null?Zn=v:Zn.push.apply(Zn,v))}y=C}if(v=!1,y!==2)continue}}if(y===1){ul(r,0),Hr(r,o,0,!0);break}t:{switch(d=r,v=y,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Hr(d,o,ks,!zr);break t;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(y=Qp+300-Nt(),10<y)){if(Hr(d,o,ks,!zr),$n(d,0,!0)!==0)break t;d.timeoutHandle=r_(Iv.bind(null,d,c,Zn,pd,Xp,o,ks,to,ol,zr,v,2,-0,0),y);break t}Iv(d,c,Zn,pd,Xp,o,ks,to,ol,zr,v,0,-0,0)}}break}while(!0);gi(r)}function Iv(r,o,c,d,y,v,C,D,$,Z,ot,ut,tt,nt){if(r.timeoutHandle=-1,ut=o.subtreeFlags,(ut&8192||(ut&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:wC},Tv(o),ut=TC(),ut!==null)){r.cancelPendingCommit=ut(Vv.bind(null,r,o,v,c,d,y,C,D,$,ot,1,tt,nt)),Hr(r,v,C,!Z);return}Vv(r,o,v,c,d,y,C,D,$)}function BA(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var y=c[d],v=y.getSnapshot;y=y.value;try{if(!us(v(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hr(r,o,c,d){o&=~Kp,o&=~to,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var y=o;0<y;){var v=31-ne(y),C=1<<v;d[v]=-1,y&=~C}c!==0&&os(r,c,o)}function gd(){return(Ee&6)===0?(Kc(0),!1):!0}function eg(){if(ie!==null){if(Te===0)var r=ie.return;else r=ie,Yi=Ya=null,xp(r),nl=null,zc=0,r=ie;for(;r!==null;)uv(r.alternate,r),r=r.return;ie=null}}function ul(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,rC(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),eg(),Me=r,ie=c=Gi(r.current,null),pe=o,Te=0,ms=null,zr=!1,al=Ft(r,o),Yp=!1,ol=ks=Kp=to=Ur=We=0,Zn=Wc=null,Xp=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var y=31-ne(d),v=1<<y;o|=r[y],d&=~v}return nr=o,Vh(),c}function jv(r,o){Zt=null,W.H=sd,o===Rc||o===Wh?(o=Kx(),Te=3):o===qx?(o=Kx(),Te=4):Te=o===Xb?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ms=o,ie===null&&(We=1,ld(r,Ts(o,r.current)))}function Dv(){var r=W.H;return W.H=sd,r===null?sd:r}function Mv(){var r=W.A;return W.A=zA,r}function ng(){We=4,zr||(pe&4194048)!==pe&&Cs.current!==null||(al=!0),(Ur&134217727)===0&&(to&134217727)===0||Me===null||Hr(Me,pe,ks,!1)}function sg(r,o,c){var d=Ee;Ee|=2;var y=Dv(),v=Mv();(Me!==r||pe!==o)&&(pd=null,ul(r,o)),o=!1;var C=We;t:do try{if(Te!==0&&ie!==null){var D=ie,$=ms;switch(Te){case 8:eg(),C=6;break t;case 3:case 2:case 9:case 6:Cs.current===null&&(o=!0);var Z=Te;if(Te=0,ms=null,hl(r,D,$,Z),c&&al){C=0;break t}break;default:Z=Te,Te=0,ms=null,hl(r,D,$,Z)}}FA(),C=We;break}catch(ot){jv(r,ot)}while(!0);return o&&r.shellSuspendCounter++,Yi=Ya=null,Ee=d,W.H=y,W.A=v,ie===null&&(Me=null,pe=0,Vh()),C}function FA(){for(;ie!==null;)Ov(ie)}function HA(r,o){var c=Ee;Ee|=2;var d=Dv(),y=Mv();Me!==r||pe!==o?(pd=null,md=Nt()+500,ul(r,o)):al=Ft(r,o);t:do try{if(Te!==0&&ie!==null){o=ie;var v=ms;e:switch(Te){case 1:Te=0,ms=null,hl(r,o,v,1);break;case 2:case 9:if(Wx(v)){Te=0,ms=null,Pv(o);break}o=function(){Te!==2&&Te!==9||Me!==r||(Te=7),gi(r)},v.then(o,o);break t;case 3:Te=7;break t;case 4:Te=5;break t;case 7:Wx(v)?(Te=0,ms=null,Pv(o)):(Te=0,ms=null,hl(r,o,v,7));break;case 5:var C=null;switch(ie.tag){case 26:C=ie.memoizedState;case 5:case 27:var D=ie;if(!C||y_(C)){Te=0,ms=null;var $=D.sibling;if($!==null)ie=$;else{var Z=D.return;Z!==null?(ie=Z,yd(Z)):ie=null}break e}}Te=0,ms=null,hl(r,o,v,5);break;case 6:Te=0,ms=null,hl(r,o,v,6);break;case 8:eg(),We=6;break t;default:throw Error(s(462))}}$A();break}catch(ot){jv(r,ot)}while(!0);return Yi=Ya=null,W.H=d,W.A=y,Ee=c,ie!==null?0:(Me=null,pe=0,Vh(),We)}function $A(){for(;ie!==null&&!X();)Ov(ie)}function Ov(r){var o=lv(r.alternate,r,nr);r.memoizedProps=r.pendingProps,o===null?yd(r):ie=o}function Pv(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=nv(c,o,o.pendingProps,o.type,void 0,pe);break;case 11:o=nv(c,o,o.pendingProps,o.type.render,o.ref,pe);break;case 5:xp(o);default:uv(c,o),o=ie=Lx(o,nr),o=lv(c,o,nr)}r.memoizedProps=r.pendingProps,o===null?yd(r):ie=o}function hl(r,o,c,d){Yi=Ya=null,xp(o),nl=null,zc=0;var y=o.return;try{if(DA(r,y,o,c,pe)){We=1,ld(r,Ts(c,r.current)),ie=null;return}}catch(v){if(y!==null)throw ie=y,v;We=1,ld(r,Ts(c,r.current)),ie=null;return}o.flags&32768?(be||d===1?r=!0:al||(pe&536870912)!==0?r=!1:(zr=r=!0,(d===2||d===9||d===3||d===6)&&(d=Cs.current,d!==null&&d.tag===13&&(d.flags|=16384))),Lv(o,r)):yd(o)}function yd(r){var o=r;do{if((o.flags&32768)!==0){Lv(o,zr);return}r=o.return;var c=OA(o.alternate,o,nr);if(c!==null){ie=c;return}if(o=o.sibling,o!==null){ie=o;return}ie=o=r}while(o!==null);We===0&&(We=5)}function Lv(r,o){do{var c=PA(r.alternate,r);if(c!==null){c.flags&=32767,ie=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){ie=r;return}ie=r=c}while(r!==null);We=6,ie=null}function Vv(r,o,c,d,y,v,C,D,$){r.cancelPendingCommit=null;do xd();while(Cn!==0);if((Ee&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=Wm,Er(r,c,v,C,D,$),r===Me&&(ie=Me=null,pe=0),ll=o,Fr=r,cl=c,Jp=v,Zp=y,Cv=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,YA(_t,function(){return Hv(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=W.T,W.T=null,y=at.p,at.p=2,C=Ee,Ee|=4;try{LA(r,o,c)}finally{Ee=C,at.p=y,W.T=d}}Cn=1,zv(),Uv(),Bv()}}function zv(){if(Cn===1){Cn=0;var r=Fr,o=ll,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var d=at.p;at.p=2;var y=Ee;Ee|=4;try{_v(o,r);var v=pg,C=Ax(r.containerInfo),D=v.focusedElem,$=v.selectionRange;if(C!==D&&D&&D.ownerDocument&&Nx(D.ownerDocument.documentElement,D)){if($!==null&&Fm(D)){var Z=$.start,ot=$.end;if(ot===void 0&&(ot=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(ot,D.value.length);else{var ut=D.ownerDocument||document,tt=ut&&ut.defaultView||window;if(tt.getSelection){var nt=tt.getSelection(),Ht=D.textContent.length,Lt=Math.min($.start,Ht),ke=$.end===void 0?Lt:Math.min($.end,Ht);!nt.extend&&Lt>ke&&(C=ke,ke=Lt,Lt=C);var K=Sx(D,Lt),Y=Sx(D,ke);if(K&&Y&&(nt.rangeCount!==1||nt.anchorNode!==K.node||nt.anchorOffset!==K.offset||nt.focusNode!==Y.node||nt.focusOffset!==Y.offset)){var J=ut.createRange();J.setStart(K.node,K.offset),nt.removeAllRanges(),Lt>ke?(nt.addRange(J),nt.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),nt.addRange(J))}}}}for(ut=[],nt=D;nt=nt.parentNode;)nt.nodeType===1&&ut.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ut.length;D++){var lt=ut[D];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Rd=!!mg,pg=mg=null}finally{Ee=y,at.p=d,W.T=c}}r.current=o,Cn=2}}function Uv(){if(Cn===2){Cn=0;var r=Fr,o=ll,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var d=at.p;at.p=2;var y=Ee;Ee|=4;try{yv(r,o.alternate,o)}finally{Ee=y,at.p=d,W.T=c}}Cn=3}}function Bv(){if(Cn===4||Cn===3){Cn=0,et();var r=Fr,o=ll,c=cl,d=Cv;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Cn=5:(Cn=0,ll=Fr=null,Fv(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Br=null),Di(c),o=o.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Xt,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=W.T,y=at.p,at.p=2,W.T=null;try{for(var v=r.onRecoverableError,C=0;C<d.length;C++){var D=d[C];v(D.value,{componentStack:D.stack})}}finally{W.T=o,at.p=y}}(cl&3)!==0&&xd(),gi(r),y=r.pendingLanes,(c&4194090)!==0&&(y&42)!==0?r===tg?Yc++:(Yc=0,tg=r):Yc=0,Kc(0)}}function Fv(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Cc(o)))}function xd(r){return zv(),Uv(),Bv(),Hv()}function Hv(){if(Cn!==5)return!1;var r=Fr,o=Jp;Jp=0;var c=Di(cl),d=W.T,y=at.p;try{at.p=32>c?32:c,W.T=null,c=Zp,Zp=null;var v=Fr,C=cl;if(Cn=0,ll=Fr=null,cl=0,(Ee&6)!==0)throw Error(s(331));var D=Ee;if(Ee|=4,Nv(v.current),Ev(v,v.current,C,c),Ee=D,Kc(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Xt,v)}catch{}return!0}finally{at.p=y,W.T=d,Fv(r,o)}}function $v(r,o,c){o=Ts(c,o),o=jp(r.stateNode,o,2),r=jr(r,o,2),r!==null&&(as(r,2),gi(r))}function Re(r,o,c){if(r.tag===3)$v(r,r,c);else for(;o!==null;){if(o.tag===3){$v(o,r,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))){r=Ts(c,r),c=Yb(2),d=jr(o,c,2),d!==null&&(Kb(c,d,o,r),as(d,2),gi(d));break}}o=o.return}}function ig(r,o,c){var d=r.pingCache;if(d===null){d=r.pingCache=new UA;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(c)||(Yp=!0,y.add(c),r=GA.bind(null,r,o,c),o.then(r,r))}function GA(r,o,c){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Me===r&&(pe&c)===c&&(We===4||We===3&&(pe&62914560)===pe&&300>Nt()-Qp?(Ee&2)===0&&ul(r,0):Kp|=c,ol===pe&&(ol=0)),gi(r)}function Gv(r,o){o===0&&(o=wr()),r=qo(r,o),r!==null&&(as(r,o),gi(r))}function qA(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),Gv(r,c)}function WA(r,o){var c=0;switch(r.tag){case 13:var d=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(o),Gv(r,c)}function YA(r,o){return ce(r,o)}var bd=null,dl=null,rg=!1,vd=!1,ag=!1,eo=0;function gi(r){r!==dl&&r.next===null&&(dl===null?bd=dl=r:dl=dl.next=r),vd=!0,rg||(rg=!0,XA())}function Kc(r,o){if(!ag&&vd){ag=!0;do for(var c=!1,d=bd;d!==null;){if(r!==0){var y=d.pendingLanes;if(y===0)var v=0;else{var C=d.suspendedLanes,D=d.pingedLanes;v=(1<<31-ne(42|r)+1)-1,v&=y&~(C&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,Kv(d,v))}else v=pe,v=$n(d,d===Me?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||Ft(d,v)||(c=!0,Kv(d,v));d=d.next}while(c);ag=!1}}function KA(){qv()}function qv(){vd=rg=!1;var r=0;eo!==0&&(iC()&&(r=eo),eo=0);for(var o=Nt(),c=null,d=bd;d!==null;){var y=d.next,v=Wv(d,o);v===0?(d.next=null,c===null?bd=y:c.next=y,y===null&&(dl=c)):(c=d,(r!==0||(v&3)!==0)&&(vd=!0)),d=y}Kc(r)}function Wv(r,o){for(var c=r.suspendedLanes,d=r.pingedLanes,y=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var C=31-ne(v),D=1<<C,$=y[C];$===-1?((D&c)===0||(D&d)!==0)&&(y[C]=bs(D,o)):$<=o&&(r.expiredLanes|=D),v&=~D}if(o=Me,c=pe,c=$n(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,c===0||r===o&&(Te===2||Te===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&G(d),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Ft(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(d!==null&&G(d),Di(c)){case 2:case 8:c=zt;break;case 32:c=_t;break;case 268435456:c=kt;break;default:c=_t}return d=Yv.bind(null,r),c=ce(c,d),r.callbackPriority=o,r.callbackNode=c,o}return d!==null&&d!==null&&G(d),r.callbackPriority=2,r.callbackNode=null,2}function Yv(r,o){if(Cn!==0&&Cn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(xd()&&r.callbackNode!==c)return null;var d=pe;return d=$n(r,r===Me?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Rv(r,d,o),Wv(r,Nt()),r.callbackNode!=null&&r.callbackNode===c?Yv.bind(null,r):null)}function Kv(r,o){if(xd())return null;Rv(r,o,!0)}function XA(){aC(function(){(Ee&6)!==0?ce(Wt,KA):qv()})}function og(){return eo===0&&(eo=Us()),eo}function Xv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mo(""+r)}function Qv(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function QA(r,o,c,d,y){if(o==="submit"&&c&&c.stateNode===y){var v=Xv((y[Ge]||null).action),C=d.submitter;C&&(o=(o=C[Ge]||null)?Xv(o.formAction):C.getAttribute("formAction"),o!==null&&(v=o,C=null));var D=new Oo("action","action",null,d,y);r.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(eo!==0){var $=C?Qv(y,C):new FormData(y);Ap(c,{pending:!0,data:$,method:y.method,action:v},null,$)}}else typeof v=="function"&&(D.preventDefault(),$=C?Qv(y,C):new FormData(y),Ap(c,{pending:!0,data:$,method:y.method,action:v},v,$))},currentTarget:y}]})}}for(var lg=0;lg<qm.length;lg++){var cg=qm[lg],JA=cg.toLowerCase(),ZA=cg[0].toUpperCase()+cg.slice(1);$s(JA,"on"+ZA)}$s(Rx,"onAnimationEnd"),$s(Ix,"onAnimationIteration"),$s(jx,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(gA,"onTransitionRun"),$s(yA,"onTransitionStart"),$s(xA,"onTransitionCancel"),$s(Dx,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xc));function Jv(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],y=d.event;d=d.listeners;t:{var v=void 0;if(o)for(var C=d.length-1;0<=C;C--){var D=d[C],$=D.instance,Z=D.currentTarget;if(D=D.listener,$!==v&&y.isPropagationStopped())break t;v=D,y.currentTarget=Z;try{v(y)}catch(ot){od(ot)}y.currentTarget=null,v=$}else for(C=0;C<d.length;C++){if(D=d[C],$=D.instance,Z=D.currentTarget,D=D.listener,$!==v&&y.isPropagationStopped())break t;v=D,y.currentTarget=Z;try{v(y)}catch(ot){od(ot)}y.currentTarget=null,v=$}}}}function re(r,o){var c=o[gn];c===void 0&&(c=o[gn]=new Set);var d=r+"__bubble";c.has(d)||(Zv(o,r,2,!1),c.add(d))}function ug(r,o,c){var d=0;o&&(d|=4),Zv(c,r,d,o)}var _d="_reactListening"+Math.random().toString(36).slice(2);function hg(r){if(!r[_d]){r[_d]=!0,lc.forEach(function(c){c!=="selectionchange"&&(tC.has(c)||ug(c,!1,r),ug(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[_d]||(o[_d]=!0,ug("selectionchange",!1,o))}}function Zv(r,o,c,d){switch(E_(o)){case 2:var y=AC;break;case 8:y=CC;break;default:y=Sg}c=y.bind(null,o,c,r),y=void 0,!ws||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function dg(r,o,c,d,y){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)t:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var D=d.stateNode.containerInfo;if(D===y)break;if(C===4)for(C=d.return;C!==null;){var $=C.tag;if(($===3||$===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;D!==null;){if(C=Oi(D),C===null)return;if($=C.tag,$===5||$===6||$===26||$===27){d=v=C;continue t}D=D.parentNode}}d=d.return}Eh(function(){var Z=v,ot=_s(c),ut=[];t:{var tt=Mx.get(r);if(tt!==void 0){var nt=Oo,Ht=r;switch(r){case"keypress":if(oi(c)===0)break t;case"keydown":case"keyup":nt=Bo;break;case"focusin":Ht="focus",nt=Vo;break;case"focusout":Ht="blur",nt=Vo;break;case"beforeblur":case"afterblur":nt=Vo;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Ih;break;case Rx:case Ix:case jx:nt=zo;break;case Dx:nt=Dh;break;case"scroll":case"scrollend":nt=Th;break;case"wheel":nt=Fo;break;case"copy":case"cut":case"paste":nt=Uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=vc;break;case"toggle":case"beforetoggle":nt=Oh}var Lt=(o&4)!==0,ke=!Lt&&(r==="scroll"||r==="scrollend"),K=Lt?tt!==null?tt+"Capture":null:tt;Lt=[];for(var Y=Z,J;Y!==null;){var lt=Y;if(J=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||J===null||K===null||(lt=Ma(Y,K),lt!=null&&Lt.push(Qc(Y,lt,J))),ke)break;Y=Y.return}0<Lt.length&&(tt=new nt(tt,Ht,null,c,ot),ut.push({event:tt,listeners:Lt}))}}if((o&7)===0){t:{if(tt=r==="mouseover"||r==="pointerover",nt=r==="mouseout"||r==="pointerout",tt&&c!==zi&&(Ht=c.relatedTarget||c.fromElement)&&(Oi(Ht)||Ht[we]))break t;if((nt||tt)&&(tt=ot.window===ot?ot:(tt=ot.ownerDocument)?tt.defaultView||tt.parentWindow:window,nt?(Ht=c.relatedTarget||c.toElement,nt=Z,Ht=Ht?Oi(Ht):null,Ht!==null&&(ke=a(Ht),Lt=Ht.tag,Ht!==ke||Lt!==5&&Lt!==27&&Lt!==6)&&(Ht=null)):(nt=null,Ht=Z),nt!==Ht)){if(Lt=Es,lt="onMouseLeave",K="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Lt=vc,lt="onPointerLeave",K="onPointerEnter",Y="pointer"),ke=nt==null?tt:si(nt),J=Ht==null?tt:si(Ht),tt=new Lt(lt,Y+"leave",nt,c,ot),tt.target=ke,tt.relatedTarget=J,lt=null,Oi(ot)===Z&&(Lt=new Lt(K,Y+"enter",Ht,c,ot),Lt.target=J,Lt.relatedTarget=ke,lt=Lt),ke=lt,nt&&Ht)e:{for(Lt=nt,K=Ht,Y=0,J=Lt;J;J=fl(J))Y++;for(J=0,lt=K;lt;lt=fl(lt))J++;for(;0<Y-J;)Lt=fl(Lt),Y--;for(;0<J-Y;)K=fl(K),J--;for(;Y--;){if(Lt===K||K!==null&&Lt===K.alternate)break e;Lt=fl(Lt),K=fl(K)}Lt=null}else Lt=null;nt!==null&&t_(ut,tt,nt,Lt,!1),Ht!==null&&ke!==null&&t_(ut,ke,Ht,Lt,!0)}}t:{if(tt=Z?si(Z):window,nt=tt.nodeName&&tt.nodeName.toLowerCase(),nt==="select"||nt==="input"&&tt.type==="file")var At=bx;else if(un(tt))if(vx)At=fA;else{At=hA;var te=uA}else nt=tt.nodeName,!nt||nt.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?Z&&fc(Z.elementType)&&(At=bx):At=dA;if(At&&(At=At(r,Z))){$i(ut,At,c,ot);break t}te&&te(r,tt,Z),r==="focusout"&&Z&&tt.type==="number"&&Z.memoizedProps.value!=null&&Ar(tt,"number",tt.value)}switch(te=Z?si(Z):window,r){case"focusin":(un(te)||te.contentEditable==="true")&&(Ho=te,Hm=Z,Ec=null);break;case"focusout":Ec=Hm=Ho=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,Cx(ut,c,ot);break;case"selectionchange":if(pA)break;case"keydown":case"keyup":Cx(ut,c,ot)}var Rt;if(ui)t:{switch(r){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else fe?it(r,c)&&(Vt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Vt="onCompositionStart");Vt&&(N&&c.locale!=="ko"&&(fe||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&fe&&(Rt=pc()):(ai=ot,Cr="value"in ai?ai.value:ai.textContent,fe=!0)),te=wd(Z,Vt),0<te.length&&(Vt=new xc(Vt,r,null,c,ot),ut.push({event:Vt,listeners:te}),Rt?Vt.data=Rt:(Rt=vt(c),Rt!==null&&(Vt.data=Rt)))),(Rt=_?cn(r,c):me(r,c))&&(Vt=wd(Z,"onBeforeInput"),0<Vt.length&&(te=new xc("onBeforeInput","beforeinput",null,c,ot),ut.push({event:te,listeners:Vt}),te.data=Rt)),QA(ut,r,Z,c,ot)}Jv(ut,o)})}function Qc(r,o,c){return{instance:r,listener:o,currentTarget:c}}function wd(r,o){for(var c=o+"Capture",d=[];r!==null;){var y=r,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Ma(r,c),y!=null&&d.unshift(Qc(r,y,v)),y=Ma(r,o),y!=null&&d.push(Qc(r,y,v))),r.tag===3)return d;r=r.return}return[]}function fl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function t_(r,o,c,d,y){for(var v=o._reactName,C=[];c!==null&&c!==d;){var D=c,$=D.alternate,Z=D.stateNode;if(D=D.tag,$!==null&&$===d)break;D!==5&&D!==26&&D!==27||Z===null||($=Z,y?(Z=Ma(c,v),Z!=null&&C.unshift(Qc(c,Z,$))):y||(Z=Ma(c,v),Z!=null&&C.push(Qc(c,Z,$)))),c=c.return}C.length!==0&&r.push({event:o,listeners:C})}var eC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function e_(r){return(typeof r=="string"?r:""+r).replace(eC,`
`).replace(nC,"")}function n_(r,o){return o=e_(o),e_(r)===o}function Ed(){}function Ce(r,o,c,d,y,v){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||vs(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&vs(r,""+d);break;case"className":ii(r,"class",d);break;case"tabIndex":ii(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(r,c,d);break;case"style":dc(r,d,v);break;case"data":if(o!=="object"){ii(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=Mo(""+d),r.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&Ce(r,o,"name",y.name,y,null),Ce(r,o,"formEncType",y.formEncType,y,null),Ce(r,o,"formMethod",y.formMethod,y,null),Ce(r,o,"formTarget",y.formTarget,y,null)):(Ce(r,o,"encType",y.encType,y,null),Ce(r,o,"method",y.method,y,null),Ce(r,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(c);break}d=Mo(""+d),r.setAttribute(c,d);break;case"onClick":d!=null&&(r.onclick=Ed);break;case"onScroll":d!=null&&re("scroll",r);break;case"onScrollEnd":d!=null&&re("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}c=Mo(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""+d):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":d===!0?r.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(c,d):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(c,d):r.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(c):r.setAttribute(c,d);break;case"popover":re("beforetoggle",r),re("toggle",r),Nr(r,"popover",d);break;case"xlinkActuate":Sn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Sn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Sn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Sn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Sn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Sn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Sn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Sn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Sn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Nr(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Pm.get(c)||c,Nr(r,c,d))}}function fg(r,o,c,d,y,v){switch(c){case"style":dc(r,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof d=="string"?vs(r,d):(typeof d=="number"||typeof d=="bigint")&&vs(r,""+d);break;case"onScroll":d!=null&&re("scroll",r);break;case"onScrollEnd":d!=null&&re("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Ed);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),v=r[Ge]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(o,v,y),typeof d=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,d,y);break t}c in r?r[c]=d:d===!0?r.setAttribute(c,""):Nr(r,c,d)}}}function kn(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",r),re("load",r);var d=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var C=c[v];if(C!=null)switch(v){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ce(r,o,v,C,c,null)}}y&&Ce(r,o,"srcSet",c.srcSet,c,null),d&&Ce(r,o,"src",c.src,c,null);return;case"input":re("invalid",r);var D=v=C=y=null,$=null,Z=null;for(d in c)if(c.hasOwnProperty(d)){var ot=c[d];if(ot!=null)switch(d){case"name":y=ot;break;case"type":C=ot;break;case"checked":$=ot;break;case"defaultChecked":Z=ot;break;case"value":v=ot;break;case"defaultValue":D=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(s(137,o));break;default:Ce(r,o,d,ot,c,null)}}Ia(r,v,D,$,Z,C,y,!1),Do(r);return;case"select":re("invalid",r),d=C=v=null;for(y in c)if(c.hasOwnProperty(y)&&(D=c[y],D!=null))switch(y){case"value":v=D;break;case"defaultValue":C=D;break;case"multiple":d=D;default:Ce(r,o,y,D,c,null)}o=v,c=C,r.multiple=!!d,o!=null?Vi(r,!!d,o,!1):c!=null&&Vi(r,!!d,c,!0);return;case"textarea":re("invalid",r),v=y=d=null;for(C in c)if(c.hasOwnProperty(C)&&(D=c[C],D!=null))switch(C){case"value":d=D;break;case"defaultValue":y=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:Ce(r,o,C,D,c,null)}ja(r,d,y,v),Do(r);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(d=c[$],d!=null))switch($){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ce(r,o,$,d,c,null)}return;case"dialog":re("beforetoggle",r),re("toggle",r),re("cancel",r),re("close",r);break;case"iframe":case"object":re("load",r);break;case"video":case"audio":for(d=0;d<Xc.length;d++)re(Xc[d],r);break;case"image":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"embed":case"source":case"link":re("error",r),re("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(d=c[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ce(r,o,Z,d,c,null)}return;default:if(fc(o)){for(ot in c)c.hasOwnProperty(ot)&&(d=c[ot],d!==void 0&&fg(r,o,ot,d,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(d=c[D],d!=null&&Ce(r,o,D,d,c,null))}function sC(r,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,C=null,D=null,$=null,Z=null,ot=null;for(nt in c){var ut=c[nt];if(c.hasOwnProperty(nt)&&ut!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":$=ut;default:d.hasOwnProperty(nt)||Ce(r,o,nt,null,d,ut)}}for(var tt in d){var nt=d[tt];if(ut=c[tt],d.hasOwnProperty(tt)&&(nt!=null||ut!=null))switch(tt){case"type":v=nt;break;case"name":y=nt;break;case"checked":Z=nt;break;case"defaultChecked":ot=nt;break;case"value":C=nt;break;case"defaultValue":D=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,o));break;default:nt!==ut&&Ce(r,o,tt,nt,d,ut)}}cs(r,C,D,$,Z,ot,v,y);return;case"select":nt=C=D=tt=null;for(v in c)if($=c[v],c.hasOwnProperty(v)&&$!=null)switch(v){case"value":break;case"multiple":nt=$;default:d.hasOwnProperty(v)||Ce(r,o,v,null,d,$)}for(y in d)if(v=d[y],$=c[y],d.hasOwnProperty(y)&&(v!=null||$!=null))switch(y){case"value":tt=v;break;case"defaultValue":D=v;break;case"multiple":C=v;default:v!==$&&Ce(r,o,y,v,d,$)}o=D,c=C,d=nt,tt!=null?Vi(r,!!c,tt,!1):!!d!=!!c&&(o!=null?Vi(r,!!c,o,!0):Vi(r,!!c,c?[]:"",!1));return;case"textarea":nt=tt=null;for(D in c)if(y=c[D],c.hasOwnProperty(D)&&y!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Ce(r,o,D,null,d,y)}for(C in d)if(y=d[C],v=c[C],d.hasOwnProperty(C)&&(y!=null||v!=null))switch(C){case"value":tt=y;break;case"defaultValue":nt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==v&&Ce(r,o,C,y,d,v)}Ne(r,tt,nt);return;case"option":for(var Ht in c)if(tt=c[Ht],c.hasOwnProperty(Ht)&&tt!=null&&!d.hasOwnProperty(Ht))switch(Ht){case"selected":r.selected=!1;break;default:Ce(r,o,Ht,null,d,tt)}for($ in d)if(tt=d[$],nt=c[$],d.hasOwnProperty($)&&tt!==nt&&(tt!=null||nt!=null))switch($){case"selected":r.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:Ce(r,o,$,tt,d,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in c)tt=c[Lt],c.hasOwnProperty(Lt)&&tt!=null&&!d.hasOwnProperty(Lt)&&Ce(r,o,Lt,null,d,tt);for(Z in d)if(tt=d[Z],nt=c[Z],d.hasOwnProperty(Z)&&tt!==nt&&(tt!=null||nt!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,o));break;default:Ce(r,o,Z,tt,d,nt)}return;default:if(fc(o)){for(var ke in c)tt=c[ke],c.hasOwnProperty(ke)&&tt!==void 0&&!d.hasOwnProperty(ke)&&fg(r,o,ke,void 0,d,tt);for(ot in d)tt=d[ot],nt=c[ot],!d.hasOwnProperty(ot)||tt===nt||tt===void 0&&nt===void 0||fg(r,o,ot,tt,d,nt);return}}for(var K in c)tt=c[K],c.hasOwnProperty(K)&&tt!=null&&!d.hasOwnProperty(K)&&Ce(r,o,K,null,d,tt);for(ut in d)tt=d[ut],nt=c[ut],!d.hasOwnProperty(ut)||tt===nt||tt==null&&nt==null||Ce(r,o,ut,tt,d,nt)}var mg=null,pg=null;function Td(r){return r.nodeType===9?r:r.ownerDocument}function s_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function gg(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yg=null;function iC(){var r=window.event;return r&&r.type==="popstate"?r===yg?!1:(yg=r,!0):(yg=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,rC=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,aC=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(r){return a_.resolve(null).then(r).catch(oC)}:r_;function oC(r){setTimeout(function(){throw r})}function $r(r){return r==="head"}function o_(r,o){var c=o,d=0,y=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var C=r.ownerDocument;if(c&1&&Jc(C.documentElement),c&2&&Jc(C.body),c&4)for(c=C.head,Jc(c),C=c.firstChild;C;){var D=C.nextSibling,$=C.nodeName;C[Aa]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=D}}if(y===0){r.removeChild(v),au(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);au(o)}function xg(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xg(c),Sr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function lC(r,o,c,d){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Aa])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=qs(r.nextSibling),r===null)break}return null}function cC(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=qs(r.nextSibling),r===null))return null;return r}function bg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function uC(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var d=function(){o(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function qs(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var vg=null;function l_(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function c_(r,o,c){switch(o=Td(c),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Jc(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Sr(r)}var Rs=new Map,u_=new Set;function Sd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var sr=at.d;at.d={f:hC,r:dC,D:fC,C:mC,L:pC,m:gC,X:xC,S:yC,M:bC};function hC(){var r=sr.f(),o=gd();return r||o}function dC(r){var o=ni(r);o!==null&&o.tag===5&&o.type==="form"?Rb(o):sr.r(r)}var ml=typeof document>"u"?null:document;function h_(r,o,c){var d=ml;if(d&&typeof o=="string"&&o){var y=en(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),u_.has(y)||(u_.add(y),r={rel:r,crossOrigin:c,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),kn(o,"link",r),Ke(o),d.head.appendChild(o)))}}function fC(r){sr.D(r),h_("dns-prefetch",r,null)}function mC(r,o){sr.C(r,o),h_("preconnect",r,o)}function pC(r,o,c){sr.L(r,o,c);var d=ml;if(d&&r&&o){var y='link[rel="preload"][as="'+en(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+en(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+en(c.imageSizes)+'"]')):y+='[href="'+en(r)+'"]';var v=y;switch(o){case"style":v=pl(r);break;case"script":v=gl(r)}Rs.has(v)||(r=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),Rs.set(v,r),d.querySelector(y)!==null||o==="style"&&d.querySelector(Zc(v))||o==="script"&&d.querySelector(tu(v))||(o=d.createElement("link"),kn(o,"link",r),Ke(o),d.head.appendChild(o)))}}function gC(r,o){sr.m(r,o);var c=ml;if(c&&r){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+en(d)+'"][href="'+en(r)+'"]',v=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=gl(r)}if(!Rs.has(v)&&(r=g({rel:"modulepreload",href:r},o),Rs.set(v,r),c.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(tu(v)))return}d=c.createElement("link"),kn(d,"link",r),Ke(d),c.head.appendChild(d)}}}function yC(r,o,c){sr.S(r,o,c);var d=ml;if(d&&r){var y=Gn(d).hoistableStyles,v=pl(r);o=o||"default";var C=y.get(v);if(!C){var D={loading:0,preload:null};if(C=d.querySelector(Zc(v)))D.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},c),(c=Rs.get(v))&&_g(r,c);var $=C=d.createElement("link");Ke($),kn($,"link",r),$._p=new Promise(function(Z,ot){$.onload=Z,$.onerror=ot}),$.addEventListener("load",function(){D.loading|=1}),$.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Nd(C,o,d)}C={type:"stylesheet",instance:C,count:1,state:D},y.set(v,C)}}}function xC(r,o){sr.X(r,o);var c=ml;if(c&&r){var d=Gn(c).hoistableScripts,y=gl(r),v=d.get(y);v||(v=c.querySelector(tu(y)),v||(r=g({src:r,async:!0},o),(o=Rs.get(y))&&wg(r,o),v=c.createElement("script"),Ke(v),kn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function bC(r,o){sr.M(r,o);var c=ml;if(c&&r){var d=Gn(c).hoistableScripts,y=gl(r),v=d.get(y);v||(v=c.querySelector(tu(y)),v||(r=g({src:r,async:!0,type:"module"},o),(o=Rs.get(y))&&wg(r,o),v=c.createElement("script"),Ke(v),kn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function d_(r,o,c,d){var y=(y=yt.current)?Sd(y):null;if(!y)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=pl(c.href),c=Gn(y).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=pl(c.href);var v=Gn(y).hoistableStyles,C=v.get(r);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,C),(v=y.querySelector(Zc(r)))&&!v._p&&(C.instance=v,C.state.loading=5),Rs.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Rs.set(r,c),v||vC(y,r,c,C.state))),o&&d===null)throw Error(s(528,""));return C}if(o&&d!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=gl(c),c=Gn(y).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function pl(r){return'href="'+en(r)+'"'}function Zc(r){return'link[rel="stylesheet"]['+r+"]"}function f_(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function vC(r,o,c,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),kn(o,"link",c),Ke(o),r.head.appendChild(o))}function gl(r){return'[src="'+en(r)+'"]'}function tu(r){return"script[async]"+r}function m_(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+en(c.href)+'"]');if(d)return o.instance=d,Ke(d),d;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Ke(d),kn(d,"style",y),Nd(d,c.precedence,r),o.instance=d;case"stylesheet":y=pl(c.href);var v=r.querySelector(Zc(y));if(v)return o.state.loading|=4,o.instance=v,Ke(v),v;d=f_(c),(y=Rs.get(y))&&_g(d,y),v=(r.ownerDocument||r).createElement("link"),Ke(v);var C=v;return C._p=new Promise(function(D,$){C.onload=D,C.onerror=$}),kn(v,"link",d),o.state.loading|=4,Nd(v,c.precedence,r),o.instance=v;case"script":return v=gl(c.src),(y=r.querySelector(tu(v)))?(o.instance=y,Ke(y),y):(d=c,(y=Rs.get(v))&&(d=g({},c),wg(d,y)),r=r.ownerDocument||r,y=r.createElement("script"),Ke(y),kn(y,"link",d),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Nd(d,c.precedence,r));return o.instance}function Nd(r,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,v=y,C=0;C<d.length;C++){var D=d[C];if(D.dataset.precedence===o)v=D;else if(v!==y)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function _g(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function wg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Ad=null;function p_(r,o,c){if(Ad===null){var d=new Map,y=Ad=new Map;y.set(c,d)}else y=Ad,d=y.get(c),d||(d=new Map,y.set(c,d));if(d.has(r))return d;for(d.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var v=c[y];if(!(v[Aa]||v[Ye]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(o)||"";C=r+C;var D=d.get(C);D?D.push(v):d.set(C,[v])}}return d}function g_(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function _C(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function y_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var eu=null;function wC(){}function EC(r,o,c){if(eu===null)throw Error(s(475));var d=eu;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=pl(c.href),v=r.querySelector(Zc(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Cd.bind(d),r.then(d,d)),o.state.loading|=4,o.instance=v,Ke(v);return}v=r.ownerDocument||r,c=f_(c),(y=Rs.get(y))&&_g(c,y),v=v.createElement("link"),Ke(v);var C=v;C._p=new Promise(function(D,$){C.onload=D,C.onerror=$}),kn(v,"link",c),o.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Cd.bind(d),r.addEventListener("load",o),r.addEventListener("error",o))}}function TC(){if(eu===null)throw Error(s(475));var r=eu;return r.stylesheets&&r.count===0&&Eg(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&Eg(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Cd(){if(this.count--,this.count===0){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var kd=null;function Eg(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,kd=new Map,o.forEach(SC,r),kd=null,Cd.call(r))}function SC(r,o){if(!(o.state.loading&4)){var c=kd.get(r);if(c)var d=c.get(null);else{c=new Map,kd.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var C=y[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),d=C)}d&&c.set(null,d)}y=o.instance,C=y.getAttribute("data-precedence"),v=c.get(C)||d,v===d&&c.set(null,y),c.set(C,y),this.count++,d=Cd.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),v?v.parentNode.insertBefore(y,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var nu={$$typeof:O,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function NC(r,o,c,d,y,v,C,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.hiddenUpdates=Bs(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function x_(r,o,c,d,y,v,C,D,$,Z,ot,ut){return r=new NC(r,o,c,C,D,$,Z,ut),o=1,v===!0&&(o|=24),v=hs(3,null,null,o),r.current=v,v.stateNode=r,o=ip(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:o},lp(v),r}function b_(r){return r?(r=Wo,r):Wo}function v_(r,o,c,d,y,v){y=b_(y),d.context===null?d.context=y:d.pendingContext=y,d=Ir(o),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=jr(r,d,o),c!==null&&(gs(c,r,o),jc(c,r,o))}function __(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Tg(r,o){__(r,o),(r=r.alternate)&&__(r,o)}function w_(r){if(r.tag===13){var o=qo(r,67108864);o!==null&&gs(o,r,67108864),Tg(r,67108864)}}var Rd=!0;function AC(r,o,c,d){var y=W.T;W.T=null;var v=at.p;try{at.p=2,Sg(r,o,c,d)}finally{at.p=v,W.T=y}}function CC(r,o,c,d){var y=W.T;W.T=null;var v=at.p;try{at.p=8,Sg(r,o,c,d)}finally{at.p=v,W.T=y}}function Sg(r,o,c,d){if(Rd){var y=Ng(d);if(y===null)dg(r,o,d,Id,c),T_(r,d);else if(RC(y,r,o,c,d))d.stopPropagation();else if(T_(r,d),o&4&&-1<kC.indexOf(r)){for(;y!==null;){var v=ni(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=ue(v.pendingLanes);if(C!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var $=1<<31-ne(C);D.entanglements[1]|=$,C&=~$}gi(v),(Ee&6)===0&&(md=Nt()+500,Kc(0))}}break;case 13:D=qo(v,2),D!==null&&gs(D,v,2),gd(),Tg(v,2)}if(v=Ng(d),v===null&&dg(r,o,d,Id,c),v===y)break;y=v}y!==null&&d.stopPropagation()}else dg(r,o,d,null,c)}}function Ng(r){return r=_s(r),Ag(r)}var Id=null;function Ag(r){if(Id=null,r=Oi(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Id=r,null}function E_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case Wt:return 2;case zt:return 8;case _t:case ee:return 32;case kt:return 268435456;default:return 32}default:return 32}}var Cg=!1,Gr=null,qr=null,Wr=null,su=new Map,iu=new Map,Yr=[],kC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(r,o){switch(r){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":su.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(o.pointerId)}}function ru(r,o,c,d,y,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[y]},o!==null&&(o=ni(o),o!==null&&w_(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function RC(r,o,c,d,y){switch(o){case"focusin":return Gr=ru(Gr,r,o,c,d,y),!0;case"dragenter":return qr=ru(qr,r,o,c,d,y),!0;case"mouseover":return Wr=ru(Wr,r,o,c,d,y),!0;case"pointerover":var v=y.pointerId;return su.set(v,ru(su.get(v)||null,r,o,c,d,y)),!0;case"gotpointercapture":return v=y.pointerId,iu.set(v,ru(iu.get(v)||null,r,o,c,d,y)),!0}return!1}function S_(r){var o=Oi(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,Co(r.priority,function(){if(c.tag===13){var d=ps();d=ti(d);var y=qo(c,d);y!==null&&gs(y,c,d),Tg(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jd(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Ng(r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);zi=d,c.target.dispatchEvent(d),zi=null}else return o=ni(c),o!==null&&w_(o),r.blockedOn=c,!1;o.shift()}return!0}function N_(r,o,c){jd(r)&&c.delete(o)}function IC(){Cg=!1,Gr!==null&&jd(Gr)&&(Gr=null),qr!==null&&jd(qr)&&(qr=null),Wr!==null&&jd(Wr)&&(Wr=null),su.forEach(N_),iu.forEach(N_)}function Dd(r,o){r.blockedOn===o&&(r.blockedOn=null,Cg||(Cg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,IC)))}var Md=null;function A_(r){Md!==r&&(Md=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Md===r&&(Md=null);for(var o=0;o<r.length;o+=3){var c=r[o],d=r[o+1],y=r[o+2];if(typeof d!="function"){if(Ag(d||c)===null)continue;break}var v=ni(c);v!==null&&(r.splice(o,3),o-=3,Ap(v,{pending:!0,data:y,method:c.method,action:d},d,y))}}))}function au(r){function o($){return Dd($,r)}Gr!==null&&Dd(Gr,r),qr!==null&&Dd(qr,r),Wr!==null&&Dd(Wr,r),su.forEach(o),iu.forEach(o);for(var c=0;c<Yr.length;c++){var d=Yr[c];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Yr.length&&(c=Yr[0],c.blockedOn===null);)S_(c),c.blockedOn===null&&Yr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var y=c[d],v=c[d+1],C=y[Ge]||null;if(typeof v=="function")C||A_(c);else if(C){var D=null;if(v&&v.hasAttribute("formAction")){if(y=v,C=v[Ge]||null)D=C.formAction;else if(Ag(y)!==null)continue}else D=C.action;typeof D=="function"?c[d+1]=D:(c.splice(d,3),d-=3),A_(c)}}}function kg(r){this._internalRoot=r}Od.prototype.render=kg.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,d=ps();v_(c,d,r,o,null,null)},Od.prototype.unmount=kg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;v_(r.current,2,null,r,null,null),gd(),o[we]=null}};function Od(r){this._internalRoot=r}Od.prototype.unstable_scheduleHydration=function(r){if(r){var o=ei();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Yr.length&&o!==0&&o<Yr[c].priority;c++);Yr.splice(c,0,r),c===0&&S_(r)}};var C_=t.version;if(C_!=="19.1.1")throw Error(s(527,C_,"19.1.1"));at.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var jC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{Xt=Pd.inject(jC),Ot=Pd}catch{}}return lu.createRoot=function(r,o){if(!i(r))throw Error(s(299));var c=!1,d="",y=$b,v=Gb,C=qb,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=x_(r,1,!1,null,null,c,d,y,v,C,D,null),r[we]=o.current,hg(r),new kg(o)},lu.hydrateRoot=function(r,o,c){if(!i(r))throw Error(s(299));var d=!1,y="",v=$b,C=Gb,D=qb,$=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&($=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),o=x_(r,1,!0,o,c??null,d,y,v,C,D,$,Z),o.context=b_(null),c=o.current,d=ps(),d=ti(d),y=Ir(d),y.callback=null,jr(c,y,d),c=d,o.current.lanes=c,as(o,c),gi(o),r[we]=o.current,hg(r),new Od(o)},lu.version="19.1.1",lu}var z_;function FC(){if(z_)return jg.exports;z_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),jg.exports=BC(),jg.exports}var HC=FC();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U_="popstate";function $C(n={}){function t(i,a){let{pathname:l="/",search:u="",hash:h=""}=Eo(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),m0("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=i.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof a=="string"?a:Pu(a))}function s(i,a){Ps(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return qC(t,e,s,n)}function Ue(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ps(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GC(){return Math.random().toString(36).substring(2,10)}function B_(n,t){return{usr:n.state,key:n.key,idx:t}}function m0(n,t,e=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Eo(t):t,state:e,key:t&&t.key||s||GC()}}function Pu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Eo(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function qC(n,t,e,s={}){let{window:i=document.defaultView,v5Compat:a=!1}=s,l=i.history,u="POP",h=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function x(){u="POP";let E=g(),k=E==null?null:E-f;f=E,h&&h({action:u,location:S.location,delta:k})}function b(E,k){u="PUSH";let j=m0(S.location,E,k);e&&e(j,E),f=g()+1;let O=B_(j,f),B=S.createHref(j);try{l.pushState(O,"",B)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(B)}a&&h&&h({action:u,location:S.location,delta:1})}function w(E,k){u="REPLACE";let j=m0(S.location,E,k);e&&e(j,E),f=g();let O=B_(j,f),B=S.createHref(j);l.replaceState(O,"",B),a&&h&&h({action:u,location:S.location,delta:0})}function T(E){return WC(E)}let S={get action(){return u},get location(){return n(i,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(U_,x),h=E,()=>{i.removeEventListener(U_,x),h=null}},createHref(E){return t(i,E)},createURL:T,encodeLocation(E){let k=T(E);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:w,go(E){return l.go(E)}};return S}function WC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(e,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Pu(n);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function sE(n,t,e="/"){return YC(n,t,e,!1)}function YC(n,t,e,s){let i=typeof t=="string"?Eo(t):t,a=mr(i.pathname||"/",e);if(a==null)return null;let l=iE(n);KC(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=ak(a);u=ik(l[h],f,s)}return u}function iE(n,t=[],e=[],s=""){let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Ue(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let f=hr([s,h.relativePath]),g=e.concat(h);a.children&&a.children.length>0&&(Ue(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),iE(a.children,t,g,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:nk(f,a.index),routesMeta:g})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let u of rE(a.path))i(a,l,u)}),t}function rE(n){let t=n.split("/");if(t.length===0)return[];let[e,...s]=t,i=e.endsWith("?"),a=e.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let l=rE(s.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function KC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:sk(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var XC=/^:[\w-]+$/,QC=3,JC=2,ZC=1,tk=10,ek=-2,F_=n=>n==="*";function nk(n,t){let e=n.split("/"),s=e.length;return e.some(F_)&&(s+=ek),t&&(s+=JC),e.filter(i=>!F_(i)).reduce((i,a)=>i+(XC.test(a)?QC:a===""?ZC:tk),s)}function sk(n,t){return n.length===t.length&&n.slice(0,-1).every((s,i)=>s===t[i])?n[n.length-1]-t[t.length-1]:0}function ik(n,t,e=!1){let{routesMeta:s}=n,i={},a="/",l=[];for(let u=0;u<s.length;++u){let h=s[u],f=u===s.length-1,g=a==="/"?t:t.slice(a.length)||"/",x=Cf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),b=h.route;if(!x&&f&&e&&!s[s.length-1].route.index&&(x=Cf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:hr([a,x.pathname]),pathnameBase:uk(hr([a,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(a=hr([a,x.pathnameBase]))}return l}function Cf(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,s]=rk(n.path,n.caseSensitive,n.end),i=t.match(e);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((f,{paramName:g,isOptional:x},b)=>{if(g==="*"){let T=u[b]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const w=u[b];return x&&!w?f[g]=void 0:f[g]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function rk(n,t=!1,e=!0){Ps(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function ak(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ps(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function mr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=n.charAt(e);return s&&s!=="/"?null:n.slice(e)||"/"}function ok(n,t="/"){let{pathname:e,search:s="",hash:i=""}=typeof n=="string"?Eo(n):n;return{pathname:e?e.startsWith("/")?e:lk(e,t):t,search:hk(s),hash:dk(i)}}function lk(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function Pg(n,t,e,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ck(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ny(n){let t=ck(n);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function sy(n,t,e,s=!1){let i;typeof n=="string"?i=Eo(n):(i={...n},Ue(!i.pathname||!i.pathname.includes("?"),Pg("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Pg("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Pg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=e;else{let x=t.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),x-=1;i.pathname=b.join("/")}u=x>=0?t[x]:"/"}let h=ok(i,u),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&e.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var hr=n=>n.join("/").replace(/\/\/+/g,"/"),uk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function fk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var aE=["POST","PUT","PATCH","DELETE"];new Set(aE);var mk=["GET",...aE];new Set(mk);var ql=F.createContext(null);ql.displayName="DataRouter";var nm=F.createContext(null);nm.displayName="DataRouterState";F.createContext(!1);var oE=F.createContext({isTransitioning:!1});oE.displayName="ViewTransition";var pk=F.createContext(new Map);pk.displayName="Fetchers";var gk=F.createContext(null);gk.displayName="Await";var Zs=F.createContext(null);Zs.displayName="Navigation";var Zu=F.createContext(null);Zu.displayName="Location";var Ls=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ls.displayName="Route";var iy=F.createContext(null);iy.displayName="RouteError";function yk(n,{relative:t}={}){Ue(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=F.useContext(Zs),{hash:i,pathname:a,search:l}=eh(n,{relative:t}),u=a;return e!=="/"&&(u=a==="/"?e:hr([e,a])),s.createHref({pathname:u,search:l,hash:i})}function Wl(){return F.useContext(Zu)!=null}function ji(){return Ue(Wl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Zu).location}var lE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cE(n){F.useContext(Zs).static||F.useLayoutEffect(n)}function th(){let{isDataRoute:n}=F.useContext(Ls);return n?Dk():xk()}function xk(){Ue(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(ql),{basename:t,navigator:e}=F.useContext(Zs),{matches:s}=F.useContext(Ls),{pathname:i}=ji(),a=JSON.stringify(ny(s)),l=F.useRef(!1);return cE(()=>{l.current=!0}),F.useCallback((h,f={})=>{if(Ps(l.current,lE),!l.current)return;if(typeof h=="number"){e.go(h);return}let g=sy(h,JSON.parse(a),i,f.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:hr([t,g.pathname])),(f.replace?e.replace:e.push)(g,f.state,f)},[t,e,a,i,n])}var bk=F.createContext(null);function vk(n){let t=F.useContext(Ls).outlet;return t&&F.createElement(bk.Provider,{value:n},t)}function _k(){let{matches:n}=F.useContext(Ls),t=n[n.length-1];return t?t.params:{}}function eh(n,{relative:t}={}){let{matches:e}=F.useContext(Ls),{pathname:s}=ji(),i=JSON.stringify(ny(e));return F.useMemo(()=>sy(n,JSON.parse(i),s,t==="path"),[n,i,s,t])}function wk(n,t){return uE(n,t)}function uE(n,t,e,s){Ue(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(Zs),{matches:a}=F.useContext(Ls),l=a[a.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let k=g&&g.path||"";hE(h,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=ji(),b;if(t){let k=typeof t=="string"?Eo(t):t;Ue(f==="/"||k.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=x;let w=b.pathname||"/",T=w;if(f!=="/"){let k=f.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=sE(n,{pathname:T});Ps(g||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ps(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Ak(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:hr([f,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:hr([f,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,e,s);return t&&E?F.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},E):E}function Ek(){let n=jk(),t=fk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),e?F.createElement("pre",{style:i},e):null,l)}var Tk=F.createElement(Ek,null),Sk=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?F.createElement(Ls.Provider,{value:this.props.routeContext},F.createElement(iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nk({routeContext:n,match:t,children:e}){let s=F.useContext(ql);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Ls.Provider,{value:n},e)}function Ak(n,t=[],e=null,s=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let i=n,a=e?.errors;if(a!=null){let h=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Ue(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(e)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:x}=e,b=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,g)=>{let x,b=!1,w=null,T=null;e&&(x=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||Tk,l&&(u<0&&g===0?(hE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):u===g&&(b=!0,T=f.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,g+1)),E=()=>{let k;return x?k=w:b?k=T:f.route.Component?k=F.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=h,F.createElement(Nk,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:e!=null},children:k})};return e&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?F.createElement(Sk,{location:e.location,revalidation:e.revalidation,component:w,error:x,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}function ry(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ck(n){let t=F.useContext(ql);return Ue(t,ry(n)),t}function kk(n){let t=F.useContext(nm);return Ue(t,ry(n)),t}function Rk(n){let t=F.useContext(Ls);return Ue(t,ry(n)),t}function ay(n){let t=Rk(n),e=t.matches[t.matches.length-1];return Ue(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function Ik(){return ay("useRouteId")}function jk(){let n=F.useContext(iy),t=kk("useRouteError"),e=ay("useRouteError");return n!==void 0?n:t.errors?.[e]}function Dk(){let{router:n}=Ck("useNavigate"),t=ay("useNavigate"),e=F.useRef(!1);return cE(()=>{e.current=!0}),F.useCallback(async(i,a={})=>{Ps(e.current,lE),e.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:t,...a}))},[n,t])}var H_={};function hE(n,t,e){!t&&!H_[n]&&(H_[n]=!0,Ps(!1,e))}F.memo(Mk);function Mk({routes:n,future:t,state:e}){return uE(n,void 0,e,t)}function Vs({to:n,replace:t,state:e,relative:s}){Ue(Wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=F.useContext(Zs);Ps(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Ls),{pathname:l}=ji(),u=th(),h=sy(n,ny(a),l,s==="path"),f=JSON.stringify(h);return F.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:s})},[u,f,s,t,e]),null}function dE(n){return vk(n.context)}function wn(n){Ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ok({basename:n="/",children:t=null,location:e,navigationType:s="POP",navigator:i,static:a=!1}){Ue(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof e=="string"&&(e=Eo(e));let{pathname:h="/",search:f="",hash:g="",state:x=null,key:b="default"}=e,w=F.useMemo(()=>{let T=mr(h,l);return T==null?null:{location:{pathname:T,search:f,hash:g,state:x,key:b},navigationType:s}},[l,h,f,g,x,b,s]);return Ps(w!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:F.createElement(Zs.Provider,{value:u},F.createElement(Zu.Provider,{children:t,value:w}))}function Pk({children:n,location:t}){return wk(p0(n),t)}function p0(n,t=[]){let e=[];return F.Children.forEach(n,(s,i)=>{if(!F.isValidElement(s))return;let a=[...t,i];if(s.type===F.Fragment){e.push.apply(e,p0(s.props.children,a));return}Ue(s.type===wn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=p0(s.props.children,a)),e.push(l)}),e}var hf="get",df="application/x-www-form-urlencoded";function sm(n){return n!=null&&typeof n.tagName=="string"}function Lk(n){return sm(n)&&n.tagName.toLowerCase()==="button"}function Vk(n){return sm(n)&&n.tagName.toLowerCase()==="form"}function zk(n){return sm(n)&&n.tagName.toLowerCase()==="input"}function Uk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Bk(n,t){return n.button===0&&(!t||t==="_self")&&!Uk(n)}var Ld=null;function Fk(){if(Ld===null)try{new FormData(document.createElement("form"),0),Ld=!1}catch{Ld=!0}return Ld}var Hk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lg(n){return n!=null&&!Hk.has(n)?(Ps(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):n}function $k(n,t){let e,s,i,a,l;if(Vk(n)){let u=n.getAttribute("action");s=u?mr(u,t):null,e=n.getAttribute("method")||hf,i=Lg(n.getAttribute("enctype"))||df,a=new FormData(n)}else if(Lk(n)||zk(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(s=h?mr(h,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||hf,i=Lg(n.getAttribute("formenctype"))||Lg(u.getAttribute("enctype"))||df,a=new FormData(u,n),!Fk()){let{name:f,type:g,value:x}=n;if(g==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,x)}}else{if(sm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=hf,s=null,i=df,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:s,method:e.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Gk(n,t,e){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${e}`:t&&mr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${e}`,s}async function qk(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Yk(n,t,e){let s=await Promise.all(n.map(async i=>{let a=t.routes[i.route.id];if(a){let l=await qk(a,e);return l.links?l.links():[]}return[]}));return Jk(s.flat(1).filter(Wk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function $_(n,t,e,s,i,a){let l=(h,f)=>e[f]?h.route.id!==e[f].route.id:!0,u=(h,f)=>e[f].pathname!==h.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,f)=>l(h,f)||u(h,f)):a==="data"?t.filter((h,f)=>{let g=s.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Kk(n,t,{includeHydrateFallback:e}={}){return Xk(n.map(s=>{let i=t.routes[s.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),e&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Xk(n){return[...new Set(n)]}function Qk(n){let t={},e=Object.keys(n).sort();for(let s of e)t[s]=n[s];return t}function Jk(n,t){let e=new Set;return new Set(t),n.reduce((s,i)=>{let a=JSON.stringify(Qk(i));return e.has(a)||(e.add(a),s.push({key:a,link:i})),s},[])}function fE(){let n=F.useContext(ql);return oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Zk(){let n=F.useContext(nm);return oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ly=F.createContext(void 0);ly.displayName="FrameworkContext";function mE(){let n=F.useContext(ly);return oy(n,"You must render this element inside a <HydratedRouter> element"),n}function tR(n,t){let e=F.useContext(ly),[s,i]=F.useState(!1),[a,l]=F.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:x}=t,b=F.useRef(null);F.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=k=>{k.forEach(j=>{l(j.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[n]),F.useEffect(()=>{if(s){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[s]);let w=()=>{i(!0)},T=()=>{i(!1),l(!1)};return e?n!=="intent"?[a,b,{}]:[a,b,{onFocus:cu(u,w),onBlur:cu(h,T),onMouseEnter:cu(f,w),onMouseLeave:cu(g,T),onTouchStart:cu(x,w)}]:[!1,b,{}]}function cu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function eR({page:n,...t}){let{router:e}=fE(),s=F.useMemo(()=>sE(e.routes,n,e.basename),[e.routes,n,e.basename]);return s?F.createElement(sR,{page:n,matches:s,...t}):null}function nR(n){let{manifest:t,routeModules:e}=mE(),[s,i]=F.useState([]);return F.useEffect(()=>{let a=!1;return Yk(n,t,e).then(l=>{a||i(l)}),()=>{a=!0}},[n,t,e]),s}function sR({page:n,matches:t,...e}){let s=ji(),{manifest:i,routeModules:a}=mE(),{basename:l}=fE(),{loaderData:u,matches:h}=Zk(),f=F.useMemo(()=>$_(n,t,h,i,s,"data"),[n,t,h,i,s]),g=F.useMemo(()=>$_(n,t,h,i,s,"assets"),[n,t,h,i,s]),x=F.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let T=new Set,S=!1;if(t.forEach(k=>{let j=i.routes[k.route.id];!j||!j.hasLoader||(!f.some(O=>O.route.id===k.route.id)&&k.route.id in u&&a[k.route.id]?.shouldRevalidate||j.hasClientLoader?S=!0:T.add(k.route.id))}),T.size===0)return[];let E=Gk(n,l,"data");return S&&T.size>0&&E.searchParams.set("_routes",t.filter(k=>T.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[l,u,s,i,f,t,n,a]),b=F.useMemo(()=>Kk(g,i),[g,i]),w=nR(g);return F.createElement(F.Fragment,null,x.map(T=>F.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...e})),b.map(T=>F.createElement("link",{key:T,rel:"modulepreload",href:T,...e})),w.map(({key:T,link:S})=>F.createElement("link",{key:T,...S})))}function iR(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var pE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pE&&(window.__reactRouterVersion="7.7.1")}catch{}function rR({basename:n,children:t,window:e}){let s=F.useRef();s.current==null&&(s.current=$C({window:e,v5Compat:!0}));let i=s.current,[a,l]=F.useState({action:i.action,location:i.location}),u=F.useCallback(h=>{F.startTransition(()=>l(h))},[l]);return F.useLayoutEffect(()=>i.listen(u),[i,u]),F.createElement(Ok,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:i})}var gE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dl=F.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:i,reloadDocument:a,replace:l,state:u,target:h,to:f,preventScrollReset:g,viewTransition:x,...b},w){let{basename:T}=F.useContext(Zs),S=typeof f=="string"&&gE.test(f),E,k=!1;if(typeof f=="string"&&S&&(E=f,pE))try{let I=new URL(window.location.href),M=f.startsWith("//")?new URL(I.protocol+f):new URL(f),U=mr(M.pathname,T);M.origin===I.origin&&U!=null?f=U+M.search+M.hash:k=!0}catch{Ps(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=yk(f,{relative:i}),[O,B,z]=tR(s,b),H=cR(f,{replace:l,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:x});function A(I){t&&t(I),I.defaultPrevented||H(I)}let R=F.createElement("a",{...b,...z,href:E||j,onClick:k||a?t:A,ref:iR(w,B),target:h,"data-discover":!S&&e==="render"?"true":void 0});return O&&!S?F.createElement(F.Fragment,null,R,F.createElement(eR,{page:j})):R});Dl.displayName="Link";var aR=F.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:i=!1,style:a,to:l,viewTransition:u,children:h,...f},g){let x=eh(l,{relative:f.relative}),b=ji(),w=F.useContext(nm),{navigator:T,basename:S}=F.useContext(Zs),E=w!=null&&mR(x)&&u===!0,k=T.encodeLocation?T.encodeLocation(x).pathname:x.pathname,j=b.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(j=j.toLowerCase(),O=O?O.toLowerCase():null,k=k.toLowerCase()),O&&S&&(O=mr(O,S)||O);const B=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let z=j===k||!i&&j.startsWith(k)&&j.charAt(B)==="/",H=O!=null&&(O===k||!i&&O.startsWith(k)&&O.charAt(k.length)==="/"),A={isActive:z,isPending:H,isTransitioning:E},R=z?t:void 0,I;typeof s=="function"?I=s(A):I=[s,z?"active":null,H?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(A):a;return F.createElement(Dl,{...f,"aria-current":R,className:I,ref:g,style:M,to:l,viewTransition:u},typeof h=="function"?h(A):h)});aR.displayName="NavLink";var oR=F.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:i,state:a,method:l=hf,action:u,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:x,...b},w)=>{let T=dR(),S=fR(u,{relative:f}),E=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&gE.test(u),j=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let B=O.nativeEvent.submitter,z=B?.getAttribute("formmethod")||l;T(B||O.currentTarget,{fetcherKey:t,method:z,navigate:e,replace:i,state:a,relative:f,preventScrollReset:g,viewTransition:x})};return F.createElement("form",{ref:w,method:E,action:S,onSubmit:s?h:j,...b,"data-discover":!k&&n==="render"?"true":void 0})});oR.displayName="Form";function lR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yE(n){let t=F.useContext(ql);return Ue(t,lR(n)),t}function cR(n,{target:t,replace:e,state:s,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=th(),h=ji(),f=eh(n,{relative:a});return F.useCallback(g=>{if(Bk(g,t)){g.preventDefault();let x=e!==void 0?e:Pu(h)===Pu(f);u(n,{replace:x,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[h,u,f,e,s,t,n,i,a,l])}var uR=0,hR=()=>`__${String(++uR)}__`;function dR(){let{router:n}=yE("useSubmit"),{basename:t}=F.useContext(Zs),e=Ik();return F.useCallback(async(s,i={})=>{let{action:a,method:l,encType:u,formData:h,body:f}=$k(s,t);if(i.navigate===!1){let g=i.fetcherKey||hR();await n.fetch(g,e,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:e,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,t,e])}function fR(n,{relative:t}={}){let{basename:e}=F.useContext(Zs),s=F.useContext(Ls);Ue(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a={...eh(n||".",{relative:t})},l=ji();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(x=>x).forEach(x=>u.append("index",x));let g=u.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:hr([e,a.pathname])),Pu(a)}function mR(n,{relative:t}={}){let e=F.useContext(oE);Ue(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yE("useViewTransitionState"),i=eh(n,{relative:t});if(!e.isTransitioning)return!1;let a=mr(e.currentLocation.pathname,s)||e.currentLocation.pathname,l=mr(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Cf(i.pathname,l)!=null||Cf(i.pathname,a)!=null}const pR=()=>m.jsx(dE,{}),gR=()=>{};var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},yR=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const i=n[e++];if(i<128)t[s++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[e++];t[s++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[e++],l=n[e++],u=n[e++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;t[s++]=String.fromCharCode(55296+(h>>10)),t[s++]=String.fromCharCode(56320+(h&1023))}else{const a=n[e++],l=n[e++];t[s++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return t.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,g=a>>2,x=(a&3)<<4|u>>4;let b=(u&15)<<2|f>>6,w=f&63;h||(w=64,l||(b=64)),s.push(e[g],e[x],e[b],e[w])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(xE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):yR(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const a=e[n.charAt(i++)],u=i<n.length?e[n.charAt(i)]:0;++i;const f=i<n.length?e[n.charAt(i)]:64;++i;const x=i<n.length?e[n.charAt(i)]:64;if(++i,a==null||u==null||f==null||x==null)throw new xR;const b=a<<2|u>>4;if(s.push(b),f!==64){const w=u<<4&240|f>>2;if(s.push(w),x!==64){const T=f<<6&192|x;s.push(T)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(n){const t=xE(n);return bE.encodeByteArray(t,!0)},kf=function(n){return bR(n).replace(/\./g,"")},vE=function(n){try{return bE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=()=>vR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof G_>"u")return;const n=G_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ER=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&vE(n[1]);return t&&JSON.parse(t)},im=()=>{try{return gR()||_R()||wR()||ER()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_E=n=>im()?.emulatorHosts?.[n],TR=n=>{const t=_E(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},wE=()=>im()?.config,EE=n=>im()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[kf(JSON.stringify(e)),kf(JSON.stringify(l)),""].join(".")}const Su={};function AR(){const n={prod:[],emulator:[]};for(const t of Object.keys(Su))Su[t]?n.emulator.push(t):n.prod.push(t);return n}function CR(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let q_=!1;function SE(n,t){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Su[n]===t||Su[n]||q_)return;Su[n]=t;function e(b){return`__firebase__banner__${b}`}const s="__firebase__banner",a=AR().prod.length>0;function l(){const b=document.getElementById(s);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function h(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{q_=!0,l()},b}function g(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=CR(s),w=e("text"),T=document.getElementById(w)||document.createElement("span"),S=e("learnmore"),E=document.getElementById(S)||document.createElement("a"),k=e("preprendIcon"),j=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const O=b.element;u(O),g(E,S);const B=f();h(j,k),O.append(j,T,E,B),document.body.appendChild(O)}a?(T.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function RR(){const n=im()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function DR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const n=Bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OR(){return!RR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function LR(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class vr extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=VR,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nh.prototype.create)}}class nh{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},i=`${this.service}/${t}`,a=this.errors[t],l=a?zR(a,s):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new vr(i,u,s)}}function zR(n,t){return n.replace(UR,(e,s)=>{const i=t[s];return i!=null?String(i):`<${s}?>`})}const UR=/\{\$([^}]+)}/g;function BR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ga(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const i of e){if(!s.includes(i))return!1;const a=n[i],l=t[i];if(W_(a)&&W_(l)){if(!ga(a,l))return!1}else if(a!==l)return!1}for(const i of s)if(!e.includes(i))return!1;return!0}function W_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function gu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,a]=s.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function yu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function FR(n,t){const e=new HR(n,t);return e.subscribe.bind(e)}class HR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let i;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");$R(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:s},i.next===void 0&&(i.next=Vg),i.error===void 0&&(i.error=Vg),i.complete===void 0&&(i.complete=Vg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $R(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(n){return n&&n._delegate?n._delegate:n}class go{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new SR;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WR(t))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const a=this.getOrInitializeService({instanceIdentifier:i});s.resolve(a)}catch{}}}}clearInstance(t=ro){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ro){return this.instances.has(t)}getOptions(t=ro){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);s===u&&l.resolve(i)}return i}onInit(t,e){const s=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(s)??new Set;i.add(t),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&t(a,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const i of s)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qR(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ro){return this.component?this.component.multipleInstances?t:ro:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qR(n){return n===ro?void 0:n}function WR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new GR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ae||(ae={}));const KR={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},XR=ae.INFO,QR={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},JR=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),i=QR[t];if(i)console[i](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cy{constructor(t){this.name=t,this._logLevel=XR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?KR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}}const ZR=(n,t)=>t.some(e=>n instanceof e);let Y_,K_;function tI(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eI(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,g0=new WeakMap,AE=new WeakMap,zg=new WeakMap,uy=new WeakMap;function nI(n){const t=new Promise((e,s)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{e(ua(n.result)),i()},l=()=>{s(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&NE.set(e,n)}).catch(()=>{}),uy.set(t,n),t}function sI(n){if(g0.has(n))return;const t=new Promise((e,s)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{e(),i()},l=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});g0.set(n,t)}let y0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return g0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||AE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ua(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function iI(n){y0=n(y0)}function rI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Ug(this),t,...e);return AE.set(s,t.sort?t.sort():[t]),ua(s)}:eI().includes(n)?function(...t){return n.apply(Ug(this),t),ua(NE.get(this))}:function(...t){return ua(n.apply(Ug(this),t))}}function aI(n){return typeof n=="function"?rI(n):(n instanceof IDBTransaction&&sI(n),ZR(n,tI())?new Proxy(n,y0):n)}function ua(n){if(n instanceof IDBRequest)return nI(n);if(zg.has(n))return zg.get(n);const t=aI(n);return t!==n&&(zg.set(n,t),uy.set(t,n)),t}const Ug=n=>uy.get(n);function oI(n,t,{blocked:e,upgrade:s,blocking:i,terminated:a}={}){const l=indexedDB.open(n,t),u=ua(l);return s&&l.addEventListener("upgradeneeded",h=>{s(ua(l.result),h.oldVersion,h.newVersion,ua(l.transaction),h)}),e&&l.addEventListener("blocked",h=>e(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const lI=["get","getKey","getAll","getAllKeys","count"],cI=["put","add","delete","clear"],Bg=new Map;function X_(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Bg.get(t))return Bg.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,i=cI.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(i||lI.includes(e)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return s&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),i&&h.done]))[0]};return Bg.set(t,a),a}iI(n=>({...n,get:(t,e,s)=>X_(t,e)||n.get(t,e,s),has:(t,e)=>!!X_(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(hI(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function hI(n){return n.getComponent()?.type==="VERSION"}const x0="@firebase/app",Q_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new cy("@firebase/app"),dI="@firebase/app-compat",fI="@firebase/analytics-compat",mI="@firebase/analytics",pI="@firebase/app-check-compat",gI="@firebase/app-check",yI="@firebase/auth",xI="@firebase/auth-compat",bI="@firebase/database",vI="@firebase/data-connect",_I="@firebase/database-compat",wI="@firebase/functions",EI="@firebase/functions-compat",TI="@firebase/installations",SI="@firebase/installations-compat",NI="@firebase/messaging",AI="@firebase/messaging-compat",CI="@firebase/performance",kI="@firebase/performance-compat",RI="@firebase/remote-config",II="@firebase/remote-config-compat",jI="@firebase/storage",DI="@firebase/storage-compat",MI="@firebase/firestore",OI="@firebase/ai",PI="@firebase/firestore-compat",LI="firebase",VI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="[DEFAULT]",zI={[x0]:"fire-core",[dI]:"fire-core-compat",[mI]:"fire-analytics",[fI]:"fire-analytics-compat",[gI]:"fire-app-check",[pI]:"fire-app-check-compat",[yI]:"fire-auth",[xI]:"fire-auth-compat",[bI]:"fire-rtdb",[vI]:"fire-data-connect",[_I]:"fire-rtdb-compat",[wI]:"fire-fn",[EI]:"fire-fn-compat",[TI]:"fire-iid",[SI]:"fire-iid-compat",[NI]:"fire-fcm",[AI]:"fire-fcm-compat",[CI]:"fire-perf",[kI]:"fire-perf-compat",[RI]:"fire-rc",[II]:"fire-rc-compat",[jI]:"fire-gcs",[DI]:"fire-gcs-compat",[MI]:"fire-fst",[PI]:"fire-fst-compat",[OI]:"fire-vertex","fire-js":"fire-js",[LI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,UI=new Map,v0=new Map;function J_(n,t){try{n.container.addComponent(t)}catch(e){pr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ml(n){const t=n.name;if(v0.has(t))return pr.debug(`There were multiple attempts to register component ${t}.`),!1;v0.set(t,n);for(const e of Rf.values())J_(e,n);for(const e of UI.values())J_(e,n);return!0}function hy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ds(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new nh("app","Firebase",BI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,e,s){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=VI;function CE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s={name:b0,automaticDataCollectionEnabled:!0,...t},i=s.name;if(typeof i!="string"||!i)throw ha.create("bad-app-name",{appName:String(i)});if(e||(e=wE()),!e)throw ha.create("no-options");const a=Rf.get(i);if(a){if(ga(e,a.options)&&ga(s,a.config))return a;throw ha.create("duplicate-app",{appName:i})}const l=new YR(i);for(const h of v0.values())l.addComponent(h);const u=new FI(e,s,l);return Rf.set(i,u),u}function kE(n=b0){const t=Rf.get(n);if(!t&&n===b0&&wE())return CE();if(!t)throw ha.create("no-app",{appName:n});return t}function da(n,t,e){let s=zI[n]??n;e&&(s+=`-${e}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pr.warn(l.join(" "));return}Ml(new go(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebase-heartbeat-database",$I=1,Lu="firebase-heartbeat-store";let Fg=null;function RE(){return Fg||(Fg=oI(HI,$I,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Lu)}catch(e){console.warn(e)}}}}).catch(n=>{throw ha.create("idb-open",{originalErrorMessage:n.message})})),Fg}async function GI(n){try{const e=(await RE()).transaction(Lu),s=await e.objectStore(Lu).get(IE(n));return await e.done,s}catch(t){if(t instanceof vr)pr.warn(t.message);else{const e=ha.create("idb-get",{originalErrorMessage:t?.message});pr.warn(e.message)}}}async function Z_(n,t){try{const s=(await RE()).transaction(Lu,"readwrite");await s.objectStore(Lu).put(t,IE(n)),await s.done}catch(e){if(e instanceof vr)pr.warn(e.message);else{const s=ha.create("idb-set",{originalErrorMessage:e?.message});pr.warn(s.message)}}}function IE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=1024,WI=30;class YI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new XI(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:e}),this._heartbeatsCache.heartbeats.length>WI){const i=QI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=t1(),{heartbeatsToSend:e,unsentEntries:s}=KI(this._heartbeatsCache.heartbeats),i=kf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return pr.warn(t),""}}}function t1(){return new Date().toISOString().substring(0,10)}function KI(n,t=qI){const e=[];let s=n.slice();for(const i of n){const a=e.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),e1(e)>t){a.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),e1(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class XI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?LR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function e1(n){return kf(JSON.stringify({version:2,heartbeats:n})).length}function QI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n){Ml(new go("platform-logger",t=>new uI(t),"PRIVATE")),Ml(new go("heartbeat",t=>new YI(t),"PRIVATE")),da(x0,Q_,n),da(x0,Q_,"esm2020"),da("fire-js","")}JI("");function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZI=jE,DE=new nh("auth","Firebase",jE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new cy("@firebase/auth");function tj(n,...t){If.logLevel<=ae.WARN&&If.warn(`Auth (${Kl}): ${n}`,...t)}function ff(n,...t){If.logLevel<=ae.ERROR&&If.error(`Auth (${Kl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n,...t){throw dy(n,...t)}function Ti(n,...t){return dy(n,...t)}function ME(n,t,e){const s={...ZI(),[t]:e};return new nh("auth","Firebase",s).create(t,{appName:n.name})}function dr(n){return ME(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dy(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return DE.create(n,...t)}function Ut(n,t,...e){if(!n)throw dy(t,...e)}function lr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ff(t),new Error(t)}function gr(n,t){n||lr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){return typeof self<"u"&&self.location?.href||""}function ej(){return n1()==="http:"||n1()==="https:"}function n1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ej()||jR()||"connection"in navigator)?navigator.onLine:!0}function sj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,e){this.shortDelay=t,this.longDelay=e,gr(e>t,"Short delay should be less than long delay!"),this.isMobile=kR()||DR()}get(){return nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(n,t){gr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aj=new ih(3e4,6e4);function Ta(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function _r(n,t,e,s,i={}){return PE(n,i,async()=>{let a={},l={};s&&(t==="GET"?l=s:a={body:JSON.stringify(s)});const u=sh({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:h,...a};return IR()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Yl(n.emulatorConfig.host)&&(f.credentials="include"),OE.fetch()(await LE(n,n.config.apiHost,e,u),f)})}async function PE(n,t,e){n._canInitEmulator=!1;const s={...ij,...t};try{const i=new lj(n),a=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Vd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Vd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Vd(n,"user-disabled",l);const g=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ME(n,g,f);Xs(n,g)}}catch(i){if(i instanceof vr)throw i;Xs(n,"network-request-failed",{message:String(i)})}}async function rh(n,t,e,s,i={}){const a=await _r(n,t,e,s,i);return"mfaPendingCredential"in a&&Xs(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function LE(n,t,e,s){const i=`${t}${e}?${s}`,a=n,l=a.config.emulator?fy(n.config,i):`${n.config.apiScheme}://${i}`;return rj.includes(e)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function oj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Ti(this.auth,"network-request-failed")),aj.get())})}}function Vd(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const i=Ti(n,t,s);return i.customData._tokenResponse=e,i}function s1(n){return n!==void 0&&n.enterprise!==void 0}class cj{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return oj(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uj(n,t){return _r(n,"GET","/v2/recaptchaConfig",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(n,t){return _r(n,"POST","/v1/accounts:delete",t)}async function jf(n,t){return _r(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dj(n,t=!1){const e=mn(n),s=await e.getIdToken(t),i=my(s);Ut(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:s,authTime:Nu(Hg(i.auth_time)),issuedAtTime:Nu(Hg(i.iat)),expirationTime:Nu(Hg(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Hg(n){return Number(n)*1e3}function my(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=vE(e);return i?JSON.parse(i):(ff("Failed to decode base64 JWT payload"),null)}catch(i){return ff("Caught error parsing JWT payload as JSON",i?.toString()),null}}function i1(n){const t=my(n);return Ut(t,"internal-error"),Ut(typeof t.exp<"u","internal-error"),Ut(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof vr&&fj(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function fj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Df(n){const t=n.auth,e=await n.getIdToken(),s=await Ol(n,jf(t,{idToken:e}));Ut(s?.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?VE(i.providerUserInfo):[],l=gj(n.providerData,a),u=n.isAnonymous,h=!(n.email&&i.passwordHash)&&!l?.length,f=u?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new w0(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function pj(n){const t=mn(n);await Df(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gj(n,t){return[...n.filter(s=>!t.some(i=>i.providerId===s.providerId)),...t]}function VE(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(n,t){const e=await PE(n,{},async()=>{const s=sh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await LE(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:s};return n.emulatorConfig&&Yl(n.emulatorConfig.host)&&(h.credentials="include"),OE.fetch()(l,h)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function xj(n,t){return _r(n,"POST","/v2/accounts:revokeToken",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ut(t.idToken,"internal-error"),Ut(typeof t.idToken<"u","internal-error"),Ut(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):i1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ut(t.length!==0,"internal-error");const e=i1(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:i,expiresIn:a}=await yj(t,e);this.updateTokensAndExpiration(s,i,Number(a))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:i,expirationTime:a}=e,l=new Al;return s&&(Ut(typeof s=="string","internal-error",{appName:t}),l.refreshToken=s),i&&(Ut(typeof i=="string","internal-error",{appName:t}),l.accessToken=i),a&&(Ut(typeof a=="number","internal-error",{appName:t}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(n,t){Ut(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ws{constructor({uid:t,auth:e,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new mj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new w0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return Ut(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return dj(this,t)}reload(){return pj(this)}_assign(t){this!==t&&(Ut(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ws({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Df(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ds(this.auth.app))return Promise.reject(dr(this.auth));const t=await this.getIdToken();return await Ol(this,hj(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const s=e.displayName??void 0,i=e.email??void 0,a=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,h=e._redirectEventId??void 0,f=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:x,emailVerified:b,isAnonymous:w,providerData:T,stsTokenManager:S}=e;Ut(x&&S,t,"internal-error");const E=Al.fromJSON(this.name,S);Ut(typeof x=="string",t,"internal-error"),Xr(s,t.name),Xr(i,t.name),Ut(typeof b=="boolean",t,"internal-error"),Ut(typeof w=="boolean",t,"internal-error"),Xr(a,t.name),Xr(l,t.name),Xr(u,t.name),Xr(h,t.name),Xr(f,t.name),Xr(g,t.name);const k=new Ws({uid:x,auth:t,email:i,emailVerified:b,displayName:s,isAnonymous:w,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:E,createdAt:f,lastLoginAt:g});return T&&Array.isArray(T)&&(k.providerData=T.map(j=>({...j}))),h&&(k._redirectEventId=h),k}static async _fromIdTokenResponse(t,e,s=!1){const i=new Al;i.updateFromServerResponse(e);const a=new Ws({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:s});return await Df(a),a}static async _fromGetAccountInfoResponse(t,e,s){const i=e.users[0];Ut(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?VE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new Al;u.updateFromIdToken(s);const h=new Ws({uid:i.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new w0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Map;function cr(n){gr(n instanceof Function,"Expected a class definition");let t=r1.get(n);return t?(gr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,r1.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}zE.type="NONE";const a1=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n,t,e){return`firebase:${n}:${t}:${e}`}class Cl{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:i,name:a}=this.auth;this.fullUserKey=mf(this.userKey,i.apiKey,a),this.fullPersistenceKey=mf("persistence",i.apiKey,a),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await jf(this.auth,{idToken:t}).catch(()=>{});return e?Ws._fromGetAccountInfoResponse(this.auth,e,t):null}return Ws._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Cl(cr(a1),t,s);const i=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||cr(a1);const l=mf(s,t.config.apiKey,t.name);let u=null;for(const f of e)try{const g=await f._get(l);if(g){let x;if(typeof g=="string"){const b=await jf(t,{idToken:g}).catch(()=>{});if(!b)break;x=await Ws._fromGetAccountInfoResponse(t,b,g)}else x=Ws._fromJSON(t,g);f!==a&&(u=x),a=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Cl(a,t,s):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Cl(a,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(UE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GE(t))return"Blackberry";if(qE(t))return"Webos";if(BE(t))return"Safari";if((t.includes("chrome/")||FE(t))&&!t.includes("edge/"))return"Chrome";if($E(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if(s?.length===2)return s[1]}return"Other"}function UE(n=Bn()){return/firefox\//i.test(n)}function BE(n=Bn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FE(n=Bn()){return/crios\//i.test(n)}function HE(n=Bn()){return/iemobile/i.test(n)}function $E(n=Bn()){return/android/i.test(n)}function GE(n=Bn()){return/blackberry/i.test(n)}function qE(n=Bn()){return/webos/i.test(n)}function py(n=Bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bj(n=Bn()){return py(n)&&!!window.navigator?.standalone}function vj(){return MR()&&document.documentMode===10}function WE(n=Bn()){return py(n)||$E(n)||qE(n)||GE(n)||/windows phone/i.test(n)||HE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n,t=[]){let e;switch(n){case"Browser":e=o1(Bn());break;case"Worker":e=`${o1(Bn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Kl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=a=>new Promise((l,u)=>{try{const h=t(a);l(h)}catch(h){u(h)}});s.onAbort=e,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(n,t={}){return _r(n,"GET","/v2/passwordPolicy",Ta(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=6;class Tj{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??Ej,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let i=0;i<t.length;i++)s=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(t,e,s,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l1(this),this.idTokenSubscription=new l1(this),this.beforeStateQueue=new _j(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=cr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await jf(this,{idToken:t}),s=await Ws._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ds(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let s=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=s?._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&u?.user&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Df(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sj()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ds(this.app))return Promise.reject(dr(this));const e=t?mn(t):null;return e&&Ut(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ut(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ds(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ds(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wj(this),e=new Tj(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nh("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await xj(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&cr(t)||this._popupRedirectResolver;Ut(e,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[cr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,i){if(this._deleted)return()=>{};const a=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof e=="function"){const h=t.addObserver(e,s,i);return()=>{l=!0,h()}}else{const h=t.addObserver(e);return()=>{l=!0,h()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=YE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ds(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tj(`Error while retrieving App Check token: ${t.error}`),t?.token}}function To(n){return mn(n)}class l1{constructor(t){this.auth=t,this.observer=null,this.addObserver=FR(e=>this.observer=e)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nj(n){rm=n}function KE(n){return rm.loadJS(n)}function Aj(){return rm.recaptchaEnterpriseScript}function Cj(){return rm.gapiScript}function kj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Rj{constructor(){this.enterprise=new Ij}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Ij{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const jj="recaptcha-enterprise",XE="NO_RECAPTCHA";class Dj{constructor(t){this.type=jj,this.auth=To(t)}async verify(t="verify",e=!1){async function s(a){if(!e){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{uj(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new cj(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;s1(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:t}).then(f=>{l(f)}).catch(()=>{l(XE)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Rj().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{s(this.auth).then(u=>{if(!e&&s1(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Aj();h.length!==0&&(h+=u),KE(h).then(()=>{i(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function c1(n,t,e,s=!1,i=!1){const a=new Dj(n);let l;if(i)l=XE;else try{l=await a.verify(e)}catch{l=await a.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return s?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function E0(n,t,e,s,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await c1(n,t,e,e==="getOobCode");return s(n,a)}else return s(n,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await c1(n,t,e,e==="getOobCode");return s(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(n,t){const e=hy(n,"auth");if(e.isInitialized()){const i=e.getImmediate(),a=e.getOptions();if(ga(a,t??{}))return i;Xs(i,"already-initialized")}return e.initialize({options:t})}function Oj(n,t){const e=t?.persistence||[],s=(Array.isArray(e)?e:[e]).map(cr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t?.popupRedirectResolver)}function Pj(n,t,e){const s=To(n);Ut(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const i=!1,a=QE(t),{host:l,port:u}=Lj(t),h=u===null?"":`:${u}`,f={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Ut(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ut(ga(f,s.config.emulator)&&ga(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,Yl(l)?(TE(`${a}//${l}${h}`),SE("Auth",!0)):Vj()}function QE(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Lj(n){const t=QE(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const a=i[1];return{host:a,port:u1(s.substr(a.length+1))}}else{const[a,l]=s.split(":");return{host:a,port:u1(l)}}}function u1(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Vj(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return lr("not implemented")}_getIdTokenResponse(t){return lr("not implemented")}_linkToIdToken(t,e){return lr("not implemented")}_getReauthenticationResolver(t){return lr("not implemented")}}async function zj(n,t){return _r(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(n,t){return rh(n,"POST","/v1/accounts:signInWithPassword",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(n,t){return rh(n,"POST","/v1/accounts:signInWithEmailLink",Ta(n,t))}async function Fj(n,t){return rh(n,"POST","/v1/accounts:signInWithEmailLink",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends gy{constructor(t,e,s,i=null){super("password",s),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Vu(t,e,"password")}static _fromEmailAndCode(t,e,s=null){return new Vu(t,e,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E0(t,e,"signInWithPassword",Uj);case"emailLink":return Bj(t,{email:this._email,oobCode:this._password});default:Xs(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const s={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E0(t,s,"signUpPassword",zj);case"emailLink":return Fj(t,{idToken:e,email:this._email,oobCode:this._password});default:Xs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(n,t){return rh(n,"POST","/v1/accounts:signInWithIdp",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="http://localhost";class yo extends gy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new yo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Xs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:i,...a}=e;if(!s||!i)return null;const l=new yo(s,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return kl(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,kl(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,kl(t,e)}buildRequest(){const t={requestUri:Hj,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=sh(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gj(n){const t=gu(yu(n)).link,e=t?gu(yu(t)).deep_link_id:null,s=gu(yu(n)).deep_link_id;return(s?gu(yu(s)).link:null)||s||e||t||n}class yy{constructor(t){const e=gu(yu(t)),s=e.apiKey??null,i=e.oobCode??null,a=$j(e.mode??null);Ut(s&&i&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=i,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=Gj(t);try{return new yy(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.providerId=Xl.PROVIDER_ID}static credential(t,e){return Vu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const s=yy.parseLink(e);return Ut(s,"argument-error"),Vu._fromEmailAndCode(t,s.code,s.tenantId)}}Xl.PROVIDER_ID="password";Xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends JE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends ah{constructor(){super("facebook.com")}static credential(t){return yo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ta.credential(t.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return yo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return ea.credential(e,s)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends ah{constructor(){super("github.com")}static credential(t){return yo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return na.credential(t.oauthAccessToken)}catch{return null}}}na.GITHUB_SIGN_IN_METHOD="github.com";na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends ah{constructor(){super("twitter.com")}static credential(t,e){return yo._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return sa.credentialFromTaggedObject(t)}static credentialFromError(t){return sa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return sa.credential(e,s)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(n,t){return rh(n,"POST","/v1/accounts:signUp",Ta(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,i=!1){const a=await Ws._fromIdTokenResponse(t,s,i),l=h1(s);return new xo({user:a,providerId:l,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const i=h1(s);return new xo({user:t,providerId:i,_tokenResponse:s,operationType:e})}}function h1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends vr{constructor(t,e,s,i){super(e.code,e.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,i){return new Mf(t,e,s,i)}}function ZE(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(n,a,t,s):a})}async function Wj(n,t,e=!1){const s=await Ol(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return xo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(n,t,e=!1){const{auth:s}=n;if(Ds(s.app))return Promise.reject(dr(s));const i="reauthenticate";try{const a=await Ol(n,ZE(s,i,t,n),e);Ut(a.idToken,s,"internal-error");const l=my(a.idToken);Ut(l,s,"internal-error");const{sub:u}=l;return Ut(n.uid===u,s,"user-mismatch"),xo._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Xs(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(n,t,e=!1){if(Ds(n.app))return Promise.reject(dr(n));const s="signIn",i=await ZE(n,s,t),a=await xo._fromIdTokenResponse(n,s,i);return e||await n._updateCurrentUser(a.user),a}async function Kj(n,t){return tT(To(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(n){const t=To(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Xj(n,t,e){if(Ds(n.app))return Promise.reject(dr(n));const s=To(n),l=await E0(s,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qj).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&eT(n),h}),u=await xo._fromIdTokenResponse(s,"signIn",l);return await s._updateCurrentUser(u.user),u}function Qj(n,t,e){return Ds(n.app)?Promise.reject(dr(n)):Kj(mn(n),Xl.credential(t,e)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eT(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(n,t){return _r(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const s=mn(n),a={idToken:await s.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=await Ol(s,Jj(s.auth,a));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;const u=s.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),await s._updateTokensIfNecessary(l)}function Zj(n,t,e,s){return mn(n).onIdTokenChanged(t,e,s)}function tD(n,t,e){return mn(n).beforeAuthStateChanged(t,e)}function eD(n,t,e,s){return mn(n).onAuthStateChanged(t,e,s)}function nD(n){return mn(n).signOut()}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=1e3,iD=10;class sT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),i=this.localCache[e];s!==i&&t(e,i,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const s=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(s);!e&&this.localCache[s]===l||this.notifyListeners(s,l)},a=this.storage.getItem(s);vj()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,iD):i()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}sT.type="LOCAL";const rD=sT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}iT.type="SESSION";const rT=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const s=new am(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:i,data:a}=e.data,l=this.handlersMap[i];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const u=Array.from(l).map(async f=>f(e.origin,a)),h=await aD(u);e.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:h})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const f=xy("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},s);l={messageChannel:i,onMessage(x){const b=x;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function lD(n){Si().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function cD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uD(){return navigator?.serviceWorker?.controller||null}function hD(){return aT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebaseLocalStorageDb",dD=1,Pf="firebaseLocalStorage",lT="fbase_key";class oh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function om(n,t){return n.transaction([Pf],t?"readwrite":"readonly").objectStore(Pf)}function fD(){const n=indexedDB.deleteDatabase(oT);return new oh(n).toPromise()}function T0(){const n=indexedDB.open(oT,dD);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Pf,{keyPath:lT})}catch(i){e(i)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Pf)?t(s):(s.close(),await fD(),t(await T0()))})})}async function f1(n,t,e){const s=om(n,!0).put({[lT]:t,value:e});return new oh(s).toPromise()}async function mD(n,t){const e=om(n,!1).get(t),s=await new oh(e).toPromise();return s===void 0?null:s.value}function m1(n,t){const e=om(n,!0).delete(t);return new oh(e).toPromise()}const pD=800,gD=3;class cT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>gD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(hD()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cD(),!this.activeServiceWorker)return;this.sender=new oD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await T0();return await f1(t,Of,"1"),await m1(t,Of),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>f1(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>mD(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>m1(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=om(i,!1).getAll();return new oh(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cT.type="LOCAL";const yD=cT;new ih(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(n,t){return t?cr(t):(Ut(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by extends gy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return kl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return kl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return kl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function bD(n){return tT(n.auth,new by(n),n.bypassAuthState)}function vD(n){const{auth:t,user:e}=n;return Ut(e,t,"internal-error"),Yj(e,new by(n),n.bypassAuthState)}async function _D(n){const{auth:t,user:e}=n;return Ut(e,t,"internal-error"),Wj(e,new by(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,e,s,i,a=!1){this.auth=t,this.resolver=s,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:i,tenantId:a,error:l,type:u}=t;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:e,sessionId:s,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bD;case"linkViaPopup":case"linkViaRedirect":return _D;case"reauthViaPopup":case"reauthViaRedirect":return vD;default:Xs(this.auth,"internal-error")}}resolve(t){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new ih(2e3,1e4);class Sl extends uT{constructor(t,e,s,i,a){super(t,e,i,a),this.provider=s,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ut(t,this.auth,"internal-error"),t}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const t=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wD.get())};t()}}Sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="pendingRedirect",pf=new Map;class TD extends uT{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=pf.get(this.auth._key());if(!t){try{const s=await SD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}pf.set(this.auth._key(),t)}return this.bypassAuthState||pf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SD(n,t){const e=CD(t),s=AD(n);if(!await s._isAvailable())return!1;const i=await s._get(e)==="true";return await s._remove(e),i}function ND(n,t){pf.set(n._key(),t)}function AD(n){return cr(n._redirectPersistence)}function CD(n){return mf(ED,n.config.apiKey,n.name)}async function kD(n,t,e=!1){if(Ds(n.app))return Promise.reject(dr(n));const s=To(n),i=xD(s,t),l=await new TD(s,i,e).execute();return l&&!e&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=600*1e3;class ID{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!hT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Ti(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=RD&&this.cachedEventUids.clear(),this.cachedEventUids.has(p1(t))}saveEventToCache(t){this.cachedEventUids.add(p1(t)),this.lastProcessedEventTime=Date.now()}}function p1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function hT({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function jD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n,t={}){return _r(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OD=/^https?/;async function PD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await DD(n);for(const e of t)try{if(LD(e))return}catch{}Xs(n,"unauthorized-domain")}function LD(n){const t=_0(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===s}if(!OD.test(e))return!1;if(MD.test(n))return s===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new ih(3e4,6e4);function g1(){const n=Si().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function zD(n){return new Promise((t,e)=>{function s(){g1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{g1(),e(Ti(n,"network-request-failed"))},timeout:VD.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)s();else{const i=kj("iframefcb");return Si()[i]=()=>{gapi.load?s():e(Ti(n,"network-request-failed"))},KE(`${Cj()}?onload=${i}`).catch(a=>e(a))}}).catch(t=>{throw gf=null,t})}let gf=null;function UD(n){return gf=gf||zD(n),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new ih(5e3,15e3),FD="__/auth/iframe",HD="emulator/auth/iframe",$D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qD(n){const t=n.config;Ut(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?fy(t,HD):`https://${n.config.authDomain}/${FD}`,s={apiKey:t.apiKey,appName:n.name,v:Kl},i=GD.get(n.config.apiHost);i&&(s.eid=i);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${e}?${sh(s).slice(1)}`}async function WD(n){const t=await UD(n),e=Si().gapi;return Ut(e,n,"internal-error"),t.open({where:document.body,url:qD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$D,dontclear:!0},s=>new Promise(async(i,a)=>{await s.restyle({setHideOnLeave:!1});const l=Ti(n,"network-request-failed"),u=Si().setTimeout(()=>{a(l)},BD.get());function h(){Si().clearTimeout(u),i(s)}s.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KD=500,XD=600,QD="_blank",JD="http://localhost";class y1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZD(n,t,e,s=KD,i=XD){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-s)/2,0).toString();let u="";const h={...YD,width:s.toString(),height:i.toString(),top:a,left:l},f=Bn().toLowerCase();e&&(u=FE(f)?QD:e),UE(f)&&(t=t||JD,h.scrollbars="yes");const g=Object.entries(h).reduce((b,[w,T])=>`${b}${w}=${T},`,"");if(bj(f)&&u!=="_self")return t5(t||"",u),new y1(null);const x=window.open(t||"",u,g);Ut(x,n,"popup-blocked");try{x.focus()}catch{}return new y1(x)}function t5(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="__/auth/handler",n5="emulator/auth/handler",s5=encodeURIComponent("fac");async function x1(n,t,e,s,i,a){Ut(n.config.authDomain,n,"auth-domain-config-required"),Ut(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Kl,eventId:i};if(t instanceof JE){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",BR(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,x]of Object.entries({}))l[g]=x}if(t instanceof ah){const g=t.getScopes().filter(x=>x!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await n._getAppCheckToken(),f=h?`#${s5}=${encodeURIComponent(h)}`:"";return`${i5(n)}?${sh(u).slice(1)}${f}`}function i5({config:n}){return n.emulator?fy(n,n5):`https://${n.authDomain}/${e5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class r5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rT,this._completeRedirectFn=kD,this._overrideRedirectResult=ND}async _openPopup(t,e,s,i){gr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const a=await x1(t,e,s,_0(),i);return ZD(t,a,xy())}async _openRedirect(t,e,s,i){await this._originValidation(t);const a=await x1(t,e,s,_0(),i);return lD(a),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:a}=this.eventManagers[e];return i?Promise.resolve(i):(gr(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await WD(t),s=new ID(t);return e.register("authEvent",i=>(Ut(i?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send($g,{type:$g},i=>{const a=i?.[0]?.[$g];a!==void 0&&e(!!a),Xs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=PD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return WE()||BE()||py()}}const a5=r5;var b1="@firebase/auth",v1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c5(n){Ml(new go("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=s.options;Ut(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YE(n)},f=new Sj(s,i,a,h);return Oj(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Ml(new go("auth-internal",t=>{const e=To(t.getProvider("auth").getImmediate());return(s=>new o5(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),da(b1,v1,l5(n)),da(b1,v1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=300,h5=EE("authIdTokenMaxAge")||u5;let _1=null;const d5=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>h5)return;const i=e?.token;_1!==i&&(_1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function f5(n=kE()){const t=hy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Mj(n,{popupRedirectResolver:a5,persistence:[yD,rD,rT]}),s=EE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const l=d5(a.toString());tD(e,l,()=>l(e.currentUser)),Zj(e,u=>l(u))}}const i=_E("auth");return i&&Pj(e,`http://${i}`),e}function m5(){return document.getElementsByTagName("head")?.[0]??document}Nj({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=i=>{const a=Ti("internal-error");a.customData=i,e(a)},s.type="text/javascript",s.charset="UTF-8",m5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c5("Browser");var p5="firebase",g5="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */da(p5,g5,"app");var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fa,dT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,R){function I(){}I.prototype=R.prototype,A.D=R.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(M,U,V){for(var L=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)L[gt-2]=arguments[gt];return R.prototype[U].apply(M,L)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var U=0;16>U;++U)M[U]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(U=0;16>U;++U)M[U]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=A.g[0],I=A.g[1],U=A.g[2];var V=A.g[3],L=R+(V^I&(U^V))+M[0]+3614090360&4294967295;R=I+(L<<7&4294967295|L>>>25),L=V+(U^R&(I^U))+M[1]+3905402710&4294967295,V=R+(L<<12&4294967295|L>>>20),L=U+(I^V&(R^I))+M[2]+606105819&4294967295,U=V+(L<<17&4294967295|L>>>15),L=I+(R^U&(V^R))+M[3]+3250441966&4294967295,I=U+(L<<22&4294967295|L>>>10),L=R+(V^I&(U^V))+M[4]+4118548399&4294967295,R=I+(L<<7&4294967295|L>>>25),L=V+(U^R&(I^U))+M[5]+1200080426&4294967295,V=R+(L<<12&4294967295|L>>>20),L=U+(I^V&(R^I))+M[6]+2821735955&4294967295,U=V+(L<<17&4294967295|L>>>15),L=I+(R^U&(V^R))+M[7]+4249261313&4294967295,I=U+(L<<22&4294967295|L>>>10),L=R+(V^I&(U^V))+M[8]+1770035416&4294967295,R=I+(L<<7&4294967295|L>>>25),L=V+(U^R&(I^U))+M[9]+2336552879&4294967295,V=R+(L<<12&4294967295|L>>>20),L=U+(I^V&(R^I))+M[10]+4294925233&4294967295,U=V+(L<<17&4294967295|L>>>15),L=I+(R^U&(V^R))+M[11]+2304563134&4294967295,I=U+(L<<22&4294967295|L>>>10),L=R+(V^I&(U^V))+M[12]+1804603682&4294967295,R=I+(L<<7&4294967295|L>>>25),L=V+(U^R&(I^U))+M[13]+4254626195&4294967295,V=R+(L<<12&4294967295|L>>>20),L=U+(I^V&(R^I))+M[14]+2792965006&4294967295,U=V+(L<<17&4294967295|L>>>15),L=I+(R^U&(V^R))+M[15]+1236535329&4294967295,I=U+(L<<22&4294967295|L>>>10),L=R+(U^V&(I^U))+M[1]+4129170786&4294967295,R=I+(L<<5&4294967295|L>>>27),L=V+(I^U&(R^I))+M[6]+3225465664&4294967295,V=R+(L<<9&4294967295|L>>>23),L=U+(R^I&(V^R))+M[11]+643717713&4294967295,U=V+(L<<14&4294967295|L>>>18),L=I+(V^R&(U^V))+M[0]+3921069994&4294967295,I=U+(L<<20&4294967295|L>>>12),L=R+(U^V&(I^U))+M[5]+3593408605&4294967295,R=I+(L<<5&4294967295|L>>>27),L=V+(I^U&(R^I))+M[10]+38016083&4294967295,V=R+(L<<9&4294967295|L>>>23),L=U+(R^I&(V^R))+M[15]+3634488961&4294967295,U=V+(L<<14&4294967295|L>>>18),L=I+(V^R&(U^V))+M[4]+3889429448&4294967295,I=U+(L<<20&4294967295|L>>>12),L=R+(U^V&(I^U))+M[9]+568446438&4294967295,R=I+(L<<5&4294967295|L>>>27),L=V+(I^U&(R^I))+M[14]+3275163606&4294967295,V=R+(L<<9&4294967295|L>>>23),L=U+(R^I&(V^R))+M[3]+4107603335&4294967295,U=V+(L<<14&4294967295|L>>>18),L=I+(V^R&(U^V))+M[8]+1163531501&4294967295,I=U+(L<<20&4294967295|L>>>12),L=R+(U^V&(I^U))+M[13]+2850285829&4294967295,R=I+(L<<5&4294967295|L>>>27),L=V+(I^U&(R^I))+M[2]+4243563512&4294967295,V=R+(L<<9&4294967295|L>>>23),L=U+(R^I&(V^R))+M[7]+1735328473&4294967295,U=V+(L<<14&4294967295|L>>>18),L=I+(V^R&(U^V))+M[12]+2368359562&4294967295,I=U+(L<<20&4294967295|L>>>12),L=R+(I^U^V)+M[5]+4294588738&4294967295,R=I+(L<<4&4294967295|L>>>28),L=V+(R^I^U)+M[8]+2272392833&4294967295,V=R+(L<<11&4294967295|L>>>21),L=U+(V^R^I)+M[11]+1839030562&4294967295,U=V+(L<<16&4294967295|L>>>16),L=I+(U^V^R)+M[14]+4259657740&4294967295,I=U+(L<<23&4294967295|L>>>9),L=R+(I^U^V)+M[1]+2763975236&4294967295,R=I+(L<<4&4294967295|L>>>28),L=V+(R^I^U)+M[4]+1272893353&4294967295,V=R+(L<<11&4294967295|L>>>21),L=U+(V^R^I)+M[7]+4139469664&4294967295,U=V+(L<<16&4294967295|L>>>16),L=I+(U^V^R)+M[10]+3200236656&4294967295,I=U+(L<<23&4294967295|L>>>9),L=R+(I^U^V)+M[13]+681279174&4294967295,R=I+(L<<4&4294967295|L>>>28),L=V+(R^I^U)+M[0]+3936430074&4294967295,V=R+(L<<11&4294967295|L>>>21),L=U+(V^R^I)+M[3]+3572445317&4294967295,U=V+(L<<16&4294967295|L>>>16),L=I+(U^V^R)+M[6]+76029189&4294967295,I=U+(L<<23&4294967295|L>>>9),L=R+(I^U^V)+M[9]+3654602809&4294967295,R=I+(L<<4&4294967295|L>>>28),L=V+(R^I^U)+M[12]+3873151461&4294967295,V=R+(L<<11&4294967295|L>>>21),L=U+(V^R^I)+M[15]+530742520&4294967295,U=V+(L<<16&4294967295|L>>>16),L=I+(U^V^R)+M[2]+3299628645&4294967295,I=U+(L<<23&4294967295|L>>>9),L=R+(U^(I|~V))+M[0]+4096336452&4294967295,R=I+(L<<6&4294967295|L>>>26),L=V+(I^(R|~U))+M[7]+1126891415&4294967295,V=R+(L<<10&4294967295|L>>>22),L=U+(R^(V|~I))+M[14]+2878612391&4294967295,U=V+(L<<15&4294967295|L>>>17),L=I+(V^(U|~R))+M[5]+4237533241&4294967295,I=U+(L<<21&4294967295|L>>>11),L=R+(U^(I|~V))+M[12]+1700485571&4294967295,R=I+(L<<6&4294967295|L>>>26),L=V+(I^(R|~U))+M[3]+2399980690&4294967295,V=R+(L<<10&4294967295|L>>>22),L=U+(R^(V|~I))+M[10]+4293915773&4294967295,U=V+(L<<15&4294967295|L>>>17),L=I+(V^(U|~R))+M[1]+2240044497&4294967295,I=U+(L<<21&4294967295|L>>>11),L=R+(U^(I|~V))+M[8]+1873313359&4294967295,R=I+(L<<6&4294967295|L>>>26),L=V+(I^(R|~U))+M[15]+4264355552&4294967295,V=R+(L<<10&4294967295|L>>>22),L=U+(R^(V|~I))+M[6]+2734768916&4294967295,U=V+(L<<15&4294967295|L>>>17),L=I+(V^(U|~R))+M[13]+1309151649&4294967295,I=U+(L<<21&4294967295|L>>>11),L=R+(U^(I|~V))+M[4]+4149444226&4294967295,R=I+(L<<6&4294967295|L>>>26),L=V+(I^(R|~U))+M[11]+3174756917&4294967295,V=R+(L<<10&4294967295|L>>>22),L=U+(R^(V|~I))+M[2]+718787259&4294967295,U=V+(L<<15&4294967295|L>>>17),L=I+(V^(U|~R))+M[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(U+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+U&4294967295,A.g[3]=A.g[3]+V&4294967295}s.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var I=R-this.blockSize,M=this.B,U=this.h,V=0;V<R;){if(U==0)for(;V<=I;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<R;)if(M[U++]=A.charCodeAt(V++),U==this.blockSize){i(this,M),U=0;break}}else for(;V<R;)if(M[U++]=A[V++],U==this.blockSize){i(this,M),U=0;break}}this.h=U,this.o+=R},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var I=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=I&255,I/=256;for(this.u(A),A=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)A[I++]=this.g[R]>>>M&255;return A};function a(A,R){var I=u;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=R(A)}function l(A,R){this.h=R;for(var I=[],M=!0,U=A.length-1;0<=U;U--){var V=A[U]|0;M&&V==R||(I[U]=V,M=!1)}this.g=I}var u={};function h(A){return-128<=A&&128>A?a(A,function(R){return new l([R|0],0>R?-1:0)}):new l([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return x;if(0>A)return E(f(-A));for(var R=[],I=1,M=0;A>=I;M++)R[M]=A/I|0,I*=4294967296;return new l(R,0)}function g(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return E(g(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(R,8)),M=x,U=0;U<A.length;U+=8){var V=Math.min(8,A.length-U),L=parseInt(A.substring(U,U+V),R);8>V?(V=f(Math.pow(R,V)),M=M.j(V).add(f(L))):(M=M.j(I),M=M.add(f(L)))}return M}var x=h(0),b=h(1),w=h(16777216);n=l.prototype,n.m=function(){if(S(this))return-E(this).m();for(var A=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);A+=(0<=M?M:4294967296+M)*R,R*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(S(this))return"-"+E(this).toString(A);for(var R=f(Math.pow(A,6)),I=this,M="";;){var U=B(I,R).g;I=k(I,U.j(R));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=U,T(I))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function S(A){return A.h==-1}n.l=function(A){return A=k(this,A),S(A)?-1:T(A)?0:1};function E(A){for(var R=A.g.length,I=[],M=0;M<R;M++)I[M]=~A.g[M];return new l(I,~A.h).add(b)}n.abs=function(){return S(this)?E(this):this},n.add=function(A){for(var R=Math.max(this.g.length,A.g.length),I=[],M=0,U=0;U<=R;U++){var V=M+(this.i(U)&65535)+(A.i(U)&65535),L=(V>>>16)+(this.i(U)>>>16)+(A.i(U)>>>16);M=L>>>16,V&=65535,L&=65535,I[U]=L<<16|V}return new l(I,I[I.length-1]&-2147483648?-1:0)};function k(A,R){return A.add(E(R))}n.j=function(A){if(T(this)||T(A))return x;if(S(this))return S(A)?E(this).j(E(A)):E(E(this).j(A));if(S(A))return E(this.j(E(A)));if(0>this.l(w)&&0>A.l(w))return f(this.m()*A.m());for(var R=this.g.length+A.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<A.g.length;U++){var V=this.i(M)>>>16,L=this.i(M)&65535,gt=A.i(U)>>>16,dt=A.i(U)&65535;I[2*M+2*U]+=L*dt,j(I,2*M+2*U),I[2*M+2*U+1]+=V*dt,j(I,2*M+2*U+1),I[2*M+2*U+1]+=L*gt,j(I,2*M+2*U+1),I[2*M+2*U+2]+=V*gt,j(I,2*M+2*U+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new l(I,0)};function j(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function O(A,R){this.g=A,this.h=R}function B(A,R){if(T(R))throw Error("division by zero");if(T(A))return new O(x,x);if(S(A))return R=B(E(A),R),new O(E(R.g),E(R.h));if(S(R))return R=B(A,E(R)),new O(E(R.g),R.h);if(30<A.g.length){if(S(A)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=R;0>=M.l(A);)I=z(I),M=z(M);var U=H(I,1),V=H(M,1);for(M=H(M,2),I=H(I,2);!T(M);){var L=V.add(M);0>=L.l(A)&&(U=U.add(I),V=L),M=H(M,1),I=H(I,1)}return R=k(A,U.j(R)),new O(U,R)}for(U=x;0<=A.l(R);){for(I=Math.max(1,Math.floor(A.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=f(I),L=V.j(R);S(L)||0<L.l(A);)I-=M,V=f(I),L=V.j(R);T(V)&&(V=b),U=U.add(V),A=k(A,L)}return new O(U,A)}n.A=function(A){return B(this,A).h},n.and=function(A){for(var R=Math.max(this.g.length,A.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&A.i(M);return new l(I,this.h&A.h)},n.or=function(A){for(var R=Math.max(this.g.length,A.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|A.i(M);return new l(I,this.h|A.h)},n.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^A.i(M);return new l(I,this.h^A.h)};function z(A){for(var R=A.g.length+1,I=[],M=0;M<R;M++)I[M]=A.i(M)<<1|A.i(M-1)>>>31;return new l(I,A.h)}function H(A,R){var I=R>>5;R%=32;for(var M=A.g.length-I,U=[],V=0;V<M;V++)U[V]=0<R?A.i(V+I)>>>R|A.i(V+I+1)<<32-R:A.i(V+I);return new l(U,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dT=s,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,fa=l}).apply(typeof w1<"u"?w1:typeof self<"u"?self:typeof window<"u"?window:{});var zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,xu,mT,yf,S0,pT,gT,yT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,N){return p==Array.prototype||p==Object.prototype||(p[_]=N.value),p};function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var _=0;_<p.length;++_){var N=p[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=e(this);function i(p,_){if(_)t:{var N=s;p=p.split(".");for(var P=0;P<p.length-1;P++){var Q=p[P];if(!(Q in N))break t;N=N[Q]}p=p[p.length-1],P=N[p],_=_(P),_!=P&&_!=null&&t(N,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var N=0,P=!1,Q={next:function(){if(!P&&N<p.length){var it=N++;return{value:_(it,p[it]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(p){return p||function(){return a(this,function(_,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function f(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,N){return p.call.apply(p.bind,arguments)}function x(p,_,N){if(!p)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,P),p.apply(_,Q)}}return function(){return p.apply(_,arguments)}}function b(p,_,N){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:x,b.apply(null,arguments)}function w(p,_){var N=Array.prototype.slice.call(arguments,1);return function(){var P=N.slice();return P.push.apply(P,arguments),p.apply(this,P)}}function T(p,_){function N(){}N.prototype=_.prototype,p.aa=_.prototype,p.prototype=new N,p.prototype.constructor=p,p.Qb=function(P,Q,it){for(var vt=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)vt[fe-2]=arguments[fe];return _.prototype[Q].apply(P,vt)}}function S(p){const _=p.length;if(0<_){const N=Array(_);for(let P=0;P<_;P++)N[P]=p[P];return N}return[]}function E(p,_){for(let N=1;N<arguments.length;N++){const P=arguments[N];if(h(P)){const Q=p.length||0,it=P.length||0;p.length=Q+it;for(let vt=0;vt<it;vt++)p[Q+vt]=P[vt]}else p.push(P)}}class k{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(p){return/^[\s\xa0]*$/.test(p)}function O(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function B(p){return B[" "](p),p}B[" "]=function(){};var z=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function H(p,_,N){for(const P in p)_.call(N,p[P],P,p)}function A(p,_){for(const N in p)_.call(void 0,p[N],N,p)}function R(p){const _={};for(const N in p)_[N]=p[N];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,_){let N,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(N in P)p[N]=P[N];for(let it=0;it<I.length;it++)N=I[it],Object.prototype.hasOwnProperty.call(P,N)&&(p[N]=P[N])}}function U(p){var _=1;p=p.split(":");const N=[];for(;0<_&&p.length;)N.push(p.shift()),_--;return p.length&&N.push(p.join(":")),N}function V(p){u.setTimeout(()=>{throw p},0)}function L(){var p=Pt;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class gt{constructor(){this.h=this.g=null}add(_,N){const P=dt.get();P.set(_,N),this.h?this.h.next=P:this.g=P,this.h=P}}var dt=new k(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let at,wt=!1,Pt=new gt,q=()=>{const p=u.Promise.resolve(void 0);at=()=>{p.then(st)}};var st=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(N){V(N)}var _=dt;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}wt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};u.addEventListener("test",N,_),u.removeEventListener("test",N,_)}catch{}return p}();function xt(p,_){if(rt.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var N=this.type=p.type,P=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(z){t:{try{B(_.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(_=null)}}else N=="mouseover"?_=p.fromElement:N=="mouseout"&&(_=p.toElement);this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:yt[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&xt.aa.h.call(this)}}T(xt,rt);var yt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function Kt(p,_,N,P,Q){this.listener=p,this.proxy=null,this.src=_,this.type=N,this.capture=!!P,this.ha=Q,this.key=++bt,this.da=this.fa=!1}function qt(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Dt(p){this.src=p,this.g={},this.h=0}Dt.prototype.add=function(p,_,N,P,Q){var it=p.toString();p=this.g[it],p||(p=this.g[it]=[],this.h++);var vt=ce(p,_,P,Q);return-1<vt?(_=p[vt],N||(_.fa=!1)):(_=new Kt(_,this.src,it,!!P,Q),_.fa=N,p.push(_)),_};function Qt(p,_){var N=_.type;if(N in p.g){var P=p.g[N],Q=Array.prototype.indexOf.call(P,_,void 0),it;(it=0<=Q)&&Array.prototype.splice.call(P,Q,1),it&&(qt(_),p.g[N].length==0&&(delete p.g[N],p.h--))}}function ce(p,_,N,P){for(var Q=0;Q<p.length;++Q){var it=p[Q];if(!it.da&&it.listener==_&&it.capture==!!N&&it.ha==P)return Q}return-1}var G="closure_lm_"+(1e6*Math.random()|0),X={};function et(p,_,N,P,Q){if(Array.isArray(_)){for(var it=0;it<_.length;it++)et(p,_[it],N,P,Q);return null}return N=je(N),p&&p[jt]?p.K(_,N,f(P)?!!P.capture:!1,Q):Nt(p,_,N,!1,P,Q)}function Nt(p,_,N,P,Q,it){if(!_)throw Error("Invalid event type");var vt=f(Q)?!!Q.capture:!!Q,fe=kt(p);if(fe||(p[G]=fe=new Dt(p)),N=fe.add(_,N,P,vt,it),N.proxy)return N;if(P=Mt(),N.proxy=P,P.src=p,P.listener=N,p.addEventListener)mt||(Q=vt),Q===void 0&&(Q=!1),p.addEventListener(_.toString(),P,Q);else if(p.attachEvent)p.attachEvent(_t(_.toString()),P);else if(p.addListener&&p.removeListener)p.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Mt(){function p(N){return _.call(p.src,p.listener,N)}const _=ee;return p}function Wt(p,_,N,P,Q){if(Array.isArray(_))for(var it=0;it<_.length;it++)Wt(p,_[it],N,P,Q);else P=f(P)?!!P.capture:!!P,N=je(N),p&&p[jt]?(p=p.i,_=String(_).toString(),_ in p.g&&(it=p.g[_],N=ce(it,N,P,Q),-1<N&&(qt(it[N]),Array.prototype.splice.call(it,N,1),it.length==0&&(delete p.g[_],p.h--)))):p&&(p=kt(p))&&(_=p.g[_.toString()],p=-1,_&&(p=ce(_,N,P,Q)),(N=-1<p?_[p]:null)&&zt(N))}function zt(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[jt])Qt(_.i,p);else{var N=p.type,P=p.proxy;_.removeEventListener?_.removeEventListener(N,P,p.capture):_.detachEvent?_.detachEvent(_t(N),P):_.addListener&&_.removeListener&&_.removeListener(P),(N=kt(_))?(Qt(N,p),N.h==0&&(N.src=null,_[G]=null)):qt(p)}}}function _t(p){return p in X?X[p]:X[p]="on"+p}function ee(p,_){if(p.da)p=!0;else{_=new xt(_,this);var N=p.listener,P=p.ha||p.src;p.fa&&zt(p),p=N.call(P,_)}return p}function kt(p){return p=p[G],p instanceof Dt?p:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(p){return typeof p=="function"?p:(p[de]||(p[de]=function(_){return p.handleEvent(_)}),p[de])}function Xt(){ft.call(this),this.i=new Dt(this),this.M=this,this.F=null}T(Xt,ft),Xt.prototype[jt]=!0,Xt.prototype.removeEventListener=function(p,_,N,P){Wt(this,p,_,N,P)};function Ot(p,_){var N,P=p.F;if(P)for(N=[];P;P=P.F)N.push(P);if(p=p.M,P=_.type||_,typeof _=="string")_=new rt(_,p);else if(_ instanceof rt)_.target=_.target||p;else{var Q=_;_=new rt(P,p),M(_,Q)}if(Q=!0,N)for(var it=N.length-1;0<=it;it--){var vt=_.g=N[it];Q=$t(vt,P,!0,_)&&Q}if(vt=_.g=p,Q=$t(vt,P,!0,_)&&Q,Q=$t(vt,P,!1,_)&&Q,N)for(it=0;it<N.length;it++)vt=_.g=N[it],Q=$t(vt,P,!1,_)&&Q}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var N=p.g[_],P=0;P<N.length;P++)qt(N[P]);delete p.g[_],p.h--}}this.F=null},Xt.prototype.K=function(p,_,N,P){return this.i.add(String(p),_,!1,N,P)},Xt.prototype.L=function(p,_,N,P){return this.i.add(String(p),_,!0,N,P)};function $t(p,_,N,P){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,it=0;it<_.length;++it){var vt=_[it];if(vt&&!vt.da&&vt.capture==N){var fe=vt.listener,cn=vt.ha||vt.src;vt.fa&&Qt(p.i,vt),Q=fe.call(cn,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function ne(p,_,N){if(typeof p=="function")N&&(p=b(p,N));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(p,_||0)}function se(p){p.g=ne(()=>{p.g=null,p.i&&(p.i=!1,se(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Hn extends ft{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(p){ft.call(this),this.h=p,this.g={}}T(ln,ft);var Be=[];function Fe(p){H(p.g,function(_,N){this.g.hasOwnProperty(N)&&zt(_)},p),p.g={}}ln.prototype.N=function(){ln.aa.N.call(this),Fe(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=u.JSON.stringify,$n=u.JSON.parse,Ft=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function bs(){}bs.prototype.h=null;function Us(p){return p.h||(p.h=p.i())}function wr(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function as(){rt.call(this,"d")}T(as,rt);function Er(){rt.call(this,"c")}T(Er,rt);var os={},Tr=null;function ti(){return Tr=Tr||new Xt}os.La="serverreachability";function Di(p){rt.call(this,os.La,p)}T(Di,rt);function ei(p){const _=ti();Ot(_,new Di(_))}os.STAT_EVENT="statevent";function Co(p,_){rt.call(this,os.STAT_EVENT,p),this.stat=_}T(Co,rt);function De(p){const _=ti();Ot(_,new Co(_,p))}os.Ma="timingevent";function Ye(p,_){rt.call(this,os.Ma,p),this.size=_}T(Ye,rt);function Ge(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},_)}function we(){this.g=!0}we.prototype.xa=function(){this.g=!1};function gn(p,_,N,P,Q,it){p.info(function(){if(p.g)if(it)for(var vt="",fe=it.split("&"),cn=0;cn<fe.length;cn++){var me=fe[cn].split("=");if(1<me.length){var xn=me[0];me=me[1];var un=xn.split("_");vt=2<=un.length&&un[1]=="type"?vt+(xn+"="+me+"&"):vt+(xn+"=redacted&")}}else vt=null;else vt=it;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+_+`
`+N+`
`+vt})}function Mi(p,_,N,P,Q,it,vt){p.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+_+`
`+N+`
`+it+" "+vt})}function ls(p,_,N,P){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+Aa(p,N)+(P?" "+P:"")})}function yh(p,_){p.info(function(){return"TIMEOUT: "+_})}we.prototype.info=function(){};function Aa(p,_){if(!p.g)return _;if(!_)return null;try{var N=JSON.parse(_);if(N){for(p=0;p<N.length;p++)if(Array.isArray(N[p])){var P=N[p];if(!(2>P.length)){var Q=P[1];if(Array.isArray(Q)&&!(1>Q.length)){var it=Q[0];if(it!="noop"&&it!="stop"&&it!="close")for(var vt=1;vt<Q.length;vt++)Q[vt]=""}}}}return ue(N)}catch{return _}}var Sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function si(){}T(si,bs),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ni=new si;function Gn(p,_,N,P){this.j=p,this.i=_,this.l=N,this.R=P||1,this.U=new ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}var lc={},ko={};function Fs(p,_,N){p.L=1,p.v=ja(cs(_)),p.m=N,p.P=!0,Pi(p,null)}function Pi(p,_){p.F=Date.now(),Ca(p),p.A=cs(p.v);var N=p.A,P=p.R;Array.isArray(P)||(P=[String(P)]),mc(N.i,"t",P),p.C=0,N=p.j.J,p.h=new Ke,p.g=Dh(p.j,N?_:null,!p.m),0<p.O&&(p.M=new Hn(b(p.Y,p,p.g),p.O)),_=p.U,N=p.g,P=p.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Be[0]=Q.toString()),Q=Be);for(var it=0;it<Q.length;it++){var vt=et(N,Q[it],P||_.handleEvent,!1,_.h||_);if(!vt)break;_.g[vt.key]=vt}_=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),ei(),gn(p.i,p.u,p.A,p.l,p.R,p.m)}Gn.prototype.ca=function(p){p=p.target;const _=this.M;_&&Es(p)==3?_.j():this.Y(p)},Gn.prototype.Y=function(p){try{if(p==this.g)t:{const un=Es(this.g);var _=this.g.Ba();const $i=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Sh(this.g)))){this.J||un!=4||_==7||(_==8||0>=$i?ei(3):ei(2)),Nr(this);var N=this.g.Z();this.X=N;e:if(xh(this)){var P=Sh(this.g);p="";var Q=P.length,it=Es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),ii(this);var vt="";break e}this.h.i=new u.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,p+=this.h.i.decode(P[_],{stream:!(it&&_==Q-1)});P.length=0,this.h.g+=p,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=N==200,Mi(this.i,this.u,this.A,this.l,this.R,un,N),this.o){if(this.T&&!this.K){e:{if(this.g){var fe,cn=this.g;if((fe=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(fe)){var me=fe;break e}}me=null}if(N=me)ls(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,N);else{this.o=!1,this.s=3,De(12),Sn(this),ii(this);break t}}if(this.P){N=!0;let Nn;for(;!this.J&&this.C<vt.length;)if(Nn=bh(this,vt),Nn==ko){un==4&&(this.s=4,De(14),N=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==lc){this.s=4,De(15),ls(this.i,this.l,vt,"[Invalid Chunk]"),N=!1;break}else ls(this.i,this.l,Nn,null),ka(this,Nn);if(xh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||vt.length!=0||this.h.h||(this.s=1,De(16),N=!1),this.o=this.o&&N,!N)ls(this.i,this.l,vt,"[Invalid Chunked Response]"),Sn(this),ii(this);else if(0<vt.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),Ua(xn),xn.M=!0,De(11))}}else ls(this.i,this.l,vt,null),ka(this,vt);un==4&&Sn(this),this.o&&!this.J&&(un==4?Rh(this.j,this):(this.o=!1,Ca(this)))}else Vm(this.g),N==400&&0<vt.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),Sn(this),ii(this)}}}catch{}finally{}};function xh(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function bh(p,_){var N=p.C,P=_.indexOf(`
`,N);return P==-1?ko:(N=Number(_.substring(N,P)),isNaN(N)?lc:(P+=1,P+N>_.length?ko:(_=_.slice(P,P+N),p.C=P+N,_)))}Gn.prototype.cancel=function(){this.J=!0,Sn(this)};function Ca(p){p.S=Date.now()+p.I,vh(p,p.I)}function vh(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ge(b(p.ba,p),_)}function Nr(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Gn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(yh(this.i,this.A),this.L!=2&&(ei(),De(17)),Sn(this),this.s=2,ii(this)):vh(this,this.S-p)};function ii(p){p.j.G==0||p.J||Rh(p.j,p)}function Sn(p){Nr(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,Fe(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function ka(p,_){try{var N=p.j;if(N.G!=0&&(N.g==p||cc(N.h,p))){if(!p.K&&cc(N.h,p)&&N.G==3){try{var P=N.Da.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){t:if(!N.u){if(N.g)if(N.g.F+3e3<p.F)Bo(N),zo(N);else break t;bc(N),De(18)}}else N.za=Q[1],0<N.za-N.T&&37500>Q[2]&&N.F&&N.v==0&&!N.C&&(N.C=Ge(b(N.Za,N),6e3));if(1>=Io(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Hi(N,11)}else if((p.K||N.g==p)&&Bo(N),!j(_))for(Q=N.Da.g.parse(_),_=0;_<Q.length;_++){let me=Q[_];if(N.T=me[0],me=me[1],N.G==2)if(me[0]=="c"){N.K=me[1],N.ia=me[2];const xn=me[3];xn!=null&&(N.la=xn,N.j.info("VER="+N.la));const un=me[4];un!=null&&(N.Aa=un,N.j.info("SVER="+N.Aa));const $i=me[5];$i!=null&&typeof $i=="number"&&0<$i&&(P=1.5*$i,N.L=P,N.j.info("backChannelRequestTimeoutMs_="+P)),P=N;const Nn=p.g;if(Nn){const hi=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var it=P.h;it.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(jo(it,it.h),it.h=null))}if(P.D){const _c=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;_c&&(P.ya=_c,Ne(P.I,P.D,_c))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-p.F,N.j.info("Handshake RTT: "+N.R+"ms")),P=N;var vt=p;if(P.qa=jh(P,P.J?P.ia:null,P.W),vt.K){qn(P.h,vt);var fe=vt,cn=P.L;cn&&(fe.I=cn),fe.B&&(Nr(fe),Ca(fe)),P.g=vt}else Ch(P);0<N.i.length&&Uo(N)}else me[0]!="stop"&&me[0]!="close"||Hi(N,7);else N.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Hi(N,7):yc(N):me[0]!="noop"&&N.l&&N.l.ta(me),N.v=0)}}ei(4)}catch{}}var _h=class{constructor(p,_){this.g=p,this.map=_}};function Li(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ro(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Io(p){return p.h?1:p.g?p.g.size:0}function cc(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function jo(p,_){p.g?p.g.add(_):p.h=_}function qn(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}Li.prototype.cancel=function(){if(this.i=uc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function uc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const N of p.g.values())_=_.concat(N.D);return _}return S(p.i)}function Mm(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var _=[],N=p.length,P=0;P<N;P++)_.push(p[P]);return _}_=[],N=0;for(P in p)_[N++]=p[P];return _}function Do(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var _=[];p=p.length;for(var N=0;N<p;N++)_.push(N);return _}_=[],N=0;for(const P in p)_[N++]=P;return _}}}function hc(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var N=Do(p),P=Mm(p),Q=P.length,it=0;it<Q;it++)_.call(void 0,P[it],N&&N[it],p)}var Ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Om(p,_){if(p){p=p.split("&");for(var N=0;N<p.length;N++){var P=p[N].indexOf("="),Q=null;if(0<=P){var it=p[N].substring(0,P);Q=p[N].substring(P+1)}else it=p[N];_(it,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function en(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof en){this.h=p.h,Ia(this,p.j),this.o=p.o,this.g=p.g,Ar(this,p.s),this.l=p.l;var _=p.i,N=new zi;N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),Vi(this,N),this.m=p.m}else p&&(_=String(p).match(Ra))?(this.h=!1,Ia(this,_[1]||"",!0),this.o=vs(_[2]||""),this.g=vs(_[3]||"",!0),Ar(this,_[4]),this.l=vs(_[5]||"",!0),Vi(this,_[6]||"",!0),this.m=vs(_[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}en.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Da(_,dc,!0),":");var N=this.g;return(N||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Da(_,dc,!0),"@"),p.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&p.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(Da(N,N.charAt(0)=="/"?Pm:fc,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",Da(N,Mo)),p.join("")};function cs(p){return new en(p)}function Ia(p,_,N){p.j=N?vs(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Ar(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function Vi(p,_,N){_ instanceof zi?(p.i=_,Eh(p.i,p.h)):(N||(_=Da(_,Lm)),p.i=new zi(_,p.h))}function Ne(p,_,N){p.i.set(_,N)}function ja(p){return Ne(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function vs(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Da(p,_,N){return typeof p=="string"?(p=encodeURI(p).replace(_,wh),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function wh(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var dc=/[#\/\?@]/g,fc=/[#\?:]/g,Pm=/[#\?]/g,Lm=/[#\?@]/g,Mo=/#/g;function zi(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function _s(p){p.g||(p.g=new Map,p.h=0,p.i&&Om(p.i,function(_,N){p.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}n=zi.prototype,n.add=function(p,_){_s(this),this.i=null,p=ri(this,p);var N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(_),this.h+=1,this};function Ui(p,_){_s(p),_=ri(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Bi(p,_){return _s(p),_=ri(p,_),p.g.has(_)}n.forEach=function(p,_){_s(this),this.g.forEach(function(N,P){N.forEach(function(Q){p.call(_,Q,P,this)},this)},this)},n.na=function(){_s(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),N=[];for(let P=0;P<_.length;P++){const Q=p[P];for(let it=0;it<Q.length;it++)N.push(_[P])}return N},n.V=function(p){_s(this);let _=[];if(typeof p=="string")Bi(this,p)&&(_=_.concat(this.g.get(ri(this,p))));else{p=Array.from(this.g.values());for(let N=0;N<p.length;N++)_=_.concat(p[N])}return _},n.set=function(p,_){return _s(this),this.i=null,p=ri(this,p),Bi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function mc(p,_,N){Ui(p,_),0<N.length&&(p.i=null,p.g.set(ri(p,_),S(N)),p.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var N=0;N<_.length;N++){var P=_[N];const it=encodeURIComponent(String(P)),vt=this.V(P);for(P=0;P<vt.length;P++){var Q=it;vt[P]!==""&&(Q+="="+encodeURIComponent(String(vt[P]))),p.push(Q)}}return this.i=p.join("&")};function ri(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Eh(p,_){_&&!p.j&&(_s(p),p.i=null,p.g.forEach(function(N,P){var Q=P.toLowerCase();P!=Q&&(Ui(this,P),mc(this,Q,N))},p)),p.j=_}function Ma(p,_){const N=new we;if(u.Image){const P=new Image;P.onload=w(ws,N,"TestLoadImage: loaded",!0,_,P),P.onerror=w(ws,N,"TestLoadImage: error",!1,_,P),P.onabort=w(ws,N,"TestLoadImage: abort",!1,_,P),P.ontimeout=w(ws,N,"TestLoadImage: timeout",!1,_,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=p}else _(!1)}function Hs(p,_){const N=new we,P=new AbortController,Q=setTimeout(()=>{P.abort(),ws(N,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:P.signal}).then(it=>{clearTimeout(Q),it.ok?ws(N,"TestPingServer: ok",!0,_):ws(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),ws(N,"TestPingServer: error",!1,_)})}function ws(p,_,N,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(N)}catch{}}function Oa(){this.g=new Ft}function ai(p,_,N){const P=N||"";try{hc(p,function(Q,it){let vt=Q;f(Q)&&(vt=ue(Q)),_.push(P+it+"="+encodeURIComponent(vt))})}catch(Q){throw _.push(P+"type="+encodeURIComponent("_badmap")),Q}}function Cr(p){this.l=p.Ub||null,this.j=p.eb||!1}T(Cr,bs),Cr.prototype.g=function(){return new Fi(this.l,this.j)},Cr.prototype.i=function(p){return function(){return p}}({});function Fi(p,_){Xt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Fi,Xt),n=Fi.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,li(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function pc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?oi(this):li(this),this.readyState==3&&pc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,oi(this))},n.Qa=function(p){this.g&&(this.response=p,oi(this))},n.ga=function(){this.g&&oi(this)};function oi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,li(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=_.next();return p.join(`\r
`)};function li(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function gc(p){let _="";return H(p,function(N,P){_+=P,_+=":",_+=N,_+=`\r
`}),_}function yn(p,_,N){t:{for(P in N){var P=!1;break t}P=!0}P||(N=gc(N),typeof p=="string"?N!=null&&encodeURIComponent(String(N)):Ne(p,_,N))}function ve(p){Xt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ve,Xt);var Oo=/^https?$/i,Pa=["POST","PUT"];n=ve.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,N,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?Us(this.o):Us(ni),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(it){Th(this,it);return}if(p=N||"",N=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)N.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const it of P.keys())N.set(it,P.get(it));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(N.keys()).find(it=>it.toLowerCase()=="content-type"),Q=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Pa,_,void 0))||P||Q||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,vt]of N)this.g.setRequestHeader(it,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(p),this.u=!1}catch(it){Th(this,it)}};function Th(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Po(p),ci(p)}function Po(p){p.A||(p.A=!0,Ot(p,"complete"),Ot(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ot(this,"complete"),Ot(this,"abort"),ci(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),ve.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},n.bb=function(){Lo(this)};function Lo(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Es(p)!=4||p.Z()!=2)){if(p.u&&Es(p)==4)ne(p.Ea,0,p);else if(Ot(p,"readystatechange"),Es(p)==4){p.h=!1;try{const vt=p.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var N;if(!(N=_)){var P;if(P=vt===0){var Q=String(p.D).match(Ra)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),P=!Oo.test(Q?Q.toLowerCase():"")}N=P}if(N)Ot(p,"complete"),Ot(p,"success");else{p.m=6;try{var it=2<Es(p)?p.g.statusText:""}catch{it=""}p.l=it+" ["+p.Z()+"]",Po(p)}}finally{ci(p)}}}}function ci(p,_){if(p.g){La(p);const N=p.g,P=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Ot(p,"ready");try{N.onreadystatechange=P}catch{}}}function La(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Es(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Es(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),$n(_)}};function Sh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Vm(p){const _={};p=(p.g&&2<=Es(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<p.length;P++){if(j(p[P]))continue;var N=U(p[P]);const Q=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const it=_[Q]||[];_[Q]=it,it.push(N)}A(_,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(p,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||_}function Vo(p){this.Aa=0,this.i=[],this.j=new we,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,p),this.cb=Va("retryDelaySeedMs",1e4,p),this.Wa=Va("forwardChannelMaxRetries",2,p),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(p&&p.concurrentRequestLimit),this.Da=new Oa,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Vo.prototype,n.la=8,n.G=1,n.connect=function(p,_,N,P){De(0),this.W=p,this.H=_||{},N&&P!==void 0&&(this.H.OSID=N,this.H.OAID=P),this.F=this.X,this.I=jh(this,null,this.W),Uo(this)};function yc(p){if(Nh(p),p.G==3){var _=p.U++,N=cs(p.I);if(Ne(N,"SID",p.K),Ne(N,"RID",_),Ne(N,"TYPE","terminate"),za(p,N),_=new Gn(p,p.j,_),_.L=2,_.v=ja(cs(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!N&&u.Image&&(new Image().src=_.v,N=!0),N||(_.g=Dh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ca(_)}Ih(p)}function zo(p){p.g&&(Ua(p),p.g.cancel(),p.g=null)}function Nh(p){zo(p),p.u&&(u.clearTimeout(p.u),p.u=null),Bo(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Uo(p){if(!Ro(p.h)&&!p.s){p.s=!0;var _=p.Ga;at||q(),wt||(at(),wt=!0),Pt.add(_,p),p.B=0}}function zm(p,_){return Io(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ge(b(p.Ga,p,_),vc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Q=new Gn(this,this.j,p);let it=this.o;if(this.S&&(it?(it=R(it),M(it,this.S)):it=this.S),this.m!==null||this.O||(Q.H=it,it=null),this.P)t:{for(var _=0,N=0;N<this.i.length;N++){e:{var P=this.i[N];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(_+=P,4096<_){_=N;break t}if(_===4096||N===this.i.length-1){_=N+1;break t}}_=1e3}else _=1e3;_=Ah(this,Q,_),N=cs(this.I),Ne(N,"RID",p),Ne(N,"CVER",22),this.D&&Ne(N,"X-HTTP-Session-Id",this.D),za(this,N),it&&(this.O?_="headers="+encodeURIComponent(String(gc(it)))+"&"+_:this.m&&yn(N,this.m,it)),jo(this.h,Q),this.Ua&&Ne(N,"TYPE","init"),this.P?(Ne(N,"$req",_),Ne(N,"SID","null"),Q.T=!0,Fs(Q,N,null)):Fs(Q,N,_),this.G=2}}else this.G==3&&(p?xc(this,p):this.i.length==0||Ro(this.h)||xc(this))};function xc(p,_){var N;_?N=_.l:N=p.U++;const P=cs(p.I);Ne(P,"SID",p.K),Ne(P,"RID",N),Ne(P,"AID",p.T),za(p,P),p.m&&p.o&&yn(P,p.m,p.o),N=new Gn(p,p.j,N,p.B+1),p.m===null&&(N.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Ah(p,N,1e3),N.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),jo(p.h,N),Fs(N,P,_)}function za(p,_){p.H&&H(p.H,function(N,P){Ne(_,P,N)}),p.l&&hc({},function(N,P){Ne(_,P,N)})}function Ah(p,_,N){N=Math.min(p.i.length,N);var P=p.l?b(p.l.Na,p.l,p):null;t:{var Q=p.i;let it=-1;for(;;){const vt=["count="+N];it==-1?0<N?(it=Q[0].g,vt.push("ofs="+it)):it=0:vt.push("ofs="+it);let fe=!0;for(let cn=0;cn<N;cn++){let me=Q[cn].g;const xn=Q[cn].map;if(me-=it,0>me)it=Math.max(0,Q[cn].g-100),fe=!1;else try{ai(xn,vt,"req"+me+"_")}catch{P&&P(xn)}}if(fe){P=vt.join("&");break t}}}return p=p.i.splice(0,N),_.D=p,P}function Ch(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;at||q(),wt||(at(),wt=!0),Pt.add(_,p),p.v=0}}function bc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ge(b(p.Fa,p),vc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,kh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ge(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),zo(this),kh(this))};function Ua(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function kh(p){p.g=new Gn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=cs(p.qa);Ne(_,"RID","rpc"),Ne(_,"SID",p.K),Ne(_,"AID",p.T),Ne(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ne(_,"TO",p.ja),Ne(_,"TYPE","xmlhttp"),za(p,_),p.m&&p.o&&yn(_,p.m,p.o),p.L&&(p.g.I=p.L);var N=p.g;p=p.ia,N.L=1,N.v=ja(cs(_)),N.m=null,N.P=!0,Pi(N,p)}n.Za=function(){this.C!=null&&(this.C=null,zo(this),bc(this),De(19))};function Bo(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Rh(p,_){var N=null;if(p.g==_){Bo(p),Ua(p),p.g=null;var P=2}else if(cc(p.h,_))N=_.D,qn(p.h,_),P=1;else return;if(p.G!=0){if(_.o)if(P==1){N=_.m?_.m.length:0,_=Date.now()-_.F;var Q=p.B;P=ti(),Ot(P,new Ye(P,N)),Uo(p)}else Ch(p);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(P==1&&zm(p,_)||P==2&&bc(p)))switch(N&&0<N.length&&(_=p.h,_.i=_.i.concat(N)),Q){case 1:Hi(p,5);break;case 4:Hi(p,10);break;case 3:Hi(p,6);break;default:Hi(p,2)}}}function vc(p,_){let N=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(N*=2),N*_}function Hi(p,_){if(p.j.info("Error code "+_),_==2){var N=b(p.fb,p),P=p.Xa;const Q=!P;P=new en(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ia(P,"https"),ja(P),Q?Ma(P.toString(),N):Hs(P.toString(),N)}else De(2);p.G=0,p.l&&p.l.sa(_),Ih(p),Nh(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Ih(p){if(p.G=0,p.ka=[],p.l){const _=uc(p.h);(_.length!=0||p.i.length!=0)&&(E(p.ka,_),E(p.ka,p.i),p.h.i.length=0,S(p.i),p.i.length=0),p.l.ra()}}function jh(p,_,N){var P=N instanceof en?cs(N):new en(N);if(P.g!="")_&&(P.g=_+"."+P.g),Ar(P,P.s);else{var Q=u.location;P=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var it=new en(null);P&&Ia(it,P),_&&(it.g=_),Q&&Ar(it,Q),N&&(it.l=N),P=it}return N=p.D,_=p.ya,N&&_&&Ne(P,N,_),Ne(P,"VER",p.la),za(p,P),P}function Dh(p,_,N){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new ve(new Cr({eb:N})):new ve(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}n=Mh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(p,_){return new Wn(p,_)};function Wn(p,_){Xt.call(this),this.g=new Vo(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!j(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new ui(this)}T(Wn,Xt),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){yc(this.g)},Wn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.u&&(N={},N.__data__=ue(p),p=N);_.i.push(new _h(_.Ya++,p)),_.G==3&&Uo(_)},Wn.prototype.N=function(){this.g.l=null,delete this.j,yc(this.g),delete this.g,Wn.aa.N.call(this)};function Oh(p){as.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){t:{for(const N in _){p=N;break t}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}T(Oh,as);function Ph(){Er.call(this),this.status=1}T(Ph,Er);function ui(p){this.g=p}T(ui,Mh),ui.prototype.ua=function(){Ot(this.g,"a")},ui.prototype.ta=function(p){Ot(this.g,new Oh(p))},ui.prototype.sa=function(p){Ot(this.g,new Ph)},ui.prototype.ra=function(){Ot(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,yT=function(){return new Fo},gT=function(){return ti()},pT=os,S0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,yf=Sr,Oi.COMPLETE="complete",mT=Oi,wr.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,xu=wr,ve.prototype.listenOnce=ve.prototype.L,ve.prototype.getLastError=ve.prototype.Ka,ve.prototype.getLastErrorCode=ve.prototype.Ba,ve.prototype.getStatus=ve.prototype.Z,ve.prototype.getResponseJson=ve.prototype.Oa,ve.prototype.getResponseText=ve.prototype.oa,ve.prototype.send=ve.prototype.ea,ve.prototype.setWithCredentials=ve.prototype.Ha,fT=ve}).apply(typeof zd<"u"?zd:typeof self<"u"?self:typeof window<"u"?window:{});const E1="@firebase/firestore",T1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new cy("@firebase/firestore");function _l(){return bo.logLevel}function St(n,...t){if(bo.logLevel<=ae.DEBUG){const e=t.map(vy);bo.debug(`Firestore (${Ql}): ${n}`,...e)}}function yr(n,...t){if(bo.logLevel<=ae.ERROR){const e=t.map(vy);bo.error(`Firestore (${Ql}): ${n}`,...e)}}function Pl(n,...t){if(bo.logLevel<=ae.WARN){const e=t.map(vy);bo.warn(`Firestore (${Ql}): ${n}`,...e)}}function vy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(n,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,xT(n,s,e)}function xT(n,t,e){let s=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw yr(s),new Error(s)}function _e(n,t,e,s){let i="Unexpected state";typeof e=="string"?i=e:s=e,n||xT(t,i,s)}function Yt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends vr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class y5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Vn.UNAUTHENTICATED))}shutdown(){}}class x5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class b5{constructor(t){this.t=t,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_e(this.o===void 0,42304);let s=this.i;const i=h=>this.i!==s?(s=this.i,e(h)):Promise.resolve();let a=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fr,t.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;t.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fr)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_e(typeof s.accessToken=="string",31837,{l:s}),new bT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new Vn(t)}}class v5{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _5{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new v5(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w5{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ds(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_e(this.o===void 0,3512);const s=a=>{a.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,St("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>s(a))};const i=a=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new S1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new S1(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=E5(40);for(let a=0;a<i.length;++a)s.length<20&&i[a]<e&&(s+=t.charAt(i[a]%62))}return s}}function oe(n,t){return n<t?-1:n>t?1:0}function N0(n,t){const e=Math.min(n.length,t.length);for(let s=0;s<e;s++){const i=n.charAt(s),a=t.charAt(s);if(i!==a)return Gg(i)===Gg(a)?oe(i,a):Gg(i)?1:-1}return oe(n.length,t.length)}const T5=55296,S5=57343;function Gg(n){const t=n.charCodeAt(0);return t>=T5&&t<=S5}function Ll(n,t,e){return n.length===t.length&&n.every((s,i)=>e(s,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="__name__";class vi{constructor(t,e,s){e===void 0?e=0:e>t.length&&Bt(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Bt(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let i=0;i<s;i++){const a=vi.compareSegments(t.get(i),e.get(i));if(a!==0)return a}return oe(t.length,e.length)}static compareSegments(t,e){const s=vi.isNumericId(t),i=vi.isNumericId(e);return s&&!i?-1:!s&&i?1:s&&i?vi.extractNumericId(t).compare(vi.extractNumericId(e)):N0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fa.fromString(t.substring(4,t.length-2))}}class Oe extends vi{construct(t,e,s){return new Oe(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new Tt(ct.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(i=>i.length>0))}return new Oe(e)}static emptyPath(){return new Oe([])}}const N5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends vi{construct(t,e,s){return new In(t,e,s)}static isValidIdentifier(t){return N5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N1}static keyField(){return new In([N1])}static fromServerFormat(t){const e=[];let s="",i=0;const a=()=>{if(s.length===0)throw new Tt(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let l=!1;for(;i<t.length;){const u=t[i];if(u==="\\"){if(i+1===t.length)throw new Tt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const h=t[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Tt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(s+=u,i++):(a(),i++)}if(a(),l)throw new Tt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new In(e)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.path=t}static fromPath(t){return new It(Oe.fromString(t))}static fromName(t){return new It(Oe.fromString(t).popFirst(5))}static empty(){return new It(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new Oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,t,e){if(!e)throw new Tt(ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function A5(n,t,e,s){if(t===!0&&s===!0)throw new Tt(ct.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function A1(n){if(!It.isDocumentKey(n))throw new Tt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C1(n){if(It.isDocumentKey(n))throw new Tt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _T(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function lm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Bt(12329,{type:typeof n})}function xr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Tt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=lm(n);throw new Tt(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n,t){const e={typeString:n};return t&&(e.value=t),e}function lh(n,t){if(!_T(n))throw new Tt(ct.INVALID_ARGUMENT,"JSON must be an object");let e;for(const s in t)if(t[s]){const i=t[s].typeString,a="value"in t[s]?{value:t[s].value}:void 0;if(!(s in n)){e=`JSON missing required field: '${s}'`;break}const l=n[s];if(i&&typeof l!==i){e=`JSON field '${s}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){e=`Expected '${s}' field to equal '${a.value}'`;break}}if(e)throw new Tt(ct.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=-62135596800,R1=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*R1);return new Ve(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Tt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Tt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<k1)throw new Tt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R1}_compareTo(t){return this.seconds===t.seconds?oe(this.nanoseconds,t.nanoseconds):oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lh(t,Ve._jsonSchema))return new Ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:on("string",Ve._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(t){return new Gt(t)}static min(){return new Gt(new Ve(0,0))}static max(){return new Gt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function C5(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(s===1e9?new Ve(e+1,0):new Ve(e,s));return new ya(i,It.empty(),t)}function k5(n){return new ya(n.readTime,n.key,zu)}class ya{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new ya(Gt.min(),It.empty(),zu)}static max(){return new ya(Gt.max(),It.empty(),zu)}}function R5(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=It.comparator(n.documentKey,t.documentKey),e!==0?e:oe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(n){if(n.code!==ct.FAILED_PRECONDITION||n.message!==I5)throw n;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht((s,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(s,i)},this.catchCallback=a=>{this.wrapFailure(e,a).next(s,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.reject(e)}static resolve(t){return new ht((e,s)=>{e(t)})}static reject(t){return new ht((e,s)=>{s(t)})}static waitFor(t){return new ht((e,s)=>{let i=0,a=0,l=!1;t.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&e()},h=>s(h))}),l=!0,a===i&&e()})}static or(t){let e=ht.resolve(!1);for(const s of t)e=e.next(i=>i?ht.resolve(i):s());return e}static forEach(t,e){const s=[];return t.forEach((i,a)=>{s.push(e.call(this,i,a))}),this.waitFor(s)}static mapArray(t,e){return new ht((s,i)=>{const a=t.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const f=h;e(t[f]).next(g=>{l[f]=g,++u,u===a&&s(l)},g=>i(g))}})}static doWhile(t,e){return new ht((s,i)=>{const a=()=>{t()===!0?e().next(()=>{a()},i):s()};a()})}}function D5(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Zl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>e.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}cm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-1;function um(n){return n==null}function Lf(n){return n===0&&1/n==-1/0}function M5(n){return typeof n=="number"&&Number.isInteger(n)&&!Lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="";function O5(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=I1(t)),t=P5(n.get(e),t);return I1(t)}function P5(n,t){let e=t;const s=n.length;for(let i=0;i<s;i++){const a=n.charAt(i);switch(a){case"\0":e+="";break;case wT:e+="";break;default:e+=a}}return e}function I1(n){return n+wT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Sa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ET(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,e){this.comparator=t,this.root=e||Rn.EMPTY}insert(t,e){return new $e(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(t){return new $e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return e+s.left.size;i<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ud(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ud(this.root,t,this.comparator,!0)}}class Ud{constructor(t,e,s,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?s(t.key,e):1,e&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Rn{constructor(t,e,s,i,a){this.key=t,this.value=e,this.color=s??Rn.RED,this.left=i??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,i,a){return new Rn(t??this.key,e??this.value,s??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let i=this;const a=s(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,e,s),null):a===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Bt(27949);return t+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(t,e,s,i,a){return this}insert(t,e,s){return new Rn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.comparator=t,this.data=new $e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new D1(this.data.getIterator())}getIteratorFrom(t){return new D1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof fn)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=s.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new fn(this.comparator);return e.data=t,e}}class D1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.fields=t,t.sort(In.comparator)}static empty(){return new xs([])}unionWith(t){let e=new fn(In.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new xs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ll(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new TT("Invalid base64 string: "+a):a}}(t);return new jn(e)}static fromUint8Array(t){const e=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(t);return new jn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let i=0;i<e.length;i++)s[i]=e.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const L5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(n){if(_e(!!n,39018),typeof n=="string"){let t=0;const e=L5.exec(n);if(_e(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Je(n.seconds),nanos:Je(n.nanos)}}function Je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ba(n){return typeof n=="string"?jn.fromBase64String(n):jn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="server_timestamp",NT="__type__",AT="__previous_value__",CT="__local_write_time__";function Ey(n){return(n?.mapValue?.fields||{})[NT]?.stringValue===ST}function hm(n){const t=n.mapValue.fields[AT];return Ey(t)?hm(t):t}function Uu(n){const t=xa(n.mapValue.fields[CT].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t,e,s,i,a,l,u,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const Vf="(default)";class Bu{constructor(t,e){this.projectId=t,this.database=e||Vf}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Vf}isEqual(t){return t instanceof Bu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="__type__",z5="__max__",Bd={mapValue:{}},RT="__vector__",zf="value";function va(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ey(n)?4:B5(n)?9007199254740991:U5(n)?10:11:Bt(28295,{value:n})}function Ii(n,t){if(n===t)return!0;const e=va(n);if(e!==va(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Uu(n).isEqual(Uu(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=xa(i.timestampValue),u=xa(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(i,a){return ba(i.bytesValue).isEqual(ba(a.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,a){return Je(i.geoPointValue.latitude)===Je(a.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(a.geoPointValue.longitude)}(n,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Je(i.integerValue)===Je(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Je(i.doubleValue),u=Je(a.doubleValue);return l===u?Lf(l)===Lf(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Ll(n.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(j1(l)!==j1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ii(l[h],u[h])))return!1;return!0}(n,t);default:return Bt(52216,{left:n})}}function Fu(n,t){return(n.values||[]).find(e=>Ii(e,t))!==void 0}function Vl(n,t){if(n===t)return 0;const e=va(n),s=va(t);if(e!==s)return oe(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,t.booleanValue);case 2:return function(a,l){const u=Je(a.integerValue||a.doubleValue),h=Je(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return M1(n.timestampValue,t.timestampValue);case 4:return M1(Uu(n),Uu(t));case 5:return N0(n.stringValue,t.stringValue);case 6:return function(a,l){const u=ba(a),h=ba(l);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const g=oe(u[f],h[f]);if(g!==0)return g}return oe(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(a,l){const u=oe(Je(a.latitude),Je(l.latitude));return u!==0?u:oe(Je(a.longitude),Je(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return O1(n.arrayValue,t.arrayValue);case 10:return function(a,l){const u=a.fields||{},h=l.fields||{},f=u[zf]?.arrayValue,g=h[zf]?.arrayValue,x=oe(f?.values?.length||0,g?.values?.length||0);return x!==0?x:O1(f,g)}(n.mapValue,t.mapValue);case 11:return function(a,l){if(a===Bd.mapValue&&l===Bd.mapValue)return 0;if(a===Bd.mapValue)return 1;if(l===Bd.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let x=0;x<h.length&&x<g.length;++x){const b=N0(h[x],g[x]);if(b!==0)return b;const w=Vl(u[h[x]],f[g[x]]);if(w!==0)return w}return oe(h.length,g.length)}(n.mapValue,t.mapValue);default:throw Bt(23264,{he:e})}}function M1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return oe(n,t);const e=xa(n),s=xa(t),i=oe(e.seconds,s.seconds);return i!==0?i:oe(e.nanos,s.nanos)}function O1(n,t){const e=n.values||[],s=t.values||[];for(let i=0;i<e.length&&i<s.length;++i){const a=Vl(e[i],s[i]);if(a)return a}return oe(e.length,s.length)}function zl(n){return A0(n)}function A0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=xa(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ba(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return It.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",i=!0;for(const a of e.values||[])i?i=!1:s+=",",s+=A0(a);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let i="{",a=!0;for(const l of s)a?a=!1:i+=",",i+=`${l}:${A0(e.fields[l])}`;return i+"}"}(n.mapValue):Bt(61005,{value:n})}function xf(n){switch(va(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hm(n);return t?16+xf(t):16;case 5:return 2*n.stringValue.length;case 6:return ba(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,a)=>i+xf(a),0)}(n.arrayValue);case 10:case 11:return function(s){let i=0;return Sa(s.fields,(a,l)=>{i+=a.length+xf(l)}),i}(n.mapValue);default:throw Bt(13486,{value:n})}}function P1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function C0(n){return!!n&&"integerValue"in n}function Ty(n){return!!n&&"arrayValue"in n}function L1(n){return!!n&&"nullValue"in n}function V1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bf(n){return!!n&&"mapValue"in n}function U5(n){return(n?.mapValue?.fields||{})[kT]?.stringValue===RT}function Au(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Sa(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=Au(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Au(n.arrayValue.values[e]);return t}return{...n}}function B5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===z5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.value=t}static empty(){return new ns({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!bf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Au(e)}setAll(t){let e=In.emptyPath(),s={},i=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const h=this.getFieldsMap(e);this.applyChanges(h,s,i),s={},i=[],e=u.popLast()}l?s[u.lastSegment()]=Au(l):i.push(u.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,s,i)}delete(t){const e=this.field(t.popLast());bf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let i=e.mapValue.fields[t.get(s)];bf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,s){Sa(e,(i,a)=>t[i]=a);for(const i of s)delete t[i]}clone(){return new ns(Au(this.value))}}function IT(n){const t=[];return Sa(n.fields,(e,s)=>{const i=new In([e]);if(bf(s)){const a=IT(s.mapValue).fields;if(a.length===0)t.push(i);else for(const l of a)t.push(i.child(l))}else t.push(i)}),new xs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,e,s,i,a,l,u){this.key=t,this.documentType=e,this.version=s,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(t){return new zn(t,0,Gt.min(),Gt.min(),Gt.min(),ns.empty(),0)}static newFoundDocument(t,e,s,i){return new zn(t,1,e,Gt.min(),s,i,0)}static newNoDocument(t,e){return new zn(t,2,e,Gt.min(),Gt.min(),ns.empty(),0)}static newUnknownDocument(t,e){return new zn(t,3,e,Gt.min(),Gt.min(),ns.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,e){this.position=t,this.inclusive=e}}function z1(n,t,e){let s=0;for(let i=0;i<n.position.length;i++){const a=t[i],l=n.position[i];if(a.field.isKeyField()?s=It.comparator(It.fromName(l.referenceValue),e.key):s=Vl(l,e.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function U1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ii(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,e="asc"){this.field=t,this.dir=e}}function F5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{}class an extends jT{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new $5(t,e,s):e==="array-contains"?new W5(t,s):e==="in"?new Y5(t,s):e==="not-in"?new K5(t,s):e==="array-contains-any"?new X5(t,s):new an(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new G5(t,s):new q5(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Vl(e,this.value)):e!==null&&va(this.value)===va(e)&&this.matchesComparison(Vl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends jT{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Qs(t,e)}matches(t){return DT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DT(n){return n.op==="and"}function MT(n){return H5(n)&&DT(n)}function H5(n){for(const t of n.filters)if(t instanceof Qs)return!1;return!0}function k0(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+zl(n.value);if(MT(n))return n.filters.map(t=>k0(t)).join(",");{const t=n.filters.map(e=>k0(e)).join(",");return`${n.op}(${t})`}}function OT(n,t){return n instanceof an?function(s,i){return i instanceof an&&s.op===i.op&&s.field.isEqual(i.field)&&Ii(s.value,i.value)}(n,t):n instanceof Qs?function(s,i){return i instanceof Qs&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((a,l,u)=>a&&OT(l,i.filters[u]),!0):!1}(n,t):void Bt(19439)}function PT(n){return n instanceof an?function(e){return`${e.field.canonicalString()} ${e.op} ${zl(e.value)}`}(n):n instanceof Qs?function(e){return e.op.toString()+" {"+e.getFilters().map(PT).join(" ,")+"}"}(n):"Filter"}class $5 extends an{constructor(t,e,s){super(t,e,s),this.key=It.fromName(s.referenceValue)}matches(t){const e=It.comparator(t.key,this.key);return this.matchesComparison(e)}}class G5 extends an{constructor(t,e){super(t,"in",e),this.keys=LT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class q5 extends an{constructor(t,e){super(t,"not-in",e),this.keys=LT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function LT(n,t){return(t.arrayValue?.values||[]).map(e=>It.fromName(e.referenceValue))}class W5 extends an{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ty(e)&&Fu(e.arrayValue,this.value)}}class Y5 extends an{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Fu(this.value.arrayValue,e)}}class K5 extends an{constructor(t,e){super(t,"not-in",e)}matches(t){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Fu(this.value.arrayValue,e)}}class X5 extends an{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ty(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Fu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(t,e=null,s=[],i=[],a=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function B1(n,t=null,e=[],s=[],i=null,a=null,l=null){return new Q5(n,t,e,s,i,a,l)}function Sy(n){const t=Yt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>k0(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),um(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>zl(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>zl(s)).join(",")),t.Te=e}return t.Te}function Ny(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!F5(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!OT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!U1(n.startAt,t.startAt)&&U1(n.endAt,t.endAt)}function R0(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,e=null,s=[],i=[],a=null,l="F",u=null,h=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J5(n,t,e,s,i,a,l,u){return new ch(n,t,e,s,i,a,l,u)}function Ay(n){return new ch(n)}function F1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VT(n){return n.collectionGroup!==null}function Cu(n){const t=Yt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),e.add(a.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new fn(In.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(a=>{e.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Bf(a,s))}),e.has(In.keyField().canonicalString())||t.Ie.push(new Bf(In.keyField(),s))}return t.Ie}function Ni(n){const t=Yt(n);return t.Ee||(t.Ee=Z5(t,Cu(n))),t.Ee}function Z5(n,t){if(n.limitType==="F")return B1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Bf(i.field,a)});const e=n.endAt?new Uf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Uf(n.startAt.position,n.startAt.inclusive):null;return B1(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function I0(n,t){const e=n.filters.concat([t]);return new ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function j0(n,t,e){return new ch(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function dm(n,t){return Ny(Ni(n),Ni(t))&&n.limitType===t.limitType}function zT(n){return`${Sy(Ni(n))}|lt:${n.limitType}`}function wl(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(i=>PT(i)).join(", ")}]`),um(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(i=>zl(i)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(i=>zl(i)).join(",")),`Target(${s})`}(Ni(n))}; limitType=${n.limitType})`}function fm(n,t){return t.isFoundDocument()&&function(s,i){const a=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):It.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(n,t)&&function(s,i){for(const a of Cu(s))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,t)&&function(s,i){for(const a of s.filters)if(!a.matches(i))return!1;return!0}(n,t)&&function(s,i){return!(s.startAt&&!function(l,u,h){const f=z1(l,u,h);return l.inclusive?f<=0:f<0}(s.startAt,Cu(s),i)||s.endAt&&!function(l,u,h){const f=z1(l,u,h);return l.inclusive?f>=0:f>0}(s.endAt,Cu(s),i))}(n,t)}function t6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UT(n){return(t,e)=>{let s=!1;for(const i of Cu(n)){const a=e6(i,t,e);if(a!==0)return a;s=s||i.field.isKeyField()}return 0}}function e6(n,t,e){const s=n.field.isKeyField()?It.comparator(t.key,e.key):function(a,l,u){const h=l.data.field(a),f=u.data.field(a);return h!==null&&f!==null?Vl(h,f):Bt(42886)}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Bt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[i,a]of s)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return s.length===1?delete this.inner[e]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Sa(this.inner,(e,s)=>{for(const[i,a]of s)t(i,a)})}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new $e(It.comparator);function br(){return n6}const BT=new $e(It.comparator);function bu(...n){let t=BT;for(const e of n)t=t.insert(e.key,e);return t}function FT(n){let t=BT;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function lo(){return ku()}function HT(){return ku()}function ku(){return new So(n=>n.toString(),(n,t)=>n.isEqual(t))}const s6=new $e(It.comparator),i6=new fn(It.comparator);function le(...n){let t=i6;for(const e of n)t=t.add(e);return t}const r6=new fn(oe);function a6(){return r6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(t)?"-0":t}}function $T(n){return{integerValue:""+n}}function GT(n,t){return M5(t)?$T(t):Cy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this._=void 0}}function o6(n,t,e){return n instanceof Hu?function(i,a){const l={fields:{[NT]:{stringValue:ST},[CT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ey(a)&&(a=hm(a)),a&&(l.fields[AT]=a),{mapValue:l}}(e,t):n instanceof Ul?WT(n,t):n instanceof $u?YT(n,t):function(i,a){const l=qT(i,a),u=H1(l)+H1(i.Ae);return C0(l)&&C0(i.Ae)?$T(u):Cy(i.serializer,u)}(n,t)}function l6(n,t,e){return n instanceof Ul?WT(n,t):n instanceof $u?YT(n,t):e}function qT(n,t){return n instanceof Gu?function(s){return C0(s)||function(a){return!!a&&"doubleValue"in a}(s)}(t)?t:{integerValue:0}:null}class Hu extends mm{}class Ul extends mm{constructor(t){super(),this.elements=t}}function WT(n,t){const e=KT(t);for(const s of n.elements)e.some(i=>Ii(i,s))||e.push(s);return{arrayValue:{values:e}}}class $u extends mm{constructor(t){super(),this.elements=t}}function YT(n,t){let e=KT(t);for(const s of n.elements)e=e.filter(i=>!Ii(i,s));return{arrayValue:{values:e}}}class Gu extends mm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function H1(n){return Je(n.integerValue||n.doubleValue)}function KT(n){return Ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,e){this.field=t,this.transform=e}}function c6(n,t){return n.field.isEqual(t.field)&&function(s,i){return s instanceof Ul&&i instanceof Ul||s instanceof $u&&i instanceof $u?Ll(s.elements,i.elements,Ii):s instanceof Gu&&i instanceof Gu?Ii(s.Ae,i.Ae):s instanceof Hu&&i instanceof Hu}(n.transform,t.transform)}class u6{constructor(t,e){this.version=t,this.transformResults=e}}class Ai{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ai}static exists(t){return new Ai(void 0,t)}static updateTime(t){return new Ai(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class pm{}function XT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new JT(n.key,Ai.none()):new uh(n.key,n.data,Ai.none());{const e=n.data,s=ns.empty();let i=new fn(In.comparator);for(let a of t.fields)if(!i.has(a)){let l=e.field(a);l===null&&a.length>1&&(a=a.popLast(),l=e.field(a)),l===null?s.delete(a):s.set(a,l),i=i.add(a)}return new Na(n.key,s,new xs(i.toArray()),Ai.none())}}function h6(n,t,e){n instanceof uh?function(i,a,l){const u=i.value.clone(),h=G1(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Na?function(i,a,l){if(!vf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=G1(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(QT(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function Ru(n,t,e,s){return n instanceof uh?function(a,l,u,h){if(!vf(a.precondition,l))return u;const f=a.value.clone(),g=q1(a.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,t,e,s):n instanceof Na?function(a,l,u,h){if(!vf(a.precondition,l))return u;const f=q1(a.fieldTransforms,h,l),g=l.data;return g.setAll(QT(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(x=>x.field))}(n,t,e,s):function(a,l,u){return vf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function d6(n,t){let e=null;for(const s of n.fieldTransforms){const i=t.data.field(s.field),a=qT(s.transform,i||null);a!=null&&(e===null&&(e=ns.empty()),e.set(s.field,a))}return e||null}function $1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Ll(s,i,(a,l)=>c6(a,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class uh extends pm{constructor(t,e,s,i=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Na extends pm{constructor(t,e,s,i,a=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function G1(n,t,e){const s=new Map;_e(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let i=0;i<e.length;i++){const a=n[i],l=a.transform,u=t.data.field(a.field);s.set(a.field,l6(l,u,e[i]))}return s}function q1(n,t,e){const s=new Map;for(const i of n){const a=i.transform,l=e.data.field(i.field);s.set(i.field,o6(a,l,t))}return s}class JT extends pm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f6 extends pm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(t,e,s,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&h6(a,t,s[i])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=Ru(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=Ru(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=HT();return this.mutations.forEach(i=>{const a=t.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=e.has(i.key)?null:u;const h=XT(l,u);h!==null&&s.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Gt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),le())}isEqual(t){return this.batchId===t.batchId&&Ll(this.mutations,t.mutations,(e,s)=>$1(e,s))&&Ll(this.baseMutations,t.baseMutations,(e,s)=>$1(e,s))}}class Ry{constructor(t,e,s,i){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=i}static from(t,e,s){_e(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let i=function(){return s6}();const a=t.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,s[l].version);return new Ry(t,e,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,ge;function y6(n){switch(n){case ct.OK:return Bt(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Bt(15467,{code:n})}}function ZT(n){if(n===void 0)return yr("GRPC error has no .code"),ct.UNKNOWN;switch(n){case rn.OK:return ct.OK;case rn.CANCELLED:return ct.CANCELLED;case rn.UNKNOWN:return ct.UNKNOWN;case rn.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case rn.INTERNAL:return ct.INTERNAL;case rn.UNAVAILABLE:return ct.UNAVAILABLE;case rn.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case rn.NOT_FOUND:return ct.NOT_FOUND;case rn.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case rn.ABORTED:return ct.ABORTED;case rn.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case rn.DATA_LOSS:return ct.DATA_LOSS;default:return Bt(39323,{code:n})}}(ge=rn||(rn={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new fa([4294967295,4294967295],0);function W1(n){const t=x6().encode(n),e=new dT;return e.update(t),new Uint8Array(e.digest())}function Y1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new fa([e,s],0),new fa([i,a],0)]}class Iy{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new vu(`Invalid padding: ${e}`);if(s<0)throw new vu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new vu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=fa.fromNumber(this.ge)}ye(t,e,s){let i=t.add(e.multiply(fa.fromNumber(s)));return i.compare(b6)===1&&(i=new fa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=W1(t),[s,i]=Y1(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(s,i,a);if(!this.we(l))return!1}return!0}static create(t,e,s){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),l=new Iy(a,i,e);return s.forEach(u=>l.insert(u)),l}insert(t){if(this.ge===0)return;const e=W1(t),[s,i]=Y1(e);for(let a=0;a<this.hashCount;a++){const l=this.ye(s,i,a);this.Se(l)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,e,s,i,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const i=new Map;return i.set(t,hh.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new gm(Gt.min(),i,new $e(oe),br(),le())}}class hh{constructor(t,e,s,i,a){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new hh(s,e,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e,s,i){this.be=t,this.removedTargetIds=e,this.key=s,this.De=i}}class tS{constructor(t,e){this.targetId=t,this.Ce=e}}class eS{constructor(t,e,s=jn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=i}}class K1{constructor(){this.ve=0,this.Fe=X1(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=le(),e=le(),s=le();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:s=s.add(i);break;default:Bt(38017,{changeType:a})}}),new hh(this.Me,this.xe,t,e,s)}qe(){this.Oe=!1,this.Fe=X1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v6{constructor(t){this.Ge=t,this.ze=new Map,this.je=br(),this.Je=Fd(),this.He=Fd(),this.Ye=new $e(oe)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const s=this.nt(e);switch(t.state){case 0:this.rt(e)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),s.Le(t.resumeToken));break;default:Bt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((s,i)=>{this.rt(i)&&e(i)})}st(t){const e=t.targetId,s=t.Ce.count,i=this.ot(e);if(i){const a=i.target;if(R0(a))if(s===0){const l=new It(a.path);this.et(e,l,zn.newNoDocument(l,Gt.min()))}else _e(s===1,20013,{expectedCount:s});else{const l=this._t(e);if(l!==s){const u=this.ut(t),h=u?this.ct(u,t,l):1;if(h!==0){this.it(e);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=e;let l,u;try{l=ba(s).toUint8Array()}catch(h){if(h instanceof TT)return Pl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Iy(l,i,a)}catch(h){return Pl(h instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(t,e,s){return e.Ce.count===s-this.Pt(t,e.targetId)?0:2}Pt(t,e){const s=this.Ge.getRemoteKeysForTarget(e);let i=0;return s.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.mightContain(u)||(this.et(e,a,null),i++)}),i}Tt(t){const e=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&R0(u.target)){const h=new It(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,zn.newNoDocument(h,t))}a.Be&&(e.set(l,a.ke()),a.qe())}});let s=le();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(s=s.add(a))}),this.je.forEach((a,l)=>l.setReadTime(t));const i=new gm(t,e,this.Ye,this.je,s);return this.je=br(),this.Je=Fd(),this.He=Fd(),this.Ye=new $e(oe),i}Xe(t,e){if(!this.rt(t))return;const s=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,s),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,s){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),s&&(this.je=this.je.insert(e,s))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new K1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new fn(oe),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new fn(oe),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||St("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new K1),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Fd(){return new $e(It.comparator)}function X1(){return new $e(It.comparator)}const _6={asc:"ASCENDING",desc:"DESCENDING"},w6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E6={and:"AND",or:"OR"};class T6{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function D0(n,t){return n.useProto3Json||um(t)?t:{value:t}}function Ff(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function S6(n,t){return Ff(n,t.toTimestamp())}function Ci(n){return _e(!!n,49232),Gt.fromTimestamp(function(e){const s=xa(e);return new Ve(s.seconds,s.nanos)}(n))}function jy(n,t){return M0(n,t).canonicalString()}function M0(n,t){const e=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return t===void 0?e:e.child(t)}function sS(n){const t=Oe.fromString(n);return _e(lS(t),10190,{key:t.toString()}),t}function O0(n,t){return jy(n.databaseId,t.path)}function qg(n,t){const e=sS(t);if(e.get(1)!==n.databaseId.projectId)throw new Tt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Tt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new It(rS(e))}function iS(n,t){return jy(n.databaseId,t)}function N6(n){const t=sS(n);return t.length===4?Oe.emptyPath():rS(t)}function P0(n){return new Oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rS(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Q1(n,t,e){return{name:O0(n,t),fields:e.value.mapValue.fields}}function A6(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Bt(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(f,g){return f.useProto3Json?(_e(g===void 0||typeof g=="string",58123),jn.fromBase64String(g||"")):(_e(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),jn.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const g=f.code===void 0?ct.UNKNOWN:ZT(f.code);return new Tt(g,f.message||"")}(l);e=new eS(s,i,a,u||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const i=qg(n,s.document.name),a=Ci(s.document.updateTime),l=s.document.createTime?Ci(s.document.createTime):Gt.min(),u=new ns({mapValue:{fields:s.document.fields}}),h=zn.newFoundDocument(i,a,l,u),f=s.targetIds||[],g=s.removedTargetIds||[];e=new _f(f,g,h.key,h)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const i=qg(n,s.document),a=s.readTime?Ci(s.readTime):Gt.min(),l=zn.newNoDocument(i,a),u=s.removedTargetIds||[];e=new _f([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const i=qg(n,s.document),a=s.removedTargetIds||[];e=new _f([],a,i,null)}else{if(!("filter"in t))return Bt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:i=0,unchangedNames:a}=s,l=new g6(i,a),u=s.targetId;e=new tS(u,l)}}return e}function C6(n,t){let e;if(t instanceof uh)e={update:Q1(n,t.key,t.value)};else if(t instanceof JT)e={delete:O0(n,t.key)};else if(t instanceof Na)e={update:Q1(n,t.key,t.data),updateMask:L6(t.fieldMask)};else{if(!(t instanceof f6))return Bt(16599,{Vt:t.type});e={verify:O0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(a,l){const u=l.transform;if(u instanceof Hu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ul)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $u)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Gu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Bt(20930,{transform:l.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:S6(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Bt(27497)}(n,t.precondition)),e}function k6(n,t){return n&&n.length>0?(_e(t!==void 0,14353),n.map(e=>function(i,a){let l=i.updateTime?Ci(i.updateTime):Ci(a);return l.isEqual(Gt.min())&&(l=Ci(a)),new u6(l,i.transformResults||[])}(e,t))):[]}function R6(n,t){return{documents:[iS(n,t.path)]}}function I6(n,t){const e={structuredQuery:{}},s=t.path;let i;t.collectionGroup!==null?(i=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=iS(n,i);const a=function(f){if(f.length!==0)return oS(Qs.create(f,"and"))}(t.filters);a&&(e.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(g=>function(b){return{field:El(b.field),direction:M6(b.dir)}}(g))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=D0(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ft:e,parent:i}}function j6(n){let t=N6(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let i=null;if(s>0){_e(s===1,65062);const g=e.from[0];g.allDescendants?i=g.collectionId:t=t.child(g.collectionId)}let a=[];e.where&&(a=function(x){const b=aS(x);return b instanceof Qs&&MT(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=function(x){return x.map(b=>function(T){return new Bf(Tl(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(b))}(e.orderBy));let u=null;e.limit&&(u=function(x){let b;return b=typeof x=="object"?x.value:x,um(b)?null:b}(e.limit));let h=null;e.startAt&&(h=function(x){const b=!!x.before,w=x.values||[];return new Uf(w,b)}(e.startAt));let f=null;return e.endAt&&(f=function(x){const b=!x.before,w=x.values||[];return new Uf(w,b)}(e.endAt)),J5(t,i,l,a,u,"F",h,f)}function D6(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:i})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function aS(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Tl(e.unaryFilter.field);return an.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Tl(e.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Tl(e.unaryFilter.field);return an.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tl(e.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}}(n):n.fieldFilter!==void 0?function(e){return an.create(Tl(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Qs.create(e.compositeFilter.filters.map(s=>aS(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}}(e.compositeFilter.op))}(n):Bt(30097,{filter:n})}function M6(n){return _6[n]}function O6(n){return w6[n]}function P6(n){return E6[n]}function El(n){return{fieldPath:n.canonicalString()}}function Tl(n){return In.fromServerFormat(n.fieldPath)}function oS(n){return n instanceof an?function(e){if(e.op==="=="){if(V1(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NAN"}};if(L1(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(V1(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NOT_NAN"}};if(L1(e.value))return{unaryFilter:{field:El(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(e.field),op:O6(e.op),value:e.value}}}(n):n instanceof Qs?function(e){const s=e.getFilters().map(i=>oS(i));return s.length===1?s[0]:{compositeFilter:{op:P6(e.op),filters:s}}}(n):Bt(54877,{filter:n})}function L6(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t,e,s,i,a=Gt.min(),l=Gt.min(),u=jn.EMPTY_BYTE_STRING,h=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(t){return new ia(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(t){this.yt=t}}function z6(n){const t=j6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?j0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.Cn=new B6}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(ya.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(ya.min())}updateCollectionGroup(t,e,s){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class B6{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),i=this.index[e]||new fn(Oe.comparator),a=!i.has(s);return this.index[e]=i.add(s),a}has(t){const e=t.lastSegment(),s=t.popLast(),i=this.index[e];return i&&i.has(s)}getEntries(t){return(this.index[t]||new fn(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cS=41943040;class es{static withCacheSize(t){return new es(t,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(cS,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bl(0)}static cr(){return new Bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="LruGarbageCollector",F6=1048576;function tw([n,t],[e,s]){const i=oe(n,e);return i===0?oe(t,s):i}class H6{constructor(t){this.Ir=t,this.buffer=new fn(tw),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();tw(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $6{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){St(Z1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Zl(e)?St(Z1,"Ignoring IndexedDB error during garbage collection: ",e):await Jl(e)}await this.Vr(3e5)})}}class G6{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(cm.ce);const s=new H6(e);return this.mr.forEachTarget(t,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.mr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(J1)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J1):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let s,i,a,l,u,h,f;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(t,i))).next(x=>(s=x,u=Date.now(),this.removeTargets(t,s,e))).next(x=>(a=x,h=Date.now(),this.removeOrphanedDocuments(t,s))).next(x=>(f=Date.now(),_l()<=ae.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${x} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}function q6(n,t){return new G6(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.changes=new So(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,zn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?ht.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(t,e,s,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=i}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(s=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(s!==null&&Ru(s.mutation,i,xs.empty(),Ve.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,le()).next(()=>s))}getLocalViewOfDocuments(t,e,s=le()){const i=lo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,s).next(a=>{let l=bu();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const s=lo();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,le()))}populateOverlays(t,e,s){const i=[];return s.forEach(a=>{e.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,s,i){let a=br();const l=ku(),u=function(){return ku()}();return e.forEach((h,f)=>{const g=s.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Na)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Ru(g.mutation,f,g.mutation.getFieldMask(),Ve.now())):l.set(f.key,xs.empty())}),this.recalculateAndSaveOverlays(t,a).next(h=>(h.forEach((f,g)=>l.set(f,g)),e.forEach((f,g)=>u.set(f,new Y6(g,l.get(f)??null))),u))}recalculateAndSaveOverlays(t,e){const s=ku();let i=new $e((l,u)=>l-u),a=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=e.get(h);if(f===null)return;let g=s.get(h)||xs.empty();g=u.applyToLocalView(f,g),s.set(h,g);const x=(i.get(u.batchId)||le()).add(h);i=i.insert(u.batchId,x)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,g=h.value,x=HT();g.forEach(b=>{if(!a.has(b)){const w=XT(e.get(b),s.get(b));w!==null&&x.set(b,w),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,x))}return ht.waitFor(l)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,i){return function(l){return It.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):VT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,i):this.getDocumentsMatchingCollectionQuery(t,e,s,i)}getNextDocuments(t,e,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,i-a.size):ht.resolve(lo());let u=zu,h=a;return l.next(f=>ht.forEach(f,(g,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),a.get(g)?ht.resolve():this.remoteDocumentCache.getEntry(t,g).next(b=>{h=h.insert(g,b)}))).next(()=>this.populateOverlays(t,f,a)).next(()=>this.computeViews(t,h,f,le())).next(g=>({batchId:u,changes:FT(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new It(e)).next(s=>{let i=bu();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,s,i){const a=e.collectionGroup;let l=bu();return this.indexManager.getCollectionParents(t,a).next(u=>ht.forEach(u,h=>{const f=function(x,b){return new ch(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(e,h.child(a));return this.getDocumentsMatchingCollectionQuery(t,f,s,i).next(g=>{g.forEach((x,b)=>{l=l.insert(x,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,s,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,a,i))).next(l=>{a.forEach((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,zn.newInvalidDocument(g)))});let u=bu();return l.forEach((h,f)=>{const g=a.get(h);g!==void 0&&Ru(g.mutation,f,xs.empty(),Ve.now()),fm(e,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ht.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(i){return{id:i.id,version:i.version,createTime:Ci(i.createTime)}}(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(i){return{name:i.name,query:z6(i.bundledQuery),readTime:Ci(i.readTime)}}(e)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.overlays=new $e(It.comparator),this.qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const s=lo();return ht.forEach(e,i=>this.getOverlay(t,i).next(a=>{a!==null&&s.set(i,a)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((i,a)=>{this.St(t,e,a)}),ht.resolve()}removeOverlaysForBatchId(t,e,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(s)),ht.resolve()}getOverlaysForCollection(t,e,s){const i=lo(),a=e.length+1,l=new It(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>s&&i.set(h.getKey(),h)}return ht.resolve(i)}getOverlaysForCollectionGroup(t,e,s,i){let a=new $e((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>s){let g=a.get(f.largestBatchId);g===null&&(g=lo(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=lo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=i)););return ht.resolve(u)}St(t,e,s){const i=this.overlays.get(s.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(s.key,new p6(e,s));let a=this.qr.get(e);a===void 0&&(a=le(),this.qr.set(e,a)),this.qr.set(e,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Qr=new fn(En.$r),this.Ur=new fn(En.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const s=new En(t,e);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.Gr(new En(t,e))}zr(t,e){t.forEach(s=>this.removeReference(s,e))}jr(t){const e=new It(new Oe([])),s=new En(e,t),i=new En(e,t+1),a=[];return this.Ur.forEachInRange([s,i],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new It(new Oe([])),s=new En(e,t),i=new En(e,t+1);let a=le();return this.Ur.forEachInRange([s,i],l=>{a=a.add(l.key)}),a}containsKey(t){const e=new En(t,0),s=this.Qr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class En{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return It.comparator(t.key,e.key)||oe(t.Yr,e.Yr)}static Kr(t,e){return oe(t.Yr,e.Yr)||It.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new fn(En.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new m6(a,e,s,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new En(u.key,a)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ht.resolve(l)}lookupMutationBatch(t,e){return ht.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,i=this.ei(s),a=i<0?0:i;return ht.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?wy:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new En(e,0),i=new En(e,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,i],l=>{const u=this.Xr(l.Yr);a.push(u)}),ht.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new fn(oe);return e.forEach(i=>{const a=new En(i,0),l=new En(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{s=s.add(u.Yr)})}),ht.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,i=s.length+1;let a=s;It.isDocumentKey(a)||(a=a.child(""));const l=new En(new It(a),0);let u=new fn(oe);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!s.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.Yr)),!0)},l),ht.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(s=>{const i=this.Xr(s);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){_e(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ht.forEach(e.mutations,i=>{const a=new En(i.key,e.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,e){const s=new En(e,0),i=this.Zr.firstAfterOrEqual(s);return ht.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t){this.ri=t,this.docs=function(){return new $e(It.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,i=this.docs.get(s),a=i?i.size:0,l=this.ri(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return ht.resolve(s?s.document.mutableCopy():zn.newInvalidDocument(e))}getEntries(t,e){let s=br();return e.forEach(i=>{const a=this.docs.get(i);s=s.insert(i,a?a.document.mutableCopy():zn.newInvalidDocument(i))}),ht.resolve(s)}getDocumentsMatchingQuery(t,e,s,i){let a=br();const l=e.path,u=new It(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||R5(k5(g),s)<=0||(i.has(g.key)||fm(e,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ht.resolve(a)}getAllFromCollectionGroup(t,e,s,i){Bt(9500)}ii(t,e){return ht.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new eM(this)}getSize(t){return ht.resolve(this.size)}}class eM extends W6{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(s)}),ht.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this.persistence=t,this.si=new So(e=>Sy(e),Ny),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new Dy,this.targetCount=0,this.ai=Bl.ur()}forEachTarget(t,e){return this.si.forEach((s,i)=>e(i)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.oi&&(this.oi=e),ht.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Bl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Pr(e),ht.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,s){let i=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=e&&s.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(t,u.targetId)),i++)}),ht.waitFor(a).next(()=>i)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const s=this.si.get(e)||null;return ht.resolve(s)}addMatchingKeys(t,e,s){return this._i.Wr(e,s),ht.resolve()}removeMatchingKeys(t,e,s){this._i.zr(e,s);const i=this.persistence.referenceDelegate,a=[];return i&&e.forEach(l=>{a.push(i.markPotentiallyOrphaned(t,l))}),ht.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const s=this._i.Hr(e);return ht.resolve(s)}containsKey(t,e){return ht.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(t,e){this.ui={},this.overlays={},this.ci=new cm(0),this.li=!1,this.li=!0,this.hi=new J6,this.referenceDelegate=t(this),this.Pi=new nM(this),this.indexManager=new U6,this.remoteDocumentCache=function(i){return new tM(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new V6(e),this.Ii=new X6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Q6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ui[t.toKey()];return s||(s=new Z6(e,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,s){St("MemoryPersistence","Starting transaction:",t);const i=new sM(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,e){return ht.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,e)))}}class sM extends j5{constructor(t){super(),this.currentSequenceNumber=t}}class My{constructor(t){this.persistence=t,this.Ri=new Dy,this.Vi=null}static mi(t){return new My(t)}get fi(){if(this.Vi)return this.Vi;throw Bt(60996)}addReference(t,e,s){return this.Ri.addReference(s,e),this.fi.delete(s.toString()),ht.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.fi.add(s.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>s.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,s=>{const i=It.fromPath(s);return this.gi(t,i).next(a=>{a||e.removeEntry(i,Gt.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(s=>{s?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return ht.or([()=>ht.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Hf{constructor(t,e){this.persistence=t,this.pi=new So(s=>O5(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=q6(this,e)}static mi(t,e){return new Hf(t,e)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(i=>s+i))}wr(t){let e=0;return this.pr(t,s=>{e++}).next(()=>e)}pr(t,e){return ht.forEach(this.pi,(s,i)=>this.br(t,s,i).next(a=>a?ht.resolve():e(i)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,l=>this.br(t,l,e).next(u=>{u||(s++,a.removeEntry(l,Gt.min()))})).next(()=>a.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,s){return this.pi.set(s,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ht.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=xf(t.data.value)),e}br(t,e,s){return ht.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.pi.get(e);return ht.resolve(i!==void 0&&i>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t,e,s,i){this.targetId=t,this.fromCache=e,this.Es=s,this.ds=i}static As(t,e){let s=le(),i=le();for(const a of e.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Oy(t,e.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return OR()?8:D5(Bn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,s,i){const a={result:null};return this.ys(t,e).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(t,e,i,s).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new iM;return this.Ss(t,e,l).next(u=>{if(a.result=u,this.Vs)return this.bs(t,e,l,u.size)})}).next(()=>a.result)}bs(t,e,s,i){return s.documentReadCount<this.fs?(_l()<=ae.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",wl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(_l()<=ae.DEBUG&&St("QueryEngine","Query:",wl(e),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(_l()<=ae.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",wl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(e))):ht.resolve())}ys(t,e){if(F1(e))return ht.resolve(null);let s=Ni(e);return this.indexManager.getIndexType(t,s).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=j0(e,null,"F"),s=Ni(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(a=>{const l=le(...a);return this.ps.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,s).next(h=>{const f=this.Ds(e,u);return this.Cs(e,f,l,h.readTime)?this.ys(t,j0(e,null,"F")):this.vs(t,f,e,h)}))})))}ws(t,e,s,i){return F1(e)||i.isEqual(Gt.min())?ht.resolve(null):this.ps.getDocuments(t,s).next(a=>{const l=this.Ds(e,a);return this.Cs(e,l,s,i)?ht.resolve(null):(_l()<=ae.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wl(e)),this.vs(t,l,e,C5(i,zu)).next(u=>u))})}Ds(t,e){let s=new fn(UT(t));return e.forEach((i,a)=>{fm(t,a)&&(s=s.add(a))}),s}Cs(t,e,s,i){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const a=t.limitType==="F"?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,e,s){return _l()<=ae.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",wl(e)),this.ps.getDocumentsMatchingQuery(t,e,ya.min(),s)}vs(t,e,s,i){return this.ps.getDocumentsMatchingQuery(t,s,i).next(a=>(e.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LocalStore",aM=3e8;class oM{constructor(t,e,s,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new $e(oe),this.xs=new So(a=>Sy(a),Ny),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new K6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function lM(n,t,e,s){return new oM(n,t,e,s)}async function hS(n,t){const e=Yt(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let i;return e.mutationQueue.getAllMutationBatches(s).next(a=>(i=a,e.Bs(t),e.mutationQueue.getAllMutationBatches(s))).next(a=>{const l=[],u=[];let h=le();for(const f of i){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return e.localDocuments.getDocuments(s,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function cM(n,t){const e=Yt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=t.batch.keys(),a=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,g){const x=f.batch,b=x.keys();let w=ht.resolve();return b.forEach(T=>{w=w.next(()=>g.getEntry(h,T)).next(S=>{const E=f.docVersions.get(T);_e(E!==null,48541),S.version.compareTo(E)<0&&(x.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),g.addEntry(S)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(h,x))}(e,s,t,a).next(()=>a.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(u){let h=le();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(t))).next(()=>e.localDocuments.getDocuments(s,i))})}function dS(n){const t=Yt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function uM(n,t){const e=Yt(n),s=t.snapshotVersion;let i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;const u=[];t.targetChanges.forEach((g,x)=>{const b=i.get(x);if(!b)return;u.push(e.Pi.removeMatchingKeys(a,g.removedDocuments,x).next(()=>e.Pi.addMatchingKeys(a,g.addedDocuments,x)));let w=b.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(x)!==null?w=w.withResumeToken(jn.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,s)),i=i.insert(x,w),function(S,E,k){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=aM?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(b,w,g)&&u.push(e.Pi.updateTargetData(a,w))});let h=br(),f=le();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(hM(a,l,t.documentUpdates).next(g=>{h=g.ks,f=g.qs})),!s.isEqual(Gt.min())){const g=e.Pi.getLastRemoteSnapshotVersion(a).next(x=>e.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s));u.push(g)}return ht.waitFor(u).next(()=>l.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(e.Ms=i,a))}function hM(n,t,e){let s=le(),i=le();return e.forEach(a=>s=s.add(a)),t.getEntries(n,s).next(a=>{let l=br();return e.forEach((u,h)=>{const f=a.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(Gt.min())?(t.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(h),l=l.insert(u,h)):St(Py,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:i}})}function dM(n,t){const e=Yt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=wy),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function fM(n,t){const e=Yt(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return e.Pi.getTargetData(s,t).next(a=>a?(i=a,ht.resolve(i)):e.Pi.allocateTargetId(s).next(l=>(i=new ia(t,l,"TargetPurposeListen",s.currentSequenceNumber),e.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=e.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.xs.set(t,s.targetId)),s})}async function L0(n,t,e){const s=Yt(n),i=s.Ms.get(t),a=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",a,l=>s.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Zl(l))throw l;St(Py,`Failed to update sequence numbers for target ${t}: ${l}`)}s.Ms=s.Ms.remove(t),s.xs.delete(i.target)}function ew(n,t,e){const s=Yt(n);let i=Gt.min(),a=le();return s.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,g){const x=Yt(h),b=x.xs.get(g);return b!==void 0?ht.resolve(x.Ms.get(b)):x.Pi.getTargetData(f,g)}(s,l,Ni(t)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>s.Fs.getDocumentsMatchingQuery(l,t,e?i:Gt.min(),e?a:le())).next(u=>(mM(s,t6(t),u),{documents:u,Qs:a})))}function mM(n,t,e){let s=n.Os.get(t)||Gt.min();e.forEach((i,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),n.Os.set(t,s)}class nw{constructor(){this.activeTargetIds=a6()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pM{constructor(){this.Mo=new nw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,s){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new nw,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="ConnectivityMonitor";class iw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){St(sw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){St(sw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd=null;function V0(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="RestConnection",yM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===Vf?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(t,e,s,i,a){const l=V0(),u=this.zo(t,e.toUriEncodedString());St(Wg,`Sending RPC '${t}' ${l}:`,u,s);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,a);const{host:f}=new URL(u),g=Yl(f);return this.Jo(t,u,h,s,g).then(x=>(St(Wg,`Received RPC '${t}' ${l}: `,x),x),x=>{throw Pl(Wg,`RPC '${t}' ${l} failed with error: `,x,"url: ",u,"request:",s),x})}Ho(t,e,s,i,a,l){return this.Go(t,e,s,i,a)}jo(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ql}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,a)=>t[a]=i),s&&s.headers.forEach((i,a)=>t[a]=i)}zo(t,e){const s=yM[t];return`${this.Uo}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class vM extends xM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,i,a){const l=V0();return new Promise((u,h)=>{const f=new fT;f.setWithCredentials(!0),f.listenOnce(mT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case yf.NO_ERROR:const x=f.getResponseJson();St(Pn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(x)),u(x);break;case yf.TIMEOUT:St(Pn,`RPC '${t}' ${l} timed out`),h(new Tt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:const b=f.getStatus();if(St(Pn,`RPC '${t}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const S=function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(j)>=0?j:ct.UNKNOWN}(T.status);h(new Tt(S,T.message))}else h(new Tt(ct.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Tt(ct.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{St(Pn,`RPC '${t}' ${l} completed.`)}});const g=JSON.stringify(i);St(Pn,`RPC '${t}' ${l} sending request:`,i),f.send(e,"POST",g,s,15)})}T_(t,e,s){const i=V0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=yT(),u=gT(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,e,s),h.encodeInitMessageHeaders=!0;const g=a.join("");St(Pn,`Creating RPC '${t}' stream ${i}: ${g}`,h);const x=l.createWebChannel(g,h);this.I_(x);let b=!1,w=!1;const T=new bM({Yo:E=>{w?St(Pn,`Not sending because RPC '${t}' stream ${i} is closed:`,E):(b||(St(Pn,`Opening RPC '${t}' stream ${i} transport.`),x.open(),b=!0),St(Pn,`RPC '${t}' stream ${i} sending:`,E),x.send(E))},Zo:()=>x.close()}),S=(E,k,j)=>{E.listen(k,O=>{try{j(O)}catch(B){setTimeout(()=>{throw B},0)}})};return S(x,xu.EventType.OPEN,()=>{w||(St(Pn,`RPC '${t}' stream ${i} transport opened.`),T.o_())}),S(x,xu.EventType.CLOSE,()=>{w||(w=!0,St(Pn,`RPC '${t}' stream ${i} transport closed`),T.a_(),this.E_(x))}),S(x,xu.EventType.ERROR,E=>{w||(w=!0,Pl(Pn,`RPC '${t}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new Tt(ct.UNAVAILABLE,"The operation could not be completed")))}),S(x,xu.EventType.MESSAGE,E=>{if(!w){const k=E.data[0];_e(!!k,16349);const j=k,O=j?.error||j[0]?.error;if(O){St(Pn,`RPC '${t}' stream ${i} received error:`,O);const B=O.status;let z=function(R){const I=rn[R];if(I!==void 0)return ZT(I)}(B),H=O.message;z===void 0&&(z=ct.INTERNAL,H="Unknown error status: "+B+" with message "+O.message),w=!0,T.a_(new Tt(z,H)),x.close()}else St(Pn,`RPC '${t}' stream ${i} received:`,k),T.u_(k)}}),S(u,pT.STAT_EVENT,E=>{E.stat===S0.PROXY?St(Pn,`RPC '${t}' stream ${i} detected buffering proxy`):E.stat===S0.NOPROXY&&St(Pn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(n){return new T6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,e,s=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=e,this.d_=s,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-s);i>0&&St("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="PersistentStream";class mS{constructor(t,e,s,i,a,l,u,h){this.Mi=t,this.S_=s,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(yr(e.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===e&&this.G_(s,i)},s=>{t(()=>{const i=new Tt(ct.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(t,e){const s=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return St(rw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(St(rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _M extends mS{constructor(t,e,s,i,a,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,i,l),this.serializer=a}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=A6(this.serializer,t),s=function(a){if(!("targetChange"in a))return Gt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Gt.min():l.readTime?Ci(l.readTime):Gt.min()}(t);return this.listener.H_(e,s)}Y_(t){const e={};e.database=P0(this.serializer),e.addTarget=function(a,l){let u;const h=l.target;if(u=R0(h)?{documents:R6(a,h)}:{query:I6(a,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=nS(a,l.resumeToken);const f=D0(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Gt.min())>0){u.readTime=Ff(a,l.snapshotVersion.toTimestamp());const f=D0(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const s=D6(this.serializer,t);s&&(e.labels=s),this.q_(e)}Z_(t){const e={};e.database=P0(this.serializer),e.removeTarget=t,this.q_(e)}}class wM extends mS{constructor(t,e,s,i,a,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=k6(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.na(s,e)}ra(){const t={};t.database=P0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>C6(this.serializer,s))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{}class TM extends EM{constructor(t,e,s,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Tt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(t,M0(e,s),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Tt(ct.UNKNOWN,a.toString())})}Ho(t,e,s,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(t,M0(e,s),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Tt(ct.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class SM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(e),this.aa=!1):St("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="RemoteStore";class NM{constructor(t,e,s,i,a){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{s.enqueueAndForget(async()=>{No(this)&&(St(vo,"Restarting streams for network reachability change."),await async function(h){const f=Yt(h);f.Ea.add(4),await dh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await xm(f)}(this))})}),this.Ra=new SM(s,i)}}async function xm(n){if(No(n))for(const t of n.da)await t(!0)}async function dh(n){for(const t of n.da)await t(!1)}function pS(n,t){const e=Yt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Uy(e)?zy(e):tc(e).O_()&&Vy(e,t))}function Ly(n,t){const e=Yt(n),s=tc(e);e.Ia.delete(t),s.O_()&&gS(e,t),e.Ia.size===0&&(s.O_()?s.L_():No(e)&&e.Ra.set("Unknown"))}function Vy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Gt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}tc(n).Y_(t)}function gS(n,t){n.Va.Ue(t),tc(n).Z_(t)}function zy(n){n.Va=new v6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),tc(n).start(),n.Ra.ua()}function Uy(n){return No(n)&&!tc(n).x_()&&n.Ia.size>0}function No(n){return Yt(n).Ea.size===0}function yS(n){n.Va=void 0}async function AM(n){n.Ra.set("Online")}async function CM(n){n.Ia.forEach((t,e)=>{Vy(n,t)})}async function kM(n,t){yS(n),Uy(n)?(n.Ra.ha(t),zy(n)):n.Ra.set("Unknown")}async function RM(n,t,e){if(n.Ra.set("Online"),t instanceof eS&&t.state===2&&t.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,t)}catch(s){St(vo,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await $f(n,s)}else if(t instanceof _f?n.Va.Ze(t):t instanceof tS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Gt.min()))try{const s=await dS(n.localStore);e.compareTo(s)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(jn.EMPTY_BYTE_STRING,g.snapshotVersion)),gS(a,h);const x=new ia(g.target,h,f,g.sequenceNumber);Vy(a,x)}),a.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(s){St(vo,"Failed to raise snapshot:",s),await $f(n,s)}}async function $f(n,t,e){if(!Zl(t))throw t;n.Ea.add(1),await dh(n),n.Ra.set("Offline"),e||(e=()=>dS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{St(vo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await xm(n)})}function xS(n,t){return t().catch(e=>$f(n,e,t))}async function bm(n){const t=Yt(n),e=_a(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:wy;for(;IM(t);)try{const i=await dM(t.localStore,s);if(i===null){t.Ta.length===0&&e.L_();break}s=i.batchId,jM(t,i)}catch(i){await $f(t,i)}bS(t)&&vS(t)}function IM(n){return No(n)&&n.Ta.length<10}function jM(n,t){n.Ta.push(t);const e=_a(n);e.O_()&&e.X_&&e.ea(t.mutations)}function bS(n){return No(n)&&!_a(n).x_()&&n.Ta.length>0}function vS(n){_a(n).start()}async function DM(n){_a(n).ra()}async function MM(n){const t=_a(n);for(const e of n.Ta)t.ea(e.mutations)}async function OM(n,t,e){const s=n.Ta.shift(),i=Ry.from(s,t,e);await xS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await bm(n)}async function PM(n,t){t&&_a(n).X_&&await async function(s,i){if(function(l){return y6(l)&&l!==ct.ABORTED}(i.code)){const a=s.Ta.shift();_a(s).B_(),await xS(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,i)),await bm(s)}}(n,t),bS(n)&&vS(n)}async function aw(n,t){const e=Yt(n);e.asyncQueue.verifyOperationInProgress(),St(vo,"RemoteStore received new credentials");const s=No(e);e.Ea.add(3),await dh(e),s&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await xm(e)}async function LM(n,t){const e=Yt(n);t?(e.Ea.delete(2),await xm(e)):t||(e.Ea.add(2),await dh(e),e.Ra.set("Unknown"))}function tc(n){return n.ma||(n.ma=function(e,s,i){const a=Yt(e);return a.sa(),new _M(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:AM.bind(null,n),t_:CM.bind(null,n),r_:kM.bind(null,n),H_:RM.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Uy(n)?zy(n):n.Ra.set("Unknown")):(await n.ma.stop(),yS(n))})),n.ma}function _a(n){return n.fa||(n.fa=function(e,s,i){const a=Yt(e);return a.sa(),new wM(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:DM.bind(null,n),r_:PM.bind(null,n),ta:MM.bind(null,n),na:OM.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await bm(n)):(await n.fa.stop(),n.Ta.length>0&&(St(vo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t,e,s,i,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=i,this.removalCallback=a,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,i,a){const l=Date.now()+s,u=new By(t,e,l,i,a);return u.start(s),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(n,t){if(yr("AsyncQueue",`${t}: ${n}`),Zl(n))return new Tt(ct.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(t){return new Rl(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||It.comparator(e.key,s.key):(e,s)=>It.comparator(e.key,s.key),this.keyedMap=bu(),this.sortedSet=new $e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Rl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=s.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Rl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.ga=new $e(It.comparator)}track(t){const e=t.doc.key,s=this.ga.get(e);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(e,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(e):t.type===1&&s.type===2?this.ga=this.ga.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Bt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,s)=>{t.push(s)}),t}}class Fl{constructor(t,e,s,i,a,l,u,h,f){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(t,e,s,i,a){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Fl(t,e,Rl.emptySet(e),l,s,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==s[i].type||!e[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class zM{constructor(){this.queries=lw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const i=Yt(e),a=i.queries;i.queries=lw(),a.forEach((l,u)=>{for(const h of u.Sa)h.onError(s)})})(this,new Tt(ct.ABORTED,"Firestore shutting down"))}}function lw(){return new So(n=>zT(n),dm)}async function _S(n,t){const e=Yt(n);let s=3;const i=t.query;let a=e.queries.get(i);a?!a.ba()&&t.Da()&&(s=2):(a=new VM,s=t.Da()?0:1);try{switch(s){case 0:a.wa=await e.onListen(i,!0);break;case 1:a.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(l){const u=Fy(l,`Initialization of query '${wl(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,a),a.Sa.push(t),t.va(e.onlineState),a.wa&&t.Fa(a.wa)&&Hy(e)}async function wS(n,t){const e=Yt(n),s=t.query;let i=3;const a=e.queries.get(s);if(a){const l=a.Sa.indexOf(t);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function UM(n,t){const e=Yt(n);let s=!1;for(const i of t){const a=i.query,l=e.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(s=!0);l.wa=i}}s&&Hy(e)}function BM(n,t,e){const s=Yt(n),i=s.queries.get(t);if(i)for(const a of i.Sa)a.onError(e);s.queries.delete(t)}function Hy(n){n.Ca.forEach(t=>{t.next()})}var z0,cw;(cw=z0||(z0={})).Ma="default",cw.Cache="cache";class ES{constructor(t,e,s){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const i of t.docChanges)i.type!==3&&s.push(i);t=new Fl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const s=e!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Fl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==z0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t){this.key=t}}class SS{constructor(t){this.key=t}}class FM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=le(),this.mutatedKeys=le(),this.eu=UT(t),this.tu=new Rl(this.eu)}get nu(){return this.Ya}ru(t,e){const s=e?e.iu:new ow,i=e?e.tu:this.tu;let a=e?e.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((g,x)=>{const b=i.get(g),w=fm(this.query,x)?x:null,T=!!b&&this.mutatedKeys.has(b.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let E=!1;b&&w?b.data.isEqual(w.data)?T!==S&&(s.track({type:3,doc:w}),E=!0):this.su(b,w)||(s.track({type:2,doc:w}),E=!0,(h&&this.eu(w,h)>0||f&&this.eu(w,f)<0)&&(u=!0)):!b&&w?(s.track({type:0,doc:w}),E=!0):b&&!w&&(s.track({type:1,doc:b}),E=!0,(h||f)&&(u=!0)),E&&(w?(l=l.add(w),a=S?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),s.track({type:1,doc:g})}return{tu:l,iu:s,Cs:u,mutatedKeys:a}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort((g,x)=>function(w,T){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{Rt:E})}};return S(w)-S(T)}(g.type,x.type)||this.eu(g.doc,x.doc)),this.ou(s),i=i??!1;const u=e&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Fl(this.query,t.tu,a,l,t.mutatedKeys,h===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ow,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=le(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const e=[];return t.forEach(s=>{this.Xa.has(s)||e.push(new SS(s))}),this.Xa.forEach(s=>{t.has(s)||e.push(new TS(s))}),e}cu(t){this.Ya=t.Qs,this.Xa=le();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $y="SyncEngine";class HM{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class $M{constructor(t){this.key=t,this.hu=!1}}class GM{constructor(t,e,s,i,a,l){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new So(u=>zT(u),dm),this.Iu=new Map,this.Eu=new Set,this.du=new $e(It.comparator),this.Au=new Map,this.Ru=new Dy,this.Vu={},this.mu=new Map,this.fu=Bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qM(n,t,e=!0){const s=IS(n);let i;const a=s.Tu.get(t);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await NS(s,t,e,!0),i}async function WM(n,t){const e=IS(n);await NS(e,t,!0,!1)}async function NS(n,t,e,s){const i=await fM(n.localStore,Ni(t)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,e);let u;return s&&(u=await YM(n,t,a,l==="current",i.resumeToken)),n.isPrimaryClient&&e&&pS(n.remoteStore,i),u}async function YM(n,t,e,s,i){n.pu=(x,b,w)=>async function(S,E,k,j){let O=E.view.ru(k);O.Cs&&(O=await ew(S.localStore,E.query,!1).then(({documents:A})=>E.view.ru(A,O)));const B=j&&j.targetChanges.get(E.targetId),z=j&&j.targetMismatches.get(E.targetId)!=null,H=E.view.applyChanges(O,S.isPrimaryClient,B,z);return hw(S,E.targetId,H.au),H.snapshot}(n,x,b,w);const a=await ew(n.localStore,t,!0),l=new FM(t,a.Qs),u=l.ru(a.documents),h=hh.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,h);hw(n,e,f.au);const g=new HM(t,e,l);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function KM(n,t,e){const s=Yt(n),i=s.Tu.get(t),a=s.Iu.get(i.targetId);if(a.length>1)return s.Iu.set(i.targetId,a.filter(l=>!dm(l,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await L0(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),e&&Ly(s.remoteStore,i.targetId),U0(s,i.targetId)}).catch(Jl)):(U0(s,i.targetId),await L0(s.localStore,i.targetId,!0))}async function XM(n,t){const e=Yt(n),s=e.Tu.get(t),i=e.Iu.get(s.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Ly(e.remoteStore,s.targetId))}async function QM(n,t,e){const s=iO(n);try{const i=await function(l,u){const h=Yt(l),f=Ve.now(),g=u.reduce((w,T)=>w.add(T.key),le());let x,b;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=br(),S=le();return h.Ns.getEntries(w,g).next(E=>{T=E,T.forEach((k,j)=>{j.isValidDocument()||(S=S.add(k))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,T)).next(E=>{x=E;const k=[];for(const j of u){const O=d6(j,x.get(j.key).overlayedDocument);O!=null&&k.push(new Na(j.key,O,IT(O.value.mapValue),Ai.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,k,u)}).next(E=>{b=E;const k=E.applyToLocalDocumentSet(x,S);return h.documentOverlayCache.saveOverlays(w,E.batchId,k)})}).then(()=>({batchId:b.batchId,changes:FT(x)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new $e(oe)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(s,i.batchId,e),await fh(s,i.changes),await bm(s.remoteStore)}catch(i){const a=Fy(i,"Failed to persist write");e.reject(a)}}async function AS(n,t){const e=Yt(n);try{const s=await uM(e.localStore,t);t.targetChanges.forEach((i,a)=>{const l=e.Au.get(a);l&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?_e(l.hu,14607):i.removedDocuments.size>0&&(_e(l.hu,42227),l.hu=!1))}),await fh(e,s,t)}catch(s){await Jl(s)}}function uw(n,t,e){const s=Yt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const i=[];s.Tu.forEach((a,l)=>{const u=l.view.va(t);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=Yt(l);h.onlineState=u;let f=!1;h.queries.forEach((g,x)=>{for(const b of x.Sa)b.va(u)&&(f=!0)}),f&&Hy(h)}(s.eventManager,t),i.length&&s.Pu.H_(i),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function JM(n,t,e){const s=Yt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const i=s.Au.get(t),a=i&&i.key;if(a){let l=new $e(It.comparator);l=l.insert(a,zn.newNoDocument(a,Gt.min()));const u=le().add(a),h=new gm(Gt.min(),new Map,new $e(oe),l,u);await AS(s,h),s.du=s.du.remove(a),s.Au.delete(t),Gy(s)}else await L0(s.localStore,t,!1).then(()=>U0(s,t,e)).catch(Jl)}async function ZM(n,t){const e=Yt(n),s=t.batch.batchId;try{const i=await cM(e.localStore,t);kS(e,s,null),CS(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await fh(e,i)}catch(i){await Jl(i)}}async function tO(n,t,e){const s=Yt(n);try{const i=await function(l,u){const h=Yt(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,u).next(x=>(_e(x!==null,37113),g=x.keys(),h.mutationQueue.removeMutationBatch(f,x))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(s.localStore,t);kS(s,t,e),CS(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await fh(s,i)}catch(i){await Jl(i)}}function CS(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function kS(n,t,e){const s=Yt(n);let i=s.Vu[s.currentUser.toKey()];if(i){const a=i.get(t);a&&(e?a.reject(e):a.resolve(),i=i.remove(t)),s.Vu[s.currentUser.toKey()]=i}}function U0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.Iu.get(t))n.Tu.delete(s),e&&n.Pu.yu(s,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(s=>{n.Ru.containsKey(s)||RS(n,s)})}function RS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Ly(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Gy(n))}function hw(n,t,e){for(const s of e)s instanceof TS?(n.Ru.addReference(s.key,t),eO(n,s)):s instanceof SS?(St($y,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,t),n.Ru.containsKey(s.key)||RS(n,s.key)):Bt(19791,{wu:s})}function eO(n,t){const e=t.key,s=e.path.canonicalString();n.du.get(e)||n.Eu.has(s)||(St($y,"New document in limbo: "+e),n.Eu.add(s),Gy(n))}function Gy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new It(Oe.fromString(t)),s=n.fu.next();n.Au.set(s,new $M(e)),n.du=n.du.insert(e,s),pS(n.remoteStore,new ia(Ni(Ay(e.path)),s,"TargetPurposeLimboResolution",cm.ce))}}async function fh(n,t,e){const s=Yt(n),i=[],a=[],l=[];s.Tu.isEmpty()||(s.Tu.forEach((u,h)=>{l.push(s.pu(h,t,e).then(f=>{if((f||e)&&s.isPrimaryClient){const g=f?!f.fromCache:e?.targetChanges.get(h.targetId)?.current;s.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){i.push(f);const g=Oy.As(h.targetId,f);a.push(g)}}))}),await Promise.all(l),s.Pu.H_(i),await async function(h,f){const g=Yt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ht.forEach(f,b=>ht.forEach(b.Es,w=>g.persistence.referenceDelegate.addReference(x,b.targetId,w)).next(()=>ht.forEach(b.ds,w=>g.persistence.referenceDelegate.removeReference(x,b.targetId,w)))))}catch(x){if(!Zl(x))throw x;St(Py,"Failed to update sequence numbers: "+x)}for(const x of f){const b=x.targetId;if(!x.fromCache){const w=g.Ms.get(b),T=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(b,S)}}}(s.localStore,a))}async function nO(n,t){const e=Yt(n);if(!e.currentUser.isEqual(t)){St($y,"User change. New user:",t.toKey());const s=await hS(e.localStore,t);e.currentUser=t,function(a,l){a.mu.forEach(u=>{u.forEach(h=>{h.reject(new Tt(ct.CANCELLED,l))})}),a.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await fh(e,s.Ls)}}function sO(n,t){const e=Yt(n),s=e.Au.get(t);if(s&&s.hu)return le().add(s.key);{let i=le();const a=e.Iu.get(t);if(!a)return i;for(const l of a){const u=e.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function IS(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=AS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JM.bind(null,t),t.Pu.H_=UM.bind(null,t.eventManager),t.Pu.yu=BM.bind(null,t.eventManager),t}function iO(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,t),t}class Gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ym(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return lM(this.persistence,new rM,t.initialUser,this.serializer)}Cu(t){return new uS(My.mi,this.serializer)}Du(t){return new pM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gf.provider={build:()=>new Gf};class rO extends Gf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_e(this.persistence.referenceDelegate instanceof Hf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $6(s,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new uS(s=>Hf.mi(s,e),this.serializer)}}class B0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await LM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new zM}()}createDatastore(t){const e=ym(t.databaseInfo.databaseId),s=function(a){return new vM(a)}(t.databaseInfo);return function(a,l,u,h){return new TM(a,l,u,h)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,i,a,l,u){return new NM(s,i,a,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>uw(this.syncEngine,e,0),function(){return iw.v()?new iw:new gM}())}createSyncEngine(t,e){return function(i,a,l,u,h,f,g){const x=new GM(i,a,l,u,h,f);return g&&(x.gu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const s=Yt(e);St(vo,"RemoteStore shutting down."),s.Ea.add(5),await dh(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}B0.provider={build:()=>new B0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):yr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class aO{constructor(t,e,s,i,a){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=_y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async l=>{St(wa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(St(wa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=Fy(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Kg(n,t){n.asyncQueue.verifyOperationInProgress(),St(wa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async i=>{s.isEqual(i)||(await hS(t.localStore,i),s=i)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function dw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await oO(n);St(wa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>aw(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,i)=>aw(t.remoteStore,i)),n._onlineComponents=t}async function oO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){St(wa,"Using user provided OfflineComponentProvider");try{await Kg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(i){return i.name==="FirebaseError"?i.code===ct.FAILED_PRECONDITION||i.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(e))throw e;Pl("Error using user provided cache. Falling back to memory cache: "+e),await Kg(n,new Gf)}}else St(wa,"Using default OfflineComponentProvider"),await Kg(n,new rO(void 0));return n._offlineComponents}async function DS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(St(wa,"Using user provided OnlineComponentProvider"),await dw(n,n._uninitializedComponentsProvider._online)):(St(wa,"Using default OnlineComponentProvider"),await dw(n,new B0))),n._onlineComponents}function lO(n){return DS(n).then(t=>t.syncEngine)}async function MS(n){const t=await DS(n),e=t.eventManager;return e.onListen=qM.bind(null,t.syncEngine),e.onUnlisten=KM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=WM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=XM.bind(null,t.syncEngine),e}function cO(n,t,e={}){const s=new fr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const g=new jS({next:b=>{g.Nu(),l.enqueueAndForget(()=>wS(a,x));const w=b.docs.has(u);!w&&b.fromCache?f.reject(new Tt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&h&&h.source==="server"?f.reject(new Tt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),x=new ES(Ay(u.path),g,{includeMetadataChanges:!0,qa:!0});return _S(a,x)}(await MS(n),n.asyncQueue,t,e,s)),s.promise}function uO(n,t,e={}){const s=new fr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,f){const g=new jS({next:b=>{g.Nu(),l.enqueueAndForget(()=>wS(a,x)),b.fromCache&&h.source==="server"?f.reject(new Tt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),x=new ES(u,g,{includeMetadataChanges:!0,qa:!0});return _S(a,x)}(await MS(n),n.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firestore.googleapis.com",mw=!0;class pw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=mw}else this.host=t.host,this.ssl=t.ssl??mw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<F6)throw new Tt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}A5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OS(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Tt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Tt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Tt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vm{constructor(t,e,s,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new y5;switch(s.type){case"firstParty":return new _5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Tt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=fw.get(e);s&&(St("ComponentProvider","Removing Datastore"),fw.delete(e),s.terminate())}(this),Promise.resolve()}}function hO(n,t,e,s={}){n=xr(n,vm);const i=Yl(t),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;i&&(TE(`https://${u}`),SE("Firestore",!0)),a.host!==PS&&a.host!==u&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:u,ssl:i,emulatorOptions:s};if(!ga(h,l)&&(n._setSettings(h),s.mockUserToken)){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Vn.MOCK_USER;else{f=NR(s.mockUserToken,n._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new Tt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Vn(x)}n._authCredentials=new x5(new bT(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ec(this.firestore,t,this._query)}}class Ze{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,s){if(lh(e,Ze._jsonSchema))return new Ze(t,s||null,new It(Oe.fromString(e.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:on("string",Ze._jsonSchemaVersion),referencePath:on("string")};class ma extends ec{constructor(t,e,s){super(t,e,Ay(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new It(t))}withConverter(t){return new ma(this.firestore,t,this._path)}}function LS(n,t,...e){if(n=mn(n),vT("collection","path",t),n instanceof vm){const s=Oe.fromString(t,...e);return C1(s),new ma(n,null,s)}{if(!(n instanceof Ze||n instanceof ma))throw new Tt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Oe.fromString(t,...e));return C1(s),new ma(n.firestore,null,s)}}function Kn(n,t,...e){if(n=mn(n),arguments.length===1&&(t=_y.newId()),vT("doc","path",t),n instanceof vm){const s=Oe.fromString(t,...e);return A1(s),new Ze(n,null,new It(s))}{if(!(n instanceof Ze||n instanceof ma))throw new Tt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Oe.fromString(t,...e));return A1(s),new Ze(n.firestore,n instanceof ma?n.converter:null,new It(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="AsyncQueue";class yw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fS(this,"async_queue_retry"),this._c=()=>{const s=Yg();s&&St(gw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const e=Yg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Yg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new fr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Zl(t))throw t;St(gw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",xw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=e,e}enqueueAfterDelay(t,e,s){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=By.createAndSchedule(this,t,e,s,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Bt(47125,{Pc:xw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function xw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class mh extends vm{constructor(t,e,s,i){super(t,e,s,i),this.type="firestore",this._queue=new yw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yw(t),this._firestoreClient=void 0,await t}}}function dO(n,t){const e=typeof n=="object"?n:kE(),s=typeof n=="string"?n:Vf,i=hy(e,"firestore").getImmediate({identifier:s});if(!i._initialized){const a=TR("firestore");a&&hO(i,...a)}return i}function qy(n){if(n._terminated)throw new Tt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fO(n),n._firestoreClient}function fO(n){const t=n._freezeSettings(),e=function(i,a,l,u){return new V5(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,OS(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new aO(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ms(jn.fromBase64String(t))}catch(e){throw new Tt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ms(jn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lh(t,Ms._jsonSchema))return Ms.fromBase64String(t.bytes)}}Ms._jsonSchemaVersion="firestore/bytes/1.0",Ms._jsonSchema={type:on("string",Ms._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Tt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Tt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Tt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return oe(this._lat,t._lat)||oe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(lh(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:on("string",ki._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,i){if(s.length!==i.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lh(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Ri(t.vectorValues);throw new Tt(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:on("string",Ri._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=/^__.*__$/;class pO{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Na(t,this.data,this.fieldMask,e,this.fieldTransforms):new uh(t,this.data,e,this.fieldTransforms)}}class VS{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Na(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function zS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ac:n})}}class wm{constructor(t,e,s,i,a,l){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.gc(t),s}yc(t){const e=this.path?.child(t),s=this.Vc({path:e,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(zS(this.Ac)&&mO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class gO{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||ym(t)}Cc(t,e,s,i=!1){return new wm({Ac:t,methodName:e,Dc:s,path:In.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wy(n){const t=n._freezeSettings(),e=ym(n._databaseId);return new gO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function yO(n,t,e,s,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,t,e,i);Qy("Data must be an object, but it was:",l,s);const u=US(s,l);let h,f;if(a.merge)h=new xs(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const x of a.mergeFields){const b=F0(t,x,e);if(!l.contains(b))throw new Tt(ct.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);FS(g,b)||g.push(b)}h=new xs(g),f=l.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,f=l.fieldTransforms;return new pO(new ns(u),h,f)}class ph extends nc{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ph}}function xO(n,t,e){return new wm({Ac:3,Dc:t.settings.Dc,methodName:n._methodName,fc:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Yy extends nc{_toFieldTransform(t){return new ky(t.path,new Hu)}isEqual(t){return t instanceof Yy}}class Ky extends nc{constructor(t,e){super(t),this.vc=e}_toFieldTransform(t){const e=xO(this,t,!0),s=this.vc.map(a=>sc(a,e)),i=new Ul(s);return new ky(t.path,i)}isEqual(t){return t instanceof Ky&&ga(this.vc,t.vc)}}class Xy extends nc{constructor(t,e){super(t),this.Fc=e}_toFieldTransform(t){const e=new Gu(t.serializer,GT(t.serializer,this.Fc));return new ky(t.path,e)}isEqual(t){return t instanceof Xy&&this.Fc===t.Fc}}function bO(n,t,e,s){const i=n.Cc(1,t,e);Qy("Data must be an object, but it was:",i,s);const a=[],l=ns.empty();Sa(s,(h,f)=>{const g=Jy(t,h,e);f=mn(f);const x=i.yc(g);if(f instanceof ph)a.push(g);else{const b=sc(f,x);b!=null&&(a.push(g),l.set(g,b))}});const u=new xs(a);return new VS(l,u,i.fieldTransforms)}function vO(n,t,e,s,i,a){const l=n.Cc(1,t,e),u=[F0(t,s,e)],h=[i];if(a.length%2!=0)throw new Tt(ct.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)u.push(F0(t,a[b])),h.push(a[b+1]);const f=[],g=ns.empty();for(let b=u.length-1;b>=0;--b)if(!FS(f,u[b])){const w=u[b];let T=h[b];T=mn(T);const S=l.yc(w);if(T instanceof ph)f.push(w);else{const E=sc(T,S);E!=null&&(f.push(w),g.set(w,E))}}const x=new xs(f);return new VS(g,x,l.fieldTransforms)}function _O(n,t,e,s=!1){return sc(e,n.Cc(s?4:3,t))}function sc(n,t){if(BS(n=mn(n)))return Qy("Unsupported field value:",t,n),US(n,t);if(n instanceof nc)return function(s,i){if(!zS(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,i){const a=[];let l=0;for(const u of s){let h=sc(u,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,t)}return function(s,i){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GT(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Ve.fromDate(s);return{timestampValue:Ff(i.serializer,a)}}if(s instanceof Ve){const a=new Ve(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ff(i.serializer,a)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ms)return{bytesValue:nS(i.serializer,s._byteString)};if(s instanceof Ze){const a=i.databaseId,l=s.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jy(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Ri)return function(l,u){return{mapValue:{fields:{[kT]:{stringValue:RT},[zf]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Cy(u.serializer,f)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${lm(s)}`)}(n,t)}function US(n,t){const e={};return ET(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sa(n,(s,i)=>{const a=sc(i,t.mc(s));a!=null&&(e[s]=a)}),{mapValue:{fields:e}}}function BS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ve||n instanceof ki||n instanceof Ms||n instanceof Ze||n instanceof nc||n instanceof Ri)}function Qy(n,t,e){if(!BS(e)||!_T(e)){const s=lm(e);throw s==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+s)}}function F0(n,t,e){if((t=mn(t))instanceof _m)return t._internalPath;if(typeof t=="string")return Jy(n,t);throw qf("Field path arguments must be of type string or ",n,!1,void 0,e)}const wO=new RegExp("[~\\*/\\[\\]]");function Jy(n,t,e){if(t.search(wO)>=0)throw qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new _m(...t.split("."))._internalPath}catch{throw qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qf(n,t,e,s,i){const a=s&&!s.isEmpty(),l=i!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${s}`),l&&(h+=` in document ${i}`),h+=")"),new Tt(ct.INVALID_ARGUMENT,u+n+h)}function FS(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t,e,s,i,a){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Zy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class EO extends HS{data(){return super.data()}}function Zy(n,t){return typeof t=="string"?Jy(n,t):t instanceof _m?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Tt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tx{}class SO extends tx{}function $S(n,t,...e){let s=[];t instanceof tx&&s.push(t),s=s.concat(e),function(a){const l=a.filter(h=>h instanceof ex).length,u=a.filter(h=>h instanceof Em).length;if(l>1||l>0&&u>0)throw new Tt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)n=i._apply(n);return n}class Em extends SO{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Em(t,e,s)}_apply(t){const e=this._parse(t);return qS(t._query,e),new ec(t.firestore,t.converter,I0(t._query,e))}_parse(t){const e=Wy(t.firestore);return function(a,l,u,h,f,g,x){let b;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Tt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){vw(x,g);const T=[];for(const S of x)T.push(bw(h,a,S));b={arrayValue:{values:T}}}else b=bw(h,a,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||vw(x,g),b=_O(u,l,x,g==="in"||g==="not-in");return an.create(f,g,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function GS(n,t,e){const s=t,i=Zy("where",n);return Em._create(i,s,e)}class ex extends tx{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ex(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:Qs.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const h of u)qS(l,h),l=I0(l,h)}(t._query,e),new ec(t.firestore,t.converter,I0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bw(n,t,e){if(typeof(e=mn(e))=="string"){if(e==="")throw new Tt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VT(t)&&e.indexOf("/")!==-1)throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(Oe.fromString(e));if(!It.isDocumentKey(s))throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return P1(n,new It(s))}if(e instanceof Ze)return P1(n,e._key);throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lm(e)}.`)}function vw(n,t){if(!Array.isArray(n)||n.length===0)throw new Tt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qS(n,t){const e=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Tt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Tt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class NO{convertValue(t,e="none"){switch(va(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ba(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Bt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Sa(t,(i,a)=>{s[i]=this.convertValue(a,e)}),s}convertVectorValue(t){const e=t.fields?.[zf].arrayValue?.values?.map(s=>Je(s.doubleValue));return new Ri(e)}convertGeoPoint(t){return new ki(Je(t.latitude),Je(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=hm(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(Uu(t));default:return null}}convertTimestamp(t){const e=xa(t);return new Ve(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Oe.fromString(t);_e(lS(s),9688,{name:t});const i=new Bu(s.get(1),s.get(3)),a=new It(s.popFirst(5));return i.isEqual(e)||yr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}class _u{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fo extends HS{constructor(t,e,s,i,a,l){super(t,e,s,i,l),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Zy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=fo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:on("string",fo._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class wf extends fo{data(t={}){return super.data(t)}}class Il{constructor(t,e,s,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new _u(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new wf(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Tt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new wf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new _u(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new wf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new _u(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:CO(u.type),doc:h,oldIndex:f,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Il._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],s=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(e.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function CO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(n){n=xr(n,Ze);const t=xr(n.firestore,mh);return cO(qy(t),n._key).then(e=>kO(t,n,e))}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:on("string",Il._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};class WS extends NO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ms(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,e)}}function YS(n){n=xr(n,ec);const t=xr(n.firestore,mh),e=qy(t),s=new WS(t);return TO(n._query),uO(e,n._query).then(i=>new Il(t,s,n,i))}function rc(n,t,e){n=xr(n,Ze);const s=xr(n.firestore,mh),i=AO(n.converter,t,e);return KS(s,[yO(Wy(s),"setDoc",n._key,i,n.converter!==null,e).toMutation(n._key,Ai.none())])}function wi(n,t,e,...s){n=xr(n,Ze);const i=xr(n.firestore,mh),a=Wy(i);let l;return l=typeof(t=mn(t))=="string"||t instanceof _m?vO(a,"updateDoc",n._key,t,e,s):bO(a,"updateDoc",n._key,t),KS(i,[l.toMutation(n._key,Ai.exists(!0))])}function KS(n,t){return function(s,i){const a=new fr;return s.asyncQueue.enqueueAndForget(async()=>QM(await lO(s),i,a)),a.promise}(qy(n),t)}function kO(n,t,e){const s=e.docs.get(t._key),i=new WS(n);return new fo(n,i,t._key,s,new _u(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return new ph("deleteField")}function _o(){return new Yy("serverTimestamp")}function Ef(...n){return new Ky("arrayUnion",n)}function Ln(n){return new Xy("increment",n)}(function(t,e=!0){(function(i){Ql=i})(Kl),Ml(new go("firestore",(s,{instanceIdentifier:i,options:a})=>{const l=s.getProvider("app").getImmediate(),u=new mh(new b5(s.getProvider("auth-internal")),new w5(l,s.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Tt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(f.options.projectId,g)}(l,i),l);return a={useFetchStreams:e,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),da(E1,T1,t),da(E1,T1,"esm2020")})();const IO={apiKey:"AIzaSyDJC6o0mIkW4QVCuuJWsMAaZGu4HU7SHEE",authDomain:"pesstatszone.firebaseapp.com",projectId:"pesstatszone",storageBucket:"pesstatszone.firebasestorage.app",messagingSenderId:"1032826590191",appId:"1:1032826590191:web:787beb3a7e5f75cf9b5c1a"},XS=CE(IO),$d=f5(XS),Dn=dO(XS);var Tf={exports:{}},jO=Tf.exports,_w;function DO(){return _w||(_w=1,function(n){(function(t,e){n.exports=e(t)})(typeof k_>"u"?typeof window>"u"?jO:window:k_,function(t){if(typeof t>"u"&&typeof t.document>"u")return!1;var e,s,i,a,l,u=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,h='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',f={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},g={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},x={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},b={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},w={Show:"Show",Ask:"Ask",Prompt:"Prompt"},T={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},S={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},E={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},k={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},j={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},O=function(G){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+G+u)},B=function(G){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3",`
`+G+u)},z=function(G){return G||(G="head"),t.document[G]!==void 0||(O(`
Notiflix needs to be appended to the "<`+G+'>" element, but you called it before the "<'+G+'>" element has been created.'),!1)},H=function(G,X){if(!z("head"))return!1;if(G()!==null&&!t.document.getElementById(X)){var et=t.document.createElement("style");et.id=X,et.innerHTML=G(),t.document.head.appendChild(et)}},A=function(){var G={},X=!1,et=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(X=arguments[0],et++);for(var Nt=function(Mt){for(var Wt in Mt)Object.prototype.hasOwnProperty.call(Mt,Wt)&&(G[Wt]=X&&Object.prototype.toString.call(Mt[Wt])==="[object Object]"?A(G[Wt],Mt[Wt]):Mt[Wt])};et<arguments.length;et++)Nt(arguments[et]);return G},R=function(G){var X=t.document.createElement("div");return X.innerHTML=G,X.textContent||X.innerText||""},I=function(G,X){G||(G="110px"),X||(X="#32c682");var et='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+G+'" height="'+G+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return et},M=function(G,X){G||(G="110px"),X||(X="#ff5549");var et='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+G+'" height="'+G+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return et},U=function(G,X){G||(G="110px"),X||(X="#eebf31");var et='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+G+'" height="'+G+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return et},V=function(G,X){G||(G="110px"),X||(X="#26c0d3");var et='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+G+'" height="'+G+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return et},L=function(G,X){G||(G="60px"),X||(X="#32c682");var et='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+X+'" width="'+G+'" height="'+G+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';return et},gt=function(G,X){G||(G="60px"),X||(X="#32c682");var et='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+X+'" width="'+G+'" height="'+G+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';return et},dt=function(G,X){G||(G="60px"),X||(X="#32c682");var et='<svg xmlns="http://www.w3.org/2000/svg" width="'+G+'" height="'+G+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+G+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+G+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+X+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';return et},W=function(G,X){G||(G="60px"),X||(X="#32c682");var et='<svg xmlns="http://www.w3.org/2000/svg" fill="'+X+'" width="'+G+'" height="'+G+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';return et},at=function(G,X){G||(G="60px"),X||(X="#32c682");var et='<svg xmlns="http://www.w3.org/2000/svg" fill="'+X+'" width="'+G+'" height="'+G+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';return et},wt=function(G,X){G||(G="60px"),X||(X="#32c682");var et='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+X+'" width="'+G+'" height="'+G+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';return et},Pt=function(G,X,et){G||(G="60px");var Nt='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+G+'" height="'+G+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+X+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+et+'" stroke="'+et+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>';return Nt},q=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},st=0,ft=function(G,X,et,Nt){if(!z("body"))return!1;e||ce.Notify.init({});var Mt=A(!0,e,{});if(typeof et=="object"&&!Array.isArray(et)||typeof Nt=="object"&&!Array.isArray(Nt)){var Wt={};typeof et=="object"?Wt=et:typeof Nt=="object"&&(Wt=Nt),e=A(!0,e,Wt)}var zt=e[G.toLocaleLowerCase("en")];st++,typeof X!="string"&&(X="Notiflix "+G),e.plainText&&(X=R(X)),!e.plainText&&X.length>e.messageMaxLength&&(e=A(!0,e,{closeButton:!0,messageMaxLength:150}),X='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),X.length>e.messageMaxLength&&(X=X.substring(0,e.messageMaxLength)+"..."),e.fontAwesomeIconStyle==="shadow"&&(zt.fontAwesomeIconColor=zt.background),e.cssAnimation||(e.cssAnimationDuration=0);var _t=t.document.getElementById(g.wrapID)||t.document.createElement("div");if(_t.id=g.wrapID,_t.style.width=e.width,_t.style.zIndex=e.zindex,_t.style.opacity=e.opacity,e.position==="center-center"?(_t.style.left=e.distance,_t.style.top=e.distance,_t.style.right=e.distance,_t.style.bottom=e.distance,_t.style.margin="auto",_t.classList.add("nx-flex-center-center"),_t.style.maxHeight="calc((100vh - "+e.distance+") - "+e.distance+")",_t.style.display="flex",_t.style.flexWrap="wrap",_t.style.flexDirection="column",_t.style.justifyContent="center",_t.style.alignItems="center",_t.style.pointerEvents="none"):e.position==="center-top"?(_t.style.left=e.distance,_t.style.right=e.distance,_t.style.top=e.distance,_t.style.bottom="auto",_t.style.margin="auto"):e.position==="center-bottom"?(_t.style.left=e.distance,_t.style.right=e.distance,_t.style.bottom=e.distance,_t.style.top="auto",_t.style.margin="auto"):e.position==="right-bottom"?(_t.style.right=e.distance,_t.style.bottom=e.distance,_t.style.top="auto",_t.style.left="auto"):e.position==="left-top"?(_t.style.left=e.distance,_t.style.top=e.distance,_t.style.right="auto",_t.style.bottom="auto"):e.position==="left-bottom"?(_t.style.left=e.distance,_t.style.bottom=e.distance,_t.style.top="auto",_t.style.right="auto"):(_t.style.right=e.distance,_t.style.top=e.distance,_t.style.left="auto",_t.style.bottom="auto"),e.backOverlay){var ee=t.document.getElementById(g.overlayID)||t.document.createElement("div");ee.id=g.overlayID,ee.style.width="100%",ee.style.height="100%",ee.style.position="fixed",ee.style.zIndex=e.zindex-1,ee.style.left=0,ee.style.top=0,ee.style.right=0,ee.style.bottom=0,ee.style.background=zt.backOverlayColor||e.backOverlayColor,ee.className=e.cssAnimation?"nx-with-animation":"",ee.style.animationDuration=e.cssAnimation?e.cssAnimationDuration+"ms":"",t.document.getElementById(g.overlayID)||t.document.body.appendChild(ee)}t.document.getElementById(g.wrapID)||t.document.body.appendChild(_t);var kt=t.document.createElement("div");kt.id=e.ID+"-"+st,kt.className=e.className+" "+zt.childClassName+" "+(e.cssAnimation?"nx-with-animation":"")+" "+(e.useIcon?"nx-with-icon":"")+" nx-"+e.cssAnimationStyle+" "+(e.closeButton&&typeof et!="function"?"nx-with-close-button":"")+" "+(typeof et=="function"?"nx-with-callback":"")+" "+(e.clickToClose?"nx-notify-click-to-close":""),kt.style.fontSize=e.fontSize,kt.style.color=zt.textColor,kt.style.background=zt.background,kt.style.borderRadius=e.borderRadius,kt.style.pointerEvents="all",e.rtl&&(kt.setAttribute("dir","rtl"),kt.classList.add("nx-rtl-on")),kt.style.fontFamily='"'+e.fontFamily+'", '+h,e.cssAnimation&&(kt.style.animationDuration=e.cssAnimationDuration+"ms");var de="";if(e.closeButton&&typeof et!="function"&&(de='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+zt.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),!e.useIcon)kt.innerHTML='<span class="nx-message">'+X+"</span>"+(e.closeButton?de:"");else if(e.useFontAwesome)kt.innerHTML='<i style="color:'+zt.fontAwesomeIconColor+"; font-size:"+e.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+zt.fontAwesomeClassName+" "+(e.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+X+"</span>"+(e.closeButton?de:"");else{var je="";G===f.Success?je='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+zt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':G===f.Failure?je='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+zt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':G===f.Warning?je='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+zt.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':G===f.Info&&(je='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+zt.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),kt.innerHTML=je+'<span class="nx-message nx-with-icon">'+X+"</span>"+(e.closeButton?de:"")}if(e.position==="left-bottom"||e.position==="right-bottom"){var Xt=t.document.getElementById(g.wrapID);Xt.insertBefore(kt,Xt.firstChild)}else t.document.getElementById(g.wrapID).appendChild(kt);var Ot=t.document.getElementById(kt.id);if(Ot){var $t,ne,se=function(){Ot.classList.add("nx-remove");var Ft=t.document.getElementById(g.overlayID);Ft&&0>=_t.childElementCount&&Ft.classList.add("nx-remove"),clearTimeout($t)},Hn=function(){if(Ot&&Ot.parentNode!==null&&Ot.parentNode.removeChild(Ot),0>=_t.childElementCount&&_t.parentNode!==null){_t.parentNode.removeChild(_t);var Ft=t.document.getElementById(g.overlayID);Ft&&Ft.parentNode!==null&&Ft.parentNode.removeChild(Ft)}clearTimeout(ne)};if(e.closeButton&&typeof et!="function"){var ln=t.document.getElementById(kt.id).querySelector("span.nx-close-button");ln.addEventListener("click",function(){se();var Ft=setTimeout(function(){Hn(),clearTimeout(Ft)},e.cssAnimationDuration)})}if((typeof et=="function"||e.clickToClose)&&Ot.addEventListener("click",function(){typeof et=="function"&&et(),se();var Ft=setTimeout(function(){Hn(),clearTimeout(Ft)},e.cssAnimationDuration)}),!e.closeButton&&typeof et!="function"){var Be=function(){$t=setTimeout(function(){se()},e.timeout),ne=setTimeout(function(){Hn()},e.timeout+e.cssAnimationDuration)};Be(),e.pauseOnHover&&(Ot.addEventListener("mouseenter",function(){Ot.classList.add("nx-paused"),clearTimeout($t),clearTimeout(ne)}),Ot.addEventListener("mouseleave",function(){Ot.classList.remove("nx-paused"),Be()}))}}if(e.showOnlyTheLastOne&&0<st)for(var Fe,ue=t.document.querySelectorAll("[id^="+e.ID+"-]:not([id="+e.ID+"-"+st+"])"),$n=0;$n<ue.length;$n++)Fe=ue[$n],Fe.parentNode!==null&&Fe.parentNode.removeChild(Fe);e=A(!0,e,Mt)},rt=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},mt=function(G,X,et,Nt,Mt,Wt){if(!z("body"))return!1;s||ce.Report.init({});var zt={};if(typeof Mt=="object"&&!Array.isArray(Mt)||typeof Wt=="object"&&!Array.isArray(Wt)){var _t={};typeof Mt=="object"?_t=Mt:typeof Wt=="object"&&(_t=Wt),zt=A(!0,s,{}),s=A(!0,s,_t)}var ee=s[G.toLocaleLowerCase("en")];typeof X!="string"&&(X="Notiflix "+G),typeof et!="string"&&(G===x.Success?et='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':G===x.Failure?et='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':G===x.Warning?et='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':G===x.Info&&(et='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),typeof Nt!="string"&&(Nt="Okay"),s.plainText&&(X=R(X),et=R(et),Nt=R(Nt)),s.plainText||(X.length>s.titleMaxLength&&(X="Possible HTML Tags Error",et='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',Nt="Okay"),et.length>s.messageMaxLength&&(X="Possible HTML Tags Error",et='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',Nt="Okay"),Nt.length>s.buttonMaxLength&&(X="Possible HTML Tags Error",et='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',Nt="Okay")),X.length>s.titleMaxLength&&(X=X.substring(0,s.titleMaxLength)+"..."),et.length>s.messageMaxLength&&(et=et.substring(0,s.messageMaxLength)+"..."),Nt.length>s.buttonMaxLength&&(Nt=Nt.substring(0,s.buttonMaxLength)+"..."),s.cssAnimation||(s.cssAnimationDuration=0);var kt=t.document.createElement("div");kt.id=b.ID,kt.className=s.className,kt.style.zIndex=s.zindex,kt.style.borderRadius=s.borderRadius,kt.style.fontFamily='"'+s.fontFamily+'", '+h,s.rtl&&(kt.setAttribute("dir","rtl"),kt.classList.add("nx-rtl-on")),kt.style.display="flex",kt.style.flexWrap="wrap",kt.style.flexDirection="column",kt.style.alignItems="center",kt.style.justifyContent="center";var de="",je=s.backOverlayClickToClose===!0;s.backOverlay&&(de='<div class="'+s.className+"-overlay"+(s.cssAnimation?" nx-with-animation":"")+(je?" nx-report-click-to-close":"")+'" style="background:'+(ee.backOverlayColor||s.backOverlayColor)+";animation-duration:"+s.cssAnimationDuration+'ms;"></div>');var Xt="";if(G===x.Success?Xt=I(s.svgSize,ee.svgColor):G===x.Failure?Xt=M(s.svgSize,ee.svgColor):G===x.Warning?Xt=U(s.svgSize,ee.svgColor):G===x.Info&&(Xt=V(s.svgSize,ee.svgColor)),kt.innerHTML=de+'<div class="'+s.className+"-content"+(s.cssAnimation?" nx-with-animation ":"")+" nx-"+s.cssAnimationStyle+'" style="width:'+s.width+"; background:"+s.backgroundColor+"; animation-duration:"+s.cssAnimationDuration+'ms;"><div style="width:'+s.svgSize+"; height:"+s.svgSize+';" class="'+s.className+'-icon">'+Xt+'</div><h5 class="'+s.className+'-title" style="font-weight:500; font-size:'+s.titleFontSize+"; color:"+ee.titleColor+';">'+X+'</h5><p class="'+s.className+'-message" style="font-size:'+s.messageFontSize+"; color:"+ee.messageColor+';">'+et+'</p><a id="NXReportButton" class="'+s.className+'-button" style="font-weight:500; font-size:'+s.buttonFontSize+"; background:"+ee.buttonBackground+"; color:"+ee.buttonColor+';">'+Nt+"</a></div>",!t.document.getElementById(kt.id)){t.document.body.appendChild(kt);var Ot=function(){var se=t.document.getElementById(kt.id);se.classList.add("nx-remove");var Hn=setTimeout(function(){se.parentNode!==null&&se.parentNode.removeChild(se),clearTimeout(Hn)},s.cssAnimationDuration)},$t=t.document.getElementById("NXReportButton");if($t.addEventListener("click",function(){typeof Mt=="function"&&Mt(),Ot()}),de&&je){var ne=t.document.querySelector(".nx-report-click-to-close");ne.addEventListener("click",function(){Ot()})}}s=A(!0,s,zt)},xt=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},yt=function(G,X,et,Nt,Mt,Wt,zt,_t,ee){if(!z("body"))return!1;i||ce.Confirm.init({});var kt=A(!0,i,{});typeof ee!="object"||Array.isArray(ee)||(i=A(!0,i,ee)),typeof X!="string"&&(X="Notiflix Confirm"),typeof et!="string"&&(et="Do you agree with me?"),typeof Mt!="string"&&(Mt="Yes"),typeof Wt!="string"&&(Wt="No"),typeof zt!="function"&&(zt=void 0),typeof _t!="function"&&(_t=void 0),i.plainText&&(X=R(X),et=R(et),Mt=R(Mt),Wt=R(Wt)),i.plainText||(X.length>i.titleMaxLength&&(X="Possible HTML Tags Error",et='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',Mt="Okay",Wt="..."),et.length>i.messageMaxLength&&(X="Possible HTML Tags Error",et='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',Mt="Okay",Wt="..."),(Mt.length||Wt.length)>i.buttonsMaxLength&&(X="Possible HTML Tags Error",et='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',Mt="Okay",Wt="...")),X.length>i.titleMaxLength&&(X=X.substring(0,i.titleMaxLength)+"..."),et.length>i.messageMaxLength&&(et=et.substring(0,i.messageMaxLength)+"..."),Mt.length>i.buttonsMaxLength&&(Mt=Mt.substring(0,i.buttonsMaxLength)+"..."),Wt.length>i.buttonsMaxLength&&(Wt=Wt.substring(0,i.buttonsMaxLength)+"..."),i.cssAnimation||(i.cssAnimationDuration=0);var de=t.document.createElement("div");de.id=T.ID,de.className=i.className+(i.cssAnimation?" nx-with-animation nx-"+i.cssAnimationStyle:""),de.style.zIndex=i.zindex,de.style.padding=i.distance,i.rtl&&(de.setAttribute("dir","rtl"),de.classList.add("nx-rtl-on"));var je=typeof i.position=="string"?i.position.trim():"center";de.classList.add("nx-position-"+je),de.style.fontFamily='"'+i.fontFamily+'", '+h;var Xt="";i.backOverlay&&(Xt='<div class="'+i.className+"-overlay"+(i.cssAnimation?" nx-with-animation":"")+'" style="background:'+i.backOverlayColor+";animation-duration:"+i.cssAnimationDuration+'ms;"></div>');var Ot="";typeof zt=="function"&&(Ot='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+i.cancelButtonColor+";background:"+i.cancelButtonBackground+";font-size:"+i.buttonsFontSize+';">'+Wt+"</a>");var $t="",ne=null,se=void 0;if(G===w.Ask||G===w.Prompt){ne=Nt||"";var Hn=G===w.Ask||200<ne.length?Math.ceil(1.5*ne.length):250,ln=G===w.Prompt?'value="'+ne+'"':"";$t='<div><input id="NXConfirmValidationInput" type="text" '+ln+' maxlength="'+Hn+'" style="font-size:'+i.messageFontSize+";border-radius: "+i.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(de.innerHTML=Xt+'<div class="'+i.className+'-content" style="width:'+i.width+"; background:"+i.backgroundColor+"; animation-duration:"+i.cssAnimationDuration+"ms; border-radius: "+i.borderRadius+';"><div class="'+i.className+'-head"><h5 style="color:'+i.titleColor+";font-size:"+i.titleFontSize+';">'+X+'</h5><div style="color:'+i.messageColor+";font-size:"+i.messageFontSize+';">'+et+$t+'</div></div><div class="'+i.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+(typeof zt=="function"?"":" nx-full")+'" style="color:'+i.okButtonColor+";background:"+i.okButtonBackground+";font-size:"+i.buttonsFontSize+';">'+Mt+"</a>"+Ot+"</div></div>",!t.document.getElementById(de.id)){t.document.body.appendChild(de);var Be=t.document.getElementById(de.id),Fe=t.document.getElementById("NXConfirmButtonOk"),ue=t.document.getElementById("NXConfirmValidationInput");if(ue&&(ue.focus(),ue.setSelectionRange(0,(ue.value||"").length),ue.addEventListener("keyup",function(Ft){var bs=Ft.target.value;if(G===w.Ask&&bs!==ne)Ft.preventDefault(),ue.classList.add("nx-validation-failure"),ue.classList.remove("nx-validation-success");else{G===w.Ask&&(ue.classList.remove("nx-validation-failure"),ue.classList.add("nx-validation-success"));var Us=(Ft.key||"").toLocaleLowerCase("en")==="enter"||Ft.keyCode===13;Us&&Fe.dispatchEvent(new Event("click"))}})),Fe.addEventListener("click",function(Ft){if(G===w.Ask&&ne&&ue){var bs=(ue.value||"").toString();if(bs!==ne)return ue.focus(),ue.classList.add("nx-validation-failure"),Ft.stopPropagation(),Ft.preventDefault(),Ft.returnValue=!1,Ft.cancelBubble=!0,!1;ue.classList.remove("nx-validation-failure")}typeof zt=="function"&&(G===w.Prompt&&ue&&(se=ue.value||""),zt(se)),Be.classList.add("nx-remove");var Us=setTimeout(function(){Be.parentNode!==null&&(Be.parentNode.removeChild(Be),clearTimeout(Us))},i.cssAnimationDuration)}),typeof zt=="function"){var $n=t.document.getElementById("NXConfirmButtonCancel");$n.addEventListener("click",function(){typeof _t=="function"&&(G===w.Prompt&&ue&&(se=ue.value||""),_t(se)),Be.classList.add("nx-remove");var Ft=setTimeout(function(){Be.parentNode!==null&&(Be.parentNode.removeChild(Be),clearTimeout(Ft))},i.cssAnimationDuration)})}}i=A(!0,i,kt)},jt=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},bt=function(G,X,et,Nt,Mt){if(!z("body"))return!1;a||ce.Loading.init({});var Wt=A(!0,a,{});if(typeof X=="object"&&!Array.isArray(X)||typeof et=="object"&&!Array.isArray(et)){var zt={};typeof X=="object"?zt=X:typeof et=="object"&&(zt=et),a=A(!0,a,zt)}var _t="";if(typeof X=="string"&&0<X.length&&(_t=X),Nt){_t=_t.length>a.messageMaxLength?R(_t).toString().substring(0,a.messageMaxLength)+"...":R(_t).toString();var ee="";0<_t.length&&(ee='<p id="'+a.messageID+'" class="nx-loading-message" style="color:'+a.messageColor+";font-size:"+a.messageFontSize+';">'+_t+"</p>"),a.cssAnimation||(a.cssAnimationDuration=0);var kt="";if(G===S.Standard)kt=L(a.svgSize,a.svgColor);else if(G===S.Hourglass)kt=gt(a.svgSize,a.svgColor);else if(G===S.Circle)kt=dt(a.svgSize,a.svgColor);else if(G===S.Arrows)kt=W(a.svgSize,a.svgColor);else if(G===S.Dots)kt=at(a.svgSize,a.svgColor);else if(G===S.Pulse)kt=wt(a.svgSize,a.svgColor);else if(G===S.Custom&&a.customSvgCode!==null&&a.customSvgUrl===null)kt=a.customSvgCode||"";else if(G===S.Custom&&a.customSvgUrl!==null&&a.customSvgCode===null)kt='<img class="nx-custom-loading-icon" width="'+a.svgSize+'" height="'+a.svgSize+'" src="'+a.customSvgUrl+'" alt="Notiflix">';else{if(G===S.Custom&&(a.customSvgUrl===null||a.customSvgCode===null))return O('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;kt=Pt(a.svgSize,"#f8f8f8","#32c682")}var de=parseInt((a.svgSize||"").replace(/[^0-9]/g,"")),je=t.innerWidth,Xt=de>=je?je-40+"px":de+"px",Ot='<div style="width:'+Xt+"; height:"+Xt+';" class="'+a.className+"-icon"+(0<_t.length?" nx-with-message":"")+'">'+kt+"</div>",$t=t.document.createElement("div");if($t.id=E.ID,$t.className=a.className+(a.cssAnimation?" nx-with-animation":"")+(a.clickToClose?" nx-loading-click-to-close":""),$t.style.zIndex=a.zindex,$t.style.background=a.backgroundColor,$t.style.animationDuration=a.cssAnimationDuration+"ms",$t.style.fontFamily='"'+a.fontFamily+'", '+h,$t.style.display="flex",$t.style.flexWrap="wrap",$t.style.flexDirection="column",$t.style.alignItems="center",$t.style.justifyContent="center",a.rtl&&($t.setAttribute("dir","rtl"),$t.classList.add("nx-rtl-on")),$t.innerHTML=Ot+ee,!t.document.getElementById($t.id)&&(t.document.body.appendChild($t),a.clickToClose)){var ne=t.document.getElementById($t.id);ne.addEventListener("click",function(){$t.classList.add("nx-remove");var ln=setTimeout(function(){$t.parentNode!==null&&($t.parentNode.removeChild($t),clearTimeout(ln))},a.cssAnimationDuration)})}}else if(t.document.getElementById(E.ID))var se=t.document.getElementById(E.ID),Hn=setTimeout(function(){se.classList.add("nx-remove");var ln=setTimeout(function(){se.parentNode!==null&&(se.parentNode.removeChild(se),clearTimeout(ln))},a.cssAnimationDuration);clearTimeout(Hn)},Mt);a=A(!0,a,Wt)},Kt=function(G){typeof G!="string"&&(G="");var X=t.document.getElementById(E.ID);if(X)if(0<G.length){G=G.length>a.messageMaxLength?R(G).substring(0,a.messageMaxLength)+"...":R(G);var et=X.getElementsByTagName("p")[0];if(et)et.innerHTML=G;else{var Nt=t.document.createElement("p");Nt.id=a.messageID,Nt.className="nx-loading-message nx-loading-message-new",Nt.style.color=a.messageColor,Nt.style.fontSize=a.messageFontSize,Nt.innerHTML=G,X.appendChild(Nt)}}else O("Where is the new message?")},qt=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},Dt=0,Qt=function(G,X,et,Nt,Mt,Wt){var zt;if(Array.isArray(et)){if(1>et.length)return O("Array of HTMLElements should contains at least one HTMLElement."),!1;zt=et}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,et)){if(1>et.length)return O("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;zt=Array.prototype.slice.call(et)}else{var _t=typeof et!="string"||1>(et||"").length||(et||"").length===1&&((et||"")[0]==="#"||(et||"")[0]===".");if(_t)return O("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var ee=t.document.querySelectorAll(et);if(1>ee.length)return O('You called the "Notiflix.Block..." function with "'+et+'" selector, but there is no such element(s) in the document.'),!1;zt=ee}l||ce.Block.init({});var kt=A(!0,l,{});if(typeof Nt=="object"&&!Array.isArray(Nt)||typeof Mt=="object"&&!Array.isArray(Mt)){var de={};typeof Nt=="object"?de=Nt:typeof Mt=="object"&&(de=Mt),l=A(!0,l,de)}var je="";typeof Nt=="string"&&0<Nt.length&&(je=Nt),l.cssAnimation||(l.cssAnimationDuration=0);var Xt=j.className;typeof l.className=="string"&&(Xt=l.className.trim());var Ot=typeof l.querySelectorLimit=="number"?l.querySelectorLimit:200,$t=(zt||[]).length>=Ot?Ot:zt.length,ne="nx-block-temporary-position";if(G){for(var se,Hn=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],ln=0;ln<$t;ln++)if(se=zt[ln],se){if(-1<Hn.indexOf(se.tagName.toLocaleLowerCase("en")))break;var Be=se.querySelectorAll("[id^="+j.ID+"]");if(1>Be.length){var Fe="";X&&(X===k.Hourglass?Fe=gt(l.svgSize,l.svgColor):X===k.Circle?Fe=dt(l.svgSize,l.svgColor):X===k.Arrows?Fe=W(l.svgSize,l.svgColor):X===k.Dots?Fe=at(l.svgSize,l.svgColor):X===k.Pulse?Fe=wt(l.svgSize,l.svgColor):Fe=L(l.svgSize,l.svgColor));var ue='<span class="'+Xt+'-icon" style="width:'+l.svgSize+";height:"+l.svgSize+';">'+Fe+"</span>",$n="";0<je.length&&(je=je.length>l.messageMaxLength?R(je).substring(0,l.messageMaxLength)+"...":R(je),$n='<span style="font-size:'+l.messageFontSize+";color:"+l.messageColor+';" class="'+Xt+'-message">'+je+"</span>"),Dt++;var Ft=t.document.createElement("div");Ft.id=j.ID+"-"+Dt,Ft.className=Xt+(l.cssAnimation?" nx-with-animation":""),Ft.style.position=l.position,Ft.style.zIndex=l.zindex,Ft.style.background=l.backgroundColor,Ft.style.animationDuration=l.cssAnimationDuration+"ms",Ft.style.fontFamily='"'+l.fontFamily+'", '+h,Ft.style.display="flex",Ft.style.flexWrap="wrap",Ft.style.flexDirection="column",Ft.style.alignItems="center",Ft.style.justifyContent="center",l.rtl&&(Ft.setAttribute("dir","rtl"),Ft.classList.add("nx-rtl-on")),Ft.innerHTML=ue+$n;var bs=t.getComputedStyle(se).getPropertyValue("position"),Us=typeof bs=="string"?bs.toLocaleLowerCase("en"):"relative",wr=Math.round(1.25*parseInt(l.svgSize))+40,Bs=se.offsetHeight||0,as="";wr>Bs&&(as="min-height:"+wr+"px;");var Er="";Er=se.getAttribute("id")?"#"+se.getAttribute("id"):se.classList[0]?"."+se.classList[0]:(se.tagName||"").toLocaleLowerCase("en");var os="",Tr=-1>=["absolute","relative","fixed","sticky"].indexOf(Us);if(Tr||0<as.length){if(!z("head"))return!1;Tr&&(os="position:relative!important;");var ti='<style id="Style-'+j.ID+"-"+Dt+'">'+Er+"."+ne+"{"+os+as+"}</style>",Di=t.document.createRange();Di.selectNode(t.document.head);var ei=Di.createContextualFragment(ti);t.document.head.appendChild(ei),se.classList.add(ne)}se.appendChild(Ft)}}}else var Co=function(we){var gn=setTimeout(function(){we.parentNode!==null&&we.parentNode.removeChild(we);var Mi=we.getAttribute("id"),ls=t.document.getElementById("Style-"+Mi);ls&&ls.parentNode!==null&&ls.parentNode.removeChild(ls),clearTimeout(gn)},l.cssAnimationDuration)},De=function(we){if(we&&0<we.length)for(var gn,Mi=0;Mi<we.length;Mi++)gn=we[Mi],gn&&(gn.classList.add("nx-remove"),Co(gn));else B(typeof et=="string"?'"Notiflix.Block.remove();" function called with "'+et+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+et+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Ye=function(we){var gn=setTimeout(function(){we.classList.remove(ne),clearTimeout(gn)},l.cssAnimationDuration+300)},Ge=setTimeout(function(){for(var we,gn=0;gn<$t;gn++)we=zt[gn],we&&(Ye(we),Be=we.querySelectorAll("[id^="+j.ID+"]"),De(Be));clearTimeout(Ge)},Wt);l=A(!0,l,kt)},ce={Notify:{init:function(G){e=A(!0,g,G),H(q,"NotiflixNotifyInternalCSS")},merge:function(G){return e?void(e=A(!0,e,G)):(O("You have to initialize the Notify module before call Merge function."),!1)},success:function(G,X,et){ft(f.Success,G,X,et)},failure:function(G,X,et){ft(f.Failure,G,X,et)},warning:function(G,X,et){ft(f.Warning,G,X,et)},info:function(G,X,et){ft(f.Info,G,X,et)}},Report:{init:function(G){s=A(!0,b,G),H(rt,"NotiflixReportInternalCSS")},merge:function(G){return s?void(s=A(!0,s,G)):(O("You have to initialize the Report module before call Merge function."),!1)},success:function(G,X,et,Nt,Mt){mt(x.Success,G,X,et,Nt,Mt)},failure:function(G,X,et,Nt,Mt){mt(x.Failure,G,X,et,Nt,Mt)},warning:function(G,X,et,Nt,Mt){mt(x.Warning,G,X,et,Nt,Mt)},info:function(G,X,et,Nt,Mt){mt(x.Info,G,X,et,Nt,Mt)}},Confirm:{init:function(G){i=A(!0,T,G),H(xt,"NotiflixConfirmInternalCSS")},merge:function(G){return i?void(i=A(!0,i,G)):(O("You have to initialize the Confirm module before call Merge function."),!1)},show:function(G,X,et,Nt,Mt,Wt,zt){yt(w.Show,G,X,null,et,Nt,Mt,Wt,zt)},ask:function(G,X,et,Nt,Mt,Wt,zt,_t){yt(w.Ask,G,X,et,Nt,Mt,Wt,zt,_t)},prompt:function(G,X,et,Nt,Mt,Wt,zt,_t){yt(w.Prompt,G,X,et,Nt,Mt,Wt,zt,_t)}},Loading:{init:function(G){a=A(!0,E,G),H(jt,"NotiflixLoadingInternalCSS")},merge:function(G){return a?void(a=A(!0,a,G)):(O("You have to initialize the Loading module before call Merge function."),!1)},standard:function(G,X){bt(S.Standard,G,X,!0,0)},hourglass:function(G,X){bt(S.Hourglass,G,X,!0,0)},circle:function(G,X){bt(S.Circle,G,X,!0,0)},arrows:function(G,X){bt(S.Arrows,G,X,!0,0)},dots:function(G,X){bt(S.Dots,G,X,!0,0)},pulse:function(G,X){bt(S.Pulse,G,X,!0,0)},custom:function(G,X){bt(S.Custom,G,X,!0,0)},notiflix:function(G,X){bt(S.Notiflix,G,X,!0,0)},remove:function(G){typeof G!="number"&&(G=0),bt(null,null,null,!1,G)},change:function(G){Kt(G)}},Block:{init:function(G){l=A(!0,j,G),H(qt,"NotiflixBlockInternalCSS")},merge:function(G){return l?void(l=A(!0,l,G)):(O('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(G,X,et){Qt(!0,k.Standard,G,X,et)},hourglass:function(G,X,et){Qt(!0,k.Hourglass,G,X,et)},circle:function(G,X,et){Qt(!0,k.Circle,G,X,et)},arrows:function(G,X,et){Qt(!0,k.Arrows,G,X,et)},dots:function(G,X,et){Qt(!0,k.Dots,G,X,et)},pulse:function(G,X,et){Qt(!0,k.Pulse,G,X,et)},remove:function(G,X){typeof X!="number"&&(X=0),Qt(!1,null,G,null,null,X)}}};return typeof t.Notiflix=="object"?A(!0,t.Notiflix,{Notify:ce.Notify,Report:ce.Report,Confirm:ce.Confirm,Loading:ce.Loading,Block:ce.Block}):{Notify:ce.Notify,Report:ce.Report,Confirm:ce.Confirm,Loading:ce.Loading,Block:ce.Block}})}(Tf)),Tf.exports}var MO=DO();const pt=nE(MO),OO={user:null,status:"loading",error:null},QS=F.createContext();function PO(n,t){switch(t.type){case"AUTH_INIT":return{...n,status:"loading"};case"AUTH_READY":return{...n,user:t.payload,status:t.payload?"authenticated":"idle",error:null};case"LOGIN_REQUEST":return{...n,status:"loading",error:null};case"LOGIN_SUCCESS":return{...n,user:t.payload,status:"authenticated"};case"LOGIN_FAILURE":return{...n,user:null,status:"error",error:t.payload};case"LOGOUT_SUCCESS":return{...n,user:null,status:"idle"};case"REGISTER_REQUEST":return{...n,status:"loading",error:null};case"REGISTER_SUCCESS":return{...n,user:t.payload,status:"authenticated"};case"REGISTER_FAILURE":return{...n,user:null,status:"error",error:t.payload};default:return n}}const LO=({children:n})=>{const[t,e]=F.useReducer(PO,OO);F.useEffect(()=>{e({type:"AUTH_INIT"});const l=eD($d,async u=>{if(!u){e({type:"AUTH_READY",payload:null});return}let h=u.displayName?.trim()||"";if(!h)try{const g=await getDoc(Kn(Dn,"users",u.uid)),x=g.exists()?(g.data()?.dtName||"").trim():"";if(x){h=x;try{await d1(u,{displayName:x})}catch{}}}catch{}h||(h=u.email?.split("@")[0]||"");const f={...u,displayName:h};e({type:"AUTH_READY",payload:f})});return()=>l()},[]);const s=async(l,u)=>{e({type:"LOGIN_REQUEST"});try{const h=await Qj($d,l,u);e({type:"LOGIN_SUCCESS",payload:h.user}),pt.Notify.success("Inicio de sesin exitoso")}catch(h){e({type:"LOGIN_FAILURE",payload:h}),pt.Notify.failure("Error al iniciar sesin")}},i=async()=>{try{await nD($d),e({type:"LOGOUT_SUCCESS"}),pt.Notify.success("Sesin cerrada")}catch(l){pt.Notify.failure("Error al cerrar sesin"),console.error("Error al cerrar sesin:",l)}},a=async(l,u,h)=>{e({type:"REGISTER_REQUEST"});try{const f=await Xj($d,l,u);await d1(f.user,{displayName:h}),await rc(Kn(Dn,"users",f.user.uid),{dtName:h,email:l,createdAt:_o()},{merge:!0}),e({type:"REGISTER_SUCCESS",payload:f.user}),pt.Notify.success("Registro exitoso")}catch(f){e({type:"REGISTER_FAILURE",payload:"Error al registrar usuario"}),pt.Notify.failure("Error al registrar usuario"),console.error("Error al registrar usuario:",f)}};return m.jsx(QS.Provider,{value:{user:t.user,loading:t.status==="loading",handleLogin:s,handleLogout:i,handleRegister:a,uid:t.user?.uid,isAuthenticated:t.status==="authenticated"},children:n})},pn=()=>F.useContext(QS),nx=(n={})=>{const[t,e]=F.useState(n);return{form:t,changed:({target:a})=>{const{name:l,value:u}=a;e({...t,[l]:u})},setValue:(a,l)=>{e(u=>({...u,[a]:l}))}}},VO=()=>{const{handleRegister:n}=pn(),{form:t,changed:e}=nx(),s=async i=>{i.preventDefault();let a=t;if(!a.email||!a.password||!a.nombre){pt.Notify.failure("Por favor, completa todos los campos");return}if(a.password!==a.confirmPassword){pt.Notify.failure("Las contraseas no coinciden");return}try{const l=await n(a.email,a.password,a.nombre)}catch(l){console.error("Error al registrar usuario:",l)}};return m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs("form",{onSubmit:s,children:[m.jsx("label",{htmlFor:"nombre",children:"Director Tcnico"}),m.jsx("input",{name:"nombre",className:"w-full border rounded p-2",type:"text",placeholder:"Nombre del DT",required:!0,onChange:e}),m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{name:"email",className:"w-full border rounded p-2",type:"email",placeholder:"Email",required:!0,onChange:e}),m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{name:"password",className:"w-full border rounded p-2",type:"password",placeholder:"Contrasea",required:!0,onChange:e}),m.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),m.jsx("input",{name:"confirmPassword",className:"w-full border rounded p-2",type:"password",placeholder:"Confirmar Contrasea",required:!0,onChange:e}),m.jsx("input",{className:"text-blue-600 hover:underline bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2",type:"submit",value:"Registrarse"})]})})},zO=()=>{const{form:n,changed:t}=nx(),{user:e,loading:s,handleLogin:i}=pn(),[a,l]=F.useState(!1),[u,h]=F.useState(!1),f=th();F.useEffect(()=>{if(e&&!s)f("/partidos",{replace:!0});else return},[e,s,f]),F.useEffect(()=>(s&&pt.Loading.circle("Cargando"),()=>{pt.Loading.remove()}),[s]);const g=async b=>{b.preventDefault();let{email:w,password:T}=n;if(!w||!T){pt.Notify.failure("Por favor, completa todos los campos");return}try{const S=await i(w,T)}catch(S){pt.Notify.failure("Error al iniciar sesin"),console.error("Error al iniciar sesin:",S)}},x=()=>{l(!a)};return m.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Iniciar Sesin"}),m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs("form",{action:"",onSubmit:g,children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",name:"email",id:"email",onChange:t,className:"w-full border rounded p-2"}),m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{type:u?"text":"password",name:"password",id:"password",onChange:t,className:"w-full border rounded p-2"}),m.jsx("button",{type:"button",onClick:()=>h(!u),className:"text-sm text-blue-600 hover:text-red-600",children:u?"Ocultar Contrasea":"Ver Contrasea"}),m.jsx("input",{type:"submit",value:"Ingresar",className:"text-blue-600 hover:font-bold bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2"})]})}),m.jsx("button",{onClick:x,className:"text-2xl font-bold mb-4 mt-4 text-center hover:text-blue-600 hover:cursor-pointer",children:"Registrarse"}),a&&m.jsx(VO,{})]})},JS={fecha:"2018-07-01",bootstrapped:!0,rival:"",activeClub:"",torneoName:"",torneoYear:null,torneoDisplay:"",condition:"",torneosIndex:[],matches:[],rivalesIndex:[],captain:"",starters:[],substitutes:[],goleadoresActiveClub:[],goleadoresRivales:[],autogolesFavor:0,editingMatchId:null,editingClub:null,editingCreatedAt:null};function UO(n,t){switch(t.type){case"ACTUALIZAR_CAMPO":return{...n,[t.campo]:t.valor};case"SET_FECHA":{const s=t.payload;return typeof s!="string"||s.trim()===""?n:{...n,fecha:s,bootstrapped:!0}}case"SET_RIVAL":{const s=t.payload;return typeof s!="string"||s.trim()===""?n:{...n,rival:s}}case"HYDRATE_FROM_FIREBASE":{const s=t.payload||{};return{...n,activeClub:s.activeClub??n.activeClub,torneosIndex:Array.isArray(s.torneosIndex)?s.torneosIndex:[],matches:Array.isArray(s.matches)?s.matches:n.matches,rivalesIndex:Array.isArray(s.rivalesIndex)?s.rivalesIndex:[],goleadoresActiveClub:Array.isArray(s.goleadoresActiveClub)?s.goleadoresActiveClub:n.goleadoresActiveClub}}case"SET_FORMACION":{const{captain:s,starters:i}=t.payload;return{...n,captain:s,starters:i}}case"SET_SUBS":const{substitutes:e}=t.payload;return{...n,substitutes:e};case"ADD_GOLEADOR":{const{name:s,activeClub:i}=t.payload;return n.goleadoresActiveClub.some(l=>l.name===s&&l.activeClub===i)?n:{...n,goleadoresActiveClub:[...n.goleadoresActiveClub,{name:s,activeClub:i,gol:!!t.payload.gol,doblete:!!t.payload.doblete,triplete:!!t.payload.triplete,hattrick:!!t.payload.hattrick,expulsion:!!t.payload.expulsion,isOwnGoal:!!t.payload.isOwnGoal}]}}case"TOGGLE_EVENT":{const{name:s,activeClub:i,event:a}=t.payload;return{...n,goleadoresActiveClub:n.goleadoresActiveClub.map(l=>l.name===s&&l.activeClub===i?{...l,[a]:!l[a]}:l)}}case"REMOVE_GOLEADOR":{const{name:s,activeClub:i}=t.payload;return{...n,goleadoresActiveClub:n.goleadoresActiveClub.filter(a=>!(a.name===s&&a.activeClub===i))}}case"RESET_FORM":return{...JS,activeClub:n.activeClub,torneosIndex:n.torneosIndex,matches:n.matches,rivalesIndex:n.rivalesIndex};case"OWN_GOAL_FAVOR_INC":return{...n,autogolesFavor:(n.autogolesFavor||0)+1};case"OWN_GOAL_FAVOR_DEC":return{...n,autogolesFavor:Math.max(0,(n.autogolesFavor||0)-1)};case"RIVAL_ADD":{const s=t.payload;return n.goleadoresRivales.some(a=>a.name===s.name&&a.club===s.club)?n:{...n,goleadoresRivales:[...n.goleadoresRivales,s]}}case"RIVAL_TOGGLE":{const{name:s,club:i,field:a}=t.payload;return{...n,goleadoresRivales:n.goleadoresRivales.map(l=>l.name===s&&l.club===i?{...l,[a]:!l[a]}:l)}}case"RIVAL_REMOVE":{const{name:s,club:i}=t.payload;return{...n,goleadoresRivales:n.goleadoresRivales.filter(a=>!(a.name===s&&a.club===i))}}case"LOAD_MATCH_FOR_EDIT":{const s=t.payload?.match;return s?{...n,editingMatchId:s.id,editingClub:s.club??null,editingCreatedAt:s.createdAt??null,fecha:s.fecha??"",captain:s.captain??"",condition:s.condition??"local",rival:s.rival??"",torneoName:s.torneoName??"",starters:Array.isArray(s.starters)?s.starters:[],substitutes:Array.isArray(s.substitutes)?s.substitutes:[],goleadoresActiveClub:Array.isArray(s.goleadoresActiveClub)?s.goleadoresActiveClub:[],goleadoresRivales:Array.isArray(s.goleadoresRivales)?s.goleadoresRivales:[],autogolesFavor:Number.isFinite(s.autogolesFavor)?s.autogolesFavor:0}:n}default:return n}}const ZS=F.createContext(null);function rs(){const n=F.useContext(ZS);if(!n)throw new Error("usePartido debe usarse dentro de <PartidoProvider>");return n}function BO({children:n}){const[t,e]=F.useReducer(UO,JS),s=ur.useMemo(()=>({state:t,dispatch:e}),[t]);return m.jsx(ZS.Provider,{value:s,children:n})}function Et(n=""){return(n??"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const sx=async(n,t,e)=>{if(n)try{pt.Loading.standard("Cargando datos...");const s=Kn(Dn,"users",n),i=await ic(s);if(i.exists()){const a=i.data(),{lineups:l,torneosIndex:u,rivalesIndex:h}=a||{},f=Et(a?.activeClub),g=f?a?.lineups?.[f]?.matches||[]:[];t({type:"HYDRATE_FROM_FIREBASE",payload:{torneosIndex:u,rivalesIndex:h,matches:g}}),e&&l&&typeof l=="object"&&(e({type:"LINEUPS_SET_ALL",payload:{lineups:l}}),e({type:"SET_MANAGED_CLUBS",payload:{clubs:Object.keys(l)}}));const x=g.map(b=>b?.fecha).filter(Boolean).sort((b,w)=>new Date(b)-new Date(w)).at(-1);x&&(pt.Notify.success("Info Sincronizado"),t({type:"ACTUALIZAR_CAMPO",campo:"fecha",valor:x}))}else console.warn("[Partido] no existe doc para uid:",n)}catch(s){console.error("Error al montar el formulario",s),pt.Notify.failure("Error al cargar el formulario")}finally{pt.Loading.remove()}},zs=(n,t,e)=>{F.useEffect(()=>{sx(n,t,e)},[n])},ix="LINEUP_RESET",mo="LINEUP_SET_SELECTED",tN="LINEUP_SET_CAPTAIN",rx="LINEUP_ADD_STARTER",eN="LINEUP_REMOVE_STARTER",nN="LINEUP_SAVE_LOCAL",ax="CLUB_RESET",FO="PLAYERS_ADD",sN="PLAYERS_REMOVE",iN="LINEUP_DELETE_LOCAL",qu="SAVE_CLUB_NAME",Wu="CLUB_LOAD_FROM_ACTIVE",Tm="LINEUPS_UPSERT_BUCKET",HO={captainName:null,starters:[],selectMode:"captain",selectedOption:"",lineups:{},activeClub:"",players:[],usedClub:!1,managedClubs:[]},rN=F.createContext();function Xn(){const n=F.useContext(rN);if(!n)throw new Error("useLineups debe usarse dentro de <LineupsProvider>");return n}function $O(n,t){switch(t.type){case ax:return{activeClub:"",players:[],lineups:{}};case ix:return{...n,captainName:null,starters:[],selectMode:"captain",selectedOption:""};case mo:return{...n,selectedOption:t.payload};case tN:{if(!t.payload||typeof t.payload.captain!="string")return n;const e=Et(t.payload.captain);if(e===""||n.starters.length>=11&&!n.starters.includes(e))return n;const s=n.starters.includes(e)?n.starters:[...n.starters,e];return{...n,captainName:e,starters:s,selectMode:"starters",selectedOption:""}}case nN:{const e=Et(n.activeClub??"");if(!e)return n;const i=n.lineups?.[e]??{label:e,players:[],formations:[]};if(!t.payload)return n;const{id:a,captain:l,starters:u,createdAt:h}=t.payload,f=Et(l),g=Array.isArray(u)?u.map(Et):[],x=h&&!Number.isNaN(new Date(h).getTime());if(!a||g.length!==11||!f||!x||!g.includes(f))return n;const b=Array.isArray(i.players)?[...i.players]:[];if(i.formations.some(k=>k.id===a))return n;const T=new Date(h).toISOString(),S={id:a,createdAt:T,captain:f,starters:[...g]},E={label:i.label||e,players:b,formations:[S,...i.formations]};return{...n,lineups:{...n.lineups,[e]:E},captainName:null,starters:[],selectMode:"captain",selectedOption:""}}case rx:{if(!t.payload||typeof t.payload.player!="string")return n;const e=Et(t.payload.player);return e===""||n.starters.length>=11||n.starters.includes(e)?n:{...n,starters:[...n.starters,e],selectMode:"starters",selectedOption:""}}case eN:{if(!t.payload||typeof t.payload.player!="string")return n;const e=Et(t.payload.player);if(e===""||!n.starters.includes(e))return n;const s=n.starters.filter(a=>a!==e),i=e===n.captainName;return{...n,captainName:i?null:n.captainName,starters:s,selectMode:i?"captain":n.selectMode,selectedOption:""}}case iN:{if(!t.payload||typeof t.payload.id!="string")return n;const e=Et(n.activeClub??"");if(!e)return n;const s=n.lineups?.[e];if(!s)return n;const i=s.formations.length,a=s.formations.filter(l=>l.id!==t.payload.id);return a.length===i?n:{...n,lineups:{...n.lineups,[e]:{...s,formations:a}}}}case"SET_MANAGED_CLUBS":{const e=new Set,s=(t.payload?.clubs||[]).map(i=>Et(i)).filter(i=>i&&!e.has(i)&&e.add(i));return{...n,managedClubs:s}}case"UPDATE_TORNEO_CONFIG":return{...n,lineups:{...n.lineups,[t.payload.clubKey]:{...n.lineups[t.payload.clubKey],torneosConfig:{...n.lineups[t.payload.clubKey].torneosConfig,[t.payload.torneo]:t.payload.settings}}}};case"LINEUPS_SET_ALL":{const e=t.payload?.lineups;return!e||typeof e!="object"?n:{...n,lineups:{...n.lineups,...e}}}case FO:{if(!t.payload||typeof t.payload.name!="string")return n;const e=Et(t.payload.name);if(e==="")return n;const s=Et(n.activeClub??"");if(!s)return n;const i=n.lineups?.[s]??{label:s,players:[],formations:[]},a=Array.isArray(i.players)?i.players:[];if(a.includes(e))return n;const l=[...a,e].sort((u,h)=>u.localeCompare(h,"es",{sensitivity:"base"}));return{...n,lineups:{...n.lineups,[s]:{...i,players:l}},players:l}}case sN:{const e=t.payload?.name??"",s=Et(e);if(!s)return n;const i=n.players.filter(g=>g!==s),a=n.starters.filter(g=>g!==s),l=Et(n.captainName)===s,u=Et(n.activeClub??""),h=u?n.lineups?.[u]:null;let f=n.lineups;if(h){const g=h.players.filter(b=>b!==s),x=h.formations.filter(b=>{const w=Et(b.captain)===s,T=Array.isArray(b.starters)&&b.starters.some(S=>S===s);return!(w||T)});f={...n.lineups,[u]:{...h,players:g,formations:x}}}return{...n,players:i,starters:a,captainName:l?null:n.captainName,selectMode:l?"captain":n.selectMode,lineups:f}}case qu:{if(!t.payload||typeof t.payload.name!="string")return n;const e=Et(t.payload.name);if(e==="")return n;const s=new Set([...n.managedClubs||[],e]);return{...n,activeClub:e,managedClubs:Array.from(s)}}case Wu:{const e=Et(n.activeClub||""),s=n.lineups?.[e];return s?{...n,players:s.players,usedClub:!0}:{...n,usedClub:!1,captainName:null,starters:[],selectMode:"captain",selectedOption:"",players:[]}}case Tm:{const{club:e,bucket:s}=t.payload||{};if(!e||!s)return n;const a={...n.lineups?.[e]??{},...s},l=Et(n.activeClub??""),u=Et(e);return{...n,lineups:{...n.lineups,[e]:a},...u===l&&a.players?{players:a.players}:null}}default:return n}}function GO({children:n}){const[t,e]=F.useReducer($O,HO);return m.jsx(rN.Provider,{value:{state:t,dispatch:e},children:n})}const Ct=n=>{if(n==null)return"";let t=Array.isArray(n)?n.join(" "):String(n);return t=t.trim(),t?t.split(/\s+/).map(i=>{const a=Et(i);return a?a.charAt(0).toUpperCase()+a.slice(1):""}).filter(Boolean).join(" "):""};function qO(){const{user:n,handleLogout:t,uid:e,isAuthenticated:s}=pn(),i=ji(),[a,l]=F.useState(!1),[u,h]=F.useState(!1),{dispatch:f}=rs(),{dispatch:g}=Xn(),x=async()=>{e&&await sx(e,f)};F.useEffect(()=>{const j=()=>{const O=window.innerWidth,B=window.innerHeight;h(O<1024||B<432)};return j(),window.addEventListener("resize",j),window.addEventListener("orientationchange",j),()=>{window.removeEventListener("resize",j),window.removeEventListener("orientationchange",j)}},[]);const b=j=>i.pathname===j||i.pathname.startsWith(j+"/"),w=j=>`inline-flex items-center justify-center w-10 h-10 rounded-full transition-all duration-150 ${b(j)?"ring-3 ring-blue-900 ring-offset-2 ring-offset-white":"ring-0"}`,T=()=>"block px-2 py-2 rounded transition text-gray-700",S=()=>{pt.Confirm.show("Reiniciar","Esto borrar el club activo, la formacin y el formulario del partido en esta sesin. Continuar?","S","No",async()=>{try{if(g({type:"CLUB_RESET"}),g({type:"LINEUP_RESET"}),f({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),f({type:"RESET_FORM"}),e){const j=Kn(Dn,"users",e);await rc(j,{activeClub:"",lineups:{},players:[],starters:[],useClub:!1},{merge:!0})}pt.Notify.success("Listo: se reinici la sesin de trabajo.")}catch{pt.Notify.failure("No se pudo reiniciar.")}},()=>{})},E=()=>{pt.Confirm.show("Cerrar Sesin","Ests seguro de que quieres cerrar sesin?","S","No",async()=>{try{g({type:"CLUB_RESET"}),f({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),f({type:"RESET_FORM"}),await t()}catch{pt.Notify.failure("No se pudo cerrar sesin correctamente");return}pt.Notify.success("Sesin cerrada")},()=>{pt.Notify.info("Sesin no cerrada")},{width:"300px",borderRadius:"8px",titleColor:"#333",messageColor:"#555",okButtonBackground:"#4CAF50",cancelButtonBackground:"#f44336"})},k=[{path:"/registrar-partido",label:""},{path:"/versus",label:""},{path:"/temporadas",label:""},{path:"/ultimos-diez",label:""},{path:"/analisis",label:""},{path:"/graficos",label:""},{path:"/campeonatos",label:""},{path:"/partidos",label:""},{path:"/goleadores",label:""},{path:"/formacion",label:""},{path:"/palmares",label:""}];return m.jsxs("nav",{className:"bg-white shadow-md w-full sticky top-0 z-50",children:[!u&&m.jsxs("div",{className:"max-w-6xl mx-auto px-1 py-3 flex items-center gap-2",children:[m.jsx("span",{className:"text-2xl font-bold text-blue-600 whitespace-nowrap cursor-pointer",onClick:x,children:" Pes Stats Zone"}),m.jsx("div",{className:"flex-1 flex justify-center min-w-0",children:m.jsx("div",{className:"flex items-center flex-nowrap overflow-x-auto",children:k.map(({path:j,label:O})=>m.jsx(Dl,{to:j,className:`${T()} flex items-center text-xl`,children:m.jsx("span",{className:w(j),children:O})},j))})}),m.jsxs("div",{className:"flex items-center gap-2 flex-nowrap whitespace-nowrap",children:[n&&m.jsxs("div",{className:"flex flex-col items-center justify-center border p-2 rounded-lg",children:[m.jsx("label",{children:"Dt"}),m.jsx("span",{className:"text-gray-700 font-semibold max-w-[140px] truncate",children:Ct(n.displayName)})]}),m.jsx("button",{onClick:S,className:"text-red-600 hover:uppercase hover:font-bold flex items-center gap-1",children:" Reiniciar"}),m.jsx("button",{onClick:()=>E(),className:"bg-red-400 text-white rounded-xl px-4 hover:bg-red-600 flex items-center gap-1",children:"Salir"})]})]}),u&&m.jsx("button",{type:"button",className:"fixed top-3 right-3 bg-white rounded-full shadow-md p-2 text-gray-700 text-2xl z-40",onClick:()=>l(!a),"aria-label":"Abrir men",style:{minWidth:"48px",minHeight:"48px"},children:""}),a&&u&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40 flex",onClick:()=>l(!1),children:m.jsxs("div",{className:"bg-white w-full h-full p-6 shadow-lg flex flex-col items-end overflow-y-auto max-h-screen",onClick:j=>j.stopPropagation(),children:[m.jsxs("div",{className:"mb-6 text-3xl font-bold text-blue-600 flex items-center gap-2 w-full justify-end",children:[" Pes Stats Zone",m.jsx("button",{className:"ml-2 text-gray-400 text-2xl",onClick:()=>l(!1),"aria-label":"Cerrar men",tabIndex:0,children:""})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-4",children:[k.map(({path:j,label:O})=>m.jsx(Dl,{to:j,className:`${T()} flex items-center justify-center rounded-xl p-3 text-3xl`,onClick:()=>l(!1),"aria-label":j,title:j,children:m.jsx("span",{className:w(j),children:O})},j)),n&&m.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl p-3 border text-center",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"DT"}),m.jsx("span",{className:"text-sm font-semibold text-gray-800 break-words",children:Ct(n.displayName)})]}),m.jsx("button",{onClick:()=>{l(!1),S()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:m.jsx("span",{className:"text-s mt-1",children:"Reiniciar"})}),m.jsx("button",{onClick:()=>{l(!1),E()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:m.jsx("span",{className:"text-s mt-1",children:"Salir"})}),m.jsx("div",{className:"flex flex-col items-center justify-center rounded-xl border text-center",children:m.jsx("span",{children:"Versin: 26"})})]})]})})]})}const WO=()=>{const{user:n,loading:t}=pn();return F.useEffect(()=>(t&&pt.Loading.circle("Cargando"),()=>{pt.Loading.remove()}),[t]),t?null:n?m.jsxs("div",{children:[m.jsx(qO,{}),m.jsx(dE,{})]}):m.jsx(Vs,{to:"/",replace:!0})},YO=({value:n,onChange:t})=>m.jsxs("div",{children:[m.jsx("input",{type:"date",name:"fecha",value:n,onChange:t,className:"w-full border rounded p-2"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Fecha del Partido"})]}),KO=({value:n,onChange:t,onBlur:e,suggestions:s=[]})=>{const i=l=>(l??"").toString().trim().replace(/\s+/g," "),a=Array.from(new Map((s||[]).map(l=>i(l)).filter(Boolean).map(l=>{const u=Ct(l);return[u.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim(),u]})).values()).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"}));return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Rival"}),m.jsx("input",{type:"text",name:"rival",value:n||"",onChange:t,onBlur:e,list:"sugerencias-rivales",placeholder:"Rival (nombre completo)",className:"w-full border rounded p-2",autoComplete:"off"}),m.jsx("datalist",{id:"sugerencias-rivales",children:(a||[]).slice().sort((l,u)=>Ct(l).localeCompare(Ct(u),"es",{sensitivity:"base"})).map(l=>m.jsx("option",{value:Ct(l)},l))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un rival nuevo."})]})};function XO({value:n,onChange:t,onBlur:e,suggestions:s=[],matches:i=[]}){const a=u=>(u??"").toString().trim().toLowerCase(),l=F.useMemo(()=>{const u=new Map,h=Array.isArray(i)?i:Array.isArray(i?.matches)?i.matches:[];for(const g of h){const x=a(g?.torneoName);if(!x)continue;const b=Number(g?.updatedAt)||0;b>(u.get(x)||0)&&u.set(x,b)}const f=Array.from(new Set((s||[]).map(a))).filter(Boolean);return f.sort((g,x)=>{const b=u.get(g)||0,w=u.get(x)||0;return w!==b?w-b:g.localeCompare(x)}),f},[s,i]);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Torneo"}),m.jsx("input",{type:"text",name:"torneoName",value:n||"",onChange:t,onBlur:e,list:"torneos-list",placeholder:"Ej: Copa Argentina",className:"w-full border rounded p-2",autoComplete:"off"}),m.jsx("datalist",{id:"torneos-list",children:(l||[]).map(u=>m.jsx("option",{value:Ct(u)},u))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un torneo nuevo."})]})}const QO=({formations:n=[],value:t,onChange:e,disabled:s})=>{const i=Array.isArray(n)?n:n&&typeof n=="object"?Object.values(n):[],a=Array.from(new Set(i.map(l=>l?.captain).filter(l=>typeof l=="string"&&l.trim()!=="")));return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Capitn"}),m.jsxs("select",{disabled:s,className:"w-full border rounded p-2",value:t||"",onChange:l=>e(l.target.value),children:[m.jsx("option",{value:"",children:"-- Eleg un capitn --"}),a.map(l=>m.jsx("option",{value:l,children:Ct?Ct(l):l},l))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg al Capitn de tu Equipo"})]})},JO=({players:n=[],starters:t=[],value:e=[],onChange:s,disabled:i})=>{const a=n.filter(u=>!t.includes(u)),l=u=>{const h=u.target.value;h&&(e.includes(h)||s([...e,h]))};return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Suplentes"}),m.jsxs("select",{disabled:i,className:"w-full border rounded p-2",onChange:l,defaultValue:"",name:"substitutes",children:[m.jsx("option",{value:"",children:"Lista de Suplentes"}),a.sort((u,h)=>u.localeCompare(h,"es",{sensitivity:"base"})).map(u=>m.jsx("option",{value:u,children:Ct(u)},u))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los jugadores que ingresaron"}),m.jsx("ul",{className:"flex flex-wrap gap-2 mt-2",children:e.map(u=>m.jsxs("li",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-lg",children:[Ct(u),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 pl-1",onClick:()=>s(e.filter(h=>h!==u)),children:""})]},u))})]})},ZO=n=>t=>{const{name:e,value:s,type:i,checked:a}=t.target;n({type:"ACTUALIZAR_CAMPO",campo:e,valor:i==="checkbox"?a:s})},ww=(n,t,e)=>s=>{const i=(s.target.value||"").trim();if(!i){pt.Notify.failure(e);return}const a=Ct(i);a!==i&&n({type:"ACTUALIZAR_CAMPO",campo:t,valor:a})},t3=(n,t,e)=>s=>{const i=n?.[t]?.formations,l=(Array.isArray(i)?i:i&&typeof i=="object"?Object.values(i):[]).find(h=>(h?.captain||"")===s),u=Array.isArray(l?.starters)?l.starters:[];e({type:"SET_FORMACION",payload:{captain:s,starters:u}})},e3=({disabled:n,onClick:t})=>m.jsx("div",{children:m.jsx("button",{type:"button",disabled:n,className:"bg-green-500 text-white rounded w-full p-2 font-bold disabled:opacity-50 disabled:cursor-not-allowed",onClick:t,children:"Guardar"})}),n3=async({uid:n,matchState:t,activeClub:e,ownGoals:s,rivalGoals:i,condition:a,rivalName:l,autogolesFavor:u=0})=>{if(!n)throw new Error("UID no disponible; no se puede guardar.");if(!e)throw new Error("saveMatch: activeClub vaco");if(!Number.isFinite(s)||!Number.isFinite(i))throw new Error("saveMatch: ownGoals/rivalGoals invlidos");const{fecha:h,captain:f,starters:g,substitutes:x,goleadoresActiveClub:b,goleadoresRivales:w,editingMatchId:T,editingCreatedAt:S}=t||{},E=h?new Date(h).getFullYear():null,k=t?.torneoName?.trim()||"",j=k&&E?`${k} ${E}`:k||"",O=rt=>(rt??"").toString().trim().replace(/\s+/g," "),B=O(l);if(O(k),!h||!B)throw new Error("Faltan completar campos");const z=!!T,H=z&&T||crypto?.randomUUID&&crypto.randomUUID()||String(Date.now()),A=s>i?"ganado":s<i?"perdido":"empatado",R=A==="ganado"?3:A==="empatado"?1:0,I=s,M=i,U=I-M,V=a==="visitante"?`${B} ${M} - ${I} ${e}`:`${e} ${I} - ${M} ${B}`,L={id:H,fecha:h,captain:f,condition:a,rival:B,club:e,torneoName:k,torneoYear:E,torneoDisplay:j,createdAt:z?S??Date.now():Date.now(),updatedAt:Date.now(),starters:g,substitutes:x,goleadoresActiveClub:b||[],goleadoresRivales:w||[],final:A,points:R,golFavor:I,golContra:M,dfGol:U,resultMatch:V,autogolesFavor:u},gt=Kn(Dn,"users",n);await rc(gt,{torneosIndex:Ef(k.toLowerCase()),rivalesIndex:B?Ef(B.toLowerCase()):[]},{merge:!0});const dt=Et?Et(e):e;let W=null;if(z){const mt=(await ic(gt)).data()||{},xt=mt?.lineups?.[dt]?.matches&&Array.isArray(mt.lineups[dt].matches)?mt.lineups[dt].matches:[];W=xt.find(jt=>jt?.id===H)||null;const yt=W?xt.map(jt=>jt?.id===H?L:jt):[...xt,L];await wi(gt,{[`lineups.${dt}.matches`]:yt})}else await wi(gt,{[`lineups.${dt}.matches`]:Ef(L)});const at=rt=>rt?.isOwnGoal||rt?.name==="__OG__",wt=rt=>(rt?.gol?1:0)+(rt?.doblete?2:0)+(rt?.triplete||rt?.hattrick?3:0),Pt=(rt,mt)=>{const yt=(bt=>(bt||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,""))(rt),jt=(mt??"").toString().trim()||"s_a";return`${yt}_${jt}`};if(!z){for(const bt of t.goleadoresActiveClub||[]){if(at(bt))continue;const Kt=Et(bt.name||"");if(!Kt)continue;const qt=`lineups.${dt}.playersStats.${Kt}`,Dt={},Qt=wt(bt);Qt>0&&(Dt[`${qt}.goals`]=Ln(Qt)),bt.doblete&&(Dt[`${qt}.dobletes`]=Ln(1)),(bt.triplete||bt.hattrick)&&(Dt[`${qt}.hatTricks`]=Ln(1)),bt.expulsion&&(Dt[`${qt}.expulsiones`]=Ln(1)),Object.keys(Dt).length>0&&await wi(gt,Dt)}for(const bt of t.goleadoresRivales||[]){if(at(bt))continue;const Kt=Et(bt.name||"");if(!Kt)continue;const qt=`lineups.${dt}.rivalsPlayers.${Kt}`,Dt={};Dt[`${qt}.matchesPlayed`]=Ln(1);const Qt=wt(bt);Qt>0&&(Dt[`${qt}.goals`]=Ln(Qt)),bt.doblete&&(Dt[`${qt}.dobletes`]=Ln(1)),(bt.triplete||bt.hattrick)&&(Dt[`${qt}.hatTricks`]=Ln(1)),bt.expulsion&&(Dt[`${qt}.expulsiones`]=Ln(1)),Object.keys(Dt).length>0&&await wi(gt,Dt)}const rt=Pt(k,E),mt=new Set((g||[]).map(bt=>Et(bt)).filter(Boolean));f&&mt.add(Et(f));const xt=new Set((x||[]).map(bt=>Et(bt)).filter(bt=>bt&&!mt.has(bt))),yt={},jt=(bt,{start:Kt=0,sub:qt=0})=>{if(!bt)return;const Dt=`lineups.${dt}.playersStats.${bt}`,Qt=`${Dt}.totals`,ce=`${Dt}.byTournament.${rt}`;yt[`${Qt}.matchesPlayed`]=Ln(1),yt[`${ce}.matchesPlayed`]=Ln(1),Kt&&(yt[`${Qt}.starts`]=Ln(1),yt[`${ce}.starts`]=Ln(1)),qt&&(yt[`${Qt}.subs`]=Ln(1),yt[`${ce}.subs`]=Ln(1))};return mt.forEach(bt=>jt(bt,{start:1})),xt.forEach(bt=>jt(bt,{sub:1})),Object.keys(yt).length>0&&(yt[`lineups.${dt}.updatedAt`]=_o(),await wi(gt,yt)),{id:H}}if(!W)return{id:H};const q={},st=(rt,mt)=>{!mt||mt===0||(q[rt]=Ln(mt))},ft=rt=>{const mt=new Map;for(const xt of rt||[]){if(at(xt))continue;const yt=Et(xt?.name||"");if(!yt)continue;const jt=mt.get(yt)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0,matchesPlayed:0},bt=wt(xt);jt.goals+=bt,xt?.doblete&&(jt.dobletes+=1),(xt?.triplete||xt?.hattrick)&&(jt.hatTricks+=1),xt?.expulsion&&(jt.expulsiones+=1),mt.set(yt,jt)}return mt};{const rt=ft(W.goleadoresActiveClub||[]),mt=ft(t.goleadoresActiveClub||[]),xt=new Set([...rt.keys(),...mt.keys()]);for(const yt of xt){const jt=rt.get(yt)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},bt=mt.get(yt)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Kt=`lineups.${dt}.playersStats.${yt}`;st(`${Kt}.goals`,bt.goals-jt.goals),st(`${Kt}.dobletes`,bt.dobletes-jt.dobletes),st(`${Kt}.hatTricks`,bt.hatTricks-jt.hatTricks),st(`${Kt}.expulsiones`,bt.expulsiones-jt.expulsiones)}}{const rt=ft(W.goleadoresRivales||[]),mt=ft(t.goleadoresRivales||[]),xt=new Set([...rt.keys(),...mt.keys()]),yt=Kt=>{const qt=new Map;for(const Dt of Kt||[]){if(at(Dt))continue;const Qt=Et(Dt?.name||"");Qt&&qt.set(Qt,(qt.get(Qt)||0)+1)}return qt},jt=yt(W.goleadoresRivales||[]),bt=yt(t.goleadoresRivales||[]);for(const Kt of xt){const qt=rt.get(Kt)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Dt=mt.get(Kt)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Qt=`lineups.${dt}.rivalsPlayers.${Kt}`;st(`${Qt}.matchesPlayed`,(bt.get(Kt)||0)-(jt.get(Kt)||0)),st(`${Qt}.goals`,Dt.goals-qt.goals),st(`${Qt}.dobletes`,Dt.dobletes-qt.dobletes),st(`${Qt}.hatTricks`,Dt.hatTricks-qt.hatTricks),st(`${Qt}.expulsiones`,Dt.expulsiones-qt.expulsiones)}}{const rt=Kt=>{const qt=Et(Kt?.captain||""),Dt=new Set((Kt?.starters||[]).map(G=>Et(G)).filter(Boolean));qt&&Dt.add(qt);const Qt=new Set((Kt?.substitutes||[]).map(G=>Et(G)).filter(G=>G&&!Dt.has(G))),ce=new Map;return Dt.forEach(G=>ce.set(G,{start:1,sub:0})),Qt.forEach(G=>ce.set(G,{start:0,sub:1})),ce},mt=rt(W),xt=rt(t),yt=Pt(W.torneoName,W.torneoYear),jt=Pt(k,E),bt=new Set([...mt.keys(),...xt.keys()]);for(const Kt of bt){const qt=mt.get(Kt)||{start:0,sub:0},Dt=xt.get(Kt)||{start:0,sub:0},Qt=qt.start||qt.sub?1:0,ce=Dt.start||Dt.sub?1:0,G=`lineups.${dt}.playersStats.${Kt}`,X=`${G}.totals`;if(st(`${X}.matchesPlayed`,ce-Qt),st(`${X}.starts`,Dt.start-qt.start),st(`${X}.subs`,Dt.sub-qt.sub),yt===jt){const et=`${G}.byTournament.${jt}`;st(`${et}.matchesPlayed`,ce-Qt),st(`${et}.starts`,Dt.start-qt.start),st(`${et}.subs`,Dt.sub-qt.sub)}else{if(Qt){const et=`${G}.byTournament.${yt}`;st(`${et}.matchesPlayed`,-1),qt.start&&st(`${et}.starts`,-1),qt.sub&&st(`${et}.subs`,-1)}if(ce){const et=`${G}.byTournament.${jt}`;st(`${et}.matchesPlayed`,1),Dt.start&&st(`${et}.starts`,1),Dt.sub&&st(`${et}.subs`,1)}}}}return Object.keys(q).length>0&&(q[`lineups.${dt}.updatedAt`]=_o(),await wi(gt,q)),{id:H}},s3=async({uid:n,matchState:t,activeClub:e,matchDispatch:s,navigate:i})=>{if(!n){console.error("[handleSaveMatch] uid vaco; no se puede guardar."),pt.Notify.failure("No hay usuario autenticado (uid vaco).");return}if(!e){console.warn("[handleSaveMatch] activeClub vaco; bloqueando guardado."),pt.Notify.warning("Eleg un club antes de guardar el partido.");return}const a=S=>(S.gol?1:0)+(S.doblete?2:0)+(S.triplete||S.hattrick?3:0),l=(t?.goleadoresActiveClub||[]).filter(S=>S.activeClub===e),u=t?.goleadoresRivales||[],f=l.reduce((S,E)=>S+a(E),0)+(t?.autogolesFavor||0),g=u.reduce((S,E)=>S+a(E),0),x=t?.rival||"Rival",b=(t?.condition||t?.condicion||"neutro").toLowerCase();let w;b==="visitante"?w=`${x} ${g} - ${f} ${Ct(e)}`:w=`${Ct(e)} ${f} - ${g} ${x}`;const T={uid:n,activeClub:e,condition:b,ownGoals:f,ownGoalsFromOG:t?.autogolesFavor||0,rivalGoals:g,ownScorers:l?.length??0,rivalScorers:u?.length??0,rivalName:x};pt.Confirm.show("Confirmar Resultado",w,"Confirmar","Volver",async()=>{try{pt.Loading.standard("Guardando partido... "),await n3({uid:n,activeClub:e,matchState:t,ownGoals:f,rivalGoals:g,condition:b,rivalName:x,autogolesFavor:t?.autogolesFavor||0});const S=!!t?.editingMatchId;pt.Notify.success(S?"Partido actualizado correctamente ":"Partido guardado correctamente "),s({type:"RESET_FORM"}),i("/partidos")}catch(S){const E={name:S?.name,code:S?.code,message:S?.message};console.error("[handleSaveMatch] Error al guardar",{...E,stack:S?.stack,context:T}),pt.Report.failure("Error al guardar",[E.code?`Cdigo: ${E.code}`:"",E.name?`Tipo: ${E.name}`:"",E.message?`Mensaje: ${E.message}`:"",`Club: ${e} | ${f}-${g} vs ${x}`].filter(Boolean).join(`
`),"Cerrar")}finally{pt.Loading.remove()}})},i3=({value:n,onChange:t})=>m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Donde se jug?"}),m.jsxs("div",{className:"flex flex-wrap gap-2 list-disc list-inside",children:[m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"local",checked:n==="local",onChange:t}),m.jsx("span",{className:"ml-2",children:"Local"})]}),m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"visitante",checked:n==="visitante",onChange:t}),m.jsx("span",{className:"ml-2",children:"Visitante"})]}),m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"neutro",checked:n==="neutro",onChange:t}),m.jsx("span",{className:"ml-2",children:"Neutro"})]})]})]}),r3=n=>t=>{n({type:"SET_SUBS",payload:{substitutes:t}})},a3=({state:n,dispatch:t,disabled:e})=>{const s=n.starters,i=n.substitutes,a=[...s,...i],l=n.activeClub,u=f=>{const g=f.target.value;if(g==="__OG__"){t({type:"ADD_GOLEADOR",payload:{name:"__OG__",activeClub:l,gol:!0,isOwnGoal:!0}}),f.target.value="";return}n.goleadoresActiveClub.some(b=>b.name===g&&b.activeClub===l)||t({type:"ADD_GOLEADOR",payload:{name:g,activeClub:l}})},h=n.goleadoresActiveClub.filter(f=>f.activeClub===l);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores e Incidencias"}),m.jsxs("select",{disabled:e,className:"w-full border rounded p-2",onChange:u,defaultValue:"",name:"incidents",children:[m.jsx("option",{value:"",children:"Lista de Jugadores"}),m.jsx("option",{value:"__OG__",children:" Gol en contra (rival)"}),a.sort((f,g)=>f.localeCompare(g,"es",{sensitivity:"base"})).map(f=>m.jsx("option",{value:f,children:Ct(f)},f))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los goleadores o jugadores que sufrieron una expulsion"}),m.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...h].reverse().map(f=>{const g=f.isOwnGoal||f.name==="__OG__",x=g?"Gol en contra (rival)":Ct(f.name);return m.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:x}),m.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[m.jsx("input",{type:"checkbox",className:"ml-4",checked:f.gol,onChange:()=>t({type:"TOGGLE_EVENT",payload:{name:f.name,activeClub:l,event:"gol"}})}),"Gol"]}),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>t({type:"REMOVE_GOLEADOR",payload:{name:f.name,activeClub:l}}),children:""})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[!g&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:f.doblete,onChange:()=>t({type:"TOGGLE_EVENT",payload:{name:f.name,activeClub:l,event:"doblete"}})}),"Doblete"]}),!g&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:f.triplete,onChange:()=>t({type:"TOGGLE_EVENT",payload:{name:f.name,activeClub:l,event:"triplete"}})}),"Hat Trick"]}),!g&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:f.expulsion,onChange:()=>t({type:"TOGGLE_EVENT",payload:{name:f.name,activeClub:l,event:"expulsion"}})}),"Expulsin"]})]})]},`${f.name}-${f.activeClub}`)})})]})},o3=({state:n,dispatch:t,disabled:e})=>{const{uid:s}=pn(),{state:i,dispatch:a}=rs(),{state:l,dispatch:u}=Xn();zs(s,a,u);const[h,f]=F.useState(null),g=Object.keys(l?.lineups||[]),[x,b]=F.useState(l?.activeClub||g[0]||""),w=Et(x||""),T=w?l?.lineups?.[w]:null;F.useEffect(()=>{T&&Object.keys(T).length!==0&&f(T)},[T]);const S=Array.isArray(h?.matches)?h.matches:[],E=n.rival?.trim()||"",k=!!E&&!e,j=F.useMemo(()=>{const A=(n.goleadoresRivales||[]).map(M=>(M?.name||"").toString().trim()).filter(Boolean),R=Et(E||""),I=(S||[]).filter(M=>Et(M?.rival||"")===R).flatMap(M=>(M?.goleadoresRivales||[]).map(U=>(U?.name||"").toString().trim()).filter(Boolean));return Array.from(new Set([...I,...A])).sort((M,U)=>M.localeCompare(U,"es",{sensitivity:"base"}))},[n.goleadoresRivales,S,E]),[O,B]=F.useState(""),z=A=>{const R=(A||"").trim();!R||(n.goleadoresRivales||[]).some(M=>M.name===R&&M.club===E)||(t({type:"RIVAL_ADD",payload:{name:R,club:E,gol:!1,doblete:!1,triplete:!1,expulsion:!1}}),B(""))},H=F.useMemo(()=>(n.goleadoresRivales||[]).filter(A=>A.club===E),[n.goleadoresRivales,E]);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores Rivales"}),m.jsx("input",{type:"text",name:"rivalScorer",disabled:!k,placeholder:k?"Apellido (usa Rival como club)":"Completa Rival primero",list:"rival-players-list",className:"w-full border rounded p-2",autoComplete:"off",value:O,onChange:A=>{const R=A.target.value;j.includes(R)||B(R)},onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),z(O))},onInput:A=>{const R=A.currentTarget.value;j.includes(R)&&z(R)}}),m.jsx("datalist",{id:"rival-players-list",children:j.map(A=>m.jsx("option",{value:A},A))}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Escrib solo el ",m.jsx("b",{children:"Apellido"}),". El club se toma del campo ",m.jsx("b",{children:"Rival"}),"."]}),m.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...H].reverse().map(A=>m.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:Ct(A.name)}),m.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[m.jsx("input",{type:"checkbox",className:"ml-4",checked:A.gol,onChange:()=>t({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"gol"}})}),"Gol"]}),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>t({type:"RIVAL_REMOVE",payload:{name:A.name,club:A.club}}),children:""})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:A.doblete,onChange:()=>t({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"doblete"}})}),"Doblete"]}),m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:A.triplete,onChange:()=>t({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"triplete"}})}),"Triplete"]}),m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:A.expulsion,onChange:()=>t({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"expulsion"}})}),"Expulsin"]})]})]},`${A.name}-${A.club}`))})]})};function uu(n){return(n.gol?1:0)+(n.doblete?2:0)+(n.triplete||n.hattrick?3:0)}function Ew(n){const t=n?.filter(e=>e.expulsion||e.expulsado)||[];return t.length?t.map(e=>Ct(e.name)):[]}const Gd=({items:n,tone:t="slate"})=>{if(!n||n===""||n.length===0)return m.jsx("span",{className:"text-slate-400",children:""});const e=t==="red"?"bg-red-50 text-red-700 ring-1 ring-red-200":"bg-slate-50 text-slate-700 ring-1 ring-slate-200";return m.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((s,i)=>m.jsx("span",{className:`px-2.5 py-1 rounded-full text-sm ${e}`,children:s},`${s}-${i}`))})};function l3(n){if(!n)return"";const t=String(n).trim(),e=t.split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[s,i,a]=e.split("-");return`${a}/${i}/${s}`}if(/^\d{4}\/\d{2}\/\d{2}$/.test(e)){const[s,i,a]=e.split("/");return`${a}/${i}/${s}`}return/^\d{2}\/\d{2}\/\d{4}$/.test(e)?e:t}const qd=({title:n,children:t})=>m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:n}),t]}),c3=({state:n,activeClub:t})=>{const e=n?.rival||"Rival",s=n?.torneoDisplay||n?.torneoName||n?.torneo||"",a=(n?.goleadoresActiveClub||[]).filter(I=>I.activeClub===t),l=n?.goleadoresRivales||[],u=a.reduce((I,M)=>I+uu(M),0),h=l.reduce((I,M)=>I+uu(M),0),f=(l||[]).filter(I=>I?.enContra||I?.autogol||I?.og||I?.ogContra).length,g=u+f,x=(n?.condition||n?.condicion||"neutro").toLowerCase(),b=x==="visitante",w=Ct(t),T=b?e:w,S=b?w:e,E=b?h:g,k=b?g:h,j=m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/50 p-4",children:[m.jsx("div",{className:"text-center text-xl font-semibold text-slate-800",children:T}),m.jsx("div",{className:"my-2 text-center",children:m.jsxs("div",{className:"text-4xl font-bold tabular-nums text-slate-900",children:[E," - ",k]})}),m.jsx("div",{className:"text-center text-xl font-semibold text-slate-800",children:S})]}),O=(a||[]).filter(I=>uu(I)>0).map(I=>{const M=uu(I),U=I.isOwnGoal||I.name==="__OG__"?"Gol en contra":Ct(I.name);return M>1?`${U} (${M})`:U}),B=(Array.isArray(l)?l:[]).filter(I=>!(I.expulsion||I.expulsado)).map(I=>{const M=uu(I),U=M>1?` (${M})`:"",V=I?.enContra||I?.autogol||I?.og||I?.ogContra?" (EC)":"";return`${Ct(I.name)}${U}${V}`}),z=Ew(a),H=Ew(l),A=l3(n?.fecha||n?.date||n?.fechaPartido||""),R=n?.captain||n?.capitan||"";return m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm space-y-5",children:[m.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[m.jsxs("div",{className:"flex flex-col gap-2 items-start min-w-0",children:[s?m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:Ct(s)}):null,A?m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-50 text-slate-700 ring-1 ring-slate-200",children:A}):null]}),m.jsxs("div",{className:"flex flex-col gap-2 items-end min-w-0",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:x!=="neutro"?x==="visitante"?"Visitante":"Local":"Neutro"}),R?m.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:["Capitn: ",Ct(R)]}):null]})]}),j,m.jsxs("div",{className:"grid grid-cols-2 gap-6 items-stretch",children:[m.jsx("div",{className:"h-full",children:m.jsx(qd,{title:`Goleadores ${Ct(t)}`,children:m.jsx(Gd,{items:O})})}),m.jsx("div",{className:"h-full",children:m.jsx(qd,{title:`Goleadores ${e}`,children:m.jsx(Gd,{items:B})})})]}),m.jsxs("div",{className:"grid grid-cols-2  gap-6 items-stretch",children:[m.jsx("div",{className:"h-full",children:m.jsx(qd,{title:`Expulsados ${Ct(t)}`,children:m.jsx(Gd,{items:z,tone:"red"})})}),m.jsx("div",{className:"h-full",children:m.jsx(qd,{title:`Expulsados ${e}`,children:m.jsx(Gd,{items:H,tone:"red"})})})]})]})},u3=({activeClub:n,matchState:t,matchDispatch:e})=>{F.useEffect(()=>{n&&t.activeClub!==n&&e({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:n})},[n,t.activeClub,e])},Tw=()=>{const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn(),{activeClub:a,lineups:l}=s,{matchId:u}=_k(),h=th(),f=ZO(e),g=t3(l,a,e),x=r3(e);u3({activeClub:a,matchState:t,matchDispatch:e});const b=s?.activeClub||t?.activeClub||"",w=Et?Et(b):b,T=s?.lineups?.[w]||{},S=(T.players?.length??0)>0,E=(T.formations?.length??0)>0,k=T.playersStats?Object.keys(T.playersStats).length>0:!1;return!w||!S&&!E&&!k?m.jsx(Vs,{to:"/formacion",replace:!0}):(F.useEffect(()=>{if(u&&s.lineups){let j=null;Object.keys(s.lineups).forEach(O=>{if(j)return;const B=s.lineups[O].matches;if(B&&Array.isArray(B)){const z=B.find(H=>H.id===u);z&&(j=z)}}),j?e({type:"LOAD_MATCH_FOR_EDIT",payload:{match:j}}):console.warn("No se encontr el match con ID:",u)}},[u,s.lineups,e]),m.jsxs("div",{className:"mt-6 max-w-md mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Registrar Partido"}),m.jsxs("form",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center",children:m.jsx("span",{className:"text-lg font-bold text-blue-700",children:t.activeClub?Ct(t.activeClub):"Esperando Nombre del Club"})}),m.jsx(YO,{value:t.fecha,onChange:f}),m.jsx(KO,{value:t.rival,onChange:f,onBlur:ww(e,"rival","El campo Rival es Obligatorio"),suggestions:t.rivalesIndex}),m.jsx(XO,{value:t.torneoName,onChange:f,suggestions:t.torneosIndex,matches:t.matches,onBlur:ww(e,"torneoName","El campo Torneo es Obligatorio")}),m.jsx(i3,{value:t.condition,onChange:f}),m.jsx(QO,{disabled:t.substitutes.length>0,formations:l?.[a]?.formations||[],value:t.captain,onChange:g}),m.jsx(JO,{disabled:!t.captain,players:l?.[a]?.players||[],value:t.substitutes,onChange:x,starters:t.starters,substitutes:t.substitutes}),m.jsx(a3,{state:t,dispatch:e,disabled:!t.captain}),m.jsx(o3,{state:t,dispatch:e,disabled:!t.rival}),m.jsx(c3,{state:t,activeClub:t.activeClub}),m.jsx(e3,{disabled:!n||!t.fecha||!t.rival||!t.torneoName||!t.condition,onClick:j=>{j.preventDefault(),s3({uid:n,matchState:t,activeClub:a,matchDispatch:e,navigate:h})}})]})]}))},h3=(n=[])=>F.useMemo(()=>{const t=new Set;for(const e of n){const s=(e?.captain||"").trim();s&&t.add(s)}return Array.from(t)},[n]),Sw=n=>n==null?0:parseInt(n,10)||0,Wd=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),d3=(n=[])=>F.useMemo(()=>{const t={};for(const e of n){const s=e?.rivalName||e?.rival||e?.opponent||"Rival Desconocido",i=Sw(e?.golesPropios??e?.golFavor??e?.golesFavor??e?.gf),a=Sw(e?.golesRival??e?.golContra??e?.golesContra??e?.gc),l=e?.condition==="local"&&"local"||e?.condition==="visitante"&&"visitante"||"general",u=(e?.captain||"").trim();t[s]||(t[s]={general:Wd(),local:Wd(),visitante:Wd()});const h=i>a?"g":i===a?"e":"p",f=g=>{g.pj++,g[h]++,g.gf+=i,g.gc+=a};f(t[s].general),l!=="general"&&f(t[s][l]),u&&(t[s][u]||(t[s][u]=Wd()),f(t[s][u]))}return t},[n]),f3=(n,t,e,s)=>F.useMemo(()=>[...Object.entries(n)].sort((l,u)=>{if(e==="rival")return s==="asc"?l[0].localeCompare(u[0]):u[0].localeCompare(l[0]);const h=l[1]?.[t]??{},f=u[1]?.[t]??{},g=e==="df"?(h.gf??0)-(h.gc??0):e==="gp"?(h.g??0)-(h.p??0):h?.[e]??0,x=e==="df"?(f.gf??0)-(f.gc??0):e==="gp"?(f.g??0)-(f.p??0):f?.[e]??0;return s==="asc"?g-x:x-g}),[n,t,e,s]),m3=(n={})=>{const{g:t=0,e=0,p:s=0}=n;return t>=e&&t>s?"bg-green-100":s>t&&s>=e?"bg-red-100":t===s&&t>e||t===e&&t===s||e>=t&&e>=s?"bg-yellow-100":"bg-pink-100"};function p3(n=[]){const t=u=>String(u?.torneoName??"").trim(),e=u=>Et(t(u)),s=F.useMemo(()=>{const u=new Map;let h=!1;for(const x of n){const b=t(x);if(!b){h=!0;continue}u.set(e(x),b)}const f=Array.from(u.entries()).map(([x,b])=>({value:x,label:b})).sort((x,b)=>x.label.localeCompare(b.label,"es",{sensitivity:"base"})),g=[{value:"__all",label:"Todos"}];return h&&g.push({value:"__none",label:"(Sin torneo)"}),[...g,...f]},[n]),[i,a]=F.useState("__all");F.useEffect(()=>{s.some(u=>u.value===i)||a("__all")},[s,i]);const l=F.useMemo(()=>i==="__all"?n:i==="__none"?n.filter(u=>!t(u)):n.filter(u=>e(u)===i),[n,i]);return{torneoSel:i,setTorneoSel:a,torneoOptions:s,matchesFiltrados:l}}const Sf=n=>typeof n=="string"&&n.trim()?Ct(n):String(n??""),g3=n=>n==="general"?"General":n==="local"?"Local":n==="visitante"?"Visitante":Sf(n),y3=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),x3=()=>{const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn();zs(n,e,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||[]),[h,f]=F.useState(s?.activeClub||u[0]||""),g=Et(h||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},w=(b.players?.length??0)>0,T=(b.formations?.length??0)>0,S=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!w&&!T&&!S)return m.jsx(Vs,{to:"/formacion",replace:!0});F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const E=Array.isArray(a?.matches)?a.matches:[],{torneoSel:k,setTorneoSel:j,torneoOptions:O,matchesFiltrados:B}=p3(E),z=B,[H,A]=F.useState("general"),[R,I]=F.useState("rival"),[M,U]=F.useState("asc"),V=h3(z),L=d3(z),gt=f3(L,H,R,M),dt=F.useMemo(()=>["general","local","visitante",...V],[V]);return m.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-center mt-4",children:" Estadsticas del Equipo"}),m.jsxs("div",{className:`\r
    mb-3\r
    grid grid-cols-2 gap-3\r
    items-end\r
    md:flex md:flex-wrap md:justify-center md:gap-x-6 md:gap-y-3\r
  `,children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Club"}),m.jsx("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:h,onChange:W=>f(W.target.value),children:u.map(W=>m.jsx("option",{value:W,children:Sf(W)},W))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"mbito"}),m.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:H,onChange:W=>A(W.target.value),children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"local",children:"Local"}),m.jsx("option",{value:"visitante",children:"Visitante"}),V.map(W=>m.jsx("option",{value:W,children:Sf(W)},W))]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Campo"}),m.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:R,onChange:W=>I(W.target.value),children:[m.jsx("option",{value:"rival",children:"Nombre"}),m.jsx("option",{value:"pj",children:"PJ"}),m.jsx("option",{value:"g",children:"G"}),m.jsx("option",{value:"e",children:"E"}),m.jsx("option",{value:"p",children:"P"}),m.jsx("option",{value:"gp",children:"G/P"}),m.jsx("option",{value:"gf",children:"GF"}),m.jsx("option",{value:"gc",children:"GC"}),m.jsx("option",{value:"df",children:"DF"})]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Orden"}),m.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:M,onChange:W=>U(W.target.value),children:[m.jsx("option",{value:"asc",children:"Ascendente"}),m.jsx("option",{value:"desc",children:"Descendente"})]})]}),m.jsxs("div",{className:"col-span-2 text-center md:col-span-1",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Campeonato"}),m.jsx("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
                 disabled:bg-slate-100 disabled:text-slate-500`,value:k,onChange:W=>j(W.target.value),disabled:O.length<=1,children:O.map(W=>m.jsx("option",{value:W.value,children:Sf(W.label)},W.value))})]})]}),m.jsx("div",{className:"max-h-[80vh] w-[100%] mx-auto overflow-auto border rounded",children:m.jsxs("table",{className:"min-w-full w-max table-auto text-[11px] md:text-sm border-collapse",children:[m.jsx("thead",{className:"bg-blue-200 sticky top-0 shadow-lg",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-2 py-2 min-w-[64px] w-[64px] text-left font-bold",children:"Rival"}),dt.map(W=>m.jsx("th",{className:"border px-2 py-1 text-center min-w-[110px]",children:g3(W)},W))]})}),m.jsx("tbody",{children:!Array.isArray(gt)||gt.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:1+dt.length,className:"border px-3 py-6 text-center text-gray-500 font-semibold",children:"Sin datos"})}):gt.map(([W,at],wt)=>{const Pt=typeof W=="string"?W.trim().replace(/\s+/g," "):String(W??"Sin Rival"),q=Et(Pt)||`rival-${wt}`,st=m.jsxs("div",{style:{lineHeight:"1.2",padding:"4px 0"},children:[m.jsxs("span",{style:{fontWeight:"bold",color:"#666",fontSize:"0.85em"},children:[wt+1," -"]}),m.jsx("br",{}),m.jsx("span",{style:{fontSize:"1em",textTransform:"capitalize"},children:Pt})]}),ft=wt%2===0?"bg-white":"bg-gray-200",rt=/\s/.test(Pt);return m.jsxs("tr",{className:ft,children:[m.jsx("td",{className:"border px-1 py-2 font-semibold text-left w-[64px] min-w-[64px]",children:m.jsx("div",{title:Pt,className:rt?"block w-full whitespace-normal":"block w-full truncate",children:st})}),dt.map(mt=>{const xt=at[mt]||y3(),yt=xt.pj>0?m3(xt):ft,jt=xt.gf-xt.gc,bt=(xt.g??0)-(xt.p??0),Kt=bt>0?"ring-emerald-500":bt<0?"ring-rose-500":"ring-yellow-400";return xt.pj===0?m.jsx("td",{className:`border px-1 py-1 overflow-hidden text-center align-middle ${ft} min-w-[110px]`,children:m.jsx("span",{className:"text-xl font-black text-gray-900 leading-none",children:""})},mt):m.jsx("td",{className:`border px-1 py-1 overflow-hidden text-center align-top ${yt} min-w-[110px]`,children:m.jsxs("div",{className:"w-full leading-tight",children:[m.jsxs("div",{className:"text-[12px] text-gray-500 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[m.jsx("span",{children:"G"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"E"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"P"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"G/P"})]}),m.jsxs("div",{className:"font-bold tabular-nums grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[m.jsx("span",{children:xt.g}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:xt.e}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:xt.p}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{className:"justify-self-center",children:m.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${Kt} h-6 w-6 text-[10px] font-extrabold text-black`,title:`G/P = ${xt.g} - ${xt.p} = ${bt}`,children:bt})})]}),m.jsxs("div",{className:"mt-0.5 text-[12px] text-gray-500 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[m.jsx("span",{children:"PJ"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"GF"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"GC"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"DF"})]}),m.jsxs("div",{className:"font-bold tabular-nums grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[m.jsx("span",{children:xt.pj}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:xt.gf}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:xt.gc}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{className:"justify-self-center",children:m.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${jt>0?"ring-emerald-500":jt<0?"ring-rose-500":"ring-yellow-400"} h-6 w-6 text-[10px] font-extrabold text-black`,title:`DF = ${jt}`,children:jt>0?`+${jt}`:jt})})]})]})},mt)})]},q)})})]})})]})};function b3(n,t,e=""){const s=F.useRef(!1),[i,a]=F.useState(!1),l=u=>{if(u&&typeof u.toMillis=="function")return u.toMillis();const h=new Date(u).getTime();return Number.isFinite(h)?h:0};return F.useEffect(()=>{if(!n){a(!0);return}s.current||(async()=>{s.current=!0,pt.Loading.circle("Cargando datos del club...");try{const u=await ic(Kn(Dn,"users",n));if(!u.exists())return;const h=u.data(),f=h?.lineups||{},g=Object.keys(f).map(Et),x=Array.isArray(h?.managedClubs)?h.managedClubs.map(Et).filter(O=>g.includes(O)):[],b=g.map(O=>[O,l(f[O]?.updatedAt)]).sort((O,B)=>B[1]-O[1]).map(([O])=>O),w=[...x,...b.filter(O=>!x.includes(O))];t({type:"SET_MANAGED_CLUBS",payload:{clubs:w}});let T="",S=0;const E=[];for(const[O,B]of Object.entries(f)){const z=Array.isArray(B.players)?B.players.map(Et):[],H=B.formations?Object.entries(B.formations).map(([I,M])=>{const U=M?.createdAt&&typeof M.createdAt?.toDate=="function"?M.createdAt.toDate().toISOString():String(M?.createdAt||new Date().toISOString());return{id:I,createdAt:U,captain:Et(M?.captain||""),starters:Array.isArray(M?.starters)?M.starters.map(Et):[]}}).sort((I,M)=>new Date(M.createdAt)-new Date(I.createdAt)):[],A=Et(O);E.push(A);const R=l(B?.updatedAt);R>S&&(S=R,T=A),t({type:"LINEUPS_UPSERT_BUCKET",payload:{club:A,bucket:{label:B.label??O,players:z,formations:H}}})}let k="";const j=h?.activeClub?Et(h.activeClub):"";if(j&&E.includes(j))k=j;else if(x.length)for(let O=x.length-1;O>=0;O--){const B=x[O];if(E.includes(B)){k=B;break}}k||(k=T||""),k&&k!==e&&t({type:"SAVE_CLUB_NAME",payload:{name:k}})}catch{pt.Notify.failure("Problemas al cargar la informacin de la nube")}finally{pt.Loading.remove(),s.current=!1,a(!0)}})()},[n,t]),i}const v3=(n,t,e,s)=>{F.useEffect(()=>{if(!s)return;const i=Object.keys(n||{});if(!i.length||t)return;const a=i[0];e({type:qu,payload:{name:a}}),e({type:Wu})},[n,t,e,s])},_3=(n,t,e)=>{F.useEffect(()=>{if(!n){e("");return}const s=t?.[n]?.label||n,i=Ct(s);e(a=>a===i?a:i)},[n,t,e])},w3=(n,t,e,s)=>{const i=F.useRef({clubKey:null,playersJson:""});F.useEffect(()=>{if(!n){console.debug("[SYNC] skip: !uid");return}if(!t){console.debug("[SYNC] skip: !activeClub");return}const a=Et(t);if(!a){console.debug("[SYNC] skip: !clubKey (normalizeName dio vaco)");return}if(!Array.isArray(s)){console.debug("[SYNC] skip: !Array.isArray(players)",{players:s});return}const l=[...new Set(s.map(Et))];if(l.length===0){console.debug("[SYNC] skip: playersNorm vaco, no subo nada");return}const u=JSON.stringify(l),h=i.current;if(h.clubKey===a&&h.playersJson===u){console.debug("[SYNC] skip: mismo payload que el ltimo write");return}(async()=>{try{await wi(Kn(Dn,"users",n),{[`lineups.${a}.players`]:l,[`lineups.${a}.updatedAt`]:_o()}),i.current={clubKey:a,playersJson:u},pt.Notify.success("Plantel sincronizado")}catch(f){console.debug("[SYNC] FAIL",f),pt.Notify.failure("No se pudo sincronizar el plantel")}})()},[n,t,s])},E3=(n,t)=>{F.useEffect(()=>{n||(t({type:ax}),t({type:Tm,payload:{club:"",bucket:{}}}))},[n,t])},T3=({teamName:n})=>m.jsxs("div",{children:[" ",m.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[m.jsx("span",{className:"text-blue-700 underline",children:"Equipo del DT:"})," ",m.jsxs("span",{className:"block text-center text-3xl font-extrabold tracking-wide text-emerald-600 drop-shadow-sm -mt-8",children:[m.jsx("br",{}),Ct(n)]})]})]}),S3=({value:n,onChange:t,onBlurSave:e,onConfirm:s,suggestions:i=[],disabled:a})=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:"teamName",children:"Nombre del Equipo"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("input",{type:"text",id:"teamName",value:n,onChange:l=>t(l.target.value),onBlur:e,disabled:a,onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),s())},className:"w-full p-2 border rounded",list:"club-suggestions",placeholder:"Ej.: Newell's, Talleres CBA, Instituto"}),m.jsx("datalist",{id:"club-suggestions",children:(i||[]).map(({key:l,label:u})=>m.jsx("option",{value:u},l))}),m.jsx("button",{type:"button",className:"bg-blue-500 text-white rounded px-3",onClick:s,children:"Guardar Equipo"})]})]}),Nw=({name:n,activeClub:t,lineups:e,dispatch:s,setValue:i})=>{const a=Et(t||""),l=Et(n||"");if(!a||!l)return;if(l.length<2){pt.Notify.failure("Nombre corto");return}const u=(e?.[a]?.players||[]).map(Et);if(u.includes(l)){pt.Notify.failure("Jugador repetido");return}s({type:"LINEUPS_UPSERT_BUCKET",payload:{club:a,bucket:{...e?.[a]||{},players:[...u,l]}}}),i?.("playerName",""),pt.Notify.success("Jugador agregado")},N3=({form:n,changed:t,players:e=[],dispatch:s,setValue:i,activeClub:a,lineups:l})=>{const[u,h]=F.useState(n?.playerName||"");return F.useEffect(()=>{h(n?.playerName||"")},[n?.playerName]),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"playerName",children:"Jugadores"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("input",{type:"text",name:"playerName",id:"playerName",value:u,onChange:f=>{h(f.target.value),t?.(f)},className:"w-full p-2 border rounded",placeholder:"Aadir jugador",onKeyDown:f=>{f.key==="Enter"&&(f.preventDefault(),Nw({name:u,activeClub:a,lineups:l,dispatch:s,setValue:i}),h(""))}}),m.jsx("button",{type:"button",onClick:()=>Nw({name:u,activeClub:a,lineups:l,dispatch:s,setValue:i}),className:"bg-blue-500 text-white  rounded",children:"Aadir Jugador"})]})]})},A3=(n,t,e)=>{if(!n){pt.Notify.failure("Que Equipo dirigs?");return}t(!0),e({type:ix})},C3=({players:n=[],selectedOption:t,dispatch:e,teamName:s,setShowForm:i,activeClub:a,uid:l})=>!Array.isArray(n)||n.length===0?null:m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex items-baseline justify-between",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Jugadores aadidos"}),m.jsxs("span",{className:"text-sm text-gray-500",children:["Total: ",n.length]})]}),m.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-1.5",children:[...n].sort((u,h)=>u.localeCompare(h,"es",{sensitivity:"base"})).map(u=>m.jsxs("div",{className:"flex items-center justify-between rounded-md bg-gray-50 border border-gray-200 px-2 py-1.5 hover:bg-gray-100",children:[m.jsx("span",{className:"truncate text-gray-800",title:Ct(u),children:Ct(u)}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("button",{type:"button",className:"md:hidden text-gray-400 hover:text-gray-600 text-sm","aria-label":"Ver nombre completo",onClick:()=>pt.Notify.info(Ct(u)),children:""}),m.jsx("button",{type:"button","aria-label":`Eliminar ${Ct(u)}`,title:"Eliminar",className:"inline-flex h-7 w-7 items-center justify-center rounded-full text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>{t===u&&e({type:mo,payload:""}),e({type:sN,payload:{name:u}}),pt.Notify.success("Jugador eliminado")},children:""})]})]},u))}),m.jsx("button",{type:"button",onClick:()=>{A3(s,i,e),pt.Notify.info("Nueva formacin")},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",children:"Nueva Formacin"})]}),k3=(n=[],t=[])=>F.useMemo(()=>{const e=Array.isArray(n)?n:[],s=Array.isArray(t)?t:[],i=e.filter(l=>!s.includes(l)).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"})),a=e.filter(l=>s.includes(l)).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"}));return{remaining:i,chosen:a}},[n,t]),R3=(n={},t="")=>{const e=n?.[t]||{};return[...Array.isArray(e.formations)?e.formations:[]].sort((a,l)=>new Date(l.createdAt)-new Date(a.createdAt))};async function I3({uid:n,teamName:t,lineups:e,dispatch:s}){const i=String(t||"").trim();if(!i)return pt.Notify.failure("Qu equipo dirigs?");if(!n)return pt.Notify.failure("No hay sesin.");const a=Et(i),l=Ct(i);s({type:qu,payload:{name:a}});try{await rc(Kn(Dn,"users",n),{managedClubs:Ef(a),activeClub:a,lineups:{[a]:{label:l,players:e?.[a]?.players??[],formations:e?.[a]?.formations??[],playersStats:e?.[a]?.playersStats??{},rivalsPlayers:e?.[a]?.rivalsPlayers??{},matches:e?.[a]?.matches??[],updatedAt:_o()}}},{merge:!0});const u=await ic(Kn(Dn,"users",n)),f=(u.exists()?u.data():null)?.lineups?.[a];if(f){const g=f?.formations?Object.entries(f.formations).map(([x,b])=>({id:x,...b})).sort((x,b)=>new Date(b.createdAt)-new Date(x.createdAt)):[];s({type:Tm,payload:{club:a,bucket:{label:f.label??l,players:f.players??[],formations:g,playersStats:f.playersStats??{},rivalsPlayers:f.rivalsPlayers??{},matches:f.matches??[]}}})}s({type:Wu}),pt.Notify.success("Club guardado/activado")}catch(u){console.error(u),pt.Notify.failure("No se pudo guardar el club en la nube")}}const Aw=(n,t,e,s)=>{if(!n){pt.Notify.failure("Eleg un capitn");return}const i=Et(n);if(!t.includes(i)){pt.Notify.failure("Capitn invlido");return}if(e.length>=11&&!e.includes(i)){pt.Notify.warning("Equipo Titular Completo");return}s({type:tN,payload:{captain:i}}),pt.Notify.success(`Capitn: ${Ct(i)}`)},j3=({showForm:n,selectMode:t,players:e=[],selectedOption:s="",starters:i=[],dispatch:a})=>n&&t==="captain"&&Array.isArray(e)&&e.length>0?m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Arm tu Formacin Inicial"}),m.jsxs("select",{value:s,onChange:u=>a({type:mo,payload:u.target.value}),onKeyDown:u=>{u.key==="Enter"&&(u.preventDefault(),Aw(s,e,i,a))},className:"border w-full",disabled:!Array.isArray(e)||e.length===0,children:[m.jsx("option",{value:"",children:"Seleccionar Capitn"}),[...Array.isArray(e)?e:[]].sort((u,h)=>u.localeCompare(h,"es",{sensitivity:"base"})).map(u=>m.jsx("option",{value:u,children:Ct(u)},u))]}),m.jsx("button",{type:"button",onClick:()=>Aw(s,e,i,a),className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:!Array.isArray(e)||e.length===0||!s,children:"Confirmar Capitn"})]}):null,D3=(n,t,e)=>{const s=Et(n||"");if(s){if(t.length>=11){pt.Notify.warning("Ya hay 11");return}if(t.includes(s)){pt.Notify.warning("Ya est en titulares");return}e({type:rx,payload:{player:s}}),e({type:mo,payload:""}),pt.Notify.success("Titular agregado")}},M3=(n,t,e)=>{const s=Et(n);if(!s){pt.Notify.failure("Eleg un jugador");return}if(t.length>=11){pt.Notify.warning("Ya hay 11");return}if(t.includes(s)){pt.Notify.warning("Ya est en titulares");return}e({type:rx,payload:{player:s}}),pt.Notify.success("Titular agregado")},O3=({selectedOption:n="",players:t=[],starters:e=[],remaining:s=[],chosen:i=[],dispatch:a})=>m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4 underline",children:"Arma tu Formacin Inicial"}),m.jsxs("select",{value:n,onChange:l=>{const u=l.target.value;a({type:mo,payload:u}),D3(u,e,a)&&a({type:mo,payload:""})},className:"border w-full",disabled:t.length===0||e.length>=11,children:[m.jsx("option",{value:"",children:"Eleg un titular"}),[...s].map(l=>m.jsx("option",{value:l,children:Ct(l)},l)),m.jsx("option",{disabled:!0,value:"",children:" Ya elegidos "}),i.map(l=>m.jsx("option",{value:l,disabled:!0,children:Ct(l)},l))]}),m.jsx("button",{type:"button",onClick:()=>{M3(n,e,a)&&a({type:mo,payload:""})},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:e.length>=11||n==="",children:"Agregar Jugador Titular"})]}),P3=async({starters:n=[],captainName:t="",activeClub:e="",teamName:s="",players:i=[],uid:a="",dispatch:l,setShowForm:u})=>{if(!Array.isArray(n)||n.length!==11)return pt.Notify.failure("Debs elegir exactamente 11 titulares."),!1;if(!t){pt.Notify.failure("Eleg un capitn.");return}if(!n.includes(t)){pt.Notify.failure("El capitn debe estar entre los 11 titulares.");return}if(!e&&!s){pt.Notify.failure("Guard el nombre del equipo antes de guardar la formacin.");return}if(!a){pt.Notify.failure("No hay sesin.");return}const h=crypto&&crypto.randomUUID?crypto.randomUUID():String(Date.now()),f=Et(e||s),g=new Date().toISOString(),x=t,b=[...n];if(!f){pt.Notify.failure("Falta el nombre del equipo.");return}l({type:nN,payload:{id:h,name:s,captain:t,starters:b,createdAt:new Date,players:[...i]}});try{await wi(Kn(Dn,"users",a),{[`lineups.${f}.formations.${h}`]:{createdAt:g,captain:x,starters:b},[`lineups.${f}.players`]:[...new Set(i.map(Et))],[`lineups.${f}.updatedAt`]:_o()}),u(!1),pt.Notify.success("Equipo guardado")}catch(w){console.error(w),pt.Notify.failure("No se pudo guardar la formacin en la nube")}},L3=({captainName:n,starters:t=[],dispatch:e,activeClub:s,teamName:i,players:a=[],uid:l,setShowForm:u})=>{const h=!!n,f=Array.isArray(t)&&t.length>0;return m.jsxs("div",{children:[h&&m.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",children:[m.jsx("strong",{children:"Capitn:"})," ",Ct(n)]}),f&&m.jsxs("div",{children:[m.jsx("h1",{children:`Titulares (${t.length}/11)`}),m.jsx("ul",{className:"list-disc pl-5 grid grid-cols-3 gap-x-6 gap-y-2 mb-2",children:[...t].sort((g,x)=>g.localeCompare(x,"es",{sensitivity:"base"})).map(g=>m.jsxs("li",{className:"text-gray-700 flex items-center",children:[m.jsx("button",{type:"button",onClick:()=>{e({type:eN,payload:{player:g}}),pt.Notify.success("Jugador eliminado"),g===n&&pt.Notify.info("Capitn eliminado. Volv a elegir un capitn.")},className:"mr-2","aria-label":`Eliminar ${Ct(g)}`,title:"Eliminar",children:""}),m.jsx("span",{children:Ct(g)})]},g))}),m.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2 mt-2",onClick:()=>P3({starters:t,captainName:n,activeClub:s,teamName:i,players:a,uid:l,dispatch:e,setShowForm:u}),disabled:t.length!==11||!n,children:"Guardar Titulares"})]})]})},V3=(n,t,e,s,i)=>{const a=Et(t||e);!s||!a||pt.Confirm.show("Confirmar eliminacin","Seguro que quers eliminar esta formacin?","S, eliminar","Cancelar",async()=>{i({type:iN,payload:{id:n.id}}),pt.Notify.success("Formacin eliminada");const l=Et(t||e);if(!(!s||!l))try{await wi(Kn(Dn,"users",s),{[`lineups.${l}.formations.${n.id}`]:RO(),[`lineups.${l}.updatedAt`]:_o()})}catch(u){console.error(u),pt.Notify.failure("No se pudo eliminar en la nube")}},()=>{})},z3=(n,t,e)=>{pt.Confirm.show("Nuevos Horizontes","Te vas a un nuevo Club??","S, ya firme contrato","no, apret sin querer",()=>{n(!1),t({type:ix}),t({type:ax}),e("")},()=>{})},U3=({ordered:n=[],activeClub:t,teamName:e,uid:s,dispatch:i,setShowForm:a,setTeamName:l})=>!Array.isArray(n)||n.length===0?null:m.jsx("div",{children:n.length>0&&m.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-2",children:[m.jsx("h1",{className:"text-xl font-semibold text-green-700 mb-2 underline",children:"Formaciones"}),n.map(u=>{const f=[...Array.isArray(u.starters)?u.starters:[]].sort((w,T)=>w.localeCompare(T,"es",{sensitivity:"base"})),g=f.slice(0,4),x=f.slice(4,8),b=f.slice(8,11);return m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"grid md:grid-cols-3 gap-1 md:gap-2",children:[g,x,b].map((w,T)=>m.jsxs("ul",{className:"bg-gray-50 rounded-lg p-1 shadow-inner space-y-1",children:[w.map(S=>m.jsx("li",{className:`px-2 py-1.5 rounded text-left leading-tight ${S===u.captain?"bg-yellow-50 border-l-4 border-yellow-400 font-medium text-yellow-900":"hover:bg-gray-100 text-gray-800"}`,children:Ct(S)},S)),T===2&&m.jsx("li",{className:"flex justify-center items-center",children:m.jsx("button",{type:"button","aria-label":"Eliminar formacin",className:"w-9 h-9 rounded-full bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 text-lg font-bold flex items-center justify-center shadow",onClick:()=>V3(u,t,e,s,i),children:""})})]},T))}),m.jsx("hr",{})]},u.id||u.createdAt.toString())}),m.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2",onClick:()=>z3(a,i,l),children:"Nuevo Club para Dirigir"})]})});function B3(n=[],t={}){return F.useMemo(()=>{const e=new Map;for(const s of Array.isArray(n)?n:[]){const i=Et(s);i&&e.set(i,Ct(i))}for(const s of Object.keys(t||{})){const i=Et(s);if(!i)continue;const a=t[i]?.label||i;e.set(i,Ct(a))}return[...e.entries()].map(([s,i])=>({key:s,label:i})).sort((s,i)=>s.label.localeCompare(i.label,"es",{sensitivity:"base"}))},[n,t])}const F3=async({uid:n,teamName:t,lineups:e,dispatch:s})=>{const i=(t||"").trim();if(!i)return;const a=Et(i);if(!a)return;if(e?.[a]){s({type:qu,payload:{name:a}}),s({type:Wu}),pt.Notify.success("Equipo cargado desde memoria local");return}if(!n){pt.Notify.info("No hay sesin para buscar en la nube");return}try{const u=await ic(Kn(Dn,"users",n));if(!u.exists()){pt.Notify.info("No se encontraron datos guardados de ese club");return}const f=u.data()?.lineups?.[a];if(!f){pt.Notify.info("No se encontraron datos guardados de ese club");return}const g=f.formations?Object.entries(f.formations).map(([x,b])=>({id:x,...b})).sort((x,b)=>new Date(b.createdAt)-new Date(x.createdAt)):[];s({type:Tm,payload:{club:a,bucket:{label:f.label??i,players:f.players??[],formations:g,playersStats:f.playersStats??{},rivalsPlayers:f.rivalsPlayers??{},matches:f.matches??[]}}}),s({type:qu,payload:{name:a}}),s({type:Wu}),pt.Notify.success("Equipo cargado desde la nube")}catch(u){console.error(u),pt.Notify.failure("No se pudo recuperar el equipo de la nube")}},H3=()=>{const{form:n,changed:t,setValue:e}=nx(),{uid:s}=pn(),[i,a]=F.useState(n.teamName||""),[l,u]=F.useState(n.playerName||""),h={...n,playerName:l},f=L=>{L?.target?.name==="playerName"&&u(L.target.value),t(L)},g=(L,gt)=>{L==="playerName"&&u(gt??""),e(L,gt)},{state:x,dispatch:b}=Xn(),{captainName:w="",activeClub:T="",starters:S=[],selectMode:E="captain",selectedOption:k="",lineups:j={},players:O=[]}=x??{},B=Et(T||""),z=j?.[B]?.players||[],[H,A]=F.useState(!1),R=b3(s,b,x.activeClub,x.managedClubs);v3(j,T,b,R),_3(T,j,a);const I=R3(j,T),{remaining:M,chosen:U}=k3(z,S);w3(s,T,j,z),E3(s,b);const V=B3(x?.managedClubs,j);return m.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:m.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[m.jsx("div",{className:"space-y-2",children:m.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[m.jsx(T3,{teamName:i}),m.jsx(S3,{value:i,onChange:a,onBlurSave:()=>F3({uid:s,teamName:i,lineups:j,dispatch:b}),onConfirm:()=>I3({uid:s,teamName:i,lineups:j,dispatch:b}),disabled:z.length>0,suggestions:V}),m.jsx(N3,{activeClub:T,lineups:j,form:h,changed:f,players:z,dispatch:b,setValue:g}),m.jsx(C3,{players:z,selectedOption:k,dispatch:b,teamName:i,activeClub:T,uid:s,setShowForm:A})]})}),m.jsx("div",{className:"space-y-2",children:H?m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs(m.Fragment,{children:[m.jsx(j3,{showForm:H,selectMode:E,players:z,selectedOption:k,starters:S,dispatch:b}),E==="starters"&&z.length>0&&m.jsx(O3,{selectedOption:k,players:z,starters:S,dispatch:b,remaining:M,chosen:U}),m.jsx(L3,{captainName:w,players:z,starters:S,dispatch:b,activeClub:T,teamName:i,uid:s,setShowForm:A})]})}):z.length!==0?m.jsxs("div",{className:"hidden lg:block text-xs text-gray-500",children:["Toc ",m.jsx("strong",{children:"Nueva formacin"})," para empezar a armar el equipo."]}):null}),m.jsx("div",{className:"space-y-2",children:I.length>0&&m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6",children:m.jsx(U3,{ordered:I,activeClub:T,teamName:i,uid:s,dispatch:b,setShowForm:A,setTeamName:a})})})]})})},Ie=n=>typeof n=="string"&&n.trim()?Ct(n):String(n??""),H0=(n="")=>n.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),Cw=n=>(n||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),$3=(n,t)=>{if(!n||!t)return"anual";const e=Cw(H0(t));for(const[s,i]of Object.entries(n||{}))if(Cw(H0(s))===e)return(i?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"};function Sm({torneoName:n,torneoYear:t,fecha:e,torneosConfig:s}){const i=H0(n||"").trim()||"Sin torneo",a=$3(s,i),l=e?typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)?new Date(`${e}T00:00:00`):new Date(e):null,u=Number(t)||l&&l.getFullYear()||0;if(a==="europeo"){if(l&&Number.isFinite(l.getTime())){const h=l.getFullYear(),g=l.getMonth()+1>=7?h:h-1;return`${i} ${g}-${g+1}`}return u?`${i} ${u-1}-${u}`:`${i}`}return u?`${i} ${u}`:l&&Number.isFinite(l.getTime())?`${i} ${l.getFullYear()}`:`${i}`}function Xg(){return{pj:0,g:0,e:0,p:0,gf:0,gc:0}}function Qg(n,{esLocal:t,gf:e,gc:s}){const i=e>s?"g":e<s?"p":"e";n.pj+=1,n[i]+=1,n.gf+=e,n.gc+=s}function yl(n){const{g:t=0,e=0,p:s=0}=n||{};return t>=e&&t>s?"bg-green-100":s>t&&s>=e?"bg-red-100":e>=t&&e>=s?"bg-yellow-100":"bg-pink-100"}function xl({gf:n=0,gc:t=0}){return(n||0)-(t||0)}function Yd(n){const t=n.g*3+n.e,e=n.pj*3,s=e>0?Math.round(t/e*100):"0.00";return{puntos:t,efectividad:s,posibles:e}}function G3({match:n,uid:t,clubKey:e,onDone:s}){if(!n?.id){pt.Notify.failure("No se encontr el ID del partido.");return}pt.Confirm.show("Borrar Partido",`Ests seguro de borrar el partido de ${n.condition} vs ${Ie(n.rival||"")}?`,"S","No",async()=>{try{const i=Kn(Dn,"users",t),l=(await ic(i)).data()||{},u=e||n.club,f=(l?.lineups?.[u]?.matches||[]).filter(g=>g?.id!==n.id);await wi(i,{[`lineups.${u}.matches`]:f}),pt.Notify.success("Partido borrado con xito."),typeof s=="function"&&s()}catch(i){console.error(i),pt.Notify.failure("No se pudo borrar el partido.")}},()=>pt.Notify.info("El partido no se borr"))}const q3=(n,t={})=>F.useMemo(()=>{const e={};for(const s of n){const i=Sm({torneoName:s.torneoName,torneoYear:s.torneoYear,fecha:s.fecha,torneosConfig:t});e[i]||(e[i]={general:Xg(),local:Xg(),visitante:Xg()});const a=Number(s.golFavor)||0,l=Number(s.golContra)||0,u=String(s.condition||"").trim().toLowerCase(),h=u==="local",f=u==="visitante";Qg(e[i].general,{esLocal:h,gf:a,gc:l}),h?Qg(e[i].local,{esLocal:!0,gf:a,gc:l}):f&&Qg(e[i].visitante,{esLocal:!1,gf:a,gc:l})}return e},[n]),kw=n=>{if(!n)return 0;if(typeof n=="number")return n;if(typeof n=="string"){const t=Date.parse(n);return Number.isFinite(t)?t:0}if(typeof n=="object"){if(typeof n.toDate=="function"){const t=n.toDate();return t instanceof Date?t.getTime():0}if(typeof n.seconds=="number")return n.seconds*1e3}return 0},W3=(n,t,e=[],s={})=>F.useMemo(()=>{const i=u=>{const h=String(u).match(/(\d{4})(?:-(\d{4}))?$/);return h?parseInt(h[2]||h[1],10):0},a=new Map;(e||[]).forEach(u=>{const h=Sm({torneoName:u?.torneoName,torneoYear:u?.torneoYear,fecha:u?.fecha,torneosConfig:s}),f=Math.max(kw(u?.createdAt),kw(u?.fecha));if(!f)return;const g=a.get(h)||0;f>g&&a.set(h,f)});const l=Object.keys(n||{});return l.sort((u,h)=>{const f=i(u),g=i(h);if(f!==g)return t==="asc"?f-g:g-f;const x=a.get(u)||0,b=a.get(h)||0;return x!==b?t==="asc"?x-b:b-x:u.localeCompare(h)}),l},[n,t,e,s]),Is=({value:n=0,title:t="",showPlus:e=!1})=>{const s=Number(n||0),i=s>0?"ring-emerald-600":s<0?"ring-rose-600":"ring-yellow-500",a=e&&s>0?`+${s}`:`${s}`;return m.jsx("span",{className:`mx-auto inline-flex items-center justify-center rounded-full bg-white ring-2 ${i}
        h-6 w-6 md:h-7 md:w-7 text-[10px] md:text-[11px] font-extrabold text-black tabular-nums`,title:t,children:a})},Y3=()=>{const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn();zs(n,e,i);const a=Object.keys(s?.lineups||[]),[l,u]=F.useState(s?.activeClub||a[0]||""),h=Et(l||""),f=h?s?.lineups?.[h]:null,g=Array.isArray(f?.matches)?f.matches:[],[x,b]=F.useState("desc"),w=f?.torneosConfig||{},T=q3(g,w),S=W3(T,x,g,w),E=s?.lineups?.[h]||{},k=(E.players?.length??0)>0,j=(E.formations?.length??0)>0,O=E.playersStats?Object.keys(E.playersStats).length>0:!1;return s?.lineups&&Object.keys(s.lineups).length>0?!h||!k&&!j&&!O?m.jsx(Vs,{to:"/formacion",replace:!0}):(F.useMemo(()=>{const z=M=>String(M||"").trim().toLowerCase().replace(/\s+/g," "),H=new Map,A=new Map;for(const M of g||[]){const U=Number(M?.torneoYear)||null;if(!U)continue;const V=z(M?.torneoDisplay),L=z(M?.torneoName);V&&H.set(V,U),L&&A.set(L,U)}const R=new Map;for(const M of S||[]){const U=z(M),V=String(M).match(/\b(19|20)\d{2}\b/);let L=V?Number(V[0]):null;L||(L=H.get(U)||A.get(U)||null);const gt=L??0;R.has(gt)||R.set(gt,[]),R.get(gt).push(M)}return Array.from(R.keys()).sort((M,U)=>M===0?1:U===0?-1:U-M).map(M=>({year:M,claves:R.get(M)}))},[g,S]),m.jsxs("div",{className:"p-1 max-w-screen-2xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[m.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:" Campeonatos"}),m.jsx(Dl,{to:"/campeonatos/ajustes",className:"p-2 rounded-full hover:bg-slate-200 transition-all border border-slate-200 shadow-sm bg-white flex items-center justify-center",title:"Configuracin de Campeonatos",children:m.jsx("span",{className:"text-xl leading-none",children:""})})]}),m.jsxs("div",{className:"mb-4 flex flex-wrap items-end justify-center gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:l,onChange:z=>u(z.target.value),"aria-label":"Seleccionar club",children:a.map(z=>m.jsx("option",{value:z,children:Ie(z)},z))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Orden"}),m.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:x,onChange:z=>b(z.target.value),"aria-label":"Ordenar campeonatos",children:[m.jsx("option",{value:"desc",children:"Ms nuevos primero"}),m.jsx("option",{value:"asc",children:"Ms viejos primero"})]})]})]}),m.jsx("div",{className:"lg:hidden max-h-[75vh] overflow-auto rounded-2xl border border-slate-200 bg-white shadow-sm w-full",children:m.jsx("div",{className:"flex justify-center p-2",children:m.jsxs("table",{className:"w-max text-[12px] md:text-sm border-separate border-spacing-px bg-white",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 text-left border-b border-slate-200 w-[40px]",children:"Campeonato"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"Pts / Efec."})]})}),m.jsxs("tbody",{children:[S.map(z=>{const H=T?.[z];if(!H)return null;const A=xl(H.general),R=xl(H.local),I=xl(H.visitante),M=Number(H.general?.g||0)-Number(H.general?.p||0),U=Number(H.local?.g||0)-Number(H.local?.p||0),V=Number(H.visitante?.g||0)-Number(H.visitante?.p||0),L=yl(H.general),gt=yl(H.local),dt=yl(H.visitante),{puntos:W,efectividad:at,posibles:wt}=Yd(H.general),{puntos:Pt,efectividad:q,posibles:st}=Yd(H.local),{puntos:ft,efectividad:rt,posibles:mt}=Yd(H.visitante);return m.jsxs(ur.Fragment,{children:[m.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-center text-slate-800",children:Ie(z)}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:H.general.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:H.general.g}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:H.general.e}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:H.general.p}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:m.jsx(Is,{value:M,title:`G/P = ${H.general.g} - ${H.general.p} = ${M}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:H.general.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:H.general.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:m.jsx(Is,{value:A,showPlus:!0,title:`DG = ${A}`})}),m.jsxs("td",{className:`px-2 py-1 text-center ${L}`,children:[W," / ",wt," ",at,"%"]})]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-right text-[10px] uppercase tracking-wide text-slate-600",children:"LOCAL"}),m.jsx("td",{className:`px-2 py-1 text-center ${gt}`,children:H.local.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${gt}`,children:H.local.g}),m.jsx("td",{className:`px-2 py-1 text-center ${gt}`,children:H.local.e}),m.jsx("td",{className:`px-2 py-1 text-center ${gt}`,children:H.local.p}),m.jsx("td",{className:`px-2 py-1 text-center ${gt}`,children:m.jsx(Is,{value:U,title:`G/P = ${H.local.g} - ${H.local.p} = ${U}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${gt}`,children:H.local.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${gt}`,children:H.local.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${gt}`,children:m.jsx(Is,{value:R,showPlus:!0,title:`DG = ${R}`})}),m.jsxs("td",{className:`px-2 py-1 text-center ${gt}`,children:[Pt," / ",st," ",q,"%"]})]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-right text-[10px] uppercase tracking-wide text-slate-600",children:"VISITANTE"}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:H.visitante.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:H.visitante.g}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:H.visitante.e}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:H.visitante.p}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:m.jsx(Is,{value:V,title:`G/P = ${H.visitante.g} - ${H.visitante.p} = ${V}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:H.visitante.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:H.visitante.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:m.jsx(Is,{value:I,showPlus:!0,title:`DG = ${I}`})}),m.jsxs("td",{className:`px-2 py-1 text-center ${dt}`,children:[ft," / ",mt," ",rt,"%"]})]})]},z)}),S.length===0&&m.jsx("tr",{children:m.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:10,children:"No hay partidos cargados para este club."})})]})]})})}),m.jsx("div",{className:"hidden lg:block max-h-[75vh] overflow-auto rounded-2xl border border-slate-200 bg-white shadow-sm p-2",children:m.jsxs("table",{className:"mx-auto w-max table-auto text-[11px] md:text-sm border-collapse",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Campeonato"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),m.jsx("th",{className:"px-2 py-2 text-left border-b  border-r border-slate-300",children:"Pts / Efec."}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b  border-r border-slate-300",children:"DG L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG V"})]})}),m.jsxs("tbody",{children:[S.map((z,H)=>{const A=T?.[z];if(!A)return null;const R=H%2===0?"bg-white":"bg-slate-50",I=xl(A.general),M=xl(A.local),U=xl(A.visitante),V=Number(A.general?.g||0)-Number(A.general?.p||0),L=Number(A.local?.g||0)-Number(A.local?.p||0),gt=Number(A.visitante?.g||0)-Number(A.visitante?.p||0),dt=yl(A.general),W=yl(A.local),at=yl(A.visitante),{puntos:wt,efectividad:Pt,posibles:q}=Yd(A.general);return m.jsxs("tr",{className:`${R} border-t border-slate-100 hover:bg-slate-100/70 transition-colors`,children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:Ie(z)}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:A.general.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:A.general.g}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:A.general.e}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:A.general.p}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:m.jsx(Is,{value:V,title:`G/P = ${A.general.g} - ${A.general.p} = ${V}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:A.general.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:A.general.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${dt}`,children:m.jsx(Is,{value:I,showPlus:!0,title:`DG = ${I}`})}),m.jsxs("td",{className:`px-2 py-1 text-left ${dt} border-r border-slate-200`,children:[wt,"/",q," - ",Pt,"%"]}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.g}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.e}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.p}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:m.jsx(Is,{value:L,title:`G/P = ${A.local.g} - ${A.local.p} = ${L}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${W} border-r border-slate-200`,children:m.jsx(Is,{value:M,showPlus:!0,title:`DG = ${M}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${at}`,children:A.visitante.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${at}`,children:A.visitante.g}),m.jsx("td",{className:`px-2 py-1 text-center ${at}`,children:A.visitante.e}),m.jsx("td",{className:`px-2 py-1 text-center ${at}`,children:A.visitante.p}),m.jsx("td",{className:`px-2 py-1 text-center ${at}`,children:m.jsx(Is,{value:gt,title:`G/P = ${A.visitante.g} - ${A.visitante.p} = ${gt}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${at}`,children:A.visitante.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${at}`,children:A.visitante.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${at}`,children:m.jsx(Is,{value:U,showPlus:!0,title:`DG = ${U}`})})]},z)}),S.length===0&&m.jsx("tr",{children:m.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:26,children:"No hay partidos cargados para este club."})})]})]})})]})):m.jsx("div",{className:"p-6 text-center text-slate-500",children:"Cargando datos..."})},ra=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0}),$0=()=>({General:ra(),Local:ra(),Visitante:ra(),Neutral:ra()});function Kd(n,t){n.pj+=1;const e=Number(t.golFavor||0),s=Number(t.golContra||0);n.gf+=e,n.gc+=s,e>s?n.g+=1:e===s?n.e+=1:n.p+=1,n.dif=n.gf-n.gc}function Rw(n,t){Kd(n.General,t);const e=String(t?.condition||"").trim().toLowerCase();e==="local"?Kd(n.Local,t):e==="visitante"?Kd(n.Visitante,t):(e==="neutro"||e==="neutral")&&Kd(n.Neutral,t)}function K3(n,t={}){const e=(x="")=>x.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),s=x=>(x||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=(x,b)=>{if(!x||!b)return"anual";const w=s(e(b));for(const[T,S]of Object.entries(x))if(s(e(T))===w)return(S?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"},a=(x,b)=>{const w=new Date(x?.fecha);if(!Number.isFinite(w.getTime()))return"N/A";const T=w.getFullYear(),S=w.getMonth()+1;if(b==="europeo"){const E=S>=7?T:T-1;return`${E}-${E+1}`}return String(T)},l=x=>{const b=x?.createdAt;if(typeof b=="number")return b;if(b&&typeof b.toMillis=="function")return b.toMillis();if(b&&typeof b.seconds=="number")return b.seconds*1e3;if(x?.fecha){const w=new Date(x.fecha);if(Number.isFinite(w.getTime()))return w.getTime()}return 0},u=new Map;for(const x of n||[]){const b=(x?.captain||"").trim();u.has(b)||u.set(b,{captain:b,total:$0(),byTournament:{},tourneyMaxTs:{}});const w=u.get(b);Rw(w.total,x);const T=x?.torneoDisplay||"Sin torneo",S=e(T),E=i(t,S),k=a(x,E),j=`${S} ${k}`;w.byTournament[j]||(w.byTournament[j]=$0()),Rw(w.byTournament[j],x);const O=l(x);w.tourneyMaxTs[j]=Math.max(w.tourneyMaxTs[j]||0,O)}const h=[...u.values()].sort((x,b)=>x.captain.localeCompare(b.captain)),f=new Map;h.forEach(x=>{Object.entries(x.tourneyMaxTs).forEach(([b,w])=>{f.set(b,Math.max(f.get(b)||0,w))})});const g=[...f.entries()].sort((x,b)=>b[1]-x[1]).map(([x])=>x);return{captains:h,tournamentsOrdered:g}}const Iw=({title:n,rows:t,colorize:e=!0})=>{const s=["General","Local","Visitante","Neutral"];function i({g:f=0,e:g=0,p:x=0}){return e?f>=g&&f>x?"bg-green-100":x>f&&x>=g?"bg-red-100":f===x&&f>g||f===g&&f===x||g>=f&&g>=x?"bg-yellow-100":"bg-gray-100":""}const a=({children:f,bg:g})=>m.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${g}`,children:f}),l=({g:f=0,e:g=0,pj:x=0,rowBg:b=""})=>{const w=Number(f||0),T=Number(g||0),S=Number(x||0),E=w*3+T*1,k=S*3,j=k>0?Math.round(E/k*100):0;return m.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${b}`,children:m.jsxs("div",{className:"flex flex-col items-center leading-none",children:[m.jsxs("span",{className:"text-[10px] font-extrabold tabular-nums text-black",children:[E,"/",k]}),m.jsxs("span",{className:"mt-0.5 text-[9px] tabular-nums text-slate-600",children:[j,"%"]})]})})},u=({value:f=0,rowBg:g=""})=>{const x=Number(f||0),b=x>0?"ring-green-400":x<0?"ring-red-400":"ring-yellow-400";return m.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${g}`,children:m.jsx("span",{className:`mx-auto inline-flex items-center justify-center rounded-full w-7 h-7 bg-white ring-2 ${b} text-[10px] font-extrabold text-black`,title:`DIF: ${x}`,children:x})})},h=({g:f=0,p:g=0,rowBg:x=""})=>{const b=Number(f||0)-Number(g||0),w=b>0?"border-green-400 ring-green-300":b<0?"border-red-400 ring-red-300":"border-yellow-400 ring-yellow-300",T=b>0?"text-green-600":b<0?"text-red-600":"text-amber-700";return m.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${x}`,children:m.jsx("span",{className:`mx-auto inline-flex items-center rounded-full bg-white px-2 py-1 text-[10px] font-extrabold
          border ring-2 ${w}`,title:`G/P = ${f} - ${g} = ${b}`,children:m.jsx("span",{className:`tabular-nums ${T}`,children:b})})})};return m.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden mt-3",children:[m.jsx("div",{className:"bg-blue-50 px-2 py-1 font-semibold text-sm text-center",children:Ct(n)}),m.jsxs("table",{className:"w-full text-xs border-separate border-spacing-px bg-white",children:[m.jsx("thead",{className:"bg-blue-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"Tipo"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"Pj"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"G"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"E"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"P"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"G/P"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"GF"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"GC"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"DIF"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"PTS/EFEC"})]})}),m.jsx("tbody",{children:s.map((f,g)=>{const x=t[f]||{pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0},b=i(x);return m.jsxs("tr",{className:g%2===0?"bg-white":"bg-gray-100",children:[m.jsx("td",{className:"px-2 py-1 border-b border-gray-100",children:f}),m.jsx(a,{bg:b,children:x.pj}),m.jsx(a,{bg:b,children:x.g}),m.jsx(a,{bg:b,children:x.e}),m.jsx(a,{bg:b,children:x.p}),m.jsx(h,{g:x.g,p:x.p,rowBg:b}),m.jsx(a,{bg:b,children:x.gf}),m.jsx(a,{bg:b,children:x.gc}),m.jsx(u,{value:x.dif,rowBg:b}),m.jsx(l,{g:x.g,e:x.e,pj:x.pj,rowBg:b})]},f)})})]})]})},X3=()=>{const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn();zs(n,e,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||{}),[h,f]=F.useState(s?.activeClub||u[0]||""),g=Et(h||""),x=g?s?.lineups?.[g]:null;F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const b=Array.isArray(a?.matches)?a.matches:[],w=s?.lineups?.[g]||{},T=(w.players?.length??0)>0,S=(w.formations?.length??0)>0,E=w.playersStats?Object.keys(w.playersStats).length>0:!1;if(!g||!T&&!S&&!E)return m.jsx(Vs,{to:"/formacion",replace:!0});const k=a?.torneosConfig||{},{captains:j,tournamentsOrdered:O}=F.useMemo(()=>K3(b,k),[b,a?.torneosConfig]),B=A=>({General:A?.General||ra(),Local:A?.Local||ra(),Visitante:A?.Visitante||ra(),Neutral:A?.Neutral||ra()}),z=h,H=j.filter(A=>(A?.total?.General?.pj??0)>0);return m.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-evenly gap-1 mb-2 mt-2",children:[m.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 flex flex-col gap-0 leading-none",children:[m.jsx("span",{children:" Anlisis"}),m.jsx("span",{className:"mt-1 inline-flex w-fit items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-600",children:" Resumen"})]}),m.jsxs("label",{className:"w-full max-w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{value:z,onChange:A=>f(A.target.value),disabled:u.length<=1,className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-1 text-sm text-slate-800 shadow-sm\r
        focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
        disabled:bg-slate-100 disabled:text-slate-500`,children:u.map(A=>m.jsx("option",{value:A,children:Ct(A)},A))})]})]}),m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[m.jsx("h2",{className:"text-sm font-extrabold tracking-wide text-slate-800 uppercase",children:"Totales Generales"}),m.jsx("span",{className:"text-xs text-slate-500",children:H.length?`${H.length} capitanes`:""})]}),m.jsx("div",{className:"p-2",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("div",{className:"flex flex-col gap-3 mx-auto w-max sm:flex-row sm:flex-nowrap sm:justify-center",children:[H.map(A=>m.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:m.jsx(Iw,{title:A.captain,rows:B(A.total)})},`total-${A.captain}`)),!H.length&&m.jsx("div",{className:"text-slate-500 text-sm px-2 py-4",children:" Sin partidos "})]})})})]}),m.jsx("div",{className:"mt-2 space-y-6 ",children:O.map(A=>m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[m.jsx("div",{className:"px-2 py-2 border-b border-slate-200",children:m.jsx("h3",{className:"text-sm font-extrabold tracking-wide text-slate-800 uppercase text-center",children:A})}),m.jsx("div",{className:"p-2",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"flex flex-col gap-3 mx-auto w-max sm:flex-row sm:flex-nowrap sm:justify-center",children:H.map(R=>{const I=R.byTournament[A]||$0();return(I?.General?.pj??0)===0?null:m.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:m.jsx(Iw,{title:R.captain,rows:B(I)})},`${A}-${R.captain}`)})})})})]},A))})]})},Ei=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,df:0}),co=()=>({General:Ei(),Local:Ei(),Visitante:Ei(),Neutral:Ei()}),Zr=["PJ","G","E","P","G/P","GF","GC","DF","PTS/EFEC"];function Qr(n,t,e){n.pj+=1,t>e?n.g+=1:t===e?n.e+=1:n.p+=1,n.gf+=t,n.gc+=e,n.df=n.gf-n.gc}function aN(n={}){const{g:t=0,e=0,p:s=0}=n;return t>=e&&t>s?"bg-green-100":s>t&&s>=e?"bg-red-100":t===s&&t>e||t===e&&t===s||e>=t&&e>=s?"bg-yellow-100":"bg-pink-100"}const Q3=n=>n>0?"ring-green-400":n<0?"ring-red-400":"ring-yellow-400",oN=(n,t)=>m.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${Q3(n)} h-6 w-6 text-[10px] font-extrabold text-black`,title:t,children:n}),J3=n=>oN(n,`G/P = ${n}`),Z3=n=>oN(n,`DF = ${n}`),t4=n=>{const t=Number(n?.g??0),e=Number(n?.e??0),s=Number(n?.pj??0),i=t*3+e*1,a=s*3,l=a>0?Math.round(i/a*100):0;return{obtenidos:i,posibles:a,efec:l}},e4=n=>m.jsxs("div",{className:"leading-tight",children:[m.jsxs("div",{className:"font-semibold",children:[n?.obtenidos??0," / ",n?.posibles??0]}),m.jsxs("div",{className:"text-[10px] opacity-80",children:[n?.efec??0,"%"]})]}),n4=(n,t=[])=>{const e={General:n?.General??Ei(),Local:n?.Local??Ei(),Neutral:n?.Neutral??Ei(),Visitante:n?.Visitante??Ei()},s=[];for(const i of t){const a=e[i]??Ei(),l=(a.g??0)-(a.p??0),u=t4(a);s.push(a.pj,a.g,a.e,a.p,l,a.gf,a.gc,a.df,u)}return s.map((i,a)=>{const l=a%9,u=Math.floor(a/9),h=t[u],f=e[h]??Ei(),g=aN(f);return m.jsx("td",{className:`border px-2 py-1 text-center ${g}`,children:l===4?J3(i):l===7?Z3(i):l===8?e4(i):i},`${h}-${a}`)})},jw=({etiquetas:n,sufijos:t=["",""]})=>m.jsx(m.Fragment,{children:n.flatMap((e,s)=>Zr.map(i=>m.jsxs("th",{className:"border px-2 py-1 text-center",children:[i,t[s]]},`${e}-${i}`)))}),Xd=({triple:n,orden:t})=>m.jsx(m.Fragment,{children:n4(n,t)}),lN=(n=[],t="anual")=>F.useMemo(()=>{const e={},s=new Set;for(const l of n){if(!l?.fecha)continue;const u=new Date(l.fecha);let h="N/A";if(Number.isFinite(u.getTime()))if(t==="europeo"){const w=u.getFullYear(),S=u.getMonth()+1>=7?w:w-1;h=`${S}-${S+1}`}else h=String(u.getFullYear());const f=(l?.captain||"").trim();s.add(f),e[h]||(e[h]={general:co(),capitanes:{}}),e[h].capitanes[f]||(e[h].capitanes[f]=co());const g=Number(l.golFavor||0),x=Number(l.golContra||0),b=String(l.condition||"").trim().toLowerCase();Qr(e[h].general.General,g,x),b==="local"?Qr(e[h].general.Local,g,x):b==="visitante"?Qr(e[h].general.Visitante,g,x):(b==="neutral"||b==="neutro"||b==="neutro/neutral")&&(e[h].general.Neutral||(e[h].general.Neutral=co().General),Qr(e[h].general.Neutral,g,x)),Qr(e[h].capitanes[f].General,g,x),b==="local"?Qr(e[h].capitanes[f].Local,g,x):b==="visitante"?Qr(e[h].capitanes[f].Visitante,g,x):(b==="neutral"||b==="neutro"||b==="neutro/neutral")&&(e[h].capitanes[f].Neutral||(e[h].capitanes[f].Neutral=co().General),Qr(e[h].capitanes[f].Neutral,g,x))}const i=Object.keys(e).sort((l,u)=>{const h=parseInt(l.split("-")[0],10),f=parseInt(u.split("-")[0],10);return h-f}),a=[...s].sort((l,u)=>l.localeCompare(u));return{temporadasOrdenadas:i,resumenPorTemporada:e,captainsOrdenados:a}},[n]),s4={PJ:"pj",G:"g",E:"e",P:"p",GF:"gf",GC:"gc",DF:"df","PTS/EFEC":"ptsEfec"},i4=n=>n>0?"ring-green-400":n<0?"ring-red-400":"ring-yellow-400",Dw=({value:n,title:t})=>m.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${i4(n)} h-6 w-6 text-[10px] font-extrabold text-black`,title:t,children:n}),Jr=(n={})=>Zr.map((t,e)=>{const i=aN(n),a=e===0?"":" border-2 border-white/70";let l=0;if(t==="G/P"){const u=n?.g??0,h=n?.p??0;l=u-h}else if(t==="PTS/EFEC"){const u=Number(n?.g??0),h=Number(n?.e??0),f=Number(n?.pj??0),g=u*3+h*1,x=f*3,b=x>0?Math.round(g/x*100):0;l={obtenidos:g,posibles:x,efec:b}}else{const u=s4[t];l=n?.[u]??0}return m.jsx("td",{className:`px-2 py-1 text-center ${i}${a}`,children:t==="G/P"?m.jsx(Dw,{value:l,title:`G/P = ${n?.g??0} - ${n?.p??0} = ${l}`}):t==="DF"?m.jsx(Dw,{value:l,title:`DF = ${l}`}):t==="PTS/EFEC"?m.jsxs("div",{className:"flex flex-col items-center leading-none",children:[m.jsxs("span",{className:"text-[10px] font-bold tabular-nums",children:[l.obtenidos," / ",l.posibles]}),m.jsxs("span",{className:"text-[9px] text-slate-600 tabular-nums",children:[l.efec,"%"]})]}):l},t)}),cN=({clubKey:n,bucket:t,year:e,matchesForYear:s,mode:i="anual"})=>{const[a,l]=F.useState(null);F.useEffect(()=>{t&&Object.keys(t).length!==0&&l(t)},[t]);const u=s,{temporadasOrdenadas:h,resumenPorTemporada:f,captainsOrdenados:g}=lN(u,i),x=[...h||[]].sort((E,k)=>{const j=String(E).match(/\d{4}/g)||[],O=String(k).match(/\d{4}/g)||[],B=j.length?Math.max(...j.map(Number)):-1/0;return(O.length?Math.max(...O.map(Number)):-1/0)-B});String(e).match(/\d{4}/g)||String(e);const b=t?.clubName?t.clubName:Ct(n),w="w-[60px] max-w-[60px]",T=`px-1.5 py-2 ${w} text-left border-b border-slate-200`,S=`px-1.5 py-1 ${w} text-left text-[10px] uppercase tracking-wide text-slate-600 whitespace-nowrap`;return m.jsx("div",{className:"m-2 space-y-3",children:x.map(E=>{const k=f[E];if(!k)return null;const j=Array.isArray(g)?g:[],O=k.general||co();return m.jsxs(ur.Fragment,{children:[m.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-evenly sm:gap-6",children:m.jsx("div",{className:"lg:hidden max-h-full overflow-auto overflow-x-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[m.jsxs("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:[m.jsx("tr",{children:m.jsxs("th",{className:"px-2 py-2 w-[76px] max-w-[76px] text-center border-b border-slate-200",colSpan:10,children:[E,"  ",b]})}),m.jsxs("tr",{children:[m.jsx("th",{className:T,children:"Bloque"}),Zr.map(B=>m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:B},`head-${B}`))]})]}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:`px-1.5 py-1.5 ${w} font-semibold text-left text-slate-800 whitespace-nowrap`,children:"General"}),Jr(O.General)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:S,children:"Local"}),Jr(O.Local)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:S,children:"Visitante"}),Jr(O.Visitante)]}),(O?.Neutral?.pj??0)>0?m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:S,children:"Neutral"}),Jr(O.Neutral)]}):null,j.map(B=>{const z=k.capitanes?.[B]||co();return m.jsxs(ur.Fragment,{children:[m.jsxs("tr",{className:"border-t border-slate-200 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:`px-1.5 py-1.5 ${w} font-semibold text-left text-slate-800 whitespace-nowrap truncate`,title:Ct(B),children:Ct(B)}),Jr(z.General)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Local"}),Jr(z.Local)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Visitante"}),Jr(z.Visitante)]}),(z?.Neutral?.pj??0)>0?m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Neutral"}),Jr(z.Neutral)]}):null]},`${E}-${B}`)})]})]})})}),m.jsx("div",{className:"hidden lg:block max-h-[75vh] overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"mx-auto w-full min-w-[860px] text-[11px] md:text-sm border-collapse",children:[m.jsxs("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:[m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 w-28 whitespace-nowrap text-left border-b border-slate-200",children:"Temporada"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",colSpan:Zr.length*2,children:b})]}),m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200"}),Zr.map(B=>m.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:B},`G-${B}`)),Zr.map(B=>m.jsxs("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:[B," N"]},`N-${B}`))]})]}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"bg-white border-t border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 font-semibold text-center",children:E}),m.jsx(Xd,{triple:k.general,orden:["General","Neutral"]})]}),m.jsxs("tr",{className:"bg-slate-50",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Condicin"}),Zr.map(B=>m.jsxs("th",{className:"border border-black px-2 py-1 text-center text-[12px]",children:[B," L"]},`L-${B}`)),Zr.map(B=>m.jsxs("th",{className:"border border-black px-2 py-1 text-center text-[12px]",children:[B," V"]},`V-${B}`))]}),m.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Totales"}),m.jsx(Xd,{triple:k.general,orden:["Local","Visitante"]})]}),j.map(B=>{const z=k.capitanes?.[B]||co();return m.jsxs(ur.Fragment,{children:[m.jsxs("tr",{className:"bg-slate-100 border-t border-slate-200",children:[m.jsx("td",{className:"border-r border-slate-200 font-semibold px-2 py-1 text-left",children:Ct(B)}),m.jsx(jw,{etiquetas:["General","Neutral"],sufijos:[""," N"]})]}),m.jsxs("tr",{className:"bg-white hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),m.jsx(Xd,{triple:z,orden:["General","Neutral"]})]}),m.jsxs("tr",{className:"bg-slate-50",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-[10px] uppercase text-slate-600",children:"Condicin"}),m.jsx(jw,{etiquetas:["Local","Visitante"],sufijos:[" L"," V"]})]}),m.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),m.jsx(Xd,{triple:z,orden:["Local","Visitante"]})]})]},`${E}-${B}`)})]})]})})]},`${n}-${E}`)})})},r4=(n={})=>{const t=Object.keys(n||{});return F.useMemo(()=>{const e=[];for(const s of t){const i=n?.[s],a=Array.isArray(i?.matches)?i.matches:[];if(!a.length)continue;const l=new Map;for(const u of a){const h=new Date(u?.fecha);if(!Number.isFinite(h.getTime()))continue;const f=String(h.getFullYear());l.has(f)||l.set(f,[]),l.get(f).push(u)}for(const[u,h]of l.entries())e.push({clubKey:s,year:u,bucket:i,matchesForYear:h})}return e.sort((s,i)=>Number(i.year)-Number(s.year)),e},[t.join("|"),n])},a4=(n=[])=>F.useMemo(()=>n.map(t=>({id:t.id,fecha:t.fecha,rival:t.rival,golesFavor:t.golFavor??0,golesContra:t.golContra??0,equipo:(t.captain||"").toLowerCase(),esLocal:String(t.condition||"").trim().toLowerCase()==="local"})),[n]);function o4(n){const t=new Date(n),e=t.getFullYear(),i=t.getMonth()+1>=7?e:e-1;return`${i}-${i+1}`}function l4(n,t,e){const s=new Map;for(const a of n){const l=o4(a.fecha);s.has(l)||s.set(l,[]),s.get(l).push(a)}return Array.from(s.keys()).sort((a,l)=>{const u=parseInt(a.split("-")[0],10);return parseInt(l.split("-")[0],10)-u}).map(a=>({seasonKey:a,clubKey:t,bucket:e,matchesForSeason:s.get(a)}))}const c4=({lineups:n={}})=>{const t=F.useMemo(()=>{const e=[],s=Object.keys(n||{});for(const i of s){const a=n?.[i],l=Array.isArray(a?.matches)?a.matches:[];if(!l.length)continue;const u=l4(l,i,a);for(const h of u)e.push(h)}return e.sort((i,a)=>{const l=parseInt(String(i.seasonKey).split("-")[0],10);return parseInt(String(a.seasonKey).split("-")[0],10)-l}),e},[n]);return m.jsx(m.Fragment,{children:t.map(e=>m.jsx(cN,{clubKey:e.clubKey,bucket:e.bucket,year:e.seasonKey,matchesForYear:e.matchesForSeason,mode:"europeo"},`${e.seasonKey}-${e.clubKey}`))})},u4=()=>{const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn();zs(n,e,i);const[a,l]=F.useState(null),[u,h]=F.useState("anual"),f=s?.lineups||{},g=r4(f);if(!Object.keys(f).some(k=>{const j=f?.[k]||{},O=(j.players?.length??0)>0,B=(j.formations?.length??0)>0,z=j.playersStats?Object.keys(j.playersStats).length>0:!1;return O||B||z}))return m.jsx(Vs,{to:"/formacion",replace:!0});const w=Array.isArray(a?.matches)?a.matches:[],{temporadasOrdenadas:T,resumenPorTemporada:S,captainsOrdenados:E}=lN(w);return[...T||[]].sort((k,j)=>{const O=String(k).match(/\d{4}/g)||[],B=String(j).match(/\d{4}/g)||[],z=O.length?Math.max(...O.map(Number)):-1/0;return(B.length?Math.max(...B.map(Number)):-1/0)-z}),m.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[m.jsxs("div",{className:"mb-3",children:[m.jsx("h1",{className:"text-2xl font-bold text-center",children:" Temporadas"}),m.jsxs("div",{className:"mt-3 flex justify-center gap-3",children:[m.jsx("button",{type:"button",onClick:()=>h("anual"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",u==="anual"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Anual"}),m.jsx("button",{type:"button",onClick:()=>h("europeo"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",u==="europeo"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Europeo"})]})]}),m.jsx("hr",{className:"border-gray-200"}),u==="anual"&&g.map(k=>m.jsx(cN,{clubKey:k.clubKey,bucket:k.bucket,year:k.year,matchesForYear:k.matchesForYear},`${k.year}-${k.clubKey}`)),u==="europeo"&&m.jsx(c4,{lineups:f})]})},h4=({matches:n,bucket:t})=>{const e=t?.torneosConfig||{},s=h=>String(h||"").replace(/\s+\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,"").trim(),i=(h,f)=>{const g=/\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,x=String(h||"").match(g);return x?x[0].replace(/\s+/g,""):f??null},a=h=>h?h.dobleHattrick?6:h.manito?5:h.poker?4:h.hattrick||h.triplete?3:h.doblete?2:h.gol?1:0:0,l=F.useMemo(()=>{const h={};return n.forEach(f=>{const{torneoDisplay:g,torneoName:x,torneoYear:b,goleadoresActiveClub:w,starters:T,substitutes:S}=f||{},E=x||s(g)||"Torneo",k=Sm({torneoName:E,torneoYear:b,fecha:f?.fecha||f?.createdAt,torneosConfig:e}),j=i(k,b?String(b):null),O=`${E}__${j||"NA"}`,B=k;h[O]||(h[O]={label:B,year:j||b,jugadores:{},lastPlayed:0});const z=Date.parse(f?.fecha)||Number(f?.updatedAt)||Number(f?.createdAt)||0;z>h[O].lastPlayed&&(h[O].lastPlayed=z);const H=Array.isArray(T)?T:[],A=Array.isArray(S)?S:[];[...new Set([...H,...A].map(M=>(M??"").toString().trim()).filter(Boolean))].forEach(M=>{const U=M.toLowerCase();h[O].jugadores[U]||(h[O].jugadores[U]={nombre:Ie(M),pj:0,goles:0,x2:0,x3:0}),h[O].jugadores[U].pj+=1}),(Array.isArray(w)?w:[]).forEach(M=>{if(!M)return;const V=(M.pretty??M.prettyName??M.displayName??M.nombre??M.name??"").toString().trim();if(!V||M.isOwnGoal===!0||V==="__og__")return;const L=V.toLowerCase();h[O].jugadores[L]||(h[O].jugadores[L]={nombre:Ie(V),pj:0,goles:0,x2:0,x3:0});const gt=h[O].jugadores[L],dt=a(M);gt.goles+=dt,M.doblete&&(gt.x2+=1),(M.hattrick||M.triplete)&&(gt.x3+=1)})}),Object.values(h).sort((f,g)=>{if(g.lastPlayed!==f.lastPlayed)return g.lastPlayed-f.lastPlayed;const x=parseInt(String(f.year||"").slice(0,4),10)||0;return(parseInt(String(g.year||"").slice(0,4),10)||0)-x||f.label.localeCompare(g.label)})},[n,e]),u=(h,f)=>f?(h/f).toFixed(2):"0.00";return!n||!n.length?m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."}):m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores por campeonato"}),l.map(h=>{const f=Object.values(h.jugadores).filter(S=>S.goles>0).sort((S,E)=>E.goles-S.goles||S.nombre.localeCompare(E.nombre)),g=f.reduce((S,E)=>S+(E.goles||0),0),x=f.reduce((S,E)=>S+(E.x2||0),0),b=f.reduce((S,E)=>S+(E.x3||0),0),w=f.reduce((S,E)=>{const k=Number(E.pj||0),j=Number(E.goles||0);return S+(k>0?j/k:0)},0),T=f.length>0?(w/f.length).toFixed(2):"0.00";return m.jsxs("div",{className:"mb-6 border border-slate-200 rounded-lg bg-white shadow-sm p-3",children:[m.jsx("h3",{className:"text-base font-semibold mb-3 text-center underline",children:h.label}),m.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:m.jsxs("table",{className:"table-auto border-collapse border mx-auto w-full md:w-max",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"PJ"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Prom."}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"})]})}),m.jsxs("tbody",{children:[f.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"border px-2 py-2 text-center text-slate-500",children:"No hubo goles en este campeonato."})}),f.map((S,E)=>m.jsxs("tr",{className:"odd:bg-white even:bg-slate-100 hover:bg-slate-100 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",children:E+1}),m.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:S.nombre}),m.jsx("td",{className:"border px-2 py-1 text-center",children:S.pj}),m.jsx("td",{className:"border px-2 py-1 text-center",children:S.goles}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u(S.goles,S.pj)}),m.jsx("td",{className:"border px-2 py-1 text-center",children:S.x2}),m.jsx("td",{className:"border px-2 py-1 text-center",children:S.x3})]},S.nombre)),f.length>0&&m.jsxs("tr",{className:"bg-slate-200 font-bold",children:[m.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),m.jsx("td",{className:"border px-2 py-2 text-center",children:g}),m.jsx("td",{className:"border px-2 py-2 text-center",children:T}),m.jsx("td",{className:"border px-2 py-2 text-center",children:x}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b})]})]})]})})]},h.label)})]})},d4=({matches:n})=>{const t=Array.isArray(n)?n:[],[e,s]=F.useState("general"),[i,a]=F.useState("goles"),[l,u]=F.useState("desc"),h=F.useMemo(()=>{const b={},w=j=>j?j.dobleHattrick?6:j.manito?5:j.poker?4:j.hattrick||j.triplete?3:j.doblete?2:j.gol?1:0:0,T=j=>j?String(j).toLowerCase().includes("__og__"):!1;t.forEach(j=>{let O=(j?.condition||"").toString().toLowerCase();O||(j?.local===!0?O="local":j?.local===!1&&(O="visitante"));const B=["general"];O==="local"?B.push("local"):O==="visitante"?B.push("visitante"):(O==="neutral"||O==="neutro")&&B.push("neutro");const z=Array.isArray(j?.goleadoresActiveClub)?j.goleadoresActiveClub:[],H={};[...Array.isArray(j?.starters)?j.starters:[],...Array.isArray(j?.substitutes)?j.substitutes:[]].forEach(R=>{const I=R?.toString().trim();!I||T(I)||(b[I]||(b[I]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),H[I]||(H[I]=new Set),B.forEach(M=>H[I].add(M)))}),z.forEach(R=>{const I=(R?.name||R?.nombre||"").toString().trim();if(!I||T(I))return;const M=w(R);M&&(b[I]||(b[I]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),B.forEach(U=>{b[I][U].goles+=M,M===2&&(b[I][U].x2+=1),M===3&&(b[I][U].x3+=1)}))}),Object.entries(H).forEach(([R,I])=>{I.forEach(M=>{b[R][M].pj+=1})})});const S=j=>{const O=j.pj||0,B=j.goles||0;return{...j,pj:O,goles:B,x2:j.x2||0,x3:j.x3||0,prom:O>0?B/O:0}};return Object.entries(b).map(([j,O])=>({nombre:j,general:S(O.general),local:S(O.local),visitante:S(O.visitante),neutro:S(O.neutro)})).filter(j=>(j[e]?.goles??0)>0).sort((j,O)=>{const B=j.nombre.toLowerCase(),z=O.nombre.toLowerCase();if(i==="nombre")return l==="asc"?B.localeCompare(z):z.localeCompare(B);const H=e,A=j[H]?.[i]??0,R=O[H]?.[i]??0,I=l==="asc"?A-R:R-A;return I!==0?I:B.localeCompare(z)})},[t,e,i,l]),f=b=>!b||Number.isNaN(b)?"0.00":b.toFixed(2);if(!t.length)return m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."});const g=b=>{switch(b){case"local":return"bg-emerald-50";case"visitante":return"bg-amber-50";default:return"bg-sky-50"}},x="bg-slate-200/60";return m.jsxs("div",{className:"mt-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores del equipo"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end text-sm justify-center",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"mbito"}),m.jsxs("select",{value:e,onChange:b=>s(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"local",children:"Local"}),m.jsx("option",{value:"visitante",children:"Visitante"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Campo"}),m.jsxs("select",{value:i,onChange:b=>a(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"nombre",children:"Nombre"}),m.jsx("option",{value:"pj",children:"PJ"}),m.jsx("option",{value:"goles",children:"Goles"}),m.jsx("option",{value:"x2",children:"x2"}),m.jsx("option",{value:"x3",children:"x3"}),m.jsx("option",{value:"prom",children:"Promedio"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),m.jsxs("select",{value:l,onChange:b=>u(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"asc",children:"Ascendente"}),m.jsx("option",{value:"desc",children:"Descendente"})]})]})]}),m.jsx("div",{className:"sm:hidden max-h-[80vh] overflow-auto border rounded",children:m.jsxs("table",{className:"w-full border-collapse text-[11px] tabular-nums",children:[m.jsx("thead",{className:"sticky top-0 z-20 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-2 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"PJ"}),m.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"G"}),m.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"x2"}),m.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"x3"}),m.jsx("th",{className:"border px-2 py-2 text-center w-16",children:"Prom"})]})}),m.jsx("tbody",{children:h.map((b,w)=>m.jsxs(ur.Fragment,{children:[m.jsxs("tr",{className:"bg-white",children:[m.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",rowSpan:3,children:w+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold",children:m.jsx("div",{className:"font-bold underline text-[12px] leading-tight truncate max-w-[180px]",title:Ie(b.nombre),children:Ie(b.nombre)})}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f(b.general.prom)})]}),m.jsxs("tr",{className:g("local"),children:[m.jsx("td",{className:"border px-2 py-2 text-left",children:m.jsx("div",{className:"font-semibold",children:"Local"})}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="local"&&i==="pj"?x:""}`,children:b.local.pj}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="local"&&i==="goles"?x:""}`,children:b.local.goles}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="local"&&i==="x2"?x:""}`,children:b.local.x2}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="local"&&i==="x3"?x:""}`,children:b.local.x3}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="local"&&i==="prom"?x:""}`,children:f(b.local.prom)})]}),m.jsxs("tr",{className:g("visitante"),children:[m.jsx("td",{className:"border px-2 py-2 text-left",children:m.jsx("div",{className:"font-semibold",children:"Visitante"})}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="visitante"&&i==="pj"?x:""}`,children:b.visitante.pj}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="visitante"&&i==="goles"?x:""}`,children:b.visitante.goles}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="visitante"&&i==="x2"?x:""}`,children:b.visitante.x2}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="visitante"&&i==="x3"?x:""}`,children:b.visitante.x3}),m.jsx("td",{className:`border px-2 py-2 text-center ${e==="visitante"&&i==="prom"?x:""}`,children:f(b.visitante.prom)})]})]},b.nombre))})]})}),m.jsx("div",{className:"hidden sm:block max-h-[80vh] overflow-auto",children:m.jsxs("table",{className:"table-fixed border-collapse mx-auto min-w-[680px] md:min-w-[780px] text-[11px] md:text-sm tabular-nums",children:[m.jsxs("thead",{className:"sticky top-0 z-20",children:[m.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[m.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-center sticky left-0 bg-slate-100 z-20 w-10",children:"#"}),m.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-left sticky left-10 bg-slate-100 z-20 w-28 sm:w-20 md:w-20 lg:w-20 overflow-hidden",children:"Jugador"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"General"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Local"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Visitante"})]}),m.jsxs("tr",{className:"bg-slate-50 text-slate-600 text-[10px] md:text-xs",children:[["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`gen-${w}`)),["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`loc-${w}`)),["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`vis-${w}`))]})]}),m.jsx("tbody",{children:h.map((b,w)=>m.jsxs("tr",{className:"even:bg-slate-200 hover:bg-slate-100/70 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center sticky left-0 bg-white z-10 w-10",children:w+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold sticky left-10 bg-white z-10 w-28 sm:w-20 md:w-20 lg:w-20 max-w-[112px] sm:max-w-[128px] md:max-w-[80px] lg:max-w-[160px] whitespace-nowrap overflow-hidden text-ellipsis",children:Ie(b.nombre)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f(b.general.prom)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f(b.local.prom)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f(b.visitante.prom)})]},b.nombre))})]})})]})},f4=({matches:n})=>{const t=F.useMemo(()=>{const a={};return n.forEach(l=>{(Array.isArray(l.goleadoresRivales)?l.goleadoresRivales:[]).forEach(h=>{if(!h)return;const f=h.name?.toString().trim(),g=h.club?.toString().trim()||"";if(!f)return;const x=f.toLowerCase();if(h.isOwnGoal===!0||!!!(h.gol||h.doblete||h.triplete)||x.includes("__og__")||x.includes("en contra"))return;const w=`${f.toLowerCase()}|${g.toLowerCase()}`;a[w]||(a[w]={nombre:f,club:g,goles:0,x2:0,x3:0,expulsiones:0});const T=a[w],S=!!h.doblete,E=!!h.triplete,k=!!h.gol,j=!!h.expulsion;E?(T.goles+=3,T.x3+=1):S?(T.goles+=2,T.x2+=1):k&&(T.goles+=1),j&&(T.expulsiones+=1)})}),Object.values(a).map(l=>{const u=Ie(l.nombre),h=l.club?Ie(l.club):"";return{...l,nombrePretty:u,clubPretty:h}}).sort((l,u)=>u.goles-l.goles||l.clubPretty.localeCompare(u.clubPretty,"es",{sensitivity:"base"})||l.nombrePretty.localeCompare(u.nombrePretty,"es",{sensitivity:"base"}))},[n]);if(!n||!n.length)return m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."});if(!t.length)return m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No se registraron goles rivales."});const e=t.reduce((a,l)=>a+(l.goles||0),0),s=t.reduce((a,l)=>a+(l.x2||0),0),i=t.reduce((a,l)=>a+(l.x3||0),0);return m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores rivales (Villanos)"}),m.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:m.jsxs("table",{className:"table-auto border-collapse border mx-auto ",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-1 text-left",children:"Club"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"})]})}),m.jsxs("tbody",{children:[t.map((a,l)=>m.jsxs("tr",{className:"odd:bg-white even:bg-slate-100 hover:bg-slate-100 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",children:l+1}),m.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:a.nombrePretty}),m.jsx("td",{className:"border px-2 py-1 text-left",children:a.clubPretty||""}),m.jsx("td",{className:"border px-2 py-1 text-center",children:a.goles}),m.jsx("td",{className:"border px-2 py-1 text-center",children:a.x2}),m.jsx("td",{className:"border px-2 py-1 text-center",children:a.x3})]},`${a.nombre}-${a.club}`)),m.jsxs("tr",{children:[m.jsx("td",{className:"border px-2 py-1 text-right text-black font-bold ",colSpan:3,children:"TOTALES"}),m.jsx("td",{className:"border px-2 py-1 text-center ",children:e}),m.jsx("td",{className:"border px-2 py-2 text-center",children:s}),m.jsx("td",{className:"border px-2 py-2 text-center",children:i})]})]})]})})]})},m4=({matches:n=[]})=>{const t=F.useMemo(()=>{const e=new Map;return(Array.isArray(n)?n:[]).forEach(s=>{(Array.isArray(s?.goleadoresActiveClub)?s.goleadoresActiveClub:[]).forEach(a=>{if(!a||!!!a.expulsion)return;const u=(a.name||a.nombre||"").trim();u&&e.set(u,(e.get(u)||0)+1)})}),Array.from(e.entries()).map(([s,i])=>({nombre:s,expulsiones:i})).sort((s,i)=>i.expulsiones-s.expulsiones||s.nombre.localeCompare(i.nombre))},[n]);return t.length?m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:"Expulsados"}),m.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:m.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),m.jsx("tbody",{children:t.map((e,s)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:s+1}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:Ie(e.nombre)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:e.expulsiones})]},e.nombre))})]})})]}):m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin expulsados "})},p4=({matches:n=[]})=>{const t=F.useMemo(()=>{const e=new Map;return(Array.isArray(n)?n:[]).forEach(s=>{(Array.isArray(s?.goleadoresRivales)?s.goleadoresRivales:[]).forEach(a=>{if(!a||!!!a.expulsion)return;const u=(a.name||a.nombre||"").trim(),h=(a.club||a.equipo||a.rival||"").trim();if(!u)return;const f=`${u}||${h}`;e.set(f,(e.get(f)||0)+1)})}),Array.from(e.entries()).map(([s,i])=>{const[a,l]=s.split("||");return{nombre:a,club:l,expulsiones:i}}).sort((s,i)=>i.expulsiones-s.expulsiones||s.club.localeCompare(i.club,"es",{sensitivity:"base"})||s.nombre.localeCompare(i.nombre,"es",{sensitivity:"base"}))},[n]);return t.length?m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:"Carniceros"}),m.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:m.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Club"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),m.jsx("tbody",{children:t.map((e,s)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:s+1}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:Ie(e.nombre)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:Ie(e.club)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:e.expulsiones})]},e.nombre))})]})})]}):m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin Carniceros "})},Jg=n=>n===0?{bg:"bg-amber-50",icon:"",isTop3:!0}:n===1?{bg:"bg-slate-50",icon:"",isTop3:!0}:n===2?{bg:"bg-orange-50/40",icon:"",isTop3:!0}:{bg:"bg-white",icon:`${n+1}`,isTop3:!1},g4=({playersStats:n={},topN:t=7,mode:e="horizontal",className:s="",years:i=[],data:a=null,showHomeAway:l=!1})=>{const u=k=>k?k.triplete||k.hattrick?3:k.doblete?2:k.gol?1:typeof k.goals=="number"?k.goals:0:0,h=k=>{const j=k?.torneoYear??k?.tournamentYear??k?.year??k?.anio;if(j!=null)return String(j);const O=k?.torneoKey||k?.tournamentKey||k?.torneo||k?.competitionKey||"",B=String(O).match(/(\d{4})/);return B?B[1]:null},f=ur.useMemo(()=>{const k=a?.matches;if(!Array.isArray(k)||k.length===0)return null;const j=new Set((i||[]).map(String)),O={},B={},z={},H=A=>String(A||"").toLowerCase().trim();for(const A of k){const R=h(A);if(j.size>0&&(!R||!j.has(String(R))))continue;const I=H(A?.condition),M=Array.isArray(A?.goleadoresActiveClub)?A.goleadoresActiveClub:[];for(const U of M){if(U?.isOwnGoal)continue;const V=U?.name,L=u(U);!V||L<=0||(O[V]=(O[V]||0)+L,I==="local"&&(B[V]=(B[V]||0)+L),I==="visitante"&&(z[V]=(z[V]||0)+L))}}return{all:O,local:B,visitante:z}},[a,i]);[...Object.keys(n||{}),...f?.all?Object.keys(f.all):[]];const g=(k,j)=>Object.entries(k||{}).map(([O,B])=>({name:O,goals:B})).filter(O=>O.goals>0).sort((O,B)=>{const z=B.goals-O.goals;return z!==0?z:O.name.toLowerCase().localeCompare(B.name.toLowerCase())}).slice(0,j),x=f?g(f.all,t):[],b=Math.floor(t/2),w=f?g(f.local,b):[],T=f?g(f.visitante,b):[];if(x.length===0)return null;const S=i?.length?[...new Set(i.map(String))].sort().join(" / "):"",E=({title:k,list:j})=>{const O=(j||[]).reduce((B,z)=>B+(z.goals||0),0);return m.jsxs("div",{className:"w-max rounded-lg border border-slate-200 bg-white shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-3 py-2 border-b border-slate-200 text-[10px] font-semibold tracking-wide text-center uppercase text-slate-800 bg-sky-50",children:k}),m.jsx("table",{className:"w-full text-[11px] border-collapse",children:m.jsxs("tbody",{children:[!j||j.length===0?m.jsx("tr",{children:m.jsx("td",{className:"px-3 py-3 text-center text-slate-500",colSpan:3,children:"Sin goles"})}):j.map((B,z)=>m.jsxs("tr",{className:"border-b border-slate-100",children:[m.jsx("td",{className:"px-2 py-2 text-center align-middle w-12",children:m.jsx("span",{className:"inline-flex items-center justify-center w-9 rounded-full bg-slate-50 ring-1 ring-slate-200 text-base leading-none",children:Jg(z).icon})}),m.jsx("td",{className:"px-2 py-2 text-left",children:m.jsx("div",{className:"text-[12px] font-medium text-slate-800",children:Ie(B.name)})}),m.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-bold text-slate-900 w-12",children:B.goals})]},B.name)),(j||[]).length>0&&m.jsxs("tr",{className:"bg-slate-50 border-t border-slate-200",children:[m.jsx("td",{className:"px-2 py-2 text-center font-semibold text-slate-700",colSpan:2,children:"Total"}),m.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-extrabold text-slate-900",children:O})]})]})})]})};if(e==="vertical"){const k=i?.length?[...new Set(i.map(String))].sort().join(" / "):"";return m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold mb-2 text-center",children:" Goleadores del Ao "}),m.jsxs("div",{className:`${s} flex items-start justify-center gap-3`,children:[m.jsx(E,{title:`Goleadores ${k}`,list:x}),l&&m.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[m.jsx(E,{title:`Local ${k}`,list:w}),m.jsx(E,{title:`Visitante ${k}`,list:T})]})]})]})}return m.jsx("div",{className:`mt-4 ${s} md:hidden sm:hidden lg:block`,children:m.jsxs("div",{className:"w-full",children:[m.jsx("div",{className:"mb-2",children:m.jsxs("div",{className:"w-full text-center text-[15px] font-semibold tracking-wide uppercase text-slate-800",children:["Goleadores ",S]})}),m.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-400 bg-white",children:m.jsx("table",{className:"w-full min-w-max text-[11px] border-collapse",children:m.jsxs("tbody",{children:[m.jsx("tr",{className:"bg-sky-50 border-b border-slate-400",children:x.map((k,j)=>{const{icon:O}=Jg(j),B=j===x.length-1;return m.jsx("td",{className:"px-3 py-2 text-center whitespace-nowrap font-semibold text-slate-700"+(B?"":" border-r border-white/70"),children:O},`r-${k.name}`)})}),m.jsx("tr",{className:"border-b border-slate-100",children:x.map((k,j)=>{const O=j===x.length-1;return m.jsx("td",{className:"px-2 py-2 text-center whitespace-nowrap tabular-nums font-bold text-slate-900 text-lg"+(O?"":" border-r border-slate-100"),children:k.goals},`g-${k.name}`)})}),m.jsx("tr",{children:x.map((k,j)=>{const{bg:O,isTop3:B}=Jg(j),z=j===x.length-1;return m.jsx("td",{className:`px-2 py-2 text-center whitespace-nowrap text-sm ${O} `+(B?"font-semibold text-slate-800":"text-slate-700")+(z?"":" border-r border-slate-100"),children:Ie(k.name)},`n-${k.name}`)})})]})})})]})})},y4=["gol","doblete","triplete","hattrick"];function aa(n){return String(n??"").trim().toLowerCase()}function x4(n){return!n||typeof n!="object"?!1:y4.some(t=>n[t]===!0)}function Mw(n){const t=Array.isArray(n?.starters)?n.starters:[],e=Array.isArray(n?.substitutes)?n.substitutes:[];return new Set([...t,...e].map(aa).filter(Boolean))}function Ow(n,t){const e=Array.isArray(n?.goleadoresActiveClub)?n.goleadoresActiveClub:[],s=new Set;for(const i of e){const a=aa(i?.name);if(!a)continue;const l=i?.activeClub?aa(i.activeClub):null;l&&t&&l!==t||x4(i)&&s.add(a)}return s}function Zg({matchesSorted:n,playersActive:t,clubLower:e,mode:s}){const i=s==="all"?n:n.filter(l=>aa(l?.condition)===s),a=[];for(const l of t){let u=-1;for(let x=0;x<i.length;x++){const b=i[x];if(!Mw(b).has(l))continue;Ow(b,e).has(l)&&(u=x)}if(u===-1)continue;let h=0,f=null;for(let x=u+1;x<i.length;x++){const b=i[x];if(!Mw(b).has(l))continue;if(Ow(b,e).has(l)){h=0,f=null,u=x;continue}h+=1,f=b}if(h<3)continue;const g=i[u];a.push({player:l,drought:h,rival:g?.rival??"",rivalUltimoSinGol:f?.rival??""})}return a.sort((l,u)=>u.drought-l.drought),a}function t0({title:n,rows:t}){const[e,s]=F.useState(null);return m.jsxs("div",{className:"rounded-lg border border-slate-200 overflow-hidden bg-white",children:[m.jsx("div",{className:"bg-slate-50 px-2 py-1 border-b border-slate-200",children:m.jsx("h2",{className:"text-[14px] text-center font-semibold",children:n})}),t.length===0?m.jsx("div",{className:"px-2 py-2 text-[11px] opacity-70",children:"No hay jugadores con racha negativa para mostrar."}):m.jsxs("table",{className:"w-full table-fixed text-[11px]",children:[m.jsx("thead",{className:"bg-slate-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-1 w-max text-left",children:"Jugador"}),m.jsx("th",{className:"px-2 py-1 w-[30px] text-left",children:"Racha"}),m.jsx("th",{className:"px-2 py-1 w-max",children:"Rival"})]})}),m.jsx("tbody",{children:t.map(i=>m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"px-2 py-1 capitalize truncate whitespace-nowrap",children:i.player}),m.jsx("td",{className:" text-center px-2 py-1 font-semibold whitespace-nowrap bg-amber-100",children:i.drought}),m.jsx("td",{className:"px-2 py-1",children:m.jsx("button",{type:"button",onClick:()=>s(e===`${i.player}-${n}`?null:`${i.player}-${n}`),className:"block w-full text-left "+(e===`${i.player}-${n}`?"whitespace-normal break-words":"truncate whitespace-nowrap"),title:i.rival,children:i.rival})})]},`${i.player}-${n}`))})]})]})}const b4=({data:n})=>{const t=F.useMemo(()=>{const e=n??{},s=aa(e?.label)||aa(e?.matches?.[0]?.club)||"",i=(Array.isArray(e?.players)?e.players:[]).map(aa).filter(Boolean),a=new Set(i),u=[...(Array.isArray(e?.matches)?e.matches:[]).filter(x=>aa(x?.club)===s)].sort((x,b)=>(x?.createdAt??0)-(b?.createdAt??0)),h=Zg({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"all"}),f=Zg({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"local"}),g=Zg({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"visitante"});return{clubLower:s,rowsAll:h,rowsLocal:f,rowsVisitante:g}},[n]);return m.jsxs("div",{className:"p-2",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Racha de Sequa Goleadora"}),m.jsxs("div",{className:"mt-1 text-sm opacity-70",children:["Club: ",m.jsx("span",{className:"capitalize",children:t.clubLower})]}),m.jsxs("div",{className:"flex items-start justify-center gap-3",children:[m.jsx(t0,{title:"General",rows:t.rowsAll}),m.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[m.jsx(t0,{title:"Local",rows:t.rowsLocal}),m.jsx(t0,{title:"Visitante",rows:t.rowsVisitante})]})]})]})},v4=[{value:"nombre",label:"Nombre"},{value:"pj",label:"PJ"},{value:"goles",label:"Goles"},{value:"x2",label:"x2"},{value:"x3",label:"x3"},{value:"prom",label:"Promedio"}],_4=[{value:"asc",label:"Ascendente"},{value:"desc",label:"Descendente"}],w4=({ambito:n,ordenCampo:t,setOrdenCampo:e,ordenDireccion:s,setOrdenDireccion:i,goleadoresOrdenados:a})=>{const l=g=>!g||Number.isNaN(g)?"0.00":Number(g).toFixed(2),u="bg-slate-200/60",h=n==="general"?"General":n==="local"?"Local":"Visitante",f=ur.useMemo(()=>{const g=a||[],x=g.reduce((E,k)=>E+(k?.[n]?.goles||0),0),b=g.reduce((E,k)=>E+(k?.[n]?.x2||0),0),w=g.reduce((E,k)=>E+(k?.[n]?.x3||0),0),T=g.reduce((E,k)=>E+(k?.[n]?.prom||0),0),S=g.length?T/g.length:0;return{totalGoles:x,totalx2:b,totalx3:w,promProms:Number(S).toFixed(2)}},[a,n]);return a?.length?m.jsxs("div",{className:"mt-1",children:[m.jsxs("div",{className:"mb-2 flex flex-wrap items-end justify-center gap-3",children:[m.jsxs("label",{className:"w-max max-w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Campo"}),m.jsx("select",{value:t,onChange:g=>e(g.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
              focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:v4.map(g=>m.jsx("option",{value:g.value,children:g.label},g.value))})]}),m.jsxs("label",{className:"w-full max-w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Orden"}),m.jsx("select",{value:s,onChange:g=>i(g.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
              focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:_4.map(g=>m.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),m.jsx("div",{className:"sm:hidden max-h-[80vh] overflow-auto border rounded",children:m.jsxs("table",{className:"w-full border-collapse text-[11px] tabular-nums",children:[m.jsx("thead",{className:"sticky top-0 z-20 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-2 text-left",children:"Jugador"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${t==="pj"?u:""}`,children:"PJ"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${t==="goles"?u:""}`,children:"G"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${t==="x2"?u:""}`,children:"x2"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${t==="x3"?u:""}`,children:"x3"}),m.jsx("th",{className:`border px-2 py-2 text-center w-16 ${t==="prom"?u:""}`,children:"Prom"})]})}),m.jsxs("tbody",{children:[a.map((g,x)=>{const b=g?.[n]||{};return m.jsxs("tr",{className:"odd:bg-white even:bg-slate-100/60 active:bg-slate-400/60 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center font-bold",children:x+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold",children:m.jsx("div",{className:"font-bold text-[14px] leading-tight truncate max-w-[180px]",title:Ie(g.nombre),children:Ie(g.nombre)})}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.pj??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.goles??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.x2??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.x3??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:l(b.prom??0)})]},g.nombre)}),a.length>0&&m.jsxs("tr",{className:"bg-slate-200 font-bold",children:[m.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalGoles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalx2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalx3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.promProms})]})]})]})}),m.jsx("div",{className:"hidden sm:block max-h-[80vh] overflow-auto",children:m.jsxs("table",{className:"table-fixed border-collapse mx-auto min-w-[520px] md:min-w-[620px] text-[11px] md:text-sm tabular-nums",children:[m.jsx("thead",{className:"sticky top-0 z-20",children:m.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[m.jsx("th",{className:"border px-2 py-2 text-center sticky left-0 bg-slate-100 z-20 w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-2 text-left sticky left-10 bg-slate-100 z-20 w-40",children:"Jugador"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${t==="pj"?u:""}`,children:"PJ"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${t==="goles"?u:""}`,children:"G"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${t==="x2"?u:""}`,children:"x2"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${t==="x3"?u:""}`,children:"x3"}),m.jsx("th",{className:`border px-2 py-2 text-center w-16 ${t==="prom"?u:""}`,children:"P"})]})}),m.jsxs("tbody",{children:[a.map((g,x)=>{const b=g?.[n]||{};return m.jsxs("tr",{className:"even:bg-slate-200 hover:bg-slate-100/70 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center sticky left-0 bg-white z-10 w-10",children:x+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold sticky left-10 bg-white z-10 w-40 max-w-[220px] whitespace-nowrap overflow-hidden text-ellipsis",children:Ie(g.nombre)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.pj??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.goles??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.x2??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.x3??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:l(b.prom??0)})]},g.nombre)}),a.length>0&&m.jsxs("tr",{className:"bg-slate-200 font-bold",children:[m.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalGoles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalx2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalx3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.promProms})]})]})]})}),m.jsxs("div",{className:"mt-2 text-center text-xs text-slate-500",children:["Vista: ",m.jsx("span",{className:"font-semibold",children:h})]})]}):m.jsxs("p",{className:"text-center text-sm text-slate-500 mt-4",children:["No hay goleadores para ",h,"."]})},Pw={campo:"goles",dir:"desc"},E4=({scope:n,matches:t})=>{const e=Array.isArray(t)?t:[],[s,i]=F.useState(Pw.campo),[a,l]=F.useState(Pw.dir),u=F.useMemo(()=>{const h={},f=T=>T?T.dobleHattrick?6:T.manito?5:T.poker?4:T.hattrick||T.triplete?3:T.doblete?2:T.gol?1:0:0,g=T=>T?String(T).toLowerCase().includes("__og__"):!1;e.forEach(T=>{let S=(T?.condition||"").toString().toLowerCase();S||(T?.local===!0?S="local":T?.local===!1&&(S="visitante"));const E=["general"];S==="local"?E.push("local"):S==="visitante"?E.push("visitante"):(S==="neutral"||S==="neutro")&&E.push("neutro");const k=[...Array.isArray(T?.starters)?T.starters:[],...Array.isArray(T?.substitutes)?T.substitutes:[]],j={};k.forEach(B=>{const z=B?.toString().trim();!z||g(z)||(h[z]||(h[z]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),j[z]||(j[z]=new Set),E.forEach(H=>j[z].add(H)))}),(Array.isArray(T?.goleadoresActiveClub)?T.goleadoresActiveClub:[]).forEach(B=>{const z=(B?.name||B?.nombre||"").toString().trim();if(!z||g(z))return;const H=f(B);H&&(h[z]||(h[z]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),E.forEach(A=>{h[z][A].goles+=H,H===2&&(h[z][A].x2+=1),H===3&&(h[z][A].x3+=1)}))}),Object.entries(j).forEach(([B,z])=>{z.forEach(H=>{h[B][H].pj+=1})})});const x=T=>{const S=T.pj||0,E=T.goles||0;return{...T,pj:S,goles:E,x2:T.x2||0,x3:T.x3||0,prom:S>0?E/S:0}};return Object.entries(h).map(([T,S])=>({nombre:T,general:x(S.general),local:x(S.local),visitante:x(S.visitante),neutro:x(S.neutro)})).filter(T=>(T?.[n]?.goles??0)>0).sort((T,S)=>{const E=T.nombre.toLowerCase(),k=S.nombre.toLowerCase();if(s==="nombre")return a==="asc"?E.localeCompare(k):k.localeCompare(E);const j=T?.[n]?.[s]??0,O=S?.[n]?.[s]??0,B=a==="asc"?j-O:O-j;return B!==0?B:E.localeCompare(k)})},[e,n,s,a]);return e.length?m.jsx(w4,{ambito:n,ordenCampo:s,setOrdenCampo:i,ordenDireccion:a,setOrdenDireccion:l,goleadoresOrdenados:u}):m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."})},T4=({matches:n})=>{const[t,e]=F.useState("general");return m.jsxs("div",{className:"mt-2",children:[m.jsx("h2",{className:"text-xl font-bold mb-2 text-center",children:" Goleadores del equipo"}),m.jsx("div",{className:"mb-1 flex justify-center gap-2",children:["general","local","visitante"].map(s=>m.jsx("button",{type:"button",onClick:()=>e(s),className:`rounded-xl border px-3 py-2 text-sm shadow-sm transition w-full
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
        ${t===s?"bg-blue-600 text-white border-blue-700":"bg-white text-slate-800 border-slate-300 hover:bg-slate-50"}`,children:s==="general"?"General":s==="local"?"Local":"Visitante"},s))}),m.jsx(E4,{scope:t,matches:n})]})},G0=n=>n===0?{bg:"bg-emerald-50",icon:"",isTop3:!0}:n===1?{bg:"bg-slate-50",icon:"",isTop3:!0}:n===2?{bg:"bg-orange-50/40",icon:"",isTop3:!0}:{bg:"bg-white",icon:`${n+1}`,isTop3:!1},S4=n=>n?n.triplete||n.hattrick?3:n.doblete?2:n.gol?1:typeof n.goals=="number"?n.goals:0:0,N4=n=>{const t=n?.fecha||n?.createdAt;if(t){const s=typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)?new Date(`${t}T00:00:00`):new Date(t);if(!Number.isNaN(s.getTime())){const i=s.getFullYear();return s.getMonth()+1>=7?`${i}-${i+1}`:`${i-1}-${i}`}}const e=n?.torneoYear??n?.tournamentYear??n?.year??n?.anio;return e!=null?String(e):null},e0=(n,t)=>Object.entries(n||{}).map(([e,s])=>({name:e,goals:s})).filter(e=>e.goals>0).sort((e,s)=>{const i=s.goals-e.goals;return i!==0?i:e.name.toLowerCase().localeCompare(s.name.toLowerCase())}).slice(0,t),n0=({title:n,list:t})=>{const e=(t||[]).reduce((s,i)=>s+(i.goals||0),0);return m.jsxs("div",{className:"w-max rounded-lg border border-slate-200 bg-white shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-3 py-2 border-b border-slate-200 text-[10px] font-semibold tracking-wide text-center uppercase text-slate-800 bg-emerald-50",children:n}),m.jsx("table",{className:"w-full text-[11px] border-collapse",children:m.jsxs("tbody",{children:[!t||t.length===0?m.jsx("tr",{children:m.jsx("td",{className:"px-3 py-3 text-center text-slate-500",colSpan:3,children:"Sin goles"})}):t.map((s,i)=>m.jsxs("tr",{className:"border-b border-slate-100",children:[m.jsx("td",{className:"px-2 py-2 text-center align-middle w-12",children:m.jsx("span",{className:"inline-flex items-center justify-center w-9 rounded-full bg-slate-50 ring-1 ring-slate-200 text-base leading-none",children:G0(i).icon})}),m.jsx("td",{className:"px-2 py-2 text-left",children:m.jsx("div",{className:"text-[12px] font-medium text-slate-800",children:Ie(s.name)})}),m.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-bold text-slate-900 w-12",children:s.goals})]},s.name)),(t||[]).length>0&&m.jsxs("tr",{className:"bg-slate-50 border-t border-slate-200",children:[m.jsx("td",{className:"px-2 py-2 text-center font-semibold text-slate-700",colSpan:2,children:"Total"}),m.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-extrabold text-slate-900",children:e})]})]})})]})},A4=({playersStats:n={},topN:t=15,mode:e="vertical",className:s="",years:i=[],data:a=null,showHomeAway:l=!1})=>{const u=ur.useMemo(()=>{const w=a?.matches;if(!Array.isArray(w)||w.length===0)return null;const T=new Set((i||[]).map(String)),S={},E={},k={},j=O=>String(O||"").toLowerCase().trim();for(const O of w){const B=N4(O);if(T.size>0&&(!B||!T.has(String(B))))continue;const z=j(O?.condition),H=Array.isArray(O?.goleadoresActiveClub)?O.goleadoresActiveClub:[];for(const A of H){if(A?.isOwnGoal)continue;const R=A?.name,I=S4(A);!R||I<=0||(S[R]=(S[R]||0)+I,z==="local"&&(E[R]=(E[R]||0)+I),z==="visitante"&&(k[R]=(k[R]||0)+I))}}return{all:S,local:E,visitante:k}},[a,i]),h=u?e0(u.all,t):[],f=Math.floor(t/2),g=u?e0(u.local,f):[],x=u?e0(u.visitante,f):[];if(h.length===0)return null;const b=i?.length?[...new Set(i.map(String))].sort((w,T)=>parseInt(w.slice(0,4),10)-parseInt(T.slice(0,4),10)).join(" / "):"";return e==="vertical"?m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold mb-1 text-center",children:" Goleadores de la Temporada"}),m.jsxs("div",{className:`${s} flex items-start justify-center gap-3`,children:[m.jsx(n0,{title:`General ${b}`,list:h}),l&&m.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[m.jsx(n0,{title:`Local ${b}`,list:g}),m.jsx(n0,{title:`Visitante ${b}`,list:x})]})]})]}):m.jsxs("div",{className:`mt-4 ${s}`,children:[m.jsxs("div",{className:"w-full text-center text-[15px] font-semibold tracking-wide uppercase text-slate-800",children:["Temporada ",b]}),m.jsx("div",{className:"text-center text-[11px] text-slate-500 mb-2",children:"01/07  30/06"}),m.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-300 bg-white",children:m.jsx("table",{className:"w-full min-w-max text-[11px] border-collapse",children:m.jsxs("tbody",{children:[m.jsx("tr",{className:"bg-emerald-50 border-b border-slate-200",children:h.map((w,T)=>m.jsx("td",{className:"px-3 py-2 text-center font-semibold text-slate-700",children:G0(T).icon},`r-${w.name}`))}),m.jsx("tr",{className:"border-b border-slate-100",children:h.map(w=>m.jsx("td",{className:"px-2 py-2 text-center tabular-nums font-bold text-slate-900 text-lg",children:w.goals},`g-${w.name}`))}),m.jsx("tr",{children:h.map((w,T)=>{const{bg:S,isTop3:E}=G0(T);return m.jsx("td",{className:`px-2 py-2 text-center whitespace-nowrap text-sm ${S} ${E?"font-semibold text-slate-800":"text-slate-700"}`,children:Ie(w.name)},`n-${w.name}`)})})]})})})]})},C4=n=>{const t=n?.fecha||n?.createdAt;if(t){const e=typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)?new Date(`${t}T00:00:00`):new Date(t);if(!Number.isNaN(e.getTime())){const s=e.getFullYear();return e.getMonth()+1>=7?`${s}-${s+1}`:`${s-1}-${s}`}}return null},k4=n=>n?String(n).replace(/_/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,t=>t.toUpperCase()):"",R4=()=>{const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn();zs(n,e,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||[]),[h,f]=F.useState(s?.activeClub||u[0]||""),g=Et(h||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},w=(b.players?.length??0)>0,T=(b.formations?.length??0)>0,S=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!w&&!T&&!S)return m.jsx(Vs,{to:"/formacion",replace:!0});F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const E=Array.isArray(a?.matches)?a.matches:[],[k,j]=F.useState("scorers"),O=Array.from(new Set(E.map(H=>H?.torneoYear??H?.tournamentYear??H?.year??H?.anio).filter(H=>H!=null).map(String))).sort(),B=Array.from(new Set(E.map(C4).filter(Boolean))).sort((H,A)=>parseInt(A.slice(0,4),10)-parseInt(H.slice(0,4),10)),z=[{value:"scorers",label:"Scorers"},{value:"campeonatos",label:"Campeonato"},{value:"ao",label:"Ao"},{value:"europa",label:"Ao Europeo"},{value:"racha",label:"Rachas de Sequa Goleadora"},{value:"villanos",label:"Villanos"},{value:"carniceros",label:"Carniceros"},{value:"expulsados",label:"Expulsados"},{value:"goleadores",label:"Goleadores"}];return m.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[m.jsx("h1",{className:"text-center text-3xl mt-2 ",children:" Scorers"}),m.jsxs("div",{className:"mb-1 flex items-end justify-center gap-2",children:[m.jsxs("label",{className:"w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{value:h,onChange:H=>f(H.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:u.map(H=>m.jsx("option",{value:H,children:k4(H)},H))})]}),m.jsxs("label",{className:"w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Vista"}),m.jsx("select",{value:k,onChange:H=>j(H.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:z.map(H=>m.jsx("option",{value:H.value,children:H.label},H.value))})]})]}),k==="scorers"&&m.jsx(T4,{matches:E}),k==="goleadores"&&m.jsx(d4,{matches:E}),k==="campeonatos"&&m.jsx(h4,{matches:E,bucket:x}),k==="europa"&&m.jsx("div",{className:"flex flex-col gap-4",children:B.map(H=>m.jsx(A4,{mode:"vertical",topN:15,years:[H],data:a,showHomeAway:!0},H))}),k==="villanos"&&m.jsx(f4,{matches:E}),k==="expulsados"&&m.jsx(m4,{matches:E}),k==="carniceros"&&m.jsx(p4,{matches:E}),k==="racha"&&m.jsx(b4,{data:a}),k==="ao"&&m.jsx("div",{className:"flex flex-col gap-4",children:O.slice().sort((H,A)=>A-H).map(H=>m.jsx(g4,{mode:"vertical",topN:15,years:[H],data:a,showHomeAway:!0},H))})]})},I4=n=>{const t="inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] md:text-xs font-semibold border";switch(n){case"campeon":return`${t} bg-emerald-50 text-emerald-700 border-emerald-200`;case"subcampeon":return`${t} bg-amber-50 text-amber-700 border-amber-200`;case"3ro":case"tercero":return`${t} bg-sky-50 text-sky-700 border-sky-200`;default:return`${t} bg-slate-50 text-slate-700 border-slate-200`}},j4=n=>{const t=e=>typeof e=="number"?e:parseInt(String(e),10);return[...n].sort((e,s)=>{const i=t(e),a=t(s),l=Number.isNaN(i),u=Number.isNaN(a);return l&&u?String(e).localeCompare(String(s)):l?1:u?-1:a-i})},D4=()=>{const{uid:n}=pn(),[t,e]=F.useState([]),[s,i]=F.useState(!0),{state:a,dispatch:l}=rs(),{state:u,dispatch:h}=Xn();zs(n,l,h);const[f,g]=F.useState(null),x=Object.keys(u?.lineups||[]),[b,w]=F.useState(u?.activeClub||x[0]||""),T=Et(b||""),S=T?u?.lineups?.[T]:null,E=u?.lineups?.[T]||{},k=(E.players?.length??0)>0,j=(E.formations?.length??0)>0,O=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!T||!k&&!j&&!O)return m.jsx(Vs,{to:"/formacion",replace:!0});F.useEffect(()=>{S&&Object.keys(S).length!==0&&g(S)},[S]),F.useEffect(()=>{if(!n){e([]),i(!1);return}(async()=>{try{i(!0);const H=LS(Dn,"palmares"),A=$S(H,GS("uid","==",n)),I=(await YS(A)).docs.map(M=>({id:M.id,...M.data()}));e(I)}catch(H){console.error("Error cargando palmars:",H),e([])}finally{i(!1)}})()},[n]);const B=F.useMemo(()=>{if(!t.length)return[];const z=new Map;return t.forEach(A=>{const R=A.year??"Sin ao";z.has(R)||z.set(R,[]),z.get(R).push(A)}),j4(Array.from(z.keys())).map(A=>{const R=z.get(A)||[];return R.sort((I,M)=>String(I.torneoDisplay||"").localeCompare(String(M.torneoDisplay||""))),{year:A,campeonatos:R}})},[t]);return m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:" Palmars"}),s&&m.jsx("div",{className:"text-center text-sm text-slate-500 mt-6",children:"Cargando palmars..."}),!s&&!t.length&&m.jsxs("div",{className:"text-center text-sm text-slate-500 mt-6",children:["Todava no guardaste resultados de campeonatos.",m.jsx("br",{}),"Us la pantalla ",m.jsx("span",{className:"font-semibold",children:"Campeonatos"})," ","para marcar la posicin final en cada torneo."]}),!s&&B.map(({year:z,campeonatos:H})=>m.jsxs("section",{className:"mb-6",children:[m.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"w-8 h-px bg-slate-300 md:w-12"}),m.jsx("h2",{className:"text-sm md:text-base font-semibold text-slate-700",children:Number.isNaN(parseInt(String(z),10))?String(z):z}),m.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),m.jsx("div",{className:"space-y-2",children:H.map(A=>m.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-baseline justify-between gap-3 px-3 py-2 rounded-lg bg-white border border-slate-100 shadow-sm",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[12px] md:text-sm font-medium text-slate-900",children:A.torneoDisplay||"Sin nombre"}),A.clubName&&m.jsx("span",{className:"text-[10px] md:text-xs text-slate-500",children:Ct(A.clubName)}),A.matchesCount!=null&&m.jsxs("span",{className:"text-[10px] text-slate-400 mt-0.5",children:[A.matchesCount," partido",A.matchesCount===1?"":"s"]})]}),m.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:A.resultado&&m.jsx("span",{className:I4(A.resultado),children:A.resultadoLabel||A.resultado})})]},A.id))})]},z))]})},uN=[{value:"",label:"Sin definir"},{value:"campeon",label:"Campen"},{value:"subcampeon",label:"Sub Campen"},{value:"3ro",label:"Tercero"},{value:"4to",label:"Cuarto"},{value:"5to",label:"Quinto"},{value:"6to",label:"Sexto"},{value:"7mo",label:"Sptimo"},{value:"8vo",label:"Octavo"},{value:"9no",label:"Noveno"},{value:"10mo",label:"Dcimo"},{value:"lejos",label:"Lejos"},{value:"fase de grupos",label:"Fase de Grupos"},{value:"16 avos de final",label:"16 avos de Final"},{value:"32 avos de final",label:"32 avos de Final"},{value:"octavos de final",label:"Octavos de Final"},{value:"cuartos de final",label:"Cuartos de Final"},{value:"semi Final",label:"Semi Final"}],hN=n=>{const t=n?.fecha||n?.createdAt;if(!t)return"";const e=typeof t=="string"?new Date(`${t}T00:00:00`):new Date(t);if(Number.isNaN(e.getTime()))return"";const s=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0");return`${s}/${i}`},dN=n=>{switch(n){case"ganado":return"bg-emerald-100 text-emerald-800 font-semibold";case"empatado":return"bg-amber-100 text-amber-800 font-semibold";case"perdido":return"bg-rose-100 text-rose-800 font-semibold";default:return"bg-slate-100 text-slate-700"}},M4=n=>String(n??"").trim(),O4=n=>n?.isOwnGoal===!0||M4(n?.name).toLowerCase()==="__og__",Wf=n=>O4(n)?"En contra":Ie(n?.name),fN=n=>n?n.triplete||n.hattrick?3:n.doblete?2:n.gol?1:0:0,mN=n=>{const e=(Array.isArray(n.goleadoresActiveClub)?n.goleadoresActiveClub:[]).map(s=>{const i=fN(s);return!s.name||i<=0?null:i===1?`${Wf(s)}`:`${Wf(s)} (${i})`}).filter(Boolean);return e.length?e.join(", "):""},pN=n=>{const e=(Array.isArray(n.goleadoresRivales)?n.goleadoresRivales:[]).map(s=>{const i=fN(s);return!s.name||i<=0?null:i===1?`${Wf(s)}`:`${Wf(s)} (${i})`}).filter(Boolean);return e.length?e.join(", "):""},Lw=n=>String(n??"").trim().toLowerCase().replace(/\s+/g," "),Vw=(n,t={})=>{const e=n?.torneoName||n?.torneo||n?.torneoDisplay||"Sin torneo",s=Sm({torneoName:e,torneoYear:n?.torneoYear,fecha:n?.fecha||n?.createdAt,torneosConfig:t}),i=/\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,a=String(s).match(i),l=a?a[0].replace(/\s+/g,""):null;return{base:l?String(s).replace(a[0],"").trim():String(s).trim(),season:l}},gN=n=>{if(n?.year)return n.year;if(!n||!Array.isArray(n.matches)||!n.matches.length)return null;const t=Array.from(new Set(n.matches.map(e=>e.torneoYear).filter(e=>e!=null)));return t.length?t[0]:null},P4=({duplicadosPorFecha:n,prettySafe:t,getCampTitleFromMatch:e})=>n?.length?m.jsxs("div",{className:"mx-auto mb-4 max-w-3xl rounded-xl border border-amber-300 bg-amber-50 p-3 text-amber-900 shadow-sm",children:[m.jsxs("div",{className:"font-semibold text-sm",children:[" Hay ",n.length," fecha",n.length!==1?"s":""," con 2+ partidos cargados"]}),m.jsx("div",{className:"mt-2 space-y-2 text-[12px]",children:n.map(([s,i])=>m.jsxs("div",{className:"rounded-lg border border-amber-200 bg-white/60 p-2",children:[m.jsxs("div",{className:"font-semibold tabular-nums",children:["Fecha: ",s]}),m.jsx("ul",{className:"mt-1 list-disc pl-5 space-y-1",children:i.map(a=>m.jsxs("li",{children:[m.jsx("span",{className:"font-medium",children:t(a.resultMatch||"Sin resultado")}),"  ","vs ",t(a.rival||"Sin rival"),"  ",m.jsx("span",{className:"text-slate-700",children:e(a)})]},a.id||`${a.fecha}-${a.rival}-${a.resultMatch}`))})]},s))})]}):null,L4=({m:n,nroJuego:t,prettySafe:e,onEdit:s,onDelete:i})=>m.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden bg-white",children:[m.jsxs("div",{className:"flex items-center justify-start gap-2 px-3 py-2 bg-slate-100",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] tabular-nums",children:hN(n)}),m.jsx("span",{className:"text-slate-900 text-[10px]",children:n.captain?e(n.captain):""})]}),m.jsxs("div",{className:"text-[12px] flex flex-col",children:[m.jsxs("span",{className:"text-slate-700 text-left pl-10",children:["Fecha: ",t]}),m.jsx("span",{className:"w-max px-2 py-0.5 rounded-full text-[12px] whitespace-nowrap "+dN(n.final),children:e(n.resultMatch||"")})]}),m.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[m.jsx("button",{type:"button",className:"cursor-pointer disabled:opacity-40",disabled:!n.id,title:"Editar partido",onClick:()=>s(n),children:m.jsx("img",{src:"pencil.png",alt:"Editar",className:"h-6 w-6"})}),m.jsx("button",{type:"button",onClick:()=>i(n),className:"cursor-pointer",title:"Borrar partido",children:m.jsx("img",{src:"bas.png",alt:"Borrar",className:"h-6 w-6"})})]})]}),m.jsxs("div",{className:"px-3 py-2 text-[12px] bg-white",children:[m.jsxs("div",{className:"flex items-center justify-between px-1 text-[10px] uppercase tracking-wide text-slate-500",children:[m.jsxs("span",{className:"flex-1 text-center",children:["Goles ",n.club]}),m.jsxs("span",{className:"flex-1 text-center",children:["Goles ",n.rival]})]}),m.jsxs("div",{className:"mt-1 flex items-start justify-between px-4",children:[m.jsx("span",{className:"flex-1 text-center text-slate-800 break-words",children:mN(n)}),m.jsx("span",{className:"flex-1 text-center text-slate-800 break-words",children:pN(n)})]})]})]}),V4=({m:n,prettySafe:t,onEdit:e,onDelete:s})=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:hN(n)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:m.jsx("span",{className:"inline-block px-2 py-0.5 rounded-full text-[12px] whitespace-nowrap "+dN(n.final),children:t(n.resultMatch||"")})}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center",children:m.jsx("button",{type:"button",className:"cursor-pointer",disabled:!n.id,title:"Editar partido",onClick:()=>e(n),children:m.jsx("img",{src:"pencil.png",alt:"Editar",className:"inline-block h-6 w-6"})})}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:n.captain?t(n.captain):""}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:mN(n)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:pN(n)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center",children:m.jsx("button",{type:"button",onClick:()=>s(n),className:"inline-flex items-center justify-center cursor-pointer",title:"Borrar partido",children:m.jsx("img",{src:"bas.png",alt:"Borrar",className:"inline-block h-6 w-6"})})})]},n.id||`${n.fecha}-${n.rival}-${n.resultMatch}`),z4=async({uid:n,clubKey:t,camp:e,value:s})=>{if(!n||!e||!s)return;const i=gN(e),a=e.matches?.length||0,u=uN.find(x=>x.value===s)?.label||"",h=e.matches[0]||{},f=h.club||h.activeClubName||h.activeClub||t||"Sin club",g={uid:n,clubKey:t,clubName:f,torneoDisplay:e.nombre,resultado:s,resultadoLabel:u,matchesCount:a,year:i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const x=String(f).replace(/\s+/g,"_"),b=String(e.nombre).replace(/\s+/g,"_"),T=`${n}_${x}_${b}_${i??"NA"}`,S=Kn(Dn,"palmares",T);await rc(S,g,{merge:!0}),pt.Notify.success("Palmars guardado")}catch(x){pt.Notify.failure("Error al guardar palmars"),console.log("error: ",x)}},U4=({matches:n=[],torneosConfig:t={},clubKey:e,uid:s,onRefresh:i})=>{const a=th(),[l,u]=F.useState({}),h=T=>{const S=T?.fecha||T?.createdAt;if(!S)return null;if(typeof S=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(S))return S;const E=new Date(S);if(Number.isNaN(E.getTime()))return null;const k=E.getFullYear(),j=String(E.getMonth()+1).padStart(2,"0"),O=String(E.getDate()).padStart(2,"0");return`${k}-${j}-${O}`},f=T=>{const{base:S,season:E}=Vw(T,t);return`${Ie(S)}${E?` ${E}`:""}`},g=F.useMemo(()=>{if(!Array.isArray(n)||!n.length)return[];const T=new Map;return n.forEach(S=>{const E=h(S);E&&(T.has(E)||T.set(E,[]),T.get(E).push(S))}),Array.from(T.entries()).filter(([,S])=>S.length>1).sort(([S],[E])=>S.localeCompare(E))},[n]),x=F.useMemo(()=>{if(!Array.isArray(n))return[];const T=new Map;n.forEach(E=>{const{base:k,season:j}=Vw(E,t),O=`${Lw(k)}__${j??"NA"}`;T.has(O)||T.set(O,{key:O,nombre:k,year:j??null,matches:[],lastDate:null});const B=T.get(O);B.matches.push(E);const z=new Date(E.fecha||E.createdAt||0);(!B.lastDate||z>B.lastDate)&&(B.lastDate=z)});const S=Array.from(T.values());return S.forEach(E=>{E.matches.sort((k,j)=>{const O=new Date(k.fecha||k.createdAt||0).getTime();return new Date(j.fecha||j.createdAt||0).getTime()-O})}),S.sort((E,k)=>{const j=E.lastDate?E.lastDate.getTime():0;return(k.lastDate?k.lastDate.getTime():0)-j}),S},[n,t]);F.useEffect(()=>{(async()=>{if(s&&!(!x||!x.length))try{const S=new Set(x.map(B=>B.key)),E=LS(Dn,"palmares"),k=$S(E,GS("uid","==",s)),j=await YS(k),O={};j.forEach(B=>{const z=B.data(),H=z.resultado,A=Lw(z.torneoDisplay),R=z.year??null,I=`${A}__${R??"NA"}`;S.has(I)&&typeof H=="string"&&(O[I]=H)}),u(B=>({...B,...O}))}catch(S){console.error("Error cargando palmars:",S)}})()},[s,x]);const b=async(T,S)=>{const E=T.key;u(k=>({...k,[E]:S}));try{await z4({uid:s,clubKey:e,camp:T,value:S})}catch(k){console.error("Error guardando en palmares:",k)}};if(!n.length)return null;const w=T=>{G3({match:T,uid:s,clubKey:e,onDone:async()=>{typeof i=="function"&&await i()}})};return m.jsxs("div",{className:"mt-4",children:[m.jsx(P4,{duplicadosPorFecha:g,prettySafe:Ie,getCampTitleFromMatch:f}),x.map(T=>{const S=T.key,E=l[S]||"",k=T.year??gN(T),j=`${Ie(T.nombre)}${k?` ${k}`:""}`;return m.jsx("div",{className:"mb-6 flex justify-center",children:m.jsxs("div",{className:"border border-slate-200 rounded-lg bg-white shadow-sm w-max",children:[m.jsxs("div",{className:"flex items-center flex-row justify-between gap-3 px-3 py-2 border-b border-slate-200 bg-slate-100 rounded-t-lg",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("h3",{className:"font-semibold text-sm lg:text-base text-slate-800 truncate",children:j}),m.jsxs("p",{className:"text-[11px] text-slate-500",children:[T.matches.length," partido",T.matches.length!==1?"s":""," jugado",T.matches.length!==1?"s":""," en este campeonato."]})]}),m.jsxs("div",{className:"text-[11px] md:text-sm shrink-0 md:flex md:items-center md:gap-2",children:[m.jsx("label",{className:"font-medium whitespace-nowrap mr-2",children:"Resultado:"}),m.jsx("select",{className:"border border-slate-300 rounded px-2 py-1 text-[11px] md:text-sm bg-white",value:E,onChange:O=>b(T,O.target.value),children:uN.map(O=>m.jsx("option",{value:O.value,children:O.label},O.value))})]})]}),m.jsx("div",{className:"sm:hidden space-y-1",children:T.matches.map((O,B)=>{const z=T.matches.length-B;return m.jsx(L4,{m:O,nroJuego:z,prettySafe:Ie,onEdit:H=>a(`/editar-partido/${H.id}`),onDelete:w},O.id||`${O.fecha}-${O.rival}-${O.resultMatch}`)})}),m.jsx("div",{className:"hidden sm:block overflow-x-auto",children:m.jsxs("table",{className:"w-full table-fixed border-collapse text-[11px] lg:text-xs lg:w-max lg:min-w-[980px] lg:table-auto",children:[m.jsx("thead",{className:"bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center whitespace-nowrap w-12",children:"Fecha"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Resultado"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-10 whitespace-nowrap",children:m.jsx("img",{src:"pencil.png",alt:"Editar",className:"inline-block h-5 w-5 opacity-60"})}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap w-24",children:"Capitn"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Goleadores Propios"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Goles del Rival"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-10 whitespace-nowrap",children:m.jsx("img",{src:"bas.png",alt:"Borrar",className:"inline-block h-5 w-5 opacity-60"})})]})}),m.jsx("tbody",{children:T.matches.map(O=>m.jsx(V4,{m:O,prettySafe:Ie,onEdit:B=>a(`/editar-partido/${B.id}`),onDelete:w},O.id||`${O.fecha}-${O.rival}-${O.resultMatch}`))})]})})]})},S)})]})},B4=()=>{const{uid:n}=pn(),{dispatch:t}=rs(),{state:e,dispatch:s}=Xn();zs(n,t,s);const i=async()=>{n&&await sx(n,t,s)},a=Object.keys(e?.lineups||{}),[l,u]=F.useState(e?.activeClub||a[0]||""),h=Et(l||""),f=h?e?.lineups?.[h]:null,g=Array.isArray(f?.matches)?f.matches:[],x=f?.torneosConfig||{};return m.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4 text-center",children:" Detalle de Partidos por Campeonato"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end justify-center",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:l,onChange:b=>u(b.target.value),children:a.map(b=>m.jsx("option",{value:b,children:Ct(b)},b))})]}),m.jsx("button",{type:"button",className:"border px-3 py-1 rounded text-sm",onClick:i,children:" Refrescar"})]}),m.jsx(U4,{matches:g,clubKey:h,uid:n,onRefresh:i,torneosConfig:x})]})},F4=n=>{const t=String(n??"").trim();if(!t)return"";const e=t.match(/^(\d{4})-(\d{2})-(\d{2})/);if(e)return`${e[3]}-${e[2]}-${e[1]}`;const s=Date.parse(t);if(!Number.isFinite(s))return t;const i=new Date(s),a=String(i.getDate()).padStart(2,"0"),l=String(i.getMonth()+1).padStart(2,"0"),u=i.getFullYear();return`${a}-${l}-${u}`};function H4(n){const t=parseInt(n.golesFavor)||0,e=parseInt(n.golesContra)||0;return t>e?"bg-green-400":t===e?"bg-yellow-400":"bg-red-400"}const $4=({children:n})=>m.jsx("h2",{className:"font-semibold text-sm whitespace-nowrap",children:n}),G4=({lista:n=[]})=>{const[t,e]=F.useState(null);return n.length?m.jsx("div",{className:"w-full",children:m.jsx("div",{className:"w-full flex gap-1",children:n.map((s,i)=>{const a=s.id??`${s.fecha}-${s.rival}-${i}`,l=t===a,u=String(s.rival||"").trim()||"",h=s.esLocal===!0?"Local":"Visitante",f=s.golesFavor,g=s.golesContra;return m.jsxs("div",{className:"flex-1 basis-0 min-w-0 flex flex-col items-center relative",children:[m.jsxs("button",{type:"button",onClick:()=>e(l?null:a),className:"w-full min-w-0 flex flex-col items-center text-center",title:u,children:[m.jsx("span",{className:"w-full min-w-0 text-[9px] leading-none text-slate-500 truncate whitespace-nowrap",children:u}),m.jsx("span",{className:`mt-1 block w-5 h-5 md:w-6 md:h-6 rounded-full ${H4(s)}`,title:`${s.fecha} vs ${u}: ${f}-${g}`})]}),l&&m.jsxs("div",{className:`mt-1 w-max rounded-lg border border-slate-200 bg-white\r
               p-2 py-1 text-[10px] text-slate-700 shadow-sm relative`,children:[m.jsxs("div",{className:"font-semibold leading-tight",children:[i+1," - ",u]}),m.jsx("div",{className:"mt-0.5 text-[9px] text-slate-600",children:h}),m.jsxs("div",{className:"mt-0.5 tabular-nums",children:[m.jsx("span",{className:"text-slate-500",children:"GF:"})," ",m.jsx("span",{className:"font-semibold",children:f})," ",m.jsx("span",{className:"text-slate-400",children:""})," ",m.jsx("span",{className:"text-slate-500",children:"GC:"})," ",m.jsx("span",{className:"font-semibold",children:g})]}),m.jsx("div",{className:"mt-0.5 flex items-center justify-between gap-2",children:m.jsx("div",{className:"text-[9px] text-slate-500",title:s.fecha,children:F4(s.fecha)})})]})]},a)})})}):m.jsx("span",{className:"text-xs text-gray-400",children:"Sin partidos"})},bl=({icon:n,title:t,list:e})=>m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[260px_1fr] gap-2 items-start sm:items-center",children:[m.jsx($4,{children:m.jsxs("span",{className:"inline-flex items-center gap-5",children:[m.jsx("span",{children:n}),m.jsx("span",{children:t})]})}),m.jsx(G4,{lista:e})]}),q4=({partidos:n=[],fixedCaptains:t})=>{const{partidosOrdenados:e,ultimos10General:s,ultimos10Local:i,ultimos10Visitante:a,capitanes:l,ultimos10PorCapitan:u}=F.useMemo(()=>{const h=[...n||[]].sort((E,k)=>new Date(k.fecha)-new Date(E.fecha)),f=E=>E.slice(0,10),g=f(h),x=f(h.filter(E=>!!E.esLocal)),b=f(h.filter(E=>!E.esLocal)),T=(Array.isArray(t)&&t.length?t.map(E=>E.toLowerCase()):[...new Set(h.map(E=>(E.equipo||"").toLowerCase()).filter(Boolean))]).map(E=>{const k=h.findIndex(j=>(j.equipo||"").toLowerCase()===E);return{cap:E,lastIndex:k}}).filter(E=>E.lastIndex!==-1&&E.lastIndex<10).sort((E,k)=>E.lastIndex-k.lastIndex).map(E=>E.cap),S=Object.fromEntries(T.map(E=>{const k=h.filter(j=>(j.equipo||"").toLowerCase()===E);return[E,{general:f(k),local:f(k.filter(j=>!!j.esLocal)),visitante:f(k.filter(j=>!j.esLocal))}]}));return{partidosOrdenados:h,ultimos10General:g,ultimos10Local:x,ultimos10Visitante:b,capitanes:T,ultimos10PorCapitan:S}},[n,t]);return e.length?m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"rounded-xl border bg-white p-2 shadow-sm",children:m.jsxs("div",{className:"space-y-2",children:[m.jsx(bl,{icon:"",title:"ltimos 10 Resultados (General)",list:s}),m.jsx(bl,{icon:"",title:"ltimos 10 Resultados (Local)",list:i}),m.jsx(bl,{icon:"",title:"ltimos 10 Resultados (Visitante)",list:a})]})}),m.jsx("div",{className:"space-y-4",children:l.map(h=>m.jsxs("div",{className:"rounded-xl border bg-white p-4 shadow-sm",children:[m.jsxs("div",{className:"mb-2 text-sm font-semibold text-slate-700",children:[" ltimos 10 con ",Ct(h)]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(bl,{icon:"",title:"General",list:u[h]?.general||[]}),m.jsx(bl,{icon:"",title:"Local",list:u[h]?.local||[]}),m.jsx(bl,{icon:"",title:"Visitante",list:u[h]?.visitante||[]})]})]},h))})]}):m.jsx("p",{className:"text-center text-gray-500 mt-4",children:"No hay partidos para mostrar."})},W4=()=>{const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn();zs(n,e,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||{}),[h,f]=F.useState(s?.activeClub||u[0]||""),g=Et(h||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},w=(b.players?.length??0)>0,T=(b.formations?.length??0)>0,S=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!w&&!T&&!S)return m.jsx(Vs,{to:"/formacion",replace:!0});if(F.useEffect(()=>{!h&&u.length&&f(s?.activeClub||u[0])},[u,s?.activeClub,h]),!u.length)return m.jsx("p",{className:"text-center text-slate-500 mt-4",children:"Cargando clubes..."});F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const E=Array.isArray(a?.matches)?a.matches:[],k=a4(E);return m.jsxs("div",{className:"p-2 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-evenly gap-1 mb-2 mt-2",children:[m.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 flex flex-col gap-0 leading-none",children:[m.jsx("span",{children:"ltimos 10"}),m.jsx("span",{className:"mt-1 inline-flex w-fit items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-600",children:" Racha"})]}),m.jsxs("label",{className:"w-full max-w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{value:h,onChange:j=>f(j.target.value),disabled:u.length<=1,className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-1 text-sm text-slate-800 shadow-sm\r
      focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
      disabled:bg-slate-100 disabled:text-slate-500`,children:u.map(j=>m.jsx("option",{value:j,children:Ct(j)},j))})]})]}),m.jsx(q4,{partidos:k})]})};function Y4(){const{pathname:n}=ji();return F.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[n]),null}const K4=()=>{const n=F.useRef([]);return F.useEffect(()=>{const e=console.log;return console.log=(...s)=>{n.current.push(s.map(i=>typeof i=="object"?JSON.stringify(i,null,2):i).join(" ")),e.apply(console,s)},()=>{console.log=e}},[]),{downloadLogs:()=>{const e=new Blob([n.current.join(`
`)],{type:"text/plain"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download=`console-logs-${new Date().getTime()}.txt`,i.click(),URL.revokeObjectURL(s)}}};function yN(n=[]){return[...n].sort((t,e)=>{const s=new Date(t?.fecha??0).getTime(),i=new Date(e?.fecha??0).getTime();return s!==i?s-i:(t?.createdAt??0)-(e?.createdAt??0)})}function X4(n=[]){return Array.from(new Set(n.map(t=>t?.torneoYear).filter(Boolean))).sort((t,e)=>t-e)}function Q4(n=[]){const t=new Set(n.map(e=>e?.torneoDisplay||e?.torneoName).filter(Boolean));return Array.from(t).sort((e,s)=>e.localeCompare(s))}function J4(n=[]){const t=new Map;for(const e of n){const s=e?.captain;s&&t.set(s,(t.get(s)??0)+1)}return[...t.entries()].sort((e,s)=>s[1]-e[1]).slice(0,2).map(([e])=>e)}function Z4(n,t,e){const s=yN(n),i=Array.isArray(t)?t:[t,e],a=Array.from(new Set((i||[]).filter(Boolean)));let l=0,u=0;const h=Object.fromEntries(a.map(B=>[B,0])),f=Object.fromEntries(a.map(B=>[B,0])),g=[],x=[],b=Object.fromEntries(a.map(B=>[B,[]]));s.forEach((B,z)=>{const H=Number(B?.points??0),A=B?.captain;g.push(String(z+1)),l+=H,u+=1,x.push(l),A&&h[A]!=null&&(h[A]+=H,f[A]+=1);for(const R of a)b[R].push(h[R])});const w=u*3,T=w/2,S=Object.fromEntries(a.map(B=>[B,(f[B]||0)*3])),E=Object.fromEntries(a.map(B=>[B,(S[B]||0)/2])),k=Array(g.length).fill(T),j=["#0ea5e9","#f97316","#a855f7","#14b8a6","#eab308","#ef4444","#6366f1","#10b981"],O=[{_kind:"unificado",label:"Unificado",data:x,borderColor:"#22c55e",borderWidth:3,pointRadius:0,tension:.35},{_kind:"mitadU",label:"Mitad Unificado",data:k,borderColor:"#94a3b8",borderWidth:2,pointRadius:0,borderDash:[4,6],tension:0}];return a.forEach((B,z)=>{O.push({_kind:`cap:${B}`,label:Ct(B),data:b[B],borderColor:j[z%j.length],borderWidth:2.2,pointRadius:0,tension:.35}),O.push({_kind:`mitad:${B}`,label:`Mitad ${Ct(B)}`,data:Array(g.length).fill(E[B]),borderColor:j[z%j.length],borderWidth:2,pointRadius:0,borderDash:[6,4],tension:0})}),{labels:g,yMax:w,meta:{posiblesU:w,posiblesByCaptain:S,gamesByCaptain:f},datasets:O}}function tP(n,{view:t,breakdown:e,selectedYear:s,selectedTournament:i,torneosConfig:a,capA:l,capB:u}={}){return F.useMemo(()=>{const h=Array.isArray(n)?n:[],f=yN(h),g=(V="")=>V.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),x=V=>(V||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),b=V=>{if(!a||!V)return"anual";const L=x(g(V));for(const[gt,dt]of Object.entries(a||{}))if(x(g(gt))===L)return(dt?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"},w=V=>{const L=new Date(V);if(!Number.isFinite(L.getTime()))return null;const gt=L.getFullYear(),W=L.getMonth()+1>=7?gt:gt-1;return`${W}-${W+1}`},T=f.filter(V=>{const L=V?.torneoDisplay||V?.torneoName||"";return b(L)==="europeo"}),S=e==="euroYear",E=e==="euroTournament",k=S?Array.from(new Set(T.map(V=>w(V?.fecha)).filter(Boolean))).sort((V,L)=>Number(L.split("-")[0])-Number(V.split("-")[0])):X4(f),j=E?Array.from(new Set(T.map(V=>{const L=V?.torneoDisplay||V?.torneoName||"Sin torneo",gt=g(L),dt=w(V?.fecha);return dt?`${gt} ${dt}`:gt}).filter(Boolean))).sort((V,L)=>{const gt=V.match(/(19|20)\d{2}-(19|20)\d{2}/)?.[0],dt=L.match(/(19|20)\d{2}-(19|20)\d{2}/)?.[0];if(gt&&dt){const W=Number(gt.split("-")[0]),at=Number(dt.split("-")[0]);if(W!==at)return at-W}return String(V).localeCompare(String(L))}):Q4(f),[O,B]=J4(f),z=l||O||"",H=u||B||"";let A=f;e==="year"&&s&&(A=f.filter(V=>Number(V?.torneoYear)===Number(s))),e==="euroYear"&&s&&(A=T.filter(V=>w(V?.fecha)===s)),e==="tournament"&&i&&(A=f.filter(V=>(V?.torneoDisplay||V?.torneoName)===i)),e==="euroTournament"&&i&&(A=T.filter(V=>{const L=V?.torneoDisplay||V?.torneoName||"Sin torneo",gt=g(L),dt=w(V?.fecha);return(dt?`${gt} ${dt}`:gt)===i}));const R=(()=>{const V=new Set,L=[];for(let gt=A.length-1;gt>=0;gt--){const dt=A[gt]?.captain;!dt||V.has(dt)||(V.add(dt),L.push(dt))}return L})(),I=Z4(A,R),M=t==="general"?I.datasets.filter(V=>V._kind==="unificado"||V._kind==="mitadU"):I.datasets.filter(V=>String(V._kind||"").startsWith("cap:")||String(V._kind||"").startsWith("mitad:")),U=t==="general"?I.meta.posiblesU:Math.max(0,...Object.values(I.meta.posiblesByCaptain||{}));return{years:k,tournaments:j,captainA:z,captainB:H,chartData:{labels:I.labels,datasets:M},yMax:U,meta:I.meta}},[n,t,e,s,i,a,l,u])}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function gh(n){return n+.5|0}const oa=(n,t,e)=>Math.max(Math.min(n,e),t);function wu(n){return oa(gh(n*2.55),0,255)}function pa(n){return oa(gh(n*255),0,255)}function or(n){return oa(gh(n/2.55)/100,0,1)}function zw(n){return oa(gh(n*100),0,100)}const js={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},q0=[..."0123456789ABCDEF"],eP=n=>q0[n&15],nP=n=>q0[(n&240)>>4]+q0[n&15],Qd=n=>(n&240)>>4===(n&15),sP=n=>Qd(n.r)&&Qd(n.g)&&Qd(n.b)&&Qd(n.a);function iP(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&js[n[1]]*17,g:255&js[n[2]]*17,b:255&js[n[3]]*17,a:t===5?js[n[4]]*17:255}:(t===7||t===9)&&(e={r:js[n[1]]<<4|js[n[2]],g:js[n[3]]<<4|js[n[4]],b:js[n[5]]<<4|js[n[6]],a:t===9?js[n[7]]<<4|js[n[8]]:255})),e}const rP=(n,t)=>n<255?t(n):"";function aP(n){var t=sP(n)?eP:nP;return n?"#"+t(n.r)+t(n.g)+t(n.b)+rP(n.a,t):void 0}const oP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xN(n,t,e){const s=t*Math.min(e,1-e),i=(a,l=(a+n/30)%12)=>e-s*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function lP(n,t,e){const s=(i,a=(i+n/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function cP(n,t,e){const s=xN(n,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)s[i]*=1-t-e,s[i]+=t;return s}function uP(n,t,e,s,i){return n===i?(t-e)/s+(t<e?6:0):t===i?(e-n)/s+2:(n-t)/s+4}function ox(n){const e=n.r/255,s=n.g/255,i=n.b/255,a=Math.max(e,s,i),l=Math.min(e,s,i),u=(a+l)/2;let h,f,g;return a!==l&&(g=a-l,f=u>.5?g/(2-a-l):g/(a+l),h=uP(e,s,i,g,a),h=h*60+.5),[h|0,f||0,u]}function lx(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(pa)}function cx(n,t,e){return lx(xN,n,t,e)}function hP(n,t,e){return lx(cP,n,t,e)}function dP(n,t,e){return lx(lP,n,t,e)}function bN(n){return(n%360+360)%360}function fP(n){const t=oP.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?wu(+t[5]):pa(+t[5]));const i=bN(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?s=hP(i,a,l):t[1]==="hsv"?s=dP(i,a,l):s=cx(i,a,l),{r:s[0],g:s[1],b:s[2],a:e}}function mP(n,t){var e=ox(n);e[0]=bN(e[0]+t),e=cx(e),n.r=e[0],n.g=e[1],n.b=e[2]}function pP(n){if(!n)return;const t=ox(n),e=t[0],s=zw(t[1]),i=zw(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${i}%, ${or(n.a)})`:`hsl(${e}, ${s}%, ${i}%)`}const Uw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function gP(){const n={},t=Object.keys(Bw),e=Object.keys(Uw);let s,i,a,l,u;for(s=0;s<t.length;s++){for(l=u=t[s],i=0;i<e.length;i++)a=e[i],u=u.replace(a,Uw[a]);a=parseInt(Bw[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Jd;function yP(n){Jd||(Jd=gP(),Jd.transparent=[0,0,0,0]);const t=Jd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const xP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function bP(n){const t=xP.exec(n);let e=255,s,i,a;if(t){if(t[7]!==s){const l=+t[7];e=t[8]?wu(l):oa(l*255,0,255)}return s=+t[1],i=+t[3],a=+t[5],s=255&(t[2]?wu(s):oa(s,0,255)),i=255&(t[4]?wu(i):oa(i,0,255)),a=255&(t[6]?wu(a):oa(a,0,255)),{r:s,g:i,b:a,a:e}}}function vP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${or(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const s0=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,vl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _P(n,t,e){const s=vl(or(n.r)),i=vl(or(n.g)),a=vl(or(n.b));return{r:pa(s0(s+e*(vl(or(t.r))-s))),g:pa(s0(i+e*(vl(or(t.g))-i))),b:pa(s0(a+e*(vl(or(t.b))-a))),a:n.a+e*(t.a-n.a)}}function Zd(n,t,e){if(n){let s=ox(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=cx(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function vN(n,t){return n&&Object.assign(t||{},n)}function Fw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=pa(n[3]))):(t=vN(n,{r:0,g:0,b:0,a:1}),t.a=pa(t.a)),t}function wP(n){return n.charAt(0)==="r"?bP(n):fP(n)}class Yu{constructor(t){if(t instanceof Yu)return t;const e=typeof t;let s;e==="object"?s=Fw(t):e==="string"&&(s=iP(t)||yP(t)||wP(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=vN(this._rgb);return t&&(t.a=or(t.a)),t}set rgb(t){this._rgb=Fw(t)}rgbString(){return this._valid?vP(this._rgb):void 0}hexString(){return this._valid?aP(this._rgb):void 0}hslString(){return this._valid?pP(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,i=t.rgb;let a;const l=e===a?.5:e,u=2*l-1,h=s.a-i.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,s.r=255&f*s.r+a*i.r+.5,s.g=255&f*s.g+a*i.g+.5,s.b=255&f*s.b+a*i.b+.5,s.a=l*s.a+(1-l)*i.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=_P(this._rgb,t._rgb,e)),this}clone(){return new Yu(this.rgb)}alpha(t){return this._rgb.a=pa(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=gh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zd(this._rgb,2,t),this}darken(t){return Zd(this._rgb,2,-t),this}saturate(t){return Zd(this._rgb,1,t),this}desaturate(t){return Zd(this._rgb,1,-t),this}rotate(t){return mP(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ir(){}const EP=(()=>{let n=0;return()=>n++})();function Pe(n){return n==null}function Tn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ye(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Fn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function yi(n,t){return Fn(n)?n:t}function he(n,t){return typeof n>"u"?t:n}const TP=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Le(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Se(n,t,e,s){let i,a,l;if(Tn(n))for(a=n.length,i=0;i<a;i++)t.call(e,n[i],i);else if(ye(n))for(l=Object.keys(n),a=l.length,i=0;i<a;i++)t.call(e,n[l[i]],l[i])}function Yf(n,t){let e,s,i,a;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(i=n[e],a=t[e],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Kf(n){if(Tn(n))return n.map(Kf);if(ye(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let i=0;for(;i<s;++i)t[e[i]]=Kf(n[e[i]]);return t}return n}function _N(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function SP(n,t,e,s){if(!_N(n))return;const i=t[n],a=e[n];ye(i)&&ye(a)?Ku(i,a,s):t[n]=Kf(a)}function Ku(n,t,e){const s=Tn(t)?t:[t],i=s.length;if(!ye(n))return n;e=e||{};const a=e.merger||SP;let l;for(let u=0;u<i;++u){if(l=s[u],!ye(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)a(h[f],n,l,e)}return n}function Iu(n,t){return Ku(n,t,{merger:NP})}function NP(n,t,e){if(!_N(n))return;const s=t[n],i=e[n];ye(s)&&ye(i)?Iu(s,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Kf(i))}const Hw={"":n=>n,x:n=>n.x,y:n=>n.y};function AP(n){const t=n.split("."),e=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function CP(n){const t=AP(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function Xf(n,t){return(Hw[t]||(Hw[t]=CP(t)))(n)}function ux(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Qf=n=>typeof n<"u",Ea=n=>typeof n=="function",$w=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function kP(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Un=Math.PI,Ks=2*Un,RP=Ks+Un,Jf=Number.POSITIVE_INFINITY,IP=Un/180,Ys=Un/2,no=Un/4,Gw=Un*2/3,wN=Math.log10,Hl=Math.sign;function ju(n,t,e){return Math.abs(n-t)<e}function qw(n){const t=Math.round(n);n=ju(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(wN(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function jP(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((i,a)=>i-a).pop(),t}function DP(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Xu(n){return!DP(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function MP(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function OP(n,t,e){let s,i,a;for(s=0,i=n.length;s<i;s++)a=n[s][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function uo(n){return n*(Un/180)}function PP(n){return n*(180/Un)}function Ww(n){if(!Fn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function LP(n,t){const e=t.x-n.x,s=t.y-n.y,i=Math.sqrt(e*e+s*s);let a=Math.atan2(s,e);return a<-.5*Un&&(a+=Ks),{angle:a,distance:i}}function W0(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function VP(n,t){return(n-t+RP)%Ks-Un}function _i(n){return(n%Ks+Ks)%Ks}function EN(n,t,e,s){const i=_i(n),a=_i(t),l=_i(e),u=_i(a-i),h=_i(l-i),f=_i(i-a),g=_i(i-l);return i===a||i===l||s&&a===l||u>h&&f<g}function Os(n,t,e){return Math.max(t,Math.min(e,n))}function zP(n){return Os(n,-32768,32767)}function Nl(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function hx(n,t,e){e=e||(l=>n[l]<t);let s=n.length-1,i=0,a;for(;s-i>1;)a=i+s>>1,e(a)?i=a:s=a;return{lo:i,hi:s}}const ho=(n,t,e,s)=>hx(n,e,s?i=>{const a=n[i][t];return a<e||a===e&&n[i+1][t]===e}:i=>n[i][t]<e),UP=(n,t,e)=>hx(n,e,s=>n[s][t]>=e);function BP(n,t,e){let s=0,i=n.length;for(;s<i&&n[s]<t;)s++;for(;i>s&&n[i-1]>e;)i--;return s>0||i<n.length?n.slice(s,i):n}const TN=["push","pop","shift","splice","unshift"];function FP(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),TN.forEach(e=>{const s="_onData"+ux(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...a)}),l}})})}function Yw(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(TN.forEach(a=>{delete n[a]}),delete n._chartjs)}function HP(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const SN=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function NN(n,t){let e=[],s=!1;return function(...i){e=i,s||(s=!0,SN.call(window,()=>{s=!1,n.apply(t,e)}))}}function $P(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const AN=n=>n==="start"?"left":n==="end"?"right":"center",ys=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,GP=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function qP(n,t,e){const s=t.length;let i=0,a=s;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:x,max:b,minDefined:w,maxDefined:T}=l.getUserBounds();if(w){if(i=Math.min(ho(h,g,x).lo,e?s:ho(t,g,l.getPixelForValue(x)).lo),f){const S=h.slice(0,i+1).reverse().findIndex(E=>!Pe(E[u.axis]));i-=Math.max(0,S)}i=Os(i,0,s-1)}if(T){let S=Math.max(ho(h,l.axis,b,!0).hi+1,e?0:ho(t,g,l.getPixelForValue(b),!0).hi+1);if(f){const E=h.slice(S-1).findIndex(k=>!Pe(k[u.axis]));S+=Math.max(0,E)}a=Os(S,i,s)-i}else a=s-i}return{start:i,count:a}}function WP(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=i,!0;const a=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,i),a}const tf=n=>n===0||n===1,Kw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ks/e)),Xw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ks/e)+1,Du={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ys)+1,easeOutSine:n=>Math.sin(n*Ys),easeInOutSine:n=>-.5*(Math.cos(Un*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>tf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>tf(n)?n:Kw(n,.075,.3),easeOutElastic:n=>tf(n)?n:Xw(n,.075,.3),easeInOutElastic(n){return tf(n)?n:n<.5?.5*Kw(n*2,.1125,.45):.5+.5*Xw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Du.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Du.easeInBounce(n*2)*.5:Du.easeOutBounce(n*2-1)*.5+.5};function dx(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Qw(n){return dx(n)?n:new Yu(n)}function i0(n){return dx(n)?n:new Yu(n).saturate(.5).darken(.1).hexString()}const YP=["x","y","borderWidth","radius","tension"],KP=["color","borderColor","backgroundColor"];function XP(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:KP},numbers:{type:"number",properties:YP}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function QP(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jw=new Map;function JP(n,t){t=t||{};const e=n+JSON.stringify(t);let s=Jw.get(e);return s||(s=new Intl.NumberFormat(n,t),Jw.set(e,s)),s}function CN(n,t,e){return JP(t,e).format(n)}const ZP={values(n){return Tn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let i,a=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),a=tL(n,e)}const l=wN(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),CN(n,s,h)}};function tL(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var kN={formatters:ZP};function eL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const wo=Object.create(null),Y0=Object.create(null);function Mu(n,t){if(!t)return n;const e=t.split(".");for(let s=0,i=e.length;s<i;++s){const a=e[s];n=n[a]||(n[a]=Object.create(null))}return n}function r0(n,t,e){return typeof t=="string"?Ku(Mu(n,t),e):Ku(Mu(n,""),t)}class nL{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>i0(i.backgroundColor),this.hoverBorderColor=(s,i)=>i0(i.borderColor),this.hoverColor=(s,i)=>i0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return r0(this,t,e)}get(t){return Mu(this,t)}describe(t,e){return r0(Y0,t,e)}override(t,e){return r0(wo,t,e)}route(t,e,s,i){const a=Mu(this,t),l=Mu(this,s),u="_"+e;Object.defineProperties(a,{[u]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const h=this[u],f=l[i];return ye(h)?Object.assign({},f,h):he(h,f)},set(h){this[u]=h}}})}apply(t){t.forEach(e=>e(this))}}var tn=new nL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XP,QP,eL]);function sL(n){return!n||Pe(n.size)||Pe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Zw(n,t,e,s,i){let a=t[i];return a||(a=t[i]=n.measureText(i).width,e.push(i)),a>s&&(s=a),s}function so(n,t,e){const s=n.currentDevicePixelRatio,i=e!==0?Math.max(e/2,.5):0;return Math.round((t-i)*s)/s+i}function t2(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function K0(n,t,e,s){RN(n,t,e,s,null)}function RN(n,t,e,s,i){let a,l,u,h,f,g,x,b;const w=t.pointStyle,T=t.rotation,S=t.radius;let E=(T||0)*IP;if(w&&typeof w=="object"&&(a=w.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(E),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),w){default:i?n.ellipse(e,s,i/2,S,0,0,Ks):n.arc(e,s,S,0,Ks),n.closePath();break;case"triangle":g=i?i/2:S,n.moveTo(e+Math.sin(E)*g,s-Math.cos(E)*S),E+=Gw,n.lineTo(e+Math.sin(E)*g,s-Math.cos(E)*S),E+=Gw,n.lineTo(e+Math.sin(E)*g,s-Math.cos(E)*S),n.closePath();break;case"rectRounded":f=S*.516,h=S-f,l=Math.cos(E+no)*h,x=Math.cos(E+no)*(i?i/2-f:h),u=Math.sin(E+no)*h,b=Math.sin(E+no)*(i?i/2-f:h),n.arc(e-x,s-u,f,E-Un,E-Ys),n.arc(e+b,s-l,f,E-Ys,E),n.arc(e+x,s+u,f,E,E+Ys),n.arc(e-b,s+l,f,E+Ys,E+Un),n.closePath();break;case"rect":if(!T){h=Math.SQRT1_2*S,g=i?i/2:h,n.rect(e-g,s-h,2*g,2*h);break}E+=no;case"rectRot":x=Math.cos(E)*(i?i/2:S),l=Math.cos(E)*S,u=Math.sin(E)*S,b=Math.sin(E)*(i?i/2:S),n.moveTo(e-x,s-u),n.lineTo(e+b,s-l),n.lineTo(e+x,s+u),n.lineTo(e-b,s+l),n.closePath();break;case"crossRot":E+=no;case"cross":x=Math.cos(E)*(i?i/2:S),l=Math.cos(E)*S,u=Math.sin(E)*S,b=Math.sin(E)*(i?i/2:S),n.moveTo(e-x,s-u),n.lineTo(e+x,s+u),n.moveTo(e+b,s-l),n.lineTo(e-b,s+l);break;case"star":x=Math.cos(E)*(i?i/2:S),l=Math.cos(E)*S,u=Math.sin(E)*S,b=Math.sin(E)*(i?i/2:S),n.moveTo(e-x,s-u),n.lineTo(e+x,s+u),n.moveTo(e+b,s-l),n.lineTo(e-b,s+l),E+=no,x=Math.cos(E)*(i?i/2:S),l=Math.cos(E)*S,u=Math.sin(E)*S,b=Math.sin(E)*(i?i/2:S),n.moveTo(e-x,s-u),n.lineTo(e+x,s+u),n.moveTo(e+b,s-l),n.lineTo(e-b,s+l);break;case"line":l=i?i/2:Math.cos(E)*S,u=Math.sin(E)*S,n.moveTo(e-l,s-u),n.lineTo(e+l,s+u);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(E)*(i?i/2:S),s+Math.sin(E)*S);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Qu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Nm(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Am(n){n.restore()}function iL(n,t,e,s,i){if(!t)return n.lineTo(e.x,e.y);if(i==="middle"){const a=(t.x+e.x)/2;n.lineTo(a,t.y),n.lineTo(a,e.y)}else i==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function rL(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function aL(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Pe(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function oL(n,t,e,s,i){if(i.strikethrough||i.underline){const a=n.measureText(s),l=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,h=e-a.actualBoundingBoxAscent,f=e+a.actualBoundingBoxDescent,g=i.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function lL(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Zf(n,t,e,s,i,a={}){const l=Tn(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=i.string,aL(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&lL(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Pe(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,e,s,a.maxWidth)),n.fillText(f,e,s,a.maxWidth),oL(n,e,s,f,a),s+=Number(i.lineHeight);n.restore()}function X0(n,t){const{x:e,y:s,w:i,h:a,radius:l}=t;n.arc(e+l.topLeft,s+l.topLeft,l.topLeft,1.5*Un,Un,!0),n.lineTo(e,s+a-l.bottomLeft),n.arc(e+l.bottomLeft,s+a-l.bottomLeft,l.bottomLeft,Un,Ys,!0),n.lineTo(e+i-l.bottomRight,s+a),n.arc(e+i-l.bottomRight,s+a-l.bottomRight,l.bottomRight,Ys,0,!0),n.lineTo(e+i,s+l.topRight),n.arc(e+i-l.topRight,s+l.topRight,l.topRight,0,-Ys,!0),n.lineTo(e+l.topLeft,s)}const cL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hL(n,t){const e=(""+n).match(cL);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const dL=n=>+n||0;function IN(n,t){const e={},s=ye(t),i=s?Object.keys(t):t,a=ye(n)?s?l=>he(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of i)e[l]=dL(a(l));return e}function fL(n){return IN(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ou(n){return IN(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Js(n){const t=fL(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function is(n,t){n=n||{},t=t||tn.font;let e=he(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=he(n.style,t.style);s&&!(""+s).match(uL)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:he(n.family,t.family),lineHeight:hL(he(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:he(n.weight,t.weight),string:""};return i.string=sL(i),i}function ef(n,t,e,s){let i,a,l;for(i=0,a=n.length;i<a;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function mL(n,t,e){const{min:s,max:i}=n,a=TP(t,(i-s)/2),l=(u,h)=>e&&u===0?0:u+h;return{min:l(s,-Math.abs(a)),max:l(i,a)}}function Ao(n,t){return Object.assign(Object.create(n),t)}function fx(n,t=[""],e,s,i=()=>n[0]){const a=e||n;typeof s>"u"&&(s=ON("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:s,_getTarget:i,override:u=>fx([u,...n],t,a,s)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return DN(u,h,()=>wL(h,t,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return n2(u).includes(h)},ownKeys(u){return n2(u)},set(u,h,f){const g=u._storage||(u._storage=i());return u[h]=g[h]=f,delete u._keys,!0}})}function $l(n,t,e,s){const i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:jN(n,s),setContext:a=>$l(n,a,e,s),override:a=>$l(n.override(a),t,e,s)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return DN(a,l,()=>gL(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function jN(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:s,isScriptable:Ea(e)?e:()=>e,isIndexable:Ea(s)?s:()=>s}}const pL=(n,t)=>n?n+ux(t):t,mx=(n,t)=>ye(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function DN(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function gL(n,t,e){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;let u=s[t];return Ea(u)&&l.isScriptable(t)&&(u=yL(t,u,n,e)),Tn(u)&&u.length&&(u=xL(t,u,n,l.isIndexable)),mx(t,u)&&(u=$l(u,i,a&&a[t],l)),u}function yL(n,t,e,s){const{_proxy:i,_context:a,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=t(a,l||s);return u.delete(n),mx(n,h)&&(h=px(i._scopes,i,n,h)),h}function xL(n,t,e,s){const{_proxy:i,_context:a,_subProxy:l,_descriptors:u}=e;if(typeof a.index<"u"&&s(n))return t[a.index%t.length];if(ye(t[0])){const h=t,f=i._scopes.filter(g=>g!==h);t=[];for(const g of h){const x=px(f,i,n,g);t.push($l(x,a,l&&l[n],u))}}return t}function MN(n,t,e){return Ea(n)?n(t,e):n}const bL=(n,t)=>n===!0?t:typeof n=="string"?Xf(t,n):void 0;function vL(n,t,e,s,i){for(const a of t){const l=bL(e,a);if(l){n.add(l);const u=MN(l._fallback,e,i);if(typeof u<"u"&&u!==e&&u!==s)return u}else if(l===!1&&typeof s<"u"&&e!==s)return null}return!1}function px(n,t,e,s){const i=t._rootScopes,a=MN(t._fallback,e,s),l=[...n,...i],u=new Set;u.add(s);let h=e2(u,l,e,a||e,s);return h===null||typeof a<"u"&&a!==e&&(h=e2(u,l,a,h,s),h===null)?!1:fx(Array.from(u),[""],i,a,()=>_L(t,e,s))}function e2(n,t,e,s,i){for(;e;)e=vL(n,t,e,s,i);return e}function _L(n,t,e){const s=n._getTarget();t in s||(s[t]={});const i=s[t];return Tn(i)&&ye(e)?e:i||{}}function wL(n,t,e,s){let i;for(const a of t)if(i=ON(pL(a,n),e),typeof i<"u")return mx(n,i)?px(e,s,n,i):i}function ON(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function n2(n){let t=n._keys;return t||(t=n._keys=EL(n._scopes)),t}function EL(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}const TL=Number.EPSILON||1e-14,Gl=(n,t)=>t<n.length&&!n[t].skip&&n[t],PN=n=>n==="x"?"y":"x";function SL(n,t,e,s){const i=n.skip?t:n,a=t,l=e.skip?t:e,u=W0(a,i),h=W0(l,a);let f=u/(u+h),g=h/(u+h);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const x=s*f,b=s*g;return{previous:{x:a.x-x*(l.x-i.x),y:a.y-x*(l.y-i.y)},next:{x:a.x+b*(l.x-i.x),y:a.y+b*(l.y-i.y)}}}function NL(n,t,e){const s=n.length;let i,a,l,u,h,f=Gl(n,0);for(let g=0;g<s-1;++g)if(h=f,f=Gl(n,g+1),!(!h||!f)){if(ju(t[g],0,TL)){e[g]=e[g+1]=0;continue}i=e[g]/t[g],a=e[g+1]/t[g],u=Math.pow(i,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),e[g]=i*l*t[g],e[g+1]=a*l*t[g])}}function AL(n,t,e="x"){const s=PN(e),i=n.length;let a,l,u,h=Gl(n,0);for(let f=0;f<i;++f){if(l=u,u=h,h=Gl(n,f+1),!u)continue;const g=u[e],x=u[s];l&&(a=(g-l[e])/3,u[`cp1${e}`]=g-a,u[`cp1${s}`]=x-a*t[f]),h&&(a=(h[e]-g)/3,u[`cp2${e}`]=g+a,u[`cp2${s}`]=x+a*t[f])}}function CL(n,t="x"){const e=PN(t),s=n.length,i=Array(s).fill(0),a=Array(s);let l,u,h,f=Gl(n,0);for(l=0;l<s;++l)if(u=h,h=f,f=Gl(n,l+1),!!h){if(f){const g=f[t]-h[t];i[l]=g!==0?(f[e]-h[e])/g:0}a[l]=u?f?Hl(i[l-1])!==Hl(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}NL(n,i,a),AL(n,a,t)}function nf(n,t,e){return Math.max(Math.min(n,e),t)}function kL(n,t){let e,s,i,a,l,u=Qu(n[0],t);for(e=0,s=n.length;e<s;++e)l=a,a=u,u=e<s-1&&Qu(n[e+1],t),a&&(i=n[e],l&&(i.cp1x=nf(i.cp1x,t.left,t.right),i.cp1y=nf(i.cp1y,t.top,t.bottom)),u&&(i.cp2x=nf(i.cp2x,t.left,t.right),i.cp2y=nf(i.cp2y,t.top,t.bottom)))}function RL(n,t,e,s,i){let a,l,u,h;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")CL(n,i);else{let f=s?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],h=SL(f,u,n[Math.min(a+1,l-(s?0:1))%l],t.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}t.capBezierPoints&&kL(n,e)}function gx(){return typeof window<"u"&&typeof document<"u"}function yx(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function tm(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const Cm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function IL(n,t){return Cm(n).getPropertyValue(t)}const jL=["top","right","bottom","left"];function po(n,t,e){const s={};e=e?"-"+e:"";for(let i=0;i<4;i++){const a=jL[i];s[a]=parseFloat(n[t+"-"+a+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const DL=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function ML(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:i,offsetY:a}=s;let l=!1,u,h;if(DL(i,a,n.target))u=i,h=a;else{const f=t.getBoundingClientRect();u=s.clientX-f.left,h=s.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function ao(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,i=Cm(e),a=i.boxSizing==="border-box",l=po(i,"padding"),u=po(i,"border","width"),{x:h,y:f,box:g}=ML(n,e),x=l.left+(g&&u.left),b=l.top+(g&&u.top);let{width:w,height:T}=t;return a&&(w-=l.width+u.width,T-=l.height+u.height),{x:Math.round((h-x)/w*e.width/s),y:Math.round((f-b)/T*e.height/s)}}function OL(n,t,e){let s,i;if(t===void 0||e===void 0){const a=n&&yx(n);if(!a)t=n.clientWidth,e=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Cm(a),h=po(u,"border","width"),f=po(u,"padding");t=l.width-f.width-h.width,e=l.height-f.height-h.height,s=tm(u.maxWidth,a,"clientWidth"),i=tm(u.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:s||Jf,maxHeight:i||Jf}}const la=n=>Math.round(n*10)/10;function PL(n,t,e,s){const i=Cm(n),a=po(i,"margin"),l=tm(i.maxWidth,n,"clientWidth")||Jf,u=tm(i.maxHeight,n,"clientHeight")||Jf,h=OL(n,t,e);let{width:f,height:g}=h;if(i.boxSizing==="content-box"){const b=po(i,"border","width"),w=po(i,"padding");f-=w.width+b.width,g-=w.height+b.height}return f=Math.max(0,f-a.width),g=Math.max(0,s?f/s:g-a.height),f=la(Math.min(f,l,h.maxWidth)),g=la(Math.min(g,u,h.maxHeight)),f&&!g&&(g=la(f/2)),(t!==void 0||e!==void 0)&&s&&h.height&&g>h.height&&(g=h.height,f=la(Math.floor(g*s))),{width:f,height:g}}function s2(n,t,e){const s=t||1,i=la(n.height*s),a=la(n.width*s);n.height=la(n.height),n.width=la(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||l.height!==i||l.width!==a?(n.currentDevicePixelRatio=s,l.height=i,l.width=a,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const LL=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};gx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function i2(n,t){const e=IL(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function oo(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function VL(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function zL(n,t,e,s){const i={x:n.cp2x,y:n.cp2y},a={x:t.cp1x,y:t.cp1y},l=oo(n,i,e),u=oo(i,a,e),h=oo(a,t,e),f=oo(l,u,e),g=oo(u,h,e);return oo(f,g,e)}const UL=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},BL=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function jl(n,t,e){return n?UL(t,e):BL()}function LN(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function VN(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function zN(n){return n==="angle"?{between:EN,compare:VP,normalize:_i}:{between:Nl,compare:(t,e)=>t-e,normalize:t=>t}}function r2({start:n,end:t,count:e,loop:s,style:i}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:i}}function FL(n,t,e){const{property:s,start:i,end:a}=e,{between:l,normalize:u}=zN(s),h=t.length;let{start:f,end:g,loop:x}=n,b,w;if(x){for(f+=h,g+=h,b=0,w=h;b<w&&l(u(t[f%h][s]),i,a);++b)f--,g--;f%=h,g%=h}return g<f&&(g+=h),{start:f,end:g,loop:x,style:n.style}}function UN(n,t,e){if(!e)return[n];const{property:s,start:i,end:a}=e,l=t.length,{compare:u,between:h,normalize:f}=zN(s),{start:g,end:x,loop:b,style:w}=FL(n,t,e),T=[];let S=!1,E=null,k,j,O;const B=()=>h(i,O,k)&&u(i,O)!==0,z=()=>u(a,k)===0||h(a,O,k),H=()=>S||B(),A=()=>!S||z();for(let R=g,I=g;R<=x;++R)j=t[R%l],!j.skip&&(k=f(j[s]),k!==O&&(S=h(k,i,a),E===null&&H()&&(E=u(k,i)===0?R:I),E!==null&&A()&&(T.push(r2({start:E,end:R,loop:b,count:l,style:w})),E=null),I=R,O=k));return E!==null&&T.push(r2({start:E,end:x,loop:b,count:l,style:w})),T}function BN(n,t){const e=[],s=n.segments;for(let i=0;i<s.length;i++){const a=UN(s[i],n.points,t);a.length&&e.push(...a)}return e}function HL(n,t,e,s){let i=0,a=t-1;if(e&&!s)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(a+=i);a>i&&n[a%t].skip;)a--;return a%=t,{start:i,end:a}}function $L(n,t,e,s){const i=n.length,a=[];let l=t,u=n[t],h;for(h=t+1;h<=e;++h){const f=n[h%i];f.skip||f.stop?u.skip||(s=!1,a.push({start:t%i,end:(h-1)%i,loop:s}),t=l=f.stop?h:null):(l=h,u.skip&&(t=h)),u=f}return l!==null&&a.push({start:t%i,end:l%i,loop:s}),a}function GL(n,t){const e=n.points,s=n.options.spanGaps,i=e.length;if(!i)return[];const a=!!n._loop,{start:l,end:u}=HL(e,i,a,s);if(s===!0)return a2(n,[{start:l,end:u,loop:a}],e,t);const h=u<l?u+i:u,f=!!n._fullLoop&&l===0&&u===i-1;return a2(n,$L(e,l,h,f),e,t)}function a2(n,t,e,s){return!s||!s.setContext||!e?t:qL(n,t,e,s)}function qL(n,t,e,s){const i=n._chart.getContext(),a=o2(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=e.length,f=[];let g=a,x=t[0].start,b=x;function w(T,S,E,k){const j=u?-1:1;if(T!==S){for(T+=h;e[T%h].skip;)T-=j;for(;e[S%h].skip;)S+=j;T%h!==S%h&&(f.push({start:T%h,end:S%h,loop:E,style:k}),g=k,x=S%h)}}for(const T of t){x=u?x:T.start;let S=e[x%h],E;for(b=x+1;b<=T.end;b++){const k=e[b%h];E=o2(s.setContext(Ao(i,{type:"segment",p0:S,p1:k,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:l}))),WL(E,g)&&w(x,b-1,T.loop,g),S=k,g=E}x<b-1&&w(x,b-1,T.loop,g)}return f}function o2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function WL(n,t){if(!t)return!1;const e=[],s=function(i,a){return dx(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(n,s)!==JSON.stringify(t,s)}function sf(n,t,e){return n.options.clip?n[e]:t[e]}function YL(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:sf(e,t,"left"),right:sf(e,t,"right"),top:sf(s,t,"top"),bottom:sf(s,t,"bottom")}:t}function FN(n,t){const e=t._clip;if(e.disabled)return!1;const s=YL(t,n.chartArea);return{left:e.left===!1?0:s.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:s.right+(e.right===!0?0:e.right),top:e.top===!1?0:s.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:s.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class KL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,i){const a=e.listeners[i],l=e.duration;a.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(s-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=SN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const a=s.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>s.duration&&(s.duration=h._total),h.tick(t),u=!0):(a[l]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,s,t,"progress")),a.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var rr=new KL;const l2="transparent",XL={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=Qw(n||l2),i=s.valid&&Qw(t||l2);return i&&i.valid?i.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class QL{constructor(t,e,s,i){const a=e[s];i=ef([t.to,i,a,t.from]);const l=ef([t.from,a,i]);this._active=!0,this._fn=t.fn||XL[t.type||typeof l],this._easing=Du[t.easing]||Du.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const i=this._target[this._prop],a=s-this._start,l=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ef([t.to,e,i,t.from]),this._from=ef([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,i=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||e<s),!this._active){this._target[i]=u,this._notify(!0);return}if(e<0){this._target[i]=a;return}h=e/s%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(a,u,h)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][e]()}}class HN{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ye(t))return;const e=Object.keys(tn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!ye(a))return;const l={};for(const u of e)l[u]=a[u];(Tn(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!s.has(u))&&s.set(u,l)})})}_animateOptions(t,e){const s=e.options,i=ZL(t,s);if(!i)return[];const a=this._createAnimations(i,s);return s.$shared&&JL(t.options.$animations,s).then(()=>{t.options=s},()=>{}),a}_createAnimations(t,e){const s=this._properties,i=[],a=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,e));continue}const g=e[f];let x=a[f];const b=s.get(f);if(x)if(b&&x.active()){x.update(b,g,u);continue}else x.cancel();if(!b||!b.duration){t[f]=g;continue}a[f]=x=new QL(b,t,f,g),i.push(x)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return rr.add(this._chart,s),!0}}function JL(n,t){const e=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const a=n[s[i]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function ZL(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function c2(n,t){const e=n&&n.options||{},s=e.reverse,i=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:s?a:i,end:s?i:a}}function t9(n,t,e){if(e===!1)return!1;const s=c2(n,e),i=c2(t,e);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function e9(n){let t,e,s,i;return ye(n)?(t=n.top,e=n.right,s=n.bottom,i=n.left):t=e=s=i=n,{top:t,right:e,bottom:s,left:i,disabled:n===!1}}function $N(n,t){const e=[],s=n._getSortedDatasetMetas(t);let i,a;for(i=0,a=s.length;i<a;++i)e.push(s[i].index);return e}function u2(n,t,e,s={}){const i=n.keys,a=s.mode==="single";let l,u,h,f;if(t===null)return;let g=!1;for(l=0,u=i.length;l<u;++l){if(h=+i[l],h===e){if(g=!0,s.all)continue;break}f=n.values[h],Fn(f)&&(a||t===0||Hl(t)===Hl(f))&&(t+=f)}return!g&&!s.all?0:t}function n9(n,t){const{iScale:e,vScale:s}=t,i=e.axis==="x"?"x":"y",a=s.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],u[h]={[i]:g,[a]:n[g]};return u}function a0(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function s9(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function i9(n){const{min:t,max:e,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function r9(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function h2(n,t,e,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const a=n[i.index];if(e&&a>0||!e&&a<0)return i.index}return null}function d2(n,t){const{chart:e,_cachedMeta:s}=n,i=e._stacks||(e._stacks={}),{iScale:a,vScale:l,index:u}=s,h=a.axis,f=l.axis,g=s9(a,l,s),x=t.length;let b;for(let w=0;w<x;++w){const T=t[w],{[h]:S,[f]:E}=T,k=T._stacks||(T._stacks={});b=k[f]=r9(i,g,S),b[u]=E,b._top=h2(b,l,!0,s.type),b._bottom=h2(b,l,!1,s.type);const j=b._visualValues||(b._visualValues={});j[u]=E}}function o0(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function a9(n,t){return Ao(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function o9(n,t,e){return Ao(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function hu(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const i of t){const a=i._stacks;if(!a||a[s]===void 0||a[s][e]===void 0)return;delete a[s][e],a[s]._visualValues!==void 0&&a[s]._visualValues[e]!==void 0&&delete a[s]._visualValues[e]}}}const l0=n=>n==="reset"||n==="none",f2=(n,t)=>t?n:Object.assign({},n),l9=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:$N(e,!0),values:null};class GN{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=a0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),i=(x,b,w,T)=>x==="x"?b:x==="r"?T:w,a=e.xAxisID=he(s.xAxisID,o0(t,"x")),l=e.yAxisID=he(s.yAxisID,o0(t,"y")),u=e.rAxisID=he(s.rAxisID,o0(t,"r")),h=e.indexAxis,f=e.iAxisID=i(h,a,l,u),g=e.vAxisID=i(h,l,a,u);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Yw(this._data,this),t._stacked&&hu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(ye(e)){const i=this._cachedMeta;this._data=n9(e,i)}else if(s!==e){if(s){Yw(s,this);const i=this._cachedMeta;hu(i),i._parsed=[]}e&&Object.isExtensible(e)&&FP(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const a=e._stacked;e._stacked=a0(e.vScale,e),e.stack!==s.stack&&(i=!0,hu(e),e.stack=s.stack),this._resyncElements(t),(i||a!==e._stacked)&&(d2(this,e._parsed),e._stacked=a0(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:i}=this,{iScale:a,_stacked:l}=s,u=a.axis;let h=t===0&&e===i.length?!0:s._sorted,f=t>0&&s._parsed[t-1],g,x,b;if(this._parsing===!1)s._parsed=i,s._sorted=!0,b=i;else{Tn(i[t])?b=this.parseArrayData(s,i,t,e):ye(i[t])?b=this.parseObjectData(s,i,t,e):b=this.parsePrimitiveData(s,i,t,e);const w=()=>x[u]===null||f&&x[u]<f[u];for(g=0;g<e;++g)s._parsed[g+t]=x=b[g],h&&(w()&&(h=!1),f=x);s._sorted=h}l&&d2(this,b)}parsePrimitiveData(t,e,s,i){const{iScale:a,vScale:l}=t,u=a.axis,h=l.axis,f=a.getLabels(),g=a===l,x=new Array(i);let b,w,T;for(b=0,w=i;b<w;++b)T=b+s,x[b]={[u]:g||a.parse(f[T],T),[h]:l.parse(e[T],T)};return x}parseArrayData(t,e,s,i){const{xScale:a,yScale:l}=t,u=new Array(i);let h,f,g,x;for(h=0,f=i;h<f;++h)g=h+s,x=e[g],u[h]={x:a.parse(x[0],g),y:l.parse(x[1],g)};return u}parseObjectData(t,e,s,i){const{xScale:a,yScale:l}=t,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let g,x,b,w;for(g=0,x=i;g<x;++g)b=g+s,w=e[b],f[g]={x:a.parse(Xf(w,u),b),y:l.parse(Xf(w,h),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const i=this.chart,a=this._cachedMeta,l=e[t.axis],u={keys:$N(i,!0),values:e._stacks[t.axis]._visualValues};return u2(u,l,a.index,{mode:s})}updateRangeFromParsed(t,e,s,i){const a=s[e.axis];let l=a===null?NaN:a;const u=i&&s._stacks[e.axis];i&&u&&(i.values=u,l=u2(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const s=this._cachedMeta,i=s._parsed,a=s._sorted&&t===s.iScale,l=i.length,u=this._getOtherScale(t),h=l9(e,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=i9(u);let b,w;function T(){w=i[b];const S=w[u.axis];return!Fn(w[t.axis])||g>S||x<S}for(b=0;b<l&&!(!T()&&(this.updateRangeFromParsed(f,t,w,h),a));++b);if(a){for(b=l-1;b>=0;--b)if(!T()){this.updateRangeFromParsed(f,t,w,h);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let i,a,l;for(i=0,a=e.length;i<a;++i)l=e[i][t.axis],Fn(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,i=e.vScale,a=this.getParsed(t);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=e9(he(this.options.clip,t9(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,i=s.data||[],a=e.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let g;for(s.dataset&&s.dataset.draw(t,a,u,h),g=u;g<u+h;++g){const x=i[g];x.hidden||(x.active&&f?l.push(x):x.draw(t,a))}for(g=0;g<l.length;++g)l[g].draw(t,a)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=o9(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=a9(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=s,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const i=e==="active",a=this._cachedDataOpts,l=t+"-"+e,u=a[l],h=this.enableOptionSharing&&Qf(s);if(u)return f2(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,t),x=i?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),g),w=Object.keys(tn.elements[t]),T=()=>this.getContext(s,i,e),S=f.resolveNamedOptions(b,w,T,x);return S.$shared&&(S.$shared=h,a[l]=Object.freeze(f2(S,h))),S}_resolveAnimations(t,e,s){const i=this.chart,a=this._cachedDataOpts,l=`animation-${e}`,u=a[l];if(u)return u;let h;if(i.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,e),b=g.getOptionScopes(this.getDataset(),x);h=g.createResolver(b,this.getContext(t,s,e))}const f=new HN(i,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||l0(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),i=this._sharedOptions,a=this.getSharedOptions(s),l=this.includeOptions(e,a)||a!==i;return this.updateSharedOptions(a,e,s),{sharedOptions:a,includeOptions:l}}updateElement(t,e,s,i){l0(i)?Object.assign(t,s):this._resolveAnimations(e,i).update(t,s)}updateSharedOptions(t,e,s){t&&!l0(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,i){t.active=i;const a=this.getStyle(e,i);this._resolveAnimations(e,s,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const i=s.length,a=e.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,e,s=!0){const i=this._cachedMeta,a=i.data,l=t+e;let u;const h=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(h(a),u=t;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(t,e),s&&this.updateElements(a,t,e,"reset")}updateElements(t,e,s,i){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,e);s._stacked&&hu(s,i)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,i]=t;this[e](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class c9 extends GN{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:i=[],_dataset:a}=e,l=this.chart._animationsDisabled;let{start:u,count:h}=qP(e,i,l);this._drawStart=u,this._drawCount=h,WP(e)&&(u=0,h=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=i;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:f},t),this.updateElements(i,u,h,t)}updateElements(t,e,s,i){const a=i==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(e,i),b=l.axis,w=u.axis,{spanGaps:T,segment:S}=this.options,E=Xu(T)?T:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||i==="none",j=e+s,O=t.length;let B=e>0&&this.getParsed(e-1);for(let z=0;z<O;++z){const H=t[z],A=k?H:{};if(z<e||z>=j){A.skip=!0;continue}const R=this.getParsed(z),I=Pe(R[w]),M=A[b]=l.getPixelForValue(R[b],z),U=A[w]=a||I?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,R,h):R[w],z);A.skip=isNaN(M)||isNaN(U)||I,A.stop=z>0&&Math.abs(R[b]-B[b])>E,S&&(A.parsed=R,A.raw=f.data[z]),x&&(A.options=g||this.resolveDataElementOptions(z,H.active?"active":i)),k||this.updateElement(H,z,A,i),B=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function io(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xx{static override(t){Object.assign(xx.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return io()}parse(){return io()}format(){return io()}add(){return io()}diff(){return io()}startOf(){return io()}endOf(){return io()}}var u9={_date:xx};function h9(n,t,e,s){const{controller:i,data:a,_sorted:l}=n,u=i._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&a.length){const f=u._reversePixels?UP:ho;if(s){if(i._sharedOptions){const g=a[0],x=typeof g.getRange=="function"&&g.getRange(t);if(x){const b=f(a,t,e-x),w=f(a,t,e+x);return{lo:b.lo,hi:w.hi}}}}else{const g=f(a,t,e);if(h){const{vScale:x}=i._cachedMeta,{_parsed:b}=n,w=b.slice(0,g.lo+1).reverse().findIndex(S=>!Pe(S[x.axis]));g.lo-=Math.max(0,w);const T=b.slice(g.hi).findIndex(S=>!Pe(S[x.axis]));g.hi+=Math.max(0,T)}return g}}return{lo:0,hi:a.length-1}}function km(n,t,e,s,i){const a=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,h=a.length;u<h;++u){const{index:f,data:g}=a[u],{lo:x,hi:b}=h9(a[u],t,l,i);for(let w=x;w<=b;++w){const T=g[w];T.skip||s(T,f,w)}}}function d9(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,i){const a=t?Math.abs(s.x-i.x):0,l=e?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function c0(n,t,e,s,i){const a=[];return!i&&!n.isPointInArea(t)||km(n,e,t,function(u,h,f){!i&&!Qu(u,n.chartArea,0)||u.inRange(t.x,t.y,s)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function f9(n,t,e,s){let i=[];function a(l,u,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],s),{angle:x}=LP(l,{x:t.x,y:t.y});EN(x,f,g)&&i.push({element:l,datasetIndex:u,index:h})}return km(n,e,t,a),i}function m9(n,t,e,s,i,a){let l=[];const u=d9(e);let h=Number.POSITIVE_INFINITY;function f(g,x,b){const w=g.inRange(t.x,t.y,i);if(s&&!w)return;const T=g.getCenterPoint(i);if(!(!!a||n.isPointInArea(T))&&!w)return;const E=u(t,T);E<h?(l=[{element:g,datasetIndex:x,index:b}],h=E):E===h&&l.push({element:g,datasetIndex:x,index:b})}return km(n,e,t,f),l}function u0(n,t,e,s,i,a){return!a&&!n.isPointInArea(t)?[]:e==="r"&&!s?f9(n,t,e,i):m9(n,t,e,s,i,a)}function m2(n,t,e,s,i){const a=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return km(n,e,t,(h,f,g)=>{h[l]&&h[l](t[e],i)&&(a.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(t.x,t.y,i))}),s&&!u?[]:a}var p9={modes:{index(n,t,e,s){const i=ao(t,n),a=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?c0(n,i,a,s,l):u0(n,i,a,!1,s,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,x=f.data[g];x&&!x.skip&&h.push({element:x,datasetIndex:f.index,index:g})}),h):[]},dataset(n,t,e,s){const i=ao(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?c0(n,i,a,s,l):u0(n,i,a,!1,s,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(n,t,e,s){const i=ao(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return c0(n,i,a,s,l)},nearest(n,t,e,s){const i=ao(t,n),a=e.axis||"xy",l=e.includeInvisible||!1;return u0(n,i,a,e.intersect,s,l)},x(n,t,e,s){const i=ao(t,n);return m2(n,i,"x",e.intersect,s)},y(n,t,e,s){const i=ao(t,n);return m2(n,i,"y",e.intersect,s)}}};const qN=["left","top","right","bottom"];function du(n,t){return n.filter(e=>e.pos===t)}function p2(n,t){return n.filter(e=>qN.indexOf(e.pos)===-1&&e.box.axis===t)}function fu(n,t){return n.sort((e,s)=>{const i=t?s:e,a=t?e:s;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function g9(n){const t=[];let e,s,i,a,l,u;for(e=0,s=(n||[]).length;e<s;++e)i=n[e],{position:a,options:{stack:l,stackWeight:u=1}}=i,t.push({index:e,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:u});return t}function y9(n){const t={};for(const e of n){const{stack:s,pos:i,stackWeight:a}=e;if(!s||!qN.includes(i))continue;const l=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function x9(n,t){const e=y9(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=e[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*s:h&&t.availableWidth,u.height=i):(u.width=s,u.height=g?g*i:h&&t.availableHeight)}return e}function b9(n){const t=g9(n),e=fu(t.filter(f=>f.box.fullSize),!0),s=fu(du(t,"left"),!0),i=fu(du(t,"right")),a=fu(du(t,"top"),!0),l=fu(du(t,"bottom")),u=p2(t,"x"),h=p2(t,"y");return{fullSize:e,leftAndTop:s.concat(a),rightAndBottom:i.concat(h).concat(l).concat(u),chartArea:du(t,"chartArea"),vertical:s.concat(i).concat(h),horizontal:a.concat(l).concat(u)}}function g2(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function WN(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function v9(n,t,e,s){const{pos:i,box:a}=e,l=n.maxPadding;if(!ye(i)){e.size&&(n[i]-=e.size);const x=s[e.stack]||{size:0,count:1};x.size=Math.max(x.size,e.horizontal?a.height:a.width),e.size=x.size/x.count,n[i]+=e.size}a.getPadding&&WN(l,a.getPadding());const u=Math.max(0,t.outerWidth-g2(l,n,"left","right")),h=Math.max(0,t.outerHeight-g2(l,n,"top","bottom")),f=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,e.horizontal?{same:f,other:g}:{same:g,other:f}}function _9(n){const t=n.maxPadding;function e(s){const i=Math.max(t[s]-n[s],0);return n[s]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function w9(n,t){const e=t.maxPadding;function s(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(t[l],e[l])}),a}return s(n?["left","right"]:["top","bottom"])}function Eu(n,t,e,s){const i=[];let a,l,u,h,f,g;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||t.w,u.height||t.h,w9(u.horizontal,t));const{same:x,other:b}=v9(t,e,u,s);f|=x&&i.length,g=g||b,h.fullSize||i.push(u)}return f&&Eu(i,t,e,s)||g}function rf(n,t,e,s,i){n.top=e,n.left=t,n.right=t+s,n.bottom=e+i,n.width=s,n.height=i}function y2(n,t,e,s){const i=e.padding;let{x:a,y:l}=t;for(const u of n){const h=u.box,f=s[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const x=t.w*g,b=f.size||h.height;Qf(f.start)&&(l=f.start),h.fullSize?rf(h,i.left,l,e.outerWidth-i.right-i.left,b):rf(h,t.left+f.placed,l,x,b),f.start=l,f.placed+=x,l=h.bottom}else{const x=t.h*g,b=f.size||h.width;Qf(f.start)&&(a=f.start),h.fullSize?rf(h,a,i.top,b,e.outerHeight-i.bottom-i.top):rf(h,a,t.top+f.placed,b,x),f.start=a,f.placed+=x,a=h.right}}t.x=a,t.y=l}var ca={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const i=Js(n.options.layout.padding),a=Math.max(t-i.width,0),l=Math.max(e-i.height,0),u=b9(n.boxes),h=u.vertical,f=u.horizontal;Se(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const g=h.reduce((S,E)=>E.box.options&&E.box.options.display===!1?S:S+1,0)||1,x=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),b=Object.assign({},i);WN(b,Js(s));const w=Object.assign({maxPadding:b,w:a,h:l,x:i.left,y:i.top},i),T=x9(h.concat(f),x);Eu(u.fullSize,w,x,T),Eu(h,w,x,T),Eu(f,w,x,T)&&Eu(h,w,x,T),_9(w),y2(u.leftAndTop,w,x,T),w.x+=w.w,w.y+=w.h,y2(u.rightAndBottom,w,x,T),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Se(u.chartArea,S=>{const E=S.box;Object.assign(E,n.chartArea),E.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class YN{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,i){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):s)}}isAttached(t){return!0}updateConfig(t){}}class E9 extends YN{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Nf="$chartjs",T9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},x2=n=>n===null||n==="";function S9(n,t){const e=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[Nf]={initial:{height:s,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",x2(i)){const a=i2(n,"width");a!==void 0&&(n.width=a)}if(x2(s))if(n.style.height==="")n.height=n.width/(t||2);else{const a=i2(n,"height");a!==void 0&&(n.height=a)}return n}const KN=LL?{passive:!0}:!1;function N9(n,t,e){n&&n.addEventListener(t,e,KN)}function A9(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,KN)}function C9(n,t){const e=T9[n.type]||n.type,{x:s,y:i}=ao(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function em(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function k9(n,t,e){const s=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||em(u.addedNodes,s),l=l&&!em(u.removedNodes,s);l&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function R9(n,t,e){const s=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||em(u.removedNodes,s),l=l&&!em(u.addedNodes,s);l&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ju=new Map;let b2=0;function XN(){const n=window.devicePixelRatio;n!==b2&&(b2=n,Ju.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function I9(n,t){Ju.size||window.addEventListener("resize",XN),Ju.set(n,t)}function j9(n){Ju.delete(n),Ju.size||window.removeEventListener("resize",XN)}function D9(n,t,e){const s=n.canvas,i=s&&yx(s);if(!i)return;const a=NN((u,h)=>{const f=i.clientWidth;e(u,h),f<i.clientWidth&&e()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(i),I9(n,a),l}function h0(n,t,e){e&&e.disconnect(),t==="resize"&&j9(n)}function M9(n,t,e){const s=n.canvas,i=NN(a=>{n.ctx!==null&&e(C9(a,n))},n);return N9(s,t,i),i}class O9 extends YN{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(S9(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[Nf])return!1;const s=e[Nf].initial;["height","width"].forEach(a=>{const l=s[a];Pe(l)?e.removeAttribute(a):e.setAttribute(a,l)});const i=s.style||{};return Object.keys(i).forEach(a=>{e.style[a]=i[a]}),e.width=e.width,delete e[Nf],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),l={attach:k9,detach:R9,resize:D9}[e]||M9;i[e]=l(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),i=s[e];if(!i)return;({attach:h0,detach:h0,resize:h0}[e]||A9)(t,e,i),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,i){return PL(t,e,s,i)}isAttached(t){const e=t&&yx(t);return!!(e&&e.isConnected)}}function P9(n){return!gx()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?E9:O9}class ac{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return Xu(this.x)&&Xu(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const i={};return t.forEach(a=>{i[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),i}}function L9(n,t){const e=n.options.ticks,s=V9(n),i=Math.min(e.maxTicksLimit||s,s),a=e.major.enabled?U9(t):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>i)return B9(t,f,a,l/i),f;const g=z9(a,t,i);if(l>0){let x,b;const w=l>1?Math.round((h-u)/(l-1)):null;for(af(t,f,g,Pe(w)?0:u-w,u),x=0,b=l-1;x<b;x++)af(t,f,g,a[x],a[x+1]);return af(t,f,g,h,Pe(w)?t.length:h+w),f}return af(t,f,g),f}function V9(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),i=n._maxLength/e;return Math.floor(Math.min(s,i))}function z9(n,t,e){const s=F9(n),i=t.length/e;if(!s)return Math.max(i,1);const a=jP(s);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>i)return h}return Math.max(i,1)}function U9(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function B9(n,t,e,s){let i=0,a=e[0],l;for(s=Math.ceil(s),l=0;l<n.length;l++)l===a&&(t.push(n[l]),i++,a=e[i*s])}function af(n,t,e,s,i){const a=he(s,0),l=Math.min(he(i,n.length),n.length);let u=0,h,f,g;for(e=Math.ceil(e),i&&(h=i-s,e=h/Math.floor(h/e)),g=a;g<0;)u++,g=Math.round(a+u*e);for(f=Math.max(a,0);f<l;f++)f===g&&(t.push(n[f]),u++,g=Math.round(a+u*e))}function F9(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const H9=n=>n==="left"?"right":n==="right"?"left":n,v2=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,_2=(n,t)=>Math.min(t||n,n);function w2(n,t){const e=[],s=n.length/t,i=n.length;let a=0;for(;a<i;a+=s)e.push(n[Math.floor(a)]);return e}function $9(n,t,e){const s=n.ticks.length,i=Math.min(t,s-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(i),f;if(!(e&&(s===1?f=Math.max(h-a,l-h):t===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(i-1))/2,h+=i<t?f:-f,h<a-u||h>l+u)))return h}function G9(n,t){Se(n,e=>{const s=e.gc,i=s.length/2;let a;if(i>t){for(a=0;a<i;++a)delete e.data[s[a]];s.splice(0,i)}})}function mu(n){return n.drawTicks?n.tickLength:0}function E2(n,t){if(!n.display)return 0;const e=is(n.font,t),s=Js(n.padding);return(Tn(n.text)?n.text.length:1)*e.lineHeight+s.height}function q9(n,t){return Ao(n,{scale:t,type:"scale"})}function W9(n,t,e){return Ao(n,{tick:e,index:t,type:"tick"})}function Y9(n,t,e){let s=AN(n);return(e&&t!=="right"||!e&&t==="right")&&(s=H9(s)),s}function K9(n,t,e,s){const{top:i,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:g}=h;let x=0,b,w,T;const S=l-i,E=u-a;if(n.isHorizontal()){if(w=ys(s,a,u),ye(e)){const k=Object.keys(e)[0],j=e[k];T=g[k].getPixelForValue(j)+S-t}else e==="center"?T=(f.bottom+f.top)/2+S-t:T=v2(n,e,t);b=u-a}else{if(ye(e)){const k=Object.keys(e)[0],j=e[k];w=g[k].getPixelForValue(j)-E+t}else e==="center"?w=(f.left+f.right)/2-E+t:w=v2(n,e,t);T=ys(s,l,i),x=e==="left"?-Ys:Ys}return{titleX:w,titleY:T,maxWidth:b,rotation:x}}class oc extends ac{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:i}=this;return t=yi(t,Number.POSITIVE_INFINITY),e=yi(e,Number.NEGATIVE_INFINITY),s=yi(s,Number.POSITIVE_INFINITY),i=yi(i,Number.NEGATIVE_INFINITY),{min:yi(t,s),max:yi(e,i),minDefined:Fn(t),maxDefined:Fn(e)}}getMinMax(t){let{min:e,max:s,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:e,max:s};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,t),i||(e=Math.min(e,l.min)),a||(s=Math.max(s,l.max));return e=a&&e>s?s:e,s=i&&e>s?e:s,{min:yi(e,yi(s,e)),max:yi(s,yi(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Le(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:i,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=mL(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?w2(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=L9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Le(this.options.afterUpdate,[this])}beforeSetDimensions(){Le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Le(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Le(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,i,a;for(s=0,i=t.length;s<i;s++)a=t[s],a.label=Le(e.callback,[a.value,s,t],this)}afterTickToLabelConversion(){Le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=_2(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,a=e.maxRotation;let l=i,u,h,f;if(!this._isVisible()||!e.display||i>=a||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),x=g.widest.width,b=g.highest.height,w=Os(this.chart.width-x,0,this.maxWidth);u=t.offset?this.maxWidth/s:w/(s-1),x+6>u&&(u=w/(s-(t.offset?.5:1)),h=this.maxHeight-mu(t.grid)-e.padding-E2(t.title,this.chart.options.font),f=Math.sqrt(x*x+b*b),l=PP(Math.min(Math.asin(Os((g.highest.height+6)/u,-1,1)),Math.asin(Os(h/f,-1,1))-Math.asin(Os(b/f,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Le(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:i,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=E2(i,e.options.font);if(u?(t.width=this.maxWidth,t.height=mu(a)+h):(t.height=this.maxHeight,t.width=mu(a)+h),s.display&&this.ticks.length){const{first:f,last:g,widest:x,highest:b}=this._getLabelSizes(),w=s.padding*2,T=uo(this.labelRotation),S=Math.cos(T),E=Math.sin(T);if(u){const k=s.mirror?0:E*x.width+S*b.height;t.height=Math.min(this.maxHeight,t.height+k+w)}else{const k=s.mirror?0:S*x.width+E*b.height;t.width=Math.min(this.maxWidth,t.width+k+w)}this._calculatePadding(f,g,E,S)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,i){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;h?f?(b=i*t.width,w=s*e.height):(b=s*t.height,w=i*e.width):a==="start"?w=e.width:a==="end"?b=t.width:a!=="inner"&&(b=t.width/2,w=e.width/2),this.paddingLeft=Math.max((b-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((w-x+l)*this.width/(this.width-x),0)}else{let g=e.height/2,x=t.height/2;a==="start"?(g=0,x=t.height):a==="end"&&(g=e.height,x=0),this.paddingTop=g+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Le(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Pe(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=w2(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:i,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(e/_2(e,s));let f=0,g=0,x,b,w,T,S,E,k,j,O,B,z;for(x=0;x<e;x+=h){if(T=t[x].label,S=this._resolveTickFontOptions(x),i.font=E=S.string,k=a[E]=a[E]||{data:{},gc:[]},j=S.lineHeight,O=B=0,!Pe(T)&&!Tn(T))O=Zw(i,k.data,k.gc,O,T),B=j;else if(Tn(T))for(b=0,w=T.length;b<w;++b)z=T[b],!Pe(z)&&!Tn(z)&&(O=Zw(i,k.data,k.gc,O,z),B+=j);l.push(O),u.push(B),f=Math.max(O,f),g=Math.max(B,g)}G9(a,e);const H=l.indexOf(f),A=u.indexOf(g),R=I=>({width:l[I]||0,height:u[I]||0});return{first:R(0),last:R(e-1),widest:R(H),highest:R(A),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return zP(this._alignToPixels?so(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=W9(this.getContext(),t,s))}return this.$context||(this.$context=q9(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=uo(this.labelRotation),s=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*s>u*i?u/s:h/i:h*i<u*s?h/s:u/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,i=this.options,{grid:a,position:l,border:u}=i,h=a.offset,f=this.isHorizontal(),x=this.ticks.length+(h?1:0),b=mu(a),w=[],T=u.setContext(this.getContext()),S=T.display?T.width:0,E=S/2,k=function(W){return so(s,W,S)};let j,O,B,z,H,A,R,I,M,U,V,L;if(l==="top")j=k(this.bottom),A=this.bottom-b,I=j-E,U=k(t.top)+E,L=t.bottom;else if(l==="bottom")j=k(this.top),U=t.top,L=k(t.bottom)-E,A=j+E,I=this.top+b;else if(l==="left")j=k(this.right),H=this.right-b,R=j-E,M=k(t.left)+E,V=t.right;else if(l==="right")j=k(this.left),M=t.left,V=k(t.right)-E,H=j+E,R=this.left+b;else if(e==="x"){if(l==="center")j=k((t.top+t.bottom)/2+.5);else if(ye(l)){const W=Object.keys(l)[0],at=l[W];j=k(this.chart.scales[W].getPixelForValue(at))}U=t.top,L=t.bottom,A=j+E,I=A+b}else if(e==="y"){if(l==="center")j=k((t.left+t.right)/2);else if(ye(l)){const W=Object.keys(l)[0],at=l[W];j=k(this.chart.scales[W].getPixelForValue(at))}H=j-E,R=H-b,M=t.left,V=t.right}const gt=he(i.ticks.maxTicksLimit,x),dt=Math.max(1,Math.ceil(x/gt));for(O=0;O<x;O+=dt){const W=this.getContext(O),at=a.setContext(W),wt=u.setContext(W),Pt=at.lineWidth,q=at.color,st=wt.dash||[],ft=wt.dashOffset,rt=at.tickWidth,mt=at.tickColor,xt=at.tickBorderDash||[],yt=at.tickBorderDashOffset;B=$9(this,O,h),B!==void 0&&(z=so(s,B,Pt),f?H=R=M=V=z:A=I=U=L=z,w.push({tx1:H,ty1:A,tx2:R,ty2:I,x1:M,y1:U,x2:V,y2:L,width:Pt,color:q,borderDash:st,borderDashOffset:ft,tickWidth:rt,tickColor:mt,tickBorderDash:xt,tickBorderDashOffset:yt}))}return this._ticksLength=x,this._borderValue=j,w}_computeLabelItems(t){const e=this.axis,s=this.options,{position:i,ticks:a}=s,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:x}=a,b=mu(s.grid),w=b+g,T=x?-g:w,S=-uo(this.labelRotation),E=[];let k,j,O,B,z,H,A,R,I,M,U,V,L="middle";if(i==="top")H=this.bottom-T,A=this._getXAxisLabelAlignment();else if(i==="bottom")H=this.top+T,A=this._getXAxisLabelAlignment();else if(i==="left"){const dt=this._getYAxisLabelAlignment(b);A=dt.textAlign,z=dt.x}else if(i==="right"){const dt=this._getYAxisLabelAlignment(b);A=dt.textAlign,z=dt.x}else if(e==="x"){if(i==="center")H=(t.top+t.bottom)/2+w;else if(ye(i)){const dt=Object.keys(i)[0],W=i[dt];H=this.chart.scales[dt].getPixelForValue(W)+w}A=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")z=(t.left+t.right)/2-w;else if(ye(i)){const dt=Object.keys(i)[0],W=i[dt];z=this.chart.scales[dt].getPixelForValue(W)}A=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(h==="start"?L="top":h==="end"&&(L="bottom"));const gt=this._getLabelSizes();for(k=0,j=u.length;k<j;++k){O=u[k],B=O.label;const dt=a.setContext(this.getContext(k));R=this.getPixelForTick(k)+a.labelOffset,I=this._resolveTickFontOptions(k),M=I.lineHeight,U=Tn(B)?B.length:1;const W=U/2,at=dt.color,wt=dt.textStrokeColor,Pt=dt.textStrokeWidth;let q=A;l?(z=R,A==="inner"&&(k===j-1?q=this.options.reverse?"left":"right":k===0?q=this.options.reverse?"right":"left":q="center"),i==="top"?f==="near"||S!==0?V=-U*M+M/2:f==="center"?V=-gt.highest.height/2-W*M+M:V=-gt.highest.height+M/2:f==="near"||S!==0?V=M/2:f==="center"?V=gt.highest.height/2-W*M:V=gt.highest.height-U*M,x&&(V*=-1),S!==0&&!dt.showLabelBackdrop&&(z+=M/2*Math.sin(S))):(H=R,V=(1-U)*M/2);let st;if(dt.showLabelBackdrop){const ft=Js(dt.backdropPadding),rt=gt.heights[k],mt=gt.widths[k];let xt=V-ft.top,yt=0-ft.left;switch(L){case"middle":xt-=rt/2;break;case"bottom":xt-=rt;break}switch(A){case"center":yt-=mt/2;break;case"right":yt-=mt;break;case"inner":k===j-1?yt-=mt:k>0&&(yt-=mt/2);break}st={left:yt,top:xt,width:mt+ft.width,height:rt+ft.height,color:dt.backdropColor}}E.push({label:B,font:I,textOffset:V,options:{rotation:S,color:at,strokeColor:wt,strokeWidth:Pt,textAlign:q,textBaseline:L,translation:[z,H],backdrop:st}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-uo(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),u=t+a,h=l.widest.width;let f,g;return e==="left"?i?(g=this.right+a,s==="near"?f="left":s==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,s==="near"?f="right":s==="center"?(f="center",g-=h/2):(f="left",g=this.left)):e==="right"?i?(g=this.left+a,s==="near"?f="right":s==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,s==="near"?f="left":s==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:i,width:a,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,i,a,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const u=(h,f,g)=>{!g.width||!g.color||(s.save(),s.lineWidth=g.width,s.strokeStyle=g.color,s.setLineDash(g.borderDash||[]),s.lineDashOffset=g.borderDashOffset,s.beginPath(),s.moveTo(h.x,h.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(e.display)for(a=0,l=i.length;a<l;++a){const h=i[a];e.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:i}}=this,a=s.setContext(this.getContext()),l=s.display?a.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,x,b;this.isHorizontal()?(f=so(t,this.left,l)-l/2,g=so(t,this.right,u)+u/2,x=b=h):(x=so(t,this.top,l)-l/2,b=so(t,this.bottom,u)+u/2,f=g=h),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(f,x),e.lineTo(g,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Nm(s,i);const a=this.getLabelItems(t);for(const l of a){const u=l.options,h=l.font,f=l.label,g=l.textOffset;Zf(s,f,0,g,h,u)}i&&Am(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:i}}=this;if(!s.display)return;const a=is(s.font),l=Js(s.padding),u=s.align;let h=a.lineHeight/2;e==="bottom"||e==="center"||ye(e)?(h+=l.bottom,Tn(s.text)&&(h+=a.lineHeight*(s.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:x,rotation:b}=K9(this,h,e,u);Zf(t,s.text,0,0,a,{color:s.color,maxWidth:x,rotation:b,textAlign:Y9(u,e,i),textBaseline:"middle",translation:[f,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=he(t.grid&&t.grid.z,-1),i=he(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==oc.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let a,l;for(a=0,l=e.length;a<l;++a){const u=e[a];u[s]===this.id&&(!t||u.type===t)&&i.push(u)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return is(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class of{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;J9(e)&&(s=this.register(e));const i=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,X9(t,l,s),this.override&&tn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,i=this.scope;s in e&&delete e[s],i&&s in tn[i]&&(delete tn[i][s],this.override&&delete wo[s])}}function X9(n,t,e){const s=Ku(Object.create(null),[e?tn.get(e):{},tn.get(t),n.defaults]);tn.set(t,s),n.defaultRoutes&&Q9(t,n.defaultRoutes),n.descriptors&&tn.describe(t,n.descriptors)}function Q9(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),i=s.pop(),a=[n].concat(s).join("."),l=t[e].split("."),u=l.pop(),h=l.join(".");tn.route(a,i,h,u)})}function J9(n){return"id"in n&&"defaults"in n}class Z9{constructor(){this.controllers=new of(GN,"datasets",!0),this.elements=new of(ac,"elements"),this.plugins=new of(Object,"plugins"),this.scales=new of(oc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(i=>{const a=s||this._getRegistryForType(i);s||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):Se(i,l=>{const u=s||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,s){const i=ux(t);Le(s["before"+i],[],s),e[t](s),Le(s["after"+i],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var bi=new Z9;class tV{constructor(){this._init=void 0}notify(t,e,s,i){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=i?this._descriptors(t).filter(i):this._descriptors(t),l=this._notify(a,t,e,s);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,s,i){i=i||{};for(const a of t){const l=a.plugin,u=l[s],h=[e,i,a.options];if(Le(u,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,i=he(s.options&&s.options.plugins,{}),a=eV(s);return i===!1&&!e?[]:sV(t,a,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,i=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(i(e,s),t,"stop"),this._notify(i(s,e),t,"start")}}function eV(n){const t={},e=[],s=Object.keys(bi.plugins.items);for(let a=0;a<s.length;a++)e.push(bi.getPlugin(s[a]));const i=n.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function nV(n,t){return!t&&n===!1?null:n===!0?{}:n}function sV(n,{plugins:t,localIds:e},s,i){const a=[],l=n.getContext();for(const u of t){const h=u.id,f=nV(s[h],i);f!==null&&a.push({plugin:u,options:iV(n.config,{plugin:u,local:e[h]},f,l)})}return a}function iV(n,{plugin:t,local:e},s,i){const a=n.pluginScopeKeys(t),l=n.getOptionScopes(s,a);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Q0(n,t){const e=tn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function rV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function aV(n,t){return n===t?"_index_":"_value_"}function T2(n){if(n==="x"||n==="y"||n==="r")return n}function oV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function J0(n,...t){if(T2(n))return n;for(const e of t){const s=e.axis||oV(e.position)||n.length>1&&T2(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function S2(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function lV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return S2(n,"x",e[0])||S2(n,"y",e[0])}return{}}function cV(n,t){const e=wo[n.type]||{scales:{}},s=t.scales||{},i=Q0(n.type,t),a=Object.create(null);return Object.keys(s).forEach(l=>{const u=s[l];if(!ye(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=J0(l,u,lV(l,n),tn.scales[u.type]),f=aV(h,i),g=e.scales||{};a[l]=Iu(Object.create(null),[{axis:h},u,g[h],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||Q0(u,t),g=(wo[u]||{}).scales||{};Object.keys(g).forEach(x=>{const b=rV(x,h),w=l[b+"AxisID"]||b;a[w]=a[w]||Object.create(null),Iu(a[w],[{axis:b},s[w],g[x]])})}),Object.keys(a).forEach(l=>{const u=a[l];Iu(u,[tn.scales[u.type],tn.scale])}),a}function QN(n){const t=n.options||(n.options={});t.plugins=he(t.plugins,{}),t.scales=cV(n,t)}function JN(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function uV(n){return n=n||{},n.data=JN(n.data),QN(n),n}const N2=new Map,ZN=new Set;function lf(n,t){let e=N2.get(n);return e||(e=t(),N2.set(n,e),ZN.add(e)),e}const pu=(n,t,e)=>{const s=Xf(t,e);s!==void 0&&n.add(s)};class hV{constructor(t){this._config=uV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=JN(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),QN(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return lf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return lf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return lf(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let i=s.get(t);return(!i||e)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,e,s){const{options:i,type:a}=this,l=this._cachedScopes(t,s),u=l.get(e);if(u)return u;const h=new Set;e.forEach(g=>{t&&(h.add(t),g.forEach(x=>pu(h,t,x))),g.forEach(x=>pu(h,i,x)),g.forEach(x=>pu(h,wo[a]||{},x)),g.forEach(x=>pu(h,tn,x)),g.forEach(x=>pu(h,Y0,x))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),ZN.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,wo[e]||{},tn.datasets[e]||{},{type:e},tn,Y0]}resolveNamedOptions(t,e,s,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=A2(this._resolverCache,t,i);let h=l;if(fV(l,e)){a.$shared=!1,s=Ea(s)?s():s;const f=this.createResolver(t,s,u);h=$l(l,s,f)}for(const f of e)a[f]=h[f];return a}createResolver(t,e,s=[""],i){const{resolver:a}=A2(this._resolverCache,t,s);return ye(e)?$l(a,e,void 0,i):a}}function A2(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const i=e.join();let a=s.get(i);return a||(a={resolver:fx(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},s.set(i,a)),a}const dV=n=>ye(n)&&Object.getOwnPropertyNames(n).some(t=>Ea(n[t]));function fV(n,t){const{isScriptable:e,isIndexable:s}=jN(n);for(const i of t){const a=e(i),l=s(i),u=(l||a)&&n[i];if(a&&(Ea(u)||dV(u))||l&&Tn(u))return!0}return!1}var mV="4.5.1";const pV=["top","bottom","left","right","chartArea"];function C2(n,t){return n==="top"||n==="bottom"||pV.indexOf(n)===-1&&t==="x"}function k2(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function R2(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Le(e&&e.onComplete,[n],t)}function gV(n){const t=n.chart,e=t.options.animation;Le(e&&e.onProgress,[n],t)}function tA(n){return gx()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Af={},I2=n=>{const t=tA(n);return Object.values(Af).filter(e=>e.canvas===t).pop()};function yV(n,t,e){const s=Object.keys(n);for(const i of s){const a=+i;if(a>=t){const l=n[i];delete n[i],(e>0||a>t)&&(n[a+e]=l)}}}function xV(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}let Rm=class{static defaults=tn;static instances=Af;static overrides=wo;static registry=bi;static version=mV;static getChart=I2;static register(...t){bi.add(...t),j2()}static unregister(...t){bi.remove(...t),j2()}constructor(t,e){const s=this.config=new hV(e),i=tA(t),a=I2(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||P9(i)),this.platform.updateConfig(s);const u=this.platform.acquireContext(i,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=EP(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$P(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],Af[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}rr.listen(this,"complete",R2),rr.listen(this,"progress",gV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:i,_aspectRatio:a}=this;return Pe(t)?e&&a?a:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():s2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return t2(this.canvas,this.ctx),this}stop(){return rr.stop(this),this}resize(t,e){rr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,i=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,t,e,a),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,s2(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Le(s.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Se(e,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,i=Object.keys(s).reduce((l,u)=>(l[u]=!1,l),{});let a=[];e&&(a=a.concat(Object.keys(e).map(l=>{const u=e[l],h=J0(l,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Se(a,l=>{const u=l.options,h=u.id,f=J0(h,u),g=he(u.type,l.dtype);(u.position===void 0||C2(u.position,f)!==C2(l.dposition))&&(u.position=l.dposition),i[h]=!0;let x=null;if(h in s&&s[h].type===g)x=s[h];else{const b=bi.getScale(g);x=new b({id:h,type:g,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,t)}),Se(i,(l,u)=>{l||delete s[u]}),Se(s,l=>{ca.configure(this,l,l.options),ca.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((i,a)=>i.index-a.index),s>e){for(let i=e;i<s;++i)this._destroyDatasetMeta(i);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(k2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,i)=>{e.filter(a=>a===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=e.length;s<i;s++){const a=e[s];let l=this.getDatasetMeta(s);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=u,l.indexAxis=a.indexAxis||Q0(u,this.options),l.order=a.order||0,l.index=s,l.label=""+a.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const h=bi.getController(u),{datasetElementType:f,dataElementType:g}=tn.datasets[u];Object.assign(h,{dataElementType:bi.getElement(g),datasetElementType:f&&bi.getElement(f)}),l.controller=new h(this,s),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Se(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:x}=this.getDatasetMeta(f),b=!i&&a.indexOf(x)===-1;x.buildOrUpdateElements(b),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),i||Se(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(k2("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Se(this.scales,t=>{ca.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!$w(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:a}of e){const l=s==="_removeElements"?-a:a;yV(t,i,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=a=>new Set(t.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),i=s(0);for(let a=1;a<e;a++)if(!$w(i,s(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ca.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],Se(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,Ea(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rr.has(this)?this.attached&&!rr.running(this)&&rr.start(this):(this.draw(),R2({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let i,a;for(i=0,a=e.length;i<a;++i){const l=e[i];(!t||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=FN(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Nm(e,i),t.controller.draw(),i&&Am(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Qu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,i){const a=p9.modes[e];return typeof a=="function"?a(this,t,s,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let i=s.filter(a=>a&&a._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Ao(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const i=s?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,i);Qf(e)?(a.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),l.update(a,{visible:s}),this.update(u=>u.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),rr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),t2(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Af[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(a,l)=>{e.addEventListener(this,a,l),t[a]=l},i=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Se(this.options.events,a=>s(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(h,f)=>{e.addEventListener(this,h,f),t[h]=f},i=(h,f)=>{t[h]&&(e.removeEventListener(this,h,f),delete t[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),s("resize",a),s("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),s("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Se(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Se(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const i=s?"set":"remove";let a,l,u,h;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,h=t.length;u<h;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Yf(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const i=this.options.hover,a=(h,f)=>h.filter(g=>!f.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),l=a(e,t),u=s?t:a(t,e);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const a=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(a||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:i=[],options:a}=this,l=e,u=this._getActiveElements(t,i,s,l),h=kP(t),f=xV(t,this._lastEvent,s,h);s&&(this._lastEvent=null,Le(a.onHover,[t,u,this],this),h&&Le(a.onClick,[t,u,this],this));const g=!Yf(u,i);return(g||e)&&(this._active=u,this._updateHoverStyles(u,i,e)),this._lastEvent=f,g}_getActiveElements(t,e,s,i){if(t.type==="mouseout")return[];if(!s)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}};function j2(){return Se(Rm.instances,n=>n._plugins.invalidate())}function eA(n,t,e=t){n.lineCap=he(e.borderCapStyle,t.borderCapStyle),n.setLineDash(he(e.borderDash,t.borderDash)),n.lineDashOffset=he(e.borderDashOffset,t.borderDashOffset),n.lineJoin=he(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=he(e.borderWidth,t.borderWidth),n.strokeStyle=he(e.borderColor,t.borderColor)}function bV(n,t,e){n.lineTo(e.x,e.y)}function vV(n){return n.stepped?iL:n.tension||n.cubicInterpolationMode==="monotone"?rL:bV}function nA(n,t,e={}){const s=n.length,{start:i=0,end:a=s-1}=e,{start:l,end:u}=t,h=Math.max(i,l),f=Math.min(a,u),g=i<l&&a<l||i>u&&a>u;return{count:s,start:h,loop:t.loop,ilen:f<h&&!g?s+f-h:f-h}}function _V(n,t,e,s){const{points:i,options:a}=t,{count:l,start:u,loop:h,ilen:f}=nA(i,e,s),g=vV(a);let{move:x=!0,reverse:b}=s||{},w,T,S;for(w=0;w<=f;++w)T=i[(u+(b?f-w:w))%l],!T.skip&&(x?(n.moveTo(T.x,T.y),x=!1):g(n,S,T,b,a.stepped),S=T);return h&&(T=i[(u+(b?f:0))%l],g(n,S,T,b,a.stepped)),!!h}function wV(n,t,e,s){const i=t.points,{count:a,start:l,ilen:u}=nA(i,e,s),{move:h=!0,reverse:f}=s||{};let g=0,x=0,b,w,T,S,E,k;const j=B=>(l+(f?u-B:B))%a,O=()=>{S!==E&&(n.lineTo(g,E),n.lineTo(g,S),n.lineTo(g,k))};for(h&&(w=i[j(0)],n.moveTo(w.x,w.y)),b=0;b<=u;++b){if(w=i[j(b)],w.skip)continue;const B=w.x,z=w.y,H=B|0;H===T?(z<S?S=z:z>E&&(E=z),g=(x*g+B)/++x):(O(),n.lineTo(B,z),T=H,x=0,S=E=z),k=z}O()}function Z0(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?wV:_V}function EV(n){return n.stepped?VL:n.tension||n.cubicInterpolationMode==="monotone"?zL:oo}function TV(n,t,e,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,s)&&i.closePath()),eA(n,t.options),n.stroke(i)}function SV(n,t,e,s){const{segments:i,options:a}=t,l=Z0(t);for(const u of i)eA(n,a,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const NV=typeof Path2D=="function";function AV(n,t,e,s){NV&&!t.options.segment?TV(n,t,e,s):SV(n,t,e,s)}class Im extends ac{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;RL(this._points,s,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GL(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,i=t[e],a=this.points,l=BN(this,{property:e,start:i,end:i});if(!l.length)return;const u=[],h=EV(s);let f,g;for(f=0,g=l.length;f<g;++f){const{start:x,end:b}=l[f],w=a[x],T=a[b];if(w===T){u.push(w);continue}const S=Math.abs((i-w[e])/(T[e]-w[e])),E=h(w,T,S,s.stepped);E[e]=t[e],u.push(E)}return u.length===1?u[0]:u}pathSegment(t,e,s){return Z0(this)(t,this,e,s)}path(t,e,s){const i=this.segments,a=Z0(this);let l=this._loop;e=e||0,s=s||this.points.length-e;for(const u of i)l&=a(t,this,u,{start:e,end:e+s-1});return!!l}draw(t,e,s,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),AV(t,this,s,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function D2(n,t,e,s){const i=n.options,{[e]:a}=n.getProps([e],s);return Math.abs(t-a)<i.radius+i.hitRadius}class CV extends ac{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(t-a,2)+Math.pow(e-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return D2(this,t,"x",e)}inYRange(t,e){return D2(this,t,"y",e)}getCenterPoint(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const s=e&&t.borderWidth||0;return(e+s)*2}draw(t,e){const s=this.options;this.skip||s.radius<.1||!Qu(this,e,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,K0(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function kV(n,t,e){const s=n.segments,i=n.points,a=t.points,l=[];for(const u of s){let{start:h,end:f}=u;f=jm(h,f,i);const g=ty(e,i[h],i[f],u.loop);if(!t.segments){l.push({source:u,target:g,start:i[h],end:i[f]});continue}const x=BN(t,g);for(const b of x){const w=ty(e,a[b.start],a[b.end],b.loop),T=UN(u,i,w);for(const S of T)l.push({source:S,target:b,start:{[e]:M2(g,w,"start",Math.max)},end:{[e]:M2(g,w,"end",Math.min)}})}}return l}function ty(n,t,e,s){if(s)return;let i=t[n],a=e[n];return n==="angle"&&(i=_i(i),a=_i(a)),{property:n,start:i,end:a}}function RV(n,t){const{x:e=null,y:s=null}=n||{},i=t.points,a=[];return t.segments.forEach(({start:l,end:u})=>{u=jm(l,u,i);const h=i[l],f=i[u];s!==null?(a.push({x:h.x,y:s}),a.push({x:f.x,y:s})):e!==null&&(a.push({x:e,y:h.y}),a.push({x:e,y:f.y}))}),a}function jm(n,t,e){for(;t>n;t--){const s=e[t];if(!isNaN(s.x)&&!isNaN(s.y))break}return t}function M2(n,t,e,s){return n&&t?s(n[e],t[e]):n?n[e]:t?t[e]:0}function sA(n,t){let e=[],s=!1;return Tn(n)?(s=!0,e=n):e=RV(n,t),e.length?new Im({points:e,options:{tension:0},_loop:s,_fullLoop:s}):null}function O2(n){return n&&n.fill!==!1}function IV(n,t,e){let i=n[t].fill;const a=[t];let l;if(!e)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!Fn(i))return i;if(l=n[i],!l)return!1;if(l.visible)return i;a.push(i),i=l.fill}return!1}function jV(n,t,e){const s=PV(n);if(ye(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Fn(i)&&Math.floor(i)===i?DV(s[0],t,i,e):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function DV(n,t,e,s){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=s?!1:e}function MV(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:ye(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function OV(n,t,e){let s;return n==="start"?s=e:n==="end"?s=t.options.reverse?t.min:t.max:ye(n)?s=n.value:s=t.getBaseValue(),s}function PV(n){const t=n.options,e=t.fill;let s=he(e&&e.target,e);return s===void 0&&(s=!!t.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function LV(n){const{scale:t,index:e,line:s}=n,i=[],a=s.segments,l=s.points,u=VV(t,e);u.push(sA({x:null,y:t.bottom},s));for(let h=0;h<a.length;h++){const f=a[h];for(let g=f.start;g<=f.end;g++)zV(i,l[g],u)}return new Im({points:i,options:{}})}function VV(n,t){const e=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const a=s[i];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function zV(n,t,e){const s=[];for(let i=0;i<e.length;i++){const a=e[i],{first:l,last:u,point:h}=UV(a,t,"x");if(!(!h||l&&u)){if(l)s.unshift(h);else if(n.push(h),!u)break}}n.push(...s)}function UV(n,t,e){const s=n.interpolate(t,e);if(!s)return{};const i=s[e],a=n.segments,l=n.points;let u=!1,h=!1;for(let f=0;f<a.length;f++){const g=a[f],x=l[g.start][e],b=l[g.end][e];if(Nl(i,x,b)){u=i===x,h=i===b;break}}return{first:u,last:h,point:s}}class iA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,s){const{x:i,y:a,radius:l}=this;return e=e||{start:0,end:Ks},t.arc(i,a,l,e.end,e.start,!0),!s.bounds}interpolate(t){const{x:e,y:s,radius:i}=this,a=t.angle;return{x:e+Math.cos(a)*i,y:s+Math.sin(a)*i,angle:a}}}function BV(n){const{chart:t,fill:e,line:s}=n;if(Fn(e))return FV(t,e);if(e==="stack")return LV(n);if(e==="shape")return!0;const i=HV(n);return i instanceof iA?i:sA(i,s)}function FV(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function HV(n){return(n.scale||{}).getPointPositionForValue?GV(n):$V(n)}function $V(n){const{scale:t={},fill:e}=n,s=MV(e,t);if(Fn(s)){const i=t.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function GV(n){const{scale:t,fill:e}=n,s=t.options,i=t.getLabels().length,a=s.reverse?t.max:t.min,l=OV(e,t,a),u=[];if(s.grid.circular){const h=t.getPointPositionForValue(0,a);return new iA({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<i;++h)u.push(t.getPointPositionForValue(h,l));return u}function d0(n,t,e){const s=BV(t),{chart:i,index:a,line:l,scale:u,axis:h}=t,f=l.options,g=f.fill,x=f.backgroundColor,{above:b=x,below:w=x}=g||{},T=i.getDatasetMeta(a),S=FN(i,T);s&&l.points.length&&(Nm(n,e),qV(n,{line:l,target:s,above:b,below:w,area:e,scale:u,axis:h,clip:S}),Am(n))}function qV(n,t){const{line:e,target:s,above:i,below:a,area:l,scale:u,clip:h}=t,f=e._loop?"angle":t.axis;n.save();let g=a;a!==i&&(f==="x"?(P2(n,s,l.top),f0(n,{line:e,target:s,color:i,scale:u,property:f,clip:h}),n.restore(),n.save(),P2(n,s,l.bottom)):f==="y"&&(L2(n,s,l.left),f0(n,{line:e,target:s,color:a,scale:u,property:f,clip:h}),n.restore(),n.save(),L2(n,s,l.right),g=i)),f0(n,{line:e,target:s,color:g,scale:u,property:f,clip:h}),n.restore()}function P2(n,t,e){const{segments:s,points:i}=t;let a=!0,l=!1;n.beginPath();for(const u of s){const{start:h,end:f}=u,g=i[h],x=i[jm(h,f,i)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(x.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function L2(n,t,e){const{segments:s,points:i}=t;let a=!0,l=!1;n.beginPath();for(const u of s){const{start:h,end:f}=u,g=i[h],x=i[jm(h,f,i)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(e,g.y),n.lineTo(g.x,g.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,x.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function f0(n,t){const{line:e,target:s,property:i,color:a,scale:l,clip:u}=t,h=kV(e,s,i);for(const{source:f,target:g,start:x,end:b}of h){const{style:{backgroundColor:w=a}={}}=f,T=s!==!0;n.save(),n.fillStyle=w,WV(n,l,u,T&&ty(i,x,b)),n.beginPath();const S=!!e.pathSegment(n,f);let E;if(T){S?n.closePath():V2(n,s,b,i);const k=!!s.pathSegment(n,g,{move:S,reverse:!0});E=S&&k,E||V2(n,s,x,i)}n.closePath(),n.fill(E?"evenodd":"nonzero"),n.restore()}}function WV(n,t,e,s){const i=t.chart.chartArea,{property:a,start:l,end:u}=s||{};if(a==="x"||a==="y"){let h,f,g,x;a==="x"?(h=l,f=i.top,g=u,x=i.bottom):(h=i.left,f=l,g=i.right,x=u),n.beginPath(),e&&(h=Math.max(h,e.left),g=Math.min(g,e.right),f=Math.max(f,e.top),x=Math.min(x,e.bottom)),n.rect(h,f,g-h,x-f),n.clip()}}function V2(n,t,e,s){const i=t.interpolate(e,s);i&&n.lineTo(i.x,i.y)}var YV={id:"filler",afterDatasetsUpdate(n,t,e){const s=(n.data.datasets||[]).length,i=[];let a,l,u,h;for(l=0;l<s;++l)a=n.getDatasetMeta(l),u=a.dataset,h=null,u&&u.options&&u instanceof Im&&(h={visible:n.isDatasetVisible(l),index:l,fill:jV(u,l,s),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=h,i.push(h);for(l=0;l<s;++l)h=i[l],!(!h||h.fill===!1)&&(h.fill=IV(i,l,e.propagate))},beforeDraw(n,t,e){const s=e.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=i.length-1;l>=0;--l){const u=i[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),s&&u.fill&&d0(n.ctx,u,a))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const a=s[i].$filler;O2(a)&&d0(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,t,e){const s=t.meta.$filler;!O2(s)||e.drawTime!=="beforeDatasetDraw"||d0(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const z2=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},KV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class U2 extends ac{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Le(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=is(s.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=z2(s,a);let f,g;e.font=i.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,u,h)+10):(g=this.maxHeight,f=this._fitCols(l,i,u,h)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,i){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=i+u;let x=t;a.textAlign="left",a.textBaseline="middle";let b=-1,w=-g;return this.legendItems.forEach((T,S)=>{const E=s+e/2+a.measureText(T.text).width;(S===0||f[f.length-1]+E+2*u>l)&&(x+=g,f[f.length-(S>0?0:1)]=0,w+=g,b++),h[S]={left:0,top:w,row:b,width:E,height:i},f[f.length-1]+=E+u}),x}_fitCols(t,e,s,i){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-t;let x=u,b=0,w=0,T=0,S=0;return this.legendItems.forEach((E,k)=>{const{itemWidth:j,itemHeight:O}=XV(s,e,a,E,i);k>0&&w+O+2*u>g&&(x+=b+u,f.push({width:b,height:w}),T+=b+u,S++,b=w=0),h[k]={left:T,top:w,col:S,width:j,height:O},b=Math.max(b,j),w+=O+u}),x+=b,f.push({width:b,height:w}),x}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:i},rtl:a}}=this,l=jl(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=ys(s,this.left+i,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,h=ys(s,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+t+i,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+i}else{let u=0,h=ys(s,this.top+t+i,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,h=ys(s,this.top+t+i,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+i,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Nm(t,this),this._draw(),Am(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:i}=this,{align:a,labels:l}=t,u=tn.color,h=jl(t.rtl,this.left,this.width),f=is(l.font),{padding:g}=l,x=f.size,b=x/2;let w;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:T,boxHeight:S,itemHeight:E}=z2(l,x),k=function(H,A,R){if(isNaN(T)||T<=0||isNaN(S)||S<0)return;i.save();const I=he(R.lineWidth,1);if(i.fillStyle=he(R.fillStyle,u),i.lineCap=he(R.lineCap,"butt"),i.lineDashOffset=he(R.lineDashOffset,0),i.lineJoin=he(R.lineJoin,"miter"),i.lineWidth=I,i.strokeStyle=he(R.strokeStyle,u),i.setLineDash(he(R.lineDash,[])),l.usePointStyle){const M={radius:S*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:I},U=h.xPlus(H,T/2),V=A+b;RN(i,M,U,V,l.pointStyleWidth&&T)}else{const M=A+Math.max((x-S)/2,0),U=h.leftForLtr(H,T),V=Ou(R.borderRadius);i.beginPath(),Object.values(V).some(L=>L!==0)?X0(i,{x:U,y:M,w:T,h:S,radius:V}):i.rect(U,M,T,S),i.fill(),I!==0&&i.stroke()}i.restore()},j=function(H,A,R){Zf(i,R.text,H,A+E/2,f,{strikethrough:R.hidden,textAlign:h.textAlign(R.textAlign)})},O=this.isHorizontal(),B=this._computeTitleHeight();O?w={x:ys(a,this.left+g,this.right-s[0]),y:this.top+g+B,line:0}:w={x:this.left+g,y:ys(a,this.top+B+g,this.bottom-e[0].height),line:0},LN(this.ctx,t.textDirection);const z=E+g;this.legendItems.forEach((H,A)=>{i.strokeStyle=H.fontColor,i.fillStyle=H.fontColor;const R=i.measureText(H.text).width,I=h.textAlign(H.textAlign||(H.textAlign=l.textAlign)),M=T+b+R;let U=w.x,V=w.y;h.setWidth(this.width),O?A>0&&U+M+g>this.right&&(V=w.y+=z,w.line++,U=w.x=ys(a,this.left+g,this.right-s[w.line])):A>0&&V+z>this.bottom&&(U=w.x=U+e[w.line].width+g,w.line++,V=w.y=ys(a,this.top+B+g,this.bottom-e[w.line].height));const L=h.x(U);if(k(L,V,H),U=GP(I,U+T+b,O?U+M:this.right,t.rtl),j(h.x(U),V,H),O)w.x+=M+g;else if(typeof H.text!="string"){const gt=f.lineHeight;w.y+=rA(H,gt)+g}else w.y+=z}),VN(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=is(e.font),i=Js(e.padding);if(!e.display)return;const a=jl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,h=s.size/2,f=i.top+h;let g,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+f,x=ys(t.align,x,this.right-b);else{const T=this.columnSizes.reduce((S,E)=>Math.max(S,E.height),0);g=f+ys(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const w=ys(u,x,x+b);l.textAlign=a.textAlign(AN(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=s.string,Zf(l,e.text,w,g,s)}_computeTitleHeight(){const t=this.options.title,e=is(t.font),s=Js(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,i,a;if(Nl(t,this.left,this.right)&&Nl(e,this.top,this.bottom)){for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(i=a[s],Nl(t,i.left,i.left+i.width)&&Nl(e,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!ZV(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=KV(i,s);i&&!a&&Le(e.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!a&&Le(e.onHover,[t,s,this],this)}else s&&Le(e.onClick,[t,s,this],this)}}function XV(n,t,e,s,i){const a=QV(s,n,t,e),l=JV(i,s,t.lineHeight);return{itemWidth:a,itemHeight:l}}function QV(n,t,e,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),t+e.size/2+s.measureText(i).width}function JV(n,t,e){let s=n;return typeof t.text!="string"&&(s=rA(t,e)),s}function rA(n,t){const e=n.text?n.text.length:0;return t*e}function ZV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var t8={id:"legend",_element:U2,start(n,t,e){const s=n.legend=new U2({ctx:n.ctx,options:e,chart:n});ca.configure(n,s,e),ca.addBox(n,s)},stop(n){ca.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;ca.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,i=e.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:i,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(e?0:void 0),g=Js(f.borderWidth);return{text:t[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Tu={average(n){if(!n.length)return!1;let t,e,s=new Set,i=0,a=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const h=u.tooltipPosition();s.add(h.x),i+=h.y,++a}}return a===0||s.size===0?!1:{x:[...s].reduce((u,h)=>u+h)/s.size,y:i/a}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,i=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=W0(t,f);g<i&&(i=g,u=h)}}if(u){const h=u.tooltipPosition();e=h.x,s=h.y}return{x:e,y:s}}};function xi(n,t){return t&&(Tn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ar(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function e8(n,t){const{element:e,datasetIndex:s,index:i}=t,a=n.getDatasetMeta(s).controller,{label:l,value:u}=a.getLabelAndValue(i);return{chart:n,label:l,parsed:a.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:s,element:e}}function B2(n,t){const e=n.chart.ctx,{body:s,footer:i,title:a}=n,{boxWidth:l,boxHeight:u}=t,h=is(t.bodyFont),f=is(t.titleFont),g=is(t.footerFont),x=a.length,b=i.length,w=s.length,T=Js(t.padding);let S=T.height,E=0,k=s.reduce((B,z)=>B+z.before.length+z.lines.length+z.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,x&&(S+=x*f.lineHeight+(x-1)*t.titleSpacing+t.titleMarginBottom),k){const B=t.displayColors?Math.max(u,h.lineHeight):h.lineHeight;S+=w*B+(k-w)*h.lineHeight+(k-1)*t.bodySpacing}b&&(S+=t.footerMarginTop+b*g.lineHeight+(b-1)*t.footerSpacing);let j=0;const O=function(B){E=Math.max(E,e.measureText(B).width+j)};return e.save(),e.font=f.string,Se(n.title,O),e.font=h.string,Se(n.beforeBody.concat(n.afterBody),O),j=t.displayColors?l+2+t.boxPadding:0,Se(s,B=>{Se(B.before,O),Se(B.lines,O),Se(B.after,O)}),j=0,e.font=g.string,Se(n.footer,O),e.restore(),E+=T.width,{width:E,height:S}}function n8(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function s8(n,t,e,s){const{x:i,width:a}=s,l=e.caretSize+e.caretPadding;if(n==="left"&&i+a+l>t.width||n==="right"&&i-a-l<0)return!0}function i8(n,t,e,s){const{x:i,width:a}=e,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return s==="center"?f=i<=(u+h)/2?"left":"right":i<=a/2?f="left":i>=l-a/2&&(f="right"),s8(f,n,t,e)&&(f="center"),f}function F2(n,t,e){const s=e.yAlign||t.yAlign||n8(n,e);return{xAlign:e.xAlign||t.xAlign||i8(n,t,e,s),yAlign:s}}function r8(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function a8(n,t,e){let{y:s,height:i}=n;return t==="top"?s+=e:t==="bottom"?s-=i+e:s-=i/2,s}function H2(n,t,e,s){const{caretSize:i,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=e,f=i+a,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:w}=Ou(l);let T=r8(t,u);const S=a8(t,h,f);return h==="center"?u==="left"?T+=f:u==="right"&&(T-=f):u==="left"?T-=Math.max(g,b)+i:u==="right"&&(T+=Math.max(x,w)+i),{x:Os(T,0,s.width-t.width),y:Os(S,0,s.height-t.height)}}function cf(n,t,e){const s=Js(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function $2(n){return xi([],ar(n))}function o8(n,t,e){return Ao(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function G2(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const aA={beforeTitle:ir,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:ir,beforeBody:ir,beforeLabel:ir,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Pe(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ir,afterBody:ir,beforeFooter:ir,footer:ir,afterFooter:ir};function ts(n,t,e,s){const i=n[t].call(e,s);return typeof i>"u"?aA[t].call(e,s):i}class q2 extends ac{static positioners=Tu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&e.options.animation&&s.animations,a=new HN(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=o8(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,i=ts(s,"beforeTitle",this,t),a=ts(s,"title",this,t),l=ts(s,"afterTitle",this,t);let u=[];return u=xi(u,ar(i)),u=xi(u,ar(a)),u=xi(u,ar(l)),u}getBeforeBody(t,e){return $2(ts(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,i=[];return Se(t,a=>{const l={before:[],lines:[],after:[]},u=G2(s,a);xi(l.before,ar(ts(u,"beforeLabel",this,a))),xi(l.lines,ts(u,"label",this,a)),xi(l.after,ar(ts(u,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(t,e){return $2(ts(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,i=ts(s,"beforeFooter",this,t),a=ts(s,"footer",this,t),l=ts(s,"afterFooter",this,t);let u=[];return u=xi(u,ar(i)),u=xi(u,ar(a)),u=xi(u,ar(l)),u}_createItems(t){const e=this._active,s=this.chart.data,i=[],a=[],l=[];let u=[],h,f;for(h=0,f=e.length;h<f;++h)u.push(e8(this.chart,e[h]));return t.filter&&(u=u.filter((g,x,b)=>t.filter(g,x,b,s))),t.itemSort&&(u=u.sort((g,x)=>t.itemSort(g,x,s))),Se(u,g=>{const x=G2(t.callbacks,g);i.push(ts(x,"labelColor",this,g)),a.push(ts(x,"labelPointStyle",this,g)),l.push(ts(x,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const s=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=Tu[s.position].call(this,i,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const h=this._size=B2(this,s),f=Object.assign({},u,h),g=F2(this.chart,s,f),x=H2(s,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,i){const a=this.getCaretPosition(t,s,i);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,s){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:u}=s,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:x}=Ou(u),{x:b,y:w}=t,{width:T,height:S}=e;let E,k,j,O,B,z;return a==="center"?(B=w+S/2,i==="left"?(E=b,k=E-l,O=B+l,z=B-l):(E=b+T,k=E+l,O=B-l,z=B+l),j=E):(i==="left"?k=b+Math.max(h,g)+l:i==="right"?k=b+T-Math.max(f,x)-l:k=this.caretX,a==="top"?(O=w,B=O-l,E=k-l,j=k+l):(O=w+S,B=O+l,E=k+l,j=k-l),z=O),{x1:E,x2:k,x3:j,y1:O,y2:B,y3:z}}drawTitle(t,e,s){const i=this.title,a=i.length;let l,u,h;if(a){const f=jl(s.rtl,this.x,this.width);for(t.x=cf(this,s.titleAlign,s),e.textAlign=f.textAlign(s.titleAlign),e.textBaseline="middle",l=is(s.titleFont),u=s.titleSpacing,e.fillStyle=s.titleColor,e.font=l.string,h=0;h<a;++h)e.fillText(i[h],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,h+1===a&&(t.y+=s.titleMarginBottom-u)}}_drawColorBox(t,e,s,i,a){const l=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:h,boxWidth:f}=a,g=is(a.bodyFont),x=cf(this,"left",a),b=i.x(x),w=h<g.lineHeight?(g.lineHeight-h)/2:0,T=e.y+w;if(a.usePointStyle){const S={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},E=i.leftForLtr(b,f)+f/2,k=T+h/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,K0(t,S,E,k),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,K0(t,S,E,k)}else{t.lineWidth=ye(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const S=i.leftForLtr(b,f),E=i.leftForLtr(i.xPlus(b,1),f-2),k=Ou(l.borderRadius);Object.values(k).some(j=>j!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,X0(t,{x:S,y:T,w:f,h,radius:k}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),X0(t,{x:E,y:T+1,w:f-2,h:h-2,radius:k}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(S,T,f,h),t.strokeRect(S,T,f,h),t.fillStyle=l.backgroundColor,t.fillRect(E,T+1,f-2,h-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=s,x=is(s.bodyFont);let b=x.lineHeight,w=0;const T=jl(s.rtl,this.x,this.width),S=function(R){e.fillText(R,T.x(t.x+w),t.y+b/2),t.y+=b+a},E=T.textAlign(l);let k,j,O,B,z,H,A;for(e.textAlign=l,e.textBaseline="middle",e.font=x.string,t.x=cf(this,E,s),e.fillStyle=s.bodyColor,Se(this.beforeBody,S),w=u&&E!=="right"?l==="center"?f/2+g:f+2+g:0,B=0,H=i.length;B<H;++B){for(k=i[B],j=this.labelTextColors[B],e.fillStyle=j,Se(k.before,S),O=k.lines,u&&O.length&&(this._drawColorBox(e,t,B,T,s),b=Math.max(x.lineHeight,h)),z=0,A=O.length;z<A;++z)S(O[z]),b=x.lineHeight;Se(k.after,S)}w=0,b=x.lineHeight,Se(this.afterBody,S),t.y-=a}drawFooter(t,e,s){const i=this.footer,a=i.length;let l,u;if(a){const h=jl(s.rtl,this.x,this.width);for(t.x=cf(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=h.textAlign(s.footerAlign),e.textBaseline="middle",l=is(s.footerFont),e.fillStyle=s.footerColor,e.font=l.string,u=0;u<a;++u)e.fillText(i[u],h.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+s.footerSpacing}}drawBackground(t,e,s,i){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=t,{width:f,height:g}=s,{topLeft:x,topRight:b,bottomLeft:w,bottomRight:T}=Ou(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(u+x,h),l==="top"&&this.drawCaret(t,e,s,i),e.lineTo(u+f-b,h),e.quadraticCurveTo(u+f,h,u+f,h+b),l==="center"&&a==="right"&&this.drawCaret(t,e,s,i),e.lineTo(u+f,h+g-T),e.quadraticCurveTo(u+f,h+g,u+f-T,h+g),l==="bottom"&&this.drawCaret(t,e,s,i),e.lineTo(u+w,h+g),e.quadraticCurveTo(u,h+g,u,h+g-w),l==="center"&&a==="left"&&this.drawCaret(t,e,s,i),e.lineTo(u,h+x),e.quadraticCurveTo(u,h,u+x,h),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,i=s&&s.x,a=s&&s.y;if(i||a){const l=Tu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=B2(this,t),h=Object.assign({},l,this._size),f=F2(e,t,h),g=H2(t,h,f,e);(i._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=Js(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=s,this.drawBackground(a,t,i,e),LN(t,e.textDirection),a.y+=l.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),VN(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,i=t.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Yf(s,i),l=this._positionChanged(i,e);(a||l)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(t,a,e,s),u=this._positionChanged(l,t),h=e||!Yf(l,a)||u;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),h}_getActiveElements(t,e,s,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,s);return a.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:s,caretY:i,options:a}=this,l=Tu[a.position].call(this,t,e);return l!==!1&&(s!==l.x||i!==l.y)}}var l8={id:"tooltip",_element:q2,positioners:Tu,afterInit(n,t,e){e&&(n.tooltip=new q2({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:aA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const c8=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function u8(n,t,e,s){const i=n.indexOf(t);if(i===-1)return c8(n,t,e,s);const a=n.lastIndexOf(t);return i!==a?e:i}const h8=(n,t)=>n===null?null:Os(Math.round(n),0,t);function W2(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class d8 extends oc{static id="category";static defaults={ticks:{callback:W2}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:i,label:a}of e)s[i]===a&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Pe(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:u8(s,t,he(e,t),this._addedLabels),h8(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,i=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=t;l<=e;l++)i.push({value:l});return i}getLabelForValue(t){return W2.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function f8(n,t){const e=[],{bounds:i,step:a,min:l,max:u,precision:h,count:f,maxTicks:g,maxDigits:x,includeBounds:b}=n,w=a||1,T=g-1,{min:S,max:E}=t,k=!Pe(l),j=!Pe(u),O=!Pe(f),B=(E-S)/(x+1);let z=qw((E-S)/T/w)*w,H,A,R,I;if(z<1e-14&&!k&&!j)return[{value:S},{value:E}];I=Math.ceil(E/z)-Math.floor(S/z),I>T&&(z=qw(I*z/T/w)*w),Pe(h)||(H=Math.pow(10,h),z=Math.ceil(z*H)/H),i==="ticks"?(A=Math.floor(S/z)*z,R=Math.ceil(E/z)*z):(A=S,R=E),k&&j&&a&&MP((u-l)/a,z/1e3)?(I=Math.round(Math.min((u-l)/z,g)),z=(u-l)/I,A=l,R=u):O?(A=k?l:A,R=j?u:R,I=f-1,z=(R-A)/I):(I=(R-A)/z,ju(I,Math.round(I),z/1e3)?I=Math.round(I):I=Math.ceil(I));const M=Math.max(Ww(z),Ww(A));H=Math.pow(10,Pe(h)?M:h),A=Math.round(A*H)/H,R=Math.round(R*H)/H;let U=0;for(k&&(b&&A!==l?(e.push({value:l}),A<l&&U++,ju(Math.round((A+U*z)*H)/H,l,Y2(l,B,n))&&U++):A<l&&U++);U<I;++U){const V=Math.round((A+U*z)*H)/H;if(j&&V>u)break;e.push({value:V})}return j&&b&&R!==u?e.length&&ju(e[e.length-1].value,u,Y2(u,B,n))?e[e.length-1].value=u:e.push({value:u}):(!j||R===u)&&e.push({value:R}),e}function Y2(n,t,{horizontal:e,minRotation:s}){const i=uo(s),a=(e?Math.sin(i):Math.cos(i))||.001,l=.75*t*(""+n).length;return Math.min(t/a,l)}class m8 extends oc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Pe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:a}=this;const l=h=>i=e?i:h,u=h=>a=s?a:h;if(t){const h=Hl(i),f=Hl(a);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(i===a){let h=a===0?1:Math.abs(a*.05);u(a+h),t||l(i-h)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,l=f8(i,a);return t.bounds==="ticks"&&OP(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-e)/Math.max(t.length-1,1)/2;e-=i,s+=i}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return CN(t,this.chart.options.locale,this.options.ticks.format)}}class p8 extends m8{static id="linear";static defaults={ticks:{callback:kN.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Fn(t)?t:0,this.max=Fn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=uo(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Dm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ss=Object.keys(Dm);function K2(n,t){return n-t}function X2(n,t){if(Pe(t))return null;const e=n._adapter,{parser:s,round:i,isoWeekday:a}=n._parseOpts;let l=t;return typeof s=="function"&&(l=s(l)),Fn(l)||(l=typeof s=="string"?e.parse(l,s):e.parse(l)),l===null?null:(i&&(l=i==="week"&&(Xu(a)||a===!0)?e.startOf(l,"isoWeek",a):e.startOf(l,i)),+l)}function Q2(n,t,e,s){const i=ss.length;for(let a=ss.indexOf(n);a<i-1;++a){const l=Dm[ss[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=s)return ss[a]}return ss[i-1]}function g8(n,t,e,s,i){for(let a=ss.length-1;a>=ss.indexOf(e);a--){const l=ss[a];if(Dm[l].common&&n._adapter.diff(i,s,l)>=t-1)return l}return ss[e?ss.indexOf(e):0]}function y8(n){for(let t=ss.indexOf(n)+1,e=ss.length;t<e;++t)if(Dm[ss[t]].common)return ss[t]}function J2(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:i}=hx(e,t),a=e[s]>=t?e[s]:e[i];n[a]=!0}}function x8(n,t,e,s){const i=n._adapter,a=+i.startOf(t[0].value,s),l=t[t.length-1].value;let u,h;for(u=a;u<=l;u=+i.add(u,1,s))h=e[u],h>=0&&(t[h].major=!0);return t}function Z2(n,t,e){const s=[],i={},a=t.length;let l,u;for(l=0;l<a;++l)u=t[l],i[u]=l,s.push({value:u,major:!1});return a===0||!e?s:x8(n,s,i,e)}class tE extends oc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),i=this._adapter=new u9._date(t.adapters.date);i.init(e),Iu(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:X2(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Fn(i)&&!isNaN(i)?i:+e.startOf(Date.now(),s),a=Fn(a)&&!isNaN(a)?a:+e.endOf(Date.now(),s)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,u=BP(i,a,l);return this._unit=e.unit||(s.autoSkip?Q2(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):g8(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:y8(this._unit),this.initOffsets(i),t.reverse&&u.reverse(),Z2(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?s=a:s=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Os(e,0,l),s=Os(s,0,l),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,i=this.options,a=i.time,l=a.unit||Q2(a.minUnit,e,s,this._getLabelCapacity(e)),u=he(i.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Xu(h)||h===!0,g={};let x=e,b,w;if(f&&(x=+t.startOf(x,"isoWeek",h)),x=+t.startOf(x,f?"day":l),t.diff(s,e,l)>1e5*u)throw new Error(e+" and "+s+" are too far apart with stepSize of "+u+" "+l);const T=i.ticks.source==="data"&&this.getDataTimestamps();for(b=x,w=0;b<s;b=+t.add(b,u,l),w++)J2(g,b,T);return(b===s||i.bounds==="ticks"||w===1)&&J2(g,b,T),Object.keys(g).sort(K2).map(S=>+S)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,a=this._unit,l=e||i[a];return this._adapter.format(t,l)}_tickFormatFunction(t,e,s,i){const a=this.options,l=a.ticks.callback;if(l)return Le(l,[t,e,s],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],x=f&&u[f],b=s[e],w=f&&x&&b&&b.major;return this._adapter.format(t,i||(w?x:g))}generateTickLabels(t){let e,s,i;for(e=0,s=t.length;e<s;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,i=uo(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:s*a+u*l,h:s*l+u*a}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,i=s[e.unit]||s.millisecond,a=this._tickFormatFunction(t,0,Z2(this,[t],this._majorUnit),i),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,s=i.length;e<s;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const i=this.getLabels();for(e=0,s=i.length;e<s;++e)t.push(X2(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return HP(t.sort(K2))}}function uf(n,t,e){let s=0,i=n.length-1,a,l,u,h;e?(t>=n[s].pos&&t<=n[i].pos&&({lo:s,hi:i}=ho(n,"pos",t)),{pos:a,time:u}=n[s],{pos:l,time:h}=n[i]):(t>=n[s].time&&t<=n[i].time&&({lo:s,hi:i}=ho(n,"time",t)),{time:a,pos:u}=n[s],{time:l,pos:h}=n[i]);const f=l-a;return f?u+(h-u)*(t-a)/f:u}class P8 extends tE{static id="timeseries";static defaults=tE.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=uf(e,this.min),this._tableRange=uf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,i=[],a=[];let l,u,h,f,g;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=s&&i.push(f);if(i.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(l=0,u=i.length;l<u;++l)g=i[l+1],h=i[l-1],f=i[l],Math.round((g+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(uf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return uf(this._table,s*this._tableRange+this._minPos,!0)}}const oA="label";function eE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function b8(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function lA(n,t){n.labels=t}function cA(n,t,e=oA){const s=[];n.datasets=t.map(i=>{const a=n.datasets.find(l=>l[e]===i[e]);return!a||!i.data||s.includes(a)?{...i}:(s.push(a),Object.assign(a,i),a)})}function v8(n,t=oA){const e={labels:[],datasets:[]};return lA(e,n.labels),cA(e,n.datasets,t),e}function _8(n,t){const{height:e=150,width:s=300,redraw:i=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:g,updateMode:x,...b}=n,w=F.useRef(null),T=F.useRef(null),S=()=>{w.current&&(T.current=new Rm(w.current,{type:l,data:v8(u,a),options:h&&{...h},plugins:f}),eE(t,T.current))},E=()=>{eE(t,null),T.current&&(T.current.destroy(),T.current=null)};return F.useEffect(()=>{!i&&T.current&&h&&b8(T.current,h)},[i,h]),F.useEffect(()=>{!i&&T.current&&lA(T.current.config.data,u.labels)},[i,u.labels]),F.useEffect(()=>{!i&&T.current&&u.datasets&&cA(T.current.config.data,u.datasets,a)},[i,u.datasets]),F.useEffect(()=>{T.current&&(i?(E(),setTimeout(S)):T.current.update(x))},[i,h,u.labels,u.datasets,x]),F.useEffect(()=>{T.current&&(E(),setTimeout(S))},[l]),F.useEffect(()=>(S(),()=>E()),[]),m.jsx("canvas",{ref:w,role:"img",height:e,width:s,...b,children:g})}const w8=F.forwardRef(_8);function E8(n,t){return Rm.register(t),F.forwardRef((e,s)=>m.jsx(w8,{...e,ref:s,type:n}))}const T8=E8("line",c9);Rm.register(d8,p8,CV,Im,l8,t8,YV);function S8({chartData:n,yMax:t}){const e={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{boxWidth:10,boxHeight:10,usePointStyle:!0,padding:14}},tooltip:{callbacks:{title:s=>`Partido ${s?.[0]?.label??""}`}}},scales:{x:{grid:{display:!0,drawBorder:!1},ticks:{autoSkip:!0,maxTicksLimit:6,maxRotation:0,minRotation:0}},y:{min:0,max:t||0,ticks:{precision:0},grid:{drawBorder:!1}}}};return m.jsx("div",{className:["w-full rounded-2xl border border-slate-200 bg-white shadow-sm","p-2 sm:p-4","h-[18rem] sm:h-[22rem] md:h-96"].join(" "),children:m.jsx(T8,{data:n,options:e})})}function N8({breakdown:n,setBreakdown:t,years:e,selectedYear:s,setSelectedYear:i,tournaments:a,selectedTournament:l,setSelectedTournament:u}){const h=n==="year"||n==="euroYear",f=n==="tournament"||n==="euroTournament",g=n==="euroYear"?"Eleg temporada":"Eleg ao";return m.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-3",children:[m.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm",value:n,onChange:x=>t(x.target.value),children:[m.jsx("option",{value:"all",children:"Completo"}),m.jsx("option",{value:"year",children:"Por ao"}),m.jsx("option",{value:"tournament",children:"Por campeonato"}),m.jsx("option",{value:"euroYear",children:"Calendario europeo (por temporada)"}),m.jsx("option",{value:"euroTournament",children:"Calendario europeo (por campeonato)"})]}),m.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm disabled:opacity-50",value:s??"",onChange:x=>i(x.target.value||null),disabled:!h,children:[m.jsx("option",{value:"",children:g}),e.map(x=>m.jsx("option",{value:x,children:x},x))]}),m.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm disabled:opacity-50",value:l??"",onChange:x=>u(x.target.value||null),disabled:!f,children:[m.jsx("option",{value:"",children:"Eleg campeonato"}),a.map(x=>m.jsx("option",{value:x,children:x},x))]})]})}function A8({value:n,onChange:t}){const e=(s,i)=>m.jsx("button",{onClick:()=>t(s),className:["flex-1 rounded-xl px-3 py-2 text-sm font-semibold transition",n===s?"bg-slate-900 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50"].join(" "),children:i},s);return m.jsxs("div",{className:"mx-auto flex w-full max-w-md gap-2 rounded-2xl border border-slate-200 bg-slate-100 p-2",children:[e("general","General"),e("capitanes","Capitanes")]})}const C8=()=>{K4();const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn();zs(n,e,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||{}),[h,f]=F.useState(s?.activeClub||u[0]||""),g=Et(h||""),x=g?s?.lineups?.[g]:null;F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const b=Array.isArray(a?.matches)?a.matches:[],w=a?.torneosConfig||{},T=s?.lineups?.[g]||{},S=(T.players?.length??0)>0,E=(T.formations?.length??0)>0,k=T.playersStats?Object.keys(T.playersStats).length>0:!1,[j,O]=F.useState("general"),[B,z]=F.useState("all"),[H,A]=F.useState(null),[R,I]=F.useState(null);if(!g||!S&&!E&&!k)return m.jsx(Vs,{to:"/formacion",replace:!0});const M=h;console.log("matches",b);const{years:U,tournaments:V,chartData:L,yMax:gt,captainA:dt,captainB:W}=tP(b,{view:j,breakdown:B,selectedYear:H,selectedTournament:R,torneosConfig:w});return m.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[" ",m.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:" Grficos "}),u.length>1&&m.jsxs("div",{className:"flex items-center justify-center gap-2 sm:justify-self-end sm:justify-end",children:[m.jsx("span",{className:"text-sm text-slate-600",children:"Club:"}),m.jsx("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:M,onChange:at=>f(at.target.value),children:u.map(at=>m.jsx("option",{value:at,children:Ct(at)},at))})]}),m.jsxs("div",{className:"mt-4 space-y-3",children:[m.jsx(A8,{value:j,onChange:O}),m.jsx(N8,{breakdown:B,setBreakdown:at=>{z(at),A(null),I(null)},years:U,selectedYear:H,setSelectedYear:A,tournaments:V,selectedTournament:R,setSelectedTournament:I}),m.jsx(S8,{chartData:L,yMax:gt})]})]})};function k8(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}k8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const R8=()=>{const{uid:n}=pn(),{state:t,dispatch:e}=rs(),{state:s,dispatch:i}=Xn();zs(n,e,i);const a=Object.keys(s?.lineups||[]),[l,u]=F.useState(s?.activeClub||a[0]||""),h=Et(l||""),f=h?s?.lineups?.[h]:null,g=Array.isArray(f?.matches)?f.matches:[],x=F.useMemo(()=>{if(!g)return[];const E=g.map(k=>k.torneoName);return[...new Set(E)].sort()},[g]),[b,w]=F.useState({}),T=(E,k,j)=>{w(O=>({...O,[E]:{...O[E],[k]:j}}))},S=async E=>{const k=b?.[E]?.formato||f?.torneosConfig?.[E]?.formato||"anual";try{const j=Kn(Dn,"users",n);await rc(j,{lineups:{[h]:{torneosConfig:{[E]:{formato:k}}}}},{merge:!0}),i({type:"UPDATE_TORNEO_CONFIG",payload:{clubKey:h,torneo:E,settings:{formato:k}}}),pt.Notify.success("Configuracin guardada!")}catch(j){console.error("Error al guardar:",j),pt.Notify.error("No se pudo guardar la configuracin")}};return m.jsxs("div",{className:"p-2 max-w-4xl mx-auto mb-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[m.jsx("h1",{className:"text-xl font-bold text-slate-800",children:" Configuracin"}),m.jsx(Dl,{to:"/campeonatos",className:"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm font-medium transition-all",children:"Volver"})]}),m.jsx("div",{className:"overflow-hidden bg-white rounded-2xl border border-slate-200 shadow-sm",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"hidden md:table-header-group bg-slate-50 border-b border-slate-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Campeonato"}),m.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Formato"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase",children:"Accin"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100",children:x.length>0?x.map(E=>m.jsxs("tr",{className:"flex flex-col md:table-row hover:bg-slate-50/50 transition-colors",children:[m.jsx("td",{className:"px-4 py-3 md:py-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-lg md:text-base",children:""}),m.jsx("span",{className:"font-bold md:font-medium text-slate-800 truncate",children:E})]})}),m.jsxs("td",{className:"px-4 py-2 md:py-4",children:[m.jsx("label",{className:"block md:hidden text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Formato"}),m.jsxs("select",{className:"w-full md:w-auto text-sm border-slate-200 rounded-lg focus:ring-sky-500 bg-slate-50/50 py-1.5",value:b[E]?.formato||f?.torneosConfig?.[E]?.formato||"anual",onChange:k=>T(E,"formato",k.target.value),children:[m.jsx("option",{value:"anual",children:"Enero - Diciembre (Anual)"}),m.jsx("option",{value:"europeo",children:"Julio - Junio (Europeo)"})]})]}),m.jsx("td",{className:"px-4 py-4 md:py-4 text-center",children:m.jsx("button",{className:"w-full md:w-auto bg-sky-600 hover:bg-sky-700 text-white px-5 py-2 md:py-1.5 rounded-xl text-sm font-semibold shadow-sm shadow-sky-100 transition-all active:scale-95",onClick:()=>S(E),children:"Guardar"})})]},E)):m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-10 text-center text-slate-400 text-sm",children:"No hay torneos registrados."})})})]})})]})};function I8(){const{uid:n}=pn(),{dispatch:t}=rs(),{dispatch:e}=Xn();return zs(n,t,e),null}function j8(){const{uid:n}=pn();return n?m.jsx(Vs,{to:"/versus",replace:!0}):m.jsx(zO,{})}const D8=()=>m.jsxs(rR,{children:[m.jsx(Y4,{}),m.jsxs(Pk,{children:[m.jsx(wn,{element:m.jsx(pR,{}),children:m.jsx(wn,{path:"/",element:m.jsx(j8,{})})}),m.jsxs(wn,{element:m.jsxs(m.Fragment,{children:[m.jsx(I8,{}),m.jsx(WO,{})]}),children:[m.jsx(wn,{path:"/registrar-partido",element:m.jsx(Tw,{})}),m.jsx(wn,{path:"/editar-partido/:matchId",element:m.jsx(Tw,{})}),m.jsx(wn,{path:"/formacion",element:m.jsx(H3,{})}),m.jsx(wn,{path:"/versus",element:m.jsx(x3,{})}),m.jsx(wn,{path:"/campeonatos",element:m.jsx(Y3,{})}),m.jsx(wn,{path:"/campeonatos/ajustes",element:m.jsx(R8,{})}),m.jsx(wn,{path:"/partidos",element:m.jsx(B4,{})}),m.jsx(wn,{path:"/ultimos-diez",element:m.jsx(W4,{})}),m.jsx(wn,{path:"/analisis",element:m.jsx(X3,{})}),m.jsx(wn,{path:"/graficos",element:m.jsx(C8,{})}),m.jsx(wn,{path:"/temporadas",element:m.jsx(u4,{})}),m.jsx(wn,{path:"/goleadores",element:m.jsx(R4,{})}),m.jsx(wn,{path:"/palmares",element:m.jsx(D4,{})})]}),m.jsx(wn,{path:"*",element:m.jsx(Vs,{to:"/",replace:!0})})]})]});pt.Notify.init({position:"center-bottom",distance:"20px",timeout:3e3,clickToClose:!0,fontSize:"16px",width:"280px"});HC.createRoot(document.getElementById("root")).render(m.jsx(F.StrictMode,{children:m.jsx(LO,{children:m.jsx(GO,{children:m.jsx(BO,{children:m.jsx(D8,{})})})})}));
