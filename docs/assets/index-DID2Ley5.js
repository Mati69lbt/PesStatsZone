(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pg={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function QC(){if(F_)return hu;F_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:s,key:l,ref:i!==void 0?i:null,props:a}}return hu.Fragment=e,hu.jsx=t,hu.jsxs=t,hu}var $_;function JC(){return $_||($_=1,Pg.exports=QC()),Pg.exports}var h=JC(),Lg={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function ZC(){if(H_)return Je;H_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function T(H,ne,he){this.props=H,this.context=ne,this.refs=w,this.updater=he||E}T.prototype.isReactComponent={},T.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=T.prototype;function M(H,ne,he){this.props=H,this.context=ne,this.refs=w,this.updater=he||E}var I=M.prototype=new k;I.constructor=M,N(I,T.prototype),I.isPureReactComponent=!0;var z=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function A(H,ne,he,re,me,xe){return he=xe.ref,{$$typeof:n,type:H,key:ne,ref:he!==void 0?he:null,props:xe}}function R(H,ne){return A(H.type,ne,void 0,void 0,void 0,H.props)}function j(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function V(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(he){return ne[he]})}var F=/\/+/g;function O(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?V(""+H.key):ne.toString(36)}function L(){}function ge(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(L,L):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function de(H,ne,he,re,me){var xe=typeof H;(xe==="undefined"||xe==="boolean")&&(H=null);var ye=!1;if(H===null)ye=!0;else switch(xe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(H.$$typeof){case n:case e:ye=!0;break;case g:return ye=H._init,de(ye(H._payload),ne,he,re,me)}}if(ye)return me=me(H),ye=re===""?"."+O(H,0):re,z(me)?(he="",ye!=null&&(he=ye.replace(F,"$&/")+"/"),de(me,ne,he,"",function(Ke){return Ke})):me!=null&&(j(me)&&(me=R(me,he+(me.key==null||H&&H.key===me.key?"":(""+me.key).replace(F,"$&/")+"/")+ye)),ne.push(me)),1;ye=0;var Ie=re===""?".":re+":";if(z(H))for(var be=0;be<H.length;be++)re=H[be],xe=Ie+O(re,be),ye+=de(re,ne,he,xe,me);else if(be=b(H),typeof be=="function")for(H=be.call(H),be=0;!(re=H.next()).done;)re=re.value,xe=Ie+O(re,be++),ye+=de(re,ne,he,xe,me);else if(xe==="object"){if(typeof H.then=="function")return de(ge(H),ne,he,re,me);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return ye}function W(H,ne,he){if(H==null)return H;var re=[],me=0;return de(H,re,"","",function(xe){return ne.call(he,xe,me++)}),re}function ae(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(he){(H._status===0||H._status===-1)&&(H._status=1,H._result=he)},function(he){(H._status===0||H._status===-1)&&(H._status=2,H._result=he)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var we=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function De(){}return Je.Children={map:W,forEach:function(H,ne,he){W(H,function(){ne.apply(this,arguments)},he)},count:function(H){var ne=0;return W(H,function(){ne++}),ne},toArray:function(H){return W(H,function(ne){return ne})||[]},only:function(H){if(!j(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Je.Component=T,Je.Fragment=t,Je.Profiler=i,Je.PureComponent=M,Je.StrictMode=s,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Je.__COMPILER_RUNTIME={__proto__:null,c:function(H){return U.H.useMemoCache(H)}},Je.cache=function(H){return function(){return H.apply(null,arguments)}},Je.cloneElement=function(H,ne,he){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var re=N({},H.props),me=H.key,xe=void 0;if(ne!=null)for(ye in ne.ref!==void 0&&(xe=void 0),ne.key!==void 0&&(me=""+ne.key),ne)!$.call(ne,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ne.ref===void 0||(re[ye]=ne[ye]);var ye=arguments.length-2;if(ye===1)re.children=he;else if(1<ye){for(var Ie=Array(ye),be=0;be<ye;be++)Ie[be]=arguments[be+2];re.children=Ie}return A(H.type,me,void 0,void 0,xe,re)},Je.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},Je.createElement=function(H,ne,he){var re,me={},xe=null;if(ne!=null)for(re in ne.key!==void 0&&(xe=""+ne.key),ne)$.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=ne[re]);var ye=arguments.length-2;if(ye===1)me.children=he;else if(1<ye){for(var Ie=Array(ye),be=0;be<ye;be++)Ie[be]=arguments[be+2];me.children=Ie}if(H&&H.defaultProps)for(re in ye=H.defaultProps,ye)me[re]===void 0&&(me[re]=ye[re]);return A(H,xe,void 0,void 0,null,me)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(H){return{$$typeof:u,render:H}},Je.isValidElement=j,Je.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:ae}},Je.memo=function(H,ne){return{$$typeof:m,type:H,compare:ne===void 0?null:ne}},Je.startTransition=function(H){var ne=U.T,he={};U.T=he;try{var re=H(),me=U.S;me!==null&&me(he,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(De,we)}catch(xe){we(xe)}finally{U.T=ne}},Je.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Je.use=function(H){return U.H.use(H)},Je.useActionState=function(H,ne,he){return U.H.useActionState(H,ne,he)},Je.useCallback=function(H,ne){return U.H.useCallback(H,ne)},Je.useContext=function(H){return U.H.useContext(H)},Je.useDebugValue=function(){},Je.useDeferredValue=function(H,ne){return U.H.useDeferredValue(H,ne)},Je.useEffect=function(H,ne,he){var re=U.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(H,ne)},Je.useId=function(){return U.H.useId()},Je.useImperativeHandle=function(H,ne,he){return U.H.useImperativeHandle(H,ne,he)},Je.useInsertionEffect=function(H,ne){return U.H.useInsertionEffect(H,ne)},Je.useLayoutEffect=function(H,ne){return U.H.useLayoutEffect(H,ne)},Je.useMemo=function(H,ne){return U.H.useMemo(H,ne)},Je.useOptimistic=function(H,ne){return U.H.useOptimistic(H,ne)},Je.useReducer=function(H,ne,he){return U.H.useReducer(H,ne,he)},Je.useRef=function(H){return U.H.useRef(H)},Je.useState=function(H){return U.H.useState(H)},Je.useSyncExternalStore=function(H,ne,he){return U.H.useSyncExternalStore(H,ne,he)},Je.useTransition=function(){return U.H.useTransition()},Je.version="19.1.1",Je}var G_;function hy(){return G_||(G_=1,Lg.exports=ZC()),Lg.exports}var B=hy();const hr=yE(B);var Vg={exports:{}},fu={},zg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function ek(){return q_||(q_=1,function(n){function e(W,ae){var we=W.length;W.push(ae);e:for(;0<we;){var De=we-1>>>1,H=W[De];if(0<i(H,ae))W[De]=ae,W[we]=H,we=De;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],we=W.pop();if(we!==ae){W[0]=we;e:for(var De=0,H=W.length,ne=H>>>1;De<ne;){var he=2*(De+1)-1,re=W[he],me=he+1,xe=W[me];if(0>i(re,we))me<H&&0>i(xe,re)?(W[De]=xe,W[me]=we,De=me):(W[De]=re,W[he]=we,De=he);else if(me<H&&0>i(xe,we))W[De]=xe,W[me]=we,De=me;else break e}}return ae}function i(W,ae){var we=W.sortIndex-ae.sortIndex;return we!==0?we:W.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],m=[],g=1,x=null,b=3,E=!1,N=!1,w=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function z(W){for(var ae=t(m);ae!==null;){if(ae.callback===null)s(m);else if(ae.startTime<=W)s(m),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=t(m)}}function U(W){if(w=!1,z(W),!N)if(t(d)!==null)N=!0,$||($=!0,O());else{var ae=t(m);ae!==null&&de(U,ae.startTime-W)}}var $=!1,A=-1,R=5,j=-1;function V(){return T?!0:!(n.unstable_now()-j<R)}function F(){if(T=!1,$){var W=n.unstable_now();j=W;var ae=!0;try{e:{N=!1,w&&(w=!1,M(A),A=-1),E=!0;var we=b;try{t:{for(z(W),x=t(d);x!==null&&!(x.expirationTime>W&&V());){var De=x.callback;if(typeof De=="function"){x.callback=null,b=x.priorityLevel;var H=De(x.expirationTime<=W);if(W=n.unstable_now(),typeof H=="function"){x.callback=H,z(W),ae=!0;break t}x===t(d)&&s(d),z(W)}else s(d);x=t(d)}if(x!==null)ae=!0;else{var ne=t(m);ne!==null&&de(U,ne.startTime-W),ae=!1}}break e}finally{x=null,b=we,E=!1}ae=void 0}}finally{ae?O():$=!1}}}var O;if(typeof I=="function")O=function(){I(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ge=L.port2;L.port1.onmessage=F,O=function(){ge.postMessage(null)}}else O=function(){k(F,0)};function de(W,ae){A=k(function(){W(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var we=b;b=ae;try{return W()}finally{b=we}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var we=b;b=W;try{return ae()}finally{b=we}},n.unstable_scheduleCallback=function(W,ae,we){var De=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?De+we:De):we=De,W){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=we+H,W={id:g++,callback:ae,priorityLevel:W,startTime:we,expirationTime:H,sortIndex:-1},we>De?(W.sortIndex=we,e(m,W),t(d)===null&&W===t(m)&&(w?(M(A),A=-1):w=!0,de(U,we-De))):(W.sortIndex=H,e(d,W),N||E||(N=!0,$||($=!0,O()))),W},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(W){var ae=b;return function(){var we=b;b=ae;try{return W.apply(this,arguments)}finally{b=we}}}}(Ug)),Ug}var W_;function tk(){return W_||(W_=1,zg.exports=ek()),zg.exports}var Bg={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function nk(){if(Y_)return Ln;Y_=1;var n=hy();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:d,containerInfo:m,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ln.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(d,m,null,g)},Ln.flushSync=function(d){var m=l.T,g=s.p;try{if(l.T=null,s.p=2,d)return d()}finally{l.T=m,s.p=g,s.d.f()}},Ln.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},Ln.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Ln.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,x=u(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:E}):g==="script"&&s.d.X(d,{crossOrigin:x,integrity:b,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ln.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=u(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},Ln.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=u(g,m.crossOrigin);s.d.L(d,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ln.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=u(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},Ln.requestFormReset=function(d){s.d.r(d)},Ln.unstable_batchedUpdates=function(d,m){return d(m)},Ln.useFormState=function(d,m,g){return l.H.useFormState(d,m,g)},Ln.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ln.version="19.1.1",Ln}var K_;function sk(){if(K_)return Bg.exports;K_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bg.exports=nk(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function ik(){if(X_)return fu;X_=1;var n=tk(),e=hy(),t=sk();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(s(188))}function d(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(s(188));return o!==r?null:r}for(var c=r,f=o;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return u(y),r;if(v===f)return u(y),o;v=v.sibling}throw Error(s(188))}if(c.return!==f.return)c=y,f=v;else{for(var C=!1,D=y.child;D;){if(D===c){C=!0,c=y,f=v;break}if(D===f){C=!0,f=y,c=v;break}D=D.sibling}if(!C){for(D=v.child;D;){if(D===c){C=!0,c=v,f=y;break}if(D===f){C=!0,f=v,c=y;break}D=D.sibling}if(!C)throw Error(s(189))}}if(c.alternate!==f)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:o}function m(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=m(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function O(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case U:return"Suspense";case $:return"SuspenseList";case j:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case I:return(r.displayName||"Context")+".Provider";case M:return(r._context.displayName||"Context")+".Consumer";case z:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return o=r.displayName||null,o!==null?o:ge(r.type)||"Memo";case R:o=r._payload,r=r._init;try{return ge(r(o))}catch{}}return null}var de=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},De=[],H=-1;function ne(r){return{current:r}}function he(r){0>H||(r.current=De[H],De[H]=null,H--)}function re(r,o){H++,De[H]=r.current,r.current=o}var me=ne(null),xe=ne(null),ye=ne(null),Ie=ne(null);function be(r,o){switch(re(ye,o),re(xe,r),re(me,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?p_(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=p_(o),r=g_(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(me),re(me,r)}function Ke(){he(me),he(xe),he(ye)}function qe(r){r.memoizedState!==null&&re(Ie,r);var o=me.current,c=g_(o,r.type);o!==c&&(re(xe,r),re(me,c))}function Me(r){xe.current===r&&(he(me),he(xe)),Ie.current===r&&(he(Ie),ou._currentValue=we)}var Qe=Object.prototype.hasOwnProperty,ut=n.unstable_scheduleCallback,q=n.unstable_cancelCallback,X=n.unstable_shouldYield,te=n.unstable_requestPaint,Se=n.unstable_now,Oe=n.unstable_getCurrentPriorityLevel,We=n.unstable_ImmediatePriority,ze=n.unstable_UserBlockingPriority,_e=n.unstable_NormalPriority,tt=n.unstable_LowPriority,ke=n.unstable_IdlePriority,ft=n.log,It=n.unstable_setDisableYieldValue,Xe=null,Pe=null;function He(r){if(typeof ft=="function"&&It(r),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Xe,r)}catch{}}var nt=Math.clz32?Math.clz32:un,st=Math.log,qn=Math.LN2;function un(r){return r>>>=0,r===0?32:31-(st(r)/qn|0)|0}var Bt=256,Ft=4194304;function dt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Wn(r,o,c){var f=r.pendingLanes;if(f===0)return 0;var y=0,v=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var D=f&134217727;return D!==0?(f=D&~v,f!==0?y=dt(f):(C&=D,C!==0?y=dt(C):c||(c=D&~r,c!==0&&(y=dt(c))))):(D=f&~v,D!==0?y=dt(D):C!==0?y=dt(C):c||(c=f&~r,c!==0&&(y=dt(c)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:y}function Fe(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function _s(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bs(){var r=Bt;return Bt<<=1,(Bt&4194048)===0&&(Bt=256),r}function Nr(){var r=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),r}function Fs(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function os(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sr(r,o,c,f,y,v){var C=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var D=r.entanglements,G=r.expirationTimes,Z=r.hiddenUpdates;for(c=C&~c;0<c;){var oe=31-nt(c),ue=1<<oe;D[oe]=0,G[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var se=ee[oe];se!==null&&(se.lane&=-536870913)}c&=~ue}f!==0&&ls(r,f,0),v!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=v&~(C&~o))}function ls(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var f=31-nt(o);r.entangledLanes|=o,r.entanglements[f]=r.entanglements[f]|1073741824|c&4194090}function Ar(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-nt(c),y=1<<f;y&o|r[f]&o&&(r[f]|=o),c&=~y}}function si(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Oi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ii(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:O_(r.type))}function Io(r,o){var c=ae.p;try{return ae.p=r,o()}finally{ae.p=c}}var Dt=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Dt,Gt="__reactProps$"+Dt,Et="__reactContainer$"+Dt,yn="__reactEvents$"+Dt,Pi="__reactListeners$"+Dt,cs="__reactHandles$"+Dt,_d="__reactResources$"+Dt,ja="__reactMarker$"+Dt;function Cr(r){delete r[Yt],delete r[Gt],delete r[yn],delete r[Pi],delete r[cs]}function Li(r){var o=r[Yt];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Et]||c[Yt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=v_(r);r!==null;){if(c=r[Yt])return c;r=v_(r)}return o}r=c,c=r.parentNode}return null}function ri(r){if(r=r[Yt]||r[Et]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function ai(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function Yn(r){var o=r[_d];return o||(o=r[_d]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Kt(r){r[ja]=!0}var fc=new Set,Do={};function $s(r,o){Vi(r,o),Vi(r+"Capture",o)}function Vi(r,o){for(Do[r]=o,r=0;r<o.length;r++)fc.add(o[r])}var wd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ed={},Ia={};function Td(r){return Qe.call(Ia,r)?!0:Qe.call(Ed,r)?!1:wd.test(r)?Ia[r]=!0:(Ed[r]=!0,!1)}function kr(r,o,c){if(Td(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function oi(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Cn(r,o,c,f){if(f===null)r.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+f)}}var Da,Nd;function zi(r){if(Da===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Da=o&&o[1]||"",Nd=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+r+Nd}var Mo=!1;function Oo(r,o){if(!r||Mo)return"";Mo=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(se){var ee=se}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(se){ee=se}r.call(ue.prototype)}}else{try{throw Error()}catch(se){ee=se}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),C=v[0],D=v[1];if(C&&D){var G=C.split(`
`),Z=D.split(`
`);for(y=f=0;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(f===G.length||y===Z.length)for(f=G.length-1,y=Z.length-1;1<=f&&0<=y&&G[f]!==Z[y];)y--;for(;1<=f&&0<=y;f--,y--)if(G[f]!==Z[y]){if(f!==1||y!==1)do if(f--,y--,0>y||G[f]!==Z[y]){var oe=`
`+G[f].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=f&&0<=y);break}}}finally{Mo=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?zi(c):""}function mc(r){switch(r.tag){case 26:case 27:case 5:return zi(r.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Oo(r.type,!1);case 11:return Oo(r.type.render,!1);case 1:return Oo(r.type,!0);case 31:return zi("Activity");default:return""}}function Po(r){try{var o="";do o+=mc(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Kn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function pc(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Um(r){var o=pc(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){f=""+C,v.call(this,C)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Lo(r){r._valueTracker||(r._valueTracker=Um(r))}function gc(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=pc(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function Ma(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Bm=/[\n"\\]/g;function tn(r){return r.replace(Bm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function us(r,o,c,f,y,v,C,D){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),o!=null?C==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Kn(o)):r.value!==""+Kn(o)&&(r.value=""+Kn(o)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),o!=null?Rr(r,C,Kn(o)):c!=null?Rr(r,C,Kn(c)):f!=null&&r.removeAttribute("value"),y==null&&v!=null&&(r.defaultChecked=!!v),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Kn(D):r.removeAttribute("name")}function Oa(r,o,c,f,y,v,C,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;c=c!=null?""+Kn(c):"",o=o!=null?""+Kn(o):c,D||o===r.value||(r.value=o),r.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=D?r.checked:!!f,r.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C)}function Rr(r,o,c){o==="number"&&Ma(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Ui(r,o,c,f){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Kn(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function At(r,o,c){if(o!=null&&(o=""+Kn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+Kn(c):""}function Pa(r,o,c,f){if(o==null){if(f!=null){if(c!=null)throw Error(s(92));if(de(f)){if(1<f.length)throw Error(s(93));f=f[0]}c=f}c==null&&(c=""),o=c}c=Kn(o),r.defaultValue=c,f=r.textContent,f===c&&f!==""&&f!==null&&(r.value=f)}function ws(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var La=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(r,o,c){var f=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":f?r.setProperty(o,c):typeof c!="number"||c===0||La.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function yc(r,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&c[y]!==f&&Sd(r,y,f)}else for(var v in o)o.hasOwnProperty(v)&&Sd(r,v,o[v])}function xc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$m=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(r){return $m.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Bi=null;function Es(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fi=null,$i=null;function bc(r){var o=ri(r);if(o&&(r=o.stateNode)){var c=r[Gt]||null;e:switch(r=o.stateNode,o.type){case"input":if(us(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+tn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var y=f[Gt]||null;if(!y)throw Error(s(90));us(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)f=c[o],f.form===r.form&&gc(f)}break e;case"textarea":At(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ui(r,!!c.multiple,o,!1)}}}var li=!1;function Ad(r,o,c){if(li)return r(o,c);li=!0;try{var f=r(o);return f}finally{if(li=!1,(Fi!==null||$i!==null)&&(vh(),Fi&&(o=Fi,r=$i,$i=Fi=null,bc(o),r)))for(o=0;o<r.length;o++)bc(r[o])}}function Va(r,o){var c=r.stateNode;if(c===null)return null;var f=c[Gt]||null;if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Hs)try{var za={};Object.defineProperty(za,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{Ts=!1}var ci=null,jr=null,Hi=null;function vc(){if(Hi)return Hi;var r,o=jr,c=o.length,f,y="value"in ci?ci.value:ci.textContent,v=y.length;for(r=0;r<c&&o[r]===y[r];r++);var C=c-r;for(f=1;f<=C&&o[c-f]===y[v-f];f++);return Hi=y.slice(r,1<f?1-f:void 0)}function ui(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function di(){return!0}function _c(){return!1}function xn(r){function o(c,f,y,v,C){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(c=r[D],this[D]=c?c(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?di:_c,this.isPropagationStopped=_c,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),o}var _t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=xn(_t),Ua=g({},_t,{view:0,detail:0}),Cd=xn(Ua),Uo,Bo,hi,Ba=g({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hi&&(hi&&r.type==="mousemove"?(Uo=r.screenX-hi.screenX,Bo=r.screenY-hi.screenY):Bo=Uo=0,hi=r),Uo)},movementY:function(r){return"movementY"in r?r.movementY:Bo}}),Ns=xn(Ba),kd=g({},Ba,{dataTransfer:0}),Hm=xn(kd),Fa=g({},Ua,{relatedTarget:0}),Fo=xn(Fa),wc=g({},_t,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=xn(wc),Rd=g({},_t,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ho=xn(Rd),Gm=g({},_t,{data:0}),Ec=xn(Gm),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Id={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tc(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Id[r])?!!o[r]:!1}function Ha(){return Tc}var Dd=g({},Ua,{key:function(r){if(r.key){var o=$a[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ui(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?jd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(r){return r.type==="keypress"?ui(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ui(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Go=xn(Dd),Md=g({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=xn(Md),Gi=g({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Od=xn(Gi),Pd=g({},_t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ld=xn(Pd),Vd=g({},Ba,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qo=xn(Vd),Xn=g({},_t,{newState:0,oldState:0}),zd=xn(Xn),Ud=[9,13,27,32],fi=Hs&&"CompositionEvent"in window,p=null;Hs&&"documentMode"in document&&(p=document.documentMode);var _=Hs&&"TextEvent"in window&&!p,S=Hs&&(!fi||p&&8<p&&11>=p),P=" ",Q=!1;function ie(r,o){switch(r){case"keyup":return Ud.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mt=!1;function dn(r,o){switch(r){case"compositionend":return ve(o);case"keypress":return o.which!==32?null:(Q=!0,P);case"textInput":return r=o.data,r===P&&Q?null:r;default:return null}}function pt(r,o){if(mt)return r==="compositionend"||!fi&&ie(r,o)?(r=vc(),Hi=jr=ci=null,mt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!bn[r.type]:o==="textarea"}function qi(r,o,c,f){Fi?$i?$i.push(f):$i=[f]:Fi=f,o=Sh(o,"onChange"),0<o.length&&(c=new zo("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var kn=null,mi=null;function Sc(r){u_(r,0)}function Bd(r){var o=ai(r);if(gc(o))return r}function jx(r,o){if(r==="change")return o}var Ix=!1;if(Hs){var qm;if(Hs){var Wm="oninput"in document;if(!Wm){var Dx=document.createElement("div");Dx.setAttribute("oninput","return;"),Wm=typeof Dx.oninput=="function"}qm=Wm}else qm=!1;Ix=qm&&(!document.documentMode||9<document.documentMode)}function Mx(){kn&&(kn.detachEvent("onpropertychange",Ox),mi=kn=null)}function Ox(r){if(r.propertyName==="value"&&Bd(mi)){var o=[];qi(o,mi,r,Es(r)),Ad(Sc,o)}}function AA(r,o,c){r==="focusin"?(Mx(),kn=o,mi=c,kn.attachEvent("onpropertychange",Ox)):r==="focusout"&&Mx()}function CA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bd(mi)}function kA(r,o){if(r==="click")return Bd(o)}function RA(r,o){if(r==="input"||r==="change")return Bd(o)}function jA(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var ds=typeof Object.is=="function"?Object.is:jA;function Ac(r,o){if(ds(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!Qe.call(o,y)||!ds(r[y],o[y]))return!1}return!0}function Px(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lx(r,o){var c=Px(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Px(c)}}function Vx(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Vx(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function zx(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Ma(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Ma(r.document)}return o}function Ym(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var IA=Hs&&"documentMode"in document&&11>=document.documentMode,Wo=null,Km=null,Cc=null,Xm=!1;function Ux(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xm||Wo==null||Wo!==Ma(f)||(f=Wo,"selectionStart"in f&&Ym(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Cc&&Ac(Cc,f)||(Cc=f,f=Sh(Km,"onSelect"),0<f.length&&(o=new zo("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=Wo)))}function Ga(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var Yo={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},Qm={},Bx={};Hs&&(Bx=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function qa(r){if(Qm[r])return Qm[r];if(!Yo[r])return r;var o=Yo[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in Bx)return Qm[r]=o[c];return r}var Fx=qa("animationend"),$x=qa("animationiteration"),Hx=qa("animationstart"),DA=qa("transitionrun"),MA=qa("transitionstart"),OA=qa("transitioncancel"),Gx=qa("transitionend"),qx=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function Gs(r,o){qx.set(r,o),$s(o,[r])}var Wx=new WeakMap;function Ss(r,o){if(typeof r=="object"&&r!==null){var c=Wx.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Po(o)},Wx.set(r,o),o)}return{value:r,source:o,stack:Po(o)}}var As=[],Ko=0,Zm=0;function Fd(){for(var r=Ko,o=Zm=Ko=0;o<r;){var c=As[o];As[o++]=null;var f=As[o];As[o++]=null;var y=As[o];As[o++]=null;var v=As[o];if(As[o++]=null,f!==null&&y!==null){var C=f.pending;C===null?y.next=y:(y.next=C.next,C.next=y),f.pending=y}v!==0&&Yx(c,y,v)}}function $d(r,o,c,f){As[Ko++]=r,As[Ko++]=o,As[Ko++]=c,As[Ko++]=f,Zm|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function ep(r,o,c,f){return $d(r,o,c,f),Hd(r)}function Xo(r,o){return $d(r,null,null,o),Hd(r)}function Yx(r,o,c){r.lanes|=c;var f=r.alternate;f!==null&&(f.lanes|=c);for(var y=!1,v=r.return;v!==null;)v.childLanes|=c,f=v.alternate,f!==null&&(f.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(y=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,y&&o!==null&&(y=31-nt(c),r=v.hiddenUpdates,f=r[y],f===null?r[y]=[o]:f.push(o),o.lane=c|536870912),v):null}function Hd(r){if(50<Zc)throw Zc=0,ag=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Qo={};function PA(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(r,o,c,f){return new PA(r,o,c,f)}function tp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Wi(r,o){var c=r.alternate;return c===null?(c=hs(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function Kx(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Gd(r,o,c,f,y,v){var C=0;if(f=r,typeof r=="function")tp(r)&&(C=1);else if(typeof r=="string")C=VC(r,c,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case j:return r=hs(31,c,o,y),r.elementType=j,r.lanes=v,r;case N:return Wa(c.children,y,v,o);case w:C=8,y|=24;break;case T:return r=hs(12,c,o,y|2),r.elementType=T,r.lanes=v,r;case U:return r=hs(13,c,o,y),r.elementType=U,r.lanes=v,r;case $:return r=hs(19,c,o,y),r.elementType=$,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case I:C=10;break e;case M:C=9;break e;case z:C=11;break e;case A:C=14;break e;case R:C=16,f=null;break e}C=29,c=Error(s(130,r===null?"null":typeof r,"")),f=null}return o=hs(C,c,o,y),o.elementType=r,o.type=f,o.lanes=v,o}function Wa(r,o,c,f){return r=hs(7,r,f,o),r.lanes=c,r}function np(r,o,c){return r=hs(6,r,null,o),r.lanes=c,r}function sp(r,o,c){return o=hs(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Jo=[],Zo=0,qd=null,Wd=0,Cs=[],ks=0,Ya=null,Yi=1,Ki="";function Ka(r,o){Jo[Zo++]=Wd,Jo[Zo++]=qd,qd=r,Wd=o}function Xx(r,o,c){Cs[ks++]=Yi,Cs[ks++]=Ki,Cs[ks++]=Ya,Ya=r;var f=Yi;r=Ki;var y=32-nt(f)-1;f&=~(1<<y),c+=1;var v=32-nt(o)+y;if(30<v){var C=y-y%5;v=(f&(1<<C)-1).toString(32),f>>=C,y-=C,Yi=1<<32-nt(o)+y|c<<y|f,Ki=v+r}else Yi=1<<v|c<<y|f,Ki=r}function ip(r){r.return!==null&&(Ka(r,1),Xx(r,1,0))}function rp(r){for(;r===qd;)qd=Jo[--Zo],Jo[Zo]=null,Wd=Jo[--Zo],Jo[Zo]=null;for(;r===Ya;)Ya=Cs[--ks],Cs[ks]=null,Ki=Cs[--ks],Cs[ks]=null,Yi=Cs[--ks],Cs[ks]=null}var Qn=null,qt=null,vt=!1,Xa=null,pi=!1,ap=Error(s(519));function Qa(r){var o=Error(s(418,""));throw jc(Ss(o,r)),ap}function Qx(r){var o=r.stateNode,c=r.type,f=r.memoizedProps;switch(o[Yt]=r,o[Gt]=f,c){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(c=0;c<tu.length;c++)rt(tu[c],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),Oa(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Lo(o);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),Pa(o,f.value,f.defaultValue,f.children),Lo(o)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||f.suppressHydrationWarning===!0||m_(o.textContent,c)?(f.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),f.onScroll!=null&&rt("scroll",o),f.onScrollEnd!=null&&rt("scrollend",o),f.onClick!=null&&(o.onclick=Ah),o=!0):o=!1,o||Qa(r)}function Jx(r){for(Qn=r.return;Qn;)switch(Qn.tag){case 5:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:Qn=Qn.return}}function kc(r){if(r!==Qn)return!1;if(!vt)return Jx(r),vt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||wg(r.type,r.memoizedProps)),c=!c),c&&qt&&Qa(r),Jx(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){qt=Ws(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}qt=null}}else o===27?(o=qt,Wr(r.type)?(r=Sg,Sg=null,qt=r):qt=o):qt=Qn?Ws(r.stateNode.nextSibling):null;return!0}function Rc(){qt=Qn=null,vt=!1}function Zx(){var r=Xa;return r!==null&&(ts===null?ts=r:ts.push.apply(ts,r),Xa=null),r}function jc(r){Xa===null?Xa=[r]:Xa.push(r)}var op=ne(null),Ja=null,Xi=null;function Ir(r,o,c){re(op,o._currentValue),o._currentValue=c}function Qi(r){r._currentValue=op.current,he(op)}function lp(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function cp(r,o,c,f){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var v=y.dependencies;if(v!==null){var C=y.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=y;for(var G=0;G<o.length;G++)if(D.context===o[G]){v.lanes|=c,D=v.alternate,D!==null&&(D.lanes|=c),lp(v.return,c,r),f||(C=null);break e}v=D.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(s(341));C.lanes|=c,v=C.alternate,v!==null&&(v.lanes|=c),lp(C,c,r),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===r){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Ic(r,o,c,f){r=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var D=y.type;ds(y.pendingProps.value,C.value)||(r!==null?r.push(D):r=[D])}}else if(y===Ie.current){if(C=y.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(ou):r=[ou])}y=y.return}r!==null&&cp(o,r,c,f),o.flags|=262144}function Yd(r){for(r=r.firstContext;r!==null;){if(!ds(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Za(r){Ja=r,Xi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Pn(r){return eb(Ja,r)}function Kd(r,o){return Ja===null&&Za(r),eb(r,o)}function eb(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Xi===null){if(r===null)throw Error(s(308));Xi=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Xi=Xi.next=o;return c}var LA=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,f){r.push(f)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},VA=n.unstable_scheduleCallback,zA=n.unstable_NormalPriority,fn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function up(){return{controller:new LA,data:new Map,refCount:0}}function Dc(r){r.refCount--,r.refCount===0&&VA(zA,function(){r.controller.abort()})}var Mc=null,dp=0,el=0,tl=null;function UA(r,o){if(Mc===null){var c=Mc=[];dp=0,el=fg(),tl={status:"pending",value:void 0,then:function(f){c.push(f)}}}return dp++,o.then(tb,tb),o}function tb(){if(--dp===0&&Mc!==null){tl!==null&&(tl.status="fulfilled");var r=Mc;Mc=null,el=0,tl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function BA(r,o){var c=[],f={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),f}var nb=W.S;W.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&UA(r,o),nb!==null&&nb(r,o)};var eo=ne(null);function hp(){var r=eo.current;return r!==null?r:Mt.pooledCache}function Xd(r,o){o===null?re(eo,eo.current):re(eo,o.pool)}function sb(){var r=hp();return r===null?null:{parent:fn._currentValue,pool:r}}var Oc=Error(s(460)),ib=Error(s(474)),Qd=Error(s(542)),fp={then:function(){}};function rb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Jd(){}function ab(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Jd,Jd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,lb(r),r;default:if(typeof o.status=="string")o.then(Jd,Jd);else{if(r=Mt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,lb(r),r}throw Pc=o,Oc}}var Pc=null;function ob(){if(Pc===null)throw Error(s(459));var r=Pc;return Pc=null,r}function lb(r){if(r===Oc||r===Qd)throw Error(s(483))}var Dr=!1;function mp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Mr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Or(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Tt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Hd(r),Yx(r,null,c),o}return $d(r,f,o,c),Hd(r)}function Lc(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Ar(r,c)}}function gp(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=C:v=v.next=C,c=c.next}while(c!==null);v===null?y=v=o:v=v.next=o}else y=v=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var yp=!1;function Vc(){if(yp){var r=tl;if(r!==null)throw r}}function zc(r,o,c,f){yp=!1;var y=r.updateQueue;Dr=!1;var v=y.firstBaseUpdate,C=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var G=D,Z=G.next;G.next=null,C===null?v=Z:C.next=Z,C=G;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==C&&(D===null?oe.firstBaseUpdate=Z:D.next=Z,oe.lastBaseUpdate=G))}if(v!==null){var ue=y.baseState;C=0,oe=Z=G=null,D=v;do{var ee=D.lane&-536870913,se=ee!==D.lane;if(se?(gt&ee)===ee:(f&ee)===ee){ee!==0&&ee===el&&(yp=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var $e=r,Le=D;ee=o;var Rt=c;switch(Le.tag){case 1:if($e=Le.payload,typeof $e=="function"){ue=$e.call(Rt,ue,ee);break e}ue=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Le.payload,ee=typeof $e=="function"?$e.call(Rt,ue,ee):$e,ee==null)break e;ue=g({},ue,ee);break e;case 2:Dr=!0}}ee=D.callback,ee!==null&&(r.flags|=64,se&&(r.flags|=8192),se=y.callbacks,se===null?y.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(Z=oe=se,G=ue):oe=oe.next=se,C|=ee;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;se=D,D=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);oe===null&&(G=ue),y.baseState=G,y.firstBaseUpdate=Z,y.lastBaseUpdate=oe,v===null&&(y.shared.lanes=0),$r|=C,r.lanes=C,r.memoizedState=ue}}function cb(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function ub(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)cb(c[r],o)}var nl=ne(null),Zd=ne(0);function db(r,o){r=ir,re(Zd,r),re(nl,o),ir=r|o.baseLanes}function xp(){re(Zd,ir),re(nl,nl.current)}function bp(){ir=Zd.current,he(nl),he(Zd)}var Pr=0,Ze=null,Ct=null,nn=null,eh=!1,sl=!1,to=!1,th=0,Uc=0,il=null,FA=0;function Xt(){throw Error(s(321))}function vp(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!ds(r[c],o[c]))return!1;return!0}function _p(r,o,c,f,y,v){return Pr=v,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=r===null||r.memoizedState===null?Yb:Kb,to=!1,v=c(f,y),to=!1,sl&&(v=fb(o,c,f,y)),hb(r),v}function hb(r){W.H=oh;var o=Ct!==null&&Ct.next!==null;if(Pr=0,nn=Ct=Ze=null,eh=!1,Uc=0,il=null,o)throw Error(s(300));r===null||vn||(r=r.dependencies,r!==null&&Yd(r)&&(vn=!0))}function fb(r,o,c,f){Ze=r;var y=0;do{if(sl&&(il=null),Uc=0,sl=!1,25<=y)throw Error(s(301));if(y+=1,nn=Ct=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=KA,v=o(c,f)}while(sl);return v}function $A(){var r=W.H,o=r.useState()[0];return o=typeof o.then=="function"?Bc(o):o,r=r.useState()[0],(Ct!==null?Ct.memoizedState:null)!==r&&(Ze.flags|=1024),o}function wp(){var r=th!==0;return th=0,r}function Ep(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Tp(r){if(eh){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}eh=!1}Pr=0,nn=Ct=Ze=null,sl=!1,Uc=th=0,il=null}function Zn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ze.memoizedState=nn=r:nn=nn.next=r,nn}function sn(){if(Ct===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var o=nn===null?Ze.memoizedState:nn.next;if(o!==null)nn=o,Ct=r;else{if(r===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},nn===null?Ze.memoizedState=nn=r:nn=nn.next=r}return nn}function Np(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bc(r){var o=Uc;return Uc+=1,il===null&&(il=[]),r=ab(il,r,o),o=Ze,(nn===null?o.memoizedState:nn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?Yb:Kb),r}function nh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Bc(r);if(r.$$typeof===I)return Pn(r)}throw Error(s(438,String(r)))}function Sp(r){var o=null,c=Ze.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var f=Ze.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Np(),Ze.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),f=0;f<r;f++)c[f]=V;return o.index++,c}function Ji(r,o){return typeof o=="function"?o(r):o}function sh(r){var o=sn();return Ap(o,Ct,r)}function Ap(r,o,c){var f=r.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=c;var y=r.baseQueue,v=f.pending;if(v!==null){if(y!==null){var C=y.next;y.next=v.next,v.next=C}o.baseQueue=y=v,f.pending=null}if(v=r.baseState,y===null)r.memoizedState=v;else{o=y.next;var D=C=null,G=null,Z=o,oe=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(gt&ue)===ue:(Pr&ue)===ue){var ee=Z.revertLane;if(ee===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===el&&(oe=!0);else if((Pr&ee)===ee){Z=Z.next,ee===el&&(oe=!0);continue}else ue={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(D=G=ue,C=v):G=G.next=ue,Ze.lanes|=ee,$r|=ee;ue=Z.action,to&&c(v,ue),v=Z.hasEagerState?Z.eagerState:c(v,ue)}else ee={lane:ue,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(D=G=ee,C=v):G=G.next=ee,Ze.lanes|=ue,$r|=ue;Z=Z.next}while(Z!==null&&Z!==o);if(G===null?C=v:G.next=D,!ds(v,r.memoizedState)&&(vn=!0,oe&&(c=tl,c!==null)))throw c;r.memoizedState=v,r.baseState=C,r.baseQueue=G,f.lastRenderedState=v}return y===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Cp(r){var o=sn(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,v=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do v=r(v,C.action),C=C.next;while(C!==y);ds(v,o.memoizedState)||(vn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,f]}function mb(r,o,c){var f=Ze,y=sn(),v=vt;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=o();var C=!ds((Ct||y).memoizedState,c);C&&(y.memoizedState=c,vn=!0),y=y.queue;var D=yb.bind(null,f,y,r);if(Fc(2048,8,D,[r]),y.getSnapshot!==o||C||nn!==null&&nn.memoizedState.tag&1){if(f.flags|=2048,rl(9,ih(),gb.bind(null,f,y,c,o),null),Mt===null)throw Error(s(349));v||(Pr&124)!==0||pb(f,o,c)}return c}function pb(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Ze.updateQueue,o===null?(o=Np(),Ze.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function gb(r,o,c,f){o.value=c,o.getSnapshot=f,xb(o)&&bb(r)}function yb(r,o,c){return c(function(){xb(o)&&bb(r)})}function xb(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!ds(r,c)}catch{return!0}}function bb(r){var o=Xo(r,2);o!==null&&ys(o,r,2)}function kp(r){var o=Zn();if(typeof r=="function"){var c=r;if(r=c(),to){He(!0);try{c()}finally{He(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},o}function vb(r,o,c,f){return r.baseState=c,Ap(r,Ct,typeof f=="function"?f:Ji)}function HA(r,o,c,f,y){if(ah(r))throw Error(s(485));if(r=o.action,r!==null){var v={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};W.T!==null?c(!0):v.isTransition=!1,f(v),c=o.pending,c===null?(v.next=o.pending=v,_b(o,v)):(v.next=c.next,o.pending=c.next=v)}}function _b(r,o){var c=o.action,f=o.payload,y=r.state;if(o.isTransition){var v=W.T,C={};W.T=C;try{var D=c(y,f),G=W.S;G!==null&&G(C,D),wb(r,o,D)}catch(Z){Rp(r,o,Z)}finally{W.T=v}}else try{v=c(y,f),wb(r,o,v)}catch(Z){Rp(r,o,Z)}}function wb(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Eb(r,o,f)},function(f){return Rp(r,o,f)}):Eb(r,o,c)}function Eb(r,o,c){o.status="fulfilled",o.value=c,Tb(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,_b(r,c)))}function Rp(r,o,c){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=c,Tb(o),o=o.next;while(o!==f)}r.action=null}function Tb(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Nb(r,o){return o}function Sb(r,o){if(vt){var c=Mt.formState;if(c!==null){e:{var f=Ze;if(vt){if(qt){t:{for(var y=qt,v=pi;y.nodeType!==8;){if(!v){y=null;break t}if(y=Ws(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){qt=Ws(y.nextSibling),f=y.data==="F!";break e}}Qa(f)}f=!1}f&&(o=c[0])}}return c=Zn(),c.memoizedState=c.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nb,lastRenderedState:o},c.queue=f,c=Gb.bind(null,Ze,f),f.dispatch=c,f=kp(!1),v=Op.bind(null,Ze,!1,f.queue),f=Zn(),y={state:o,dispatch:null,action:r,pending:null},f.queue=y,c=HA.bind(null,Ze,y,v,c),y.dispatch=c,f.memoizedState=r,[o,c,!1]}function Ab(r){var o=sn();return Cb(o,Ct,r)}function Cb(r,o,c){if(o=Ap(r,o,Nb)[0],r=sh(Ji)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Bc(o)}catch(C){throw C===Oc?Qd:C}else f=o;o=sn();var y=o.queue,v=y.dispatch;return c!==o.memoizedState&&(Ze.flags|=2048,rl(9,ih(),GA.bind(null,y,c),null)),[f,v,r]}function GA(r,o){r.action=o}function kb(r){var o=sn(),c=Ct;if(c!==null)return Cb(o,c,r);sn(),o=o.memoizedState,c=sn();var f=c.queue.dispatch;return c.memoizedState=r,[o,f,!1]}function rl(r,o,c,f){return r={tag:r,create:c,deps:f,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=Np(),Ze.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r),r}function ih(){return{destroy:void 0,resource:void 0}}function Rb(){return sn().memoizedState}function rh(r,o,c,f){var y=Zn();f=f===void 0?null:f,Ze.flags|=r,y.memoizedState=rl(1|o,ih(),c,f)}function Fc(r,o,c,f){var y=sn();f=f===void 0?null:f;var v=y.memoizedState.inst;Ct!==null&&f!==null&&vp(f,Ct.memoizedState.deps)?y.memoizedState=rl(o,v,c,f):(Ze.flags|=r,y.memoizedState=rl(1|o,v,c,f))}function jb(r,o){rh(8390656,8,r,o)}function Ib(r,o){Fc(2048,8,r,o)}function Db(r,o){return Fc(4,2,r,o)}function Mb(r,o){return Fc(4,4,r,o)}function Ob(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Pb(r,o,c){c=c!=null?c.concat([r]):null,Fc(4,4,Ob.bind(null,o,r),c)}function jp(){}function Lb(r,o){var c=sn();o=o===void 0?null:o;var f=c.memoizedState;return o!==null&&vp(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function Vb(r,o){var c=sn();o=o===void 0?null:o;var f=c.memoizedState;if(o!==null&&vp(o,f[1]))return f[0];if(f=r(),to){He(!0);try{r()}finally{He(!1)}}return c.memoizedState=[f,o],f}function Ip(r,o,c){return c===void 0||(Pr&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=Bv(),Ze.lanes|=r,$r|=r,c)}function zb(r,o,c,f){return ds(c,o)?c:nl.current!==null?(r=Ip(r,c,f),ds(r,o)||(vn=!0),r):(Pr&42)===0?(vn=!0,r.memoizedState=c):(r=Bv(),Ze.lanes|=r,$r|=r,o)}function Ub(r,o,c,f,y){var v=ae.p;ae.p=v!==0&&8>v?v:8;var C=W.T,D={};W.T=D,Op(r,!1,o,c);try{var G=y(),Z=W.S;if(Z!==null&&Z(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=BA(G,f);$c(r,o,oe,gs(r))}else $c(r,o,f,gs(r))}catch(ue){$c(r,o,{then:function(){},status:"rejected",reason:ue},gs())}finally{ae.p=v,W.T=C}}function qA(){}function Dp(r,o,c,f){if(r.tag!==5)throw Error(s(476));var y=Bb(r).queue;Ub(r,y,o,we,c===null?qA:function(){return Fb(r),c(f)})}function Bb(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:we},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Fb(r){var o=Bb(r).next.queue;$c(r,o,{},gs())}function Mp(){return Pn(ou)}function $b(){return sn().memoizedState}function Hb(){return sn().memoizedState}function WA(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=gs();r=Mr(c);var f=Or(o,r,c);f!==null&&(ys(f,o,c),Lc(f,o,c)),o={cache:up()},r.payload=o;return}o=o.return}}function YA(r,o,c){var f=gs();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},ah(r)?qb(o,c):(c=ep(r,o,c,f),c!==null&&(ys(c,r,f),Wb(c,o,f)))}function Gb(r,o,c){var f=gs();$c(r,o,c,f)}function $c(r,o,c,f){var y={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(ah(r))qb(o,y);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var C=o.lastRenderedState,D=v(C,c);if(y.hasEagerState=!0,y.eagerState=D,ds(D,C))return $d(r,o,y,0),Mt===null&&Fd(),!1}catch{}finally{}if(c=ep(r,o,y,f),c!==null)return ys(c,r,f),Wb(c,o,f),!0}return!1}function Op(r,o,c,f){if(f={lane:2,revertLane:fg(),action:f,hasEagerState:!1,eagerState:null,next:null},ah(r)){if(o)throw Error(s(479))}else o=ep(r,c,f,2),o!==null&&ys(o,r,2)}function ah(r){var o=r.alternate;return r===Ze||o!==null&&o===Ze}function qb(r,o){sl=eh=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function Wb(r,o,c){if((c&4194048)!==0){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Ar(r,c)}}var oh={readContext:Pn,use:nh,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Yb={readContext:Pn,use:nh,useCallback:function(r,o){return Zn().memoizedState=[r,o===void 0?null:o],r},useContext:Pn,useEffect:jb,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,rh(4194308,4,Ob.bind(null,o,r),c)},useLayoutEffect:function(r,o){return rh(4194308,4,r,o)},useInsertionEffect:function(r,o){rh(4,2,r,o)},useMemo:function(r,o){var c=Zn();o=o===void 0?null:o;var f=r();if(to){He(!0);try{r()}finally{He(!1)}}return c.memoizedState=[f,o],f},useReducer:function(r,o,c){var f=Zn();if(c!==void 0){var y=c(o);if(to){He(!0);try{c(o)}finally{He(!1)}}}else y=o;return f.memoizedState=f.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},f.queue=r,r=r.dispatch=YA.bind(null,Ze,r),[f.memoizedState,r]},useRef:function(r){var o=Zn();return r={current:r},o.memoizedState=r},useState:function(r){r=kp(r);var o=r.queue,c=Gb.bind(null,Ze,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:jp,useDeferredValue:function(r,o){var c=Zn();return Ip(c,r,o)},useTransition:function(){var r=kp(!1);return r=Ub.bind(null,Ze,r.queue,!0,!1),Zn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var f=Ze,y=Zn();if(vt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),Mt===null)throw Error(s(349));(gt&124)!==0||pb(f,o,c)}y.memoizedState=c;var v={value:c,getSnapshot:o};return y.queue=v,jb(yb.bind(null,f,v,r),[r]),f.flags|=2048,rl(9,ih(),gb.bind(null,f,v,c,o),null),c},useId:function(){var r=Zn(),o=Mt.identifierPrefix;if(vt){var c=Ki,f=Yi;c=(f&~(1<<32-nt(f)-1)).toString(32)+c,o=""+o+"R"+c,c=th++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=FA++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:Mp,useFormState:Sb,useActionState:Sb,useOptimistic:function(r){var o=Zn();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Op.bind(null,Ze,!0,c),c.dispatch=o,[r,o]},useMemoCache:Sp,useCacheRefresh:function(){return Zn().memoizedState=WA.bind(null,Ze)}},Kb={readContext:Pn,use:nh,useCallback:Lb,useContext:Pn,useEffect:Ib,useImperativeHandle:Pb,useInsertionEffect:Db,useLayoutEffect:Mb,useMemo:Vb,useReducer:sh,useRef:Rb,useState:function(){return sh(Ji)},useDebugValue:jp,useDeferredValue:function(r,o){var c=sn();return zb(c,Ct.memoizedState,r,o)},useTransition:function(){var r=sh(Ji)[0],o=sn().memoizedState;return[typeof r=="boolean"?r:Bc(r),o]},useSyncExternalStore:mb,useId:$b,useHostTransitionStatus:Mp,useFormState:Ab,useActionState:Ab,useOptimistic:function(r,o){var c=sn();return vb(c,Ct,r,o)},useMemoCache:Sp,useCacheRefresh:Hb},KA={readContext:Pn,use:nh,useCallback:Lb,useContext:Pn,useEffect:Ib,useImperativeHandle:Pb,useInsertionEffect:Db,useLayoutEffect:Mb,useMemo:Vb,useReducer:Cp,useRef:Rb,useState:function(){return Cp(Ji)},useDebugValue:jp,useDeferredValue:function(r,o){var c=sn();return Ct===null?Ip(c,r,o):zb(c,Ct.memoizedState,r,o)},useTransition:function(){var r=Cp(Ji)[0],o=sn().memoizedState;return[typeof r=="boolean"?r:Bc(r),o]},useSyncExternalStore:mb,useId:$b,useHostTransitionStatus:Mp,useFormState:kb,useActionState:kb,useOptimistic:function(r,o){var c=sn();return Ct!==null?vb(c,Ct,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Sp,useCacheRefresh:Hb},al=null,Hc=0;function lh(r){var o=Hc;return Hc+=1,al===null&&(al=[]),ab(al,r,o)}function Gc(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function ch(r,o){throw o.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Xb(r){var o=r._init;return o(r._payload)}function Qb(r){function o(K,Y){if(r){var J=K.deletions;J===null?(K.deletions=[Y],K.flags|=16):J.push(Y)}}function c(K,Y){if(!r)return null;for(;Y!==null;)o(K,Y),Y=Y.sibling;return null}function f(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function y(K,Y){return K=Wi(K,Y),K.index=0,K.sibling=null,K}function v(K,Y,J){return K.index=J,r?(J=K.alternate,J!==null?(J=J.index,J<Y?(K.flags|=67108866,Y):J):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function C(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function D(K,Y,J,le){return Y===null||Y.tag!==6?(Y=np(J,K.mode,le),Y.return=K,Y):(Y=y(Y,J),Y.return=K,Y)}function G(K,Y,J,le){var Ce=J.type;return Ce===N?oe(K,Y,J.props.children,le,J.key):Y!==null&&(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===R&&Xb(Ce)===Y.type)?(Y=y(Y,J.props),Gc(Y,J),Y.return=K,Y):(Y=Gd(J.type,J.key,J.props,null,K.mode,le),Gc(Y,J),Y.return=K,Y)}function Z(K,Y,J,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=sp(J,K.mode,le),Y.return=K,Y):(Y=y(Y,J.children||[]),Y.return=K,Y)}function oe(K,Y,J,le,Ce){return Y===null||Y.tag!==7?(Y=Wa(J,K.mode,le,Ce),Y.return=K,Y):(Y=y(Y,J),Y.return=K,Y)}function ue(K,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=np(""+Y,K.mode,J),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return J=Gd(Y.type,Y.key,Y.props,null,K.mode,J),Gc(J,Y),J.return=K,J;case E:return Y=sp(Y,K.mode,J),Y.return=K,Y;case R:var le=Y._init;return Y=le(Y._payload),ue(K,Y,J)}if(de(Y)||O(Y))return Y=Wa(Y,K.mode,J,null),Y.return=K,Y;if(typeof Y.then=="function")return ue(K,lh(Y),J);if(Y.$$typeof===I)return ue(K,Kd(K,Y),J);ch(K,Y)}return null}function ee(K,Y,J,le){var Ce=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:D(K,Y,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Ce?G(K,Y,J,le):null;case E:return J.key===Ce?Z(K,Y,J,le):null;case R:return Ce=J._init,J=Ce(J._payload),ee(K,Y,J,le)}if(de(J)||O(J))return Ce!==null?null:oe(K,Y,J,le,null);if(typeof J.then=="function")return ee(K,Y,lh(J),le);if(J.$$typeof===I)return ee(K,Y,Kd(K,J),le);ch(K,J)}return null}function se(K,Y,J,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(J)||null,D(Y,K,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return K=K.get(le.key===null?J:le.key)||null,G(Y,K,le,Ce);case E:return K=K.get(le.key===null?J:le.key)||null,Z(Y,K,le,Ce);case R:var et=le._init;return le=et(le._payload),se(K,Y,J,le,Ce)}if(de(le)||O(le))return K=K.get(J)||null,oe(Y,K,le,Ce,null);if(typeof le.then=="function")return se(K,Y,J,lh(le),Ce);if(le.$$typeof===I)return se(K,Y,J,Kd(Y,le),Ce);ch(Y,le)}return null}function $e(K,Y,J,le){for(var Ce=null,et=null,Re=Y,Ve=Y=0,wn=null;Re!==null&&Ve<J.length;Ve++){Re.index>Ve?(wn=Re,Re=null):wn=Re.sibling;var bt=ee(K,Re,J[Ve],le);if(bt===null){Re===null&&(Re=wn);break}r&&Re&&bt.alternate===null&&o(K,Re),Y=v(bt,Y,Ve),et===null?Ce=bt:et.sibling=bt,et=bt,Re=wn}if(Ve===J.length)return c(K,Re),vt&&Ka(K,Ve),Ce;if(Re===null){for(;Ve<J.length;Ve++)Re=ue(K,J[Ve],le),Re!==null&&(Y=v(Re,Y,Ve),et===null?Ce=Re:et.sibling=Re,et=Re);return vt&&Ka(K,Ve),Ce}for(Re=f(Re);Ve<J.length;Ve++)wn=se(Re,K,Ve,J[Ve],le),wn!==null&&(r&&wn.alternate!==null&&Re.delete(wn.key===null?Ve:wn.key),Y=v(wn,Y,Ve),et===null?Ce=wn:et.sibling=wn,et=wn);return r&&Re.forEach(function(Jr){return o(K,Jr)}),vt&&Ka(K,Ve),Ce}function Le(K,Y,J,le){if(J==null)throw Error(s(151));for(var Ce=null,et=null,Re=Y,Ve=Y=0,wn=null,bt=J.next();Re!==null&&!bt.done;Ve++,bt=J.next()){Re.index>Ve?(wn=Re,Re=null):wn=Re.sibling;var Jr=ee(K,Re,bt.value,le);if(Jr===null){Re===null&&(Re=wn);break}r&&Re&&Jr.alternate===null&&o(K,Re),Y=v(Jr,Y,Ve),et===null?Ce=Jr:et.sibling=Jr,et=Jr,Re=wn}if(bt.done)return c(K,Re),vt&&Ka(K,Ve),Ce;if(Re===null){for(;!bt.done;Ve++,bt=J.next())bt=ue(K,bt.value,le),bt!==null&&(Y=v(bt,Y,Ve),et===null?Ce=bt:et.sibling=bt,et=bt);return vt&&Ka(K,Ve),Ce}for(Re=f(Re);!bt.done;Ve++,bt=J.next())bt=se(Re,K,Ve,bt.value,le),bt!==null&&(r&&bt.alternate!==null&&Re.delete(bt.key===null?Ve:bt.key),Y=v(bt,Y,Ve),et===null?Ce=bt:et.sibling=bt,et=bt);return r&&Re.forEach(function(XC){return o(K,XC)}),vt&&Ka(K,Ve),Ce}function Rt(K,Y,J,le){if(typeof J=="object"&&J!==null&&J.type===N&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Ce=J.key;Y!==null;){if(Y.key===Ce){if(Ce=J.type,Ce===N){if(Y.tag===7){c(K,Y.sibling),le=y(Y,J.props.children),le.return=K,K=le;break e}}else if(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===R&&Xb(Ce)===Y.type){c(K,Y.sibling),le=y(Y,J.props),Gc(le,J),le.return=K,K=le;break e}c(K,Y);break}else o(K,Y);Y=Y.sibling}J.type===N?(le=Wa(J.props.children,K.mode,le,J.key),le.return=K,K=le):(le=Gd(J.type,J.key,J.props,null,K.mode,le),Gc(le,J),le.return=K,K=le)}return C(K);case E:e:{for(Ce=J.key;Y!==null;){if(Y.key===Ce)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){c(K,Y.sibling),le=y(Y,J.children||[]),le.return=K,K=le;break e}else{c(K,Y);break}else o(K,Y);Y=Y.sibling}le=sp(J,K.mode,le),le.return=K,K=le}return C(K);case R:return Ce=J._init,J=Ce(J._payload),Rt(K,Y,J,le)}if(de(J))return $e(K,Y,J,le);if(O(J)){if(Ce=O(J),typeof Ce!="function")throw Error(s(150));return J=Ce.call(J),Le(K,Y,J,le)}if(typeof J.then=="function")return Rt(K,Y,lh(J),le);if(J.$$typeof===I)return Rt(K,Y,Kd(K,J),le);ch(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(c(K,Y.sibling),le=y(Y,J),le.return=K,K=le):(c(K,Y),le=np(J,K.mode,le),le.return=K,K=le),C(K)):c(K,Y)}return function(K,Y,J,le){try{Hc=0;var Ce=Rt(K,Y,J,le);return al=null,Ce}catch(Re){if(Re===Oc||Re===Qd)throw Re;var et=hs(29,Re,null,K.mode);return et.lanes=le,et.return=K,et}finally{}}}var ol=Qb(!0),Jb=Qb(!1),Rs=ne(null),gi=null;function Lr(r){var o=r.alternate;re(mn,mn.current&1),re(Rs,r),gi===null&&(o===null||nl.current!==null||o.memoizedState!==null)&&(gi=r)}function Zb(r){if(r.tag===22){if(re(mn,mn.current),re(Rs,r),gi===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(gi=r)}}else Vr()}function Vr(){re(mn,mn.current),re(Rs,Rs.current)}function Zi(r){he(Rs),gi===r&&(gi=null),he(mn)}var mn=ne(0);function uh(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Ng(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Pp(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:g({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Lp={enqueueSetState:function(r,o,c){r=r._reactInternals;var f=gs(),y=Mr(f);y.payload=o,c!=null&&(y.callback=c),o=Or(r,y,f),o!==null&&(ys(o,r,f),Lc(o,r,f))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=gs(),y=Mr(f);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Or(r,y,f),o!==null&&(ys(o,r,f),Lc(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=gs(),f=Mr(c);f.tag=2,o!=null&&(f.callback=o),o=Or(r,f,c),o!==null&&(ys(o,r,c),Lc(o,r,c))}};function ev(r,o,c,f,y,v,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,v,C):o.prototype&&o.prototype.isPureReactComponent?!Ac(c,f)||!Ac(y,v):!0}function tv(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&Lp.enqueueReplaceState(o,o.state,null)}function no(r,o){var c=o;if("ref"in o){c={};for(var f in o)f!=="ref"&&(c[f]=o[f])}if(r=r.defaultProps){c===o&&(c=g({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}var dh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function nv(r){dh(r)}function sv(r){console.error(r)}function iv(r){dh(r)}function hh(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function rv(r,o,c){try{var f=r.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Vp(r,o,c){return c=Mr(c),c.tag=3,c.payload={element:null},c.callback=function(){hh(r,o)},c}function av(r){return r=Mr(r),r.tag=3,r}function ov(r,o,c,f){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=f.value;r.payload=function(){return y(v)},r.callback=function(){rv(o,c,f)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){rv(o,c,f),typeof y!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function XA(r,o,c,f,y){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=c.alternate,o!==null&&Ic(o,c,y,!0),c=Rs.current,c!==null){switch(c.tag){case 13:return gi===null?lg():c.alternate===null&&Wt===0&&(Wt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,f===fp?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([f]):o.add(f),ug(r,f,y)),!1;case 22:return c.flags|=65536,f===fp?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([f]):c.add(f)),ug(r,f,y)),!1}throw Error(s(435,c.tag))}return ug(r,f,y),lg(),!1}if(vt)return o=Rs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==ap&&(r=Error(s(422),{cause:f}),jc(Ss(r,c)))):(f!==ap&&(o=Error(s(423),{cause:f}),jc(Ss(o,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,f=Ss(f,c),y=Vp(r.stateNode,f,y),gp(r,y),Wt!==4&&(Wt=2)),!1;var v=Error(s(520),{cause:f});if(v=Ss(v,c),Jc===null?Jc=[v]:Jc.push(v),Wt!==4&&(Wt=2),o===null)return!0;f=Ss(f,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=Vp(c.stateNode,f,r),gp(c,r),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Hr===null||!Hr.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=av(y),ov(y,r,c,f),gp(c,y),!1}c=c.return}while(c!==null);return!1}var lv=Error(s(461)),vn=!1;function Rn(r,o,c,f){o.child=r===null?Jb(o,null,c,f):ol(o,r.child,c,f)}function cv(r,o,c,f,y){c=c.render;var v=o.ref;if("ref"in f){var C={};for(var D in f)D!=="ref"&&(C[D]=f[D])}else C=f;return Za(o),f=_p(r,o,c,C,v,y),D=wp(),r!==null&&!vn?(Ep(r,o,y),er(r,o,y)):(vt&&D&&ip(o),o.flags|=1,Rn(r,o,f,y),o.child)}function uv(r,o,c,f,y){if(r===null){var v=c.type;return typeof v=="function"&&!tp(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,dv(r,o,v,f,y)):(r=Gd(c.type,null,f,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!qp(r,y)){var C=v.memoizedProps;if(c=c.compare,c=c!==null?c:Ac,c(C,f)&&r.ref===o.ref)return er(r,o,y)}return o.flags|=1,r=Wi(v,f),r.ref=o.ref,r.return=o,o.child=r}function dv(r,o,c,f,y){if(r!==null){var v=r.memoizedProps;if(Ac(v,f)&&r.ref===o.ref)if(vn=!1,o.pendingProps=f=v,qp(r,y))(r.flags&131072)!==0&&(vn=!0);else return o.lanes=r.lanes,er(r,o,y)}return zp(r,o,c,f,y)}function hv(r,o,c){var f=o.pendingProps,y=f.children,v=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=v!==null?v.baseLanes|c:c,r!==null){for(y=o.child=r.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;o.childLanes=v&~f}else o.childLanes=0,o.child=null;return fv(r,o,f,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Xd(o,v!==null?v.cachePool:null),v!==null?db(o,v):xp(),Zb(o);else return o.lanes=o.childLanes=536870912,fv(r,o,v!==null?v.baseLanes|c:c,c)}else v!==null?(Xd(o,v.cachePool),db(o,v),Vr(),o.memoizedState=null):(r!==null&&Xd(o,null),xp(),Vr());return Rn(r,o,y,c),o.child}function fv(r,o,c,f){var y=hp();return y=y===null?null:{parent:fn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},r!==null&&Xd(o,null),xp(),Zb(o),r!==null&&Ic(r,o,f,!0),null}function fh(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function zp(r,o,c,f,y){return Za(o),c=_p(r,o,c,f,void 0,y),f=wp(),r!==null&&!vn?(Ep(r,o,y),er(r,o,y)):(vt&&f&&ip(o),o.flags|=1,Rn(r,o,c,y),o.child)}function mv(r,o,c,f,y,v){return Za(o),o.updateQueue=null,c=fb(o,f,c,y),hb(r),f=wp(),r!==null&&!vn?(Ep(r,o,v),er(r,o,v)):(vt&&f&&ip(o),o.flags|=1,Rn(r,o,c,v),o.child)}function pv(r,o,c,f,y){if(Za(o),o.stateNode===null){var v=Qo,C=c.contextType;typeof C=="object"&&C!==null&&(v=Pn(C)),v=new c(f,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Lp,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=f,v.state=o.memoizedState,v.refs={},mp(o),C=c.contextType,v.context=typeof C=="object"&&C!==null?Pn(C):Qo,v.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Pp(o,c,C,f),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Lp.enqueueReplaceState(v,v.state,null),zc(o,f,v,y),Vc(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(r===null){v=o.stateNode;var D=o.memoizedProps,G=no(c,D);v.props=G;var Z=v.context,oe=c.contextType;C=Qo,typeof oe=="object"&&oe!==null&&(C=Pn(oe));var ue=c.getDerivedStateFromProps;oe=typeof ue=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,oe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||Z!==C)&&tv(o,v,f,C),Dr=!1;var ee=o.memoizedState;v.state=ee,zc(o,f,v,y),Vc(),Z=o.memoizedState,D||ee!==Z||Dr?(typeof ue=="function"&&(Pp(o,c,ue,f),Z=o.memoizedState),(G=Dr||ev(o,c,G,f,ee,Z,C))?(oe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Z),v.props=f,v.state=Z,v.context=C,f=G):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{v=o.stateNode,pp(r,o),C=o.memoizedProps,oe=no(c,C),v.props=oe,ue=o.pendingProps,ee=v.context,Z=c.contextType,G=Qo,typeof Z=="object"&&Z!==null&&(G=Pn(Z)),D=c.getDerivedStateFromProps,(Z=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==ue||ee!==G)&&tv(o,v,f,G),Dr=!1,ee=o.memoizedState,v.state=ee,zc(o,f,v,y),Vc();var se=o.memoizedState;C!==ue||ee!==se||Dr||r!==null&&r.dependencies!==null&&Yd(r.dependencies)?(typeof D=="function"&&(Pp(o,c,D,f),se=o.memoizedState),(oe=Dr||ev(o,c,oe,f,ee,se,G)||r!==null&&r.dependencies!==null&&Yd(r.dependencies))?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,se,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,se,G)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=se),v.props=f,v.state=se,v.context=G,f=oe):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),f=!1)}return v=f,fh(r,o),f=(o.flags&128)!==0,v||f?(v=o.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&f?(o.child=ol(o,r.child,null,y),o.child=ol(o,null,c,y)):Rn(r,o,c,y),o.memoizedState=v.state,r=o.child):r=er(r,o,y),r}function gv(r,o,c,f){return Rc(),o.flags|=256,Rn(r,o,c,f),o.child}var Up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bp(r){return{baseLanes:r,cachePool:sb()}}function Fp(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=js),r}function yv(r,o,c){var f=o.pendingProps,y=!1,v=(o.flags&128)!==0,C;if((C=v)||(C=r!==null&&r.memoizedState===null?!1:(mn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,r===null){if(vt){if(y?Lr(o):Vr(),vt){var D=qt,G;if(G=D){e:{for(G=D,D=pi;G.nodeType!==8;){if(!D){D=null;break e}if(G=Ws(G.nextSibling),G===null){D=null;break e}}D=G}D!==null?(o.memoizedState={dehydrated:D,treeContext:Ya!==null?{id:Yi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},G=hs(18,null,null,0),G.stateNode=D,G.return=o,o.child=G,Qn=o,qt=null,G=!0):G=!1}G||Qa(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Ng(D)?o.lanes=32:o.lanes=536870912,null;Zi(o)}return D=f.children,f=f.fallback,y?(Vr(),y=o.mode,D=mh({mode:"hidden",children:D},y),f=Wa(f,y,c,null),D.return=o,f.return=o,D.sibling=f,o.child=D,y=o.child,y.memoizedState=Bp(c),y.childLanes=Fp(r,C,c),o.memoizedState=Up,f):(Lr(o),$p(o,D))}if(G=r.memoizedState,G!==null&&(D=G.dehydrated,D!==null)){if(v)o.flags&256?(Lr(o),o.flags&=-257,o=Hp(r,o,c)):o.memoizedState!==null?(Vr(),o.child=r.child,o.flags|=128,o=null):(Vr(),y=f.fallback,D=o.mode,f=mh({mode:"visible",children:f.children},D),y=Wa(y,D,c,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,ol(o,r.child,null,c),f=o.child,f.memoizedState=Bp(c),f.childLanes=Fp(r,C,c),o.memoizedState=Up,o=y);else if(Lr(o),Ng(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var Z=C.dgst;C=Z,f=Error(s(419)),f.stack="",f.digest=C,jc({value:f,source:null,stack:null}),o=Hp(r,o,c)}else if(vn||Ic(r,o,c,!1),C=(c&r.childLanes)!==0,vn||C){if(C=Mt,C!==null&&(f=c&-c,f=(f&42)!==0?1:si(f),f=(f&(C.suspendedLanes|c))!==0?0:f,f!==0&&f!==G.retryLane))throw G.retryLane=f,Xo(r,f),ys(C,r,f),lv;D.data==="$?"||lg(),o=Hp(r,o,c)}else D.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=G.treeContext,qt=Ws(D.nextSibling),Qn=o,vt=!0,Xa=null,pi=!1,r!==null&&(Cs[ks++]=Yi,Cs[ks++]=Ki,Cs[ks++]=Ya,Yi=r.id,Ki=r.overflow,Ya=o),o=$p(o,f.children),o.flags|=4096);return o}return y?(Vr(),y=f.fallback,D=o.mode,G=r.child,Z=G.sibling,f=Wi(G,{mode:"hidden",children:f.children}),f.subtreeFlags=G.subtreeFlags&65011712,Z!==null?y=Wi(Z,y):(y=Wa(y,D,c,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,D=r.child.memoizedState,D===null?D=Bp(c):(G=D.cachePool,G!==null?(Z=fn._currentValue,G=G.parent!==Z?{parent:Z,pool:Z}:G):G=sb(),D={baseLanes:D.baseLanes|c,cachePool:G}),y.memoizedState=D,y.childLanes=Fp(r,C,c),o.memoizedState=Up,f):(Lr(o),c=r.child,r=c.sibling,c=Wi(c,{mode:"visible",children:f.children}),c.return=o,c.sibling=null,r!==null&&(C=o.deletions,C===null?(o.deletions=[r],o.flags|=16):C.push(r)),o.child=c,o.memoizedState=null,c)}function $p(r,o){return o=mh({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function mh(r,o){return r=hs(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Hp(r,o,c){return ol(o,r.child,null,c),r=$p(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function xv(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),lp(r.return,o,c)}function Gp(r,o,c,f,y){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=y)}function bv(r,o,c){var f=o.pendingProps,y=f.revealOrder,v=f.tail;if(Rn(r,o,f.children,c),f=mn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xv(r,c,o);else if(r.tag===19)xv(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(re(mn,f),y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&uh(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Gp(o,!1,y,c,v);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&uh(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}Gp(o,!0,c,null,v);break;case"together":Gp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function er(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),$r|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(Ic(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,c=Wi(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Wi(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function qp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Yd(r)))}function QA(r,o,c){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Ir(o,fn,r.memoizedState.cache),Rc();break;case 27:case 5:qe(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Ir(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Lr(o),o.flags|=128,null):(c&o.child.childLanes)!==0?yv(r,o,c):(Lr(o),r=er(r,o,c),r!==null?r.sibling:null);Lr(o);break;case 19:var y=(r.flags&128)!==0;if(f=(c&o.childLanes)!==0,f||(Ic(r,o,c,!1),f=(c&o.childLanes)!==0),y){if(f)return bv(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),re(mn,mn.current),f)break;return null;case 22:case 23:return o.lanes=0,hv(r,o,c);case 24:Ir(o,fn,r.memoizedState.cache)}return er(r,o,c)}function vv(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)vn=!0;else{if(!qp(r,c)&&(o.flags&128)===0)return vn=!1,QA(r,o,c);vn=(r.flags&131072)!==0}else vn=!1,vt&&(o.flags&1048576)!==0&&Xx(o,Wd,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var f=o.elementType,y=f._init;if(f=y(f._payload),o.type=f,typeof f=="function")tp(f)?(r=no(f,r),o.tag=1,o=pv(null,o,f,r,c)):(o.tag=0,o=zp(null,o,f,r,c));else{if(f!=null){if(y=f.$$typeof,y===z){o.tag=11,o=cv(null,o,f,r,c);break e}else if(y===A){o.tag=14,o=uv(null,o,f,r,c);break e}}throw o=ge(f)||f,Error(s(306,o,""))}}return o;case 0:return zp(r,o,o.type,o.pendingProps,c);case 1:return f=o.type,y=no(f,o.pendingProps),pv(r,o,f,y,c);case 3:e:{if(be(o,o.stateNode.containerInfo),r===null)throw Error(s(387));f=o.pendingProps;var v=o.memoizedState;y=v.element,pp(r,o),zc(o,f,null,c);var C=o.memoizedState;if(f=C.cache,Ir(o,fn,f),f!==v.cache&&cp(o,[fn],c,!0),Vc(),f=C.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=gv(r,o,f,c);break e}else if(f!==y){y=Ss(Error(s(424)),o),jc(y),o=gv(r,o,f,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(qt=Ws(r.firstChild),Qn=o,vt=!0,Xa=null,pi=!0,c=Jb(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Rc(),f===y){o=er(r,o,c);break e}Rn(r,o,f,c)}o=o.child}return o;case 26:return fh(r,o),r===null?(c=T_(o.type,null,o.pendingProps,null))?o.memoizedState=c:vt||(c=o.type,r=o.pendingProps,f=Ch(ye.current).createElement(c),f[Yt]=o,f[Gt]=r,In(f,c,r),Kt(f),o.stateNode=f):o.memoizedState=T_(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return qe(o),r===null&&vt&&(f=o.stateNode=__(o.type,o.pendingProps,ye.current),Qn=o,pi=!0,y=qt,Wr(o.type)?(Sg=y,qt=Ws(f.firstChild)):qt=y),Rn(r,o,o.pendingProps.children,c),fh(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&vt&&((y=f=qt)&&(f=NC(f,o.type,o.pendingProps,pi),f!==null?(o.stateNode=f,Qn=o,qt=Ws(f.firstChild),pi=!1,y=!0):y=!1),y||Qa(o)),qe(o),y=o.type,v=o.pendingProps,C=r!==null?r.memoizedProps:null,f=v.children,wg(y,v)?f=null:C!==null&&wg(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=_p(r,o,$A,null,null,c),ou._currentValue=y),fh(r,o),Rn(r,o,f,c),o.child;case 6:return r===null&&vt&&((r=c=qt)&&(c=SC(c,o.pendingProps,pi),c!==null?(o.stateNode=c,Qn=o,qt=null,r=!0):r=!1),r||Qa(o)),null;case 13:return yv(r,o,c);case 4:return be(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=ol(o,null,f,c):Rn(r,o,f,c),o.child;case 11:return cv(r,o,o.type,o.pendingProps,c);case 7:return Rn(r,o,o.pendingProps,c),o.child;case 8:return Rn(r,o,o.pendingProps.children,c),o.child;case 12:return Rn(r,o,o.pendingProps.children,c),o.child;case 10:return f=o.pendingProps,Ir(o,o.type,f.value),Rn(r,o,f.children,c),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Za(o),y=Pn(y),f=f(y),o.flags|=1,Rn(r,o,f,c),o.child;case 14:return uv(r,o,o.type,o.pendingProps,c);case 15:return dv(r,o,o.type,o.pendingProps,c);case 19:return bv(r,o,c);case 31:return f=o.pendingProps,c=o.mode,f={mode:f.mode,children:f.children},r===null?(c=mh(f,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Wi(r.child,f),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return hv(r,o,c);case 24:return Za(o),f=Pn(fn),r===null?(y=hp(),y===null&&(y=Mt,v=up(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),o.memoizedState={parent:f,cache:y},mp(o),Ir(o,fn,y)):((r.lanes&c)!==0&&(pp(r,o),zc(o,null,null,c),Vc()),y=r.memoizedState,v=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ir(o,fn,f)):(f=v.cache,Ir(o,fn,f),f!==y.cache&&cp(o,[fn],c,!0))),Rn(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function tr(r){r.flags|=4}function _v(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!k_(o)){if(o=Rs.current,o!==null&&((gt&4194048)===gt?gi!==null:(gt&62914560)!==gt&&(gt&536870912)===0||o!==gi))throw Pc=fp,ib;r.flags|=8192}}function ph(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Nr():536870912,r.lanes|=o,dl|=o)}function qc(r,o){if(!vt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function $t(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function JA(r,o,c){var f=o.pendingProps;switch(rp(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return $t(o),null;case 3:return c=o.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Qi(fn),Ke(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(kc(o)?tr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zx())),$t(o),null;case 26:return c=o.memoizedState,r===null?(tr(o),c!==null?($t(o),_v(o,c)):($t(o),o.flags&=-16777217)):c?c!==r.memoizedState?(tr(o),$t(o),_v(o,c)):($t(o),o.flags&=-16777217):(r.memoizedProps!==f&&tr(o),$t(o),o.flags&=-16777217),null;case 27:Me(o),c=ye.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==f&&tr(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return $t(o),null}r=me.current,kc(o)?Qx(o):(r=__(y,f,c),o.stateNode=r,tr(o))}return $t(o),null;case 5:if(Me(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==f&&tr(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return $t(o),null}if(r=me.current,kc(o))Qx(o);else{switch(y=Ch(ye.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?y.createElement(c,{is:f.is}):y.createElement(c)}}r[Yt]=o,r[Gt]=f;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(In(r,c,f),c){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&tr(o)}}return $t(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==f&&tr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(s(166));if(r=ye.current,kc(o)){if(r=o.stateNode,c=o.memoizedProps,f=null,y=Qn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}r[Yt]=o,r=!!(r.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||m_(r.nodeValue,c)),r||Qa(o)}else r=Ch(r).createTextNode(f),r[Yt]=o,o.stateNode=r}return $t(o),null;case 13:if(f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=kc(o),f!==null&&f.dehydrated!==null){if(r===null){if(!y)throw Error(s(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Yt]=o}else Rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),y=!1}else y=Zx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Zi(o),o):(Zi(o),null)}if(Zi(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=f!==null,r=r!==null&&r.memoizedState!==null,c){f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==y&&(f.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),ph(o,o.updateQueue),$t(o),null;case 4:return Ke(),r===null&&yg(o.stateNode.containerInfo),$t(o),null;case 10:return Qi(o.type),$t(o),null;case 19:if(he(mn),y=o.memoizedState,y===null)return $t(o),null;if(f=(o.flags&128)!==0,v=y.rendering,v===null)if(f)qc(y,!1);else{if(Wt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=uh(r),v!==null){for(o.flags|=128,qc(y,!1),r=v.updateQueue,o.updateQueue=r,ph(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)Kx(c,r),c=c.sibling;return re(mn,mn.current&1|2),o.child}r=r.sibling}y.tail!==null&&Se()>xh&&(o.flags|=128,f=!0,qc(y,!1),o.lanes=4194304)}else{if(!f)if(r=uh(v),r!==null){if(o.flags|=128,f=!0,r=r.updateQueue,o.updateQueue=r,ph(o,r),qc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!vt)return $t(o),null}else 2*Se()-y.renderingStartTime>xh&&c!==536870912&&(o.flags|=128,f=!0,qc(y,!1),o.lanes=4194304);y.isBackwards?(v.sibling=o.child,o.child=v):(r=y.last,r!==null?r.sibling=v:o.child=v,y.last=v)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Se(),o.sibling=null,r=mn.current,re(mn,f?r&1|2:r&1),o):($t(o),null);case 22:case 23:return Zi(o),bp(),f=o.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(c&536870912)!==0&&(o.flags&128)===0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),c=o.updateQueue,c!==null&&ph(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048),r!==null&&he(eo),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Qi(fn),$t(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function ZA(r,o){switch(rp(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Qi(fn),Ke(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Me(o),null;case 13:if(Zi(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Rc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return he(mn),null;case 4:return Ke(),null;case 10:return Qi(o.type),null;case 22:case 23:return Zi(o),bp(),r!==null&&he(eo),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Qi(fn),null;case 25:return null;default:return null}}function wv(r,o){switch(rp(o),o.tag){case 3:Qi(fn),Ke();break;case 26:case 27:case 5:Me(o);break;case 4:Ke();break;case 13:Zi(o);break;case 19:he(mn);break;case 10:Qi(o.type);break;case 22:case 23:Zi(o),bp(),r!==null&&he(eo);break;case 24:Qi(fn)}}function Wc(r,o){try{var c=o.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var y=f.next;c=y;do{if((c.tag&r)===r){f=void 0;var v=c.create,C=c.inst;f=v(),C.destroy=f}c=c.next}while(c!==y)}}catch(D){jt(o,o.return,D)}}function zr(r,o,c){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var v=y.next;f=v;do{if((f.tag&r)===r){var C=f.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,y=o;var G=c,Z=D;try{Z()}catch(oe){jt(y,G,oe)}}}f=f.next}while(f!==v)}}catch(oe){jt(o,o.return,oe)}}function Ev(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{ub(o,c)}catch(f){jt(r,r.return,f)}}}function Tv(r,o,c){c.props=no(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(f){jt(r,o,f)}}function Yc(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof c=="function"?r.refCleanup=c(f):c.current=f}}catch(y){jt(r,o,y)}}function yi(r,o){var c=r.ref,f=r.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(y){jt(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){jt(r,o,y)}else c.current=null}function Nv(r){var o=r.type,c=r.memoizedProps,f=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(y){jt(r,r.return,y)}}function Wp(r,o,c){try{var f=r.stateNode;vC(f,r.type,c,o),f[Gt]=o}catch(y){jt(r,r.return,y)}}function Sv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wr(r.type)||r.tag===4}function Yp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Sv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Kp(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ah));else if(f!==4&&(f===27&&Wr(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(Kp(r,o,c),r=r.sibling;r!==null;)Kp(r,o,c),r=r.sibling}function gh(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(f===27&&Wr(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(gh(r,o,c),r=r.sibling;r!==null;)gh(r,o,c),r=r.sibling}function Av(r){var o=r.stateNode,c=r.memoizedProps;try{for(var f=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);In(o,f,c),o[Yt]=r,o[Gt]=c}catch(v){jt(r,r.return,v)}}var nr=!1,Qt=!1,Xp=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,_n=null;function eC(r,o){if(r=r.containerInfo,vg=Mh,r=zx(r),Ym(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var C=0,D=-1,G=-1,Z=0,oe=0,ue=r,ee=null;t:for(;;){for(var se;ue!==c||y!==0&&ue.nodeType!==3||(D=C+y),ue!==v||f!==0&&ue.nodeType!==3||(G=C+f),ue.nodeType===3&&(C+=ue.nodeValue.length),(se=ue.firstChild)!==null;)ee=ue,ue=se;for(;;){if(ue===r)break t;if(ee===c&&++Z===y&&(D=C),ee===v&&++oe===f&&(G=C),(se=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=se}c=D===-1||G===-1?null:{start:D,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(_g={focusedElem:r,selectionRange:c},Mh=!1,_n=o;_n!==null;)if(o=_n,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,_n=r;else for(;_n!==null;){switch(o=_n,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=o,y=v.memoizedProps,v=v.memoizedState,f=c.stateNode;try{var $e=no(c.type,y,c.elementType===c.type);r=f.getSnapshotBeforeUpdate($e,v),f.__reactInternalSnapshotBeforeUpdate=r}catch(Le){jt(c,c.return,Le)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Tg(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Tg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,_n=r;break}_n=o.return}}function kv(r,o,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ur(r,c),f&4&&Wc(5,c);break;case 1:if(Ur(r,c),f&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(C){jt(c,c.return,C)}else{var y=no(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(C){jt(c,c.return,C)}}f&64&&Ev(c),f&512&&Yc(c,c.return);break;case 3:if(Ur(r,c),f&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{ub(r,o)}catch(C){jt(c,c.return,C)}}break;case 27:o===null&&f&4&&Av(c);case 26:case 5:Ur(r,c),o===null&&f&4&&Nv(c),f&512&&Yc(c,c.return);break;case 12:Ur(r,c);break;case 13:Ur(r,c),f&4&&Iv(r,c),f&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=cC.bind(null,c),AC(r,c))));break;case 22:if(f=c.memoizedState!==null||nr,!f){o=o!==null&&o.memoizedState!==null||Qt,y=nr;var v=Qt;nr=f,(Qt=o)&&!v?Br(r,c,(c.subtreeFlags&8772)!==0):Ur(r,c),nr=y,Qt=v}break;case 30:break;default:Ur(r,c)}}function Rv(r){var o=r.alternate;o!==null&&(r.alternate=null,Rv(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Cr(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var zt=null,es=!1;function sr(r,o,c){for(c=c.child;c!==null;)jv(r,o,c),c=c.sibling}function jv(r,o,c){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Xe,c)}catch{}switch(c.tag){case 26:Qt||yi(c,o),sr(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Qt||yi(c,o);var f=zt,y=es;Wr(c.type)&&(zt=c.stateNode,es=!1),sr(r,o,c),su(c.stateNode),zt=f,es=y;break;case 5:Qt||yi(c,o);case 6:if(f=zt,y=es,zt=null,sr(r,o,c),zt=f,es=y,zt!==null)if(es)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(c.stateNode)}catch(v){jt(c,o,v)}else try{zt.removeChild(c.stateNode)}catch(v){jt(c,o,v)}break;case 18:zt!==null&&(es?(r=zt,b_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),du(r)):b_(zt,c.stateNode));break;case 4:f=zt,y=es,zt=c.stateNode.containerInfo,es=!0,sr(r,o,c),zt=f,es=y;break;case 0:case 11:case 14:case 15:Qt||zr(2,c,o),Qt||zr(4,c,o),sr(r,o,c);break;case 1:Qt||(yi(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Tv(c,o,f)),sr(r,o,c);break;case 21:sr(r,o,c);break;case 22:Qt=(f=Qt)||c.memoizedState!==null,sr(r,o,c),Qt=f;break;default:sr(r,o,c)}}function Iv(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{du(r)}catch(c){jt(o,o.return,c)}}function tC(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Cv),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Cv),o;default:throw Error(s(435,r.tag))}}function Qp(r,o){var c=tC(r);o.forEach(function(f){var y=uC.bind(null,r,f);c.has(f)||(c.add(f),f.then(y,y))})}function fs(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f],v=r,C=o,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(Wr(D.type)){zt=D.stateNode,es=!1;break e}break;case 5:zt=D.stateNode,es=!1;break e;case 3:case 4:zt=D.stateNode.containerInfo,es=!0;break e}D=D.return}if(zt===null)throw Error(s(160));jv(v,C,y),zt=null,es=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Dv(o,r),o=o.sibling}var qs=null;function Dv(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:fs(o,r),ms(r),f&4&&(zr(3,r,r.return),Wc(3,r),zr(5,r,r.return));break;case 1:fs(o,r),ms(r),f&512&&(Qt||c===null||yi(c,c.return)),f&64&&nr&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var y=qs;if(fs(o,r),ms(r),f&512&&(Qt||c===null||yi(c,c.return)),f&4){var v=c!==null?c.memoizedState:null;if(f=r.memoizedState,c===null)if(f===null)if(r.stateNode===null){e:{f=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":v=y.getElementsByTagName("title")[0],(!v||v[ja]||v[Yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(f),y.head.insertBefore(v,y.querySelector("head > title"))),In(v,f,c),v[Yt]=r,Kt(v),f=v;break e;case"link":var C=A_("link","href",y).get(f+(c.href||""));if(C){for(var D=0;D<C.length;D++)if(v=C[D],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(D,1);break t}}v=y.createElement(f),In(v,f,c),y.head.appendChild(v);break;case"meta":if(C=A_("meta","content",y).get(f+(c.content||""))){for(D=0;D<C.length;D++)if(v=C[D],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(D,1);break t}}v=y.createElement(f),In(v,f,c),y.head.appendChild(v);break;default:throw Error(s(468,f))}v[Yt]=r,Kt(v),f=v}r.stateNode=f}else C_(y,r.type,r.stateNode);else r.stateNode=S_(y,f,r.memoizedProps);else v!==f?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,f===null?C_(y,r.type,r.stateNode):S_(y,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Wp(r,r.memoizedProps,c.memoizedProps)}break;case 27:fs(o,r),ms(r),f&512&&(Qt||c===null||yi(c,c.return)),c!==null&&f&4&&Wp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(fs(o,r),ms(r),f&512&&(Qt||c===null||yi(c,c.return)),r.flags&32){y=r.stateNode;try{ws(y,"")}catch(se){jt(r,r.return,se)}}f&4&&r.stateNode!=null&&(y=r.memoizedProps,Wp(r,y,c!==null?c.memoizedProps:y)),f&1024&&(Xp=!0);break;case 6:if(fs(o,r),ms(r),f&4){if(r.stateNode===null)throw Error(s(162));f=r.memoizedProps,c=r.stateNode;try{c.nodeValue=f}catch(se){jt(r,r.return,se)}}break;case 3:if(jh=null,y=qs,qs=kh(o.containerInfo),fs(o,r),qs=y,ms(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{du(o.containerInfo)}catch(se){jt(r,r.return,se)}Xp&&(Xp=!1,Mv(r));break;case 4:f=qs,qs=kh(r.stateNode.containerInfo),fs(o,r),ms(r),qs=f;break;case 12:fs(o,r),ms(r);break;case 13:fs(o,r),ms(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(sg=Se()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Qp(r,f)));break;case 22:y=r.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,Z=nr,oe=Qt;if(nr=Z||y,Qt=oe||G,fs(o,r),Qt=oe,nr=Z,ms(r),f&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||G||nr||Qt||so(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){G=c=o;try{if(v=G.stateNode,y)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=G.stateNode;var ue=G.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;D.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(se){jt(G,G.return,se)}}}else if(o.tag===6){if(c===null){G=o;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(se){jt(G,G.return,se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=r.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Qp(r,c))));break;case 19:fs(o,r),ms(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Qp(r,f)));break;case 30:break;case 21:break;default:fs(o,r),ms(r)}}function ms(r){var o=r.flags;if(o&2){try{for(var c,f=r.return;f!==null;){if(Sv(f)){c=f;break}f=f.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var y=c.stateNode,v=Yp(r);gh(r,v,y);break;case 5:var C=c.stateNode;c.flags&32&&(ws(C,""),c.flags&=-33);var D=Yp(r);gh(r,D,C);break;case 3:case 4:var G=c.stateNode.containerInfo,Z=Yp(r);Kp(r,Z,G);break;default:throw Error(s(161))}}catch(oe){jt(r,r.return,oe)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Mv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Mv(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Ur(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kv(r,o.alternate,o),o=o.sibling}function so(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:zr(4,o,o.return),so(o);break;case 1:yi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Tv(o,o.return,c),so(o);break;case 27:su(o.stateNode);case 26:case 5:yi(o,o.return),so(o);break;case 22:o.memoizedState===null&&so(o);break;case 30:so(o);break;default:so(o)}r=r.sibling}}function Br(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=r,v=o,C=v.flags;switch(v.tag){case 0:case 11:case 15:Br(y,v,c),Wc(4,v);break;case 1:if(Br(y,v,c),f=v,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){jt(f,f.return,Z)}if(f=v,y=f.updateQueue,y!==null){var D=f.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)cb(G[y],D)}catch(Z){jt(f,f.return,Z)}}c&&C&64&&Ev(v),Yc(v,v.return);break;case 27:Av(v);case 26:case 5:Br(y,v,c),c&&f===null&&C&4&&Nv(v),Yc(v,v.return);break;case 12:Br(y,v,c);break;case 13:Br(y,v,c),c&&C&4&&Iv(y,v);break;case 22:v.memoizedState===null&&Br(y,v,c),Yc(v,v.return);break;case 30:break;default:Br(y,v,c)}o=o.sibling}}function Jp(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Dc(c))}function Zp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Dc(r))}function xi(r,o,c,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ov(r,o,c,f),o=o.sibling}function Ov(r,o,c,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:xi(r,o,c,f),y&2048&&Wc(9,o);break;case 1:xi(r,o,c,f);break;case 3:xi(r,o,c,f),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Dc(r)));break;case 12:if(y&2048){xi(r,o,c,f),r=o.stateNode;try{var v=o.memoizedProps,C=v.id,D=v.onPostCommit;typeof D=="function"&&D(C,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){jt(o,o.return,G)}}else xi(r,o,c,f);break;case 13:xi(r,o,c,f);break;case 23:break;case 22:v=o.stateNode,C=o.alternate,o.memoizedState!==null?v._visibility&2?xi(r,o,c,f):Kc(r,o):v._visibility&2?xi(r,o,c,f):(v._visibility|=2,ll(r,o,c,f,(o.subtreeFlags&10256)!==0)),y&2048&&Jp(C,o);break;case 24:xi(r,o,c,f),y&2048&&Zp(o.alternate,o);break;default:xi(r,o,c,f)}}function ll(r,o,c,f,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,C=o,D=c,G=f,Z=C.flags;switch(C.tag){case 0:case 11:case 15:ll(v,C,D,G,y),Wc(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?ll(v,C,D,G,y):Kc(v,C):(oe._visibility|=2,ll(v,C,D,G,y)),y&&Z&2048&&Jp(C.alternate,C);break;case 24:ll(v,C,D,G,y),y&&Z&2048&&Zp(C.alternate,C);break;default:ll(v,C,D,G,y)}o=o.sibling}}function Kc(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,f=o,y=f.flags;switch(f.tag){case 22:Kc(c,f),y&2048&&Jp(f.alternate,f);break;case 24:Kc(c,f),y&2048&&Zp(f.alternate,f);break;default:Kc(c,f)}o=o.sibling}}var Xc=8192;function cl(r){if(r.subtreeFlags&Xc)for(r=r.child;r!==null;)Pv(r),r=r.sibling}function Pv(r){switch(r.tag){case 26:cl(r),r.flags&Xc&&r.memoizedState!==null&&UC(qs,r.memoizedState,r.memoizedProps);break;case 5:cl(r);break;case 3:case 4:var o=qs;qs=kh(r.stateNode.containerInfo),cl(r),qs=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Xc,Xc=16777216,cl(r),Xc=o):cl(r));break;default:cl(r)}}function Lv(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Qc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];_n=f,zv(f,r)}Lv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vv(r),r=r.sibling}function Vv(r){switch(r.tag){case 0:case 11:case 15:Qc(r),r.flags&2048&&zr(9,r,r.return);break;case 3:Qc(r);break;case 12:Qc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,yh(r)):Qc(r);break;default:Qc(r)}}function yh(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];_n=f,zv(f,r)}Lv(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:zr(8,o,o.return),yh(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,yh(o));break;default:yh(o)}r=r.sibling}}function zv(r,o){for(;_n!==null;){var c=_n;switch(c.tag){case 0:case 11:case 15:zr(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Dc(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,_n=f;else e:for(c=r;_n!==null;){f=_n;var y=f.sibling,v=f.return;if(Rv(f),f===c){_n=null;break e}if(y!==null){y.return=v,_n=y;break e}_n=v}}}var nC={getCacheForType:function(r){var o=Pn(fn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},sC=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Mt=null,it=null,gt=0,Nt=0,ps=null,Fr=!1,ul=!1,eg=!1,ir=0,Wt=0,$r=0,io=0,tg=0,js=0,dl=0,Jc=null,ts=null,ng=!1,sg=0,xh=1/0,bh=null,Hr=null,jn=0,Gr=null,hl=null,fl=0,ig=0,rg=null,Uv=null,Zc=0,ag=null;function gs(){if((Tt&2)!==0&&gt!==0)return gt&-gt;if(W.T!==null){var r=el;return r!==0?r:fg()}return ii()}function Bv(){js===0&&(js=(gt&536870912)===0||vt?Bs():536870912);var r=Rs.current;return r!==null&&(r.flags|=32),js}function ys(r,o,c){(r===Mt&&(Nt===2||Nt===9)||r.cancelPendingCommit!==null)&&(ml(r,0),qr(r,gt,js,!1)),os(r,c),((Tt&2)===0||r!==Mt)&&(r===Mt&&((Tt&2)===0&&(io|=c),Wt===4&&qr(r,gt,js,!1)),bi(r))}function Fv(r,o,c){if((Tt&6)!==0)throw Error(s(327));var f=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Fe(r,o),y=f?aC(r,o):cg(r,o,!0),v=f;do{if(y===0){ul&&!f&&qr(r,o,0,!1);break}else{if(c=r.current.alternate,v&&!iC(c)){y=cg(r,o,!1),v=!1;continue}if(y===2){if(v=o,r.errorRecoveryDisabledLanes&v)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var D=r;y=Jc;var G=D.current.memoizedState.isDehydrated;if(G&&(ml(D,C).flags|=256),C=cg(D,C,!1),C!==2){if(eg&&!G){D.errorRecoveryDisabledLanes|=v,io|=v,y=4;break e}v=ts,ts=y,v!==null&&(ts===null?ts=v:ts.push.apply(ts,v))}y=C}if(v=!1,y!==2)continue}}if(y===1){ml(r,0),qr(r,o,0,!0);break}e:{switch(f=r,v=y,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:qr(f,o,js,!Fr);break e;case 2:ts=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(y=sg+300-Se(),10<y)){if(qr(f,o,js,!Fr),Wn(f,0,!0)!==0)break e;f.timeoutHandle=y_($v.bind(null,f,c,ts,bh,ng,o,js,io,dl,Fr,v,2,-0,0),y);break e}$v(f,c,ts,bh,ng,o,js,io,dl,Fr,v,0,-0,0)}}break}while(!0);bi(r)}function $v(r,o,c,f,y,v,C,D,G,Z,oe,ue,ee,se){if(r.timeoutHandle=-1,ue=o.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(au={stylesheets:null,count:0,unsuspend:zC},Pv(o),ue=BC(),ue!==null)){r.cancelPendingCommit=ue(Xv.bind(null,r,o,v,c,f,y,C,D,G,oe,1,ee,se)),qr(r,v,C,!Z);return}Xv(r,o,v,c,f,y,C,D,G)}function iC(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var y=c[f],v=y.getSnapshot;y=y.value;try{if(!ds(v(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qr(r,o,c,f){o&=~tg,o&=~io,r.suspendedLanes|=o,r.pingedLanes&=~o,f&&(r.warmLanes|=o),f=r.expirationTimes;for(var y=o;0<y;){var v=31-nt(y),C=1<<v;f[v]=-1,y&=~C}c!==0&&ls(r,c,o)}function vh(){return(Tt&6)===0?(eu(0),!1):!0}function og(){if(it!==null){if(Nt===0)var r=it.return;else r=it,Xi=Ja=null,Tp(r),al=null,Hc=0,r=it;for(;r!==null;)wv(r.alternate,r),r=r.return;it=null}}function ml(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,wC(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),og(),Mt=r,it=c=Wi(r.current,null),gt=o,Nt=0,ps=null,Fr=!1,ul=Fe(r,o),eg=!1,dl=js=tg=io=$r=Wt=0,ts=Jc=null,ng=!1,(o&8)!==0&&(o|=o&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=o;0<f;){var y=31-nt(f),v=1<<y;o|=r[y],f&=~v}return ir=o,Fd(),c}function Hv(r,o){Ze=null,W.H=oh,o===Oc||o===Qd?(o=ob(),Nt=3):o===ib?(o=ob(),Nt=4):Nt=o===lv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ps=o,it===null&&(Wt=1,hh(r,Ss(o,r.current)))}function Gv(){var r=W.H;return W.H=oh,r===null?oh:r}function qv(){var r=W.A;return W.A=nC,r}function lg(){Wt=4,Fr||(gt&4194048)!==gt&&Rs.current!==null||(ul=!0),($r&134217727)===0&&(io&134217727)===0||Mt===null||qr(Mt,gt,js,!1)}function cg(r,o,c){var f=Tt;Tt|=2;var y=Gv(),v=qv();(Mt!==r||gt!==o)&&(bh=null,ml(r,o)),o=!1;var C=Wt;e:do try{if(Nt!==0&&it!==null){var D=it,G=ps;switch(Nt){case 8:og(),C=6;break e;case 3:case 2:case 9:case 6:Rs.current===null&&(o=!0);var Z=Nt;if(Nt=0,ps=null,pl(r,D,G,Z),c&&ul){C=0;break e}break;default:Z=Nt,Nt=0,ps=null,pl(r,D,G,Z)}}rC(),C=Wt;break}catch(oe){Hv(r,oe)}while(!0);return o&&r.shellSuspendCounter++,Xi=Ja=null,Tt=f,W.H=y,W.A=v,it===null&&(Mt=null,gt=0,Fd()),C}function rC(){for(;it!==null;)Wv(it)}function aC(r,o){var c=Tt;Tt|=2;var f=Gv(),y=qv();Mt!==r||gt!==o?(bh=null,xh=Se()+500,ml(r,o)):ul=Fe(r,o);e:do try{if(Nt!==0&&it!==null){o=it;var v=ps;t:switch(Nt){case 1:Nt=0,ps=null,pl(r,o,v,1);break;case 2:case 9:if(rb(v)){Nt=0,ps=null,Yv(o);break}o=function(){Nt!==2&&Nt!==9||Mt!==r||(Nt=7),bi(r)},v.then(o,o);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:rb(v)?(Nt=0,ps=null,Yv(o)):(Nt=0,ps=null,pl(r,o,v,7));break;case 5:var C=null;switch(it.tag){case 26:C=it.memoizedState;case 5:case 27:var D=it;if(!C||k_(C)){Nt=0,ps=null;var G=D.sibling;if(G!==null)it=G;else{var Z=D.return;Z!==null?(it=Z,_h(Z)):it=null}break t}}Nt=0,ps=null,pl(r,o,v,5);break;case 6:Nt=0,ps=null,pl(r,o,v,6);break;case 8:og(),Wt=6;break e;default:throw Error(s(462))}}oC();break}catch(oe){Hv(r,oe)}while(!0);return Xi=Ja=null,W.H=f,W.A=y,Tt=c,it!==null?0:(Mt=null,gt=0,Fd(),Wt)}function oC(){for(;it!==null&&!X();)Wv(it)}function Wv(r){var o=vv(r.alternate,r,ir);r.memoizedProps=r.pendingProps,o===null?_h(r):it=o}function Yv(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=mv(c,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=mv(c,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:Tp(o);default:wv(c,o),o=it=Kx(o,ir),o=vv(c,o,ir)}r.memoizedProps=r.pendingProps,o===null?_h(r):it=o}function pl(r,o,c,f){Xi=Ja=null,Tp(o),al=null,Hc=0;var y=o.return;try{if(XA(r,y,o,c,gt)){Wt=1,hh(r,Ss(c,r.current)),it=null;return}}catch(v){if(y!==null)throw it=y,v;Wt=1,hh(r,Ss(c,r.current)),it=null;return}o.flags&32768?(vt||f===1?r=!0:ul||(gt&536870912)!==0?r=!1:(Fr=r=!0,(f===2||f===9||f===3||f===6)&&(f=Rs.current,f!==null&&f.tag===13&&(f.flags|=16384))),Kv(o,r)):_h(o)}function _h(r){var o=r;do{if((o.flags&32768)!==0){Kv(o,Fr);return}r=o.return;var c=JA(o.alternate,o,ir);if(c!==null){it=c;return}if(o=o.sibling,o!==null){it=o;return}it=o=r}while(o!==null);Wt===0&&(Wt=5)}function Kv(r,o){do{var c=ZA(r.alternate,r);if(c!==null){c.flags&=32767,it=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){it=r;return}it=r=c}while(r!==null);Wt=6,it=null}function Xv(r,o,c,f,y,v,C,D,G){r.cancelPendingCommit=null;do wh();while(jn!==0);if((Tt&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=Zm,Sr(r,c,v,C,D,G),r===Mt&&(it=Mt=null,gt=0),hl=o,Gr=r,fl=c,ig=v,rg=y,Uv=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dC(_e,function(){return t_(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,y=ae.p,ae.p=2,C=Tt,Tt|=4;try{eC(r,o,c)}finally{Tt=C,ae.p=y,W.T=f}}jn=1,Qv(),Jv(),Zv()}}function Qv(){if(jn===1){jn=0;var r=Gr,o=hl,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var f=ae.p;ae.p=2;var y=Tt;Tt|=4;try{Dv(o,r);var v=_g,C=zx(r.containerInfo),D=v.focusedElem,G=v.selectionRange;if(C!==D&&D&&D.ownerDocument&&Vx(D.ownerDocument.documentElement,D)){if(G!==null&&Ym(D)){var Z=G.start,oe=G.end;if(oe===void 0&&(oe=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(oe,D.value.length);else{var ue=D.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),$e=D.textContent.length,Le=Math.min(G.start,$e),Rt=G.end===void 0?Le:Math.min(G.end,$e);!se.extend&&Le>Rt&&(C=Rt,Rt=Le,Le=C);var K=Lx(D,Le),Y=Lx(D,Rt);if(K&&Y&&(se.rangeCount!==1||se.anchorNode!==K.node||se.anchorOffset!==K.offset||se.focusNode!==Y.node||se.focusOffset!==Y.offset)){var J=ue.createRange();J.setStart(K.node,K.offset),se.removeAllRanges(),Le>Rt?(se.addRange(J),se.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),se.addRange(J))}}}}for(ue=[],se=D;se=se.parentNode;)se.nodeType===1&&ue.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ue.length;D++){var le=ue[D];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Mh=!!vg,_g=vg=null}finally{Tt=y,ae.p=f,W.T=c}}r.current=o,jn=2}}function Jv(){if(jn===2){jn=0;var r=Gr,o=hl,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var f=ae.p;ae.p=2;var y=Tt;Tt|=4;try{kv(r,o.alternate,o)}finally{Tt=y,ae.p=f,W.T=c}}jn=3}}function Zv(){if(jn===4||jn===3){jn=0,te();var r=Gr,o=hl,c=fl,f=Uv;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jn=5:(jn=0,hl=Gr=null,e_(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&(Hr=null),Oi(c),o=o.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Xe,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=W.T,y=ae.p,ae.p=2,W.T=null;try{for(var v=r.onRecoverableError,C=0;C<f.length;C++){var D=f[C];v(D.value,{componentStack:D.stack})}}finally{W.T=o,ae.p=y}}(fl&3)!==0&&wh(),bi(r),y=r.pendingLanes,(c&4194090)!==0&&(y&42)!==0?r===ag?Zc++:(Zc=0,ag=r):Zc=0,eu(0)}}function e_(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Dc(o)))}function wh(r){return Qv(),Jv(),Zv(),t_()}function t_(){if(jn!==5)return!1;var r=Gr,o=ig;ig=0;var c=Oi(fl),f=W.T,y=ae.p;try{ae.p=32>c?32:c,W.T=null,c=rg,rg=null;var v=Gr,C=fl;if(jn=0,hl=Gr=null,fl=0,(Tt&6)!==0)throw Error(s(331));var D=Tt;if(Tt|=4,Vv(v.current),Ov(v,v.current,C,c),Tt=D,eu(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Xe,v)}catch{}return!0}finally{ae.p=y,W.T=f,e_(r,o)}}function n_(r,o,c){o=Ss(c,o),o=Vp(r.stateNode,o,2),r=Or(r,o,2),r!==null&&(os(r,2),bi(r))}function jt(r,o,c){if(r.tag===3)n_(r,r,c);else for(;o!==null;){if(o.tag===3){n_(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Hr===null||!Hr.has(f))){r=Ss(c,r),c=av(2),f=Or(o,c,2),f!==null&&(ov(c,f,o,r),os(f,2),bi(f));break}}o=o.return}}function ug(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new sC;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(eg=!0,y.add(c),r=lC.bind(null,r,o,c),o.then(r,r))}function lC(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Mt===r&&(gt&c)===c&&(Wt===4||Wt===3&&(gt&62914560)===gt&&300>Se()-sg?(Tt&2)===0&&ml(r,0):tg|=c,dl===gt&&(dl=0)),bi(r)}function s_(r,o){o===0&&(o=Nr()),r=Xo(r,o),r!==null&&(os(r,o),bi(r))}function cC(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),s_(r,c)}function uC(r,o){var c=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(o),s_(r,c)}function dC(r,o){return ut(r,o)}var Eh=null,gl=null,dg=!1,Th=!1,hg=!1,ro=0;function bi(r){r!==gl&&r.next===null&&(gl===null?Eh=gl=r:gl=gl.next=r),Th=!0,dg||(dg=!0,fC())}function eu(r,o){if(!hg&&Th){hg=!0;do for(var c=!1,f=Eh;f!==null;){if(r!==0){var y=f.pendingLanes;if(y===0)var v=0;else{var C=f.suspendedLanes,D=f.pingedLanes;v=(1<<31-nt(42|r)+1)-1,v&=y&~(C&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,o_(f,v))}else v=gt,v=Wn(f,f===Mt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Fe(f,v)||(c=!0,o_(f,v));f=f.next}while(c);hg=!1}}function hC(){i_()}function i_(){Th=dg=!1;var r=0;ro!==0&&(_C()&&(r=ro),ro=0);for(var o=Se(),c=null,f=Eh;f!==null;){var y=f.next,v=r_(f,o);v===0?(f.next=null,c===null?Eh=y:c.next=y,y===null&&(gl=c)):(c=f,(r!==0||(v&3)!==0)&&(Th=!0)),f=y}eu(r)}function r_(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var C=31-nt(v),D=1<<C,G=y[C];G===-1?((D&c)===0||(D&f)!==0)&&(y[C]=_s(D,o)):G<=o&&(r.expiredLanes|=D),v&=~D}if(o=Mt,c=gt,c=Wn(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,c===0||r===o&&(Nt===2||Nt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&q(f),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Fe(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(f!==null&&q(f),Oi(c)){case 2:case 8:c=ze;break;case 32:c=_e;break;case 268435456:c=ke;break;default:c=_e}return f=a_.bind(null,r),c=ut(c,f),r.callbackPriority=o,r.callbackNode=c,o}return f!==null&&f!==null&&q(f),r.callbackPriority=2,r.callbackNode=null,2}function a_(r,o){if(jn!==0&&jn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(wh()&&r.callbackNode!==c)return null;var f=gt;return f=Wn(r,r===Mt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Fv(r,f,o),r_(r,Se()),r.callbackNode!=null&&r.callbackNode===c?a_.bind(null,r):null)}function o_(r,o){if(wh())return null;Fv(r,o,!0)}function fC(){EC(function(){(Tt&6)!==0?ut(We,hC):i_()})}function fg(){return ro===0&&(ro=Bs()),ro}function l_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Vo(""+r)}function c_(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function mC(r,o,c,f,y){if(o==="submit"&&c&&c.stateNode===y){var v=l_((y[Gt]||null).action),C=f.submitter;C&&(o=(o=C[Gt]||null)?l_(o.formAction):C.getAttribute("formAction"),o!==null&&(v=o,C=null));var D=new zo("action","action",null,f,y);r.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ro!==0){var G=C?c_(y,C):new FormData(y);Dp(c,{pending:!0,data:G,method:y.method,action:v},null,G)}}else typeof v=="function"&&(D.preventDefault(),G=C?c_(y,C):new FormData(y),Dp(c,{pending:!0,data:G,method:y.method,action:v},v,G))},currentTarget:y}]})}}for(var mg=0;mg<Jm.length;mg++){var pg=Jm[mg],pC=pg.toLowerCase(),gC=pg[0].toUpperCase()+pg.slice(1);Gs(pC,"on"+gC)}Gs(Fx,"onAnimationEnd"),Gs($x,"onAnimationIteration"),Gs(Hx,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(DA,"onTransitionRun"),Gs(MA,"onTransitionStart"),Gs(OA,"onTransitionCancel"),Gs(Gx,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$s("onBeforeInput",["compositionend","keypress","textInput","paste"]),$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function u_(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var C=f.length-1;0<=C;C--){var D=f[C],G=D.instance,Z=D.currentTarget;if(D=D.listener,G!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=Z;try{v(y)}catch(oe){dh(oe)}y.currentTarget=null,v=G}else for(C=0;C<f.length;C++){if(D=f[C],G=D.instance,Z=D.currentTarget,D=D.listener,G!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=Z;try{v(y)}catch(oe){dh(oe)}y.currentTarget=null,v=G}}}}function rt(r,o){var c=o[yn];c===void 0&&(c=o[yn]=new Set);var f=r+"__bubble";c.has(f)||(d_(o,r,2,!1),c.add(f))}function gg(r,o,c){var f=0;o&&(f|=4),d_(c,r,f,o)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function yg(r){if(!r[Nh]){r[Nh]=!0,fc.forEach(function(c){c!=="selectionchange"&&(yC.has(c)||gg(c,!1,r),gg(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Nh]||(o[Nh]=!0,gg("selectionchange",!1,o))}}function d_(r,o,c,f){switch(O_(o)){case 2:var y=HC;break;case 8:y=GC;break;default:y=jg}c=y.bind(null,o,c,r),y=void 0,!Ts||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function xg(r,o,c,f,y){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var D=f.stateNode.containerInfo;if(D===y)break;if(C===4)for(C=f.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;D!==null;){if(C=Li(D),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){f=v=C;continue e}D=D.parentNode}}f=f.return}Ad(function(){var Z=v,oe=Es(c),ue=[];e:{var ee=qx.get(r);if(ee!==void 0){var se=zo,$e=r;switch(r){case"keypress":if(ui(c)===0)break e;case"keydown":case"keyup":se=Go;break;case"focusin":$e="focus",se=Fo;break;case"focusout":$e="blur",se=Fo;break;case"beforeblur":case"afterblur":se=Fo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Od;break;case Fx:case $x:case Hx:se=$o;break;case Gx:se=Ld;break;case"scroll":case"scrollend":se=Cd;break;case"wheel":se=qo;break;case"copy":case"cut":case"paste":se=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Nc;break;case"toggle":case"beforetoggle":se=zd}var Le=(o&4)!==0,Rt=!Le&&(r==="scroll"||r==="scrollend"),K=Le?ee!==null?ee+"Capture":null:ee;Le=[];for(var Y=Z,J;Y!==null;){var le=Y;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||K===null||(le=Va(Y,K),le!=null&&Le.push(nu(Y,le,J))),Rt)break;Y=Y.return}0<Le.length&&(ee=new se(ee,$e,null,c,oe),ue.push({event:ee,listeners:Le}))}}if((o&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",ee&&c!==Bi&&($e=c.relatedTarget||c.fromElement)&&(Li($e)||$e[Et]))break e;if((se||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?($e=c.relatedTarget||c.toElement,se=Z,$e=$e?Li($e):null,$e!==null&&(Rt=a($e),Le=$e.tag,$e!==Rt||Le!==5&&Le!==27&&Le!==6)&&($e=null)):(se=null,$e=Z),se!==$e)){if(Le=Ns,le="onMouseLeave",K="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Le=Nc,le="onPointerLeave",K="onPointerEnter",Y="pointer"),Rt=se==null?ee:ai(se),J=$e==null?ee:ai($e),ee=new Le(le,Y+"leave",se,c,oe),ee.target=Rt,ee.relatedTarget=J,le=null,Li(oe)===Z&&(Le=new Le(K,Y+"enter",$e,c,oe),Le.target=J,Le.relatedTarget=Rt,le=Le),Rt=le,se&&$e)t:{for(Le=se,K=$e,Y=0,J=Le;J;J=yl(J))Y++;for(J=0,le=K;le;le=yl(le))J++;for(;0<Y-J;)Le=yl(Le),Y--;for(;0<J-Y;)K=yl(K),J--;for(;Y--;){if(Le===K||K!==null&&Le===K.alternate)break t;Le=yl(Le),K=yl(K)}Le=null}else Le=null;se!==null&&h_(ue,ee,se,Le,!1),$e!==null&&Rt!==null&&h_(ue,Rt,$e,Le,!0)}}e:{if(ee=Z?ai(Z):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var Ce=jx;else if(hn(ee))if(Ix)Ce=RA;else{Ce=CA;var et=AA}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&xc(Z.elementType)&&(Ce=jx):Ce=kA;if(Ce&&(Ce=Ce(r,Z))){qi(ue,Ce,c,oe);break e}et&&et(r,ee,Z),r==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Rr(ee,"number",ee.value)}switch(et=Z?ai(Z):window,r){case"focusin":(hn(et)||et.contentEditable==="true")&&(Wo=et,Km=Z,Cc=null);break;case"focusout":Cc=Km=Wo=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Ux(ue,c,oe);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":Ux(ue,c,oe)}var Re;if(fi)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else mt?ie(r,c)&&(Ve="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(S&&c.locale!=="ko"&&(mt||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&mt&&(Re=vc()):(ci=oe,jr="value"in ci?ci.value:ci.textContent,mt=!0)),et=Sh(Z,Ve),0<et.length&&(Ve=new Ec(Ve,r,null,c,oe),ue.push({event:Ve,listeners:et}),Re?Ve.data=Re:(Re=ve(c),Re!==null&&(Ve.data=Re)))),(Re=_?dn(r,c):pt(r,c))&&(Ve=Sh(Z,"onBeforeInput"),0<Ve.length&&(et=new Ec("onBeforeInput","beforeinput",null,c,oe),ue.push({event:et,listeners:Ve}),et.data=Re)),mC(ue,r,Z,c,oe)}u_(ue,o)})}function nu(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Sh(r,o){for(var c=o+"Capture",f=[];r!==null;){var y=r,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Va(r,c),y!=null&&f.unshift(nu(r,y,v)),y=Va(r,o),y!=null&&f.push(nu(r,y,v))),r.tag===3)return f;r=r.return}return[]}function yl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function h_(r,o,c,f,y){for(var v=o._reactName,C=[];c!==null&&c!==f;){var D=c,G=D.alternate,Z=D.stateNode;if(D=D.tag,G!==null&&G===f)break;D!==5&&D!==26&&D!==27||Z===null||(G=Z,y?(Z=Va(c,v),Z!=null&&C.unshift(nu(c,Z,G))):y||(Z=Va(c,v),Z!=null&&C.push(nu(c,Z,G)))),c=c.return}C.length!==0&&r.push({event:o,listeners:C})}var xC=/\r\n?/g,bC=/\u0000|\uFFFD/g;function f_(r){return(typeof r=="string"?r:""+r).replace(xC,`
`).replace(bC,"")}function m_(r,o){return o=f_(o),f_(r)===o}function Ah(){}function kt(r,o,c,f,y,v){switch(c){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ws(r,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ws(r,""+f);break;case"className":oi(r,"class",f);break;case"tabIndex":oi(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(r,c,f);break;case"style":yc(r,f,v);break;case"data":if(o!=="object"){oi(r,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=Vo(""+f),r.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&kt(r,o,"name",y.name,y,null),kt(r,o,"formEncType",y.formEncType,y,null),kt(r,o,"formMethod",y.formMethod,y,null),kt(r,o,"formTarget",y.formTarget,y,null)):(kt(r,o,"encType",y.encType,y,null),kt(r,o,"method",y.method,y,null),kt(r,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(c);break}f=Vo(""+f),r.setAttribute(c,f);break;case"onClick":f!=null&&(r.onclick=Ah);break;case"onScroll":f!=null&&rt("scroll",r);break;case"onScrollEnd":f!=null&&rt("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}c=Vo(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""+f):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":f===!0?r.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(c,f):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(c,f):r.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(c):r.setAttribute(c,f);break;case"popover":rt("beforetoggle",r),rt("toggle",r),kr(r,"popover",f);break;case"xlinkActuate":Cn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Cn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Cn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Cn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Cn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Cn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Cn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Cn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Cn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":kr(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Fm.get(c)||c,kr(r,c,f))}}function bg(r,o,c,f,y,v){switch(c){case"style":yc(r,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof f=="string"?ws(r,f):(typeof f=="number"||typeof f=="bigint")&&ws(r,""+f);break;case"onScroll":f!=null&&rt("scroll",r);break;case"onScrollEnd":f!=null&&rt("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),v=r[Gt]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(o,v,y),typeof f=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,f,y);break e}c in r?r[c]=f:f===!0?r.setAttribute(c,""):kr(r,c,f)}}}function In(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",r),rt("load",r);var f=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var C=c[v];if(C!=null)switch(v){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:kt(r,o,v,C,c,null)}}y&&kt(r,o,"srcSet",c.srcSet,c,null),f&&kt(r,o,"src",c.src,c,null);return;case"input":rt("invalid",r);var D=v=C=y=null,G=null,Z=null;for(f in c)if(c.hasOwnProperty(f)){var oe=c[f];if(oe!=null)switch(f){case"name":y=oe;break;case"type":C=oe;break;case"checked":G=oe;break;case"defaultChecked":Z=oe;break;case"value":v=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,o));break;default:kt(r,o,f,oe,c,null)}}Oa(r,v,D,G,Z,C,y,!1),Lo(r);return;case"select":rt("invalid",r),f=C=v=null;for(y in c)if(c.hasOwnProperty(y)&&(D=c[y],D!=null))switch(y){case"value":v=D;break;case"defaultValue":C=D;break;case"multiple":f=D;default:kt(r,o,y,D,c,null)}o=v,c=C,r.multiple=!!f,o!=null?Ui(r,!!f,o,!1):c!=null&&Ui(r,!!f,c,!0);return;case"textarea":rt("invalid",r),v=y=f=null;for(C in c)if(c.hasOwnProperty(C)&&(D=c[C],D!=null))switch(C){case"value":f=D;break;case"defaultValue":y=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:kt(r,o,C,D,c,null)}Pa(r,f,y,v),Lo(r);return;case"option":for(G in c)if(c.hasOwnProperty(G)&&(f=c[G],f!=null))switch(G){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:kt(r,o,G,f,c,null)}return;case"dialog":rt("beforetoggle",r),rt("toggle",r),rt("cancel",r),rt("close",r);break;case"iframe":case"object":rt("load",r);break;case"video":case"audio":for(f=0;f<tu.length;f++)rt(tu[f],r);break;case"image":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"embed":case"source":case"link":rt("error",r),rt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(f=c[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:kt(r,o,Z,f,c,null)}return;default:if(xc(o)){for(oe in c)c.hasOwnProperty(oe)&&(f=c[oe],f!==void 0&&bg(r,o,oe,f,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(f=c[D],f!=null&&kt(r,o,D,f,c,null))}function vC(r,o,c,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,C=null,D=null,G=null,Z=null,oe=null;for(se in c){var ue=c[se];if(c.hasOwnProperty(se)&&ue!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":G=ue;default:f.hasOwnProperty(se)||kt(r,o,se,null,f,ue)}}for(var ee in f){var se=f[ee];if(ue=c[ee],f.hasOwnProperty(ee)&&(se!=null||ue!=null))switch(ee){case"type":v=se;break;case"name":y=se;break;case"checked":Z=se;break;case"defaultChecked":oe=se;break;case"value":C=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,o));break;default:se!==ue&&kt(r,o,ee,se,f,ue)}}us(r,C,D,G,Z,oe,v,y);return;case"select":se=C=D=ee=null;for(v in c)if(G=c[v],c.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":se=G;default:f.hasOwnProperty(v)||kt(r,o,v,null,f,G)}for(y in f)if(v=f[y],G=c[y],f.hasOwnProperty(y)&&(v!=null||G!=null))switch(y){case"value":ee=v;break;case"defaultValue":D=v;break;case"multiple":C=v;default:v!==G&&kt(r,o,y,v,f,G)}o=D,c=C,f=se,ee!=null?Ui(r,!!c,ee,!1):!!f!=!!c&&(o!=null?Ui(r,!!c,o,!0):Ui(r,!!c,c?[]:"",!1));return;case"textarea":se=ee=null;for(D in c)if(y=c[D],c.hasOwnProperty(D)&&y!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:kt(r,o,D,null,f,y)}for(C in f)if(y=f[C],v=c[C],f.hasOwnProperty(C)&&(y!=null||v!=null))switch(C){case"value":ee=y;break;case"defaultValue":se=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==v&&kt(r,o,C,y,f,v)}At(r,ee,se);return;case"option":for(var $e in c)if(ee=c[$e],c.hasOwnProperty($e)&&ee!=null&&!f.hasOwnProperty($e))switch($e){case"selected":r.selected=!1;break;default:kt(r,o,$e,null,f,ee)}for(G in f)if(ee=f[G],se=c[G],f.hasOwnProperty(G)&&ee!==se&&(ee!=null||se!=null))switch(G){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:kt(r,o,G,ee,f,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in c)ee=c[Le],c.hasOwnProperty(Le)&&ee!=null&&!f.hasOwnProperty(Le)&&kt(r,o,Le,null,f,ee);for(Z in f)if(ee=f[Z],se=c[Z],f.hasOwnProperty(Z)&&ee!==se&&(ee!=null||se!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,o));break;default:kt(r,o,Z,ee,f,se)}return;default:if(xc(o)){for(var Rt in c)ee=c[Rt],c.hasOwnProperty(Rt)&&ee!==void 0&&!f.hasOwnProperty(Rt)&&bg(r,o,Rt,void 0,f,ee);for(oe in f)ee=f[oe],se=c[oe],!f.hasOwnProperty(oe)||ee===se||ee===void 0&&se===void 0||bg(r,o,oe,ee,f,se);return}}for(var K in c)ee=c[K],c.hasOwnProperty(K)&&ee!=null&&!f.hasOwnProperty(K)&&kt(r,o,K,null,f,ee);for(ue in f)ee=f[ue],se=c[ue],!f.hasOwnProperty(ue)||ee===se||ee==null&&se==null||kt(r,o,ue,ee,f,se)}var vg=null,_g=null;function Ch(r){return r.nodeType===9?r:r.ownerDocument}function p_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function wg(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Eg=null;function _C(){var r=window.event;return r&&r.type==="popstate"?r===Eg?!1:(Eg=r,!0):(Eg=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,wC=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,EC=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(r){return x_.resolve(null).then(r).catch(TC)}:y_;function TC(r){setTimeout(function(){throw r})}function Wr(r){return r==="head"}function b_(r,o){var c=o,f=0,y=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<f&&8>f){c=f;var C=r.ownerDocument;if(c&1&&su(C.documentElement),c&2&&su(C.body),c&4)for(c=C.head,su(c),C=c.firstChild;C;){var D=C.nextSibling,G=C.nodeName;C[ja]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=D}}if(y===0){r.removeChild(v),du(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:f=c.charCodeAt(0)-48;else f=0;c=v}while(c);du(o)}function Tg(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Tg(c),Cr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function NC(r,o,c,f){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[ja])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=Ws(r.nextSibling),r===null)break}return null}function SC(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Ws(r.nextSibling),r===null))return null;return r}function Ng(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function AC(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var f=function(){o(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Ws(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Sg=null;function v_(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function __(r,o,c){switch(o=Ch(c),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function su(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Cr(r)}var Is=new Map,w_=new Set;function kh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var rr=ae.d;ae.d={f:CC,r:kC,D:RC,C:jC,L:IC,m:DC,X:OC,S:MC,M:PC};function CC(){var r=rr.f(),o=vh();return r||o}function kC(r){var o=ri(r);o!==null&&o.tag===5&&o.type==="form"?Fb(o):rr.r(r)}var xl=typeof document>"u"?null:document;function E_(r,o,c){var f=xl;if(f&&typeof o=="string"&&o){var y=tn(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),w_.has(y)||(w_.add(y),r={rel:r,crossOrigin:c,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),In(o,"link",r),Kt(o),f.head.appendChild(o)))}}function RC(r){rr.D(r),E_("dns-prefetch",r,null)}function jC(r,o){rr.C(r,o),E_("preconnect",r,o)}function IC(r,o,c){rr.L(r,o,c);var f=xl;if(f&&r&&o){var y='link[rel="preload"][as="'+tn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+tn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+tn(c.imageSizes)+'"]')):y+='[href="'+tn(r)+'"]';var v=y;switch(o){case"style":v=bl(r);break;case"script":v=vl(r)}Is.has(v)||(r=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),Is.set(v,r),f.querySelector(y)!==null||o==="style"&&f.querySelector(iu(v))||o==="script"&&f.querySelector(ru(v))||(o=f.createElement("link"),In(o,"link",r),Kt(o),f.head.appendChild(o)))}}function DC(r,o){rr.m(r,o);var c=xl;if(c&&r){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+tn(f)+'"][href="'+tn(r)+'"]',v=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=vl(r)}if(!Is.has(v)&&(r=g({rel:"modulepreload",href:r},o),Is.set(v,r),c.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ru(v)))return}f=c.createElement("link"),In(f,"link",r),Kt(f),c.head.appendChild(f)}}}function MC(r,o,c){rr.S(r,o,c);var f=xl;if(f&&r){var y=Yn(f).hoistableStyles,v=bl(r);o=o||"default";var C=y.get(v);if(!C){var D={loading:0,preload:null};if(C=f.querySelector(iu(v)))D.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},c),(c=Is.get(v))&&Ag(r,c);var G=C=f.createElement("link");Kt(G),In(G,"link",r),G._p=new Promise(function(Z,oe){G.onload=Z,G.onerror=oe}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Rh(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:D},y.set(v,C)}}}function OC(r,o){rr.X(r,o);var c=xl;if(c&&r){var f=Yn(c).hoistableScripts,y=vl(r),v=f.get(y);v||(v=c.querySelector(ru(y)),v||(r=g({src:r,async:!0},o),(o=Is.get(y))&&Cg(r,o),v=c.createElement("script"),Kt(v),In(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function PC(r,o){rr.M(r,o);var c=xl;if(c&&r){var f=Yn(c).hoistableScripts,y=vl(r),v=f.get(y);v||(v=c.querySelector(ru(y)),v||(r=g({src:r,async:!0,type:"module"},o),(o=Is.get(y))&&Cg(r,o),v=c.createElement("script"),Kt(v),In(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(y,v))}}function T_(r,o,c,f){var y=(y=ye.current)?kh(y):null;if(!y)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=bl(c.href),c=Yn(y).hoistableStyles,f=c.get(o),f||(f={type:"style",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=bl(c.href);var v=Yn(y).hoistableStyles,C=v.get(r);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,C),(v=y.querySelector(iu(r)))&&!v._p&&(C.instance=v,C.state.loading=5),Is.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Is.set(r,c),v||LC(y,r,c,C.state))),o&&f===null)throw Error(s(528,""));return C}if(o&&f!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=vl(c),c=Yn(y).hoistableScripts,f=c.get(o),f||(f={type:"script",instance:null,count:0,state:null},c.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function bl(r){return'href="'+tn(r)+'"'}function iu(r){return'link[rel="stylesheet"]['+r+"]"}function N_(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function LC(r,o,c,f){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=r.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),In(o,"link",c),Kt(o),r.head.appendChild(o))}function vl(r){return'[src="'+tn(r)+'"]'}function ru(r){return"script[async]"+r}function S_(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var f=r.querySelector('style[data-href~="'+tn(c.href)+'"]');if(f)return o.instance=f,Kt(f),f;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Kt(f),In(f,"style",y),Rh(f,c.precedence,r),o.instance=f;case"stylesheet":y=bl(c.href);var v=r.querySelector(iu(y));if(v)return o.state.loading|=4,o.instance=v,Kt(v),v;f=N_(c),(y=Is.get(y))&&Ag(f,y),v=(r.ownerDocument||r).createElement("link"),Kt(v);var C=v;return C._p=new Promise(function(D,G){C.onload=D,C.onerror=G}),In(v,"link",f),o.state.loading|=4,Rh(v,c.precedence,r),o.instance=v;case"script":return v=vl(c.src),(y=r.querySelector(ru(v)))?(o.instance=y,Kt(y),y):(f=c,(y=Is.get(v))&&(f=g({},c),Cg(f,y)),r=r.ownerDocument||r,y=r.createElement("script"),Kt(y),In(y,"link",f),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Rh(f,c.precedence,r));return o.instance}function Rh(r,o,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,v=y,C=0;C<f.length;C++){var D=f[C];if(D.dataset.precedence===o)v=D;else if(v!==y)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Ag(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Cg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var jh=null;function A_(r,o,c){if(jh===null){var f=new Map,y=jh=new Map;y.set(c,f)}else y=jh,f=y.get(c),f||(f=new Map,y.set(c,f));if(f.has(r))return f;for(f.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var v=c[y];if(!(v[ja]||v[Yt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(o)||"";C=r+C;var D=f.get(C);D?D.push(v):f.set(C,[v])}}return f}function C_(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function VC(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function k_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var au=null;function zC(){}function UC(r,o,c){if(au===null)throw Error(s(475));var f=au;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=bl(c.href),v=r.querySelector(iu(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=Ih.bind(f),r.then(f,f)),o.state.loading|=4,o.instance=v,Kt(v);return}v=r.ownerDocument||r,c=N_(c),(y=Is.get(y))&&Ag(c,y),v=v.createElement("link"),Kt(v);var C=v;C._p=new Promise(function(D,G){C.onload=D,C.onerror=G}),In(v,"link",c),o.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Ih.bind(f),r.addEventListener("load",o),r.addEventListener("error",o))}}function BC(){if(au===null)throw Error(s(475));var r=au;return r.stylesheets&&r.count===0&&kg(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&kg(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Ih(){if(this.count--,this.count===0){if(this.stylesheets)kg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Dh=null;function kg(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Dh=new Map,o.forEach(FC,r),Dh=null,Ih.call(r))}function FC(r,o){if(!(o.state.loading&4)){var c=Dh.get(r);if(c)var f=c.get(null);else{c=new Map,Dh.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var C=y[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),f=C)}f&&c.set(null,f)}y=o.instance,C=y.getAttribute("data-precedence"),v=c.get(C)||f,v===f&&c.set(null,y),c.set(C,y),this.count++,f=Ih.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),v?v.parentNode.insertBefore(y,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var ou={$$typeof:I,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function $C(r,o,c,f,y,v,C,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.hiddenUpdates=Fs(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function R_(r,o,c,f,y,v,C,D,G,Z,oe,ue){return r=new $C(r,o,c,C,D,G,Z,ue),o=1,v===!0&&(o|=24),v=hs(3,null,null,o),r.current=v,v.stateNode=r,o=up(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:f,isDehydrated:c,cache:o},mp(v),r}function j_(r){return r?(r=Qo,r):Qo}function I_(r,o,c,f,y,v){y=j_(y),f.context===null?f.context=y:f.pendingContext=y,f=Mr(o),f.payload={element:c},v=v===void 0?null:v,v!==null&&(f.callback=v),c=Or(r,f,o),c!==null&&(ys(c,r,o),Lc(c,r,o))}function D_(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Rg(r,o){D_(r,o),(r=r.alternate)&&D_(r,o)}function M_(r){if(r.tag===13){var o=Xo(r,67108864);o!==null&&ys(o,r,67108864),Rg(r,67108864)}}var Mh=!0;function HC(r,o,c,f){var y=W.T;W.T=null;var v=ae.p;try{ae.p=2,jg(r,o,c,f)}finally{ae.p=v,W.T=y}}function GC(r,o,c,f){var y=W.T;W.T=null;var v=ae.p;try{ae.p=8,jg(r,o,c,f)}finally{ae.p=v,W.T=y}}function jg(r,o,c,f){if(Mh){var y=Ig(f);if(y===null)xg(r,o,f,Oh,c),P_(r,f);else if(WC(y,r,o,c,f))f.stopPropagation();else if(P_(r,f),o&4&&-1<qC.indexOf(r)){for(;y!==null;){var v=ri(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=dt(v.pendingLanes);if(C!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var G=1<<31-nt(C);D.entanglements[1]|=G,C&=~G}bi(v),(Tt&6)===0&&(xh=Se()+500,eu(0))}}break;case 13:D=Xo(v,2),D!==null&&ys(D,v,2),vh(),Rg(v,2)}if(v=Ig(f),v===null&&xg(r,o,f,Oh,c),v===y)break;y=v}y!==null&&f.stopPropagation()}else xg(r,o,f,null,c)}}function Ig(r){return r=Es(r),Dg(r)}var Oh=null;function Dg(r){if(Oh=null,r=Li(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Oh=r,null}function O_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case We:return 2;case ze:return 8;case _e:case tt:return 32;case ke:return 268435456;default:return 32}default:return 32}}var Mg=!1,Yr=null,Kr=null,Xr=null,lu=new Map,cu=new Map,Qr=[],qC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(r,o){switch(r){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":lu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(o.pointerId)}}function uu(r,o,c,f,y,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[y]},o!==null&&(o=ri(o),o!==null&&M_(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function WC(r,o,c,f,y){switch(o){case"focusin":return Yr=uu(Yr,r,o,c,f,y),!0;case"dragenter":return Kr=uu(Kr,r,o,c,f,y),!0;case"mouseover":return Xr=uu(Xr,r,o,c,f,y),!0;case"pointerover":var v=y.pointerId;return lu.set(v,uu(lu.get(v)||null,r,o,c,f,y)),!0;case"gotpointercapture":return v=y.pointerId,cu.set(v,uu(cu.get(v)||null,r,o,c,f,y)),!0}return!1}function L_(r){var o=Li(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,Io(r.priority,function(){if(c.tag===13){var f=gs();f=si(f);var y=Xo(c,f);y!==null&&ys(y,c,f),Rg(c,f)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ph(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Ig(r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Bi=f,c.target.dispatchEvent(f),Bi=null}else return o=ri(c),o!==null&&M_(o),r.blockedOn=c,!1;o.shift()}return!0}function V_(r,o,c){Ph(r)&&c.delete(o)}function YC(){Mg=!1,Yr!==null&&Ph(Yr)&&(Yr=null),Kr!==null&&Ph(Kr)&&(Kr=null),Xr!==null&&Ph(Xr)&&(Xr=null),lu.forEach(V_),cu.forEach(V_)}function Lh(r,o){r.blockedOn===o&&(r.blockedOn=null,Mg||(Mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YC)))}var Vh=null;function z_(r){Vh!==r&&(Vh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vh===r&&(Vh=null);for(var o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=r[o+2];if(typeof f!="function"){if(Dg(f||c)===null)continue;break}var v=ri(c);v!==null&&(r.splice(o,3),o-=3,Dp(v,{pending:!0,data:y,method:c.method,action:f},f,y))}}))}function du(r){function o(G){return Lh(G,r)}Yr!==null&&Lh(Yr,r),Kr!==null&&Lh(Kr,r),Xr!==null&&Lh(Xr,r),lu.forEach(o),cu.forEach(o);for(var c=0;c<Qr.length;c++){var f=Qr[c];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Qr.length&&(c=Qr[0],c.blockedOn===null);)L_(c),c.blockedOn===null&&Qr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var y=c[f],v=c[f+1],C=y[Gt]||null;if(typeof v=="function")C||z_(c);else if(C){var D=null;if(v&&v.hasAttribute("formAction")){if(y=v,C=v[Gt]||null)D=C.formAction;else if(Dg(y)!==null)continue}else D=C.action;typeof D=="function"?c[f+1]=D:(c.splice(f,3),f-=3),z_(c)}}}function Og(r){this._internalRoot=r}zh.prototype.render=Og.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,f=gs();I_(c,f,r,o,null,null)},zh.prototype.unmount=Og.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;I_(r.current,2,null,r,null,null),vh(),o[Et]=null}};function zh(r){this._internalRoot=r}zh.prototype.unstable_scheduleHydration=function(r){if(r){var o=ii();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Qr.length&&o!==0&&o<Qr[c].priority;c++);Qr.splice(c,0,r),c===0&&L_(r)}};var U_=e.version;if(U_!=="19.1.1")throw Error(s(527,U_,"19.1.1"));ae.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=d(o),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var KC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{Xe=Uh.inject(KC),Pe=Uh}catch{}}return fu.createRoot=function(r,o){if(!i(r))throw Error(s(299));var c=!1,f="",y=nv,v=sv,C=iv,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=R_(r,1,!1,null,null,c,f,y,v,C,D,null),r[Et]=o.current,yg(r),new Og(o)},fu.hydrateRoot=function(r,o,c){if(!i(r))throw Error(s(299));var f=!1,y="",v=nv,C=sv,D=iv,G=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(G=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),o=R_(r,1,!0,o,c??null,f,y,v,C,D,G,Z),o.context=j_(null),c=o.current,f=gs(),f=si(f),y=Mr(f),y.callback=null,Or(c,y,f),c=f,o.current.lanes=c,os(o,c),bi(o),r[Et]=o.current,yg(r),new zh(o)},fu.version="19.1.1",fu}var Q_;function rk(){if(Q_)return Vg.exports;Q_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vg.exports=ik(),Vg.exports}var ak=rk();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J_="popstate";function ok(n={}){function e(i,a){let{pathname:l="/",search:u="",hash:d=""}=Ao(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),T0("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,m=d.indexOf("#");u=m===-1?d:d.slice(0,m)}return u+"#"+(typeof a=="string"?a:Bu(a))}function s(i,a){Vs(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return ck(e,t,s,n)}function Ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Vs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lk(){return Math.random().toString(36).substring(2,10)}function Z_(n,e){return{usr:n.state,key:n.key,idx:e}}function T0(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:t,key:e&&e.key||s||lk()}}function Bu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ao(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function ck(n,e,t,s={}){let{window:i=document.defaultView,v5Compat:a=!1}=s,l=i.history,u="POP",d=null,m=g();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function g(){return(l.state||{idx:null}).idx}function x(){u="POP";let T=g(),k=T==null?null:T-m;m=T,d&&d({action:u,location:w.location,delta:k})}function b(T,k){u="PUSH";let M=T0(w.location,T,k);t&&t(M,T),m=g()+1;let I=Z_(M,m),z=w.createHref(M);try{l.pushState(I,"",z)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(z)}a&&d&&d({action:u,location:w.location,delta:1})}function E(T,k){u="REPLACE";let M=T0(w.location,T,k);t&&t(M,T),m=g();let I=Z_(M,m),z=w.createHref(M);l.replaceState(I,"",z),a&&d&&d({action:u,location:w.location,delta:0})}function N(T){return uk(T)}let w={get action(){return u},get location(){return n(i,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(J_,x),d=T,()=>{i.removeEventListener(J_,x),d=null}},createHref(T){return e(i,T)},createURL:N,encodeLocation(T){let k=N(T);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:E,go(T){return l.go(T)}};return w}function uk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Bu(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function xE(n,e,t="/"){return dk(n,e,t,!1)}function dk(n,e,t,s){let i=typeof e=="string"?Ao(e):e,a=gr(i.pathname||"/",t);if(a==null)return null;let l=bE(n);hk(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let m=Ek(a);u=_k(l[d],m,s)}return u}function bE(n,e=[],t=[],s=""){let i=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Ut(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let m=fr([s,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Ut(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),bE(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:bk(m,a.index),routesMeta:g})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let u of vE(a.path))i(a,l,u)}),e}function vE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let l=vE(s.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function hk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:vk(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var fk=/^:[\w-]+$/,mk=3,pk=2,gk=1,yk=10,xk=-2,e1=n=>n==="*";function bk(n,e){let t=n.split("/"),s=t.length;return t.some(e1)&&(s+=xk),e&&(s+=pk),t.filter(i=>!e1(i)).reduce((i,a)=>i+(fk.test(a)?mk:a===""?gk:yk),s)}function vk(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function _k(n,e,t=!1){let{routesMeta:s}=n,i={},a="/",l=[];for(let u=0;u<s.length;++u){let d=s[u],m=u===s.length-1,g=a==="/"?e:e.slice(a.length)||"/",x=Df({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),b=d.route;if(!x&&m&&t&&!s[s.length-1].route.index&&(x=Df({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:fr([a,x.pathname]),pathnameBase:Ak(fr([a,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(a=fr([a,x.pathnameBase]))}return l}function Df(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=wk(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((m,{paramName:g,isOptional:x},b)=>{if(g==="*"){let N=u[b]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const E=u[b];return x&&!E?m[g]=void 0:m[g]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:n}}function wk(n,e=!1,t=!0){Vs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(s.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function Ek(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function Tk(n,e="/"){let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?Ao(n):n;return{pathname:t?t.startsWith("/")?t:Nk(t,e):e,search:Ck(s),hash:kk(i)}}function Nk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Fg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fy(n){let e=Sk(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function my(n,e,t,s=!1){let i;typeof n=="string"?i=Ao(n):(i={...n},Ut(!i.pathname||!i.pathname.includes("?"),Fg("?","pathname","search",i)),Ut(!i.pathname||!i.pathname.includes("#"),Fg("#","pathname","hash",i)),Ut(!i.search||!i.search.includes("#"),Fg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let x=e.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),x-=1;i.pathname=b.join("/")}u=x>=0?e[x]:"/"}let d=Tk(i,u),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var fr=n=>n.join("/").replace(/\/\/+/g,"/"),Ak=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ck=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,kk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Rk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var jk=["GET",..._E];new Set(jk);var Kl=B.createContext(null);Kl.displayName="DataRouter";var om=B.createContext(null);om.displayName="DataRouterState";B.createContext(!1);var wE=B.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var Ik=B.createContext(new Map);Ik.displayName="Fetchers";var Dk=B.createContext(null);Dk.displayName="Await";var ni=B.createContext(null);ni.displayName="Navigation";var id=B.createContext(null);id.displayName="Location";var zs=B.createContext({outlet:null,matches:[],isDataRoute:!1});zs.displayName="Route";var py=B.createContext(null);py.displayName="RouteError";function Mk(n,{relative:e}={}){Ut(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(ni),{hash:i,pathname:a,search:l}=rd(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:fr([t,a])),s.createHref({pathname:u,search:l,hash:i})}function Xl(){return B.useContext(id)!=null}function Mi(){return Ut(Xl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(id).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TE(n){B.useContext(ni).static||B.useLayoutEffect(n)}function Ql(){let{isDataRoute:n}=B.useContext(zs);return n?Xk():Ok()}function Ok(){Ut(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Kl),{basename:e,navigator:t}=B.useContext(ni),{matches:s}=B.useContext(zs),{pathname:i}=Mi(),a=JSON.stringify(fy(s)),l=B.useRef(!1);return TE(()=>{l.current=!0}),B.useCallback((d,m={})=>{if(Vs(l.current,EE),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=my(d,JSON.parse(a),i,m.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fr([e,g.pathname])),(m.replace?t.replace:t.push)(g,m.state,m)},[e,t,a,i,n])}var Pk=B.createContext(null);function Lk(n){let e=B.useContext(zs).outlet;return e&&B.createElement(Pk.Provider,{value:n},e)}function Vk(){let{matches:n}=B.useContext(zs),e=n[n.length-1];return e?e.params:{}}function rd(n,{relative:e}={}){let{matches:t}=B.useContext(zs),{pathname:s}=Mi(),i=JSON.stringify(fy(t));return B.useMemo(()=>my(n,JSON.parse(i),s,e==="path"),[n,i,s,e])}function zk(n,e){return NE(n,e)}function NE(n,e,t,s){Ut(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=B.useContext(ni),{matches:a}=B.useContext(zs),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",m=l?l.pathnameBase:"/",g=l&&l.route;{let k=g&&g.path||"";SE(d,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=Mi(),b;if(e){let k=typeof e=="string"?Ao(e):e;Ut(m==="/"||k.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=x;let E=b.pathname||"/",N=E;if(m!=="/"){let k=m.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=xE(n,{pathname:N});Vs(g||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Vs(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Hk(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:fr([m,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:fr([m,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,s);return e&&T?B.createElement(id.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function Uk(){let n=Kk(),e=Rk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:i},t):null,l)}var Bk=B.createElement(Uk,null),Fk=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(zs.Provider,{value:this.props.routeContext},B.createElement(py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $k({routeContext:n,match:e,children:t}){let s=B.useContext(Kl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(zs.Provider,{value:n},t)}function Hk(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t?.errors;if(a!=null){let d=i.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);Ut(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:x}=t,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,m,g)=>{let x,b=!1,E=null,N=null;t&&(x=a&&m.route.id?a[m.route.id]:void 0,E=m.route.errorElement||Bk,l&&(u<0&&g===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):u===g&&(b=!0,N=m.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,g+1)),T=()=>{let k;return x?k=E:b?k=N:m.route.Component?k=B.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=d,B.createElement($k,{match:m,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:k})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?B.createElement(Fk,{location:t.location,revalidation:t.revalidation,component:E,error:x,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}function gy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gk(n){let e=B.useContext(Kl);return Ut(e,gy(n)),e}function qk(n){let e=B.useContext(om);return Ut(e,gy(n)),e}function Wk(n){let e=B.useContext(zs);return Ut(e,gy(n)),e}function yy(n){let e=Wk(n),t=e.matches[e.matches.length-1];return Ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Yk(){return yy("useRouteId")}function Kk(){let n=B.useContext(py),e=qk("useRouteError"),t=yy("useRouteError");return n!==void 0?n:e.errors?.[t]}function Xk(){let{router:n}=Gk("useNavigate"),e=yy("useNavigate"),t=B.useRef(!1);return TE(()=>{t.current=!0}),B.useCallback(async(i,a={})=>{Vs(t.current,EE),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var t1={};function SE(n,e,t){!e&&!t1[n]&&(t1[n]=!0,Vs(!1,t))}B.memo(Qk);function Qk({routes:n,future:e,state:t}){return NE(n,void 0,t,e)}function vs({to:n,replace:e,state:t,relative:s}){Ut(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=B.useContext(ni);Vs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=B.useContext(zs),{pathname:l}=Mi(),u=Ql(),d=my(n,fy(a),l,s==="path"),m=JSON.stringify(d);return B.useEffect(()=>{u(JSON.parse(m),{replace:e,state:t,relative:s})},[u,m,s,e,t]),null}function AE(n){return Lk(n.context)}function rn(n){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jk({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:i,static:a=!1}){Ut(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=Ao(t));let{pathname:d="/",search:m="",hash:g="",state:x=null,key:b="default"}=t,E=B.useMemo(()=>{let N=gr(d,l);return N==null?null:{location:{pathname:N,search:m,hash:g,state:x,key:b},navigationType:s}},[l,d,m,g,x,b,s]);return Vs(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:B.createElement(ni.Provider,{value:u},B.createElement(id.Provider,{children:e,value:E}))}function Zk({children:n,location:e}){return zk(N0(n),e)}function N0(n,e=[]){let t=[];return B.Children.forEach(n,(s,i)=>{if(!B.isValidElement(s))return;let a=[...e,i];if(s.type===B.Fragment){t.push.apply(t,N0(s.props.children,a));return}Ut(s.type===rn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=N0(s.props.children,a)),t.push(l)}),t}var gf="get",yf="application/x-www-form-urlencoded";function lm(n){return n!=null&&typeof n.tagName=="string"}function eR(n){return lm(n)&&n.tagName.toLowerCase()==="button"}function tR(n){return lm(n)&&n.tagName.toLowerCase()==="form"}function nR(n){return lm(n)&&n.tagName.toLowerCase()==="input"}function sR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iR(n,e){return n.button===0&&(!e||e==="_self")&&!sR(n)}var Bh=null;function rR(){if(Bh===null)try{new FormData(document.createElement("form"),0),Bh=!1}catch{Bh=!0}return Bh}var aR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $g(n){return n!=null&&!aR.has(n)?(Vs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):n}function oR(n,e){let t,s,i,a,l;if(tR(n)){let u=n.getAttribute("action");s=u?gr(u,e):null,t=n.getAttribute("method")||gf,i=$g(n.getAttribute("enctype"))||yf,a=new FormData(n)}else if(eR(n)||nR(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(s=d?gr(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||gf,i=$g(n.getAttribute("formenctype"))||$g(u.getAttribute("enctype"))||yf,a=new FormData(u,n),!rR()){let{name:m,type:g,value:x}=n;if(g==="image"){let b=m?`${m}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else m&&a.append(m,x)}}else{if(lm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gf,s=null,i=yf,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:s,method:t.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function lR(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&gr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function cR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dR(n,e,t){let s=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await cR(a,t);return l.links?l.links():[]}return[]}));return pR(s.flat(1).filter(uR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function n1(n,e,t,s,i,a){let l=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,u=(d,m)=>t[m].pathname!==d.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,m)=>l(d,m)||u(d,m)):a==="data"?e.filter((d,m)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,m)||u(d,m))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function hR(n,e,{includeHydrateFallback:t}={}){return fR(n.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function fR(n){return[...new Set(n)]}function mR(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function pR(n,e){let t=new Set;return new Set(e),n.reduce((s,i)=>{let a=JSON.stringify(mR(i));return t.has(a)||(t.add(a),s.push({key:a,link:i})),s},[])}function CE(){let n=B.useContext(Kl);return xy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gR(){let n=B.useContext(om);return xy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var by=B.createContext(void 0);by.displayName="FrameworkContext";function kE(){let n=B.useContext(by);return xy(n,"You must render this element inside a <HydratedRouter> element"),n}function yR(n,e){let t=B.useContext(by),[s,i]=B.useState(!1),[a,l]=B.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=e,b=B.useRef(null);B.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=k=>{k.forEach(M=>{l(M.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[n]),B.useEffect(()=>{if(s){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[s]);let E=()=>{i(!0)},N=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:mu(u,E),onBlur:mu(d,N),onMouseEnter:mu(m,E),onMouseLeave:mu(g,N),onTouchStart:mu(x,E)}]:[!1,b,{}]}function mu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xR({page:n,...e}){let{router:t}=CE(),s=B.useMemo(()=>xE(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?B.createElement(vR,{page:n,matches:s,...e}):null}function bR(n){let{manifest:e,routeModules:t}=kE(),[s,i]=B.useState([]);return B.useEffect(()=>{let a=!1;return dR(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),s}function vR({page:n,matches:e,...t}){let s=Mi(),{manifest:i,routeModules:a}=kE(),{basename:l}=CE(),{loaderData:u,matches:d}=gR(),m=B.useMemo(()=>n1(n,e,d,i,s,"data"),[n,e,d,i,s]),g=B.useMemo(()=>n1(n,e,d,i,s,"assets"),[n,e,d,i,s]),x=B.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let N=new Set,w=!1;if(e.forEach(k=>{let M=i.routes[k.route.id];!M||!M.hasLoader||(!m.some(I=>I.route.id===k.route.id)&&k.route.id in u&&a[k.route.id]?.shouldRevalidate||M.hasClientLoader?w=!0:N.add(k.route.id))}),N.size===0)return[];let T=lR(n,l,"data");return w&&N.size>0&&T.searchParams.set("_routes",e.filter(k=>N.has(k.route.id)).map(k=>k.route.id).join(",")),[T.pathname+T.search]},[l,u,s,i,m,e,n,a]),b=B.useMemo(()=>hR(g,i),[g,i]),E=bR(g);return B.createElement(B.Fragment,null,x.map(N=>B.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),b.map(N=>B.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),E.map(({key:N,link:w})=>B.createElement("link",{key:N,...w})))}function _R(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RE&&(window.__reactRouterVersion="7.7.1")}catch{}function wR({basename:n,children:e,window:t}){let s=B.useRef();s.current==null&&(s.current=ok({window:t,v5Compat:!0}));let i=s.current,[a,l]=B.useState({action:i.action,location:i.location}),u=B.useCallback(d=>{B.startTransition(()=>l(d))},[l]);return B.useLayoutEffect(()=>i.listen(u),[i,u]),B.createElement(Jk,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jl=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:m,preventScrollReset:g,viewTransition:x,...b},E){let{basename:N}=B.useContext(ni),w=typeof m=="string"&&jE.test(m),T,k=!1;if(typeof m=="string"&&w&&(T=m,RE))try{let j=new URL(window.location.href),V=m.startsWith("//")?new URL(j.protocol+m):new URL(m),F=gr(V.pathname,N);V.origin===j.origin&&F!=null?m=F+V.search+V.hash:k=!0}catch{Vs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Mk(m,{relative:i}),[I,z,U]=yR(s,b),$=SR(m,{replace:l,state:u,target:d,preventScrollReset:g,relative:i,viewTransition:x});function A(j){e&&e(j),j.defaultPrevented||$(j)}let R=B.createElement("a",{...b,...U,href:T||M,onClick:k||a?e:A,ref:_R(E,z),target:d,"data-discover":!w&&t==="render"?"true":void 0});return I&&!w?B.createElement(B.Fragment,null,R,B.createElement(xR,{page:M})):R});Jl.displayName="Link";var ER=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...m},g){let x=rd(l,{relative:m.relative}),b=Mi(),E=B.useContext(om),{navigator:N,basename:w}=B.useContext(ni),T=E!=null&&jR(x)&&u===!0,k=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,M=b.pathname,I=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(M=M.toLowerCase(),I=I?I.toLowerCase():null,k=k.toLowerCase()),I&&w&&(I=gr(I,w)||I);const z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let U=M===k||!i&&M.startsWith(k)&&M.charAt(z)==="/",$=I!=null&&(I===k||!i&&I.startsWith(k)&&I.charAt(k.length)==="/"),A={isActive:U,isPending:$,isTransitioning:T},R=U?e:void 0,j;typeof s=="function"?j=s(A):j=[s,U?"active":null,$?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(A):a;return B.createElement(Jl,{...m,"aria-current":R,className:j,ref:g,style:V,to:l,viewTransition:u},typeof d=="function"?d(A):d)});ER.displayName="NavLink";var TR=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:i,state:a,method:l=gf,action:u,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:x,...b},E)=>{let N=kR(),w=RR(u,{relative:m}),T=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&jE.test(u),M=I=>{if(d&&d(I),I.defaultPrevented)return;I.preventDefault();let z=I.nativeEvent.submitter,U=z?.getAttribute("formmethod")||l;N(z||I.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:a,relative:m,preventScrollReset:g,viewTransition:x})};return B.createElement("form",{ref:E,method:T,action:w,onSubmit:s?d:M,...b,"data-discover":!k&&n==="render"?"true":void 0})});TR.displayName="Form";function NR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IE(n){let e=B.useContext(Kl);return Ut(e,NR(n)),e}function SR(n,{target:e,replace:t,state:s,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=Ql(),d=Mi(),m=rd(n,{relative:a});return B.useCallback(g=>{if(iR(g,e)){g.preventDefault();let x=t!==void 0?t:Bu(d)===Bu(m);u(n,{replace:x,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,m,t,s,e,n,i,a,l])}var AR=0,CR=()=>`__${String(++AR)}__`;function kR(){let{router:n}=IE("useSubmit"),{basename:e}=B.useContext(ni),t=Yk();return B.useCallback(async(s,i={})=>{let{action:a,method:l,encType:u,formData:d,body:m}=oR(s,e);if(i.navigate===!1){let g=i.fetcherKey||CR();await n.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:m,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function RR(n,{relative:e}={}){let{basename:t}=B.useContext(ni),s=B.useContext(zs);Ut(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a={...rd(n||".",{relative:e})},l=Mi();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(x=>x).forEach(x=>u.append("index",x));let g=u.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:fr([t,a.pathname])),Bu(a)}function jR(n,{relative:e}={}){let t=B.useContext(wE);Ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IE("useViewTransitionState"),i=rd(n,{relative:e});if(!t.isTransitioning)return!1;let a=gr(t.currentLocation.pathname,s)||t.currentLocation.pathname,l=gr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Df(i.pathname,l)!=null||Df(i.pathname,a)!=null}const IR=()=>h.jsx(AE,{}),DR=()=>{};var s1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},MR=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const i=n[t++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[s++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[s++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,m=d?n[i+2]:0,g=a>>2,x=(a&3)<<4|u>>4;let b=(u&15)<<2|m>>6,E=m&63;d||(E=64,l||(b=64)),s.push(t[g],t[x],t[b],t[E])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const m=i<n.length?t[n.charAt(i)]:64;++i;const x=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||m==null||x==null)throw new OR;const b=a<<2|u>>4;if(s.push(b),m!==64){const E=u<<4&240|m>>2;if(s.push(E),x!==64){const N=m<<6&192|x;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(n){const e=DE(n);return ME.encodeByteArray(e,!0)},Mf=function(n){return PR(n).replace(/\./g,"")},OE=function(n){try{return ME.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=()=>LR().__FIREBASE_DEFAULTS__,zR=()=>{if(typeof process>"u"||typeof s1>"u")return;const n=s1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&OE(n[1]);return e&&JSON.parse(e)},cm=()=>{try{return DR()||VR()||zR()||UR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PE=n=>cm()?.emulatorHosts?.[n],BR=n=>{const e=PE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},LE=()=>cm()?.config,VE=n=>cm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Mf(JSON.stringify(t)),Mf(JSON.stringify(l)),""].join(".")}const Ru={};function HR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?n.emulator.push(e):n.prod.push(e);return n}function GR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let i1=!1;function UE(n,e){if(typeof window>"u"||typeof document>"u"||!Zl(window.location.host)||Ru[n]===e||Ru[n]||i1)return;Ru[n]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",a=HR().prod.length>0;function l(){const b=document.getElementById(s);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{i1=!0,l()},b}function g(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=GR(s),E=t("text"),N=document.getElementById(E)||document.createElement("span"),w=t("learnmore"),T=document.getElementById(w)||document.createElement("a"),k=t("preprendIcon"),M=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const I=b.element;u(I),g(T,w);const z=m();d(M,k),I.append(M,N,T,z),document.body.appendChild(I)}a?(N.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function WR(){const n=cm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const n=$n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JR(){return!WR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZR(){try{return typeof indexedDB=="object"}catch{return!1}}function ej(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="FirebaseError";class Er extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=tj,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ad.prototype.create)}}class ad{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?nj(a,s):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Er(i,u,s)}}function nj(n,e){return n.replace(sj,(t,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const sj=/\{\$([^}]+)}/g;function ij(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function va(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const i of t){if(!s.includes(i))return!1;const a=n[i],l=e[i];if(r1(a)&&r1(l)){if(!va(a,l))return!1}else if(a!==l)return!1}for(const i of s)if(!t.includes(i))return!1;return!0}function r1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function _u(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,a]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function rj(n,e){const t=new aj(n,e);return t.subscribe.bind(t)}class aj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let i;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");oj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:s},i.next===void 0&&(i.next=Hg),i.error===void 0&&(i.error=Hg),i.complete===void 0&&(i.complete=Hg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(n){return n&&n._delegate?n._delegate:n}class _o{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new FR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uj(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});s.resolve(a)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);s===u&&l.resolve(i)}return i}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const i of s)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cj(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cj(n){return n===co?void 0:n}function uj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(at||(at={}));const hj={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},fj=at.INFO,mj={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},pj=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),i=mj[e];if(i)console[i](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vy{constructor(e){this.name=e,this._logLevel=fj,this._logHandler=pj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const gj=(n,e)=>e.some(t=>n instanceof t);let a1,o1;function yj(){return a1||(a1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xj(){return o1||(o1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,S0=new WeakMap,FE=new WeakMap,Gg=new WeakMap,_y=new WeakMap;function bj(n){const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ma(n.result)),i()},l=()=>{s(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&BE.set(t,n)}).catch(()=>{}),_y.set(e,n),e}function vj(n){if(S0.has(n))return;const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});S0.set(n,e)}let A0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return S0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ma(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _j(n){A0=n(A0)}function wj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(qg(this),e,...t);return FE.set(s,e.sort?e.sort():[e]),ma(s)}:xj().includes(n)?function(...e){return n.apply(qg(this),e),ma(BE.get(this))}:function(...e){return ma(n.apply(qg(this),e))}}function Ej(n){return typeof n=="function"?wj(n):(n instanceof IDBTransaction&&vj(n),gj(n,yj())?new Proxy(n,A0):n)}function ma(n){if(n instanceof IDBRequest)return bj(n);if(Gg.has(n))return Gg.get(n);const e=Ej(n);return e!==n&&(Gg.set(n,e),_y.set(e,n)),e}const qg=n=>_y.get(n);function Tj(n,e,{blocked:t,upgrade:s,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=ma(l);return s&&l.addEventListener("upgradeneeded",d=>{s(ma(l.result),d.oldVersion,d.newVersion,ma(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const Nj=["get","getKey","getAll","getAllKeys","count"],Sj=["put","add","delete","clear"],Wg=new Map;function l1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,i=Sj.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Nj.includes(t)))return;const a=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),i&&d.done]))[0]};return Wg.set(e,a),a}_j(n=>({...n,get:(e,t,s)=>l1(e,t)||n.get(e,t,s),has:(e,t)=>!!l1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Cj(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Cj(n){return n.getComponent()?.type==="VERSION"}const C0="@firebase/app",c1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new vy("@firebase/app"),kj="@firebase/app-compat",Rj="@firebase/analytics-compat",jj="@firebase/analytics",Ij="@firebase/app-check-compat",Dj="@firebase/app-check",Mj="@firebase/auth",Oj="@firebase/auth-compat",Pj="@firebase/database",Lj="@firebase/data-connect",Vj="@firebase/database-compat",zj="@firebase/functions",Uj="@firebase/functions-compat",Bj="@firebase/installations",Fj="@firebase/installations-compat",$j="@firebase/messaging",Hj="@firebase/messaging-compat",Gj="@firebase/performance",qj="@firebase/performance-compat",Wj="@firebase/remote-config",Yj="@firebase/remote-config-compat",Kj="@firebase/storage",Xj="@firebase/storage-compat",Qj="@firebase/firestore",Jj="@firebase/ai",Zj="@firebase/firestore-compat",eI="firebase",tI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="[DEFAULT]",nI={[C0]:"fire-core",[kj]:"fire-core-compat",[jj]:"fire-analytics",[Rj]:"fire-analytics-compat",[Dj]:"fire-app-check",[Ij]:"fire-app-check-compat",[Mj]:"fire-auth",[Oj]:"fire-auth-compat",[Pj]:"fire-rtdb",[Lj]:"fire-data-connect",[Vj]:"fire-rtdb-compat",[zj]:"fire-fn",[Uj]:"fire-fn-compat",[Bj]:"fire-iid",[Fj]:"fire-iid-compat",[$j]:"fire-fcm",[Hj]:"fire-fcm-compat",[Gj]:"fire-perf",[qj]:"fire-perf-compat",[Wj]:"fire-rc",[Yj]:"fire-rc-compat",[Kj]:"fire-gcs",[Xj]:"fire-gcs-compat",[Qj]:"fire-fst",[Zj]:"fire-fst-compat",[Jj]:"fire-vertex","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,sI=new Map,R0=new Map;function u1(n,e){try{n.container.addComponent(e)}catch(t){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ll(n){const e=n.name;if(R0.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;R0.set(e,n);for(const t of Of.values())u1(t,n);for(const t of sI.values())u1(t,n);return!0}function wy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Os(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new ad("app","Firebase",iI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=tI;function $E(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:k0,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw pa.create("bad-app-name",{appName:String(i)});if(t||(t=LE()),!t)throw pa.create("no-options");const a=Of.get(i);if(a){if(va(t,a.options)&&va(s,a.config))return a;throw pa.create("duplicate-app",{appName:i})}const l=new dj(i);for(const d of R0.values())l.addComponent(d);const u=new rI(t,s,l);return Of.set(i,u),u}function HE(n=k0){const e=Of.get(n);if(!e&&n===k0&&LE())return $E();if(!e)throw pa.create("no-app",{appName:n});return e}function ga(n,e,t){let s=nI[n]??n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(l.join(" "));return}Ll(new _o(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebase-heartbeat-database",oI=1,Fu="firebase-heartbeat-store";let Yg=null;function GE(){return Yg||(Yg=Tj(aI,oI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fu)}catch(t){console.warn(t)}}}}).catch(n=>{throw pa.create("idb-open",{originalErrorMessage:n.message})})),Yg}async function lI(n){try{const t=(await GE()).transaction(Fu),s=await t.objectStore(Fu).get(qE(n));return await t.done,s}catch(e){if(e instanceof Er)yr.warn(e.message);else{const t=pa.create("idb-get",{originalErrorMessage:e?.message});yr.warn(t.message)}}}async function d1(n,e){try{const s=(await GE()).transaction(Fu,"readwrite");await s.objectStore(Fu).put(e,qE(n)),await s.done}catch(t){if(t instanceof Er)yr.warn(t.message);else{const s=pa.create("idb-set",{originalErrorMessage:t?.message});yr.warn(s.message)}}}function qE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=1024,uI=30;class dI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>uI){const i=mI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h1(),{heartbeatsToSend:t,unsentEntries:s}=hI(this._heartbeatsCache.heartbeats),i=Mf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return yr.warn(e),""}}}function h1(){return new Date().toISOString().substring(0,10)}function hI(n,e=cI){const t=[];let s=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),f1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),f1(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class fI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZR()?ej().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function f1(n){return Mf(JSON.stringify({version:2,heartbeats:n})).length}function mI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n){Ll(new _o("platform-logger",e=>new Aj(e),"PRIVATE")),Ll(new _o("heartbeat",e=>new dI(e),"PRIVATE")),ga(C0,c1,n),ga(C0,c1,"esm2020"),ga("fire-js","")}pI("");function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gI=WE,YE=new ad("auth","Firebase",WE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new vy("@firebase/auth");function yI(n,...e){Pf.logLevel<=at.WARN&&Pf.warn(`Auth (${ec}): ${n}`,...e)}function xf(n,...e){Pf.logLevel<=at.ERROR&&Pf.error(`Auth (${ec}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(n,...e){throw Ey(n,...e)}function Si(n,...e){return Ey(n,...e)}function KE(n,e,t){const s={...gI(),[e]:t};return new ad("auth","Firebase",s).create(e,{appName:n.name})}function mr(n){return KE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ey(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return YE.create(n,...e)}function Ue(n,e,...t){if(!n)throw Ey(e,...t)}function ur(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xf(e),new Error(e)}function xr(n,e){n||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return typeof self<"u"&&self.location?.href||""}function xI(){return m1()==="http:"||m1()==="https:"}function m1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xI()||KR()||"connection"in navigator)?navigator.onLine:!0}function vI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t){this.shortDelay=e,this.longDelay=t,xr(t>e,"Short delay should be less than long delay!"),this.isMobile=qR()||XR()}get(){return bI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n,e){xr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EI=new ld(3e4,6e4);function Ca(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Tr(n,e,t,s,i={}){return QE(n,i,async()=>{let a={},l={};s&&(e==="GET"?l=s:a={body:JSON.stringify(s)});const u=od({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:d,...a};return YR()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Zl(n.emulatorConfig.host)&&(m.credentials="include"),XE.fetch()(await JE(n,n.config.apiHost,t,u),m)})}async function QE(n,e,t){n._canInitEmulator=!1;const s={..._I,...e};try{const i=new NI(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Fh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,m]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Fh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Fh(n,"user-disabled",l);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw KE(n,g,m);Zs(n,g)}}catch(i){if(i instanceof Er)throw i;Zs(n,"network-request-failed",{message:String(i)})}}async function cd(n,e,t,s,i={}){const a=await Tr(n,e,t,s,i);return"mfaPendingCredential"in a&&Zs(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function JE(n,e,t,s){const i=`${e}${t}?${s}`,a=n,l=a.config.emulator?Ty(n.config,i):`${n.config.apiScheme}://${i}`;return wI.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function TI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),EI.get())})}}function Fh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const i=Si(n,e,s);return i.customData._tokenResponse=t,i}function p1(n){return n!==void 0&&n.enterprise!==void 0}class SI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return TI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AI(n,e){return Tr(n,"GET","/v2/recaptchaConfig",Ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(n,e){return Tr(n,"POST","/v1/accounts:delete",e)}async function Lf(n,e){return Tr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kI(n,e=!1){const t=gn(n),s=await t.getIdToken(e),i=Ny(s);Ue(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:s,authTime:ju(Kg(i.auth_time)),issuedAtTime:ju(Kg(i.iat)),expirationTime:ju(Kg(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Kg(n){return Number(n)*1e3}function Ny(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return xf("JWT malformed, contained fewer than 3 sections"),null;try{const i=OE(t);return i?JSON.parse(i):(xf("Failed to decode base64 JWT payload"),null)}catch(i){return xf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function g1(n){const e=Ny(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Er&&RI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function RI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(n){const e=n.auth,t=await n.getIdToken(),s=await Vl(n,Lf(e,{idToken:t}));Ue(s?.users.length,e,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?ZE(i.providerUserInfo):[],l=DI(n.providerData,a),u=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!l?.length,m=u?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new I0(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function II(n){const e=gn(n);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DI(n,e){return[...n.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function ZE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(n,e){const t=await QE(n,{},async()=>{const s=od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await JE(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:s};return n.emulatorConfig&&Zl(n.emulatorConfig.host)&&(d.credentials="include"),XE.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OI(n,e){return Tr(n,"POST","/v2/accounts:revokeToken",Ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=g1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:i,expiresIn:a}=await MI(e,t);this.updateTokensAndExpiration(s,i,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:i,expirationTime:a}=t,l=new jl;return s&&(Ue(typeof s=="string","internal-error",{appName:e}),l.refreshToken=s),i&&(Ue(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xs{constructor({uid:e,auth:t,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new I0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kI(this,e)}reload(){return II(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Vf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await Vl(this,CI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,m=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:x,emailVerified:b,isAnonymous:E,providerData:N,stsTokenManager:w}=t;Ue(x&&w,e,"internal-error");const T=jl.fromJSON(this.name,w);Ue(typeof x=="string",e,"internal-error"),Zr(s,e.name),Zr(i,e.name),Ue(typeof b=="boolean",e,"internal-error"),Ue(typeof E=="boolean",e,"internal-error"),Zr(a,e.name),Zr(l,e.name),Zr(u,e.name),Zr(d,e.name),Zr(m,e.name),Zr(g,e.name);const k=new Xs({uid:x,auth:e,email:i,emailVerified:b,displayName:s,isAnonymous:E,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:T,createdAt:m,lastLoginAt:g});return N&&Array.isArray(N)&&(k.providerData=N.map(M=>({...M}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,t,s=!1){const i=new jl;i.updateFromServerResponse(t);const a=new Xs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Vf(a),a}static async _fromGetAccountInfoResponse(e,t,s){const i=t.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ZE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new jl;u.updateFromIdToken(s);const d=new Xs({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new I0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;function dr(n){xr(n instanceof Function,"Expected a class definition");let e=y1.get(n);return e?(xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,y1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eT.type="NONE";const x1=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n,e,t){return`firebase:${n}:${e}:${t}`}class Il{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:i,name:a}=this.auth;this.fullUserKey=bf(this.userKey,i.apiKey,a),this.fullPersistenceKey=bf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lf(this.auth,{idToken:e}).catch(()=>{});return t?Xs._fromGetAccountInfoResponse(this.auth,t,e):null}return Xs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Il(dr(x1),e,s);const i=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||dr(x1);const l=bf(s,e.config.apiKey,e.name);let u=null;for(const m of t)try{const g=await m._get(l);if(g){let x;if(typeof g=="string"){const b=await Lf(e,{idToken:g}).catch(()=>{});if(!b)break;x=await Xs._fromGetAccountInfoResponse(e,b,g)}else x=Xs._fromJSON(e,g);m!==a&&(u=x),a=m;break}}catch{}const d=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Il(a,e,s):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Il(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(oT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(rT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function tT(n=$n()){return/firefox\//i.test(n)}function nT(n=$n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(n=$n()){return/crios\//i.test(n)}function iT(n=$n()){return/iemobile/i.test(n)}function rT(n=$n()){return/android/i.test(n)}function aT(n=$n()){return/blackberry/i.test(n)}function oT(n=$n()){return/webos/i.test(n)}function Sy(n=$n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PI(n=$n()){return Sy(n)&&!!window.navigator?.standalone}function LI(){return QR()&&document.documentMode===10}function lT(n=$n()){return Sy(n)||rT(n)||oT(n)||aT(n)||/windows phone/i.test(n)||iT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n,e=[]){let t;switch(n){case"Browser":t=b1($n());break;case"Worker":t=`${b1($n())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ec}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});s.onAbort=t,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(n,e={}){return Tr(n,"GET","/v2/passwordPolicy",Ca(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=6;class BI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??UI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t,s,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v1(this),this.idTokenSubscription=new v1(this),this.beforeStateQueue=new VI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lf(this,{idToken:e}),s=await Xs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Os(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=s?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(mr(this));const t=e?gn(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Os(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zI(this),t=new BI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ad("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await OI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dr(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,s,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Co(n){return gn(n)}class v1{constructor(e){this.auth=e,this.observer=null,this.addObserver=rj(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $I(n){um=n}function uT(n){return um.loadJS(n)}function HI(){return um.recaptchaEnterpriseScript}function GI(){return um.gapiScript}function qI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class WI{constructor(){this.enterprise=new YI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const KI="recaptcha-enterprise",dT="NO_RECAPTCHA";class XI{constructor(e){this.type=KI,this.auth=Co(e)}async verify(e="verify",t=!1){async function s(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{AI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new SI(d);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(d=>{u(d)})})}function i(a,l,u){const d=window.grecaptcha;p1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(dT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new WI().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{s(this.auth).then(u=>{if(!t&&p1(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=HI();d.length!==0&&(d+=u),uT(d).then(()=>{i(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function _1(n,e,t,s=!1,i=!1){const a=new XI(n);let l;if(i)l=dT;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return s?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function D0(n,e,t,s,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await _1(n,e,t,t==="getOobCode");return s(n,a)}else return s(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await _1(n,e,t,t==="getOobCode");return s(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e){const t=wy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(va(a,e??{}))return i;Zs(i,"already-initialized")}return t.initialize({options:e})}function JI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(dr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function ZI(n,e,t){const s=Co(n);Ue(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,a=hT(e),{host:l,port:u}=eD(e),d=u===null?"":`:${u}`,m={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Ue(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ue(va(m,s.config.emulator)&&va(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,Zl(l)?(zE(`${a}//${l}${d}`),UE("Auth",!0)):tD()}function hT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eD(n){const e=hT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const a=i[1];return{host:a,port:w1(s.substr(a.length+1))}}else{const[a,l]=s.split(":");return{host:a,port:w1(l)}}}function w1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function nD(n,e){return Tr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e){return cd(n,"POST","/v1/accounts:signInWithPassword",Ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e){return cd(n,"POST","/v1/accounts:signInWithEmailLink",Ca(n,e))}async function rD(n,e){return cd(n,"POST","/v1/accounts:signInWithEmailLink",Ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Ay{constructor(e,t,s,i=null){super("password",s),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new $u(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new $u(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,t,"signInWithPassword",sD);case"emailLink":return iD(e,{email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D0(e,s,"signUpPassword",nD);case"emailLink":return rD(e,{idToken:t,email:this._email,oobCode:this._password});default:Zs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n,e){return cd(n,"POST","/v1/accounts:signInWithIdp",Ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="http://localhost";class wo extends Ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...a}=t;if(!s||!i)return null;const l=new wo(s,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dl(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Dl(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dl(e,t)}buildRequest(){const e={requestUri:aD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=od(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lD(n){const e=_u(wu(n)).link,t=e?_u(wu(e)).deep_link_id:null,s=_u(wu(n)).deep_link_id;return(s?_u(wu(s)).link:null)||s||t||e||n}class Cy{constructor(e){const t=_u(wu(e)),s=t.apiKey??null,i=t.oobCode??null,a=oD(t.mode??null);Ue(s&&i&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lD(e);try{return new Cy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.providerId=tc.PROVIDER_ID}static credential(e,t){return $u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Cy.parseLink(t);return Ue(s,"argument-error"),$u._fromEmailAndCode(e,s.code,s.tenantId)}}tc.PROVIDER_ID="password";tc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends fT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends ud{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ra.credential(t,s)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends ud{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends ud{constructor(){super("twitter.com")}static credential(e,t){return wo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return oa.credential(t,s)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){return cd(n,"POST","/v1/accounts:signUp",Ca(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,i=!1){const a=await Xs._fromIdTokenResponse(e,s,i),l=E1(s);return new Eo({user:a,providerId:l,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const i=E1(s);return new Eo({user:e,providerId:i,_tokenResponse:s,operationType:t})}}function E1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends Er{constructor(e,t,s,i){super(t.code,t.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,i){return new zf(e,t,s,i)}}function mT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(n,a,e,s):a})}async function uD(n,e,t=!1){const s=await Vl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Eo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e,t=!1){const{auth:s}=n;if(Os(s.app))return Promise.reject(mr(s));const i="reauthenticate";try{const a=await Vl(n,mT(s,i,e,n),t);Ue(a.idToken,s,"internal-error");const l=Ny(a.idToken);Ue(l,s,"internal-error");const{sub:u}=l;return Ue(n.uid===u,s,"user-mismatch"),Eo._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Zs(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(n,e,t=!1){if(Os(n.app))return Promise.reject(mr(n));const s="signIn",i=await mT(n,s,e),a=await Eo._fromIdTokenResponse(n,s,i);return t||await n._updateCurrentUser(a.user),a}async function hD(n,e){return pT(Co(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(n){const e=Co(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fD(n,e,t){if(Os(n.app))return Promise.reject(mr(n));const s=Co(n),l=await D0(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&gT(n),d}),u=await Eo._fromIdTokenResponse(s,"signIn",l);return await s._updateCurrentUser(u.user),u}function mD(n,e,t){return Os(n.app)?Promise.reject(mr(n)):hD(gn(n),tc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gT(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(n,e){return Tr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=gn(n),a={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Vl(s,pD(s.auth,a));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;const u=s.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),await s._updateTokensIfNecessary(l)}function gD(n,e,t,s){return gn(n).onIdTokenChanged(e,t,s)}function yD(n,e,t){return gn(n).beforeAuthStateChanged(e,t)}function xD(n,e,t,s){return gn(n).onAuthStateChanged(e,t,s)}function bD(n){return gn(n).signOut()}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=1e3,_D=10;class xT extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),i=this.localCache[t];s!==i&&e(t,i,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const s=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(s);!t&&this.localCache[s]===l||this.notifyListeners(s,l)},a=this.storage.getItem(s);LI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_D):i()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},vD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xT.type="LOCAL";const wD=xT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bT.type="SESSION";const vT=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const s=new dm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const u=Array.from(l).map(async m=>m(t.origin,a)),d=await ED(u);t.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const m=ky("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);l={messageChannel:i,onMessage(x){const b=x;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function ND(n){Ai().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function SD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AD(){return navigator?.serviceWorker?.controller||null}function CD(){return _T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebaseLocalStorageDb",kD=1,Bf="firebaseLocalStorage",ET="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hm(n,e){return n.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function RD(){const n=indexedDB.deleteDatabase(wT);return new dd(n).toPromise()}function M0(){const n=indexedDB.open(wT,kD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Bf,{keyPath:ET})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Bf)?e(s):(s.close(),await RD(),e(await M0()))})})}async function N1(n,e,t){const s=hm(n,!0).put({[ET]:e,value:t});return new dd(s).toPromise()}async function jD(n,e){const t=hm(n,!1).get(e),s=await new dd(t).toPromise();return s===void 0?null:s.value}function S1(n,e){const t=hm(n,!0).delete(e);return new dd(t).toPromise()}const ID=800,DD=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>DD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dm._getInstance(CD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SD(),!this.activeServiceWorker)return;this.sender=new TD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M0();return await N1(e,Uf,"1"),await S1(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>N1(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>jD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>S1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=hm(i,!1).getAll();return new dd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const MD=TT;new ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n,e){return e?dr(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends Ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PD(n){return pT(n.auth,new Ry(n),n.bypassAuthState)}function LD(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),dD(t,new Ry(n),n.bypassAuthState)}async function VD(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),uD(t,new Ry(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t,s,i,a=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return VD;case"reauthViaPopup":case"reauthViaRedirect":return LD;default:Zs(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new ld(2e3,1e4);class kl extends NT{constructor(e,t,s,i,a){super(e,t,i,a),this.provider=s,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zD.get())};e()}}kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="pendingRedirect",vf=new Map;class BD extends NT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=vf.get(this.auth._key());if(!e){try{const s=await FD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}vf.set(this.auth._key(),e)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FD(n,e){const t=GD(e),s=HD(n);if(!await s._isAvailable())return!1;const i=await s._get(t)==="true";return await s._remove(t),i}function $D(n,e){vf.set(n._key(),e)}function HD(n){return dr(n._redirectPersistence)}function GD(n){return bf(UD,n.config.apiKey,n.name)}async function qD(n,e,t=!1){if(Os(n.app))return Promise.reject(mr(n));const s=Co(n),i=OD(s,e),l=await new BD(s,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=600*1e3;class YD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ST(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Si(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WD&&this.cachedEventUids.clear(),this.cachedEventUids.has(A1(e))}saveEventToCache(e){this.cachedEventUids.add(A1(e)),this.lastProcessedEventTime=Date.now()}}function A1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ST({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function KD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,e={}){return Tr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JD=/^https?/;async function ZD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await XD(n);for(const t of e)try{if(e5(t))return}catch{}Zs(n,"unauthorized-domain")}function e5(n){const e=j0(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===s}if(!JD.test(t))return!1;if(QD.test(n))return s===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new ld(3e4,6e4);function C1(){const n=Ai().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function n5(n){return new Promise((e,t)=>{function s(){C1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C1(),t(Si(n,"network-request-failed"))},timeout:t5.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)s();else{const i=qI("iframefcb");return Ai()[i]=()=>{gapi.load?s():t(Si(n,"network-request-failed"))},uT(`${GI()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw _f=null,e})}let _f=null;function s5(n){return _f=_f||n5(n),_f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new ld(5e3,15e3),r5="__/auth/iframe",a5="emulator/auth/iframe",o5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c5(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ty(e,a5):`https://${n.config.authDomain}/${r5}`,s={apiKey:e.apiKey,appName:n.name,v:ec},i=l5.get(n.config.apiHost);i&&(s.eid=i);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${od(s).slice(1)}`}async function u5(n){const e=await s5(n),t=Ai().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:c5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o5,dontclear:!0},s=>new Promise(async(i,a)=>{await s.restyle({setHideOnLeave:!1});const l=Si(n,"network-request-failed"),u=Ai().setTimeout(()=>{a(l)},i5.get());function d(){Ai().clearTimeout(u),i(s)}s.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h5=500,f5=600,m5="_blank",p5="http://localhost";class k1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g5(n,e,t,s=h5,i=f5){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-s)/2,0).toString();let u="";const d={...d5,width:s.toString(),height:i.toString(),top:a,left:l},m=$n().toLowerCase();t&&(u=sT(m)?m5:t),tT(m)&&(e=e||p5,d.scrollbars="yes");const g=Object.entries(d).reduce((b,[E,N])=>`${b}${E}=${N},`,"");if(PI(m)&&u!=="_self")return y5(e||"",u),new k1(null);const x=window.open(e||"",u,g);Ue(x,n,"popup-blocked");try{x.focus()}catch{}return new k1(x)}function y5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="__/auth/handler",b5="emulator/auth/handler",v5=encodeURIComponent("fac");async function R1(n,e,t,s,i,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ec,eventId:i};if(e instanceof fT){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",ij(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,x]of Object.entries({}))l[g]=x}if(e instanceof ud){const g=e.getScopes().filter(x=>x!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await n._getAppCheckToken(),m=d?`#${v5}=${encodeURIComponent(d)}`:"";return`${_5(n)}?${od(u).slice(1)}${m}`}function _5({config:n}){return n.emulator?Ty(n,b5):`https://${n.authDomain}/${x5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class w5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=qD,this._overrideRedirectResult=$D}async _openPopup(e,t,s,i){xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await R1(e,t,s,j0(),i);return g5(e,a,ky())}async _openRedirect(e,t,s,i){await this._originValidation(e);const a=await R1(e,t,s,j0(),i);return ND(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(xr(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await u5(e),s=new YD(e);return t.register("authEvent",i=>(Ue(i?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xg,{type:Xg},i=>{const a=i?.[0]?.[Xg];a!==void 0&&t(!!a),Zs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lT()||nT()||Sy()}}const E5=w5;var j1="@firebase/auth",I1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S5(n){Ll(new _o("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=s.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cT(n)},m=new FI(s,i,a,d);return JI(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ll(new _o("auth-internal",e=>{const t=Co(e.getProvider("auth").getImmediate());return(s=>new T5(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ga(j1,I1,N5(n)),ga(j1,I1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=300,C5=VE("authIdTokenMaxAge")||A5;let D1=null;const k5=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>C5)return;const i=t?.token;D1!==i&&(D1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R5(n=HE()){const e=wy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=QI(n,{popupRedirectResolver:E5,persistence:[MD,wD,vT]}),s=VE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const l=k5(a.toString());yD(t,l,()=>l(t.currentUser)),gD(t,u=>l(u))}}const i=PE("auth");return i&&ZI(t,`http://${i}`),t}function j5(){return document.getElementsByTagName("head")?.[0]??document}$I({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=i=>{const a=Si("internal-error");a.customData=i,t(a)},s.type="text/javascript",s.charset="UTF-8",j5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S5("Browser");var I5="firebase",D5="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ga(I5,D5,"app");var M1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ya,AT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function j(){}j.prototype=R.prototype,A.D=R.prototype,A.prototype=new j,A.prototype.constructor=A,A.C=function(V,F,O){for(var L=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)L[ge-2]=arguments[ge];return R.prototype[F].apply(V,L)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,R,j){j||(j=0);var V=Array(16);if(typeof R=="string")for(var F=0;16>F;++F)V[F]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(F=0;16>F;++F)V[F]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=A.g[0],j=A.g[1],F=A.g[2];var O=A.g[3],L=R+(O^j&(F^O))+V[0]+3614090360&4294967295;R=j+(L<<7&4294967295|L>>>25),L=O+(F^R&(j^F))+V[1]+3905402710&4294967295,O=R+(L<<12&4294967295|L>>>20),L=F+(j^O&(R^j))+V[2]+606105819&4294967295,F=O+(L<<17&4294967295|L>>>15),L=j+(R^F&(O^R))+V[3]+3250441966&4294967295,j=F+(L<<22&4294967295|L>>>10),L=R+(O^j&(F^O))+V[4]+4118548399&4294967295,R=j+(L<<7&4294967295|L>>>25),L=O+(F^R&(j^F))+V[5]+1200080426&4294967295,O=R+(L<<12&4294967295|L>>>20),L=F+(j^O&(R^j))+V[6]+2821735955&4294967295,F=O+(L<<17&4294967295|L>>>15),L=j+(R^F&(O^R))+V[7]+4249261313&4294967295,j=F+(L<<22&4294967295|L>>>10),L=R+(O^j&(F^O))+V[8]+1770035416&4294967295,R=j+(L<<7&4294967295|L>>>25),L=O+(F^R&(j^F))+V[9]+2336552879&4294967295,O=R+(L<<12&4294967295|L>>>20),L=F+(j^O&(R^j))+V[10]+4294925233&4294967295,F=O+(L<<17&4294967295|L>>>15),L=j+(R^F&(O^R))+V[11]+2304563134&4294967295,j=F+(L<<22&4294967295|L>>>10),L=R+(O^j&(F^O))+V[12]+1804603682&4294967295,R=j+(L<<7&4294967295|L>>>25),L=O+(F^R&(j^F))+V[13]+4254626195&4294967295,O=R+(L<<12&4294967295|L>>>20),L=F+(j^O&(R^j))+V[14]+2792965006&4294967295,F=O+(L<<17&4294967295|L>>>15),L=j+(R^F&(O^R))+V[15]+1236535329&4294967295,j=F+(L<<22&4294967295|L>>>10),L=R+(F^O&(j^F))+V[1]+4129170786&4294967295,R=j+(L<<5&4294967295|L>>>27),L=O+(j^F&(R^j))+V[6]+3225465664&4294967295,O=R+(L<<9&4294967295|L>>>23),L=F+(R^j&(O^R))+V[11]+643717713&4294967295,F=O+(L<<14&4294967295|L>>>18),L=j+(O^R&(F^O))+V[0]+3921069994&4294967295,j=F+(L<<20&4294967295|L>>>12),L=R+(F^O&(j^F))+V[5]+3593408605&4294967295,R=j+(L<<5&4294967295|L>>>27),L=O+(j^F&(R^j))+V[10]+38016083&4294967295,O=R+(L<<9&4294967295|L>>>23),L=F+(R^j&(O^R))+V[15]+3634488961&4294967295,F=O+(L<<14&4294967295|L>>>18),L=j+(O^R&(F^O))+V[4]+3889429448&4294967295,j=F+(L<<20&4294967295|L>>>12),L=R+(F^O&(j^F))+V[9]+568446438&4294967295,R=j+(L<<5&4294967295|L>>>27),L=O+(j^F&(R^j))+V[14]+3275163606&4294967295,O=R+(L<<9&4294967295|L>>>23),L=F+(R^j&(O^R))+V[3]+4107603335&4294967295,F=O+(L<<14&4294967295|L>>>18),L=j+(O^R&(F^O))+V[8]+1163531501&4294967295,j=F+(L<<20&4294967295|L>>>12),L=R+(F^O&(j^F))+V[13]+2850285829&4294967295,R=j+(L<<5&4294967295|L>>>27),L=O+(j^F&(R^j))+V[2]+4243563512&4294967295,O=R+(L<<9&4294967295|L>>>23),L=F+(R^j&(O^R))+V[7]+1735328473&4294967295,F=O+(L<<14&4294967295|L>>>18),L=j+(O^R&(F^O))+V[12]+2368359562&4294967295,j=F+(L<<20&4294967295|L>>>12),L=R+(j^F^O)+V[5]+4294588738&4294967295,R=j+(L<<4&4294967295|L>>>28),L=O+(R^j^F)+V[8]+2272392833&4294967295,O=R+(L<<11&4294967295|L>>>21),L=F+(O^R^j)+V[11]+1839030562&4294967295,F=O+(L<<16&4294967295|L>>>16),L=j+(F^O^R)+V[14]+4259657740&4294967295,j=F+(L<<23&4294967295|L>>>9),L=R+(j^F^O)+V[1]+2763975236&4294967295,R=j+(L<<4&4294967295|L>>>28),L=O+(R^j^F)+V[4]+1272893353&4294967295,O=R+(L<<11&4294967295|L>>>21),L=F+(O^R^j)+V[7]+4139469664&4294967295,F=O+(L<<16&4294967295|L>>>16),L=j+(F^O^R)+V[10]+3200236656&4294967295,j=F+(L<<23&4294967295|L>>>9),L=R+(j^F^O)+V[13]+681279174&4294967295,R=j+(L<<4&4294967295|L>>>28),L=O+(R^j^F)+V[0]+3936430074&4294967295,O=R+(L<<11&4294967295|L>>>21),L=F+(O^R^j)+V[3]+3572445317&4294967295,F=O+(L<<16&4294967295|L>>>16),L=j+(F^O^R)+V[6]+76029189&4294967295,j=F+(L<<23&4294967295|L>>>9),L=R+(j^F^O)+V[9]+3654602809&4294967295,R=j+(L<<4&4294967295|L>>>28),L=O+(R^j^F)+V[12]+3873151461&4294967295,O=R+(L<<11&4294967295|L>>>21),L=F+(O^R^j)+V[15]+530742520&4294967295,F=O+(L<<16&4294967295|L>>>16),L=j+(F^O^R)+V[2]+3299628645&4294967295,j=F+(L<<23&4294967295|L>>>9),L=R+(F^(j|~O))+V[0]+4096336452&4294967295,R=j+(L<<6&4294967295|L>>>26),L=O+(j^(R|~F))+V[7]+1126891415&4294967295,O=R+(L<<10&4294967295|L>>>22),L=F+(R^(O|~j))+V[14]+2878612391&4294967295,F=O+(L<<15&4294967295|L>>>17),L=j+(O^(F|~R))+V[5]+4237533241&4294967295,j=F+(L<<21&4294967295|L>>>11),L=R+(F^(j|~O))+V[12]+1700485571&4294967295,R=j+(L<<6&4294967295|L>>>26),L=O+(j^(R|~F))+V[3]+2399980690&4294967295,O=R+(L<<10&4294967295|L>>>22),L=F+(R^(O|~j))+V[10]+4293915773&4294967295,F=O+(L<<15&4294967295|L>>>17),L=j+(O^(F|~R))+V[1]+2240044497&4294967295,j=F+(L<<21&4294967295|L>>>11),L=R+(F^(j|~O))+V[8]+1873313359&4294967295,R=j+(L<<6&4294967295|L>>>26),L=O+(j^(R|~F))+V[15]+4264355552&4294967295,O=R+(L<<10&4294967295|L>>>22),L=F+(R^(O|~j))+V[6]+2734768916&4294967295,F=O+(L<<15&4294967295|L>>>17),L=j+(O^(F|~R))+V[13]+1309151649&4294967295,j=F+(L<<21&4294967295|L>>>11),L=R+(F^(j|~O))+V[4]+4149444226&4294967295,R=j+(L<<6&4294967295|L>>>26),L=O+(j^(R|~F))+V[11]+3174756917&4294967295,O=R+(L<<10&4294967295|L>>>22),L=F+(R^(O|~j))+V[2]+718787259&4294967295,F=O+(L<<15&4294967295|L>>>17),L=j+(O^(F|~R))+V[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+F&4294967295,A.g[3]=A.g[3]+O&4294967295}s.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var j=R-this.blockSize,V=this.B,F=this.h,O=0;O<R;){if(F==0)for(;O<=j;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<R;)if(V[F++]=A.charCodeAt(O++),F==this.blockSize){i(this,V),F=0;break}}else for(;O<R;)if(V[F++]=A[O++],F==this.blockSize){i(this,V),F=0;break}}this.h=F,this.o+=R},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var j=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=j&255,j/=256;for(this.u(A),A=Array(16),R=j=0;4>R;++R)for(var V=0;32>V;V+=8)A[j++]=this.g[R]>>>V&255;return A};function a(A,R){var j=u;return Object.prototype.hasOwnProperty.call(j,A)?j[A]:j[A]=R(A)}function l(A,R){this.h=R;for(var j=[],V=!0,F=A.length-1;0<=F;F--){var O=A[F]|0;V&&O==R||(j[F]=O,V=!1)}this.g=j}var u={};function d(A){return-128<=A&&128>A?a(A,function(R){return new l([R|0],0>R?-1:0)}):new l([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return x;if(0>A)return T(m(-A));for(var R=[],j=1,V=0;A>=j;V++)R[V]=A/j|0,j*=4294967296;return new l(R,0)}function g(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return T(g(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=m(Math.pow(R,8)),V=x,F=0;F<A.length;F+=8){var O=Math.min(8,A.length-F),L=parseInt(A.substring(F,F+O),R);8>O?(O=m(Math.pow(R,O)),V=V.j(O).add(m(L))):(V=V.j(j),V=V.add(m(L)))}return V}var x=d(0),b=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(w(this))return-T(this).m();for(var A=0,R=1,j=0;j<this.g.length;j++){var V=this.i(j);A+=(0<=V?V:4294967296+V)*R,R*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N(this))return"0";if(w(this))return"-"+T(this).toString(A);for(var R=m(Math.pow(A,6)),j=this,V="";;){var F=z(j,R).g;j=k(j,F.j(R));var O=((0<j.g.length?j.g[0]:j.h)>>>0).toString(A);if(j=F,N(j))return O+V;for(;6>O.length;)O="0"+O;V=O+V}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function N(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function w(A){return A.h==-1}n.l=function(A){return A=k(this,A),w(A)?-1:N(A)?0:1};function T(A){for(var R=A.g.length,j=[],V=0;V<R;V++)j[V]=~A.g[V];return new l(j,~A.h).add(b)}n.abs=function(){return w(this)?T(this):this},n.add=function(A){for(var R=Math.max(this.g.length,A.g.length),j=[],V=0,F=0;F<=R;F++){var O=V+(this.i(F)&65535)+(A.i(F)&65535),L=(O>>>16)+(this.i(F)>>>16)+(A.i(F)>>>16);V=L>>>16,O&=65535,L&=65535,j[F]=L<<16|O}return new l(j,j[j.length-1]&-2147483648?-1:0)};function k(A,R){return A.add(T(R))}n.j=function(A){if(N(this)||N(A))return x;if(w(this))return w(A)?T(this).j(T(A)):T(T(this).j(A));if(w(A))return T(this.j(T(A)));if(0>this.l(E)&&0>A.l(E))return m(this.m()*A.m());for(var R=this.g.length+A.g.length,j=[],V=0;V<2*R;V++)j[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<A.g.length;F++){var O=this.i(V)>>>16,L=this.i(V)&65535,ge=A.i(F)>>>16,de=A.i(F)&65535;j[2*V+2*F]+=L*de,M(j,2*V+2*F),j[2*V+2*F+1]+=O*de,M(j,2*V+2*F+1),j[2*V+2*F+1]+=L*ge,M(j,2*V+2*F+1),j[2*V+2*F+2]+=O*ge,M(j,2*V+2*F+2)}for(V=0;V<R;V++)j[V]=j[2*V+1]<<16|j[2*V];for(V=R;V<2*R;V++)j[V]=0;return new l(j,0)};function M(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function I(A,R){this.g=A,this.h=R}function z(A,R){if(N(R))throw Error("division by zero");if(N(A))return new I(x,x);if(w(A))return R=z(T(A),R),new I(T(R.g),T(R.h));if(w(R))return R=z(A,T(R)),new I(T(R.g),R.h);if(30<A.g.length){if(w(A)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var j=b,V=R;0>=V.l(A);)j=U(j),V=U(V);var F=$(j,1),O=$(V,1);for(V=$(V,2),j=$(j,2);!N(V);){var L=O.add(V);0>=L.l(A)&&(F=F.add(j),O=L),V=$(V,1),j=$(j,1)}return R=k(A,F.j(R)),new I(F,R)}for(F=x;0<=A.l(R);){for(j=Math.max(1,Math.floor(A.m()/R.m())),V=Math.ceil(Math.log(j)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),O=m(j),L=O.j(R);w(L)||0<L.l(A);)j-=V,O=m(j),L=O.j(R);N(O)&&(O=b),F=F.add(O),A=k(A,L)}return new I(F,A)}n.A=function(A){return z(this,A).h},n.and=function(A){for(var R=Math.max(this.g.length,A.g.length),j=[],V=0;V<R;V++)j[V]=this.i(V)&A.i(V);return new l(j,this.h&A.h)},n.or=function(A){for(var R=Math.max(this.g.length,A.g.length),j=[],V=0;V<R;V++)j[V]=this.i(V)|A.i(V);return new l(j,this.h|A.h)},n.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),j=[],V=0;V<R;V++)j[V]=this.i(V)^A.i(V);return new l(j,this.h^A.h)};function U(A){for(var R=A.g.length+1,j=[],V=0;V<R;V++)j[V]=A.i(V)<<1|A.i(V-1)>>>31;return new l(j,A.h)}function $(A,R){var j=R>>5;R%=32;for(var V=A.g.length-j,F=[],O=0;O<V;O++)F[O]=0<R?A.i(O+j)>>>R|A.i(O+j+1)<<32-R:A.i(O+j);return new l(F,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AT=s,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,ya=l}).apply(typeof M1<"u"?M1:typeof self<"u"?self:typeof window<"u"?window:{});var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CT,Eu,kT,wf,O0,RT,jT,IT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,S){return p==Array.prototype||p==Object.prototype||(p[_]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof $h=="object"&&$h];for(var _=0;_<p.length;++_){var S=p[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=t(this);function i(p,_){if(_)e:{var S=s;p=p.split(".");for(var P=0;P<p.length-1;P++){var Q=p[P];if(!(Q in S))break e;S=S[Q]}p=p[p.length-1],P=S[p],_=_(P),_!=P&&_!=null&&e(S,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var S=0,P=!1,Q={next:function(){if(!P&&S<p.length){var ie=S++;return{value:_(ie,p[ie]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(p){return p||function(){return a(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function m(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,S){return p.call.apply(p.bind,arguments)}function x(p,_,S){if(!p)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,P),p.apply(_,Q)}}return function(){return p.apply(_,arguments)}}function b(p,_,S){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:x,b.apply(null,arguments)}function E(p,_){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),p.apply(this,P)}}function N(p,_){function S(){}S.prototype=_.prototype,p.aa=_.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(P,Q,ie){for(var ve=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)ve[mt-2]=arguments[mt];return _.prototype[Q].apply(P,ve)}}function w(p){const _=p.length;if(0<_){const S=Array(_);for(let P=0;P<_;P++)S[P]=p[P];return S}return[]}function T(p,_){for(let S=1;S<arguments.length;S++){const P=arguments[S];if(d(P)){const Q=p.length||0,ie=P.length||0;p.length=Q+ie;for(let ve=0;ve<ie;ve++)p[Q+ve]=P[ve]}else p.push(P)}}class k{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(p){return/^[\s\xa0]*$/.test(p)}function I(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function z(p){return z[" "](p),p}z[" "]=function(){};var U=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function $(p,_,S){for(const P in p)_.call(S,p[P],P,p)}function A(p,_){for(const S in p)_.call(void 0,p[S],S,p)}function R(p){const _={};for(const S in p)_[S]=p[S];return _}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(p,_){let S,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(S in P)p[S]=P[S];for(let ie=0;ie<j.length;ie++)S=j[ie],Object.prototype.hasOwnProperty.call(P,S)&&(p[S]=P[S])}}function F(p){var _=1;p=p.split(":");const S=[];for(;0<_&&p.length;)S.push(p.shift()),_--;return p.length&&S.push(p.join(":")),S}function O(p){u.setTimeout(()=>{throw p},0)}function L(){var p=De;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class ge{constructor(){this.h=this.g=null}add(_,S){const P=de.get();P.set(_,S),this.h?this.h.next=P:this.g=P,this.h=P}}var de=new k(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,we=!1,De=new ge,H=()=>{const p=u.Promise.resolve(void 0);ae=()=>{p.then(ne)}};var ne=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(S){O(S)}var _=de;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}we=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};u.addEventListener("test",S,_),u.removeEventListener("test",S,_)}catch{}return p}();function xe(p,_){if(re.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,P=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(U){e:{try{z(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else S=="mouseover"?_=p.fromElement:S=="mouseout"&&(_=p.toElement);this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ye[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&xe.aa.h.call(this)}}N(xe,re);var ye={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),be=0;function Ke(p,_,S,P,Q){this.listener=p,this.proxy=null,this.src=_,this.type=S,this.capture=!!P,this.ha=Q,this.key=++be,this.da=this.fa=!1}function qe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Me(p){this.src=p,this.g={},this.h=0}Me.prototype.add=function(p,_,S,P,Q){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var ve=ut(p,_,P,Q);return-1<ve?(_=p[ve],S||(_.fa=!1)):(_=new Ke(_,this.src,ie,!!P,Q),_.fa=S,p.push(_)),_};function Qe(p,_){var S=_.type;if(S in p.g){var P=p.g[S],Q=Array.prototype.indexOf.call(P,_,void 0),ie;(ie=0<=Q)&&Array.prototype.splice.call(P,Q,1),ie&&(qe(_),p.g[S].length==0&&(delete p.g[S],p.h--))}}function ut(p,_,S,P){for(var Q=0;Q<p.length;++Q){var ie=p[Q];if(!ie.da&&ie.listener==_&&ie.capture==!!S&&ie.ha==P)return Q}return-1}var q="closure_lm_"+(1e6*Math.random()|0),X={};function te(p,_,S,P,Q){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)te(p,_[ie],S,P,Q);return null}return S=It(S),p&&p[Ie]?p.K(_,S,m(P)?!!P.capture:!1,Q):Se(p,_,S,!1,P,Q)}function Se(p,_,S,P,Q,ie){if(!_)throw Error("Invalid event type");var ve=m(Q)?!!Q.capture:!!Q,mt=ke(p);if(mt||(p[q]=mt=new Me(p)),S=mt.add(_,S,P,ve,ie),S.proxy)return S;if(P=Oe(),S.proxy=P,P.src=p,P.listener=S,p.addEventListener)me||(Q=ve),Q===void 0&&(Q=!1),p.addEventListener(_.toString(),P,Q);else if(p.attachEvent)p.attachEvent(_e(_.toString()),P);else if(p.addListener&&p.removeListener)p.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Oe(){function p(S){return _.call(p.src,p.listener,S)}const _=tt;return p}function We(p,_,S,P,Q){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)We(p,_[ie],S,P,Q);else P=m(P)?!!P.capture:!!P,S=It(S),p&&p[Ie]?(p=p.i,_=String(_).toString(),_ in p.g&&(ie=p.g[_],S=ut(ie,S,P,Q),-1<S&&(qe(ie[S]),Array.prototype.splice.call(ie,S,1),ie.length==0&&(delete p.g[_],p.h--)))):p&&(p=ke(p))&&(_=p.g[_.toString()],p=-1,_&&(p=ut(_,S,P,Q)),(S=-1<p?_[p]:null)&&ze(S))}function ze(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[Ie])Qe(_.i,p);else{var S=p.type,P=p.proxy;_.removeEventListener?_.removeEventListener(S,P,p.capture):_.detachEvent?_.detachEvent(_e(S),P):_.addListener&&_.removeListener&&_.removeListener(P),(S=ke(_))?(Qe(S,p),S.h==0&&(S.src=null,_[q]=null)):qe(p)}}}function _e(p){return p in X?X[p]:X[p]="on"+p}function tt(p,_){if(p.da)p=!0;else{_=new xe(_,this);var S=p.listener,P=p.ha||p.src;p.fa&&ze(p),p=S.call(P,_)}return p}function ke(p){return p=p[q],p instanceof Me?p:null}var ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(p){return typeof p=="function"?p:(p[ft]||(p[ft]=function(_){return p.handleEvent(_)}),p[ft])}function Xe(){he.call(this),this.i=new Me(this),this.M=this,this.F=null}N(Xe,he),Xe.prototype[Ie]=!0,Xe.prototype.removeEventListener=function(p,_,S,P){We(this,p,_,S,P)};function Pe(p,_){var S,P=p.F;if(P)for(S=[];P;P=P.F)S.push(P);if(p=p.M,P=_.type||_,typeof _=="string")_=new re(_,p);else if(_ instanceof re)_.target=_.target||p;else{var Q=_;_=new re(P,p),V(_,Q)}if(Q=!0,S)for(var ie=S.length-1;0<=ie;ie--){var ve=_.g=S[ie];Q=He(ve,P,!0,_)&&Q}if(ve=_.g=p,Q=He(ve,P,!0,_)&&Q,Q=He(ve,P,!1,_)&&Q,S)for(ie=0;ie<S.length;ie++)ve=_.g=S[ie],Q=He(ve,P,!1,_)&&Q}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var S=p.g[_],P=0;P<S.length;P++)qe(S[P]);delete p.g[_],p.h--}}this.F=null},Xe.prototype.K=function(p,_,S,P){return this.i.add(String(p),_,!1,S,P)},Xe.prototype.L=function(p,_,S,P){return this.i.add(String(p),_,!0,S,P)};function He(p,_,S,P){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,ie=0;ie<_.length;++ie){var ve=_[ie];if(ve&&!ve.da&&ve.capture==S){var mt=ve.listener,dn=ve.ha||ve.src;ve.fa&&Qe(p.i,ve),Q=mt.call(dn,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function nt(p,_,S){if(typeof p=="function")S&&(p=b(p,S));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(p,_||0)}function st(p){p.g=nt(()=>{p.g=null,p.i&&(p.i=!1,st(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class qn extends he{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(p){he.call(this),this.h=p,this.g={}}N(un,he);var Bt=[];function Ft(p){$(p.g,function(_,S){this.g.hasOwnProperty(S)&&ze(_)},p),p.g={}}un.prototype.N=function(){un.aa.N.call(this),Ft(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=u.JSON.stringify,Wn=u.JSON.parse,Fe=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function _s(){}_s.prototype.h=null;function Bs(p){return p.h||(p.h=p.i())}function Nr(){}var Fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function os(){re.call(this,"d")}N(os,re);function Sr(){re.call(this,"c")}N(Sr,re);var ls={},Ar=null;function si(){return Ar=Ar||new Xe}ls.La="serverreachability";function Oi(p){re.call(this,ls.La,p)}N(Oi,re);function ii(p){const _=si();Pe(_,new Oi(_))}ls.STAT_EVENT="statevent";function Io(p,_){re.call(this,ls.STAT_EVENT,p),this.stat=_}N(Io,re);function Dt(p){const _=si();Pe(_,new Io(_,p))}ls.Ma="timingevent";function Yt(p,_){re.call(this,ls.Ma,p),this.size=_}N(Yt,re);function Gt(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},_)}function Et(){this.g=!0}Et.prototype.xa=function(){this.g=!1};function yn(p,_,S,P,Q,ie){p.info(function(){if(p.g)if(ie)for(var ve="",mt=ie.split("&"),dn=0;dn<mt.length;dn++){var pt=mt[dn].split("=");if(1<pt.length){var bn=pt[0];pt=pt[1];var hn=bn.split("_");ve=2<=hn.length&&hn[1]=="type"?ve+(bn+"="+pt+"&"):ve+(bn+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+_+`
`+S+`
`+ve})}function Pi(p,_,S,P,Q,ie,ve){p.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+_+`
`+S+`
`+ie+" "+ve})}function cs(p,_,S,P){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+ja(p,S)+(P?" "+P:"")})}function _d(p,_){p.info(function(){return"TIMEOUT: "+_})}Et.prototype.info=function(){};function ja(p,_){if(!p.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var P=S[p];if(!(2>P.length)){var Q=P[1];if(Array.isArray(Q)&&!(1>Q.length)){var ie=Q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Q.length;ve++)Q[ve]=""}}}}return dt(S)}catch{return _}}var Cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function ai(){}N(ai,_s),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},ri=new ai;function Yn(p,_,S,P){this.j=p,this.i=_,this.l=S,this.R=P||1,this.U=new un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var fc={},Do={};function $s(p,_,S){p.L=1,p.v=Pa(us(_)),p.m=S,p.P=!0,Vi(p,null)}function Vi(p,_){p.F=Date.now(),Ia(p),p.A=us(p.v);var S=p.A,P=p.R;Array.isArray(P)||(P=[String(P)]),bc(S.i,"t",P),p.C=0,S=p.j.J,p.h=new Kt,p.g=Ld(p.j,S?_:null,!p.m),0<p.O&&(p.M=new qn(b(p.Y,p,p.g),p.O)),_=p.U,S=p.g,P=p.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Bt[0]=Q.toString()),Q=Bt);for(var ie=0;ie<Q.length;ie++){var ve=te(S,Q[ie],P||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),ii(),yn(p.i,p.u,p.A,p.l,p.R,p.m)}Yn.prototype.ca=function(p){p=p.target;const _=this.M;_&&Ns(p)==3?_.j():this.Y(p)},Yn.prototype.Y=function(p){try{if(p==this.g)e:{const hn=Ns(this.g);var _=this.g.Ba();const qi=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||kd(this.g)))){this.J||hn!=4||_==7||(_==8||0>=qi?ii(3):ii(2)),kr(this);var S=this.g.Z();this.X=S;t:if(wd(this)){var P=kd(this.g);p="";var Q=P.length,ie=Ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),oi(this);var ve="";break t}this.h.i=new u.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,p+=this.h.i.decode(P[_],{stream:!(ie&&_==Q-1)});P.length=0,this.h.g+=p,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=S==200,Pi(this.i,this.u,this.A,this.l,this.R,hn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,dn=this.g;if((mt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(mt)){var pt=mt;break t}}pt=null}if(S=pt)cs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,S);else{this.o=!1,this.s=3,Dt(12),Cn(this),oi(this);break e}}if(this.P){S=!0;let kn;for(;!this.J&&this.C<ve.length;)if(kn=Ed(this,ve),kn==Do){hn==4&&(this.s=4,Dt(14),S=!1),cs(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==fc){this.s=4,Dt(15),cs(this.i,this.l,ve,"[Invalid Chunk]"),S=!1;break}else cs(this.i,this.l,kn,null),Da(this,kn);if(wd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||ve.length!=0||this.h.h||(this.s=1,Dt(16),S=!1),this.o=this.o&&S,!S)cs(this.i,this.l,ve,"[Invalid Chunked Response]"),Cn(this),oi(this);else if(0<ve.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ha(bn),bn.M=!0,Dt(11))}}else cs(this.i,this.l,ve,null),Da(this,ve);hn==4&&Cn(this),this.o&&!this.J&&(hn==4?Md(this.j,this):(this.o=!1,Ia(this)))}else Hm(this.g),S==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Cn(this),oi(this)}}}catch{}finally{}};function wd(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ed(p,_){var S=p.C,P=_.indexOf(`
`,S);return P==-1?Do:(S=Number(_.substring(S,P)),isNaN(S)?fc:(P+=1,P+S>_.length?Do:(_=_.slice(P,P+S),p.C=P+S,_)))}Yn.prototype.cancel=function(){this.J=!0,Cn(this)};function Ia(p){p.S=Date.now()+p.I,Td(p,p.I)}function Td(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Gt(b(p.ba,p),_)}function kr(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Yn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(_d(this.i,this.A),this.L!=2&&(ii(),Dt(17)),Cn(this),this.s=2,oi(this)):Td(this,this.S-p)};function oi(p){p.j.G==0||p.J||Md(p.j,p)}function Cn(p){kr(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,Ft(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function Da(p,_){try{var S=p.j;if(S.G!=0&&(S.g==p||mc(S.h,p))){if(!p.K&&mc(S.h,p)&&S.G==3){try{var P=S.Da.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Go(S),$o(S);else break e;Tc(S),Dt(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=Gt(b(S.Za,S),6e3));if(1>=Oo(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Gi(S,11)}else if((p.K||S.g==p)&&Go(S),!M(_))for(Q=S.Da.g.parse(_),_=0;_<Q.length;_++){let pt=Q[_];if(S.T=pt[0],pt=pt[1],S.G==2)if(pt[0]=="c"){S.K=pt[1],S.ia=pt[2];const bn=pt[3];bn!=null&&(S.la=bn,S.j.info("VER="+S.la));const hn=pt[4];hn!=null&&(S.Aa=hn,S.j.info("SVER="+S.Aa));const qi=pt[5];qi!=null&&typeof qi=="number"&&0<qi&&(P=1.5*qi,S.L=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const kn=p.g;if(kn){const mi=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var ie=P.h;ie.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Po(ie,ie.h),ie.h=null))}if(P.D){const Sc=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sc&&(P.ya=Sc,At(P.I,P.D,Sc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),P=S;var ve=p;if(P.qa=Pd(P,P.J?P.ia:null,P.W),ve.K){Kn(P.h,ve);var mt=ve,dn=P.L;dn&&(mt.I=dn),mt.B&&(kr(mt),Ia(mt)),P.g=ve}else Id(P);0<S.i.length&&Ho(S)}else pt[0]!="stop"&&pt[0]!="close"||Gi(S,7);else S.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Gi(S,7):wc(S):pt[0]!="noop"&&S.l&&S.l.ta(pt),S.v=0)}}ii(4)}catch{}}var Nd=class{constructor(p,_){this.g=p,this.map=_}};function zi(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mo(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Oo(p){return p.h?1:p.g?p.g.size:0}function mc(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Po(p,_){p.g?p.g.add(_):p.h=_}function Kn(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}zi.prototype.cancel=function(){if(this.i=pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function pc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const S of p.g.values())_=_.concat(S.D);return _}return w(p.i)}function Um(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var _=[],S=p.length,P=0;P<S;P++)_.push(p[P]);return _}_=[],S=0;for(P in p)_[S++]=p[P];return _}function Lo(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var _=[];p=p.length;for(var S=0;S<p;S++)_.push(S);return _}_=[],S=0;for(const P in p)_[S++]=P;return _}}}function gc(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var S=Lo(p),P=Um(p),Q=P.length,ie=0;ie<Q;ie++)_.call(void 0,P[ie],S&&S[ie],p)}var Ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bm(p,_){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var P=p[S].indexOf("="),Q=null;if(0<=P){var ie=p[S].substring(0,P);Q=p[S].substring(P+1)}else ie=p[S];_(ie,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function tn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof tn){this.h=p.h,Oa(this,p.j),this.o=p.o,this.g=p.g,Rr(this,p.s),this.l=p.l;var _=p.i,S=new Bi;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),Ui(this,S),this.m=p.m}else p&&(_=String(p).match(Ma))?(this.h=!1,Oa(this,_[1]||"",!0),this.o=ws(_[2]||""),this.g=ws(_[3]||"",!0),Rr(this,_[4]),this.l=ws(_[5]||"",!0),Ui(this,_[6]||"",!0),this.m=ws(_[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}tn.prototype.toString=function(){var p=[],_=this.j;_&&p.push(La(_,yc,!0),":");var S=this.g;return(S||_=="file")&&(p.push("//"),(_=this.o)&&p.push(La(_,yc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(La(S,S.charAt(0)=="/"?Fm:xc,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",La(S,Vo)),p.join("")};function us(p){return new tn(p)}function Oa(p,_,S){p.j=S?ws(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Rr(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function Ui(p,_,S){_ instanceof Bi?(p.i=_,Ad(p.i,p.h)):(S||(_=La(_,$m)),p.i=new Bi(_,p.h))}function At(p,_,S){p.i.set(_,S)}function Pa(p){return At(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ws(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function La(p,_,S){return typeof p=="string"?(p=encodeURI(p).replace(_,Sd),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Sd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var yc=/[#\/\?@]/g,xc=/[#\?:]/g,Fm=/[#\?]/g,$m=/[#\?@]/g,Vo=/#/g;function Bi(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Es(p){p.g||(p.g=new Map,p.h=0,p.i&&Bm(p.i,function(_,S){p.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=Bi.prototype,n.add=function(p,_){Es(this),this.i=null,p=li(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(_),this.h+=1,this};function Fi(p,_){Es(p),_=li(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function $i(p,_){return Es(p),_=li(p,_),p.g.has(_)}n.forEach=function(p,_){Es(this),this.g.forEach(function(S,P){S.forEach(function(Q){p.call(_,Q,P,this)},this)},this)},n.na=function(){Es(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let P=0;P<_.length;P++){const Q=p[P];for(let ie=0;ie<Q.length;ie++)S.push(_[P])}return S},n.V=function(p){Es(this);let _=[];if(typeof p=="string")$i(this,p)&&(_=_.concat(this.g.get(li(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)_=_.concat(p[S])}return _},n.set=function(p,_){return Es(this),this.i=null,p=li(this,p),$i(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function bc(p,_,S){Fi(p,_),0<S.length&&(p.i=null,p.g.set(li(p,_),w(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var P=_[S];const ie=encodeURIComponent(String(P)),ve=this.V(P);for(P=0;P<ve.length;P++){var Q=ie;ve[P]!==""&&(Q+="="+encodeURIComponent(String(ve[P]))),p.push(Q)}}return this.i=p.join("&")};function li(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Ad(p,_){_&&!p.j&&(Es(p),p.i=null,p.g.forEach(function(S,P){var Q=P.toLowerCase();P!=Q&&(Fi(this,P),bc(this,Q,S))},p)),p.j=_}function Va(p,_){const S=new Et;if(u.Image){const P=new Image;P.onload=E(Ts,S,"TestLoadImage: loaded",!0,_,P),P.onerror=E(Ts,S,"TestLoadImage: error",!1,_,P),P.onabort=E(Ts,S,"TestLoadImage: abort",!1,_,P),P.ontimeout=E(Ts,S,"TestLoadImage: timeout",!1,_,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=p}else _(!1)}function Hs(p,_){const S=new Et,P=new AbortController,Q=setTimeout(()=>{P.abort(),Ts(S,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:P.signal}).then(ie=>{clearTimeout(Q),ie.ok?Ts(S,"TestPingServer: ok",!0,_):Ts(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Ts(S,"TestPingServer: error",!1,_)})}function Ts(p,_,S,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(S)}catch{}}function za(){this.g=new Fe}function ci(p,_,S){const P=S||"";try{gc(p,function(Q,ie){let ve=Q;m(Q)&&(ve=dt(Q)),_.push(P+ie+"="+encodeURIComponent(ve))})}catch(Q){throw _.push(P+"type="+encodeURIComponent("_badmap")),Q}}function jr(p){this.l=p.Ub||null,this.j=p.eb||!1}N(jr,_s),jr.prototype.g=function(){return new Hi(this.l,this.j)},jr.prototype.i=function(p){return function(){return p}}({});function Hi(p,_){Xe.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Hi,Xe),n=Hi.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,di(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function vc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?ui(this):di(this),this.readyState==3&&vc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,ui(this))},n.Qa=function(p){this.g&&(this.response=p,ui(this))},n.ga=function(){this.g&&ui(this)};function ui(p){p.readyState=4,p.l=null,p.j=null,p.v=null,di(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=_.next();return p.join(`\r
`)};function di(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function _c(p){let _="";return $(p,function(S,P){_+=P,_+=":",_+=S,_+=`\r
`}),_}function xn(p,_,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=_c(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):At(p,_,S))}function _t(p){Xe.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(_t,Xe);var zo=/^https?$/i,Ua=["POST","PUT"];n=_t.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Bs(this.o):Bs(ri),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(ie){Cd(this,ie);return}if(p=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)S.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ie of P.keys())S.set(ie,P.get(ie));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ua,_,void 0))||P||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of S)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){Cd(this,ie)}};function Cd(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Uo(p),hi(p)}function Uo(p){p.A||(p.A=!0,Pe(p,"complete"),Pe(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Pe(this,"complete"),Pe(this,"abort"),hi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Bo(this):this.bb())},n.bb=function(){Bo(this)};function Bo(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Ns(p)!=4||p.Z()!=2)){if(p.u&&Ns(p)==4)nt(p.Ea,0,p);else if(Pe(p,"readystatechange"),Ns(p)==4){p.h=!1;try{const ve=p.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var P;if(P=ve===0){var Q=String(p.D).match(Ma)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),P=!zo.test(Q?Q.toLowerCase():"")}S=P}if(S)Pe(p,"complete"),Pe(p,"success");else{p.m=6;try{var ie=2<Ns(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",Uo(p)}}finally{hi(p)}}}}function hi(p,_){if(p.g){Ba(p);const S=p.g,P=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Pe(p,"ready");try{S.onreadystatechange=P}catch{}}}function Ba(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Ns(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Ns(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),Wn(_)}};function kd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Hm(p){const _={};p=(p.g&&2<=Ns(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<p.length;P++){if(M(p[P]))continue;var S=F(p[P]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ie=_[Q]||[];_[Q]=ie,ie.push(S)}A(_,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(p,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||_}function Fo(p){this.Aa=0,this.i=[],this.j=new Et,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,p),this.cb=Fa("retryDelaySeedMs",1e4,p),this.Wa=Fa("forwardChannelMaxRetries",2,p),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(p&&p.concurrentRequestLimit),this.Da=new za,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fo.prototype,n.la=8,n.G=1,n.connect=function(p,_,S,P){Dt(0),this.W=p,this.H=_||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.I=Pd(this,null,this.W),Ho(this)};function wc(p){if(Rd(p),p.G==3){var _=p.U++,S=us(p.I);if(At(S,"SID",p.K),At(S,"RID",_),At(S,"TYPE","terminate"),$a(p,S),_=new Yn(p,p.j,_),_.L=2,_.v=Pa(us(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=_.v,S=!0),S||(_.g=Ld(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ia(_)}Od(p)}function $o(p){p.g&&(Ha(p),p.g.cancel(),p.g=null)}function Rd(p){$o(p),p.u&&(u.clearTimeout(p.u),p.u=null),Go(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Ho(p){if(!Mo(p.h)&&!p.s){p.s=!0;var _=p.Ga;ae||H(),we||(ae(),we=!0),De.add(_,p),p.B=0}}function Gm(p,_){return Oo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Gt(b(p.Ga,p,_),Nc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Q=new Yn(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=R(ie),V(ie,this.S)):ie=this.S),this.m!==null||this.O||(Q.H=ie,ie=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=jd(this,Q,_),S=us(this.I),At(S,"RID",p),At(S,"CVER",22),this.D&&At(S,"X-HTTP-Session-Id",this.D),$a(this,S),ie&&(this.O?_="headers="+encodeURIComponent(String(_c(ie)))+"&"+_:this.m&&xn(S,this.m,ie)),Po(this.h,Q),this.Ua&&At(S,"TYPE","init"),this.P?(At(S,"$req",_),At(S,"SID","null"),Q.T=!0,$s(Q,S,null)):$s(Q,S,_),this.G=2}}else this.G==3&&(p?Ec(this,p):this.i.length==0||Mo(this.h)||Ec(this))};function Ec(p,_){var S;_?S=_.l:S=p.U++;const P=us(p.I);At(P,"SID",p.K),At(P,"RID",S),At(P,"AID",p.T),$a(p,P),p.m&&p.o&&xn(P,p.m,p.o),S=new Yn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),_&&(p.i=_.D.concat(p.i)),_=jd(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Po(p.h,S),$s(S,P,_)}function $a(p,_){p.H&&$(p.H,function(S,P){At(_,P,S)}),p.l&&gc({},function(S,P){At(_,P,S)})}function jd(p,_,S){S=Math.min(p.i.length,S);var P=p.l?b(p.l.Na,p.l,p):null;e:{var Q=p.i;let ie=-1;for(;;){const ve=["count="+S];ie==-1?0<S?(ie=Q[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let mt=!0;for(let dn=0;dn<S;dn++){let pt=Q[dn].g;const bn=Q[dn].map;if(pt-=ie,0>pt)ie=Math.max(0,Q[dn].g-100),mt=!1;else try{ci(bn,ve,"req"+pt+"_")}catch{P&&P(bn)}}if(mt){P=ve.join("&");break e}}}return p=p.i.splice(0,S),_.D=p,P}function Id(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;ae||H(),we||(ae(),we=!0),De.add(_,p),p.v=0}}function Tc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Gt(b(p.Fa,p),Nc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Dd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Gt(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),$o(this),Dd(this))};function Ha(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Dd(p){p.g=new Yn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=us(p.qa);At(_,"RID","rpc"),At(_,"SID",p.K),At(_,"AID",p.T),At(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&At(_,"TO",p.ja),At(_,"TYPE","xmlhttp"),$a(p,_),p.m&&p.o&&xn(_,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=Pa(us(_)),S.m=null,S.P=!0,Vi(S,p)}n.Za=function(){this.C!=null&&(this.C=null,$o(this),Tc(this),Dt(19))};function Go(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Md(p,_){var S=null;if(p.g==_){Go(p),Ha(p),p.g=null;var P=2}else if(mc(p.h,_))S=_.D,Kn(p.h,_),P=1;else return;if(p.G!=0){if(_.o)if(P==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var Q=p.B;P=si(),Pe(P,new Yt(P,S)),Ho(p)}else Id(p);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(P==1&&Gm(p,_)||P==2&&Tc(p)))switch(S&&0<S.length&&(_=p.h,_.i=_.i.concat(S)),Q){case 1:Gi(p,5);break;case 4:Gi(p,10);break;case 3:Gi(p,6);break;default:Gi(p,2)}}}function Nc(p,_){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*_}function Gi(p,_){if(p.j.info("Error code "+_),_==2){var S=b(p.fb,p),P=p.Xa;const Q=!P;P=new tn(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Oa(P,"https"),Pa(P),Q?Va(P.toString(),S):Hs(P.toString(),S)}else Dt(2);p.G=0,p.l&&p.l.sa(_),Od(p),Rd(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Od(p){if(p.G=0,p.ka=[],p.l){const _=pc(p.h);(_.length!=0||p.i.length!=0)&&(T(p.ka,_),T(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function Pd(p,_,S){var P=S instanceof tn?us(S):new tn(S);if(P.g!="")_&&(P.g=_+"."+P.g),Rr(P,P.s);else{var Q=u.location;P=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var ie=new tn(null);P&&Oa(ie,P),_&&(ie.g=_),Q&&Rr(ie,Q),S&&(ie.l=S),P=ie}return S=p.D,_=p.ya,S&&_&&At(P,S,_),At(P,"VER",p.la),$a(p,P),P}function Ld(p,_,S){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new _t(new jr({eb:S})):new _t(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vd(){}n=Vd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function qo(){}qo.prototype.g=function(p,_){return new Xn(p,_)};function Xn(p,_){Xe.call(this),this.g=new Fo(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!M(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new fi(this)}N(Xn,Xe),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){wc(this.g)},Xn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=dt(p),p=S);_.i.push(new Nd(_.Ya++,p)),_.G==3&&Ho(_)},Xn.prototype.N=function(){this.g.l=null,delete this.j,wc(this.g),delete this.g,Xn.aa.N.call(this)};function zd(p){os.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const S in _){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}N(zd,os);function Ud(){Sr.call(this),this.status=1}N(Ud,Sr);function fi(p){this.g=p}N(fi,Vd),fi.prototype.ua=function(){Pe(this.g,"a")},fi.prototype.ta=function(p){Pe(this.g,new zd(p))},fi.prototype.sa=function(p){Pe(this.g,new Ud)},fi.prototype.ra=function(){Pe(this.g,"b")},qo.prototype.createWebChannel=qo.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,IT=function(){return new qo},jT=function(){return si()},RT=ls,O0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,wf=Cr,Li.COMPLETE="complete",kT=Li,Nr.EventType=Fs,Fs.OPEN="a",Fs.CLOSE="b",Fs.ERROR="c",Fs.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Eu=Nr,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,CT=_t}).apply(typeof $h<"u"?$h:typeof self<"u"?self:typeof window<"u"?window:{});const O1="@firebase/firestore",P1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new vy("@firebase/firestore");function Nl(){return To.logLevel}function Ne(n,...e){if(To.logLevel<=at.DEBUG){const t=e.map(jy);To.debug(`Firestore (${nc}): ${n}`,...t)}}function br(n,...e){if(To.logLevel<=at.ERROR){const t=e.map(jy);To.error(`Firestore (${nc}): ${n}`,...t)}}function zl(n,...e){if(To.logLevel<=at.WARN){const t=e.map(jy);To.warn(`Firestore (${nc}): ${n}`,...t)}}function jy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,DT(n,s,t)}function DT(n,e,t){let s=`FIRESTORE (${nc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw br(s),new Error(s)}function wt(n,e,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,n||DT(e,i,s)}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Un.UNAUTHENTICATED))}shutdown(){}}class O5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class P5{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wt(this.o===void 0,42304);let s=this.i;const i=d=>this.i!==s?(s=this.i,t(d)):Promise.resolve();let a=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new pr,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pr)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wt(typeof s.accessToken=="string",31837,{l:s}),new MT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class L5{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V5{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new L5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wt(this.o===void 0,3512);const s=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new L1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new L1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=U5(40);for(let a=0;a<i.length;++a)s.length<20&&i[a]<t&&(s+=e.charAt(i[a]%62))}return s}}function ot(n,e){return n<e?-1:n>e?1:0}function P0(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const i=n.charAt(s),a=e.charAt(s);if(i!==a)return Qg(i)===Qg(a)?ot(i,a):Qg(i)?1:-1}return ot(n.length,e.length)}const B5=55296,F5=57343;function Qg(n){const e=n.charCodeAt(0);return e>=B5&&e<=F5}function Ul(n,e,t){return n.length===e.length&&n.every((s,i)=>t(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="__name__";class Ei{constructor(e,t,s){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Be(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let i=0;i<s;i++){const a=Ei.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return ot(e.length,t.length)}static compareSegments(e,t){const s=Ei.isNumericId(e),i=Ei.isNumericId(t);return s&&!i?-1:!s&&i?1:s&&i?Ei.extractNumericId(e).compare(Ei.extractNumericId(t)):P0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class Ot extends Ei{construct(e,t,s){return new Ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(i=>i.length>0))}return new Ot(t)}static emptyPath(){return new Ot([])}}const $5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Ei{construct(e,t,s){return new Mn(e,t,s)}static isValidIdentifier(e){return $5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V1}static keyField(){return new Mn([V1])}static fromServerFormat(e){const t=[];let s="",i=0;const a=()=>{if(s.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(s+=u,i++):(a(),i++)}if(a(),l)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(t)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Ot.fromString(e))}static fromName(e){return new je(Ot.fromString(e).popFirst(5))}static empty(){return new je(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n,e,t){if(!t)throw new Te(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function H5(n,e,t,s){if(e===!0&&s===!0)throw new Te(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z1(n){if(!je.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function U1(n){if(je.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function PT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fm(n);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(n,e){const t={typeString:n};return e&&(t.value=e),t}function hd(n,e){if(!PT(n))throw new Te(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const i=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const l=n[s];if(i&&typeof l!==i){t=`JSON field '${s}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${s}' field to equal '${a.value}'`;break}}if(t)throw new Te(ce.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=-62135596800,F1=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*F1);return new Vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<B1)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F1}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hd(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:ln("string",Vt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Vt(0,0))}static max(){return new Ge(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=-1;function G5(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(s===1e9?new Vt(t+1,0):new Vt(t,s));return new _a(i,je.empty(),e)}function q5(n){return new _a(n.readTime,n.key,Hu)}class _a{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new _a(Ge.min(),je.empty(),Hu)}static max(){return new _a(Ge.max(),je.empty(),Hu)}}function W5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==Y5)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((s,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(s,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,s)=>{t(e)})}static reject(e){return new fe((t,s)=>{s(e)})}static waitFor(e){return new fe((t,s)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},d=>s(d))}),l=!0,a===i&&t()})}static or(e){let t=fe.resolve(!1);for(const s of e)t=t.next(i=>i?fe.resolve(i):s());return t}static forEach(e,t){const s=[];return e.forEach((i,a)=>{s.push(t.call(this,i,a))}),this.waitFor(s)}static mapArray(e,t){return new fe((s,i)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const m=d;t(e[m]).next(g=>{l[m]=g,++u,u===a&&s(l)},g=>i(g))}})}static doWhile(e,t){return new fe((s,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):s()};a()})}}function X5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ic(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=-1;function pm(n){return n==null}function Ff(n){return n===0&&1/n==-1/0}function Q5(n){return typeof n=="number"&&Number.isInteger(n)&&!Ff(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function J5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$1(e)),e=Z5(n.get(t),e);return $1(e)}function Z5(n,e){let t=e;const s=n.length;for(let i=0;i<s;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case LT:t+="";break;default:t+=a}}return t}function $1(n){return n+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ka(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return t+s.left.size;i<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,t,s,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,s,i,a){this.key=e,this.value=t,this.color=s??Dn.RED,this.left=i??Dn.EMPTY,this.right=a??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,i,a){return new Dn(e??this.key,t??this.value,s??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this;const a=s(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,s),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Dn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,s,i,a){return this}insert(e,t,s){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G1(this.data.getIterator())}getIteratorFrom(e){return new G1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=s.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pn(this.comparator);return t.data=e,t}}class G1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new bs([])}unionWith(e){let t=new pn(Mn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zT("Invalid base64 string: "+a):a}}(e);return new On(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new On(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const eM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(n){if(wt(!!n,39018),typeof n=="string"){let e=0;const t=eM.exec(n);if(wt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Jt(n.seconds),nanos:Jt(n.nanos)}}function Jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ea(n){return typeof n=="string"?On.fromBase64String(n):On.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="server_timestamp",BT="__type__",FT="__previous_value__",$T="__local_write_time__";function My(n){return(n?.mapValue?.fields||{})[BT]?.stringValue===UT}function gm(n){const e=n.mapValue.fields[FT];return My(e)?gm(e):e}function Gu(n){const e=wa(n.mapValue.fields[$T].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,t,s,i,a,l,u,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g}}const $f="(default)";class qu{constructor(e,t){this.projectId=e,this.database=t||$f}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===$f}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__type__",nM="__max__",Gh={mapValue:{}},GT="__vector__",Hf="value";function Ta(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?My(n)?4:iM(n)?9007199254740991:sM(n)?10:11:Be(28295,{value:n})}function Di(n,e){if(n===e)return!0;const t=Ta(n);if(t!==Ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gu(n).isEqual(Gu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=wa(i.timestampValue),u=wa(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Ea(i.bytesValue).isEqual(Ea(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Jt(i.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Jt(i.integerValue)===Jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Jt(i.doubleValue),u=Jt(a.doubleValue);return l===u?Ff(l)===Ff(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Ul(n.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(H1(l)!==H1(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Di(l[d],u[d])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function Wu(n,e){return(n.values||[]).find(t=>Di(t,e))!==void 0}function Bl(n,e){if(n===e)return 0;const t=Ta(n),s=Ta(e);if(t!==s)return ot(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Jt(a.integerValue||a.doubleValue),d=Jt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return q1(n.timestampValue,e.timestampValue);case 4:return q1(Gu(n),Gu(e));case 5:return P0(n.stringValue,e.stringValue);case 6:return function(a,l){const u=Ea(a),d=Ea(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),d=l.split("/");for(let m=0;m<u.length&&m<d.length;m++){const g=ot(u[m],d[m]);if(g!==0)return g}return ot(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=ot(Jt(a.latitude),Jt(l.latitude));return u!==0?u:ot(Jt(a.longitude),Jt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return W1(n.arrayValue,e.arrayValue);case 10:return function(a,l){const u=a.fields||{},d=l.fields||{},m=u[Hf]?.arrayValue,g=d[Hf]?.arrayValue,x=ot(m?.values?.length||0,g?.values?.length||0);return x!==0?x:W1(m,g)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Gh.mapValue&&l===Gh.mapValue)return 0;if(a===Gh.mapValue)return 1;if(l===Gh.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),m=l.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let x=0;x<d.length&&x<g.length;++x){const b=P0(d[x],g[x]);if(b!==0)return b;const E=Bl(u[d[x]],m[g[x]]);if(E!==0)return E}return ot(d.length,g.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{he:t})}}function q1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ot(n,e);const t=wa(n),s=wa(e),i=ot(t.seconds,s.seconds);return i!==0?i:ot(t.nanos,s.nanos)}function W1(n,e){const t=n.values||[],s=e.values||[];for(let i=0;i<t.length&&i<s.length;++i){const a=Bl(t[i],s[i]);if(a)return a}return ot(t.length,s.length)}function Fl(n){return L0(n)}function L0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=wa(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ea(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",i=!0;for(const a of t.values||[])i?i=!1:s+=",",s+=L0(a);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of s)a?a=!1:i+=",",i+=`${l}:${L0(t.fields[l])}`;return i+"}"}(n.mapValue):Be(61005,{value:n})}function Ef(n){switch(Ta(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gm(n);return e?16+Ef(e):16;case 5:return 2*n.stringValue.length;case 6:return Ea(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,a)=>i+Ef(a),0)}(n.arrayValue);case 10:case 11:return function(s){let i=0;return ka(s.fields,(a,l)=>{i+=a.length+Ef(l)}),i}(n.mapValue);default:throw Be(13486,{value:n})}}function Y1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function V0(n){return!!n&&"integerValue"in n}function Oy(n){return!!n&&"arrayValue"in n}function K1(n){return!!n&&"nullValue"in n}function X1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tf(n){return!!n&&"mapValue"in n}function sM(n){return(n?.mapValue?.fields||{})[HT]?.stringValue===GT}function Iu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ka(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Iu(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Iu(n.arrayValue.values[t]);return e}return{...n}}function iM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Tf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(t)}setAll(e){let t=Mn.emptyPath(),s={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,s,i),s={},i=[],t=u.popLast()}l?s[u.lastSegment()]=Iu(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,s,i)}delete(e){const t=this.field(e.popLast());Tf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=t.mapValue.fields[e.get(s)];Tf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,s){ka(t,(i,a)=>e[i]=a);for(const i of s)delete e[i]}clone(){return new is(Iu(this.value))}}function qT(n){const e=[];return ka(n.fields,(t,s)=>{const i=new Mn([t]);if(Tf(s)){const a=qT(s.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new bs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,s,i,a,l,u){this.key=e,this.documentType=t,this.version=s,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Bn(e,0,Ge.min(),Ge.min(),Ge.min(),is.empty(),0)}static newFoundDocument(e,t,s,i){return new Bn(e,1,t,Ge.min(),s,i,0)}static newNoDocument(e,t){return new Bn(e,2,t,Ge.min(),Ge.min(),is.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Ge.min(),Ge.min(),is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.position=e,this.inclusive=t}}function Q1(n,e,t){let s=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?s=je.comparator(je.fromName(l.referenceValue),t.key):s=Bl(l,t.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function J1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t="asc"){this.field=e,this.dir=t}}function rM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{}class on extends WT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new oM(e,t,s):t==="array-contains"?new uM(e,s):t==="in"?new dM(e,s):t==="not-in"?new hM(e,s):t==="array-contains-any"?new fM(e,s):new on(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new lM(e,s):new cM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bl(t,this.value)):t!==null&&Ta(this.value)===Ta(t)&&this.matchesComparison(Bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends WT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ei(e,t)}matches(e){return YT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YT(n){return n.op==="and"}function KT(n){return aM(n)&&YT(n)}function aM(n){for(const e of n.filters)if(e instanceof ei)return!1;return!0}function z0(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Fl(n.value);if(KT(n))return n.filters.map(e=>z0(e)).join(",");{const e=n.filters.map(t=>z0(t)).join(",");return`${n.op}(${e})`}}function XT(n,e){return n instanceof on?function(s,i){return i instanceof on&&s.op===i.op&&s.field.isEqual(i.field)&&Di(s.value,i.value)}(n,e):n instanceof ei?function(s,i){return i instanceof ei&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((a,l,u)=>a&&XT(l,i.filters[u]),!0):!1}(n,e):void Be(19439)}function QT(n){return n instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${Fl(t.value)}`}(n):n instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(QT).join(" ,")+"}"}(n):"Filter"}class oM extends on{constructor(e,t,s){super(e,t,s),this.key=je.fromName(s.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class lM extends on{constructor(e,t){super(e,"in",t),this.keys=JT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cM extends on{constructor(e,t){super(e,"not-in",t),this.keys=JT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JT(n,e){return(e.arrayValue?.values||[]).map(t=>je.fromName(t.referenceValue))}class uM extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oy(t)&&Wu(t.arrayValue,this.value)}}class dM extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class hM extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class fM extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t=null,s=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Z1(n,e=null,t=[],s=[],i=null,a=null,l=null){return new mM(n,e,t,s,i,a,l)}function Py(n){const e=Ye(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>z0(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),pm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Fl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Fl(s)).join(",")),e.Te=t}return e.Te}function Ly(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!J1(n.startAt,e.startAt)&&J1(n.endAt,e.endAt)}function U0(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t=null,s=[],i=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pM(n,e,t,s,i,a,l,u){return new fd(n,e,t,s,i,a,l,u)}function Vy(n){return new fd(n)}function ew(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZT(n){return n.collectionGroup!==null}function Du(n){const e=Ye(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new pn(Mn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(u=u.add(m.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new qf(a,s))}),t.has(Mn.keyField().canonicalString())||e.Ie.push(new qf(Mn.keyField(),s))}return e.Ie}function Ci(n){const e=Ye(n);return e.Ee||(e.Ee=gM(e,Du(n))),e.Ee}function gM(n,e){if(n.limitType==="F")return Z1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new qf(i.field,a)});const t=n.endAt?new Gf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Gf(n.startAt.position,n.startAt.inclusive):null;return Z1(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function B0(n,e){const t=n.filters.concat([e]);return new fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function F0(n,e,t){return new fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ym(n,e){return Ly(Ci(n),Ci(e))&&n.limitType===e.limitType}function eN(n){return`${Py(Ci(n))}|lt:${n.limitType}`}function Sl(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(i=>QT(i)).join(", ")}]`),pm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(i=>Fl(i)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(i=>Fl(i)).join(",")),`Target(${s})`}(Ci(n))}; limitType=${n.limitType})`}function xm(n,e){return e.isFoundDocument()&&function(s,i){const a=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):je.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(n,e)&&function(s,i){for(const a of Du(s))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(s,i){for(const a of s.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(s,i){return!(s.startAt&&!function(l,u,d){const m=Q1(l,u,d);return l.inclusive?m<=0:m<0}(s.startAt,Du(s),i)||s.endAt&&!function(l,u,d){const m=Q1(l,u,d);return l.inclusive?m>=0:m>0}(s.endAt,Du(s),i))}(n,e)}function yM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tN(n){return(e,t)=>{let s=!1;for(const i of Du(n)){const a=xM(i,e,t);if(a!==0)return a;s=s||i.field.isKeyField()}return 0}}function xM(n,e,t){const s=n.field.isKeyField()?je.comparator(e.key,t.key):function(a,l,u){const d=l.data.field(a),m=u.data.field(a);return d!==null&&m!==null?Bl(d,m):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[i,a]of s)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[t]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(t,s)=>{for(const[i,a]of s)e(i,a)})}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Ht(je.comparator);function _r(){return bM}const nN=new Ht(je.comparator);function Tu(...n){let e=nN;for(const t of n)e=e.insert(t.key,t);return e}function sN(n){let e=nN;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function mo(){return Mu()}function iN(){return Mu()}function Mu(){return new ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const vM=new Ht(je.comparator),_M=new pn(je.comparator);function ct(...n){let e=_M;for(const t of n)e=e.add(t);return e}const wM=new pn(ot);function EM(){return wM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function rN(n){return{integerValue:""+n}}function aN(n,e){return Q5(e)?rN(e):zy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this._=void 0}}function TM(n,e,t){return n instanceof Yu?function(i,a){const l={fields:{[BT]:{stringValue:UT},[$T]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&My(a)&&(a=gm(a)),a&&(l.fields[FT]=a),{mapValue:l}}(t,e):n instanceof $l?lN(n,e):n instanceof Ku?cN(n,e):function(i,a){const l=oN(i,a),u=tw(l)+tw(i.Ae);return V0(l)&&V0(i.Ae)?rN(u):zy(i.serializer,u)}(n,e)}function NM(n,e,t){return n instanceof $l?lN(n,e):n instanceof Ku?cN(n,e):t}function oN(n,e){return n instanceof Xu?function(s){return V0(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class Yu extends bm{}class $l extends bm{constructor(e){super(),this.elements=e}}function lN(n,e){const t=uN(e);for(const s of n.elements)t.some(i=>Di(i,s))||t.push(s);return{arrayValue:{values:t}}}class Ku extends bm{constructor(e){super(),this.elements=e}}function cN(n,e){let t=uN(e);for(const s of n.elements)t=t.filter(i=>!Di(i,s));return{arrayValue:{values:t}}}class Xu extends bm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function tw(n){return Jt(n.integerValue||n.doubleValue)}function uN(n){return Oy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t){this.field=e,this.transform=t}}function SM(n,e){return n.field.isEqual(e.field)&&function(s,i){return s instanceof $l&&i instanceof $l||s instanceof Ku&&i instanceof Ku?Ul(s.elements,i.elements,Di):s instanceof Xu&&i instanceof Xu?Di(s.Ae,i.Ae):s instanceof Yu&&i instanceof Yu}(n.transform,e.transform)}class AM{constructor(e,t){this.version=e,this.transformResults=t}}class ki{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vm{}function dN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fN(n.key,ki.none()):new md(n.key,n.data,ki.none());{const t=n.data,s=is.empty();let i=new pn(Mn.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?s.delete(a):s.set(a,l),i=i.add(a)}return new Ra(n.key,s,new bs(i.toArray()),ki.none())}}function CM(n,e,t){n instanceof md?function(i,a,l){const u=i.value.clone(),d=sw(i.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ra?function(i,a,l){if(!Nf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=sw(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(hN(i)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ou(n,e,t,s){return n instanceof md?function(a,l,u,d){if(!Nf(a.precondition,l))return u;const m=a.value.clone(),g=iw(a.fieldTransforms,d,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ra?function(a,l,u,d){if(!Nf(a.precondition,l))return u;const m=iw(a.fieldTransforms,d,l),g=l.data;return g.setAll(hN(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(x=>x.field))}(n,e,t,s):function(a,l,u){return Nf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function kM(n,e){let t=null;for(const s of n.fieldTransforms){const i=e.data.field(s.field),a=oN(s.transform,i||null);a!=null&&(t===null&&(t=is.empty()),t.set(s.field,a))}return t||null}function nw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Ul(s,i,(a,l)=>SM(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class md extends vm{constructor(e,t,s,i=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ra extends vm{constructor(e,t,s,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function sw(n,e,t){const s=new Map;wt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);s.set(a.field,NM(l,u,t[i]))}return s}function iw(n,e,t){const s=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);s.set(i.field,TM(a,l,e))}return s}class fN extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RM extends vm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t,s,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&CM(a,e,s[i])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ou(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ou(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=iN();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const d=dN(l,u);d!==null&&s.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ge.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(t,s)=>nw(t,s))&&Ul(this.baseMutations,e.baseMutations,(t,s)=>nw(t,s))}}class By{constructor(e,t,s,i){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=i}static from(e,t,s){wt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return vM}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,s[l].version);return new By(e,t,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,yt;function MM(n){switch(n){case ce.OK:return Be(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function mN(n){if(n===void 0)return br("GRPC error has no .code"),ce.UNKNOWN;switch(n){case an.OK:return ce.OK;case an.CANCELLED:return ce.CANCELLED;case an.UNKNOWN:return ce.UNKNOWN;case an.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case an.INTERNAL:return ce.INTERNAL;case an.UNAVAILABLE:return ce.UNAVAILABLE;case an.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case an.NOT_FOUND:return ce.NOT_FOUND;case an.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case an.ABORTED:return ce.ABORTED;case an.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case an.DATA_LOSS:return ce.DATA_LOSS;default:return Be(39323,{code:n})}}(yt=an||(an={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new ya([4294967295,4294967295],0);function rw(n){const e=OM().encode(n),t=new AT;return t.update(e),new Uint8Array(t.digest())}function aw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ya([t,s],0),new ya([i,a],0)]}class Fy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(s<0)throw new Nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ya.fromNumber(this.ge)}ye(e,t,s){let i=e.add(t.multiply(ya.fromNumber(s)));return i.compare(PM)===1&&(i=new ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=rw(e),[s,i]=aw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(s,i,a);if(!this.we(l))return!1}return!0}static create(e,t,s){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Fy(a,i,t);return s.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const t=rw(e),[s,i]=aw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(s,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,s,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const i=new Map;return i.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new _m(Ge.min(),i,new Ht(ot),_r(),ct())}}class pd{constructor(e,t,s,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new pd(s,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,s,i){this.be=e,this.removedTargetIds=t,this.key=s,this.De=i}}class pN{constructor(e,t){this.targetId=e,this.Ce=t}}class gN{constructor(e,t,s=On.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=i}}class ow{constructor(){this.ve=0,this.Fe=lw(),this.Me=On.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),t=ct(),s=ct();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:s=s.add(i);break;default:Be(38017,{changeType:a})}}),new pd(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=lw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LM{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=qh(),this.He=qh(),this.Ye=new Ht(ot)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,s=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(U0(a))if(s===0){const l=new je(a.path);this.et(t,l,Bn.newNoDocument(l,Ge.min()))}else wt(s===1,20013,{expectedCount:s});else{const l=this._t(t);if(l!==s){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=Ea(s).toUint8Array()}catch(d){if(d instanceof zT)return zl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Fy(l,i,a)}catch(d){return zl(d instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let i=0;return s.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&U0(u.target)){const d=new je(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Bn.newNoDocument(d,e))}a.Be&&(t.set(l,a.ke()),a.qe())}});let s=ct();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(s=s.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const i=new _m(e,t,this.Ye,this.je,s);return this.je=_r(),this.Je=qh(),this.He=qh(),this.Ye=new Ht(ot),i}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ow,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new pn(ot),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new pn(ot),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ow),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qh(){return new Ht(je.comparator)}function lw(){return new Ht(je.comparator)}const VM={asc:"ASCENDING",desc:"DESCENDING"},zM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UM={and:"AND",or:"OR"};class BM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $0(n,e){return n.useProto3Json||pm(e)?e:{value:e}}function Wf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FM(n,e){return Wf(n,e.toTimestamp())}function Ri(n){return wt(!!n,49232),Ge.fromTimestamp(function(t){const s=wa(t);return new Vt(s.seconds,s.nanos)}(n))}function $y(n,e){return H0(n,e).canonicalString()}function H0(n,e){const t=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xN(n){const e=Ot.fromString(n);return wt(EN(e),10190,{key:e.toString()}),e}function G0(n,e){return $y(n.databaseId,e.path)}function Jg(n,e){const t=xN(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(vN(t))}function bN(n,e){return $y(n.databaseId,e)}function $M(n){const e=xN(n);return e.length===4?Ot.emptyPath():vN(e)}function q0(n){return new Ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vN(n){return wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cw(n,e,t){return{name:G0(n,e),fields:t.value.mapValue.fields}}function HM(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Be(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(m,g){return m.useProto3Json?(wt(g===void 0||typeof g=="string",58123),On.fromBase64String(g||"")):(wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),On.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(m){const g=m.code===void 0?ce.UNKNOWN:mN(m.code);return new Te(g,m.message||"")}(l);t=new gN(s,i,a,u||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Jg(n,s.document.name),a=Ri(s.document.updateTime),l=s.document.createTime?Ri(s.document.createTime):Ge.min(),u=new is({mapValue:{fields:s.document.fields}}),d=Bn.newFoundDocument(i,a,l,u),m=s.targetIds||[],g=s.removedTargetIds||[];t=new Sf(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Jg(n,s.document),a=s.readTime?Ri(s.readTime):Ge.min(),l=Bn.newNoDocument(i,a),u=s.removedTargetIds||[];t=new Sf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Jg(n,s.document),a=s.removedTargetIds||[];t=new Sf([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:a}=s,l=new DM(i,a),u=s.targetId;t=new pN(u,l)}}return t}function GM(n,e){let t;if(e instanceof md)t={update:cw(n,e.key,e.value)};else if(e instanceof fN)t={delete:G0(n,e.key)};else if(e instanceof Ra)t={update:cw(n,e.key,e.data),updateMask:e6(e.fieldMask)};else{if(!(e instanceof RM))return Be(16599,{Vt:e.type});t={verify:G0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const u=l.transform;if(u instanceof Yu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof $l)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ku)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Xu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Be(20930,{transform:l.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:FM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(n,e.precondition)),t}function qM(n,e){return n&&n.length>0?(wt(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?Ri(i.updateTime):Ri(a);return l.isEqual(Ge.min())&&(l=Ri(a)),new AM(l,i.transformResults||[])}(t,e))):[]}function WM(n,e){return{documents:[bN(n,e.path)]}}function YM(n,e){const t={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=bN(n,i);const a=function(m){if(m.length!==0)return wN(ei.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(g=>function(b){return{field:Al(b.field),direction:QM(b.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=$0(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:i}}function KM(n){let e=$M(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let i=null;if(s>0){wt(s===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(x){const b=_N(x);return b instanceof ei&&KT(b)?b.getFilters():[b]}(t.where));let l=[];t.orderBy&&(l=function(x){return x.map(b=>function(N){return new qf(Cl(N.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(t.orderBy));let u=null;t.limit&&(u=function(x){let b;return b=typeof x=="object"?x.value:x,pm(b)?null:b}(t.limit));let d=null;t.startAt&&(d=function(x){const b=!!x.before,E=x.values||[];return new Gf(E,b)}(t.startAt));let m=null;return t.endAt&&(m=function(x){const b=!x.before,E=x.values||[];return new Gf(E,b)}(t.endAt)),pM(e,i,l,a,u,"F",d,m)}function XM(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _N(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Cl(t.unaryFilter.field);return on.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Cl(t.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Cl(t.unaryFilter.field);return on.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Cl(t.unaryFilter.field);return on.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return on.create(Cl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ei.create(t.compositeFilter.filters.map(s=>_N(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function QM(n){return VM[n]}function JM(n){return zM[n]}function ZM(n){return UM[n]}function Al(n){return{fieldPath:n.canonicalString()}}function Cl(n){return Mn.fromServerFormat(n.fieldPath)}function wN(n){return n instanceof on?function(t){if(t.op==="=="){if(X1(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NAN"}};if(K1(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(X1(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NAN"}};if(K1(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(t.field),op:JM(t.op),value:t.value}}}(n):n instanceof ei?function(t){const s=t.getFilters().map(i=>wN(i));return s.length===1?s[0]:{compositeFilter:{op:ZM(t.op),filters:s}}}(n):Be(54877,{filter:n})}function e6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function EN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,s,i,a=Ge.min(),l=Ge.min(),u=On.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.yt=e}}function n6(n){const e=KM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?F0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.Cn=new i6}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(_a.min())}updateCollectionGroup(e,t,s){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class i6{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t]||new pn(Ot.comparator),a=!i.has(s);return this.index[t]=i.add(s),a}has(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t];return i&&i.has(s)}getEntries(e){return(this.index[e]||new pn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TN=41943040;class ss{static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(TN,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hl(0)}static cr(){return new Hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="LruGarbageCollector",r6=1048576;function hw([n,e],[t,s]){const i=ot(n,t);return i===0?ot(e,s):i}class a6{constructor(e){this.Ir=e,this.buffer=new pn(hw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o6{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(dw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ic(t)?Ne(dw,"Ignoring IndexedDB error during garbage collection: ",t):await sc(t)}await this.Vr(3e5)})}}class l6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(mm.ce);const s=new a6(t);return this.mr.forEachTarget(e,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(uw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uw):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,i,a,l,u,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(s=x,u=Date.now(),this.removeTargets(e,s,t))).next(x=>(a=x,d=Date.now(),this.removeOrphanedDocuments(e,s))).next(x=>(m=Date.now(),Nl()<=at.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${x} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}function c6(n,e){return new l6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.changes=new ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?fe.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t,s,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(s!==null&&Ou(s.mutation,i,bs.empty(),Vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ct()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ct()){const i=mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,s).next(a=>{let l=Tu();return a.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const s=mo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ct()))}populateOverlays(e,t,s){const i=[];return s.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,s,i){let a=_r();const l=Mu(),u=function(){return Mu()}();return t.forEach((d,m)=>{const g=s.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Ra)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),Ou(g.mutation,m,g.mutation.getFieldMask(),Vt.now())):l.set(m.key,bs.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((m,g)=>l.set(m,g)),t.forEach((m,g)=>u.set(m,new d6(g,l.get(m)??null))),u))}recalculateAndSaveOverlays(e,t){const s=Mu();let i=new Ht((l,u)=>l-u),a=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const m=t.get(d);if(m===null)return;let g=s.get(d)||bs.empty();g=u.applyToLocalView(m,g),s.set(d,g);const x=(i.get(u.batchId)||ct()).add(d);i=i.insert(u.batchId,x)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),m=d.key,g=d.value,x=iN();g.forEach(b=>{if(!a.has(b)){const E=dN(t.get(b),s.get(b));E!==null&&x.set(b,E),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,x))}return fe.waitFor(l)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,i){return function(l){return je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,i):this.getDocumentsMatchingCollectionQuery(e,t,s,i)}getNextDocuments(e,t,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,i-a.size):fe.resolve(mo());let u=Hu,d=a;return l.next(m=>fe.forEach(m,(g,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),a.get(g)?fe.resolve():this.remoteDocumentCache.getEntry(e,g).next(b=>{d=d.insert(g,b)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,d,m,ct())).next(g=>({batchId:u,changes:sN(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(s=>{let i=Tu();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,s,i){const a=t.collectionGroup;let l=Tu();return this.indexManager.getCollectionParents(e,a).next(u=>fe.forEach(u,d=>{const m=function(x,b){return new fd(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,s,i).next(g=>{g.forEach((x,b)=>{l=l.insert(x,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a,i))).next(l=>{a.forEach((d,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,Bn.newInvalidDocument(g)))});let u=Tu();return l.forEach((d,m)=>{const g=a.get(d);g!==void 0&&Ou(g.mutation,m,bs.empty(),Vt.now()),xm(t,m)&&(u=u.insert(d,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ri(i.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:n6(i.bundledQuery),readTime:Ri(i.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.overlays=new Ht(je.comparator),this.qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const s=mo();return fe.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&s.set(i,a)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((i,a)=>{this.St(e,t,a)}),fe.resolve()}removeOverlaysForBatchId(e,t,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(s)),fe.resolve()}getOverlaysForCollection(e,t,s){const i=mo(),a=t.length+1,l=new je(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&d.largestBatchId>s&&i.set(d.getKey(),d)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,t,s,i){let a=new Ht((m,g)=>m-g);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>s){let g=a.get(m.largestBatchId);g===null&&(g=mo(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=mo(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,g)=>u.set(m,g)),!(u.size()>=i)););return fe.resolve(u)}St(e,t,s){const i=this.overlays.get(s.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(s.key,new IM(t,s));let a=this.qr.get(t);a===void 0&&(a=ct(),this.qr.set(t,a)),this.qr.set(t,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.sessionToken=On.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Qr=new pn(Tn.$r),this.Ur=new pn(Tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Tn(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Tn(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new je(new Ot([])),s=new Tn(t,e),i=new Tn(t,e+1),a=[];return this.Ur.forEachInRange([s,i],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new je(new Ot([])),s=new Tn(t,e),i=new Tn(t,e+1);let a=ct();return this.Ur.forEachInRange([s,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Tn(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Tn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return je.comparator(e.key,t.key)||ot(e.Yr,t.Yr)}static Kr(e,t){return ot(e.Yr,t.Yr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new pn(Tn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new jM(a,t,s,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Tn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(l)}lookupMutationBatch(e,t){return fe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,i=this.ei(s),a=i<0?0:i;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Dy:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Tn(t,0),i=new Tn(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,i],l=>{const u=this.Xr(l.Yr);a.push(u)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pn(ot);return t.forEach(i=>{const a=new Tn(i,0),l=new Tn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{s=s.add(u.Yr)})}),fe.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,i=s.length+1;let a=s;je.isDocumentKey(a)||(a=a.child(""));const l=new Tn(new je(a),0);let u=new pn(ot);return this.Zr.forEachWhile(d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===i&&(u=u.add(d.Yr)),!0)},l),fe.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(s=>{const i=this.Xr(s);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){wt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return fe.forEach(t.mutations,i=>{const a=new Tn(i.key,t.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Tn(t,0),i=this.Zr.firstAfterOrEqual(s);return fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.ri=e,this.docs=function(){return new Ht(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,i=this.docs.get(s),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return fe.resolve(s?s.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let s=_r();return t.forEach(i=>{const a=this.docs.get(i);s=s.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))}),fe.resolve(s)}getDocumentsMatchingQuery(e,t,s,i){let a=_r();const l=t.path,u=new je(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||W5(q5(g),s)<=0||(i.has(g.key)||xm(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,t,s,i){Be(9500)}ii(e,t){return fe.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new x6(this)}getSize(e){return fe.resolve(this.size)}}class x6 extends u6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)}),fe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.persistence=e,this.si=new ko(t=>Py(t),Ly),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new Hy,this.targetCount=0,this.ai=Hl.ur()}forEachTarget(e,t){return this.si.forEach((s,i)=>t(i)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),fe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Hl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Pr(t),fe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,s){let i=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=t&&s.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),fe.waitFor(a).next(()=>i)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return fe.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),fe.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return fe.resolve(s)}containsKey(e,t){return fe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.ui={},this.overlays={},this.ci=new mm(0),this.li=!1,this.li=!0,this.hi=new p6,this.referenceDelegate=e(this),this.Pi=new b6(this),this.indexManager=new s6,this.remoteDocumentCache=function(i){return new y6(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new t6(t),this.Ii=new f6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new g6(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){Ne("MemoryPersistence","Starting transaction:",e);const i=new v6(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return fe.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class v6 extends K5{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.Ri=new Hy,this.Vi=null}static mi(e){return new Gy(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),fe.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,s=>{const i=je.fromPath(s);return this.gi(e,i).next(a=>{a||t.removeEntry(i,Ge.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return fe.or([()=>fe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Yf{constructor(e,t){this.persistence=e,this.pi=new ko(s=>J5(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=c6(this,t)}static mi(e,t){return new Yf(e,t)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(i=>s+i))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return fe.forEach(this.pi,(s,i)=>this.br(e,s,i).next(a=>a?fe.resolve():t(i)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,t).next(u=>{u||(s++,a.removeEntry(l,Ge.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),fe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ef(e.data.value)),t}br(e,t,s){return fe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return fe.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,t,s,i){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=i}static As(e,t){let s=ct(),i=ct();for(const a of t.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new qy(e,t.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return JR()?8:X5($n())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,i){const a={result:null};return this.ys(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,t,i,s).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new _6;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)})}).next(()=>a.result)}bs(e,t,s,i){return s.documentReadCount<this.fs?(Nl()<=at.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Nl()<=at.DEBUG&&Ne("QueryEngine","Query:",Sl(t),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(Nl()<=at.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(t))):fe.resolve())}ys(e,t){if(ew(t))return fe.resolve(null);let s=Ci(t);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=F0(t,null,"F"),s=Ci(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const l=ct(...a);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,s).next(d=>{const m=this.Ds(t,u);return this.Cs(t,m,l,d.readTime)?this.ys(e,F0(t,null,"F")):this.vs(e,m,t,d)}))})))}ws(e,t,s,i){return ew(t)||i.isEqual(Ge.min())?fe.resolve(null):this.ps.getDocuments(e,s).next(a=>{const l=this.Ds(t,a);return this.Cs(t,l,s,i)?fe.resolve(null):(Nl()<=at.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sl(t)),this.vs(e,l,t,G5(i,Hu)).next(u=>u))})}Ds(e,t){let s=new pn(tN(e));return t.forEach((i,a)=>{xm(e,a)&&(s=s.add(a))}),s}Cs(e,t,s,i){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,s){return Nl()<=at.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Sl(t)),this.ps.getDocumentsMatchingQuery(e,t,_a.min(),s)}vs(e,t,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",E6=3e8;class T6{constructor(e,t,s,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ht(ot),this.xs=new ko(a=>Py(a),Ly),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function N6(n,e,t,s){return new T6(n,e,t,s)}async function SN(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let i;return t.mutationQueue.getAllMutationBatches(s).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(a=>{const l=[],u=[];let d=ct();for(const m of i){l.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of a){u.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(s,d).next(m=>({Ls:m,removedBatchIds:l,addedBatchIds:u}))})})}function S6(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,d,m,g){const x=m.batch,b=x.keys();let E=fe.resolve();return b.forEach(N=>{E=E.next(()=>g.getEntry(d,N)).next(w=>{const T=m.docVersions.get(N);wt(T!==null,48541),w.version.compareTo(T)<0&&(x.applyToRemoteDocument(w,m),w.isValidDocument()&&(w.setReadTime(m.commitVersion),g.addEntry(w)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(d,x))}(t,s,e,a).next(()=>a.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(u){let d=ct();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(d=d.add(u.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(s,i))})}function AN(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function A6(n,e){const t=Ye(n),s=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((g,x)=>{const b=i.get(x);if(!b)return;u.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,x).next(()=>t.Pi.addMatchingKeys(a,g.addedDocuments,x)));let E=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(On.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,s)),i=i.insert(x,E),function(w,T,k){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=E6?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(b,E,g)&&u.push(t.Pi.updateTargetData(a,E))});let d=_r(),m=ct();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(C6(a,l,e.documentUpdates).next(g=>{d=g.ks,m=g.qs})),!s.isEqual(Ge.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next(x=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s));u.push(g)}return fe.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,m)).next(()=>d)}).then(a=>(t.Ms=i,a))}function C6(n,e,t){let s=ct(),i=ct();return t.forEach(a=>s=s.add(a)),e.getEntries(n,s).next(a=>{let l=_r();return t.forEach((u,d)=>{const m=a.get(u);d.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ge.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Ne(Wy,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",d.version)}),{ks:l,qs:i}})}function k6(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Dy),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function R6(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return t.Pi.getTargetData(s,e).next(a=>a?(i=a,fe.resolve(i)):t.Pi.allocateTargetId(s).next(l=>(i=new la(e,l,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=t.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function W0(n,e,t){const s=Ye(n),i=s.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",a,l=>s.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!ic(l))throw l;Ne(Wy,`Failed to update sequence numbers for target ${e}: ${l}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function fw(n,e,t){const s=Ye(n);let i=Ge.min(),a=ct();return s.persistence.runTransaction("Execute query","readwrite",l=>function(d,m,g){const x=Ye(d),b=x.xs.get(g);return b!==void 0?fe.resolve(x.Ms.get(b)):x.Pi.getTargetData(m,g)}(s,l,Ci(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(l,u.targetId).next(d=>{a=d})}).next(()=>s.Fs.getDocumentsMatchingQuery(l,e,t?i:Ge.min(),t?a:ct())).next(u=>(j6(s,yM(e),u),{documents:u,Qs:a})))}function j6(n,e,t){let s=n.Os.get(e)||Ge.min();t.forEach((i,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),n.Os.set(e,s)}class mw{constructor(){this.activeTargetIds=EM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I6{constructor(){this.Mo=new mw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="ConnectivityMonitor";class gw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(pw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function Y0(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="RestConnection",M6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===$f?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,t,s,i,a){const l=Y0(),u=this.zo(e,t.toUriEncodedString());Ne(Zg,`Sending RPC '${e}' ${l}:`,u,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:m}=new URL(u),g=Zl(m);return this.Jo(e,u,d,s,g).then(x=>(Ne(Zg,`Received RPC '${e}' ${l}: `,x),x),x=>{throw zl(Zg,`RPC '${e}' ${l} failed with error: `,x,"url: ",u,"request:",s),x})}Ho(e,t,s,i,a,l){return this.Go(e,t,s,i,a)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),s&&s.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const s=M6[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class L6 extends O6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,i,a){const l=Y0();return new Promise((u,d)=>{const m=new CT;m.setWithCredentials(!0),m.listenOnce(kT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case wf.NO_ERROR:const x=m.getResponseJson();Ne(Vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case wf.TIMEOUT:Ne(Vn,`RPC '${e}' ${l} timed out`),d(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const b=m.getStatus();if(Ne(Vn,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const N=E?.error;if(N&&N.status&&N.message){const w=function(k){const M=k.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(M)>=0?M:ce.UNKNOWN}(N.status);d(new Te(w,N.message))}else d(new Te(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ne(Vn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);Ne(Vn,`RPC '${e}' ${l} sending request:`,i),m.send(t,"POST",g,s,15)})}T_(e,t,s){const i=Y0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=IT(),u=jT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,s),d.encodeInitMessageHeaders=!0;const g=a.join("");Ne(Vn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const x=l.createWebChannel(g,d);this.I_(x);let b=!1,E=!1;const N=new P6({Yo:T=>{E?Ne(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(b||(Ne(Vn,`Opening RPC '${e}' stream ${i} transport.`),x.open(),b=!0),Ne(Vn,`RPC '${e}' stream ${i} sending:`,T),x.send(T))},Zo:()=>x.close()}),w=(T,k,M)=>{T.listen(k,I=>{try{M(I)}catch(z){setTimeout(()=>{throw z},0)}})};return w(x,Eu.EventType.OPEN,()=>{E||(Ne(Vn,`RPC '${e}' stream ${i} transport opened.`),N.o_())}),w(x,Eu.EventType.CLOSE,()=>{E||(E=!0,Ne(Vn,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(x))}),w(x,Eu.EventType.ERROR,T=>{E||(E=!0,zl(Vn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),N.a_(new Te(ce.UNAVAILABLE,"The operation could not be completed")))}),w(x,Eu.EventType.MESSAGE,T=>{if(!E){const k=T.data[0];wt(!!k,16349);const M=k,I=M?.error||M[0]?.error;if(I){Ne(Vn,`RPC '${e}' stream ${i} received error:`,I);const z=I.status;let U=function(R){const j=an[R];if(j!==void 0)return mN(j)}(z),$=I.message;U===void 0&&(U=ce.INTERNAL,$="Unknown error status: "+z+" with message "+I.message),E=!0,N.a_(new Te(U,$)),x.close()}else Ne(Vn,`RPC '${e}' stream ${i} received:`,k),N.u_(k)}}),w(u,RT.STAT_EVENT,T=>{T.stat===O0.PROXY?Ne(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===O0.NOPROXY&&Ne(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function e0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n){return new BM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t,s=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-s);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="PersistentStream";class kN{constructor(e,t,s,i,a,l,u,d){this.Mi=e,this.S_=s,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CN(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===t&&this.G_(s,i)},s=>{e(()=>{const i=new Te(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Ne(yw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Ne(yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V6 extends kN{constructor(e,t,s,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=HM(this.serializer,e),s=function(a){if(!("targetChange"in a))return Ge.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ge.min():l.readTime?Ri(l.readTime):Ge.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=q0(this.serializer),t.addTarget=function(a,l){let u;const d=l.target;if(u=U0(d)?{documents:WM(a,d)}:{query:YM(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=yN(a,l.resumeToken);const m=$0(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Ge.min())>0){u.readTime=Wf(a,l.snapshotVersion.toTimestamp());const m=$0(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const s=XM(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=q0(this.serializer),t.removeTarget=e,this.q_(t)}}class z6 extends kN{constructor(e,t,s,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qM(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=q0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>GM(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{}class B6 extends U6{constructor(e,t,s,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,H0(t,s),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ce.UNKNOWN,a.toString())})}Ho(e,t,s,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,H0(t,s),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(ce.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class F6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(t),this.aa=!1):Ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="RemoteStore";class $6{constructor(e,t,s,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{s.enqueueAndForget(async()=>{Ro(this)&&(Ne(No,"Restarting streams for network reachability change."),await async function(d){const m=Ye(d);m.Ea.add(4),await gd(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Em(m)}(this))})}),this.Ra=new F6(s,i)}}async function Em(n){if(Ro(n))for(const e of n.da)await e(!0)}async function gd(n){for(const e of n.da)await e(!1)}function RN(n,e){const t=Ye(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qy(t)?Xy(t):rc(t).O_()&&Ky(t,e))}function Yy(n,e){const t=Ye(n),s=rc(t);t.Ia.delete(e),s.O_()&&jN(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ro(t)&&t.Ra.set("Unknown"))}function Ky(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rc(n).Y_(e)}function jN(n,e){n.Va.Ue(e),rc(n).Z_(e)}function Xy(n){n.Va=new LM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),rc(n).start(),n.Ra.ua()}function Qy(n){return Ro(n)&&!rc(n).x_()&&n.Ia.size>0}function Ro(n){return Ye(n).Ea.size===0}function IN(n){n.Va=void 0}async function H6(n){n.Ra.set("Online")}async function G6(n){n.Ia.forEach((e,t)=>{Ky(n,e)})}async function q6(n,e){IN(n),Qy(n)?(n.Ra.ha(e),Xy(n)):n.Ra.set("Unknown")}async function W6(n,e,t){if(n.Ra.set("Online"),e instanceof gN&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,e)}catch(s){Ne(No,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kf(n,s)}else if(e instanceof Sf?n.Va.Ze(e):e instanceof pN?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ge.min()))try{const s=await AN(n.localStore);t.compareTo(s)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,m)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(On.EMPTY_BYTE_STRING,g.snapshotVersion)),jN(a,d);const x=new la(g.target,d,m,g.sequenceNumber);Ky(a,x)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(s){Ne(No,"Failed to raise snapshot:",s),await Kf(n,s)}}async function Kf(n,e,t){if(!ic(e))throw e;n.Ea.add(1),await gd(n),n.Ra.set("Offline"),t||(t=()=>AN(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ne(No,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Em(n)})}function DN(n,e){return e().catch(t=>Kf(n,t,e))}async function Tm(n){const e=Ye(n),t=Na(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dy;for(;Y6(e);)try{const i=await k6(e.localStore,s);if(i===null){e.Ta.length===0&&t.L_();break}s=i.batchId,K6(e,i)}catch(i){await Kf(e,i)}MN(e)&&ON(e)}function Y6(n){return Ro(n)&&n.Ta.length<10}function K6(n,e){n.Ta.push(e);const t=Na(n);t.O_()&&t.X_&&t.ea(e.mutations)}function MN(n){return Ro(n)&&!Na(n).x_()&&n.Ta.length>0}function ON(n){Na(n).start()}async function X6(n){Na(n).ra()}async function Q6(n){const e=Na(n);for(const t of n.Ta)e.ea(t.mutations)}async function J6(n,e,t){const s=n.Ta.shift(),i=By.from(s,e,t);await DN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Tm(n)}async function Z6(n,e){e&&Na(n).X_&&await async function(s,i){if(function(l){return MM(l)&&l!==ce.ABORTED}(i.code)){const a=s.Ta.shift();Na(s).B_(),await DN(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Tm(s)}}(n,e),MN(n)&&ON(n)}async function xw(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Ne(No,"RemoteStore received new credentials");const s=Ro(t);t.Ea.add(3),await gd(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Em(t)}async function eO(n,e){const t=Ye(n);e?(t.Ea.delete(2),await Em(t)):e||(t.Ea.add(2),await gd(t),t.Ra.set("Unknown"))}function rc(n){return n.ma||(n.ma=function(t,s,i){const a=Ye(t);return a.sa(),new V6(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:H6.bind(null,n),t_:G6.bind(null,n),r_:q6.bind(null,n),H_:W6.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Qy(n)?Xy(n):n.Ra.set("Unknown")):(await n.ma.stop(),IN(n))})),n.ma}function Na(n){return n.fa||(n.fa=function(t,s,i){const a=Ye(t);return a.sa(),new z6(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:X6.bind(null,n),r_:Z6.bind(null,n),ta:Q6.bind(null,n),na:J6.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Tm(n)):(await n.fa.stop(),n.Ta.length>0&&(Ne(No,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,s,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=i,this.removalCallback=a,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,i,a){const l=Date.now()+s,u=new Jy(e,t,l,i,a);return u.start(s),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(n,e){if(br("AsyncQueue",`${e}: ${n}`),ic(n))return new Te(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||je.comparator(t.key,s.key):(t,s)=>je.comparator(t.key,s.key),this.keyedMap=Tu(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=s.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ml;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.ga=new Ht(je.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Gl{constructor(e,t,s,i,a,l,u,d,m){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,s,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Gl(e,t,Ml.emptySet(t),l,s,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==s[i].type||!t[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class nO{constructor(){this.queries=vw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const i=Ye(t),a=i.queries;i.queries=vw(),a.forEach((l,u)=>{for(const d of u.Sa)d.onError(s)})})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function vw(){return new ko(n=>eN(n),ym)}async function PN(n,e){const t=Ye(n);let s=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(s=2):(a=new tO,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Zy(l,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&ex(t)}async function LN(n,e){const t=Ye(n),s=e.query;let i=3;const a=t.queries.get(s);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function sO(n,e){const t=Ye(n);let s=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(s=!0);l.wa=i}}s&&ex(t)}function iO(n,e,t){const s=Ye(n),i=s.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);s.queries.delete(e)}function ex(n){n.Ca.forEach(e=>{e.next()})}var K0,_w;(_w=K0||(K0={})).Ma="default",_w.Cache="cache";class VN{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==K0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.key=e}}class UN{constructor(e){this.key=e}}class rO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=tN(e),this.tu=new Ml(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new bw,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,x)=>{const b=i.get(g),E=xm(this.query,x)?x:null,N=!!b&&this.mutatedKeys.has(b.key),w=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let T=!1;b&&E?b.data.isEqual(E.data)?N!==w&&(s.track({type:3,doc:E}),T=!0):this.su(b,E)||(s.track({type:2,doc:E}),T=!0,(d&&this.eu(E,d)>0||m&&this.eu(E,m)<0)&&(u=!0)):!b&&E?(s.track({type:0,doc:E}),T=!0):b&&!E&&(s.track({type:1,doc:b}),T=!0,(d||m)&&(u=!0)),T&&(E?(l=l.add(E),a=w?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),s.track({type:1,doc:g})}return{tu:l,iu:s,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((g,x)=>function(E,N){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:T})}};return w(E)-w(N)}(g.type,x.type)||this.eu(g.doc,x.doc)),this.ou(s),i=i??!1;const u=t&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,m=d!==this.Za;return this.Za=d,l.length!==0||m?{snapshot:new Gl(this.query,e.tu,a,l,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new UN(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new zN(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=ct();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tx="SyncEngine";class aO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class oO{constructor(e){this.key=e,this.hu=!1}}class lO{constructor(e,t,s,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ko(u=>eN(u),ym),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(je.comparator),this.Au=new Map,this.Ru=new Hy,this.Vu={},this.mu=new Map,this.fu=Hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cO(n,e,t=!0){const s=qN(n);let i;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await BN(s,e,t,!0),i}async function uO(n,e){const t=qN(n);await BN(t,e,!0,!1)}async function BN(n,e,t,s){const i=await R6(n.localStore,Ci(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return s&&(u=await dO(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&RN(n.remoteStore,i),u}async function dO(n,e,t,s,i){n.pu=(x,b,E)=>async function(w,T,k,M){let I=T.view.ru(k);I.Cs&&(I=await fw(w.localStore,T.query,!1).then(({documents:A})=>T.view.ru(A,I)));const z=M&&M.targetChanges.get(T.targetId),U=M&&M.targetMismatches.get(T.targetId)!=null,$=T.view.applyChanges(I,w.isPrimaryClient,z,U);return Ew(w,T.targetId,$.au),$.snapshot}(n,x,b,E);const a=await fw(n.localStore,e,!0),l=new rO(e,a.Qs),u=l.ru(a.documents),d=pd.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",i),m=l.applyChanges(u,n.isPrimaryClient,d);Ew(n,t,m.au);const g=new aO(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function hO(n,e,t){const s=Ye(n),i=s.Tu.get(e),a=s.Iu.get(i.targetId);if(a.length>1)return s.Iu.set(i.targetId,a.filter(l=>!ym(l,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await W0(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),t&&Yy(s.remoteStore,i.targetId),X0(s,i.targetId)}).catch(sc)):(X0(s,i.targetId),await W0(s.localStore,i.targetId,!0))}async function fO(n,e){const t=Ye(n),s=t.Tu.get(e),i=t.Iu.get(s.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Yy(t.remoteStore,s.targetId))}async function mO(n,e,t){const s=_O(n);try{const i=await function(l,u){const d=Ye(l),m=Vt.now(),g=u.reduce((E,N)=>E.add(N.key),ct());let x,b;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let N=_r(),w=ct();return d.Ns.getEntries(E,g).next(T=>{N=T,N.forEach((k,M)=>{M.isValidDocument()||(w=w.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,N)).next(T=>{x=T;const k=[];for(const M of u){const I=kM(M,x.get(M.key).overlayedDocument);I!=null&&k.push(new Ra(M.key,I,qT(I.value.mapValue),ki.exists(!0)))}return d.mutationQueue.addMutationBatch(E,m,k,u)}).next(T=>{b=T;const k=T.applyToLocalDocumentSet(x,w);return d.documentOverlayCache.saveOverlays(E,T.batchId,k)})}).then(()=>({batchId:b.batchId,changes:sN(x)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let m=l.Vu[l.currentUser.toKey()];m||(m=new Ht(ot)),m=m.insert(u,d),l.Vu[l.currentUser.toKey()]=m}(s,i.batchId,t),await yd(s,i.changes),await Tm(s.remoteStore)}catch(i){const a=Zy(i,"Failed to persist write");t.reject(a)}}async function FN(n,e){const t=Ye(n);try{const s=await A6(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Au.get(a);l&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?wt(l.hu,14607):i.removedDocuments.size>0&&(wt(l.hu,42227),l.hu=!1))}),await yd(t,s,e)}catch(s){await sc(s)}}function ww(n,e,t){const s=Ye(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const i=[];s.Tu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=Ye(l);d.onlineState=u;let m=!1;d.queries.forEach((g,x)=>{for(const b of x.Sa)b.va(u)&&(m=!0)}),m&&ex(d)}(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pO(n,e,t){const s=Ye(n);s.sharedClientState.updateQueryState(e,"rejected",t);const i=s.Au.get(e),a=i&&i.key;if(a){let l=new Ht(je.comparator);l=l.insert(a,Bn.newNoDocument(a,Ge.min()));const u=ct().add(a),d=new _m(Ge.min(),new Map,new Ht(ot),l,u);await FN(s,d),s.du=s.du.remove(a),s.Au.delete(e),nx(s)}else await W0(s.localStore,e,!1).then(()=>X0(s,e,t)).catch(sc)}async function gO(n,e){const t=Ye(n),s=e.batch.batchId;try{const i=await S6(t.localStore,e);HN(t,s,null),$N(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await yd(t,i)}catch(i){await sc(i)}}async function yO(n,e,t){const s=Ye(n);try{const i=await function(l,u){const d=Ye(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return d.mutationQueue.lookupMutationBatch(m,u).next(x=>(wt(x!==null,37113),g=x.keys(),d.mutationQueue.removeMutationBatch(m,x))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>d.localDocuments.getDocuments(m,g))})}(s.localStore,e);HN(s,e,t),$N(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await yd(s,i)}catch(i){await sc(i)}}function $N(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function HN(n,e,t){const s=Ye(n);let i=s.Vu[s.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function X0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(s=>{n.Ru.containsKey(s)||GN(n,s)})}function GN(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Yy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),nx(n))}function Ew(n,e,t){for(const s of t)s instanceof zN?(n.Ru.addReference(s.key,e),xO(n,s)):s instanceof UN?(Ne(tx,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||GN(n,s.key)):Be(19791,{wu:s})}function xO(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(Ne(tx,"New document in limbo: "+t),n.Eu.add(s),nx(n))}function nx(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new je(Ot.fromString(e)),s=n.fu.next();n.Au.set(s,new oO(t)),n.du=n.du.insert(t,s),RN(n.remoteStore,new la(Ci(Vy(t.path)),s,"TargetPurposeLimboResolution",mm.ce))}}async function yd(n,e,t){const s=Ye(n),i=[],a=[],l=[];s.Tu.isEmpty()||(s.Tu.forEach((u,d)=>{l.push(s.pu(d,e,t).then(m=>{if((m||t)&&s.isPrimaryClient){const g=m?!m.fromCache:t?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){i.push(m);const g=qy.As(d.targetId,m);a.push(g)}}))}),await Promise.all(l),s.Pu.H_(i),await async function(d,m){const g=Ye(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>fe.forEach(m,b=>fe.forEach(b.Es,E=>g.persistence.referenceDelegate.addReference(x,b.targetId,E)).next(()=>fe.forEach(b.ds,E=>g.persistence.referenceDelegate.removeReference(x,b.targetId,E)))))}catch(x){if(!ic(x))throw x;Ne(Wy,"Failed to update sequence numbers: "+x)}for(const x of m){const b=x.targetId;if(!x.fromCache){const E=g.Ms.get(b),N=E.snapshotVersion,w=E.withLastLimboFreeSnapshotVersion(N);g.Ms=g.Ms.insert(b,w)}}}(s.localStore,a))}async function bO(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Ne(tx,"User change. New user:",e.toKey());const s=await SN(t.localStore,e);t.currentUser=e,function(a,l){a.mu.forEach(u=>{u.forEach(d=>{d.reject(new Te(ce.CANCELLED,l))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yd(t,s.Ls)}}function vO(n,e){const t=Ye(n),s=t.Au.get(e);if(s&&s.hu)return ct().add(s.key);{let i=ct();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function qN(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pO.bind(null,e),e.Pu.H_=sO.bind(null,e.eventManager),e.Pu.yu=iO.bind(null,e.eventManager),e}function _O(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yO.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return N6(this.persistence,new w6,e.initialUser,this.serializer)}Cu(e){return new NN(Gy.mi,this.serializer)}Du(e){return new I6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class wO extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wt(this.persistence.referenceDelegate instanceof Yf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new o6(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new NN(s=>Yf.mi(s,t),this.serializer)}}class Q0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ww(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bO.bind(null,this.syncEngine),await eO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nO}()}createDatastore(e){const t=wm(e.databaseInfo.databaseId),s=function(a){return new L6(a)}(e.databaseInfo);return function(a,l,u,d){return new B6(a,l,u,d)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,i,a,l,u){return new $6(s,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>ww(this.syncEngine,t,0),function(){return gw.v()?new gw:new D6}())}createSyncEngine(e,t){return function(i,a,l,u,d,m,g){const x=new lO(i,a,l,u,d,m);return g&&(x.gu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ye(t);Ne(No,"RemoteStore shutting down."),s.Ea.add(5),await gd(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Q0.provider={build:()=>new Q0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="FirestoreClient";class EO{constructor(e,t,s,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=Iy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async l=>{Ne(Sa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(Ne(Sa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Zy(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function t0(n,e){n.asyncQueue.verifyOperationInProgress(),Ne(Sa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async i=>{s.isEqual(i)||(await SN(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Tw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await TO(n);Ne(Sa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>xw(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,i)=>xw(e.remoteStore,i)),n._onlineComponents=e}async function TO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne(Sa,"Using user provided OfflineComponentProvider");try{await t0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;zl("Error using user provided cache. Falling back to memory cache: "+t),await t0(n,new Xf)}}else Ne(Sa,"Using default OfflineComponentProvider"),await t0(n,new wO(void 0));return n._offlineComponents}async function YN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne(Sa,"Using user provided OnlineComponentProvider"),await Tw(n,n._uninitializedComponentsProvider._online)):(Ne(Sa,"Using default OnlineComponentProvider"),await Tw(n,new Q0))),n._onlineComponents}function NO(n){return YN(n).then(e=>e.syncEngine)}async function KN(n){const e=await YN(n),t=e.eventManager;return t.onListen=cO.bind(null,e.syncEngine),t.onUnlisten=hO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fO.bind(null,e.syncEngine),t}function SO(n,e,t={}){const s=new pr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,m){const g=new WN({next:b=>{g.Nu(),l.enqueueAndForget(()=>LN(a,x));const E=b.docs.has(u);!E&&b.fromCache?m.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&d&&d.source==="server"?m.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new VN(Vy(u.path),g,{includeMetadataChanges:!0,qa:!0});return PN(a,x)}(await KN(n),n.asyncQueue,e,t,s)),s.promise}function AO(n,e,t={}){const s=new pr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,m){const g=new WN({next:b=>{g.Nu(),l.enqueueAndForget(()=>LN(a,x)),b.fromCache&&d.source==="server"?m.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new VN(u,g,{includeMetadataChanges:!0,qa:!0});return PN(a,x)}(await KN(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="firestore.googleapis.com",Sw=!0;class Aw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QN,this.ssl=Sw}else this.host=e.host,this.ssl=e.ssl??Sw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r6)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XN(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nm{constructor(e,t,s,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new M5;switch(s.type){case"firstParty":return new V5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Nw.get(t);s&&(Ne("ComponentProvider","Removing Datastore"),Nw.delete(t),s.terminate())}(this),Promise.resolve()}}function CO(n,e,t,s={}){n=vr(n,Nm);const i=Zl(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(zE(`https://${u}`),UE("Firestore",!0)),a.host!==QN&&a.host!==u&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:i,emulatorOptions:s};if(!va(d,l)&&(n._setSettings(d),s.mockUserToken)){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Un.MOCK_USER;else{m=$R(s.mockUserToken,n._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Un(x)}n._authCredentials=new O5(new MT(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ac(this.firestore,e,this._query)}}class Zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(hd(t,Zt._jsonSchema))return new Zt(e,s||null,new je(Ot.fromString(t.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:ln("string",Zt._jsonSchemaVersion),referencePath:ln("string")};class xa extends ac{constructor(e,t,s){super(e,t,Vy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new je(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function JN(n,e,...t){if(n=gn(n),OT("collection","path",e),n instanceof Nm){const s=Ot.fromString(e,...t);return U1(s),new xa(n,null,s)}{if(!(n instanceof Zt||n instanceof xa))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ot.fromString(e,...t));return U1(s),new xa(n.firestore,null,s)}}function Hn(n,e,...t){if(n=gn(n),arguments.length===1&&(e=Iy.newId()),OT("doc","path",e),n instanceof Nm){const s=Ot.fromString(e,...t);return z1(s),new Zt(n,null,new je(s))}{if(!(n instanceof Zt||n instanceof xa))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ot.fromString(e,...t));return z1(s),new Zt(n.firestore,n instanceof xa?n.converter:null,new je(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="AsyncQueue";class kw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CN(this,"async_queue_retry"),this._c=()=>{const s=e0();s&&Ne(Cw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=e0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=e0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new pr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ic(e))throw e;Ne(Cw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",Rw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Jy.createAndSchedule(this,e,t,s,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:Rw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Rw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class xd extends Nm{constructor(e,t,s,i){super(e,t,s,i),this.type="firestore",this._queue=new kw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kw(e),this._firestoreClient=void 0,await e}}}function kO(n,e){const t=typeof n=="object"?n:HE(),s=typeof n=="string"?n:$f,i=wy(t,"firestore").getImmediate({identifier:s});if(!i._initialized){const a=BR("firestore");a&&CO(i,...a)}return i}function sx(n){if(n._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RO(n),n._firestoreClient}function RO(n){const e=n._freezeSettings(),t=function(i,a,l,u){return new tM(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,XN(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new EO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(On.fromBase64String(e))}catch(t){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ps(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hd(e,Ps._jsonSchema))return Ps.fromBase64String(e.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:ln("string",Ps._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(hd(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:ln("string",ji._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hd(e,Ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ii(e.vectorValues);throw new Te(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:ln("string",Ii._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class IO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new md(e,this.data,t,this.fieldTransforms)}}class ZN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ra(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:n})}}class Am{constructor(e,t,s,i,a,l){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Am({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(eS(this.Ac)&&jO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||wm(e)}Cc(e,t,s,i=!1){return new Am({Ac:e,methodName:t,Dc:s,path:Mn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ix(n){const e=n._freezeSettings(),t=wm(n._databaseId);return new DO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function MO(n,e,t,s,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);lx("Data must be an object, but it was:",l,s);const u=tS(s,l);let d,m;if(a.merge)d=new bs(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const x of a.mergeFields){const b=J0(e,x,t);if(!l.contains(b))throw new Te(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);sS(g,b)||g.push(b)}d=new bs(g),m=l.fieldTransforms.filter(x=>d.covers(x.field))}else d=null,m=l.fieldTransforms;return new IO(new is(u),d,m)}class bd extends oc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function OO(n,e,t){return new Am({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rx extends oc{_toFieldTransform(e){return new Uy(e.path,new Yu)}isEqual(e){return e instanceof rx}}class ax extends oc{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=OO(this,e,!0),s=this.vc.map(a=>lc(a,t)),i=new $l(s);return new Uy(e.path,i)}isEqual(e){return e instanceof ax&&va(this.vc,e.vc)}}class ox extends oc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Xu(e.serializer,aN(e.serializer,this.Fc));return new Uy(e.path,t)}isEqual(e){return e instanceof ox&&this.Fc===e.Fc}}function PO(n,e,t,s){const i=n.Cc(1,e,t);lx("Data must be an object, but it was:",i,s);const a=[],l=is.empty();ka(s,(d,m)=>{const g=cx(e,d,t);m=gn(m);const x=i.yc(g);if(m instanceof bd)a.push(g);else{const b=lc(m,x);b!=null&&(a.push(g),l.set(g,b))}});const u=new bs(a);return new ZN(l,u,i.fieldTransforms)}function LO(n,e,t,s,i,a){const l=n.Cc(1,e,t),u=[J0(e,s,t)],d=[i];if(a.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)u.push(J0(e,a[b])),d.push(a[b+1]);const m=[],g=is.empty();for(let b=u.length-1;b>=0;--b)if(!sS(m,u[b])){const E=u[b];let N=d[b];N=gn(N);const w=l.yc(E);if(N instanceof bd)m.push(E);else{const T=lc(N,w);T!=null&&(m.push(E),g.set(E,T))}}const x=new bs(m);return new ZN(g,x,l.fieldTransforms)}function VO(n,e,t,s=!1){return lc(t,n.Cc(s?4:3,e))}function lc(n,e){if(nS(n=gn(n)))return lx("Unsupported field value:",e,n),tS(n,e);if(n instanceof oc)return function(s,i){if(!eS(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,i){const a=[];let l=0;for(const u of s){let d=lc(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(n,e)}return function(s,i){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aN(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Vt.fromDate(s);return{timestampValue:Wf(i.serializer,a)}}if(s instanceof Vt){const a=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wf(i.serializer,a)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ps)return{bytesValue:yN(i.serializer,s._byteString)};if(s instanceof Zt){const a=i.databaseId,l=s.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$y(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Ii)return function(l,u){return{mapValue:{fields:{[HT]:{stringValue:GT},[Hf]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return zy(u.serializer,m)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${fm(s)}`)}(n,e)}function tS(n,e){const t={};return VT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(n,(s,i)=>{const a=lc(i,e.mc(s));a!=null&&(t[s]=a)}),{mapValue:{fields:t}}}function nS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof ji||n instanceof Ps||n instanceof Zt||n instanceof oc||n instanceof Ii)}function lx(n,e,t){if(!nS(t)||!PT(t)){const s=fm(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function J0(n,e,t){if((e=gn(e))instanceof Sm)return e._internalPath;if(typeof e=="string")return cx(n,e);throw Qf("Field path arguments must be of type string or ",n,!1,void 0,t)}const zO=new RegExp("[~\\*/\\[\\]]");function cx(n,e,t){if(e.search(zO)>=0)throw Qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sm(...e.split("."))._internalPath}catch{throw Qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qf(n,e,t,s,i){const a=s&&!s.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${s}`),l&&(d+=` in document ${i}`),d+=")"),new Te(ce.INVALID_ARGUMENT,u+n+d)}function sS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t,s,i,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ux("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UO extends iS{data(){return super.data()}}function ux(n,e){return typeof e=="string"?cx(n,e):e instanceof Sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dx{}class FO extends dx{}function rS(n,e,...t){let s=[];e instanceof dx&&s.push(e),s=s.concat(t),function(a){const l=a.filter(d=>d instanceof hx).length,u=a.filter(d=>d instanceof Cm).length;if(l>1||l>0&&u>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)n=i._apply(n);return n}class Cm extends FO{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Cm(e,t,s)}_apply(e){const t=this._parse(e);return oS(e._query,t),new ac(e.firestore,e.converter,B0(e._query,t))}_parse(e){const t=ix(e.firestore);return function(a,l,u,d,m,g,x){let b;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Iw(x,g);const N=[];for(const w of x)N.push(jw(d,a,w));b={arrayValue:{values:N}}}else b=jw(d,a,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Iw(x,g),b=VO(u,l,x,g==="in"||g==="not-in");return on.create(m,g,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function aS(n,e,t){const s=e,i=ux("where",n);return Cm._create(i,s,t)}class hx extends dx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hx(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const d of u)oS(l,d),l=B0(l,d)}(e._query,t),new ac(e.firestore,e.converter,B0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jw(n,e,t){if(typeof(t=gn(t))=="string"){if(t==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&t.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ot.fromString(t));if(!je.isDocumentKey(s))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Y1(n,new je(s))}if(t instanceof Zt)return Y1(n,t._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fm(t)}.`)}function Iw(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $O{convertValue(e,t="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ka(e,(i,a)=>{s[i]=this.convertValue(a,t)}),s}convertVectorValue(e){const t=e.fields?.[Hf].arrayValue?.values?.map(s=>Jt(s.doubleValue));return new Ii(t)}convertGeoPoint(e){return new ji(Jt(e.latitude),Jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=gm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const t=wa(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ot.fromString(e);wt(EN(s),9688,{name:e});const i=new qu(s.get(1),s.get(3)),a=new je(s.popFirst(5));return i.isEqual(t)||br(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xo extends iS{constructor(e,t,s,i,a,l){super(e,t,s,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ux("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=xo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",xo._jsonSchema={type:ln("string",xo._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Af extends xo{data(e={}){return super.data(e)}}class Ol{constructor(e,t,s,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Su(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Af(this._firestore,this._userDataWriter,s.key,s,new Su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Af(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Su(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new Af(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Su(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:GO(u.type),doc:d,oldIndex:m,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Iy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){n=vr(n,Zt);const e=vr(n.firestore,xd);return SO(sx(e),n._key).then(t=>qO(e,n,t))}Ol._jsonSchemaVersion="firestore/querySnapshot/1.0",Ol._jsonSchema={type:ln("string",Ol._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class lS extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function cS(n){n=vr(n,ac);const e=vr(n.firestore,xd),t=sx(e),s=new lS(e);return BO(n._query),AO(t,n._query).then(i=>new Ol(e,s,n,i))}function uc(n,e,t){n=vr(n,Zt);const s=vr(n.firestore,xd),i=HO(n.converter,e,t);return uS(s,[MO(ix(s),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ki.none())])}function Ys(n,e,t,...s){n=vr(n,Zt);const i=vr(n.firestore,xd),a=ix(i);let l;return l=typeof(e=gn(e))=="string"||e instanceof Sm?LO(a,"updateDoc",n._key,e,t,s):PO(a,"updateDoc",n._key,e),uS(i,[l.toMutation(n._key,ki.exists(!0))])}function uS(n,e){return function(s,i){const a=new pr;return s.asyncQueue.enqueueAndForget(async()=>mO(await NO(s),i,a)),a.promise}(sx(n),e)}function qO(n,e,t){const s=t.docs.get(e._key),i=new lS(n);return new xo(n,i,e._key,s,new Su(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){return new bd("deleteField")}function wr(){return new rx("serverTimestamp")}function Cf(...n){return new ax("arrayUnion",n)}function zn(n){return new ox("increment",n)}(function(e,t=!0){(function(i){nc=i})(ec),Ll(new _o("firestore",(s,{instanceIdentifier:i,options:a})=>{const l=s.getProvider("app").getImmediate(),u=new xd(new P5(s.getProvider("auth-internal")),new z5(l,s.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(m.options.projectId,g)}(l,i),l);return a={useFetchStreams:t,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),ga(O1,P1,e),ga(O1,P1,"esm2020")})();const YO={apiKey:"AIzaSyDJC6o0mIkW4QVCuuJWsMAaZGu4HU7SHEE",authDomain:"pesstatszone.firebaseapp.com",projectId:"pesstatszone",storageBucket:"pesstatszone.firebasestorage.app",messagingSenderId:"1032826590191",appId:"1:1032826590191:web:787beb3a7e5f75cf9b5c1a"},dS=$E(YO),Yh=R5(dS),Sn=kO(dS);var kf={exports:{}},KO=kf.exports,Dw;function XO(){return Dw||(Dw=1,function(n){(function(e,t){n.exports=t(e)})(typeof B_>"u"?typeof window>"u"?KO:window:B_,function(e){if(typeof e>"u"&&typeof e.document>"u")return!1;var t,s,i,a,l,u=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,d='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',m={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},g={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},x={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},b={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},E={Show:"Show",Ask:"Ask",Prompt:"Prompt"},N={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},w={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},T={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},k={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},M={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},I=function(q){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+q+u)},z=function(q){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3",`
`+q+u)},U=function(q){return q||(q="head"),e.document[q]!==void 0||(I(`
Notiflix needs to be appended to the "<`+q+'>" element, but you called it before the "<'+q+'>" element has been created.'),!1)},$=function(q,X){if(!U("head"))return!1;if(q()!==null&&!e.document.getElementById(X)){var te=e.document.createElement("style");te.id=X,te.innerHTML=q(),e.document.head.appendChild(te)}},A=function(){var q={},X=!1,te=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(X=arguments[0],te++);for(var Se=function(Oe){for(var We in Oe)Object.prototype.hasOwnProperty.call(Oe,We)&&(q[We]=X&&Object.prototype.toString.call(Oe[We])==="[object Object]"?A(q[We],Oe[We]):Oe[We])};te<arguments.length;te++)Se(arguments[te]);return q},R=function(q){var X=e.document.createElement("div");return X.innerHTML=q,X.textContent||X.innerText||""},j=function(q,X){q||(q="110px"),X||(X="#32c682");var te='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+q+'" height="'+q+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return te},V=function(q,X){q||(q="110px"),X||(X="#ff5549");var te='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+q+'" height="'+q+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return te},F=function(q,X){q||(q="110px"),X||(X="#eebf31");var te='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+q+'" height="'+q+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return te},O=function(q,X){q||(q="110px"),X||(X="#26c0d3");var te='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+q+'" height="'+q+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return te},L=function(q,X){q||(q="60px"),X||(X="#32c682");var te='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+X+'" width="'+q+'" height="'+q+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';return te},ge=function(q,X){q||(q="60px"),X||(X="#32c682");var te='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+X+'" width="'+q+'" height="'+q+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';return te},de=function(q,X){q||(q="60px"),X||(X="#32c682");var te='<svg xmlns="http://www.w3.org/2000/svg" width="'+q+'" height="'+q+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+q+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+q+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+X+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';return te},W=function(q,X){q||(q="60px"),X||(X="#32c682");var te='<svg xmlns="http://www.w3.org/2000/svg" fill="'+X+'" width="'+q+'" height="'+q+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';return te},ae=function(q,X){q||(q="60px"),X||(X="#32c682");var te='<svg xmlns="http://www.w3.org/2000/svg" fill="'+X+'" width="'+q+'" height="'+q+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';return te},we=function(q,X){q||(q="60px"),X||(X="#32c682");var te='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+X+'" width="'+q+'" height="'+q+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';return te},De=function(q,X,te){q||(q="60px");var Se='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+q+'" height="'+q+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+X+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+te+'" stroke="'+te+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>';return Se},H=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},ne=0,he=function(q,X,te,Se){if(!U("body"))return!1;t||ut.Notify.init({});var Oe=A(!0,t,{});if(typeof te=="object"&&!Array.isArray(te)||typeof Se=="object"&&!Array.isArray(Se)){var We={};typeof te=="object"?We=te:typeof Se=="object"&&(We=Se),t=A(!0,t,We)}var ze=t[q.toLocaleLowerCase("en")];ne++,typeof X!="string"&&(X="Notiflix "+q),t.plainText&&(X=R(X)),!t.plainText&&X.length>t.messageMaxLength&&(t=A(!0,t,{closeButton:!0,messageMaxLength:150}),X='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),X.length>t.messageMaxLength&&(X=X.substring(0,t.messageMaxLength)+"..."),t.fontAwesomeIconStyle==="shadow"&&(ze.fontAwesomeIconColor=ze.background),t.cssAnimation||(t.cssAnimationDuration=0);var _e=e.document.getElementById(g.wrapID)||e.document.createElement("div");if(_e.id=g.wrapID,_e.style.width=t.width,_e.style.zIndex=t.zindex,_e.style.opacity=t.opacity,t.position==="center-center"?(_e.style.left=t.distance,_e.style.top=t.distance,_e.style.right=t.distance,_e.style.bottom=t.distance,_e.style.margin="auto",_e.classList.add("nx-flex-center-center"),_e.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",_e.style.display="flex",_e.style.flexWrap="wrap",_e.style.flexDirection="column",_e.style.justifyContent="center",_e.style.alignItems="center",_e.style.pointerEvents="none"):t.position==="center-top"?(_e.style.left=t.distance,_e.style.right=t.distance,_e.style.top=t.distance,_e.style.bottom="auto",_e.style.margin="auto"):t.position==="center-bottom"?(_e.style.left=t.distance,_e.style.right=t.distance,_e.style.bottom=t.distance,_e.style.top="auto",_e.style.margin="auto"):t.position==="right-bottom"?(_e.style.right=t.distance,_e.style.bottom=t.distance,_e.style.top="auto",_e.style.left="auto"):t.position==="left-top"?(_e.style.left=t.distance,_e.style.top=t.distance,_e.style.right="auto",_e.style.bottom="auto"):t.position==="left-bottom"?(_e.style.left=t.distance,_e.style.bottom=t.distance,_e.style.top="auto",_e.style.right="auto"):(_e.style.right=t.distance,_e.style.top=t.distance,_e.style.left="auto",_e.style.bottom="auto"),t.backOverlay){var tt=e.document.getElementById(g.overlayID)||e.document.createElement("div");tt.id=g.overlayID,tt.style.width="100%",tt.style.height="100%",tt.style.position="fixed",tt.style.zIndex=t.zindex-1,tt.style.left=0,tt.style.top=0,tt.style.right=0,tt.style.bottom=0,tt.style.background=ze.backOverlayColor||t.backOverlayColor,tt.className=t.cssAnimation?"nx-with-animation":"",tt.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(g.overlayID)||e.document.body.appendChild(tt)}e.document.getElementById(g.wrapID)||e.document.body.appendChild(_e);var ke=e.document.createElement("div");ke.id=t.ID+"-"+ne,ke.className=t.className+" "+ze.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&typeof te!="function"?"nx-with-close-button":"")+" "+(typeof te=="function"?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),ke.style.fontSize=t.fontSize,ke.style.color=ze.textColor,ke.style.background=ze.background,ke.style.borderRadius=t.borderRadius,ke.style.pointerEvents="all",t.rtl&&(ke.setAttribute("dir","rtl"),ke.classList.add("nx-rtl-on")),ke.style.fontFamily='"'+t.fontFamily+'", '+d,t.cssAnimation&&(ke.style.animationDuration=t.cssAnimationDuration+"ms");var ft="";if(t.closeButton&&typeof te!="function"&&(ft='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+ze.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),!t.useIcon)ke.innerHTML='<span class="nx-message">'+X+"</span>"+(t.closeButton?ft:"");else if(t.useFontAwesome)ke.innerHTML='<i style="color:'+ze.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+ze.fontAwesomeClassName+" "+(t.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+X+"</span>"+(t.closeButton?ft:"");else{var It="";q===m.Success?It='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ze.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':q===m.Failure?It='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ze.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':q===m.Warning?It='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ze.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':q===m.Info&&(It='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ze.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),ke.innerHTML=It+'<span class="nx-message nx-with-icon">'+X+"</span>"+(t.closeButton?ft:"")}if(t.position==="left-bottom"||t.position==="right-bottom"){var Xe=e.document.getElementById(g.wrapID);Xe.insertBefore(ke,Xe.firstChild)}else e.document.getElementById(g.wrapID).appendChild(ke);var Pe=e.document.getElementById(ke.id);if(Pe){var He,nt,st=function(){Pe.classList.add("nx-remove");var Fe=e.document.getElementById(g.overlayID);Fe&&0>=_e.childElementCount&&Fe.classList.add("nx-remove"),clearTimeout(He)},qn=function(){if(Pe&&Pe.parentNode!==null&&Pe.parentNode.removeChild(Pe),0>=_e.childElementCount&&_e.parentNode!==null){_e.parentNode.removeChild(_e);var Fe=e.document.getElementById(g.overlayID);Fe&&Fe.parentNode!==null&&Fe.parentNode.removeChild(Fe)}clearTimeout(nt)};if(t.closeButton&&typeof te!="function"){var un=e.document.getElementById(ke.id).querySelector("span.nx-close-button");un.addEventListener("click",function(){st();var Fe=setTimeout(function(){qn(),clearTimeout(Fe)},t.cssAnimationDuration)})}if((typeof te=="function"||t.clickToClose)&&Pe.addEventListener("click",function(){typeof te=="function"&&te(),st();var Fe=setTimeout(function(){qn(),clearTimeout(Fe)},t.cssAnimationDuration)}),!t.closeButton&&typeof te!="function"){var Bt=function(){He=setTimeout(function(){st()},t.timeout),nt=setTimeout(function(){qn()},t.timeout+t.cssAnimationDuration)};Bt(),t.pauseOnHover&&(Pe.addEventListener("mouseenter",function(){Pe.classList.add("nx-paused"),clearTimeout(He),clearTimeout(nt)}),Pe.addEventListener("mouseleave",function(){Pe.classList.remove("nx-paused"),Bt()}))}}if(t.showOnlyTheLastOne&&0<ne)for(var Ft,dt=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+ne+"])"),Wn=0;Wn<dt.length;Wn++)Ft=dt[Wn],Ft.parentNode!==null&&Ft.parentNode.removeChild(Ft);t=A(!0,t,Oe)},re=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},me=function(q,X,te,Se,Oe,We){if(!U("body"))return!1;s||ut.Report.init({});var ze={};if(typeof Oe=="object"&&!Array.isArray(Oe)||typeof We=="object"&&!Array.isArray(We)){var _e={};typeof Oe=="object"?_e=Oe:typeof We=="object"&&(_e=We),ze=A(!0,s,{}),s=A(!0,s,_e)}var tt=s[q.toLocaleLowerCase("en")];typeof X!="string"&&(X="Notiflix "+q),typeof te!="string"&&(q===x.Success?te='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':q===x.Failure?te='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':q===x.Warning?te='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':q===x.Info&&(te='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),typeof Se!="string"&&(Se="Okay"),s.plainText&&(X=R(X),te=R(te),Se=R(Se)),s.plainText||(X.length>s.titleMaxLength&&(X="Possible HTML Tags Error",te='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',Se="Okay"),te.length>s.messageMaxLength&&(X="Possible HTML Tags Error",te='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',Se="Okay"),Se.length>s.buttonMaxLength&&(X="Possible HTML Tags Error",te='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',Se="Okay")),X.length>s.titleMaxLength&&(X=X.substring(0,s.titleMaxLength)+"..."),te.length>s.messageMaxLength&&(te=te.substring(0,s.messageMaxLength)+"..."),Se.length>s.buttonMaxLength&&(Se=Se.substring(0,s.buttonMaxLength)+"..."),s.cssAnimation||(s.cssAnimationDuration=0);var ke=e.document.createElement("div");ke.id=b.ID,ke.className=s.className,ke.style.zIndex=s.zindex,ke.style.borderRadius=s.borderRadius,ke.style.fontFamily='"'+s.fontFamily+'", '+d,s.rtl&&(ke.setAttribute("dir","rtl"),ke.classList.add("nx-rtl-on")),ke.style.display="flex",ke.style.flexWrap="wrap",ke.style.flexDirection="column",ke.style.alignItems="center",ke.style.justifyContent="center";var ft="",It=s.backOverlayClickToClose===!0;s.backOverlay&&(ft='<div class="'+s.className+"-overlay"+(s.cssAnimation?" nx-with-animation":"")+(It?" nx-report-click-to-close":"")+'" style="background:'+(tt.backOverlayColor||s.backOverlayColor)+";animation-duration:"+s.cssAnimationDuration+'ms;"></div>');var Xe="";if(q===x.Success?Xe=j(s.svgSize,tt.svgColor):q===x.Failure?Xe=V(s.svgSize,tt.svgColor):q===x.Warning?Xe=F(s.svgSize,tt.svgColor):q===x.Info&&(Xe=O(s.svgSize,tt.svgColor)),ke.innerHTML=ft+'<div class="'+s.className+"-content"+(s.cssAnimation?" nx-with-animation ":"")+" nx-"+s.cssAnimationStyle+'" style="width:'+s.width+"; background:"+s.backgroundColor+"; animation-duration:"+s.cssAnimationDuration+'ms;"><div style="width:'+s.svgSize+"; height:"+s.svgSize+';" class="'+s.className+'-icon">'+Xe+'</div><h5 class="'+s.className+'-title" style="font-weight:500; font-size:'+s.titleFontSize+"; color:"+tt.titleColor+';">'+X+'</h5><p class="'+s.className+'-message" style="font-size:'+s.messageFontSize+"; color:"+tt.messageColor+';">'+te+'</p><a id="NXReportButton" class="'+s.className+'-button" style="font-weight:500; font-size:'+s.buttonFontSize+"; background:"+tt.buttonBackground+"; color:"+tt.buttonColor+';">'+Se+"</a></div>",!e.document.getElementById(ke.id)){e.document.body.appendChild(ke);var Pe=function(){var st=e.document.getElementById(ke.id);st.classList.add("nx-remove");var qn=setTimeout(function(){st.parentNode!==null&&st.parentNode.removeChild(st),clearTimeout(qn)},s.cssAnimationDuration)},He=e.document.getElementById("NXReportButton");if(He.addEventListener("click",function(){typeof Oe=="function"&&Oe(),Pe()}),ft&&It){var nt=e.document.querySelector(".nx-report-click-to-close");nt.addEventListener("click",function(){Pe()})}}s=A(!0,s,ze)},xe=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},ye=function(q,X,te,Se,Oe,We,ze,_e,tt){if(!U("body"))return!1;i||ut.Confirm.init({});var ke=A(!0,i,{});typeof tt!="object"||Array.isArray(tt)||(i=A(!0,i,tt)),typeof X!="string"&&(X="Notiflix Confirm"),typeof te!="string"&&(te="Do you agree with me?"),typeof Oe!="string"&&(Oe="Yes"),typeof We!="string"&&(We="No"),typeof ze!="function"&&(ze=void 0),typeof _e!="function"&&(_e=void 0),i.plainText&&(X=R(X),te=R(te),Oe=R(Oe),We=R(We)),i.plainText||(X.length>i.titleMaxLength&&(X="Possible HTML Tags Error",te='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',Oe="Okay",We="..."),te.length>i.messageMaxLength&&(X="Possible HTML Tags Error",te='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',Oe="Okay",We="..."),(Oe.length||We.length)>i.buttonsMaxLength&&(X="Possible HTML Tags Error",te='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',Oe="Okay",We="...")),X.length>i.titleMaxLength&&(X=X.substring(0,i.titleMaxLength)+"..."),te.length>i.messageMaxLength&&(te=te.substring(0,i.messageMaxLength)+"..."),Oe.length>i.buttonsMaxLength&&(Oe=Oe.substring(0,i.buttonsMaxLength)+"..."),We.length>i.buttonsMaxLength&&(We=We.substring(0,i.buttonsMaxLength)+"..."),i.cssAnimation||(i.cssAnimationDuration=0);var ft=e.document.createElement("div");ft.id=N.ID,ft.className=i.className+(i.cssAnimation?" nx-with-animation nx-"+i.cssAnimationStyle:""),ft.style.zIndex=i.zindex,ft.style.padding=i.distance,i.rtl&&(ft.setAttribute("dir","rtl"),ft.classList.add("nx-rtl-on"));var It=typeof i.position=="string"?i.position.trim():"center";ft.classList.add("nx-position-"+It),ft.style.fontFamily='"'+i.fontFamily+'", '+d;var Xe="";i.backOverlay&&(Xe='<div class="'+i.className+"-overlay"+(i.cssAnimation?" nx-with-animation":"")+'" style="background:'+i.backOverlayColor+";animation-duration:"+i.cssAnimationDuration+'ms;"></div>');var Pe="";typeof ze=="function"&&(Pe='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+i.cancelButtonColor+";background:"+i.cancelButtonBackground+";font-size:"+i.buttonsFontSize+';">'+We+"</a>");var He="",nt=null,st=void 0;if(q===E.Ask||q===E.Prompt){nt=Se||"";var qn=q===E.Ask||200<nt.length?Math.ceil(1.5*nt.length):250,un=q===E.Prompt?'value="'+nt+'"':"";He='<div><input id="NXConfirmValidationInput" type="text" '+un+' maxlength="'+qn+'" style="font-size:'+i.messageFontSize+";border-radius: "+i.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(ft.innerHTML=Xe+'<div class="'+i.className+'-content" style="width:'+i.width+"; background:"+i.backgroundColor+"; animation-duration:"+i.cssAnimationDuration+"ms; border-radius: "+i.borderRadius+';"><div class="'+i.className+'-head"><h5 style="color:'+i.titleColor+";font-size:"+i.titleFontSize+';">'+X+'</h5><div style="color:'+i.messageColor+";font-size:"+i.messageFontSize+';">'+te+He+'</div></div><div class="'+i.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+(typeof ze=="function"?"":" nx-full")+'" style="color:'+i.okButtonColor+";background:"+i.okButtonBackground+";font-size:"+i.buttonsFontSize+';">'+Oe+"</a>"+Pe+"</div></div>",!e.document.getElementById(ft.id)){e.document.body.appendChild(ft);var Bt=e.document.getElementById(ft.id),Ft=e.document.getElementById("NXConfirmButtonOk"),dt=e.document.getElementById("NXConfirmValidationInput");if(dt&&(dt.focus(),dt.setSelectionRange(0,(dt.value||"").length),dt.addEventListener("keyup",function(Fe){var _s=Fe.target.value;if(q===E.Ask&&_s!==nt)Fe.preventDefault(),dt.classList.add("nx-validation-failure"),dt.classList.remove("nx-validation-success");else{q===E.Ask&&(dt.classList.remove("nx-validation-failure"),dt.classList.add("nx-validation-success"));var Bs=(Fe.key||"").toLocaleLowerCase("en")==="enter"||Fe.keyCode===13;Bs&&Ft.dispatchEvent(new Event("click"))}})),Ft.addEventListener("click",function(Fe){if(q===E.Ask&&nt&&dt){var _s=(dt.value||"").toString();if(_s!==nt)return dt.focus(),dt.classList.add("nx-validation-failure"),Fe.stopPropagation(),Fe.preventDefault(),Fe.returnValue=!1,Fe.cancelBubble=!0,!1;dt.classList.remove("nx-validation-failure")}typeof ze=="function"&&(q===E.Prompt&&dt&&(st=dt.value||""),ze(st)),Bt.classList.add("nx-remove");var Bs=setTimeout(function(){Bt.parentNode!==null&&(Bt.parentNode.removeChild(Bt),clearTimeout(Bs))},i.cssAnimationDuration)}),typeof ze=="function"){var Wn=e.document.getElementById("NXConfirmButtonCancel");Wn.addEventListener("click",function(){typeof _e=="function"&&(q===E.Prompt&&dt&&(st=dt.value||""),_e(st)),Bt.classList.add("nx-remove");var Fe=setTimeout(function(){Bt.parentNode!==null&&(Bt.parentNode.removeChild(Bt),clearTimeout(Fe))},i.cssAnimationDuration)})}}i=A(!0,i,ke)},Ie=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},be=function(q,X,te,Se,Oe){if(!U("body"))return!1;a||ut.Loading.init({});var We=A(!0,a,{});if(typeof X=="object"&&!Array.isArray(X)||typeof te=="object"&&!Array.isArray(te)){var ze={};typeof X=="object"?ze=X:typeof te=="object"&&(ze=te),a=A(!0,a,ze)}var _e="";if(typeof X=="string"&&0<X.length&&(_e=X),Se){_e=_e.length>a.messageMaxLength?R(_e).toString().substring(0,a.messageMaxLength)+"...":R(_e).toString();var tt="";0<_e.length&&(tt='<p id="'+a.messageID+'" class="nx-loading-message" style="color:'+a.messageColor+";font-size:"+a.messageFontSize+';">'+_e+"</p>"),a.cssAnimation||(a.cssAnimationDuration=0);var ke="";if(q===w.Standard)ke=L(a.svgSize,a.svgColor);else if(q===w.Hourglass)ke=ge(a.svgSize,a.svgColor);else if(q===w.Circle)ke=de(a.svgSize,a.svgColor);else if(q===w.Arrows)ke=W(a.svgSize,a.svgColor);else if(q===w.Dots)ke=ae(a.svgSize,a.svgColor);else if(q===w.Pulse)ke=we(a.svgSize,a.svgColor);else if(q===w.Custom&&a.customSvgCode!==null&&a.customSvgUrl===null)ke=a.customSvgCode||"";else if(q===w.Custom&&a.customSvgUrl!==null&&a.customSvgCode===null)ke='<img class="nx-custom-loading-icon" width="'+a.svgSize+'" height="'+a.svgSize+'" src="'+a.customSvgUrl+'" alt="Notiflix">';else{if(q===w.Custom&&(a.customSvgUrl===null||a.customSvgCode===null))return I('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;ke=De(a.svgSize,"#f8f8f8","#32c682")}var ft=parseInt((a.svgSize||"").replace(/[^0-9]/g,"")),It=e.innerWidth,Xe=ft>=It?It-40+"px":ft+"px",Pe='<div style="width:'+Xe+"; height:"+Xe+';" class="'+a.className+"-icon"+(0<_e.length?" nx-with-message":"")+'">'+ke+"</div>",He=e.document.createElement("div");if(He.id=T.ID,He.className=a.className+(a.cssAnimation?" nx-with-animation":"")+(a.clickToClose?" nx-loading-click-to-close":""),He.style.zIndex=a.zindex,He.style.background=a.backgroundColor,He.style.animationDuration=a.cssAnimationDuration+"ms",He.style.fontFamily='"'+a.fontFamily+'", '+d,He.style.display="flex",He.style.flexWrap="wrap",He.style.flexDirection="column",He.style.alignItems="center",He.style.justifyContent="center",a.rtl&&(He.setAttribute("dir","rtl"),He.classList.add("nx-rtl-on")),He.innerHTML=Pe+tt,!e.document.getElementById(He.id)&&(e.document.body.appendChild(He),a.clickToClose)){var nt=e.document.getElementById(He.id);nt.addEventListener("click",function(){He.classList.add("nx-remove");var un=setTimeout(function(){He.parentNode!==null&&(He.parentNode.removeChild(He),clearTimeout(un))},a.cssAnimationDuration)})}}else if(e.document.getElementById(T.ID))var st=e.document.getElementById(T.ID),qn=setTimeout(function(){st.classList.add("nx-remove");var un=setTimeout(function(){st.parentNode!==null&&(st.parentNode.removeChild(st),clearTimeout(un))},a.cssAnimationDuration);clearTimeout(qn)},Oe);a=A(!0,a,We)},Ke=function(q){typeof q!="string"&&(q="");var X=e.document.getElementById(T.ID);if(X)if(0<q.length){q=q.length>a.messageMaxLength?R(q).substring(0,a.messageMaxLength)+"...":R(q);var te=X.getElementsByTagName("p")[0];if(te)te.innerHTML=q;else{var Se=e.document.createElement("p");Se.id=a.messageID,Se.className="nx-loading-message nx-loading-message-new",Se.style.color=a.messageColor,Se.style.fontSize=a.messageFontSize,Se.innerHTML=q,X.appendChild(Se)}}else I("Where is the new message?")},qe=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},Me=0,Qe=function(q,X,te,Se,Oe,We){var ze;if(Array.isArray(te)){if(1>te.length)return I("Array of HTMLElements should contains at least one HTMLElement."),!1;ze=te}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,te)){if(1>te.length)return I("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;ze=Array.prototype.slice.call(te)}else{var _e=typeof te!="string"||1>(te||"").length||(te||"").length===1&&((te||"")[0]==="#"||(te||"")[0]===".");if(_e)return I("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var tt=e.document.querySelectorAll(te);if(1>tt.length)return I('You called the "Notiflix.Block..." function with "'+te+'" selector, but there is no such element(s) in the document.'),!1;ze=tt}l||ut.Block.init({});var ke=A(!0,l,{});if(typeof Se=="object"&&!Array.isArray(Se)||typeof Oe=="object"&&!Array.isArray(Oe)){var ft={};typeof Se=="object"?ft=Se:typeof Oe=="object"&&(ft=Oe),l=A(!0,l,ft)}var It="";typeof Se=="string"&&0<Se.length&&(It=Se),l.cssAnimation||(l.cssAnimationDuration=0);var Xe=M.className;typeof l.className=="string"&&(Xe=l.className.trim());var Pe=typeof l.querySelectorLimit=="number"?l.querySelectorLimit:200,He=(ze||[]).length>=Pe?Pe:ze.length,nt="nx-block-temporary-position";if(q){for(var st,qn=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],un=0;un<He;un++)if(st=ze[un],st){if(-1<qn.indexOf(st.tagName.toLocaleLowerCase("en")))break;var Bt=st.querySelectorAll("[id^="+M.ID+"]");if(1>Bt.length){var Ft="";X&&(X===k.Hourglass?Ft=ge(l.svgSize,l.svgColor):X===k.Circle?Ft=de(l.svgSize,l.svgColor):X===k.Arrows?Ft=W(l.svgSize,l.svgColor):X===k.Dots?Ft=ae(l.svgSize,l.svgColor):X===k.Pulse?Ft=we(l.svgSize,l.svgColor):Ft=L(l.svgSize,l.svgColor));var dt='<span class="'+Xe+'-icon" style="width:'+l.svgSize+";height:"+l.svgSize+';">'+Ft+"</span>",Wn="";0<It.length&&(It=It.length>l.messageMaxLength?R(It).substring(0,l.messageMaxLength)+"...":R(It),Wn='<span style="font-size:'+l.messageFontSize+";color:"+l.messageColor+';" class="'+Xe+'-message">'+It+"</span>"),Me++;var Fe=e.document.createElement("div");Fe.id=M.ID+"-"+Me,Fe.className=Xe+(l.cssAnimation?" nx-with-animation":""),Fe.style.position=l.position,Fe.style.zIndex=l.zindex,Fe.style.background=l.backgroundColor,Fe.style.animationDuration=l.cssAnimationDuration+"ms",Fe.style.fontFamily='"'+l.fontFamily+'", '+d,Fe.style.display="flex",Fe.style.flexWrap="wrap",Fe.style.flexDirection="column",Fe.style.alignItems="center",Fe.style.justifyContent="center",l.rtl&&(Fe.setAttribute("dir","rtl"),Fe.classList.add("nx-rtl-on")),Fe.innerHTML=dt+Wn;var _s=e.getComputedStyle(st).getPropertyValue("position"),Bs=typeof _s=="string"?_s.toLocaleLowerCase("en"):"relative",Nr=Math.round(1.25*parseInt(l.svgSize))+40,Fs=st.offsetHeight||0,os="";Nr>Fs&&(os="min-height:"+Nr+"px;");var Sr="";Sr=st.getAttribute("id")?"#"+st.getAttribute("id"):st.classList[0]?"."+st.classList[0]:(st.tagName||"").toLocaleLowerCase("en");var ls="",Ar=-1>=["absolute","relative","fixed","sticky"].indexOf(Bs);if(Ar||0<os.length){if(!U("head"))return!1;Ar&&(ls="position:relative!important;");var si='<style id="Style-'+M.ID+"-"+Me+'">'+Sr+"."+nt+"{"+ls+os+"}</style>",Oi=e.document.createRange();Oi.selectNode(e.document.head);var ii=Oi.createContextualFragment(si);e.document.head.appendChild(ii),st.classList.add(nt)}st.appendChild(Fe)}}}else var Io=function(Et){var yn=setTimeout(function(){Et.parentNode!==null&&Et.parentNode.removeChild(Et);var Pi=Et.getAttribute("id"),cs=e.document.getElementById("Style-"+Pi);cs&&cs.parentNode!==null&&cs.parentNode.removeChild(cs),clearTimeout(yn)},l.cssAnimationDuration)},Dt=function(Et){if(Et&&0<Et.length)for(var yn,Pi=0;Pi<Et.length;Pi++)yn=Et[Pi],yn&&(yn.classList.add("nx-remove"),Io(yn));else z(typeof te=="string"?'"Notiflix.Block.remove();" function called with "'+te+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+te+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Yt=function(Et){var yn=setTimeout(function(){Et.classList.remove(nt),clearTimeout(yn)},l.cssAnimationDuration+300)},Gt=setTimeout(function(){for(var Et,yn=0;yn<He;yn++)Et=ze[yn],Et&&(Yt(Et),Bt=Et.querySelectorAll("[id^="+M.ID+"]"),Dt(Bt));clearTimeout(Gt)},We);l=A(!0,l,ke)},ut={Notify:{init:function(q){t=A(!0,g,q),$(H,"NotiflixNotifyInternalCSS")},merge:function(q){return t?void(t=A(!0,t,q)):(I("You have to initialize the Notify module before call Merge function."),!1)},success:function(q,X,te){he(m.Success,q,X,te)},failure:function(q,X,te){he(m.Failure,q,X,te)},warning:function(q,X,te){he(m.Warning,q,X,te)},info:function(q,X,te){he(m.Info,q,X,te)}},Report:{init:function(q){s=A(!0,b,q),$(re,"NotiflixReportInternalCSS")},merge:function(q){return s?void(s=A(!0,s,q)):(I("You have to initialize the Report module before call Merge function."),!1)},success:function(q,X,te,Se,Oe){me(x.Success,q,X,te,Se,Oe)},failure:function(q,X,te,Se,Oe){me(x.Failure,q,X,te,Se,Oe)},warning:function(q,X,te,Se,Oe){me(x.Warning,q,X,te,Se,Oe)},info:function(q,X,te,Se,Oe){me(x.Info,q,X,te,Se,Oe)}},Confirm:{init:function(q){i=A(!0,N,q),$(xe,"NotiflixConfirmInternalCSS")},merge:function(q){return i?void(i=A(!0,i,q)):(I("You have to initialize the Confirm module before call Merge function."),!1)},show:function(q,X,te,Se,Oe,We,ze){ye(E.Show,q,X,null,te,Se,Oe,We,ze)},ask:function(q,X,te,Se,Oe,We,ze,_e){ye(E.Ask,q,X,te,Se,Oe,We,ze,_e)},prompt:function(q,X,te,Se,Oe,We,ze,_e){ye(E.Prompt,q,X,te,Se,Oe,We,ze,_e)}},Loading:{init:function(q){a=A(!0,T,q),$(Ie,"NotiflixLoadingInternalCSS")},merge:function(q){return a?void(a=A(!0,a,q)):(I("You have to initialize the Loading module before call Merge function."),!1)},standard:function(q,X){be(w.Standard,q,X,!0,0)},hourglass:function(q,X){be(w.Hourglass,q,X,!0,0)},circle:function(q,X){be(w.Circle,q,X,!0,0)},arrows:function(q,X){be(w.Arrows,q,X,!0,0)},dots:function(q,X){be(w.Dots,q,X,!0,0)},pulse:function(q,X){be(w.Pulse,q,X,!0,0)},custom:function(q,X){be(w.Custom,q,X,!0,0)},notiflix:function(q,X){be(w.Notiflix,q,X,!0,0)},remove:function(q){typeof q!="number"&&(q=0),be(null,null,null,!1,q)},change:function(q){Ke(q)}},Block:{init:function(q){l=A(!0,M,q),$(qe,"NotiflixBlockInternalCSS")},merge:function(q){return l?void(l=A(!0,l,q)):(I('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(q,X,te){Qe(!0,k.Standard,q,X,te)},hourglass:function(q,X,te){Qe(!0,k.Hourglass,q,X,te)},circle:function(q,X,te){Qe(!0,k.Circle,q,X,te)},arrows:function(q,X,te){Qe(!0,k.Arrows,q,X,te)},dots:function(q,X,te){Qe(!0,k.Dots,q,X,te)},pulse:function(q,X,te){Qe(!0,k.Pulse,q,X,te)},remove:function(q,X){typeof X!="number"&&(X=0),Qe(!1,null,q,null,null,X)}}};return typeof e.Notiflix=="object"?A(!0,e.Notiflix,{Notify:ut.Notify,Report:ut.Report,Confirm:ut.Confirm,Loading:ut.Loading,Block:ut.Block}):{Notify:ut.Notify,Report:ut.Report,Confirm:ut.Confirm,Loading:ut.Loading,Block:ut.Block}})}(kf)),kf.exports}var QO=XO();const pe=yE(QO),JO={user:null,status:"loading",error:null},hS=B.createContext();function ZO(n,e){switch(e.type){case"AUTH_INIT":return{...n,status:"loading"};case"AUTH_READY":return{...n,user:e.payload,status:e.payload?"authenticated":"idle",error:null};case"LOGIN_REQUEST":return{...n,status:"loading",error:null};case"LOGIN_SUCCESS":return{...n,user:e.payload,status:"authenticated"};case"LOGIN_FAILURE":return{...n,user:null,status:"error",error:e.payload};case"LOGOUT_SUCCESS":return{...n,user:null,status:"idle"};case"REGISTER_REQUEST":return{...n,status:"loading",error:null};case"REGISTER_SUCCESS":return{...n,user:e.payload,status:"authenticated"};case"REGISTER_FAILURE":return{...n,user:null,status:"error",error:e.payload};default:return n}}const e3=({children:n})=>{const[e,t]=B.useReducer(ZO,JO);B.useEffect(()=>{t({type:"AUTH_INIT"});const l=xD(Yh,async u=>{if(!u){t({type:"AUTH_READY",payload:null});return}let d=u.displayName?.trim()||"";if(!d)try{const g=await getDoc(Hn(Sn,"users",u.uid)),x=g.exists()?(g.data()?.dtName||"").trim():"";if(x){d=x;try{await T1(u,{displayName:x})}catch{}}}catch{}d||(d=u.email?.split("@")[0]||"");const m={...u,displayName:d};t({type:"AUTH_READY",payload:m})});return()=>l()},[]);const s=async(l,u)=>{t({type:"LOGIN_REQUEST"});try{const d=await mD(Yh,l,u);t({type:"LOGIN_SUCCESS",payload:d.user}),pe.Notify.success("Inicio de sesin exitoso")}catch(d){t({type:"LOGIN_FAILURE",payload:d}),pe.Notify.failure("Error al iniciar sesin")}},i=async()=>{try{await bD(Yh),t({type:"LOGOUT_SUCCESS"}),pe.Notify.success("Sesin cerrada")}catch(l){pe.Notify.failure("Error al cerrar sesin"),console.error("Error al cerrar sesin:",l)}},a=async(l,u,d)=>{t({type:"REGISTER_REQUEST"});try{const m=await fD(Yh,l,u);await T1(m.user,{displayName:d}),await uc(Hn(Sn,"users",m.user.uid),{dtName:d,email:l,createdAt:wr()},{merge:!0}),t({type:"REGISTER_SUCCESS",payload:m.user}),pe.Notify.success("Registro exitoso")}catch(m){t({type:"REGISTER_FAILURE",payload:"Error al registrar usuario"}),pe.Notify.failure("Error al registrar usuario"),console.error("Error al registrar usuario:",m)}};return h.jsx(hS.Provider,{value:{user:e.user,loading:e.status==="loading",handleLogin:s,handleLogout:i,handleRegister:a,uid:e.user?.uid,isAuthenticated:e.status==="authenticated"},children:n})},cn=()=>B.useContext(hS),fx=(n={})=>{const[e,t]=B.useState(n);return{form:e,changed:({target:a})=>{const{name:l,value:u}=a;t({...e,[l]:u})},setValue:(a,l)=>{t(u=>({...u,[a]:l}))}}},t3=()=>{const{handleRegister:n}=cn(),{form:e,changed:t}=fx(),s=async i=>{i.preventDefault();let a=e;if(!a.email||!a.password||!a.nombre){pe.Notify.failure("Por favor, completa todos los campos");return}if(a.password!==a.confirmPassword){pe.Notify.failure("Las contraseas no coinciden");return}try{const l=await n(a.email,a.password,a.nombre)}catch(l){console.error("Error al registrar usuario:",l)}};return h.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:h.jsxs("form",{onSubmit:s,children:[h.jsx("label",{htmlFor:"nombre",children:"Director Tcnico"}),h.jsx("input",{name:"nombre",className:"w-full border rounded p-2",type:"text",placeholder:"Nombre del DT",required:!0,onChange:t}),h.jsx("label",{htmlFor:"email",children:"Email"}),h.jsx("input",{name:"email",className:"w-full border rounded p-2",type:"email",placeholder:"Email",required:!0,onChange:t}),h.jsx("label",{htmlFor:"password",children:"Contrasea"}),h.jsx("input",{name:"password",className:"w-full border rounded p-2",type:"password",placeholder:"Contrasea",required:!0,onChange:t}),h.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),h.jsx("input",{name:"confirmPassword",className:"w-full border rounded p-2",type:"password",placeholder:"Confirmar Contrasea",required:!0,onChange:t}),h.jsx("input",{className:"text-blue-600 hover:underline bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2",type:"submit",value:"Registrarse"})]})})},n3=()=>{const{form:n,changed:e}=fx(),{user:t,loading:s,handleLogin:i}=cn(),[a,l]=B.useState(!1),[u,d]=B.useState(!1),m=Ql();B.useEffect(()=>{if(t&&!s)m("/partidos",{replace:!0});else return},[t,s,m]),B.useEffect(()=>(s&&pe.Loading.circle("Cargando"),()=>{pe.Loading.remove()}),[s]);const g=async b=>{b.preventDefault();let{email:E,password:N}=n;if(!E||!N){pe.Notify.failure("Por favor, completa todos los campos");return}try{const w=await i(E,N)}catch(w){pe.Notify.failure("Error al iniciar sesin"),console.error("Error al iniciar sesin:",w)}},x=()=>{l(!a)};return h.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Iniciar Sesin"}),h.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:h.jsxs("form",{action:"",onSubmit:g,children:[h.jsx("label",{htmlFor:"email",children:"Email"}),h.jsx("input",{type:"email",name:"email",id:"email",onChange:e,className:"w-full border rounded p-2"}),h.jsx("label",{htmlFor:"password",children:"Contrasea"}),h.jsx("input",{type:u?"text":"password",name:"password",id:"password",onChange:e,className:"w-full border rounded p-2"}),h.jsx("button",{type:"button",onClick:()=>d(!u),className:"text-sm text-blue-600 hover:text-red-600",children:u?"Ocultar Contrasea":"Ver Contrasea"}),h.jsx("input",{type:"submit",value:"Ingresar",className:"text-blue-600 hover:font-bold bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2"})]})}),h.jsx("button",{onClick:x,className:"text-2xl font-bold mb-4 mt-4 text-center hover:text-blue-600 hover:cursor-pointer",children:"Registrarse"}),a&&h.jsx(t3,{})]})},fS={fecha:"2018-07-01",bootstrapped:!0,rival:"",activeClub:"",torneoName:"",torneoYear:null,torneoDisplay:"",condition:"",torneosIndex:[],matches:[],rivalesIndex:[],captain:"",starters:[],substitutes:[],goleadoresActiveClub:[],goleadoresRivales:[],autogolesFavor:0,editingMatchId:null,editingClub:null,editingCreatedAt:null};function s3(n,e){switch(e.type){case"ACTUALIZAR_CAMPO":return{...n,[e.campo]:e.valor};case"SET_FECHA":{const s=e.payload;return typeof s!="string"||s.trim()===""?n:{...n,fecha:s,bootstrapped:!0}}case"SET_RIVAL":{const s=e.payload;return typeof s!="string"||s.trim()===""?n:{...n,rival:s}}case"HYDRATE_FROM_FIREBASE":{const s=e.payload||{};return{...n,activeClub:s.activeClub??n.activeClub,torneosIndex:Array.isArray(s.torneosIndex)?s.torneosIndex:[],matches:Array.isArray(s.matches)?s.matches:n.matches,rivalesIndex:Array.isArray(s.rivalesIndex)?s.rivalesIndex:[],goleadoresActiveClub:Array.isArray(s.goleadoresActiveClub)?s.goleadoresActiveClub:n.goleadoresActiveClub}}case"SET_FORMACION":{const{captain:s,starters:i}=e.payload;return{...n,captain:s,starters:i}}case"SET_SUBS":const{substitutes:t}=e.payload;return{...n,substitutes:t};case"ADD_GOLEADOR":{const{name:s,activeClub:i}=e.payload;return n.goleadoresActiveClub.some(l=>l.name===s&&l.activeClub===i)?n:{...n,goleadoresActiveClub:[...n.goleadoresActiveClub,{name:s,activeClub:i,gol:!!e.payload.gol,doblete:!!e.payload.doblete,triplete:!!e.payload.triplete,hattrick:!!e.payload.hattrick,expulsion:!!e.payload.expulsion,isOwnGoal:!!e.payload.isOwnGoal}]}}case"TOGGLE_EVENT":{const{name:s,activeClub:i,event:a}=e.payload;return{...n,goleadoresActiveClub:n.goleadoresActiveClub.map(l=>l.name===s&&l.activeClub===i?{...l,[a]:!l[a]}:l)}}case"REMOVE_GOLEADOR":{const{name:s,activeClub:i}=e.payload;return{...n,goleadoresActiveClub:n.goleadoresActiveClub.filter(a=>!(a.name===s&&a.activeClub===i))}}case"RESET_FORM":return{...fS,activeClub:n.activeClub,torneosIndex:n.torneosIndex,matches:n.matches,rivalesIndex:n.rivalesIndex};case"OWN_GOAL_FAVOR_INC":return{...n,autogolesFavor:(n.autogolesFavor||0)+1};case"OWN_GOAL_FAVOR_DEC":return{...n,autogolesFavor:Math.max(0,(n.autogolesFavor||0)-1)};case"RIVAL_ADD":{const s=e.payload;return n.goleadoresRivales.some(a=>a.name===s.name&&a.club===s.club)?n:{...n,goleadoresRivales:[...n.goleadoresRivales,s]}}case"RIVAL_TOGGLE":{const{name:s,club:i,field:a}=e.payload;return{...n,goleadoresRivales:n.goleadoresRivales.map(l=>l.name===s&&l.club===i?{...l,[a]:!l[a]}:l)}}case"RIVAL_REMOVE":{const{name:s,club:i}=e.payload;return{...n,goleadoresRivales:n.goleadoresRivales.filter(a=>!(a.name===s&&a.club===i))}}case"LOAD_MATCH_FOR_EDIT":{const s=e.payload?.match;return s?{...n,editingMatchId:s.id,editingClub:s.club??null,editingCreatedAt:s.createdAt??null,fecha:s.fecha??"",captain:s.captain??"",condition:s.condition??"local",rival:s.rival??"",torneoName:s.torneoName??"",starters:Array.isArray(s.starters)?s.starters:[],substitutes:Array.isArray(s.substitutes)?s.substitutes:[],goleadoresActiveClub:Array.isArray(s.goleadoresActiveClub)?s.goleadoresActiveClub:[],goleadoresRivales:Array.isArray(s.goleadoresRivales)?s.goleadoresRivales:[],autogolesFavor:Number.isFinite(s.autogolesFavor)?s.autogolesFavor:0}:n}default:return n}}const mS=B.createContext(null);function Jn(){const n=B.useContext(mS);if(!n)throw new Error("usePartido debe usarse dentro de <PartidoProvider>");return n}function i3({children:n}){const[e,t]=B.useReducer(s3,fS),s=hr.useMemo(()=>({state:e,dispatch:t}),[e]);return h.jsx(mS.Provider,{value:s,children:n})}function Ee(n=""){return(n??"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const mx=async(n,e,t)=>{if(n)try{pe.Loading.standard("Cargando datos...");const s=Hn(Sn,"users",n),i=await cc(s);if(i.exists()){const a=i.data(),{lineups:l,torneosIndex:u,rivalesIndex:d}=a||{},m=Ee(a?.activeClub),g=m?a?.lineups?.[m]?.matches||[]:[];e({type:"HYDRATE_FROM_FIREBASE",payload:{torneosIndex:u,rivalesIndex:d,matches:g}}),t&&l&&typeof l=="object"&&(t({type:"LINEUPS_SET_ALL",payload:{lineups:l}}),t({type:"SET_MANAGED_CLUBS",payload:{clubs:Object.keys(l)}}));const x=g.map(b=>b?.fecha).filter(Boolean).sort((b,E)=>new Date(b)-new Date(E)).at(-1);x&&(pe.Notify.success("Info Sincronizado"),e({type:"ACTUALIZAR_CAMPO",campo:"fecha",valor:x}))}else console.warn("[Partido] no existe doc para uid:",n)}catch(s){console.error("Error al montar el formulario",s),pe.Notify.failure("Error al cargar el formulario")}finally{pe.Loading.remove()}},Us=(n,e,t)=>{B.useEffect(()=>{mx(n,e,t)},[n])},px="LINEUP_RESET",bo="LINEUP_SET_SELECTED",pS="LINEUP_SET_CAPTAIN",gx="LINEUP_ADD_STARTER",gS="LINEUP_REMOVE_STARTER",yx="LINEUP_SAVE_LOCAL",xx="CLUB_RESET",r3="PLAYERS_ADD",yS="PLAYERS_REMOVE",xS="LINEUP_DELETE_LOCAL",Qu="SAVE_CLUB_NAME",Ju="CLUB_LOAD_FROM_ACTIVE",km="LINEUPS_UPSERT_BUCKET",a3={captainName:null,starters:[],selectMode:"captain",selectedOption:"",lineups:{},activeClub:"",players:[],usedClub:!1,managedClubs:[]},bS=B.createContext();function An(){const n=B.useContext(bS);if(!n)throw new Error("useLineups debe usarse dentro de <LineupsProvider>");return n}function o3(n,e){switch(e.type){case xx:return{activeClub:"",players:[],lineups:{}};case px:return{...n,captainName:null,starters:[],selectMode:"captain",selectedOption:""};case bo:return{...n,selectedOption:e.payload};case pS:{if(!e.payload||typeof e.payload.captain!="string")return n;const t=Ee(e.payload.captain);if(t===""||n.starters.length>=11&&!n.starters.includes(t))return n;const s=n.starters.includes(t)?n.starters:[...n.starters,t];return{...n,captainName:t,starters:s,selectMode:"starters",selectedOption:""}}case yx:{const t=Ee(n.activeClub??"");if(!t)return n;const i=n.lineups?.[t]??{label:t,players:[],formations:[]};if(!e.payload)return n;const{id:a,captain:l,starters:u,createdAt:d}=e.payload,m=Ee(l),g=Array.isArray(u)?u.map(Ee):[],x=d&&!Number.isNaN(new Date(d).getTime());if(!a||g.length!==11||!m||!x||!g.includes(m))return n;const b=Array.isArray(i.players)?[...i.players]:[];if(i.formations.some(k=>k.id===a))return n;const N=new Date(d).toISOString(),w={id:a,createdAt:N,captain:m,starters:[...g]},T={label:i.label||t,players:b,formations:[w,...i.formations]};return{...n,lineups:{...n.lineups,[t]:T},captainName:null,starters:[],selectMode:"captain",selectedOption:""}}case gx:{if(!e.payload||typeof e.payload.player!="string")return n;const t=Ee(e.payload.player);return t===""||n.starters.length>=11||n.starters.includes(t)?n:{...n,starters:[...n.starters,t],selectMode:"starters",selectedOption:""}}case gS:{if(!e.payload||typeof e.payload.player!="string")return n;const t=Ee(e.payload.player);if(t===""||!n.starters.includes(t))return n;const s=n.starters.filter(a=>a!==t),i=t===n.captainName;return{...n,captainName:i?null:n.captainName,starters:s,selectMode:i?"captain":n.selectMode,selectedOption:""}}case xS:{if(!e.payload||typeof e.payload.id!="string")return n;const t=Ee(n.activeClub??"");if(!t)return n;const s=n.lineups?.[t];if(!s)return n;const i=s.formations.length,a=s.formations.filter(l=>l.id!==e.payload.id);return a.length===i?n:{...n,lineups:{...n.lineups,[t]:{...s,formations:a}}}}case"SET_MANAGED_CLUBS":{const t=new Set,s=(e.payload?.clubs||[]).map(i=>Ee(i)).filter(i=>i&&!t.has(i)&&t.add(i));return{...n,managedClubs:s}}case"UPDATE_TORNEO_CONFIG":return{...n,lineups:{...n.lineups,[e.payload.clubKey]:{...n.lineups[e.payload.clubKey],torneosConfig:{...n.lineups[e.payload.clubKey].torneosConfig,[e.payload.torneo]:e.payload.settings}}}};case"LINEUPS_SET_ALL":{const t=e.payload?.lineups;return!t||typeof t!="object"?n:{...n,lineups:{...n.lineups,...t}}}case r3:{if(!e.payload||typeof e.payload.name!="string")return n;const t=Ee(e.payload.name);if(t==="")return n;const s=Ee(n.activeClub??"");if(!s)return n;const i=n.lineups?.[s]??{label:s,players:[],formations:[]},a=Array.isArray(i.players)?i.players:[];if(a.includes(t))return n;const l=[...a,t].sort((u,d)=>u.localeCompare(d,"es",{sensitivity:"base"}));return{...n,lineups:{...n.lineups,[s]:{...i,players:l}},players:l}}case yS:{const t=e.payload?.name??"",s=Ee(t);if(!s)return n;const i=n.players.filter(g=>g!==s),a=n.starters.filter(g=>g!==s),l=Ee(n.captainName)===s,u=Ee(n.activeClub??""),d=u?n.lineups?.[u]:null;let m=n.lineups;if(d){const g=d.players.filter(b=>b!==s),x=d.formations.filter(b=>{const E=Ee(b.captain)===s,N=Array.isArray(b.starters)&&b.starters.some(w=>w===s);return!(E||N)});m={...n.lineups,[u]:{...d,players:g,formations:x}}}return{...n,players:i,starters:a,captainName:l?null:n.captainName,selectMode:l?"captain":n.selectMode,lineups:m}}case Qu:{if(!e.payload||typeof e.payload.name!="string")return n;const t=Ee(e.payload.name);if(t==="")return n;const s=new Set([...n.managedClubs||[],t]);return{...n,activeClub:t,managedClubs:Array.from(s)}}case Ju:{const t=Ee(n.activeClub||""),s=n.lineups?.[t];return s?{...n,players:s.players,usedClub:!0}:{...n,usedClub:!1,captainName:null,starters:[],selectMode:"captain",selectedOption:"",players:[]}}case km:{const{club:t,bucket:s}=e.payload||{};if(!t||!s)return n;const a={...n.lineups?.[t]??{},...s},l=Ee(n.activeClub??""),u=Ee(t);return{...n,lineups:{...n.lineups,[t]:a},...u===l&&a.players?{players:a.players}:null}}default:return n}}function l3({children:n}){const[e,t]=B.useReducer(o3,a3);return h.jsx(bS.Provider,{value:{state:e,dispatch:t},children:n})}const Ae=n=>{if(n==null)return"";let e=Array.isArray(n)?n.join(" "):String(n);return e=e.trim(),e?e.split(/\s+/).map(i=>{const a=Ee(i);return a?a.charAt(0).toUpperCase()+a.slice(1):""}).filter(Boolean).join(" "):""};function c3(){const{user:n,handleLogout:e,uid:t,isAuthenticated:s}=cn(),i=Mi(),a=Ql(),[l,u]=B.useState(!1),[d,m]=B.useState(!1),{dispatch:g}=Jn(),{dispatch:x}=An(),b=async()=>{t&&await mx(t,g)};B.useEffect(()=>{const I=()=>{const z=window.innerWidth,U=window.innerHeight;m(z<1024||U<432)};return I(),window.addEventListener("resize",I),window.addEventListener("orientationchange",I),()=>{window.removeEventListener("resize",I),window.removeEventListener("orientationchange",I)}},[]);const E=I=>i.pathname===I||i.pathname.startsWith(I+"/"),N=I=>`inline-flex items-center justify-center w-10 h-10 rounded-full transition-all duration-150 ${E(I)?"ring-3 ring-blue-900 ring-offset-2 ring-offset-white":"ring-0"}`,w=()=>"block px-2 py-2 rounded transition text-gray-700",T=()=>{pe.Confirm.show("Reiniciar","Esto borrar el club activo, la formacin y el formulario del partido en esta sesin. Continuar?","S","No",async()=>{try{if(x({type:"CLUB_RESET"}),x({type:"LINEUP_RESET"}),g({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),g({type:"RESET_FORM"}),t){const I=Hn(Sn,"users",t);await uc(I,{activeClub:"",lineups:{},players:[],starters:[],useClub:!1},{merge:!0})}pe.Notify.success("Listo: se reinici la sesin de trabajo.")}catch{pe.Notify.failure("No se pudo reiniciar.")}},()=>{})},k=()=>{pe.Confirm.show("Cerrar Sesin","Ests seguro de que quieres cerrar sesin?","S","No",async()=>{try{x({type:"CLUB_RESET"}),g({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),g({type:"RESET_FORM"}),await e()}catch{pe.Notify.failure("No se pudo cerrar sesin correctamente");return}pe.Notify.success("Sesin cerrada")},()=>{pe.Notify.info("Sesin no cerrada")},{width:"300px",borderRadius:"8px",titleColor:"#333",messageColor:"#555",okButtonBackground:"#4CAF50",cancelButtonBackground:"#f44336"})},M=[{path:"/registrar-partido",label:""},{path:"/versus",label:""},{path:"/nextmatch",label:""},{path:"/temporadas",label:""},{path:"/ultimos-diez",label:""},{path:"/analisis",label:""},{path:"/graficos",label:""},{path:"/campeonatos",label:""},{path:"/partidos",label:""},{path:"/goleadores",label:""},{path:"/formacion",label:""},{path:"/record",label:""},{path:"/config",label:""}];return h.jsxs("nav",{className:"bg-white shadow-md w-full sticky top-0 z-50",children:[!d&&h.jsxs("div",{className:"max-w-6xl mx-auto px-1 py-3 flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl font-bold text-blue-600 whitespace-nowrap cursor-pointer",onClick:b,children:" Pes Stats Zone"}),h.jsx("div",{className:"flex-1 flex justify-center min-w-0 w-full",children:h.jsx("select",{value:i.pathname,onChange:I=>a(I.target.value),className:"px-14 py-3 rounded-xl border border-gray-300 bg-white text-lg font-bold shadow-sm focus:ring-2 focus:ring-green-500 focus:border-green-500",children:M.map(({path:I,label:z})=>h.jsx("option",{value:I,children:z},I))})}),h.jsxs("div",{className:"flex items-center gap-2 flex-nowrap whitespace-nowrap",children:[n&&h.jsxs("div",{className:"flex items-center gap-2 border p-2 rounded-lg",children:[h.jsx("label",{className:"text-gray-500 font-medium",children:"Dt"}),h.jsx("span",{className:"text-gray-700 font-semibold max-w-[140px] truncate",children:Ae(n.displayName)})]}),h.jsx("button",{onClick:T,className:"text-red-600 hover:uppercase hover:font-bold flex items-center gap-1",children:" Reiniciar"}),h.jsx("button",{onClick:()=>k(),className:"bg-red-400 text-white rounded-xl px-4 hover:bg-red-600 flex items-center gap-1",children:"Salir"})]})]}),d&&h.jsx("button",{type:"button",className:"fixed top-3 right-3 bg-white rounded-full shadow-md p-2 text-gray-700 text-2xl z-40",onClick:()=>u(!l),"aria-label":"Abrir men",style:{minWidth:"48px",minHeight:"48px"},children:""}),l&&d&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40 flex",onClick:()=>u(!1),children:h.jsxs("div",{className:"bg-white w-full h-full p-6 shadow-lg flex flex-col items-end overflow-y-auto max-h-screen",onClick:I=>I.stopPropagation(),children:[h.jsxs("div",{className:"mb-6 text-3xl font-bold text-blue-600 flex items-center gap-2 w-full justify-end",children:[" Pes Stats Zone",h.jsx("button",{className:"ml-2 text-gray-400 text-2xl",onClick:()=>u(!1),"aria-label":"Cerrar men",tabIndex:0,children:""})]}),h.jsxs("div",{className:"w-full grid grid-cols-3 gap-4",children:[M.map(({path:I,label:z})=>h.jsx(Jl,{to:I,className:`${w()} flex items-center justify-center rounded-xl p-3 text-3xl`,onClick:()=>u(!1),"aria-label":I,title:I,children:h.jsx("span",{className:N(I),children:z})},I)),n&&h.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl p-3 border text-center",children:[h.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"DT"}),h.jsx("span",{className:"text-sm font-semibold text-gray-800 break-words",children:Ae(n.displayName)})]}),h.jsx("button",{onClick:()=>{u(!1),T()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:h.jsx("span",{className:"text-s mt-1",children:"Reiniciar"})}),h.jsx("button",{onClick:()=>{u(!1),k()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:h.jsx("span",{className:"text-s mt-1",children:"Salir"})}),h.jsx("div",{className:"flex flex-col items-center justify-center rounded-xl border text-center",children:h.jsx("span",{children:"Versin: 29.8"})})]})]})})]})}const u3=()=>{const{user:n,loading:e}=cn();return B.useEffect(()=>(e&&pe.Loading.circle("Cargando"),()=>{pe.Loading.remove()}),[e]),e?null:n?h.jsxs("div",{children:[h.jsx(c3,{}),h.jsx(AE,{})]}):h.jsx(vs,{to:"/",replace:!0})},d3=({value:n,onChange:e})=>h.jsxs("div",{children:[h.jsx("input",{type:"date",name:"fecha",value:n,onChange:e,className:"w-full border rounded p-2"}),h.jsx("p",{className:"text-xs text-gray-500",children:"Fecha del Partido"})]}),h3=({value:n,onChange:e,onBlur:t,suggestions:s=[]})=>{const i=l=>(l??"").toString().trim().replace(/\s+/g," "),a=Array.from(new Map((s||[]).map(l=>i(l)).filter(Boolean).map(l=>{const u=Ae(l);return[u.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim(),u]})).values()).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"}));return h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Rival"}),h.jsx("input",{type:"text",name:"rival",value:n||"",onChange:e,onBlur:t,list:"sugerencias-rivales",placeholder:"Rival (nombre completo)",className:"w-full border rounded p-2",autoComplete:"off"}),h.jsx("datalist",{id:"sugerencias-rivales",children:(a||[]).slice().sort((l,u)=>Ae(l).localeCompare(Ae(u),"es",{sensitivity:"base"})).map(l=>h.jsx("option",{value:Ae(l)},l))}),h.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un rival nuevo."})]})};function f3({value:n,onChange:e,onBlur:t,suggestions:s=[],matches:i=[]}){const a=u=>(u??"").toString().trim().toLowerCase(),l=B.useMemo(()=>{const u=new Map,d=Array.isArray(i)?i:Array.isArray(i?.matches)?i.matches:[];for(const g of d){const x=a(g?.torneoName);if(!x)continue;const b=Number(g?.updatedAt)||0;b>(u.get(x)||0)&&u.set(x,b)}const m=Array.from(new Set((s||[]).map(a))).filter(Boolean);return m.sort((g,x)=>{const b=u.get(g)||0,E=u.get(x)||0;return E!==b?E-b:g.localeCompare(x)}),m},[s,i]);return h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Torneo"}),h.jsx("input",{type:"text",name:"torneoName",value:n||"",onChange:e,onBlur:t,list:"torneos-list",placeholder:"Ej: Copa Argentina",className:"w-full border rounded p-2",autoComplete:"off"}),h.jsx("datalist",{id:"torneos-list",children:(l||[]).map(u=>h.jsx("option",{value:Ae(u)},u))}),h.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un torneo nuevo."})]})}const m3=({formations:n=[],value:e,onChange:t,disabled:s})=>{const i=Array.isArray(n)?n:n&&typeof n=="object"?Object.values(n):[],a=Array.from(new Set(i.map(l=>l?.captain).filter(l=>typeof l=="string"&&l.trim()!=="")));return h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Capitn"}),h.jsxs("select",{disabled:s,className:"w-full border rounded p-2",value:e||"",onChange:l=>t(l.target.value),children:[h.jsx("option",{value:"",children:"-- Eleg un capitn --"}),a.map(l=>h.jsx("option",{value:l,children:Ae?Ae(l):l},l))]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Eleg al Capitn de tu Equipo"})]})},p3=({players:n=[],starters:e=[],value:t=[],onChange:s,disabled:i})=>{const a=n.filter(u=>!e.includes(u)),l=u=>{const d=u.target.value;d&&(t.includes(d)||s([...t,d]))};return h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Suplentes"}),h.jsxs("select",{disabled:i,className:"w-full border rounded p-2",onChange:l,defaultValue:"",name:"substitutes",children:[h.jsx("option",{value:"",children:"Lista de Suplentes"}),a.sort((u,d)=>u.localeCompare(d,"es",{sensitivity:"base"})).map(u=>h.jsx("option",{value:u,children:Ae(u)},u))]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los jugadores que ingresaron"}),h.jsx("ul",{className:"flex flex-wrap gap-2 mt-2",children:t.map(u=>h.jsxs("li",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-lg",children:[Ae(u),h.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 pl-1",onClick:()=>s(t.filter(d=>d!==u)),children:""})]},u))})]})},g3=n=>e=>{const{name:t,value:s,type:i,checked:a}=e.target;n({type:"ACTUALIZAR_CAMPO",campo:t,valor:i==="checkbox"?a:s})},Mw=(n,e,t)=>s=>{const i=(s.target.value||"").trim();if(!i){pe.Notify.failure(t);return}const a=Ae(i);a!==i&&n({type:"ACTUALIZAR_CAMPO",campo:e,valor:a})},y3=(n,e,t)=>s=>{const i=n?.[e]?.formations,l=(Array.isArray(i)?i:i&&typeof i=="object"?Object.values(i):[]).find(d=>(d?.captain||"")===s),u=Array.isArray(l?.starters)?l.starters:[];t({type:"SET_FORMACION",payload:{captain:s,starters:u}})},x3=({disabled:n,onClick:e})=>h.jsx("div",{children:h.jsx("button",{type:"button",disabled:n,className:"bg-green-500 text-white rounded w-full p-2 font-bold disabled:opacity-50 disabled:cursor-not-allowed",onClick:e,children:"Guardar"})}),b3=async({uid:n,matchState:e,activeClub:t,ownGoals:s,rivalGoals:i,condition:a,rivalName:l,autogolesFavor:u=0})=>{if(!n)throw new Error("UID no disponible; no se puede guardar.");if(!t)throw new Error("saveMatch: activeClub vaco");if(!Number.isFinite(s)||!Number.isFinite(i))throw new Error("saveMatch: ownGoals/rivalGoals invlidos");const{fecha:d,captain:m,starters:g,substitutes:x,goleadoresActiveClub:b,goleadoresRivales:E,editingMatchId:N,editingCreatedAt:w}=e||{},T=d?new Date(d).getFullYear():null,k=e?.torneoName?.trim()||"",M=k&&T?`${k} ${T}`:k||"",I=re=>(re??"").toString().trim().replace(/\s+/g," "),z=I(l);if(I(k),!d||!z)throw new Error("Faltan completar campos");const U=!!N,$=U&&N||crypto?.randomUUID&&crypto.randomUUID()||String(Date.now()),A=s>i?"ganado":s<i?"perdido":"empatado",R=A==="ganado"?3:A==="empatado"?1:0,j=s,V=i,F=j-V,O=a==="visitante"?`${z} ${V} - ${j} ${t}`:`${t} ${j} - ${V} ${z}`,L={id:$,fecha:d,captain:m,condition:a,rival:z,club:t,torneoName:k,torneoYear:T,torneoDisplay:M,createdAt:U?w??Date.now():Date.now(),updatedAt:Date.now(),starters:g,substitutes:x,goleadoresActiveClub:b||[],goleadoresRivales:E||[],final:A,points:R,golFavor:j,golContra:V,dfGol:F,resultMatch:O,autogolesFavor:u},ge=Hn(Sn,"users",n);await uc(ge,{torneosIndex:Cf(k.toLowerCase()),rivalesIndex:z?Cf(z.toLowerCase()):[]},{merge:!0});const de=Ee?Ee(t):t;let W=null;if(U){const me=(await cc(ge)).data()||{},xe=me?.lineups?.[de]?.matches&&Array.isArray(me.lineups[de].matches)?me.lineups[de].matches:[];W=xe.find(Ie=>Ie?.id===$)||null;const ye=W?xe.map(Ie=>Ie?.id===$?L:Ie):[...xe,L];await Ys(ge,{[`lineups.${de}.matches`]:ye})}else await Ys(ge,{[`lineups.${de}.matches`]:Cf(L)});const ae=re=>re?.isOwnGoal||re?.name==="__OG__",we=re=>(re?.gol?1:0)+(re?.doblete?2:0)+(re?.triplete||re?.hattrick?3:0),De=(re,me)=>{const ye=(be=>(be||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,""))(re),Ie=(me??"").toString().trim()||"s_a";return`${ye}_${Ie}`};if(!U){for(const be of e.goleadoresActiveClub||[]){if(ae(be))continue;const Ke=Ee(be.name||"");if(!Ke)continue;const qe=`lineups.${de}.playersStats.${Ke}`,Me={},Qe=we(be);Qe>0&&(Me[`${qe}.goals`]=zn(Qe)),be.doblete&&(Me[`${qe}.dobletes`]=zn(1)),(be.triplete||be.hattrick)&&(Me[`${qe}.hatTricks`]=zn(1)),be.expulsion&&(Me[`${qe}.expulsiones`]=zn(1)),Object.keys(Me).length>0&&await Ys(ge,Me)}for(const be of e.goleadoresRivales||[]){if(ae(be))continue;const Ke=Ee(be.name||"");if(!Ke)continue;const qe=`lineups.${de}.rivalsPlayers.${Ke}`,Me={};Me[`${qe}.matchesPlayed`]=zn(1);const Qe=we(be);Qe>0&&(Me[`${qe}.goals`]=zn(Qe)),be.doblete&&(Me[`${qe}.dobletes`]=zn(1)),(be.triplete||be.hattrick)&&(Me[`${qe}.hatTricks`]=zn(1)),be.expulsion&&(Me[`${qe}.expulsiones`]=zn(1)),Object.keys(Me).length>0&&await Ys(ge,Me)}const re=De(k,T),me=new Set((g||[]).map(be=>Ee(be)).filter(Boolean));m&&me.add(Ee(m));const xe=new Set((x||[]).map(be=>Ee(be)).filter(be=>be&&!me.has(be))),ye={},Ie=(be,{start:Ke=0,sub:qe=0})=>{if(!be)return;const Me=`lineups.${de}.playersStats.${be}`,Qe=`${Me}.totals`,ut=`${Me}.byTournament.${re}`;ye[`${Qe}.matchesPlayed`]=zn(1),ye[`${ut}.matchesPlayed`]=zn(1),Ke&&(ye[`${Qe}.starts`]=zn(1),ye[`${ut}.starts`]=zn(1)),qe&&(ye[`${Qe}.subs`]=zn(1),ye[`${ut}.subs`]=zn(1))};return me.forEach(be=>Ie(be,{start:1})),xe.forEach(be=>Ie(be,{sub:1})),Object.keys(ye).length>0&&(ye[`lineups.${de}.updatedAt`]=wr(),await Ys(ge,ye)),{id:$}}if(!W)return{id:$};const H={},ne=(re,me)=>{!me||me===0||(H[re]=zn(me))},he=re=>{const me=new Map;for(const xe of re||[]){if(ae(xe))continue;const ye=Ee(xe?.name||"");if(!ye)continue;const Ie=me.get(ye)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0,matchesPlayed:0},be=we(xe);Ie.goals+=be,xe?.doblete&&(Ie.dobletes+=1),(xe?.triplete||xe?.hattrick)&&(Ie.hatTricks+=1),xe?.expulsion&&(Ie.expulsiones+=1),me.set(ye,Ie)}return me};{const re=he(W.goleadoresActiveClub||[]),me=he(e.goleadoresActiveClub||[]),xe=new Set([...re.keys(),...me.keys()]);for(const ye of xe){const Ie=re.get(ye)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},be=me.get(ye)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Ke=`lineups.${de}.playersStats.${ye}`;ne(`${Ke}.goals`,be.goals-Ie.goals),ne(`${Ke}.dobletes`,be.dobletes-Ie.dobletes),ne(`${Ke}.hatTricks`,be.hatTricks-Ie.hatTricks),ne(`${Ke}.expulsiones`,be.expulsiones-Ie.expulsiones)}}{const re=he(W.goleadoresRivales||[]),me=he(e.goleadoresRivales||[]),xe=new Set([...re.keys(),...me.keys()]),ye=Ke=>{const qe=new Map;for(const Me of Ke||[]){if(ae(Me))continue;const Qe=Ee(Me?.name||"");Qe&&qe.set(Qe,(qe.get(Qe)||0)+1)}return qe},Ie=ye(W.goleadoresRivales||[]),be=ye(e.goleadoresRivales||[]);for(const Ke of xe){const qe=re.get(Ke)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Me=me.get(Ke)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Qe=`lineups.${de}.rivalsPlayers.${Ke}`;ne(`${Qe}.matchesPlayed`,(be.get(Ke)||0)-(Ie.get(Ke)||0)),ne(`${Qe}.goals`,Me.goals-qe.goals),ne(`${Qe}.dobletes`,Me.dobletes-qe.dobletes),ne(`${Qe}.hatTricks`,Me.hatTricks-qe.hatTricks),ne(`${Qe}.expulsiones`,Me.expulsiones-qe.expulsiones)}}{const re=Ke=>{const qe=Ee(Ke?.captain||""),Me=new Set((Ke?.starters||[]).map(q=>Ee(q)).filter(Boolean));qe&&Me.add(qe);const Qe=new Set((Ke?.substitutes||[]).map(q=>Ee(q)).filter(q=>q&&!Me.has(q))),ut=new Map;return Me.forEach(q=>ut.set(q,{start:1,sub:0})),Qe.forEach(q=>ut.set(q,{start:0,sub:1})),ut},me=re(W),xe=re(e),ye=De(W.torneoName,W.torneoYear),Ie=De(k,T),be=new Set([...me.keys(),...xe.keys()]);for(const Ke of be){const qe=me.get(Ke)||{start:0,sub:0},Me=xe.get(Ke)||{start:0,sub:0},Qe=qe.start||qe.sub?1:0,ut=Me.start||Me.sub?1:0,q=`lineups.${de}.playersStats.${Ke}`,X=`${q}.totals`;if(ne(`${X}.matchesPlayed`,ut-Qe),ne(`${X}.starts`,Me.start-qe.start),ne(`${X}.subs`,Me.sub-qe.sub),ye===Ie){const te=`${q}.byTournament.${Ie}`;ne(`${te}.matchesPlayed`,ut-Qe),ne(`${te}.starts`,Me.start-qe.start),ne(`${te}.subs`,Me.sub-qe.sub)}else{if(Qe){const te=`${q}.byTournament.${ye}`;ne(`${te}.matchesPlayed`,-1),qe.start&&ne(`${te}.starts`,-1),qe.sub&&ne(`${te}.subs`,-1)}if(ut){const te=`${q}.byTournament.${Ie}`;ne(`${te}.matchesPlayed`,1),Me.start&&ne(`${te}.starts`,1),Me.sub&&ne(`${te}.subs`,1)}}}}return Object.keys(H).length>0&&(H[`lineups.${de}.updatedAt`]=wr(),await Ys(ge,H)),{id:$}},v3=async({uid:n,matchState:e,activeClub:t,matchDispatch:s,navigate:i})=>{if(!n){console.error("[handleSaveMatch] uid vaco; no se puede guardar."),pe.Notify.failure("No hay usuario autenticado (uid vaco).");return}if(!t){console.warn("[handleSaveMatch] activeClub vaco; bloqueando guardado."),pe.Notify.warning("Eleg un club antes de guardar el partido.");return}const a=w=>(w.gol?1:0)+(w.doblete?2:0)+(w.triplete||w.hattrick?3:0),l=(e?.goleadoresActiveClub||[]).filter(w=>w.activeClub===t),u=e?.goleadoresRivales||[],m=l.reduce((w,T)=>w+a(T),0)+(e?.autogolesFavor||0),g=u.reduce((w,T)=>w+a(T),0),x=e?.rival||"Rival",b=(e?.condition||e?.condicion||"neutro").toLowerCase();let E;b==="visitante"?E=`${x} ${g} - ${m} ${Ae(t)}`:E=`${Ae(t)} ${m} - ${g} ${x}`;const N={uid:n,activeClub:t,condition:b,ownGoals:m,ownGoalsFromOG:e?.autogolesFavor||0,rivalGoals:g,ownScorers:l?.length??0,rivalScorers:u?.length??0,rivalName:x};pe.Confirm.show("Confirmar Resultado",E,"Confirmar","Volver",async()=>{try{pe.Loading.standard("Guardando partido... "),await b3({uid:n,activeClub:t,matchState:e,ownGoals:m,rivalGoals:g,condition:b,rivalName:x,autogolesFavor:e?.autogolesFavor||0});const w=!!e?.editingMatchId;pe.Notify.success(w?"Partido actualizado correctamente ":"Partido guardado correctamente "),s({type:"RESET_FORM"}),i("/partidos")}catch(w){const T={name:w?.name,code:w?.code,message:w?.message};console.error("[handleSaveMatch] Error al guardar",{...T,stack:w?.stack,context:N}),pe.Report.failure("Error al guardar",[T.code?`Cdigo: ${T.code}`:"",T.name?`Tipo: ${T.name}`:"",T.message?`Mensaje: ${T.message}`:"",`Club: ${t} | ${m}-${g} vs ${x}`].filter(Boolean).join(`
`),"Cerrar")}finally{pe.Loading.remove()}})},_3=({value:n,onChange:e})=>h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Donde se jug?"}),h.jsxs("div",{className:"flex flex-wrap gap-2 list-disc list-inside",children:[h.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[h.jsx("input",{type:"radio",name:"condition",value:"local",checked:n==="local",onChange:e}),h.jsx("span",{className:"ml-2",children:"Local"})]}),h.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[h.jsx("input",{type:"radio",name:"condition",value:"visitante",checked:n==="visitante",onChange:e}),h.jsx("span",{className:"ml-2",children:"Visitante"})]}),h.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[h.jsx("input",{type:"radio",name:"condition",value:"neutro",checked:n==="neutro",onChange:e}),h.jsx("span",{className:"ml-2",children:"Neutro"})]})]})]}),w3=n=>e=>{n({type:"SET_SUBS",payload:{substitutes:e}})},E3=({state:n,dispatch:e,disabled:t})=>{const s=n.starters,i=n.substitutes,a=[...s,...i],l=n.activeClub,u=m=>{const g=m.target.value;if(g==="__OG__"){e({type:"ADD_GOLEADOR",payload:{name:"__OG__",activeClub:l,gol:!0,isOwnGoal:!0}}),m.target.value="";return}n.goleadoresActiveClub.some(b=>b.name===g&&b.activeClub===l)||e({type:"ADD_GOLEADOR",payload:{name:g,activeClub:l}})},d=n.goleadoresActiveClub.filter(m=>m.activeClub===l);return h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores e Incidencias"}),h.jsxs("select",{disabled:t,className:"w-full border rounded p-2",onChange:u,defaultValue:"",name:"incidents",children:[h.jsx("option",{value:"",children:"Lista de Jugadores"}),h.jsx("option",{value:"__OG__",children:" Gol en contra (rival)"}),a.sort((m,g)=>m.localeCompare(g,"es",{sensitivity:"base"})).map(m=>h.jsx("option",{value:m,children:Ae(m)},m))]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los goleadores o jugadores que sufrieron una expulsion"}),h.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...d].reverse().map(m=>{const g=m.isOwnGoal||m.name==="__OG__",x=g?"Gol en contra (rival)":Ae(m.name);return h.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:x}),h.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[h.jsx("input",{type:"checkbox",className:"ml-4",checked:m.gol,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:m.name,activeClub:l,event:"gol"}})}),"Gol"]}),h.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>e({type:"REMOVE_GOLEADOR",payload:{name:m.name,activeClub:l}}),children:""})]}),h.jsxs("div",{className:"flex gap-4 items-center",children:[!g&&h.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[h.jsx("input",{type:"checkbox",checked:m.doblete,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:m.name,activeClub:l,event:"doblete"}})}),"Doblete"]}),!g&&h.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[h.jsx("input",{type:"checkbox",checked:m.triplete,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:m.name,activeClub:l,event:"triplete"}})}),"Hat Trick"]}),!g&&h.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[h.jsx("input",{type:"checkbox",checked:m.expulsion,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:m.name,activeClub:l,event:"expulsion"}})}),"Expulsin"]})]})]},`${m.name}-${m.activeClub}`)})})]})},T3=({state:n,dispatch:e,disabled:t})=>{const{uid:s}=cn(),{state:i,dispatch:a}=Jn(),{state:l,dispatch:u}=An();Us(s,a,u);const[d,m]=B.useState(null),g=Object.keys(l?.lineups||[]),[x,b]=B.useState(l?.activeClub||g[0]||""),E=Ee(x||""),N=E?l?.lineups?.[E]:null;B.useEffect(()=>{N&&Object.keys(N).length!==0&&m(N)},[N]);const w=Array.isArray(d?.matches)?d.matches:[],T=n.rival?.trim()||"",k=!!T&&!t,M=B.useMemo(()=>{const A=(n.goleadoresRivales||[]).map(V=>(V?.name||"").toString().trim()).filter(Boolean),R=Ee(T||""),j=(w||[]).filter(V=>Ee(V?.rival||"")===R).flatMap(V=>(V?.goleadoresRivales||[]).map(F=>(F?.name||"").toString().trim()).filter(Boolean));return Array.from(new Set([...j,...A])).sort((V,F)=>V.localeCompare(F,"es",{sensitivity:"base"}))},[n.goleadoresRivales,w,T]),[I,z]=B.useState(""),U=A=>{const R=(A||"").trim();!R||(n.goleadoresRivales||[]).some(V=>V.name===R&&V.club===T)||(e({type:"RIVAL_ADD",payload:{name:R,club:T,gol:!1,doblete:!1,triplete:!1,expulsion:!1}}),z(""))},$=B.useMemo(()=>(n.goleadoresRivales||[]).filter(A=>A.club===T),[n.goleadoresRivales,T]);return h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores Rivales"}),h.jsx("input",{type:"text",name:"rivalScorer",disabled:!k,placeholder:k?"Apellido (usa Rival como club)":"Completa Rival primero",list:"rival-players-list",className:"w-full border rounded p-2",autoComplete:"off",value:I,onChange:A=>{const R=A.target.value;M.includes(R)||z(R)},onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),U(I))},onInput:A=>{const R=A.currentTarget.value;M.includes(R)&&U(R)}}),h.jsx("datalist",{id:"rival-players-list",children:M.map(A=>h.jsx("option",{value:A},A))}),h.jsxs("p",{className:"text-xs text-gray-500",children:["Escrib solo el ",h.jsx("b",{children:"Apellido"}),". El club se toma del campo ",h.jsx("b",{children:"Rival"}),"."]}),h.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...$].reverse().map(A=>h.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:Ae(A.name)}),h.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[h.jsx("input",{type:"checkbox",className:"ml-4",checked:A.gol,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"gol"}})}),"Gol"]}),h.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>e({type:"RIVAL_REMOVE",payload:{name:A.name,club:A.club}}),children:""})]}),h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[h.jsx("input",{type:"checkbox",checked:A.doblete,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"doblete"}})}),"Doblete"]}),h.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[h.jsx("input",{type:"checkbox",checked:A.triplete,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"triplete"}})}),"Triplete"]}),h.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[h.jsx("input",{type:"checkbox",checked:A.expulsion,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"expulsion"}})}),"Expulsin"]})]})]},`${A.name}-${A.club}`))})]})};function pu(n){return(n.gol?1:0)+(n.doblete?2:0)+(n.triplete||n.hattrick?3:0)}function Ow(n){const e=n?.filter(t=>t.expulsion||t.expulsado)||[];return e.length?e.map(t=>Ae(t.name)):[]}const Kh=({items:n,tone:e="slate"})=>{if(!n||n===""||n.length===0)return h.jsx("span",{className:"text-slate-400",children:""});const t=e==="red"?"bg-red-50 text-red-700 ring-1 ring-red-200":"bg-slate-50 text-slate-700 ring-1 ring-slate-200";return h.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((s,i)=>h.jsx("span",{className:`px-2.5 py-1 rounded-full text-sm ${t}`,children:s},`${s}-${i}`))})};function N3(n){if(!n)return"";const e=String(n).trim(),t=e.split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[s,i,a]=t.split("-");return`${a}/${i}/${s}`}if(/^\d{4}\/\d{2}\/\d{2}$/.test(t)){const[s,i,a]=t.split("/");return`${a}/${i}/${s}`}return/^\d{2}\/\d{2}\/\d{4}$/.test(t)?t:e}const Xh=({title:n,children:e})=>h.jsxs("div",{className:"space-y-1.5",children:[h.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:n}),e]}),S3=({state:n,activeClub:e})=>{const t=n?.rival||"Rival",s=n?.torneoDisplay||n?.torneoName||n?.torneo||"",a=(n?.goleadoresActiveClub||[]).filter(j=>j.activeClub===e),l=n?.goleadoresRivales||[],u=a.reduce((j,V)=>j+pu(V),0),d=l.reduce((j,V)=>j+pu(V),0),m=(l||[]).filter(j=>j?.enContra||j?.autogol||j?.og||j?.ogContra).length,g=u+m,x=(n?.condition||n?.condicion||"neutro").toLowerCase(),b=x==="visitante",E=Ae(e),N=b?t:E,w=b?E:t,T=b?d:g,k=b?g:d,M=h.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/50 p-4",children:[h.jsx("div",{className:"text-center text-xl font-semibold text-slate-800",children:N}),h.jsx("div",{className:"my-2 text-center",children:h.jsxs("div",{className:"text-4xl font-bold tabular-nums text-slate-900",children:[T," - ",k]})}),h.jsx("div",{className:"text-center text-xl font-semibold text-slate-800",children:w})]}),I=(a||[]).filter(j=>pu(j)>0).map(j=>{const V=pu(j),F=j.isOwnGoal||j.name==="__OG__"?"Gol en contra":Ae(j.name);return V>1?`${F} (${V})`:F}),z=(Array.isArray(l)?l:[]).filter(j=>!(j.expulsion||j.expulsado)).map(j=>{const V=pu(j),F=V>1?` (${V})`:"",O=j?.enContra||j?.autogol||j?.og||j?.ogContra?" (EC)":"";return`${Ae(j.name)}${F}${O}`}),U=Ow(a),$=Ow(l),A=N3(n?.fecha||n?.date||n?.fechaPartido||""),R=n?.captain||n?.capitan||"";return h.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm space-y-5",children:[h.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[h.jsxs("div",{className:"flex flex-col gap-2 items-start min-w-0",children:[s?h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:Ae(s)}):null,A?h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-50 text-slate-700 ring-1 ring-slate-200",children:A}):null]}),h.jsxs("div",{className:"flex flex-col gap-2 items-end min-w-0",children:[h.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:x!=="neutro"?x==="visitante"?"Visitante":"Local":"Neutro"}),R?h.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:["Capitn: ",Ae(R)]}):null]})]}),M,h.jsxs("div",{className:"grid grid-cols-2 gap-6 items-stretch",children:[h.jsx("div",{className:"h-full",children:h.jsx(Xh,{title:`Goleadores ${Ae(e)}`,children:h.jsx(Kh,{items:I})})}),h.jsx("div",{className:"h-full",children:h.jsx(Xh,{title:`Goleadores ${t}`,children:h.jsx(Kh,{items:z})})})]}),h.jsxs("div",{className:"grid grid-cols-2  gap-6 items-stretch",children:[h.jsx("div",{className:"h-full",children:h.jsx(Xh,{title:`Expulsados ${Ae(e)}`,children:h.jsx(Kh,{items:U,tone:"red"})})}),h.jsx("div",{className:"h-full",children:h.jsx(Xh,{title:`Expulsados ${t}`,children:h.jsx(Kh,{items:$,tone:"red"})})})]})]})},A3=({activeClub:n,matchState:e,matchDispatch:t})=>{B.useEffect(()=>{n&&e.activeClub!==n&&t({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:n})},[n,e.activeClub,t])},Pw=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An(),{activeClub:a,lineups:l}=s,{matchId:u}=Vk(),d=Ql(),m=g3(t),g=y3(l,a,t),x=w3(t);A3({activeClub:a,matchState:e,matchDispatch:t});const b=s?.activeClub||e?.activeClub||"",E=Ee?Ee(b):b,N=s?.lineups?.[E]||{},w=(N.players?.length??0)>0,T=(N.formations?.length??0)>0,k=N.playersStats?Object.keys(N.playersStats).length>0:!1;return!E||!w&&!T&&!k?h.jsx(vs,{to:"/formacion",replace:!0}):(B.useEffect(()=>{if(u&&s.lineups){let M=null;Object.keys(s.lineups).forEach(I=>{if(M)return;const z=s.lineups[I].matches;if(z&&Array.isArray(z)){const U=z.find($=>$.id===u);U&&(M=U)}}),M?t({type:"LOAD_MATCH_FOR_EDIT",payload:{match:M}}):console.warn("No se encontr el match con ID:",u)}},[u,s.lineups,t]),h.jsxs("div",{className:"mt-6 max-w-md mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Registrar Partido"}),h.jsxs("form",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center",children:h.jsx("span",{className:"text-lg font-bold text-blue-700",children:e.activeClub?Ae(e.activeClub):"Esperando Nombre del Club"})}),h.jsx(d3,{value:e.fecha,onChange:m}),h.jsx(h3,{value:e.rival,onChange:m,onBlur:Mw(t,"rival","El campo Rival es Obligatorio"),suggestions:e.rivalesIndex}),h.jsx(f3,{value:e.torneoName,onChange:m,suggestions:e.torneosIndex,matches:e.matches,onBlur:Mw(t,"torneoName","El campo Torneo es Obligatorio")}),h.jsx(_3,{value:e.condition,onChange:m}),h.jsx(m3,{disabled:e.substitutes.length>0,formations:l?.[a]?.formations||[],value:e.captain,onChange:g}),h.jsx(p3,{disabled:!e.captain,players:l?.[a]?.players||[],value:e.substitutes,onChange:x,starters:e.starters,substitutes:e.substitutes}),h.jsx(E3,{state:e,dispatch:t,disabled:!e.captain}),h.jsx(T3,{state:e,dispatch:t,disabled:!e.rival}),h.jsx(S3,{state:e,activeClub:e.activeClub}),h.jsx(x3,{disabled:!n||!e.fecha||!e.rival||!e.torneoName||!e.condition,onClick:M=>{M.preventDefault(),v3({uid:n,matchState:e,activeClub:a,matchDispatch:t,navigate:d})}})]})]}))},C3=(n=[])=>B.useMemo(()=>{const e=new Set;for(const t of n){const s=(t?.captain||"").trim();s&&e.add(s)}return Array.from(e)},[n]),Lw=n=>n==null?0:parseInt(n,10)||0,Qh=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),k3=(n=[])=>B.useMemo(()=>{const e={};for(const t of n){const s=t?.rivalName||t?.rival||t?.opponent||"Rival Desconocido",i=Lw(t?.golesPropios??t?.golFavor??t?.golesFavor??t?.gf),a=Lw(t?.golesRival??t?.golContra??t?.golesContra??t?.gc),l=t?.condition==="local"&&"local"||t?.condition==="visitante"&&"visitante"||"general",u=(t?.captain||"").trim();e[s]||(e[s]={general:Qh(),local:Qh(),visitante:Qh()});const d=i>a?"g":i===a?"e":"p",m=g=>{g.pj++,g[d]++,g.gf+=i,g.gc+=a};m(e[s].general),l!=="general"&&m(e[s][l]),u&&(e[s][u]||(e[s][u]=Qh()),m(e[s][u]))}return e},[n]),R3=(n,e,t,s)=>B.useMemo(()=>[...Object.entries(n)].sort((l,u)=>{if(t==="rival")return s==="asc"?l[0].localeCompare(u[0]):u[0].localeCompare(l[0]);const d=l[1]?.[e]??{},m=u[1]?.[e]??{},g=t==="df"?(d.gf??0)-(d.gc??0):t==="gp"?(d.g??0)-(d.p??0):d?.[t]??0,x=t==="df"?(m.gf??0)-(m.gc??0):t==="gp"?(m.g??0)-(m.p??0):m?.[t]??0;return s==="asc"?g-x:x-g}),[n,e,t,s]),j3=(n={})=>{const{g:e=0,e:t=0,p:s=0}=n;return e>=t&&e>s?"bg-green-100":s>e&&s>=t?"bg-red-100":e===s&&e>t||e===t&&e===s||t>=e&&t>=s?"bg-yellow-100":"bg-pink-100"},Ks=n=>{if(typeof n=="number"&&Number.isFinite(n))return Math.abs(n);if(typeof n=="string"){const e=n.trim(),t=Number(e.replace(",","."));return!Number.isNaN(t)&&e!==""?Math.abs(t):e.startsWith("-")?e.slice(1):e}return n};function I3(n=[]){const e=u=>String(u?.torneoName??"").trim(),t=u=>Ee(e(u)),s=B.useMemo(()=>{const u=new Map;let d=!1;for(const x of n){const b=e(x);if(!b){d=!0;continue}u.set(t(x),b)}const m=Array.from(u.entries()).map(([x,b])=>({value:x,label:b})).sort((x,b)=>x.label.localeCompare(b.label,"es",{sensitivity:"base"})),g=[{value:"__all",label:"Todos"}];return d&&g.push({value:"__none",label:"(Sin torneo)"}),[...g,...m]},[n]),[i,a]=B.useState("__all");B.useEffect(()=>{s.some(u=>u.value===i)||a("__all")},[s,i]);const l=B.useMemo(()=>i==="__all"?n:i==="__none"?n.filter(u=>!e(u)):n.filter(u=>t(u)===i),[n,i]);return{torneoSel:i,setTorneoSel:a,torneoOptions:s,matchesFiltrados:l}}const Rf=n=>typeof n=="string"&&n.trim()?Ae(n):String(n??""),D3=n=>n==="general"?"General":n==="local"?"Local":n==="visitante"?"Visitante":Rf(n),M3=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),O3=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An();Us(n,t,i);const[a,l]=B.useState(null),u=Object.keys(s?.lineups||[]),[d,m]=B.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},E=(b.players?.length??0)>0,N=(b.formations?.length??0)>0,w=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!E&&!N&&!w)return h.jsx(vs,{to:"/formacion",replace:!0});B.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const T=Array.isArray(a?.matches)?a.matches:[],{torneoSel:k,setTorneoSel:M,torneoOptions:I,matchesFiltrados:z}=I3(T),U=z,[$,A]=B.useState("general"),[R,j]=B.useState("rival"),[V,F]=B.useState("asc"),O=C3(U),L=k3(U),ge=R3(L,$,R,V),de=B.useMemo(()=>["general","local","visitante",...O],[O]);return h.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6 text-center mt-4",children:" Estadsticas del Equipo"}),h.jsxs("div",{className:`\r
    mb-3\r
    grid grid-cols-2 gap-3\r
    items-end\r
    md:flex md:flex-wrap md:justify-center md:gap-x-6 md:gap-y-3\r
  `,children:[h.jsxs("div",{className:"text-center",children:[h.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Club"}),h.jsx("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:d,onChange:W=>m(W.target.value),children:u.map(W=>h.jsx("option",{value:W,children:Rf(W)},W))})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"mbito"}),h.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:$,onChange:W=>A(W.target.value),children:[h.jsx("option",{value:"general",children:"General"}),h.jsx("option",{value:"local",children:"Local"}),h.jsx("option",{value:"visitante",children:"Visitante"}),O.map(W=>h.jsx("option",{value:W,children:Rf(W)},W))]})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Campo"}),h.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:R,onChange:W=>j(W.target.value),children:[h.jsx("option",{value:"rival",children:"Nombre"}),h.jsx("option",{value:"pj",children:"PJ"}),h.jsx("option",{value:"g",children:"G"}),h.jsx("option",{value:"e",children:"E"}),h.jsx("option",{value:"p",children:"P"}),h.jsx("option",{value:"gp",children:"G/P"}),h.jsx("option",{value:"gf",children:"GF"}),h.jsx("option",{value:"gc",children:"GC"}),h.jsx("option",{value:"df",children:"DF"})]})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Orden"}),h.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:V,onChange:W=>F(W.target.value),children:[h.jsx("option",{value:"asc",children:"Ascendente"}),h.jsx("option",{value:"desc",children:"Descendente"})]})]}),h.jsxs("div",{className:"col-span-2 text-center md:col-span-1",children:[h.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Campeonato"}),h.jsx("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
                 disabled:bg-slate-100 disabled:text-slate-500`,value:k,onChange:W=>M(W.target.value),disabled:I.length<=1,children:I.map(W=>h.jsx("option",{value:W.value,children:Rf(W.label)},W.value))})]})]}),h.jsx("div",{className:"max-h-[80vh] w-[100%] mx-auto overflow-auto border rounded",children:h.jsxs("table",{className:"min-w-full w-max table-auto text-[11px] md:text-sm border-collapse",children:[h.jsx("thead",{className:"bg-blue-200 sticky top-0 shadow-lg",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border px-2 py-2 min-w-[64px] w-[64px] text-left font-bold",children:"Rival"}),de.map(W=>h.jsx("th",{className:"border px-2 py-1 text-center min-w-[110px]",children:D3(W)},W))]})}),h.jsx("tbody",{children:!Array.isArray(ge)||ge.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:1+de.length,className:"border px-3 py-6 text-center text-gray-500 font-semibold",children:"Sin datos"})}):ge.map(([W,ae],we)=>{const De=typeof W=="string"?W.trim().replace(/\s+/g," "):String(W??"Sin Rival"),H=Ee(De)||`rival-${we}`,ne=h.jsxs("div",{style:{lineHeight:"1.2",padding:"4px 0"},children:[h.jsxs("span",{style:{fontWeight:"bold",color:"#666",fontSize:"0.85em"},children:[we+1," -"]}),h.jsx("br",{}),h.jsx("span",{style:{fontSize:"1em",textTransform:"capitalize"},children:De})]}),he=we%2===0?"bg-white":"bg-gray-200",re=/\s/.test(De);return h.jsxs("tr",{className:he,children:[h.jsx("td",{className:"border px-1 py-2 font-semibold text-left w-[64px] min-w-[64px]",children:h.jsx("div",{title:De,className:re?"block w-full whitespace-normal":"block w-full truncate",children:ne})}),de.map(me=>{const xe=ae[me]||M3(),ye=xe.pj>0?j3(xe):he,Ie=xe.gf-xe.gc,be=(xe.g??0)-(xe.p??0),Ke=be>0?"ring-emerald-500":be<0?"ring-rose-500":"ring-yellow-400";return xe.pj===0?h.jsx("td",{className:`border px-1 py-1 overflow-hidden text-center align-middle ${he} min-w-[110px]`,children:h.jsx("span",{className:"text-xl font-black text-gray-900 leading-none",children:""})},me):h.jsx("td",{className:`border px-1 py-1 overflow-hidden text-center align-top ${ye} min-w-[110px]`,children:h.jsxs("div",{className:"w-full leading-tight",children:[h.jsxs("div",{className:"text-[12px] text-gray-500 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[h.jsx("span",{children:"G"}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:"E"}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:"P"}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:"G/P"})]}),h.jsxs("div",{className:"font-bold tabular-nums grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[h.jsx("span",{children:xe.g}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:xe.e}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:xe.p}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{className:"justify-self-center",children:h.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${Ke} h-6 w-6 text-[10px] font-extrabold text-black`,title:`G/P = ${xe.g} - ${xe.p} = ${be}`,children:Ks(be)})})]}),h.jsxs("div",{className:"mt-0.5 text-[12px] text-gray-500 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[h.jsx("span",{children:"PJ"}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:"GF"}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:"GC"}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:"DF"})]}),h.jsxs("div",{className:"font-bold tabular-nums grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[h.jsx("span",{children:xe.pj}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:xe.gf}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{children:xe.gc}),h.jsx("span",{className:"text-gray-400",children:""}),h.jsx("span",{className:"justify-self-center",children:h.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${Ie>0?"ring-emerald-500":Ie<0?"ring-rose-500":"ring-yellow-400"} h-6 w-6 text-[10px] font-extrabold text-black`,title:`DF = ${Ie}`,children:Ie>0?`${Ie}`:Ks(Ie)})})]})]})},me)})]},H)})})]})})]})};function P3(n,e,t=""){const s=B.useRef(!1),[i,a]=B.useState(!1),l=u=>{if(u&&typeof u.toMillis=="function")return u.toMillis();const d=new Date(u).getTime();return Number.isFinite(d)?d:0};return B.useEffect(()=>{if(!n){a(!0);return}s.current||(async()=>{s.current=!0,pe.Loading.circle("Cargando datos del club...");try{const u=await cc(Hn(Sn,"users",n));if(!u.exists())return;const d=u.data(),m=d?.lineups||{},g=Object.keys(m).map(Ee),x=Array.isArray(d?.managedClubs)?d.managedClubs.map(Ee).filter(I=>g.includes(I)):[],b=g.map(I=>[I,l(m[I]?.updatedAt)]).sort((I,z)=>z[1]-I[1]).map(([I])=>I),E=[...x,...b.filter(I=>!x.includes(I))];e({type:"SET_MANAGED_CLUBS",payload:{clubs:E}});let N="",w=0;const T=[];for(const[I,z]of Object.entries(m)){const U=Array.isArray(z.players)?z.players.map(Ee):[],$=z.formations?Object.entries(z.formations).map(([j,V])=>{const F=V?.createdAt&&typeof V.createdAt?.toDate=="function"?V.createdAt.toDate().toISOString():String(V?.createdAt||new Date().toISOString());return{id:j,createdAt:F,captain:Ee(V?.captain||""),starters:Array.isArray(V?.starters)?V.starters.map(Ee):[]}}).sort((j,V)=>new Date(V.createdAt)-new Date(j.createdAt)):[],A=Ee(I);T.push(A);const R=l(z?.updatedAt);R>w&&(w=R,N=A),e({type:"LINEUPS_UPSERT_BUCKET",payload:{club:A,bucket:{label:z.label??I,players:U,formations:$}}})}let k="";const M=d?.activeClub?Ee(d.activeClub):"";if(M&&T.includes(M))k=M;else if(x.length)for(let I=x.length-1;I>=0;I--){const z=x[I];if(T.includes(z)){k=z;break}}k||(k=N||""),k&&k!==t&&e({type:"SAVE_CLUB_NAME",payload:{name:k}})}catch{pe.Notify.failure("Problemas al cargar la informacin de la nube")}finally{pe.Loading.remove(),s.current=!1,a(!0)}})()},[n,e]),i}const L3=(n,e,t,s)=>{B.useEffect(()=>{if(!s)return;const i=Object.keys(n||{});if(!i.length||e)return;const a=i[0];t({type:Qu,payload:{name:a}}),t({type:Ju})},[n,e,t,s])},V3=(n,e,t)=>{B.useEffect(()=>{if(!n){t("");return}const s=e?.[n]?.label||n,i=Ae(s);t(a=>a===i?a:i)},[n,e,t])},z3=(n,e,t,s)=>{const i=B.useRef({clubKey:null,playersJson:""});B.useEffect(()=>{if(!n){console.debug("[SYNC] skip: !uid");return}if(!e){console.debug("[SYNC] skip: !activeClub");return}const a=Ee(e);if(!a){console.debug("[SYNC] skip: !clubKey (normalizeName dio vaco)");return}if(!Array.isArray(s)){console.debug("[SYNC] skip: !Array.isArray(players)",{players:s});return}const l=[...new Set(s.map(Ee))];if(l.length===0){console.debug("[SYNC] skip: playersNorm vaco, no subo nada");return}const u=JSON.stringify(l),d=i.current;if(d.clubKey===a&&d.playersJson===u){console.debug("[SYNC] skip: mismo payload que el ltimo write");return}(async()=>{try{await Ys(Hn(Sn,"users",n),{[`lineups.${a}.players`]:l,[`lineups.${a}.updatedAt`]:wr()}),i.current={clubKey:a,playersJson:u},pe.Notify.success("Plantel sincronizado")}catch(m){console.debug("[SYNC] FAIL",m),pe.Notify.failure("No se pudo sincronizar el plantel")}})()},[n,e,s])},U3=(n,e)=>{B.useEffect(()=>{n||(e({type:xx}),e({type:km,payload:{club:"",bucket:{}}}))},[n,e])},B3=({teamName:n})=>h.jsxs("div",{children:[" ",h.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[h.jsx("span",{className:"text-blue-700 underline",children:"Equipo del DT:"})," ",h.jsxs("span",{className:"block text-center text-3xl font-extrabold tracking-wide text-emerald-600 drop-shadow-sm -mt-8",children:[h.jsx("br",{}),Ae(n)]})]})]}),F3=({value:n,onChange:e,onBlurSave:t,onConfirm:s,suggestions:i=[],disabled:a})=>h.jsxs("div",{children:[h.jsx("label",{htmlFor:"teamName",children:"Nombre del Equipo"}),h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx("input",{type:"text",id:"teamName",value:n,onChange:l=>e(l.target.value),onBlur:t,disabled:a,onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),s())},className:"w-full p-2 border rounded",list:"club-suggestions",placeholder:"Ej.: Newell's, Talleres CBA, Instituto"}),h.jsx("datalist",{id:"club-suggestions",children:(i||[]).map(({key:l,label:u})=>h.jsx("option",{value:u},l))}),h.jsx("button",{type:"button",className:"bg-blue-500 text-white rounded px-3",onClick:s,children:"Guardar Equipo"})]})]}),Vw=({name:n,activeClub:e,lineups:t,dispatch:s,setValue:i})=>{const a=Ee(e||""),l=Ee(n||"");if(!a||!l)return;if(l.length<2){pe.Notify.failure("Nombre corto");return}const u=(t?.[a]?.players||[]).map(Ee);if(u.includes(l)){pe.Notify.failure("Jugador repetido");return}s({type:"LINEUPS_UPSERT_BUCKET",payload:{club:a,bucket:{...t?.[a]||{},players:[...u,l]}}}),i?.("playerName",""),pe.Notify.success("Jugador agregado")},$3=({form:n,changed:e,players:t=[],dispatch:s,setValue:i,activeClub:a,lineups:l})=>{const[u,d]=B.useState(n?.playerName||"");return B.useEffect(()=>{d(n?.playerName||"")},[n?.playerName]),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"playerName",children:"Jugadores"}),h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx("input",{type:"text",name:"playerName",id:"playerName",value:u,onChange:m=>{d(m.target.value),e?.(m)},className:"w-full p-2 border rounded",placeholder:"Aadir jugador",onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),Vw({name:u,activeClub:a,lineups:l,dispatch:s,setValue:i}),d(""))}}),h.jsx("button",{type:"button",onClick:()=>Vw({name:u,activeClub:a,lineups:l,dispatch:s,setValue:i}),className:"bg-blue-500 text-white  rounded",children:"Aadir Jugador"})]})]})},H3=(n,e,t)=>{if(!n){pe.Notify.failure("Que Equipo dirigs?");return}e(!0),t({type:px})},vS="/PesStatsZone/assets/trash-KT9Z89de.png",G3=({players:n=[],selectedOption:e,dispatch:t,teamName:s,setShowForm:i,activeClub:a,uid:l})=>{if(!Array.isArray(n)||n.length===0)return null;const[u,d]=B.useState(!1);return h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex items-baseline justify-between",children:[h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Jugadores aadidos"}),h.jsx("button",{type:"button",className:`inline-flex h-10 w-10 items-center justify-center rounded-full border text-sm transition
              ${u?"bg-red-50 border-red-200 text-red-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,"aria-label":u?"Ocultar eliminar":"Mostrar eliminar",title:u?"Ocultar cruces":"Mostrar cruces",onClick:()=>d(m=>!m),children:""})]}),h.jsxs("span",{className:"text-sm text-gray-500",children:["Total: ",n.length]})]}),h.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-9 gap-1.5",children:[...n].sort((m,g)=>m.localeCompare(g,"es",{sensitivity:"base"})).map(m=>h.jsxs("div",{className:"flex items-center justify-between rounded-md bg-gray-50 border border-gray-200 px-2 py-1.5 hover:bg-gray-100",children:[h.jsx("span",{className:"truncate text-gray-800",title:Ae(m),children:Ae(m)}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("button",{type:"button",className:"md:hidden text-gray-400 hover:text-gray-600  h-6 w-6","aria-label":"Ver nombre completo",onClick:()=>pe.Notify.info(Ae(m)),children:""}),u&&h.jsx("button",{type:"button","aria-label":`Eliminar ${Ae(m)}`,title:"Eliminar",className:"inline-flex h-7 w-7 items-center justify-center rounded-full text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>{pe.Confirm.show("Confirmar eliminacin",`Quers eliminar a ${Ae(m)}?`,"S, eliminar","Cancelar",()=>{e===m&&t({type:bo,payload:""}),t({type:yS,payload:{name:m}}),pe.Notify.success("Jugador eliminado")},()=>{})},children:h.jsx("img",{src:vS,alt:"Borrar Jugador",className:"h-6 w-6"})})]})]},m))}),h.jsx("button",{type:"button",onClick:()=>{H3(s,i,t),pe.Notify.info("Nueva formacin")},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",children:"Nueva Formacin"})]})},q3=(n=[],e=[])=>B.useMemo(()=>{const t=Array.isArray(n)?n:[],s=Array.isArray(e)?e:[],i=t.filter(l=>!s.includes(l)).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"})),a=t.filter(l=>s.includes(l)).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"}));return{remaining:i,chosen:a}},[n,e]),W3=(n={},e="")=>{const t=n?.[e]||{};return[...Array.isArray(t.formations)?t.formations:[]].sort((a,l)=>new Date(l.createdAt)-new Date(a.createdAt))};async function Y3({uid:n,teamName:e,lineups:t,dispatch:s}){const i=String(e||"").trim();if(!i)return pe.Notify.failure("Qu equipo dirigs?");if(!n)return pe.Notify.failure("No hay sesin.");const a=Ee(i),l=Ae(i);s({type:Qu,payload:{name:a}});try{await uc(Hn(Sn,"users",n),{managedClubs:Cf(a),activeClub:a,lineups:{[a]:{label:l,players:t?.[a]?.players??[],formations:t?.[a]?.formations??[],playersStats:t?.[a]?.playersStats??{},rivalsPlayers:t?.[a]?.rivalsPlayers??{},matches:t?.[a]?.matches??[],updatedAt:wr()}}},{merge:!0});const u=await cc(Hn(Sn,"users",n)),m=(u.exists()?u.data():null)?.lineups?.[a];if(m){const g=m?.formations?Object.entries(m.formations).map(([x,b])=>({id:x,...b})).sort((x,b)=>new Date(b.createdAt)-new Date(x.createdAt)):[];s({type:km,payload:{club:a,bucket:{label:m.label??l,players:m.players??[],formations:g,playersStats:m.playersStats??{},rivalsPlayers:m.rivalsPlayers??{},matches:m.matches??[]}}})}s({type:Ju}),pe.Notify.success("Club guardado/activado")}catch(u){console.error(u),pe.Notify.failure("No se pudo guardar el club en la nube")}}const zw=(n,e,t,s)=>{if(!n){pe.Notify.failure("Eleg un capitn");return}const i=Ee(n);if(!e.includes(i)){pe.Notify.failure("Capitn invlido");return}if(t.length>=11&&!t.includes(i)){pe.Notify.warning("Equipo Titular Completo");return}s({type:pS,payload:{captain:i}}),pe.Notify.success(`Capitn: ${Ae(i)}`)},K3=({showForm:n,selectMode:e,players:t=[],selectedOption:s="",starters:i=[],dispatch:a})=>n&&e==="captain"&&Array.isArray(t)&&t.length>0?h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Arm tu Formacin Inicial"}),h.jsxs("select",{value:s,onChange:u=>a({type:bo,payload:u.target.value}),onKeyDown:u=>{u.key==="Enter"&&(u.preventDefault(),zw(s,t,i,a))},className:"border w-full",disabled:!Array.isArray(t)||t.length===0,children:[h.jsx("option",{value:"",children:"Seleccionar Capitn"}),[...Array.isArray(t)?t:[]].sort((u,d)=>u.localeCompare(d,"es",{sensitivity:"base"})).map(u=>h.jsx("option",{value:u,children:Ae(u)},u))]}),h.jsx("button",{type:"button",onClick:()=>zw(s,t,i,a),className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:!Array.isArray(t)||t.length===0||!s,children:"Confirmar Capitn"})]}):null,X3=(n,e,t)=>{const s=Ee(n||"");if(s){if(e.length>=11){pe.Notify.warning("Ya hay 11");return}if(e.includes(s)){pe.Notify.warning("Ya est en titulares");return}t({type:gx,payload:{player:s}}),t({type:bo,payload:""}),pe.Notify.success("Titular agregado")}},Q3=(n,e,t)=>{const s=Ee(n);if(!s){pe.Notify.failure("Eleg un jugador");return}if(e.length>=11){pe.Notify.warning("Ya hay 11");return}if(e.includes(s)){pe.Notify.warning("Ya est en titulares");return}t({type:gx,payload:{player:s}}),pe.Notify.success("Titular agregado")},J3=({selectedOption:n="",players:e=[],starters:t=[],remaining:s=[],chosen:i=[],dispatch:a})=>h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4 underline",children:"Arma tu Formacin Inicial"}),h.jsxs("select",{value:n,onChange:l=>{const u=l.target.value;a({type:bo,payload:u}),X3(u,t,a)&&a({type:bo,payload:""})},className:"border w-full",disabled:e.length===0||t.length>=11,children:[h.jsx("option",{value:"",children:"Eleg un titular"}),[...s].map(l=>h.jsx("option",{value:l,children:Ae(l)},l)),h.jsx("option",{disabled:!0,value:"",children:" Ya elegidos "}),i.map(l=>h.jsx("option",{value:l,disabled:!0,children:Ae(l)},l))]}),h.jsx("button",{type:"button",onClick:()=>{Q3(n,t,a)&&a({type:bo,payload:""})},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:t.length>=11||n==="",children:"Agregar Jugador Titular"})]}),Z3=async({starters:n=[],captainName:e="",activeClub:t="",teamName:s="",players:i=[],uid:a="",dispatch:l,setShowForm:u})=>{if(!Array.isArray(n)||n.length!==11)return pe.Notify.failure("Debs elegir exactamente 11 titulares."),!1;if(!e){pe.Notify.failure("Eleg un capitn.");return}if(!n.includes(e)){pe.Notify.failure("El capitn debe estar entre los 11 titulares.");return}if(!t&&!s){pe.Notify.failure("Guard el nombre del equipo antes de guardar la formacin.");return}if(!a){pe.Notify.failure("No hay sesin.");return}const d=crypto&&crypto.randomUUID?crypto.randomUUID():String(Date.now()),m=Ee(t||s),g=new Date().toISOString(),x=e,b=[...n];if(!m){pe.Notify.failure("Falta el nombre del equipo.");return}l({type:yx,payload:{id:d,name:s,captain:e,starters:b,createdAt:new Date,players:[...i]}});try{await Ys(Hn(Sn,"users",a),{[`lineups.${m}.formations.${d}`]:{createdAt:g,captain:x,starters:b},[`lineups.${m}.players`]:[...new Set(i.map(Ee))],[`lineups.${m}.updatedAt`]:wr()}),u(!1),pe.Notify.success("Equipo guardado")}catch(E){console.error(E),pe.Notify.failure("No se pudo guardar la formacin en la nube")}},e4=({captainName:n,starters:e=[],dispatch:t,activeClub:s,teamName:i,players:a=[],uid:l,setShowForm:u})=>{const d=!!n,m=Array.isArray(e)&&e.length>0;return h.jsxs("div",{children:[d&&h.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",children:[h.jsx("strong",{children:"Capitn:"})," ",Ae(n)]}),m&&h.jsxs("div",{children:[h.jsx("h1",{children:`Titulares (${e.length}/11)`}),h.jsx("ul",{className:"list-disc pl-5 grid grid-cols-3 gap-x-6 gap-y-2 mb-2",children:[...e].sort((g,x)=>g.localeCompare(x,"es",{sensitivity:"base"})).map(g=>h.jsxs("li",{className:"text-gray-700 flex items-center",children:[h.jsx("button",{type:"button",onClick:()=>{t({type:gS,payload:{player:g}}),pe.Notify.success("Jugador eliminado"),g===n&&pe.Notify.info("Capitn eliminado. Volv a elegir un capitn.")},className:"mr-2","aria-label":`Eliminar ${Ae(g)}`,title:"Eliminar",children:""}),h.jsx("span",{children:Ae(g)})]},g))}),h.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2 mt-2",onClick:()=>Z3({starters:e,captainName:n,activeClub:s,teamName:i,players:a,uid:l,dispatch:t,setShowForm:u}),disabled:e.length!==11||!n,children:"Guardar Titulares"})]})]})},t4=(n,e,t,s,i)=>{const a=Ee(e||t);!s||!a||pe.Confirm.show("Confirmar eliminacin","Seguro que quers eliminar esta formacin?","S, eliminar","Cancelar",async()=>{i({type:xS,payload:{id:n.id}}),pe.Notify.success("Formacin eliminada");const l=Ee(e||t);if(!(!s||!l))try{await Ys(Hn(Sn,"users",s),{[`lineups.${l}.formations.${n.id}`]:WO(),[`lineups.${l}.updatedAt`]:wr()})}catch(u){console.error(u),pe.Notify.failure("No se pudo eliminar en la nube")}},()=>{})},n4=(n,e,t)=>{pe.Confirm.show("Nuevos Horizontes","Te vas a un nuevo Club??","S, ya firme contrato","no, apret sin querer",()=>{n(!1),e({type:px}),e({type:xx}),t("")},()=>{})},Z0=n=>String(n?.id??n?.key??n?.codigo??n?._id??n?.createdAt??""),s4=(n,e=[])=>n&&e.find(t=>Z0(t)===n)||null,i4=(n,e=[],t)=>{if(!n)return!1;const s=Array.isArray(n.starters)?n.starters:[];if(s.length!==e.length)return!0;const i=[...s].sort().join("|"),a=[...e].sort().join("|"),l=(n.captain??"")!==(t??"");return i!==a||l},r4=async({formationId:n,starters:e,captainName:t,activeClub:s,teamName:i,players:a,uid:l,dispatch:u,setShowForm:d,createdAt:m})=>{if(!n)return pe.Notify.failure("No hay formacin seleccionada para actualizar."),!1;if(!Array.isArray(e)||e.length!==11)return pe.Notify.failure("Debs elegir exactamente 11 titulares."),!1;if(!t)return pe.Notify.failure("Eleg un capitn."),!1;if(!e.includes(t))return pe.Notify.failure("El capitn debe estar entre los 11 titulares."),!1;if(!s&&!i)return pe.Notify.failure("Guard el nombre del equipo antes de actualizar la formacin."),!1;if(!l)return pe.Notify.failure("No hay sesin."),!1;const g=Ee(s||i);if(!g)return pe.Notify.failure("Falta el nombre del equipo."),!1;const x=t,b=[...e];u?.({type:yx,payload:{id:n,name:i,captain:t,starters:b,...m?{createdAt:m}:{},players:[...a]}});try{return await Ys(Hn(Sn,"users",l),{[`lineups.${g}.formations.${n}.captain`]:x,[`lineups.${g}.formations.${n}.starters`]:b,[`lineups.${g}.formations.${n}.updatedAt`]:wr(),[`lineups.${g}.players`]:[...new Set(a.map(Ee))],[`lineups.${g}.updatedAt`]:wr()}),d?.(!1),pe.Notify.success("Formacin actualizada"),!0}catch(E){return console.error(E),pe.Notify.failure("No se pudo actualizar la formacin en la nube"),!1}},a4=({ordered:n=[],players:e=[],activeClub:t,teamName:s,uid:i,dispatch:a,setShowForm:l,setTeamName:u})=>{if(!Array.isArray(n)||n.length===0)return null;const[d,m]=B.useState(!1),[g,x]=B.useState(null),[b,E]=B.useState([]),[N,w]=B.useState(null),{dispatch:T}=Jn(),k=B.useMemo(()=>s4(g,n),[g,n]),M=B.useMemo(()=>i4(k,b,N),[k,b,N]),I=!!(d&&g&&M&&b.length===11),z=()=>{x(null),E([]),w(null)},U=()=>{m(O=>{const L=!O;return L||z(),L})},$=O=>{const L=Z0(O);if(!L)return;const ge=Array.isArray(O.starters)?O.starters:[];x(L),E([...ge]),w(O.captain??ge[0]??null)},A=O=>{E(L=>L.filter(ge=>ge!==O)),w(L=>L===O?null:L)},R=O=>typeof O=="string"?O:String(O?.id??O?.key??O?.codigo??O?.name??O?.nombre??""),j=O=>typeof O=="string"?O:String(O?.id??O?.key??O?.codigo??O?.name??O?.nombre??""),V=new Set(b.map(j)),F=e.map(R).filter(O=>O&&!V.has(O)).sort((O,L)=>O.localeCompare(L,"es",{sensitivity:"base"}));return h.jsx("div",{children:h.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-2",children:[h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("h1",{className:"text-xl font-semibold text-green-700 mb-2 underline",children:"Formaciones"}),h.jsx("button",{type:"button",className:`inline-flex h-10 w-10 items-center justify-center rounded-full border text-sm transition
              ${d?"bg-red-50 border-red-200 text-red-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,"aria-label":d?"Salir de edicin":"Editar formaciones",title:d?"Salir de edicin":"Editar formaciones",onClick:U,children:""})]}),n.map(O=>{const L=Z0(O),ge=d&&L&&L===g,W=[...ge?b:Array.isArray(O.starters)?O.starters:[]].sort((H,ne)=>H.localeCompare(ne,"es",{sensitivity:"base"})),ae=W.slice(0,4),we=W.slice(4,8),De=W.slice(8,11);return h.jsxs("div",{className:`space-y-2 rounded-lg ${ge?"ring-2 ring-red-200 p-2":""}`,children:[h.jsx("div",{role:d?"button":void 0,tabIndex:d?0:void 0,className:`${d?"cursor-pointer":""}`,onClick:()=>{d&&$(O)},onKeyDown:H=>{d&&(H.key==="Enter"||H.key===" ")&&$(O)},children:h.jsx("div",{className:"grid md:grid-cols-3 gap-1 md:gap-2",children:[ae,we,De].map((H,ne)=>h.jsxs("ul",{className:"bg-gray-50 rounded-lg p-1 shadow-inner space-y-1",children:[H.map(he=>h.jsx("li",{className:`px-2 py-1.5 rounded text-left leading-tight ${he===O.captain?"bg-yellow-50 border-l-4 border-yellow-400 font-medium text-yellow-900":"hover:bg-gray-100 text-gray-800"}`,children:h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{className:"truncate",children:Ae(he)}),ge&&h.jsx("button",{type:"button",className:"shrink-0 inline-flex h-8 w-8 items-center justify-center rounded-full hover:bg-red-50",onClick:re=>{re.stopPropagation(),pe.Confirm.show("Eliminar jugador",`Quitar a ${Ae(he)} de esta formacin?`,"S, Eliminar","Cancelar",function(){A(he)},function(){})},children:h.jsx("img",{src:vS,alt:"",className:"h-5 w-5",draggable:!1})})]})},he)),ne===2&&h.jsxs("li",{className:"flex justify-center items-center gap-2 mt-2",children:[ge&&h.jsx("button",{type:"button",className:`px-3 py-2 rounded text-sm font-semibold ${I?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,onClick:async he=>{if(he.stopPropagation(),!I)return;await r4({formationId:g,starters:b,captainName:N,activeClub:t,teamName:s,players:e,uid:i,dispatch:a,setShowForm:l})&&E(b)},disabled:!I,title:I?"Actualizar":"Tens que tener 11 jugadores para guardar",children:"Actualizar"}),h.jsx("button",{type:"button","aria-label":"Eliminar formacin",className:"w-9 h-9 rounded-full bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 text-lg font-bold flex items-center justify-center shadow",onClick:he=>{he.stopPropagation(),t4(O,t,s,i,a)},children:""})]})]},ne))})}),ge&&b.length<11&&h.jsxs("div",{className:"mt-3",children:[h.jsxs("select",{value:"",onChange:H=>{const ne=H.target.value;ne&&E(he=>[...he,ne])},className:"border p-2 rounded w-full",children:[h.jsx("option",{value:"",children:"Seleccionar jugador..."}),F.map(H=>h.jsx("option",{value:H,children:Ae(H)},H))]}),h.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Te faltan ",11-b.length," jugador(es)"]})]}),h.jsx("hr",{})]},L)}),h.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2",onClick:()=>n4(l,a,u),children:"Nuevo Club para Dirigir"})]})})};function o4(n=[],e={}){return B.useMemo(()=>{const t=new Map;for(const s of Array.isArray(n)?n:[]){const i=Ee(s);i&&t.set(i,Ae(i))}for(const s of Object.keys(e||{})){const i=Ee(s);if(!i)continue;const a=e[i]?.label||i;t.set(i,Ae(a))}return[...t.entries()].map(([s,i])=>({key:s,label:i})).sort((s,i)=>s.label.localeCompare(i.label,"es",{sensitivity:"base"}))},[n,e])}const l4=async({uid:n,teamName:e,lineups:t,dispatch:s})=>{const i=(e||"").trim();if(!i)return;const a=Ee(i);if(!a)return;if(t?.[a]){s({type:Qu,payload:{name:a}}),s({type:Ju}),pe.Notify.success("Equipo cargado desde memoria local");return}if(!n){pe.Notify.info("No hay sesin para buscar en la nube");return}try{const u=await cc(Hn(Sn,"users",n));if(!u.exists()){pe.Notify.info("No se encontraron datos guardados de ese club");return}const m=u.data()?.lineups?.[a];if(!m){pe.Notify.info("No se encontraron datos guardados de ese club");return}const g=m.formations?Object.entries(m.formations).map(([x,b])=>({id:x,...b})).sort((x,b)=>new Date(b.createdAt)-new Date(x.createdAt)):[];s({type:km,payload:{club:a,bucket:{label:m.label??i,players:m.players??[],formations:g,playersStats:m.playersStats??{},rivalsPlayers:m.rivalsPlayers??{},matches:m.matches??[]}}}),s({type:Qu,payload:{name:a}}),s({type:Ju}),pe.Notify.success("Equipo cargado desde la nube")}catch(u){console.error(u),pe.Notify.failure("No se pudo recuperar el equipo de la nube")}},c4=()=>{const{form:n,changed:e,setValue:t}=fx(),{uid:s}=cn(),[i,a]=B.useState(n.teamName||""),[l,u]=B.useState(n.playerName||""),d={...n,playerName:l},m=L=>{L?.target?.name==="playerName"&&u(L.target.value),e(L)},g=(L,ge)=>{L==="playerName"&&u(ge??""),t(L,ge)},{state:x,dispatch:b}=An(),{captainName:E="",activeClub:N="",starters:w=[],selectMode:T="captain",selectedOption:k="",lineups:M={},players:I=[]}=x??{},z=Ee(N||""),U=M?.[z]?.players||[],[$,A]=B.useState(!1),R=P3(s,b,x.activeClub,x.managedClubs);L3(M,N,b,R),V3(N,M,a);const j=W3(M,N),{remaining:V,chosen:F}=q3(U,w);z3(s,N,M,U),U3(s,b);const O=o4(x?.managedClubs,M);return h.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:h.jsxs("div",{className:"grid gap-6 lg:grid-cols-1",children:[h.jsx("div",{className:"space-y-2",children:h.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-1",children:[h.jsx("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:h.jsxs("div",{className:"flex-1 w-full",children:[h.jsx(B3,{teamName:i}),h.jsx(F3,{value:i,onChange:a,onBlurSave:()=>l4({uid:s,teamName:i,lineups:M,dispatch:b}),onConfirm:()=>Y3({uid:s,teamName:i,lineups:M,dispatch:b}),disabled:U.length>0,suggestions:O}),h.jsx($3,{activeClub:N,lineups:M,form:d,changed:m,players:U,dispatch:b,setValue:g})]})}),h.jsx(G3,{players:U,selectedOption:k,dispatch:b,teamName:i,activeClub:N,uid:s,setShowForm:A})]})}),h.jsx("div",{className:"space-y-2",children:$?h.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:h.jsxs(h.Fragment,{children:[h.jsx(K3,{showForm:$,selectMode:T,players:U,selectedOption:k,starters:w,dispatch:b}),T==="starters"&&U.length>0&&h.jsx(J3,{selectedOption:k,players:U,starters:w,dispatch:b,remaining:V,chosen:F}),h.jsx(e4,{captainName:E,players:U,starters:w,dispatch:b,activeClub:N,teamName:i,uid:s,setShowForm:A})]})}):U.length!==0?h.jsxs("div",{className:"hidden lg:block text-xs text-gray-500",children:["Toc ",h.jsx("strong",{children:"Nueva formacin"})," para empezar a armar el equipo."]}):null}),h.jsx("div",{className:"space-y-2",children:j.length>0&&h.jsx("div",{className:"bg-white shadow-md rounded-xl p-6",children:h.jsx(a4,{ordered:j,activeClub:N,teamName:i,uid:s,dispatch:b,setShowForm:A,setTeamName:a,players:U})})})]})})},lt=n=>typeof n=="string"&&n.trim()?Ae(n):String(n??""),ey=(n="")=>n.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),Uw=n=>(n||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),u4=(n,e)=>{if(!n||!e)return"anual";const t=Uw(ey(e));for(const[s,i]of Object.entries(n||{}))if(Uw(ey(s))===t)return(i?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"};function Rm({torneoName:n,torneoYear:e,fecha:t,torneosConfig:s}){const i=ey(n||"").trim()||"Sin torneo",a=u4(s,i),l=t?typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)?new Date(`${t}T00:00:00`):new Date(t):null,u=Number(e)||l&&l.getFullYear()||0;if(a==="europeo"){if(l&&Number.isFinite(l.getTime())){const d=l.getFullYear(),g=l.getMonth()+1>=7?d:d-1;return`${i} ${g}-${g+1}`}return u?`${i} ${u-1}-${u}`:`${i}`}return u?`${i} ${u}`:l&&Number.isFinite(l.getTime())?`${i} ${l.getFullYear()}`:`${i}`}function n0(){return{pj:0,g:0,e:0,p:0,gf:0,gc:0}}function s0(n,{esLocal:e,gf:t,gc:s}){const i=t>s?"g":t<s?"p":"e";n.pj+=1,n[i]+=1,n.gf+=t,n.gc+=s}function _l(n){const{g:e=0,e:t=0,p:s=0}=n||{};return e>=t&&e>s?"bg-green-100":s>e&&s>=t?"bg-red-100":t>=e&&t>=s?"bg-yellow-100":"bg-pink-100"}function wl({gf:n=0,gc:e=0}){return(n||0)-(e||0)}function Jh(n){const e=n.g*3+n.e,t=n.pj*3,s=t>0?Math.round(e/t*100):"0.00";return{puntos:e,efectividad:s,posibles:t}}function d4({match:n,uid:e,clubKey:t,onDone:s}){if(!n?.id){pe.Notify.failure("No se encontr el ID del partido.");return}pe.Confirm.show("Borrar Partido",`Ests seguro de borrar el partido de ${n.condition} vs ${lt(n.rival||"")}?`,"S","No",async()=>{try{const i=Hn(Sn,"users",e),l=(await cc(i)).data()||{},u=t||n.club,m=(l?.lineups?.[u]?.matches||[]).filter(g=>g?.id!==n.id);await Ys(i,{[`lineups.${u}.matches`]:m}),pe.Notify.success("Partido borrado con xito."),typeof s=="function"&&s()}catch(i){console.error(i),pe.Notify.failure("No se pudo borrar el partido.")}},()=>pe.Notify.info("El partido no se borr"))}const h4=(n,e={})=>B.useMemo(()=>{const t={};for(const s of n){const i=Rm({torneoName:s.torneoName,torneoYear:s.torneoYear,fecha:s.fecha,torneosConfig:e});t[i]||(t[i]={general:n0(),local:n0(),visitante:n0()});const a=Number(s.golFavor)||0,l=Number(s.golContra)||0,u=String(s.condition||"").trim().toLowerCase(),d=u==="local",m=u==="visitante";s0(t[i].general,{esLocal:d,gf:a,gc:l}),d?s0(t[i].local,{esLocal:!0,gf:a,gc:l}):m&&s0(t[i].visitante,{esLocal:!1,gf:a,gc:l})}return t},[n]),Bw=n=>{if(!n)return 0;if(typeof n=="number")return n;if(typeof n=="string"){const e=Date.parse(n);return Number.isFinite(e)?e:0}if(typeof n=="object"){if(typeof n.toDate=="function"){const e=n.toDate();return e instanceof Date?e.getTime():0}if(typeof n.seconds=="number")return n.seconds*1e3}return 0},f4=(n,e,t=[],s={})=>B.useMemo(()=>{const i=u=>{const d=String(u).match(/(\d{4})(?:-(\d{4}))?$/);return d?parseInt(d[2]||d[1],10):0},a=new Map;(t||[]).forEach(u=>{const d=Rm({torneoName:u?.torneoName,torneoYear:u?.torneoYear,fecha:u?.fecha,torneosConfig:s}),m=Math.max(Bw(u?.createdAt),Bw(u?.fecha));if(!m)return;const g=a.get(d)||0;m>g&&a.set(d,m)});const l=Object.keys(n||{});return l.sort((u,d)=>{const m=i(u),g=i(d);if(m!==g)return e==="asc"?m-g:g-m;const x=a.get(u)||0,b=a.get(d)||0;return x!==b?e==="asc"?x-b:b-x:u.localeCompare(d)}),l},[n,e,t,s]),Ds=({value:n=0,title:e="",showPlus:t=!1})=>{const s=Number(n||0),i=s>0?"ring-emerald-600":s<0?"ring-rose-600":"ring-yellow-500",a=t&&s>0?`${s}`:`${s}`;return h.jsx("span",{className:`mx-auto inline-flex items-center justify-center rounded-full bg-white ring-2 ${i}
        h-6 w-6 md:h-7 md:w-7 text-[10px] md:text-[11px] font-extrabold text-black tabular-nums`,title:e,children:Ks(a)})},m4=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An();Us(n,t,i);const a=Object.keys(s?.lineups||[]),[l,u]=B.useState(s?.activeClub||a[0]||""),d=Ee(l||""),m=d?s?.lineups?.[d]:null,g=Array.isArray(m?.matches)?m.matches:[],[x,b]=B.useState("desc"),E=m?.torneosConfig||{},N=h4(g,E),w=f4(N,x,g,E),T=s?.lineups?.[d]||{},k=(T.players?.length??0)>0,M=(T.formations?.length??0)>0,I=T.playersStats?Object.keys(T.playersStats).length>0:!1;return s?.lineups&&Object.keys(s.lineups).length>0?!d||!k&&!M&&!I?h.jsx(vs,{to:"/formacion",replace:!0}):h.jsxs("div",{className:"p-1 max-w-screen-2xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[h.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:" Campeonatos"}),h.jsx(Jl,{to:"/campeonatos/ajustes",className:"p-2 rounded-full hover:bg-slate-200 transition-all border border-slate-200 shadow-sm bg-white flex items-center justify-center",title:"Configuracin de Campeonatos",children:h.jsx("span",{className:"text-xl leading-none",children:""})})]}),h.jsxs("div",{className:"mb-4 flex flex-wrap items-end justify-center gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Club"}),h.jsx("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:l,onChange:U=>u(U.target.value),"aria-label":"Seleccionar club",children:a.map(U=>h.jsx("option",{value:U,children:lt(U)},U))})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Orden"}),h.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:x,onChange:U=>b(U.target.value),"aria-label":"Ordenar campeonatos",children:[h.jsx("option",{value:"desc",children:"Ms nuevos primero"}),h.jsx("option",{value:"asc",children:"Ms viejos primero"})]})]})]}),h.jsx("div",{className:"lg:hidden max-h-[75vh] overflow-auto rounded-2xl border border-slate-200 bg-white shadow-sm w-full",children:h.jsx("div",{className:"flex justify-center p-2",children:h.jsxs("table",{className:"w-max text-[12px] md:text-sm border-separate border-spacing-px bg-white",children:[h.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-2 py-2 text-left border-b border-slate-200 w-[40px]",children:"Campeonato"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"Pts / Efec."})]})}),h.jsxs("tbody",{children:[w.map(U=>{const $=N?.[U];if(!$)return null;const A=wl($.general),R=wl($.local),j=wl($.visitante),V=Number($.general?.g||0)-Number($.general?.p||0),F=Number($.local?.g||0)-Number($.local?.p||0),O=Number($.visitante?.g||0)-Number($.visitante?.p||0),L=_l($.general),ge=_l($.local),de=_l($.visitante),{puntos:W,efectividad:ae,posibles:we}=Jh($.general),{puntos:De,efectividad:H,posibles:ne}=Jh($.local),{puntos:he,efectividad:re,posibles:me}=Jh($.visitante);return h.jsxs(hr.Fragment,{children:[h.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[h.jsx("td",{className:"px-3 py-1.5 font-semibold text-center text-slate-800",children:lt(U)}),h.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.pj}),h.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.g}),h.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.e}),h.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.p}),h.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:h.jsx(Ds,{value:V,title:`G/P = ${$.general.g} - ${$.general.p} = ${V}`})}),h.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.gf}),h.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.gc}),h.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:h.jsx(Ds,{value:A,showPlus:!0,title:`DG = ${A}`})}),h.jsxs("td",{className:`px-2 py-1 text-center ${L}`,children:[W," / ",we," ",ae,"%"]})]}),h.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[h.jsx("td",{className:"px-3 py-1 text-right text-[10px] uppercase tracking-wide text-slate-600",children:"LOCAL"}),h.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.pj}),h.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.g}),h.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.e}),h.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.p}),h.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:h.jsx(Ds,{value:F,title:`G/P = ${$.local.g} - ${$.local.p} = ${F}`})}),h.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.gf}),h.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.gc}),h.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:h.jsx(Ds,{value:R,showPlus:!0,title:`DG = ${R}`})}),h.jsxs("td",{className:`px-2 py-1 text-center ${ge}`,children:[De," / ",ne," ",H,"%"]})]}),h.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[h.jsx("td",{className:"px-3 py-1 text-right text-[10px] uppercase tracking-wide text-slate-600",children:"VISITANTE"}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:$.visitante.pj}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:$.visitante.g}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:$.visitante.e}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:$.visitante.p}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:h.jsx(Ds,{value:O,title:`G/P = ${$.visitante.g} - ${$.visitante.p} = ${O}`})}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:$.visitante.gf}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:$.visitante.gc}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:h.jsx(Ds,{value:j,showPlus:!0,title:`DG = ${j}`})}),h.jsxs("td",{className:`px-2 py-1 text-center ${de}`,children:[he," / ",me," ",re,"%"]})]})]},U)}),w.length===0&&h.jsx("tr",{children:h.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:10,children:"No hay partidos cargados para este club."})})]})]})})}),h.jsx("div",{className:"hidden lg:block max-h-[75vh] overflow-auto rounded-2xl border border-slate-200 bg-white shadow-sm p-2",children:h.jsxs("table",{className:"mx-auto w-max table-auto text-[11px] md:text-sm border-collapse",children:[h.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Campeonato"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),h.jsx("th",{className:"px-2 py-2 text-left border-b  border-r border-slate-300",children:"Pts / Efec."}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ L"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G L"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E L"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P L"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P L"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF L"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC L"}),h.jsx("th",{className:"px-2 py-2 text-center border-b  border-r border-slate-300",children:"DG L"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ V"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G V"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E V"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P V"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P V"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF V"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC V"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG V"})]})}),h.jsxs("tbody",{children:[w.map((U,$)=>{const A=N?.[U];if(!A)return null;const R=$%2===0?"bg-white":"bg-slate-50",j=wl(A.general),V=wl(A.local),F=wl(A.visitante),O=Number(A.general?.g||0)-Number(A.general?.p||0),L=Number(A.local?.g||0)-Number(A.local?.p||0),ge=Number(A.visitante?.g||0)-Number(A.visitante?.p||0),de=_l(A.general),W=_l(A.local),ae=_l(A.visitante),{puntos:we,efectividad:De,posibles:H}=Jh(A.general);return h.jsxs("tr",{className:`${R} border-t border-slate-100 hover:bg-slate-100/70 transition-colors`,children:[h.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:lt(U)}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:A.general.pj}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:A.general.g}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:A.general.e}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:A.general.p}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:h.jsx(Ds,{value:O,title:`G/P = ${A.general.g} - ${A.general.p} = ${O}`})}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:A.general.gf}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:A.general.gc}),h.jsx("td",{className:`px-2 py-1 text-center ${de}`,children:h.jsx(Ds,{value:j,showPlus:!0,title:`DG = ${j}`})}),h.jsxs("td",{className:`px-2 py-1 text-left ${de} border-r border-slate-200`,children:[we,"/",H," - ",De,"%"]}),h.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.pj}),h.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.g}),h.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.e}),h.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.p}),h.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:h.jsx(Ds,{value:L,title:`G/P = ${A.local.g} - ${A.local.p} = ${L}`})}),h.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.gf}),h.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.gc}),h.jsx("td",{className:`px-2 py-1 text-center ${W} border-r border-slate-200`,children:h.jsx(Ds,{value:V,showPlus:!0,title:`DG = ${V}`})}),h.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.pj}),h.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.g}),h.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.e}),h.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.p}),h.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:h.jsx(Ds,{value:ge,title:`G/P = ${A.visitante.g} - ${A.visitante.p} = ${ge}`})}),h.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.gf}),h.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.gc}),h.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:h.jsx(Ds,{value:F,showPlus:!0,title:`DG = ${F}`})})]},U)}),w.length===0&&h.jsx("tr",{children:h.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:26,children:"No hay partidos cargados para este club."})})]})]})})]}):h.jsx("div",{className:"p-6 text-center text-slate-500",children:"Cargando datos..."})},ca=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0}),ty=()=>({General:ca(),Local:ca(),Visitante:ca(),Neutral:ca()});function Zh(n,e){n.pj+=1;const t=Number(e.golFavor||0),s=Number(e.golContra||0);n.gf+=t,n.gc+=s,t>s?n.g+=1:t===s?n.e+=1:n.p+=1,n.dif=n.gf-n.gc}function Fw(n,e){Zh(n.General,e);const t=String(e?.condition||"").trim().toLowerCase();t==="local"?Zh(n.Local,e):t==="visitante"?Zh(n.Visitante,e):(t==="neutro"||t==="neutral")&&Zh(n.Neutral,e)}function p4(n,e={}){const t=(x="")=>x.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),s=x=>(x||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=(x,b)=>{if(!x||!b)return"anual";const E=s(t(b));for(const[N,w]of Object.entries(x))if(s(t(N))===E)return(w?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"},a=(x,b)=>{const E=new Date(x?.fecha);if(!Number.isFinite(E.getTime()))return"N/A";const N=E.getFullYear(),w=E.getMonth()+1;if(b==="europeo"){const T=w>=7?N:N-1;return`${T}-${T+1}`}return String(N)},l=x=>{const b=x?.createdAt;if(typeof b=="number")return b;if(b&&typeof b.toMillis=="function")return b.toMillis();if(b&&typeof b.seconds=="number")return b.seconds*1e3;if(x?.fecha){const E=new Date(x.fecha);if(Number.isFinite(E.getTime()))return E.getTime()}return 0},u=new Map;for(const x of n||[]){const b=(x?.captain||"").trim();u.has(b)||u.set(b,{captain:b,total:ty(),byTournament:{},tourneyMaxTs:{}});const E=u.get(b);Fw(E.total,x);const N=x?.torneoDisplay||"Sin torneo",w=t(N),T=i(e,w),k=a(x,T),M=`${w} ${k}`;E.byTournament[M]||(E.byTournament[M]=ty()),Fw(E.byTournament[M],x);const I=l(x);E.tourneyMaxTs[M]=Math.max(E.tourneyMaxTs[M]||0,I)}const d=[...u.values()].sort((x,b)=>x.captain.localeCompare(b.captain)),m=new Map;d.forEach(x=>{Object.entries(x.tourneyMaxTs).forEach(([b,E])=>{m.set(b,Math.max(m.get(b)||0,E))})});const g=[...m.entries()].sort((x,b)=>b[1]-x[1]).map(([x])=>x);return{captains:d,tournamentsOrdered:g}}const $w=({title:n,rows:e,colorize:t=!0})=>{const s=["General","Local","Visitante","Neutral"];function i({g:m=0,e:g=0,p:x=0}){return t?m>=g&&m>x?"bg-green-100":x>m&&x>=g?"bg-red-100":m===x&&m>g||m===g&&m===x||g>=m&&g>=x?"bg-yellow-100":"bg-gray-100":""}const a=({children:m,bg:g})=>h.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${g}`,children:m}),l=({g:m=0,e:g=0,pj:x=0,rowBg:b=""})=>{const E=Number(m||0),N=Number(g||0),w=Number(x||0),T=E*3+N*1,k=w*3,M=k>0?Math.round(T/k*100):0;return h.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${b}`,children:h.jsxs("div",{className:"flex flex-col items-center leading-none",children:[h.jsxs("span",{className:"text-[10px] font-extrabold tabular-nums text-black",children:[T," / ",k]}),h.jsxs("span",{className:"mt-0.5 text-[9px] tabular-nums text-slate-600",children:[M,"%"]})]})})},u=({value:m=0,rowBg:g=""})=>{const x=Number(m||0),b=x>0?"ring-green-400":x<0?"ring-red-400":"ring-yellow-400";return h.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${g}`,children:h.jsx("span",{className:`mx-auto inline-flex items-center justify-center rounded-full w-7 h-7 bg-white ring-2 ${b} text-[10px] font-extrabold text-black`,title:`DIF: ${x}`,children:Ks(x)})})},d=({g:m=0,p:g=0,rowBg:x=""})=>{const b=Number(m||0)-Number(g||0),E=b>0?"border-green-400 ring-green-300":b<0?"border-red-400 ring-red-300":"border-yellow-400 ring-yellow-300",N=b>0?"text-green-700":b<0?"text-red-700":"text-amber-800";return h.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${x}`,children:h.jsx("span",{className:`mx-auto inline-flex items-center rounded-full bg-white px-2 py-1 text-[10px] font-extrabold
          border ring-2 ${E}`,title:`G/P = ${m} - ${g} = ${b}`,children:h.jsx("span",{className:`tabular-nums ${N}`,children:Ks(b)})})})};return h.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden mt-3",children:[h.jsx("div",{className:"bg-blue-50 px-2 py-1 font-semibold text-sm text-center",children:Ae(n)}),h.jsxs("table",{className:"w-full text-xs border-separate border-spacing-px bg-white",children:[h.jsx("thead",{className:"bg-blue-100",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"Tipo"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"Pj"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"G"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"E"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"P"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"G/P"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"GF"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"GC"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"DIF"}),h.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"PTS/EFEC"})]})}),h.jsx("tbody",{children:s.map((m,g)=>{const x=e[m]||{pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0},b=i(x);return h.jsxs("tr",{className:g%2===0?"bg-white":"bg-gray-100",children:[h.jsx("td",{className:"px-2 py-1 border-b border-gray-100",children:m}),h.jsx(a,{bg:b,children:x.pj}),h.jsx(a,{bg:b,children:x.g}),h.jsx(a,{bg:b,children:x.e}),h.jsx(a,{bg:b,children:x.p}),h.jsx(d,{g:x.g,p:x.p,rowBg:b}),h.jsx(a,{bg:b,children:x.gf}),h.jsx(a,{bg:b,children:x.gc}),h.jsx(u,{value:x.dif,rowBg:b}),h.jsx(l,{g:x.g,e:x.e,pj:x.pj,rowBg:b})]},m)})})]})]})},g4=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An();Us(n,t,i);const[a,l]=B.useState(null),u=Object.keys(s?.lineups||{}),[d,m]=B.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null;B.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const b=Array.isArray(a?.matches)?a.matches:[],E=s?.lineups?.[g]||{},N=(E.players?.length??0)>0,w=(E.formations?.length??0)>0,T=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!g||!N&&!w&&!T)return h.jsx(vs,{to:"/formacion",replace:!0});const k=a?.torneosConfig||{},{captains:M,tournamentsOrdered:I}=B.useMemo(()=>p4(b,k),[b,a?.torneosConfig]),z=A=>({General:A?.General||ca(),Local:A?.Local||ca(),Visitante:A?.Visitante||ca(),Neutral:A?.Neutral||ca()}),U=d,$=M.filter(A=>(A?.total?.General?.pj??0)>0);return h.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-evenly gap-1 mb-2 mt-2",children:[h.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 flex flex-col gap-0 leading-none",children:[h.jsx("span",{children:" Anlisis"}),h.jsx("span",{className:"mt-1 inline-flex w-fit items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-600",children:" Resumen"})]}),h.jsxs("label",{className:"w-full max-w-[220px]",children:[h.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),h.jsx("select",{value:U,onChange:A=>m(A.target.value),disabled:u.length<=1,className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-1 text-sm text-slate-800 shadow-sm\r
        focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
        disabled:bg-slate-100 disabled:text-slate-500`,children:u.map(A=>h.jsx("option",{value:A,children:Ae(A)},A))})]})]}),h.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[h.jsx("h2",{className:"text-sm font-extrabold tracking-wide text-slate-800 uppercase",children:"Totales Generales"}),h.jsx("span",{className:"text-xs text-slate-500",children:$.length?`${$.length} capitanes`:""})]}),h.jsx("div",{className:"p-2",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("div",{className:"flex flex-col gap-3 mx-auto w-max sm:flex-row sm:flex-nowrap sm:justify-center",children:[$.map(A=>h.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:h.jsx($w,{title:A.captain,rows:z(A.total)})},`total-${A.captain}`)),!$.length&&h.jsx("div",{className:"text-slate-500 text-sm px-2 py-4",children:" Sin partidos "})]})})})]}),h.jsx("div",{className:"mt-2 space-y-6 ",children:I.map(A=>h.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[h.jsx("div",{className:"px-2 py-2 border-b border-slate-200",children:h.jsx("h3",{className:"text-sm font-extrabold tracking-wide text-slate-800 uppercase text-center",children:A})}),h.jsx("div",{className:"p-2",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsx("div",{className:"flex flex-col gap-3 mx-auto w-max sm:flex-row sm:flex-nowrap sm:justify-center",children:$.map(R=>{const j=R.byTournament[A]||ty();return(j?.General?.pj??0)===0?null:h.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:h.jsx($w,{title:R.captain,rows:z(j)})},`${A}-${R.captain}`)})})})})]},A))})]})},Ni=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,df:0}),po=()=>({General:Ni(),Local:Ni(),Visitante:Ni(),Neutral:Ni()}),sa=["PJ","G","E","P","G/P","GF","GC","DF","PTS/EFEC"];function ea(n,e,t){n.pj+=1,e>t?n.g+=1:e===t?n.e+=1:n.p+=1,n.gf+=e,n.gc+=t,n.df=n.gf-n.gc}function _S(n={}){const{g:e=0,e:t=0,p:s=0}=n;return e>=t&&e>s?"bg-green-100":s>e&&s>=t?"bg-red-100":e===s&&e>t||e===t&&e===s||t>=e&&t>=s?"bg-yellow-100":"bg-pink-100"}const y4=n=>n>0?"ring-green-400":n<0?"ring-red-400":"ring-yellow-400",wS=(n,e)=>h.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${y4(n)} h-6 w-6 text-[10px] font-extrabold text-black`,title:e,children:n}),x4=n=>wS(n,`G/P = ${n}`),b4=n=>wS(n,`DF = ${n}`),v4=n=>{const e=Number(n?.g??0),t=Number(n?.e??0),s=Number(n?.pj??0),i=e*3+t*1,a=s*3,l=a>0?Math.round(i/a*100):0;return{obtenidos:i,posibles:a,efec:l}},_4=n=>h.jsxs("div",{className:"leading-tight",children:[h.jsxs("div",{className:"font-semibold",children:[n?.obtenidos??0," / ",n?.posibles??0]}),h.jsxs("div",{className:"text-[10px] opacity-80",children:[n?.efec??0,"%"]})]}),w4=(n,e=[])=>{const t={General:n?.General??Ni(),Local:n?.Local??Ni(),Neutral:n?.Neutral??Ni(),Visitante:n?.Visitante??Ni()},s=[];for(const i of e){const a=t[i]??Ni(),l=(a.g??0)-(a.p??0),u=v4(a);s.push(a.pj,a.g,a.e,a.p,l,a.gf,a.gc,a.df,u)}return s.map((i,a)=>{const l=a%9,u=Math.floor(a/9),d=e[u],m=t[d]??Ni(),g=_S(m);return h.jsx("td",{className:`border px-2 py-1 text-center ${g}`,children:l===4?x4(i):l===7?b4(i):l===8?_4(i):i},`${d}-${a}`)})},Hw=({etiquetas:n,sufijos:e=["",""]})=>h.jsx(h.Fragment,{children:n.flatMap((t,s)=>sa.map(i=>h.jsxs("th",{className:"border px-2 py-1 text-center",children:[i,e[s]]},`${t}-${i}`)))}),ef=({triple:n,orden:e})=>h.jsx(h.Fragment,{children:w4(n,e)}),ES=(n=[],e="anual")=>B.useMemo(()=>{const t={},s=new Set;for(const l of n){if(!l?.fecha)continue;const u=new Date(l.fecha);let d="N/A";if(Number.isFinite(u.getTime()))if(e==="europeo"){const E=u.getFullYear(),w=u.getMonth()+1>=7?E:E-1;d=`${w}-${w+1}`}else d=String(u.getFullYear());const m=(l?.captain||"").trim();s.add(m),t[d]||(t[d]={general:po(),capitanes:{}}),t[d].capitanes[m]||(t[d].capitanes[m]=po());const g=Number(l.golFavor||0),x=Number(l.golContra||0),b=String(l.condition||"").trim().toLowerCase();ea(t[d].general.General,g,x),b==="local"?ea(t[d].general.Local,g,x):b==="visitante"?ea(t[d].general.Visitante,g,x):(b==="neutral"||b==="neutro"||b==="neutro/neutral")&&(t[d].general.Neutral||(t[d].general.Neutral=po().General),ea(t[d].general.Neutral,g,x)),ea(t[d].capitanes[m].General,g,x),b==="local"?ea(t[d].capitanes[m].Local,g,x):b==="visitante"?ea(t[d].capitanes[m].Visitante,g,x):(b==="neutral"||b==="neutro"||b==="neutro/neutral")&&(t[d].capitanes[m].Neutral||(t[d].capitanes[m].Neutral=po().General),ea(t[d].capitanes[m].Neutral,g,x))}const i=Object.keys(t).sort((l,u)=>{const d=parseInt(l.split("-")[0],10),m=parseInt(u.split("-")[0],10);return d-m}),a=[...s].sort((l,u)=>l.localeCompare(u));return{temporadasOrdenadas:i,resumenPorTemporada:t,captainsOrdenados:a}},[n]),E4={PJ:"pj",G:"g",E:"e",P:"p",GF:"gf",GC:"gc",DF:"df","PTS/EFEC":"ptsEfec"},T4=n=>n>0?"ring-green-400":n<0?"ring-red-400":"ring-yellow-400",Gw=({value:n,title:e})=>{const t=typeof n=="number"?Math.abs(n):n;return h.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${T4(n)} h-6 w-6 text-[10px] font-extrabold text-black`,title:e,children:t})},ta=(n={})=>sa.map((e,t)=>{const i=_S(n),a=t===0?"":" border-2 border-white/70";let l=0;if(e==="G/P"){const u=n?.g??0,d=n?.p??0;l=u-d}else if(e==="PTS/EFEC"){const u=Number(n?.g??0),d=Number(n?.e??0),m=Number(n?.pj??0),g=u*3+d*1,x=m*3,b=x>0?Math.round(g/x*100):0;l={obtenidos:g,posibles:x,efec:b}}else{const u=E4[e];l=n?.[u]??0}return h.jsx("td",{className:`px-2 py-1 text-center ${i}${a}`,children:e==="G/P"?h.jsx(Gw,{value:l,title:`G/P = ${n?.g??0} - ${n?.p??0} = ${l}`}):e==="DF"?h.jsx(Gw,{value:l,title:`DF = ${l}`}):e==="PTS/EFEC"?h.jsxs("div",{className:"flex flex-col items-center leading-none",children:[h.jsxs("span",{className:"text-[10px] font-bold tabular-nums",children:[l.obtenidos," / ",l.posibles]}),h.jsxs("span",{className:"text-[9px] text-slate-600 tabular-nums",children:[l.efec,"%"]})]}):l},e)}),TS=({clubKey:n,bucket:e,year:t,matchesForYear:s,mode:i="anual"})=>{const[a,l]=B.useState(null);B.useEffect(()=>{e&&Object.keys(e).length!==0&&l(e)},[e]);const u=s,{temporadasOrdenadas:d,resumenPorTemporada:m,captainsOrdenados:g}=ES(u,i),x=[...d||[]].sort((T,k)=>{const M=String(T).match(/\d{4}/g)||[],I=String(k).match(/\d{4}/g)||[],z=M.length?Math.max(...M.map(Number)):-1/0;return(I.length?Math.max(...I.map(Number)):-1/0)-z});String(t).match(/\d{4}/g)||String(t);const b=e?.clubName?e.clubName:Ae(n),E="w-[60px] max-w-[60px]",N=`px-1.5 py-2 ${E} text-left border-b border-slate-200`,w=`px-1.5 py-1 ${E} text-left text-[10px] uppercase tracking-wide text-slate-600 whitespace-nowrap`;return h.jsx("div",{className:"m-2 space-y-3",children:x.map(T=>{const k=m[T];if(!k)return null;const M=Array.isArray(g)?g:[],I=k.general||po();return h.jsxs(hr.Fragment,{children:[h.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-evenly sm:gap-6",children:h.jsx("div",{className:"lg:hidden max-h-full overflow-auto overflow-x-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:h.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[h.jsxs("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:[h.jsx("tr",{children:h.jsxs("th",{className:"px-2 py-2 w-[76px] max-w-[76px] text-center border-b border-slate-200",colSpan:10,children:[T,"  ",b]})}),h.jsxs("tr",{children:[h.jsx("th",{className:N,children:"Bloque"}),sa.map(z=>h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:z},`head-${z}`))]})]}),h.jsxs("tbody",{children:[h.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[h.jsx("td",{className:`px-1.5 py-1.5 ${E} font-semibold text-left text-slate-800 whitespace-nowrap`,children:"General"}),ta(I.General)]}),h.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[h.jsx("td",{className:w,children:"Local"}),ta(I.Local)]}),h.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[h.jsx("td",{className:w,children:"Visitante"}),ta(I.Visitante)]}),(I?.Neutral?.pj??0)>0?h.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[h.jsx("td",{className:w,children:"Neutral"}),ta(I.Neutral)]}):null,M.map(z=>{const U=k.capitanes?.[z]||po();return h.jsxs(hr.Fragment,{children:[h.jsxs("tr",{className:"border-t border-slate-200 bg-white hover:bg-slate-50/80 transition-colors",children:[h.jsx("td",{className:`px-1.5 py-1.5 ${E} font-semibold text-left text-slate-800 whitespace-nowrap truncate`,title:Ae(z),children:Ae(z)}),ta(U.General)]}),h.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[h.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Local"}),ta(U.Local)]}),h.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[h.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Visitante"}),ta(U.Visitante)]}),(U?.Neutral?.pj??0)>0?h.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[h.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Neutral"}),ta(U.Neutral)]}):null]},`${T}-${z}`)})]})]})})}),h.jsx("div",{className:"hidden lg:block max-h-[75vh] overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:h.jsxs("table",{className:"mx-auto w-full min-w-[860px] text-[11px] md:text-sm border-collapse",children:[h.jsxs("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:[h.jsxs("tr",{children:[h.jsx("th",{className:"px-2 py-2 w-28 whitespace-nowrap text-left border-b border-slate-200",children:"Temporada"}),h.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",colSpan:sa.length*2,children:b})]}),h.jsxs("tr",{children:[h.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200"}),sa.map(z=>h.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:z},`G-${z}`)),sa.map(z=>h.jsxs("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:[z," N"]},`N-${z}`))]})]}),h.jsxs("tbody",{children:[h.jsxs("tr",{className:"bg-white border-t border-slate-100 hover:bg-slate-50/70 transition-colors",children:[h.jsx("td",{className:"border-r border-slate-200 font-semibold text-center",children:T}),h.jsx(ef,{triple:k.general,orden:["General","Neutral"]})]}),h.jsxs("tr",{className:"bg-slate-50",children:[h.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Condicin"}),sa.map(z=>h.jsxs("th",{className:"border border-black px-2 py-1 text-center text-[12px]",children:[z," L"]},`L-${z}`)),sa.map(z=>h.jsxs("th",{className:"border border-black px-2 py-1 text-center text-[12px]",children:[z," V"]},`V-${z}`))]}),h.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[h.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Totales"}),h.jsx(ef,{triple:k.general,orden:["Local","Visitante"]})]}),M.map(z=>{const U=k.capitanes?.[z]||po();return h.jsxs(hr.Fragment,{children:[h.jsxs("tr",{className:"bg-slate-100 border-t border-slate-200",children:[h.jsx("td",{className:"border-r border-slate-200 font-semibold px-2 py-1 text-left",children:Ae(z)}),h.jsx(Hw,{etiquetas:["General","Neutral"],sufijos:[""," N"]})]}),h.jsxs("tr",{className:"bg-white hover:bg-slate-50/70 transition-colors",children:[h.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),h.jsx(ef,{triple:U,orden:["General","Neutral"]})]}),h.jsxs("tr",{className:"bg-slate-50",children:[h.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-[10px] uppercase text-slate-600",children:"Condicin"}),h.jsx(Hw,{etiquetas:["Local","Visitante"],sufijos:[" L"," V"]})]}),h.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[h.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),h.jsx(ef,{triple:U,orden:["Local","Visitante"]})]})]},`${T}-${z}`)})]})]})})]},`${n}-${T}`)})})},N4=(n={})=>{const e=Object.keys(n||{});return B.useMemo(()=>{const t=[];for(const s of e){const i=n?.[s],a=Array.isArray(i?.matches)?i.matches:[];if(!a.length)continue;const l=new Map;for(const u of a){const d=new Date(u?.fecha);if(!Number.isFinite(d.getTime()))continue;const m=String(d.getFullYear());l.has(m)||l.set(m,[]),l.get(m).push(u)}for(const[u,d]of l.entries())t.push({clubKey:s,year:u,bucket:i,matchesForYear:d})}return t.sort((s,i)=>Number(i.year)-Number(s.year)),t},[e.join("|"),n])},S4=(n=[])=>B.useMemo(()=>n.map(e=>({id:e.id,fecha:e.fecha,rival:e.rival,golesFavor:e.golFavor??0,golesContra:e.golContra??0,equipo:(e.captain||"").toLowerCase(),esLocal:String(e.condition||"").trim().toLowerCase()==="local"})),[n]);function A4(n){const e=new Date(n),t=e.getFullYear(),i=e.getMonth()+1>=7?t:t-1;return`${i}-${i+1}`}function C4(n,e,t){const s=new Map;for(const a of n){const l=A4(a.fecha);s.has(l)||s.set(l,[]),s.get(l).push(a)}return Array.from(s.keys()).sort((a,l)=>{const u=parseInt(a.split("-")[0],10);return parseInt(l.split("-")[0],10)-u}).map(a=>({seasonKey:a,clubKey:e,bucket:t,matchesForSeason:s.get(a)}))}const k4=({lineups:n={}})=>{const e=B.useMemo(()=>{const t=[],s=Object.keys(n||{});for(const i of s){const a=n?.[i],l=Array.isArray(a?.matches)?a.matches:[];if(!l.length)continue;const u=C4(l,i,a);for(const d of u)t.push(d)}return t.sort((i,a)=>{const l=parseInt(String(i.seasonKey).split("-")[0],10);return parseInt(String(a.seasonKey).split("-")[0],10)-l}),t},[n]);return h.jsx(h.Fragment,{children:e.map(t=>h.jsx(TS,{clubKey:t.clubKey,bucket:t.bucket,year:t.seasonKey,matchesForYear:t.matchesForSeason,mode:"europeo"},`${t.seasonKey}-${t.clubKey}`))})},R4=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An();Us(n,t,i);const[a,l]=B.useState(null),[u,d]=B.useState("anual"),m=s?.lineups||{},g=N4(m);if(!Object.keys(m).some(k=>{const M=m?.[k]||{},I=(M.players?.length??0)>0,z=(M.formations?.length??0)>0,U=M.playersStats?Object.keys(M.playersStats).length>0:!1;return I||z||U}))return h.jsx(vs,{to:"/formacion",replace:!0});const E=Array.isArray(a?.matches)?a.matches:[],{temporadasOrdenadas:N,resumenPorTemporada:w,captainsOrdenados:T}=ES(E);return[...N||[]].sort((k,M)=>{const I=String(k).match(/\d{4}/g)||[],z=String(M).match(/\d{4}/g)||[],U=I.length?Math.max(...I.map(Number)):-1/0;return(z.length?Math.max(...z.map(Number)):-1/0)-U}),h.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[h.jsxs("div",{className:"mb-3",children:[h.jsx("h1",{className:"text-2xl font-bold text-center",children:" Temporadas"}),h.jsxs("div",{className:"mt-3 flex justify-center gap-3",children:[h.jsx("button",{type:"button",onClick:()=>d("anual"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",u==="anual"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Anual"}),h.jsx("button",{type:"button",onClick:()=>d("europeo"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",u==="europeo"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Europeo"})]})]}),h.jsx("hr",{className:"border-gray-200"}),u==="anual"&&g.map(k=>h.jsx(TS,{clubKey:k.clubKey,bucket:k.bucket,year:k.year,matchesForYear:k.matchesForYear},`${k.year}-${k.clubKey}`)),u==="europeo"&&h.jsx(k4,{lineups:m})]})},j4=({matches:n,bucket:e})=>{const t=e?.torneosConfig||{},s=d=>String(d||"").replace(/\s+\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,"").trim(),i=(d,m)=>{const g=/\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,x=String(d||"").match(g);return x?x[0].replace(/\s+/g,""):m??null},a=d=>{if(!d)return 0;const m=!!(d.triplete||d.hattrick);return m&&d.doblete&&d.gol?6:m&&d.doblete?5:m&&d.gol?4:m?3:d.doblete?2:d.gol?1:0},l=B.useMemo(()=>{const d={};return n.forEach(m=>{const{torneoDisplay:g,torneoName:x,torneoYear:b,goleadoresActiveClub:E,starters:N,substitutes:w}=m||{},T=x||s(g)||"Torneo",k=Rm({torneoName:T,torneoYear:b,fecha:m?.fecha||m?.createdAt,torneosConfig:t}),M=i(k,b?String(b):null),I=`${T}__${M||"NA"}`,z=k;d[I]||(d[I]={label:z,year:M||b,jugadores:{},lastPlayed:0});const U=Date.parse(m?.fecha)||Number(m?.updatedAt)||Number(m?.createdAt)||0;U>d[I].lastPlayed&&(d[I].lastPlayed=U);const $=Array.isArray(N)?N:[],A=Array.isArray(w)?w:[];[...new Set([...$,...A].map(V=>(V??"").toString().trim()).filter(Boolean))].forEach(V=>{const F=V.toLowerCase();d[I].jugadores[F]||(d[I].jugadores[F]={nombre:lt(V),pj:0,goles:0,x2:0,x3:0}),d[I].jugadores[F].pj+=1}),(Array.isArray(E)?E:[]).forEach(V=>{if(!V)return;const O=(V.pretty??V.prettyName??V.displayName??V.nombre??V.name??"").toString().trim();if(!O||V.isOwnGoal===!0||O==="__og__")return;const L=O.toLowerCase();d[I].jugadores[L]||(d[I].jugadores[L]={nombre:lt(O),pj:0,goles:0,x2:0,x3:0});const ge=d[I].jugadores[L],de=a(V);ge.goles+=de,de===2&&(ge.x2+=1),de===3&&(ge.x3+=1),de===4&&(ge.x3+=1),de===5&&(ge.x3+=1,ge.x2+=1),de===6&&(ge.x3+=2)})}),Object.values(d).sort((m,g)=>{if(g.lastPlayed!==m.lastPlayed)return g.lastPlayed-m.lastPlayed;const x=parseInt(String(m.year||"").slice(0,4),10)||0;return(parseInt(String(g.year||"").slice(0,4),10)||0)-x||m.label.localeCompare(g.label)})},[n,t]),u=(d,m)=>m?(d/m).toFixed(2):"0.00";return!n||!n.length?h.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."}):h.jsxs("div",{className:"mt-4",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores por campeonato"}),l.map(d=>{const m=Object.values(d.jugadores).filter(w=>w.goles>0).sort((w,T)=>T.goles-w.goles||w.nombre.localeCompare(T.nombre)),g=m.reduce((w,T)=>w+(T.goles||0),0),x=m.reduce((w,T)=>w+(T.x2||0),0),b=m.reduce((w,T)=>w+(T.x3||0),0),E=m.reduce((w,T)=>{const k=Number(T.pj||0),M=Number(T.goles||0);return w+(k>0?M/k:0)},0),N=m.length>0?(E/m.length).toFixed(2):"0.00";return h.jsxs("div",{className:"mb-6 border border-slate-200 rounded-lg bg-white shadow-sm p-3",children:[h.jsx("h3",{className:"text-base font-semibold mb-3 text-center underline",children:d.label}),h.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:h.jsxs("table",{className:"table-auto border-collapse border mx-auto w-full md:w-max",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-100",children:[h.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),h.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),h.jsx("th",{className:"border px-2 py-1 text-center",children:"PJ"}),h.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),h.jsx("th",{className:"border px-2 py-1 text-center",children:"Prom."}),h.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),h.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"})]})}),h.jsxs("tbody",{children:[m.length===0&&h.jsx("tr",{children:h.jsx("td",{colSpan:7,className:"border px-2 py-2 text-center text-slate-500",children:"No hubo goles en este campeonato."})}),m.map((w,T)=>h.jsxs("tr",{className:"odd:bg-white even:bg-slate-100 hover:bg-slate-100 transition-colors",children:[h.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",children:T+1}),h.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:w.nombre}),h.jsx("td",{className:"border px-2 py-1 text-center",children:w.pj}),h.jsx("td",{className:"border px-2 py-1 text-center",children:w.goles}),h.jsx("td",{className:"border px-2 py-1 text-center",children:u(w.goles,w.pj)}),h.jsx("td",{className:"border px-2 py-1 text-center",children:w.x2}),h.jsx("td",{className:"border px-2 py-1 text-center",children:w.x3})]},w.nombre)),m.length>0&&h.jsxs("tr",{className:"bg-slate-200 font-bold",children:[h.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),h.jsx("td",{className:"border px-2 py-2 text-center",children:g}),h.jsx("td",{className:"border px-2 py-2 text-center",children:N}),h.jsx("td",{className:"border px-2 py-2 text-center",children:x}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b})]})]})]})})]},d.label)})]})},I4=({matches:n})=>{const e=Array.isArray(n)?n:[],[t,s]=B.useState("general"),[i,a]=B.useState("goles"),[l,u]=B.useState("desc"),d=B.useMemo(()=>{const b={},E=M=>{if(!M)return 0;const I=!!(M.triplete||M.hattrick);return I&&M.doblete&&M.gol?6:I&&M.doblete?5:I&&M.gol?4:I?3:M.doblete?2:M.gol?1:0},N=M=>M?String(M).toLowerCase().includes("__og__"):!1;e.forEach(M=>{let I=(M?.condition||"").toString().toLowerCase();I||(M?.local===!0?I="local":M?.local===!1&&(I="visitante"));const z=["general"];I==="local"?z.push("local"):I==="visitante"?z.push("visitante"):(I==="neutral"||I==="neutro")&&z.push("neutro");const U=Array.isArray(M?.goleadoresActiveClub)?M.goleadoresActiveClub:[],$={};[...Array.isArray(M?.starters)?M.starters:[],...Array.isArray(M?.substitutes)?M.substitutes:[]].forEach(R=>{const j=R?.toString().trim();!j||N(j)||(b[j]||(b[j]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),$[j]||($[j]=new Set),z.forEach(V=>$[j].add(V)))}),U.forEach(R=>{const j=(R?.name||R?.nombre||"").toString().trim();if(!j||N(j))return;const V=E(R);V&&(b[j]||(b[j]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),z.forEach(F=>{b[j][F].goles+=V,V===2&&(b[j][F].x2+=1),V===3&&(b[j][F].x3+=1),V===4&&(b[j][F].x3+=1),V===5&&(b[j][F].x3+=1,b[j][F].x2+=1),V===6&&(b[j][F].x3+=2)}))}),Object.entries($).forEach(([R,j])=>{j.forEach(V=>{b[R][V].pj+=1})})});const w=M=>{const I=M.pj||0,z=M.goles||0;return{...M,pj:I,goles:z,x2:M.x2||0,x3:M.x3||0,prom:I>0?z/I:0}};return Object.entries(b).map(([M,I])=>({nombre:M,general:w(I.general),local:w(I.local),visitante:w(I.visitante),neutro:w(I.neutro)})).filter(M=>(M[t]?.goles??0)>0).sort((M,I)=>{const z=M.nombre.toLowerCase(),U=I.nombre.toLowerCase();if(i==="nombre")return l==="asc"?z.localeCompare(U):U.localeCompare(z);const $=t,A=M[$]?.[i]??0,R=I[$]?.[i]??0,j=l==="asc"?A-R:R-A;return j!==0?j:z.localeCompare(U)})},[e,t,i,l]),m=b=>!b||Number.isNaN(b)?"0.00":b.toFixed(2);if(!e.length)return h.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."});const g=b=>{switch(b){case"local":return"bg-emerald-50";case"visitante":return"bg-amber-50";default:return"bg-sky-50"}},x="bg-slate-200/60";return h.jsxs("div",{className:"mt-6",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Capocannonieri"}),h.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end text-sm justify-center",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium block",children:"mbito"}),h.jsxs("select",{value:t,onChange:b=>s(b.target.value),className:"border p-1 rounded text-sm",children:[h.jsx("option",{value:"general",children:"General"}),h.jsx("option",{value:"local",children:"Local"}),h.jsx("option",{value:"visitante",children:"Visitante"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium block",children:"Campo"}),h.jsxs("select",{value:i,onChange:b=>a(b.target.value),className:"border p-1 rounded text-sm",children:[h.jsx("option",{value:"nombre",children:"Nombre"}),h.jsx("option",{value:"pj",children:"PJ"}),h.jsx("option",{value:"goles",children:"Goles"}),h.jsx("option",{value:"x2",children:"x2"}),h.jsx("option",{value:"x3",children:"x3"}),h.jsx("option",{value:"prom",children:"Promedio"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),h.jsxs("select",{value:l,onChange:b=>u(b.target.value),className:"border p-1 rounded text-sm",children:[h.jsx("option",{value:"asc",children:"Ascendente"}),h.jsx("option",{value:"desc",children:"Descendente"})]})]})]}),h.jsx("div",{className:"sm:hidden max-h-[80vh] overflow-auto border rounded",children:h.jsxs("table",{className:"w-full border-collapse text-[11px] tabular-nums",children:[h.jsx("thead",{className:"sticky top-0 z-20 bg-slate-100 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),h.jsx("th",{className:"border px-2 py-2 text-left",children:"Jugador"}),h.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"PJ"}),h.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"G"}),h.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"x2"}),h.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"x3"}),h.jsx("th",{className:"border px-2 py-2 text-center w-16",children:"Prom"})]})}),h.jsx("tbody",{children:d.map((b,E)=>h.jsxs(hr.Fragment,{children:[h.jsxs("tr",{className:"bg-white",children:[h.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",rowSpan:3,children:E+1}),h.jsx("td",{className:"border px-2 py-2 text-left font-semibold",children:h.jsx("div",{className:"font-bold underline text-[12px] leading-tight truncate max-w-[180px]",title:lt(b.nombre),children:lt(b.nombre)})}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.pj}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.goles}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x2}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x3}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m(b.general.prom)})]}),h.jsxs("tr",{className:g("local"),children:[h.jsx("td",{className:"border px-2 py-2 text-left",children:h.jsx("div",{className:"font-semibold",children:"Local"})}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="pj"?x:""}`,children:b.local.pj}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="goles"?x:""}`,children:b.local.goles}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="x2"?x:""}`,children:b.local.x2}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="x3"?x:""}`,children:b.local.x3}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="prom"?x:""}`,children:m(b.local.prom)})]}),h.jsxs("tr",{className:g("visitante"),children:[h.jsx("td",{className:"border px-2 py-2 text-left",children:h.jsx("div",{className:"font-semibold",children:"Visitante"})}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="pj"?x:""}`,children:b.visitante.pj}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="goles"?x:""}`,children:b.visitante.goles}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="x2"?x:""}`,children:b.visitante.x2}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="x3"?x:""}`,children:b.visitante.x3}),h.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="prom"?x:""}`,children:m(b.visitante.prom)})]})]},b.nombre))})]})}),h.jsx("div",{className:"hidden sm:block max-h-[80vh] overflow-auto",children:h.jsxs("table",{className:"table-fixed border-collapse mx-auto min-w-[680px] md:min-w-[780px] text-[11px] md:text-sm tabular-nums",children:[h.jsxs("thead",{className:"sticky top-0 z-20",children:[h.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[h.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-center sticky left-0 bg-slate-100 z-20 w-10",children:"#"}),h.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-left sticky left-10 bg-slate-100 z-20 w-28 sm:w-20 md:w-20 lg:w-20 overflow-hidden",children:"Jugador"}),h.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"General"}),h.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Local"}),h.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Visitante"})]}),h.jsxs("tr",{className:"bg-slate-50 text-slate-600 text-[10px] md:text-xs",children:[["PJ","G","x2","x3","P"].map((b,E)=>h.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`gen-${E}`)),["PJ","G","x2","x3","P"].map((b,E)=>h.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`loc-${E}`)),["PJ","G","x2","x3","P"].map((b,E)=>h.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`vis-${E}`))]})]}),h.jsx("tbody",{children:d.map((b,E)=>h.jsxs("tr",{className:"even:bg-slate-200 hover:bg-slate-100/70 transition-colors",children:[h.jsx("td",{className:"border px-2 py-2 text-center sticky left-0 bg-white z-10 w-10",children:E+1}),h.jsx("td",{className:"border px-2 py-2 text-left font-semibold sticky left-10 bg-white z-10 w-28 sm:w-20 md:w-20 lg:w-20 max-w-[112px] sm:max-w-[128px] md:max-w-[80px] lg:max-w-[160px] whitespace-nowrap overflow-hidden text-ellipsis",children:lt(b.nombre)}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.pj}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.goles}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x2}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x3}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m(b.general.prom)}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.pj}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.goles}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x2}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x3}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m(b.local.prom)}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.pj}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.goles}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x2}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x3}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m(b.visitante.prom)})]},b.nombre))})]})})]})},D4=({matches:n})=>{const e=B.useMemo(()=>{const a={};return n.forEach(l=>{const u=Array.isArray(l.goleadoresRivales)?l.goleadoresRivales:[],d=m=>{if(!m)return 0;const g=!!(m.triplete||m.hattrick);return g&&m.doblete&&m.gol?6:g&&m.doblete?5:g&&m.gol?4:g?3:m.doblete?2:m.gol?1:0};u.forEach(m=>{if(!m)return;const g=m.name?.toString().trim(),x=m.club?.toString().trim()||"";if(!g)return;const b=g.toLowerCase();if(m.isOwnGoal===!0||!!!(m.gol||m.doblete||m.triplete)||b.includes("__og__")||b.includes("en contra"))return;const N=`${g.toLowerCase()}|${x.toLowerCase()}`;a[N]||(a[N]={nombre:g,club:x,goles:0,x2:0,x3:0,expulsiones:0});const w=a[N],T=d(m);T<=0||(w.goles+=T,T===2&&(w.x2+=1),T===3&&(w.x3+=1),T===4&&(w.x3+=1),T===5&&(w.x3+=1,w.x2+=1),T===6&&(w.x3+=2))})}),Object.values(a).map(l=>{const u=lt(l.nombre),d=l.club?lt(l.club):"";return{...l,nombrePretty:u,clubPretty:d}}).sort((l,u)=>u.goles-l.goles||l.clubPretty.localeCompare(u.clubPretty,"es",{sensitivity:"base"})||l.nombrePretty.localeCompare(u.nombrePretty,"es",{sensitivity:"base"}))},[n]);if(!n||!n.length)return h.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."});if(!e.length)return h.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No se registraron goles rivales."});const t=e.reduce((a,l)=>a+(l.goles||0),0),s=e.reduce((a,l)=>a+(l.x2||0),0),i=e.reduce((a,l)=>a+(l.x3||0),0);return h.jsxs("div",{className:"mt-4",children:[h.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores rivales (Villanos)"}),h.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:h.jsxs("table",{className:"table-auto border-collapse border mx-auto ",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-100",children:[h.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),h.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),h.jsx("th",{className:"border px-2 py-1 text-left",children:"Club"}),h.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),h.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),h.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"})]})}),h.jsxs("tbody",{children:[e.map((a,l)=>h.jsxs("tr",{className:"odd:bg-white even:bg-slate-100 hover:bg-slate-100 transition-colors",children:[h.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",children:l+1}),h.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:a.nombrePretty}),h.jsx("td",{className:"border px-2 py-1 text-left",children:a.clubPretty||""}),h.jsx("td",{className:"border px-2 py-1 text-center",children:a.goles}),h.jsx("td",{className:"border px-2 py-1 text-center",children:a.x2}),h.jsx("td",{className:"border px-2 py-1 text-center",children:a.x3})]},`${a.nombre}-${a.club}`)),h.jsxs("tr",{children:[h.jsx("td",{className:"border px-2 py-1 text-right text-black font-bold ",colSpan:3,children:"TOTALES"}),h.jsx("td",{className:"border px-2 py-1 text-center ",children:t}),h.jsx("td",{className:"border px-2 py-2 text-center",children:s}),h.jsx("td",{className:"border px-2 py-2 text-center",children:i})]})]})]})})]})},M4=({matches:n=[]})=>{const e=B.useMemo(()=>{const t=new Map;return(Array.isArray(n)?n:[]).forEach(s=>{(Array.isArray(s?.goleadoresActiveClub)?s.goleadoresActiveClub:[]).forEach(a=>{if(!a||!!!a.expulsion)return;const u=(a.name||a.nombre||"").trim();u&&t.set(u,(t.get(u)||0)+1)})}),Array.from(t.entries()).map(([s,i])=>({nombre:s,expulsiones:i})).sort((s,i)=>i.expulsiones-s.expulsiones||s.nombre.localeCompare(i.nombre))},[n]);return e.length?h.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[h.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:" Expulsados"}),h.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:h.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[h.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),h.jsx("tbody",{children:e.map((t,s)=>h.jsxs("tr",{className:"even:bg-slate-50",children:[h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:s+1}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:lt(t.nombre)}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:t.expulsiones})]},t.nombre))})]})})]}):h.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin expulsados "})},O4=({matches:n=[]})=>{const e=B.useMemo(()=>{const t=new Map;return(Array.isArray(n)?n:[]).forEach(s=>{(Array.isArray(s?.goleadoresRivales)?s.goleadoresRivales:[]).forEach(a=>{if(!a||!!!a.expulsion)return;const u=(a.name||a.nombre||"").trim(),d=(a.club||a.equipo||a.rival||"").trim();if(!u)return;const m=`${u}||${d}`;t.set(m,(t.get(m)||0)+1)})}),Array.from(t.entries()).map(([s,i])=>{const[a,l]=s.split("||");return{nombre:a,club:l,expulsiones:i}}).sort((s,i)=>i.expulsiones-s.expulsiones||s.club.localeCompare(i.club,"es",{sensitivity:"base"})||s.nombre.localeCompare(i.nombre,"es",{sensitivity:"base"}))},[n]);return e.length?h.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[h.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:" Carniceros"}),h.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:h.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[h.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Club"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),h.jsx("tbody",{children:e.map((t,s)=>h.jsxs("tr",{className:"even:bg-slate-50",children:[h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:s+1}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:lt(t.nombre)}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:lt(t.club)}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:t.expulsiones})]},t.nombre))})]})})]}):h.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin Carniceros "})},i0=n=>n===0?{bg:"bg-amber-50",icon:"",isTop3:!0}:n===1?{bg:"bg-slate-50",icon:"",isTop3:!0}:n===2?{bg:"bg-orange-50/40",icon:"",isTop3:!0}:{bg:"bg-white",icon:`${n+1}`,isTop3:!1},P4=({playersStats:n={},topN:e=7,mode:t="horizontal",className:s="",years:i=[],data:a=null,showHomeAway:l=!1})=>{const u=k=>{if(!k)return 0;const M=!!(k.triplete||k.hattrick);return M&&k.doblete&&k.gol?6:M&&k.doblete?5:M&&k.gol?4:M?3:k.doblete?2:k.gol?1:0},d=k=>{const M=k?.torneoYear??k?.tournamentYear??k?.year??k?.anio;if(M!=null)return String(M);const I=k?.torneoKey||k?.tournamentKey||k?.torneo||k?.competitionKey||"",z=String(I).match(/(\d{4})/);return z?z[1]:null},m=hr.useMemo(()=>{const k=a?.matches;if(!Array.isArray(k)||k.length===0)return null;const M=new Set((i||[]).map(String)),I={},z={},U={},$=A=>String(A||"").toLowerCase().trim();for(const A of k){const R=d(A);if(M.size>0&&(!R||!M.has(String(R))))continue;const j=$(A?.condition),V=Array.isArray(A?.goleadoresActiveClub)?A.goleadoresActiveClub:[];for(const F of V){if(F?.isOwnGoal)continue;const O=F?.name,L=u(F);!O||L<=0||(I[O]=(I[O]||0)+L,j==="local"&&(z[O]=(z[O]||0)+L),j==="visitante"&&(U[O]=(U[O]||0)+L))}}return{all:I,local:z,visitante:U}},[a,i]);[...Object.keys(n||{}),...m?.all?Object.keys(m.all):[]];const g=(k,M)=>Object.entries(k||{}).map(([I,z])=>({name:I,goals:z})).filter(I=>I.goals>0).sort((I,z)=>{const U=z.goals-I.goals;return U!==0?U:I.name.toLowerCase().localeCompare(z.name.toLowerCase())}).slice(0,M),x=m?g(m.all,e):[],b=Math.floor(e/2),E=m?g(m.local,b):[],N=m?g(m.visitante,b):[];if(x.length===0)return null;const w=i?.length?[...new Set(i.map(String))].sort().join(" / "):"",T=({title:k,list:M})=>{const I=(M||[]).reduce((z,U)=>z+(U.goals||0),0);return h.jsxs("div",{className:"w-max rounded-lg border border-slate-200 bg-white shadow-sm overflow-hidden",children:[h.jsx("div",{className:"px-3 py-2 border-b border-slate-200 text-[10px] font-semibold tracking-wide text-center uppercase text-slate-800 bg-sky-50",children:k}),h.jsx("table",{className:"w-full text-[11px] border-collapse",children:h.jsxs("tbody",{children:[!M||M.length===0?h.jsx("tr",{children:h.jsx("td",{className:"px-3 py-3 text-center text-slate-500",colSpan:3,children:"Sin goles"})}):M.map((z,U)=>h.jsxs("tr",{className:"border-b border-slate-100",children:[h.jsx("td",{className:"px-2 py-2 text-center align-middle w-12",children:h.jsx("span",{className:"inline-flex items-center justify-center w-9 rounded-full bg-slate-50 ring-1 ring-slate-200 text-base leading-none",children:i0(U).icon})}),h.jsx("td",{className:"px-2 py-2 text-left",children:h.jsx("div",{className:"text-[12px] font-medium text-slate-800",children:lt(z.name)})}),h.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-bold text-slate-900 w-12",children:z.goals})]},z.name)),(M||[]).length>0&&h.jsxs("tr",{className:"bg-slate-50 border-t border-slate-200",children:[h.jsx("td",{className:"px-2 py-2 text-center font-semibold text-slate-700",colSpan:2,children:"Total"}),h.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-extrabold text-slate-900",children:I})]})]})})]})};if(t==="vertical"){const k=i?.length?[...new Set(i.map(String))].sort().join(" / "):"";return h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold mb-2 text-center",children:" Goleadores del Ao "}),h.jsxs("div",{className:`${s} flex items-start justify-center gap-3`,children:[h.jsx(T,{title:`Goleadores ${k}`,list:x}),l&&h.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[h.jsx(T,{title:`Local ${k}`,list:E}),h.jsx(T,{title:`Visitante ${k}`,list:N})]})]})]})}return h.jsx("div",{className:`mt-4 ${s} md:hidden sm:hidden lg:block`,children:h.jsxs("div",{className:"w-full",children:[h.jsx("div",{className:"mb-2",children:h.jsxs("div",{className:"w-full text-center text-[15px] font-semibold tracking-wide uppercase text-slate-800",children:["Goleadores ",w]})}),h.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-400 bg-white",children:h.jsx("table",{className:"w-full min-w-max text-[11px] border-collapse",children:h.jsxs("tbody",{children:[h.jsx("tr",{className:"bg-sky-50 border-b border-slate-400",children:x.map((k,M)=>{const{icon:I}=i0(M),z=M===x.length-1;return h.jsx("td",{className:"px-3 py-2 text-center whitespace-nowrap font-semibold text-slate-700"+(z?"":" border-r border-white/70"),children:I},`r-${k.name}`)})}),h.jsx("tr",{className:"border-b border-slate-100",children:x.map((k,M)=>{const I=M===x.length-1;return h.jsx("td",{className:"px-2 py-2 text-center whitespace-nowrap tabular-nums font-bold text-slate-900 text-lg"+(I?"":" border-r border-slate-100"),children:k.goals},`g-${k.name}`)})}),h.jsx("tr",{children:x.map((k,M)=>{const{bg:I,isTop3:z}=i0(M),U=M===x.length-1;return h.jsx("td",{className:`px-2 py-2 text-center whitespace-nowrap text-sm ${I} `+(z?"font-semibold text-slate-800":"text-slate-700")+(U?"":" border-r border-slate-100"),children:lt(k.name)},`n-${k.name}`)})})]})})})]})})},L4=["gol","doblete","triplete","hattrick"];function ua(n){return String(n??"").trim().toLowerCase()}function V4(n){return!n||typeof n!="object"?!1:L4.some(e=>n[e]===!0)}function qw(n){const e=Array.isArray(n?.starters)?n.starters:[],t=Array.isArray(n?.substitutes)?n.substitutes:[];return new Set([...e,...t].map(ua).filter(Boolean))}function Ww(n,e){const t=Array.isArray(n?.goleadoresActiveClub)?n.goleadoresActiveClub:[],s=new Set;for(const i of t){const a=ua(i?.name);if(!a)continue;const l=i?.activeClub?ua(i.activeClub):null;l&&e&&l!==e||V4(i)&&s.add(a)}return s}function r0({matchesSorted:n,playersActive:e,clubLower:t,mode:s}){const i=s==="all"?n:n.filter(l=>ua(l?.condition)===s),a=[];for(const l of e){let u=-1;for(let x=0;x<i.length;x++){const b=i[x];if(!qw(b).has(l))continue;Ww(b,t).has(l)&&(u=x)}if(u===-1)continue;let d=0,m=null;for(let x=u+1;x<i.length;x++){const b=i[x];if(!qw(b).has(l))continue;if(Ww(b,t).has(l)){d=0,m=null,u=x;continue}d+=1,m=b}if(d<3)continue;const g=i[u];a.push({player:l,drought:d,rival:g?.rival??"",rivalUltimoSinGol:m?.rival??""})}return a.sort((l,u)=>u.drought-l.drought),a}function a0({title:n,rows:e}){const[t,s]=B.useState(null);return h.jsxs("div",{className:"rounded-lg border border-slate-200 overflow-hidden bg-white",children:[h.jsx("div",{className:"bg-slate-50 px-2 py-1 border-b border-slate-200",children:h.jsx("h2",{className:"text-[14px] text-center font-semibold",children:n})}),e.length===0?h.jsx("div",{className:"px-2 py-2 text-[11px] opacity-70",children:"No hay jugadores con racha negativa para mostrar."}):h.jsxs("table",{className:"w-full table-fixed text-[11px]",children:[h.jsx("thead",{className:"bg-slate-50",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-2 py-1 w-max text-left",children:"Jugador"}),h.jsx("th",{className:"px-2 py-1 w-[30px] text-left",children:"Racha"}),h.jsx("th",{className:"px-2 py-1 w-max",children:"Rival"})]})}),h.jsx("tbody",{children:e.map(i=>h.jsxs("tr",{className:"border-t",children:[h.jsx("td",{className:"px-2 py-1 capitalize truncate whitespace-nowrap",children:i.player}),h.jsx("td",{className:" text-center px-2 py-1 font-semibold whitespace-nowrap bg-amber-100",children:i.drought}),h.jsx("td",{className:"px-2 py-1",children:h.jsx("button",{type:"button",onClick:()=>s(t===`${i.player}-${n}`?null:`${i.player}-${n}`),className:"block w-full text-left "+(t===`${i.player}-${n}`?"whitespace-normal break-words":"truncate whitespace-nowrap"),title:i.rival,children:i.rival})})]},`${i.player}-${n}`))})]})]})}const z4=({data:n})=>{const e=B.useMemo(()=>{const t=n??{},s=ua(t?.label)||ua(t?.matches?.[0]?.club)||"",i=(Array.isArray(t?.players)?t.players:[]).map(ua).filter(Boolean),a=new Set(i),u=[...(Array.isArray(t?.matches)?t.matches:[]).filter(x=>ua(x?.club)===s)].sort((x,b)=>(x?.createdAt??0)-(b?.createdAt??0)),d=r0({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"all"}),m=r0({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"local"}),g=r0({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"visitante"});return{clubLower:s,rowsAll:d,rowsLocal:m,rowsVisitante:g}},[n]);return h.jsxs("div",{className:"p-2",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Racha de Sequa Goleadora"}),h.jsxs("div",{className:"mt-1 text-sm opacity-70",children:["Club: ",h.jsx("span",{className:"capitalize",children:e.clubLower})]}),h.jsxs("div",{className:"flex items-start justify-center gap-3",children:[h.jsx(a0,{title:"General",rows:e.rowsAll}),h.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[h.jsx(a0,{title:"Local",rows:e.rowsLocal}),h.jsx(a0,{title:"Visitante",rows:e.rowsVisitante})]})]})]})},U4=[{value:"nombre",label:"Nombre"},{value:"pj",label:"PJ"},{value:"goles",label:"Goles"},{value:"x2",label:"x2"},{value:"x3",label:"x3"},{value:"prom",label:"Promedio"}],B4=[{value:"asc",label:"Ascendente"},{value:"desc",label:"Descendente"}],F4=({ambito:n,ordenCampo:e,setOrdenCampo:t,ordenDireccion:s,setOrdenDireccion:i,goleadoresOrdenados:a})=>{const l=g=>!g||Number.isNaN(g)?"0.00":Number(g).toFixed(2),u="bg-slate-200/60",d=n==="general"?"General":n==="local"?"Local":"Visitante",m=hr.useMemo(()=>{const g=a||[],x=g.reduce((T,k)=>T+(k?.[n]?.goles||0),0),b=g.reduce((T,k)=>T+(k?.[n]?.x2||0),0),E=g.reduce((T,k)=>T+(k?.[n]?.x3||0),0),N=g.reduce((T,k)=>T+(k?.[n]?.prom||0),0),w=g.length?N/g.length:0;return{totalGoles:x,totalx2:b,totalx3:E,promProms:Number(w).toFixed(2)}},[a,n]);return a?.length?h.jsxs("div",{className:"mt-1",children:[h.jsxs("div",{className:"mb-2 flex flex-wrap items-end justify-center gap-3",children:[h.jsxs("label",{className:"w-max max-w-[220px]",children:[h.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Campo"}),h.jsx("select",{value:e,onChange:g=>t(g.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
              focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:U4.map(g=>h.jsx("option",{value:g.value,children:g.label},g.value))})]}),h.jsxs("label",{className:"w-full max-w-[220px]",children:[h.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Orden"}),h.jsx("select",{value:s,onChange:g=>i(g.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
              focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:B4.map(g=>h.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),h.jsx("div",{className:"sm:hidden max-h-[80vh] overflow-auto border rounded",children:h.jsxs("table",{className:"w-full border-collapse text-[11px] tabular-nums",children:[h.jsx("thead",{className:"sticky top-0 z-20 bg-slate-100 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),h.jsx("th",{className:"border px-2 py-2 text-left",children:"Jugador"}),h.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="pj"?u:""}`,children:"PJ"}),h.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="goles"?u:""}`,children:"G"}),h.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="x2"?u:""}`,children:"x2"}),h.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="x3"?u:""}`,children:"x3"}),h.jsx("th",{className:`border px-2 py-2 text-center w-16 ${e==="prom"?u:""}`,children:"Prom"})]})}),h.jsxs("tbody",{children:[a.map((g,x)=>{const b=g?.[n]||{};return h.jsxs("tr",{className:"odd:bg-white even:bg-slate-100/60 active:bg-slate-400/60 transition-colors",children:[h.jsx("td",{className:"border px-2 py-2 text-center font-bold",children:x+1}),h.jsx("td",{className:"border px-2 py-2 text-left font-semibold",children:h.jsx("div",{className:"font-bold text-[14px] leading-tight truncate max-w-[180px]",title:lt(g.nombre),children:lt(g.nombre)})}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.pj??0}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.goles??0}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.x2??0}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.x3??0}),h.jsx("td",{className:"border px-2 py-2 text-center",children:l(b.prom??0)})]},g.nombre)}),a.length>0&&h.jsxs("tr",{className:"bg-slate-200 font-bold",children:[h.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m.totalGoles}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m.totalx2}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m.totalx3}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m.promProms})]})]})]})}),h.jsx("div",{className:"hidden sm:block max-h-[80vh] overflow-auto",children:h.jsxs("table",{className:"table-fixed border-collapse mx-auto min-w-[520px] md:min-w-[620px] text-[11px] md:text-sm tabular-nums",children:[h.jsx("thead",{className:"sticky top-0 z-20",children:h.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[h.jsx("th",{className:"border px-2 py-2 text-center sticky left-0 bg-slate-100 z-20 w-10",children:"#"}),h.jsx("th",{className:"border px-2 py-2 text-left sticky left-10 bg-slate-100 z-20 w-40",children:"Jugador"}),h.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="pj"?u:""}`,children:"PJ"}),h.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="goles"?u:""}`,children:"G"}),h.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="x2"?u:""}`,children:"x2"}),h.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="x3"?u:""}`,children:"x3"}),h.jsx("th",{className:`border px-2 py-2 text-center w-16 ${e==="prom"?u:""}`,children:"P"})]})}),h.jsxs("tbody",{children:[a.map((g,x)=>{const b=g?.[n]||{};return h.jsxs("tr",{className:"even:bg-slate-200 hover:bg-slate-100/70 transition-colors",children:[h.jsx("td",{className:"border px-2 py-2 text-center sticky left-0 bg-white z-10 w-10",children:x+1}),h.jsx("td",{className:"border px-2 py-2 text-left font-semibold sticky left-10 bg-white z-10 w-40 max-w-[220px] whitespace-nowrap overflow-hidden text-ellipsis",children:lt(g.nombre)}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.pj??0}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.goles??0}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.x2??0}),h.jsx("td",{className:"border px-2 py-2 text-center",children:b.x3??0}),h.jsx("td",{className:"border px-2 py-2 text-center",children:l(b.prom??0)})]},g.nombre)}),a.length>0&&h.jsxs("tr",{className:"bg-slate-200 font-bold",children:[h.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m.totalGoles}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m.totalx2}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m.totalx3}),h.jsx("td",{className:"border px-2 py-2 text-center",children:m.promProms})]})]})]})}),h.jsxs("div",{className:"mt-2 text-center text-xs text-slate-500",children:["Vista: ",h.jsx("span",{className:"font-semibold",children:d})]})]}):h.jsxs("p",{className:"text-center text-sm text-slate-500 mt-4",children:["No hay goleadores para ",d,"."]})},Yw={campo:"goles",dir:"desc"},$4=({scope:n,matches:e})=>{const t=Array.isArray(e)?e:[],[s,i]=B.useState(Yw.campo),[a,l]=B.useState(Yw.dir),u=B.useMemo(()=>{const d={},m=N=>{if(!N)return 0;const w=!!(N.triplete||N.hattrick);return w&&N.doblete&&N.gol?6:w&&N.doblete?5:w&&N.gol?4:w||N.doblete&&N.gol?3:N.doblete?2:N.gol?1:0},g=N=>N?String(N).toLowerCase().includes("__og__"):!1;t.forEach(N=>{let w=(N?.condition||"").toString().toLowerCase();w||(N?.local===!0?w="local":N?.local===!1&&(w="visitante"));const T=["general"];w==="local"?T.push("local"):w==="visitante"?T.push("visitante"):(w==="neutral"||w==="neutro")&&T.push("neutro");const k=[...Array.isArray(N?.starters)?N.starters:[],...Array.isArray(N?.substitutes)?N.substitutes:[]],M={};k.forEach(z=>{const U=z?.toString().trim();!U||g(U)||(d[U]||(d[U]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),M[U]||(M[U]=new Set),T.forEach($=>M[U].add($)))}),(Array.isArray(N?.goleadoresActiveClub)?N.goleadoresActiveClub:[]).forEach(z=>{const U=(z?.name||z?.nombre||"").toString().trim();if(!U||g(U))return;const $=m(z);$&&(d[U]||(d[U]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),T.forEach(A=>{d[U][A].goles+=$,$===2&&(d[U][A].x2+=1),$===3&&(d[U][A].x3+=1),$===4&&(d[U][A].x3+=1),$===5&&(d[U][A].x3+=1,d[U][A].x2+=1),$===6&&(d[U][A].x3+=2)}))}),Object.entries(M).forEach(([z,U])=>{U.forEach($=>{d[z][$].pj+=1})})});const x=N=>{const w=N.pj||0,T=N.goles||0;return{...N,pj:w,goles:T,x2:N.x2||0,x3:N.x3||0,prom:w>0?T/w:0}};return Object.entries(d).map(([N,w])=>({nombre:N,general:x(w.general),local:x(w.local),visitante:x(w.visitante),neutro:x(w.neutro)})).filter(N=>(N?.[n]?.goles??0)>0).sort((N,w)=>{const T=N.nombre.toLowerCase(),k=w.nombre.toLowerCase();if(s==="nombre")return a==="asc"?T.localeCompare(k):k.localeCompare(T);const M=N?.[n]?.[s]??0,I=w?.[n]?.[s]??0,z=a==="asc"?M-I:I-M;return z!==0?z:T.localeCompare(k)})},[t,n,s,a]);return t.length?h.jsx(F4,{ambito:n,ordenCampo:s,setOrdenCampo:i,ordenDireccion:a,setOrdenDireccion:l,goleadoresOrdenados:u}):h.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."})},H4=({matches:n})=>{const[e,t]=B.useState("general");return h.jsxs("div",{className:"mt-2",children:[h.jsx("h2",{className:"text-3xl font-bold mb-2 text-center",children:" Top Scorer"}),h.jsx("div",{className:"mb-1 flex justify-center gap-2",children:["general","local","visitante"].map(s=>h.jsx("button",{type:"button",onClick:()=>t(s),className:`rounded-xl border px-3 py-2 text-sm shadow-sm transition w-full
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
        ${e===s?"bg-blue-600 text-white border-blue-700":"bg-white text-slate-800 border-slate-300 hover:bg-slate-50"}`,children:s==="general"?"General":s==="local"?"Local":"Visitante"},s))}),h.jsx($4,{scope:e,matches:n})]})},ny=n=>n===0?{bg:"bg-emerald-50",icon:"",isTop3:!0}:n===1?{bg:"bg-slate-50",icon:"",isTop3:!0}:n===2?{bg:"bg-orange-50/40",icon:"",isTop3:!0}:{bg:"bg-white",icon:`${n+1}`,isTop3:!1},G4=n=>{if(!n)return 0;const e=!!(n.triplete||n.hattrick);return e&&n.doblete&&n.gol?6:e&&n.doblete?5:e&&n.gol?4:e?3:n.doblete?2:n.gol?1:0},q4=n=>{const e=n?.fecha||n?.createdAt;if(e){const s=typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)?new Date(`${e}T00:00:00`):new Date(e);if(!Number.isNaN(s.getTime())){const i=s.getFullYear();return s.getMonth()+1>=7?`${i}-${i+1}`:`${i-1}-${i}`}}const t=n?.torneoYear??n?.tournamentYear??n?.year??n?.anio;return t!=null?String(t):null},o0=(n,e)=>Object.entries(n||{}).map(([t,s])=>({name:t,goals:s})).filter(t=>t.goals>0).sort((t,s)=>{const i=s.goals-t.goals;return i!==0?i:t.name.toLowerCase().localeCompare(s.name.toLowerCase())}).slice(0,e),l0=({title:n,list:e})=>{const t=(e||[]).reduce((s,i)=>s+(i.goals||0),0);return h.jsxs("div",{className:"w-max rounded-lg border border-slate-200 bg-white shadow-sm overflow-hidden",children:[h.jsx("div",{className:"px-3 py-2 border-b border-slate-200 text-[10px] font-semibold tracking-wide text-center uppercase text-slate-800 bg-emerald-50",children:n}),h.jsx("table",{className:"w-full text-[11px] border-collapse",children:h.jsxs("tbody",{children:[!e||e.length===0?h.jsx("tr",{children:h.jsx("td",{className:"px-3 py-3 text-center text-slate-500",colSpan:3,children:"Sin goles"})}):e.map((s,i)=>h.jsxs("tr",{className:"border-b border-slate-100",children:[h.jsx("td",{className:"px-2 py-2 text-center align-middle w-12",children:h.jsx("span",{className:"inline-flex items-center justify-center w-9 rounded-full bg-slate-50 ring-1 ring-slate-200 text-base leading-none",children:ny(i).icon})}),h.jsx("td",{className:"px-2 py-2 text-left",children:h.jsx("div",{className:"text-[12px] font-medium text-slate-800",children:lt(s.name)})}),h.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-bold text-slate-900 w-12",children:s.goals})]},s.name)),(e||[]).length>0&&h.jsxs("tr",{className:"bg-slate-50 border-t border-slate-200",children:[h.jsx("td",{className:"px-2 py-2 text-center font-semibold text-slate-700",colSpan:2,children:"Total"}),h.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-extrabold text-slate-900",children:t})]})]})})]})},W4=({playersStats:n={},topN:e=15,mode:t="vertical",className:s="",years:i=[],data:a=null,showHomeAway:l=!1})=>{const u=hr.useMemo(()=>{const E=a?.matches;if(!Array.isArray(E)||E.length===0)return null;const N=new Set((i||[]).map(String)),w={},T={},k={},M=I=>String(I||"").toLowerCase().trim();for(const I of E){const z=q4(I);if(N.size>0&&(!z||!N.has(String(z))))continue;const U=M(I?.condition),$=Array.isArray(I?.goleadoresActiveClub)?I.goleadoresActiveClub:[];for(const A of $){if(A?.isOwnGoal)continue;const R=A?.name,j=G4(A);!R||j<=0||(w[R]=(w[R]||0)+j,U==="local"&&(T[R]=(T[R]||0)+j),U==="visitante"&&(k[R]=(k[R]||0)+j))}}return{all:w,local:T,visitante:k}},[a,i]),d=u?o0(u.all,e):[],m=Math.floor(e/2),g=u?o0(u.local,m):[],x=u?o0(u.visitante,m):[];if(d.length===0)return null;const b=i?.length?[...new Set(i.map(String))].sort((E,N)=>parseInt(E.slice(0,4),10)-parseInt(N.slice(0,4),10)).join(" / "):"";return t==="vertical"?h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold mb-1 text-center",children:" Goleadores de la Temporada"}),h.jsxs("div",{className:`${s} flex items-start justify-center gap-3`,children:[h.jsx(l0,{title:`General ${b}`,list:d}),l&&h.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[h.jsx(l0,{title:`Local ${b}`,list:g}),h.jsx(l0,{title:`Visitante ${b}`,list:x})]})]})]}):h.jsxs("div",{className:`mt-4 ${s}`,children:[h.jsxs("div",{className:"w-full text-center text-[15px] font-semibold tracking-wide uppercase text-slate-800",children:["Temporada ",b]}),h.jsx("div",{className:"text-center text-[11px] text-slate-500 mb-2",children:"01/07  30/06"}),h.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-300 bg-white",children:h.jsx("table",{className:"w-full min-w-max text-[11px] border-collapse",children:h.jsxs("tbody",{children:[h.jsx("tr",{className:"bg-emerald-50 border-b border-slate-200",children:d.map((E,N)=>h.jsx("td",{className:"px-3 py-2 text-center font-semibold text-slate-700",children:ny(N).icon},`r-${E.name}`))}),h.jsx("tr",{className:"border-b border-slate-100",children:d.map(E=>h.jsx("td",{className:"px-2 py-2 text-center tabular-nums font-bold text-slate-900 text-lg",children:E.goals},`g-${E.name}`))}),h.jsx("tr",{children:d.map((E,N)=>{const{bg:w,isTop3:T}=ny(N);return h.jsx("td",{className:`px-2 py-2 text-center whitespace-nowrap text-sm ${w} ${T?"font-semibold text-slate-800":"text-slate-700"}`,children:lt(E.name)},`n-${E.name}`)})})]})})})]})},Y4=n=>{const e=n?.fecha||n?.createdAt;if(e){const t=typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)?new Date(`${e}T00:00:00`):new Date(e);if(!Number.isNaN(t.getTime())){const s=t.getFullYear();return t.getMonth()+1>=7?`${s}-${s+1}`:`${s-1}-${s}`}}return null},K4=n=>n?String(n).replace(/_/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,e=>e.toUpperCase()):"",X4=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An();Us(n,t,i);const[a,l]=B.useState(null),u=Object.keys(s?.lineups||[]),[d,m]=B.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},E=(b.players?.length??0)>0,N=(b.formations?.length??0)>0,w=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!E&&!N&&!w)return h.jsx(vs,{to:"/formacion",replace:!0});B.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const T=Array.isArray(a?.matches)?a.matches:[],[k,M]=B.useState("scorers"),I=Array.from(new Set(T.map($=>$?.torneoYear??$?.tournamentYear??$?.year??$?.anio).filter($=>$!=null).map(String))).sort(),z=Array.from(new Set(T.map(Y4).filter(Boolean))).sort(($,A)=>parseInt(A.slice(0,4),10)-parseInt($.slice(0,4),10)),U=[{value:"scorers",label:"Scorers"},{value:"campeonatos",label:"Campeonato"},{value:"ao",label:"Ao"},{value:"europa",label:"Ao Europeo"},{value:"racha",label:"Rachas de Sequa Goleadora"},{value:"villanos",label:"Villanos"},{value:"carniceros",label:"Carniceros"},{value:"expulsados",label:"Expulsados"},{value:"goleadores",label:"Goleadores"}];return h.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[h.jsx("h1",{className:"text-center text-3xl mt-2 ",children:" Scorers"}),h.jsxs("div",{className:"mb-1 flex items-end justify-center gap-2",children:[h.jsxs("label",{className:"w-[220px]",children:[h.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),h.jsx("select",{value:d,onChange:$=>m($.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:u.map($=>h.jsx("option",{value:$,children:K4($)},$))})]}),h.jsxs("label",{className:"w-[220px]",children:[h.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Vista"}),h.jsx("select",{value:k,onChange:$=>M($.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:U.map($=>h.jsx("option",{value:$.value,children:$.label},$.value))})]})]}),k==="scorers"&&h.jsx(H4,{matches:T}),k==="goleadores"&&h.jsx(I4,{matches:T}),k==="campeonatos"&&h.jsx(j4,{matches:T,bucket:x}),k==="europa"&&h.jsx("div",{className:"flex flex-col gap-4",children:z.map($=>h.jsx(W4,{mode:"vertical",topN:15,years:[$],data:a,showHomeAway:!0},$))}),k==="villanos"&&h.jsx(D4,{matches:T}),k==="expulsados"&&h.jsx(M4,{matches:T}),k==="carniceros"&&h.jsx(O4,{matches:T}),k==="racha"&&h.jsx(z4,{data:a}),k==="ao"&&h.jsx("div",{className:"flex flex-col gap-4",children:I.slice().sort(($,A)=>A-$).map($=>h.jsx(P4,{mode:"vertical",topN:15,years:[$],data:a,showHomeAway:!0},$))})]})},NS=[{value:"",label:"Sin definir"},{value:"campeon",label:"Campen"},{value:"subcampeon",label:"Sub Campen"},{value:"3ro",label:"Tercero"},{value:"4to",label:"Cuarto"},{value:"5to",label:"Quinto"},{value:"6to",label:"Sexto"},{value:"7mo",label:"Sptimo"},{value:"8vo",label:"Octavo"},{value:"9no",label:"Noveno"},{value:"10mo",label:"Dcimo"},{value:"lejos",label:"Lejos"},{value:"fase de grupos",label:"Fase de Grupos"},{value:"16 avos de final",label:"16 avos de Final"},{value:"32 avos de final",label:"32 avos de Final"},{value:"octavos de final",label:"Octavos de Final"},{value:"cuartos de final",label:"Cuartos de Final"},{value:"semi Final",label:"Semi Final"}],SS=n=>{const e=n?.fecha||n?.createdAt;if(!e)return"";const t=typeof e=="string"?new Date(`${e}T00:00:00`):new Date(e);if(Number.isNaN(t.getTime()))return"";const s=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0");return`${s}/${i}`},AS=n=>{switch(n){case"ganado":return"bg-emerald-100 text-emerald-800 font-semibold";case"empatado":return"bg-amber-100 text-amber-800 font-semibold";case"perdido":return"bg-rose-100 text-rose-800 font-semibold";default:return"bg-slate-100 text-slate-700"}},Q4=n=>String(n??"").trim(),J4=n=>n?.isOwnGoal===!0||Q4(n?.name).toLowerCase()==="__og__",Jf=n=>J4(n)?"En contra":lt(n?.name),CS=n=>{if(!n)return 0;const e=!!(n.triplete||n.hattrick);return e&&n.doblete&&n.gol?6:e&&n.doblete?5:e&&n.gol?4:e?3:n.doblete?2:n.gol?1:0},kS=n=>{const t=(Array.isArray(n.goleadoresActiveClub)?n.goleadoresActiveClub:[]).map(s=>{const i=CS(s);return!s.name||i<=0?null:i===1?`${Jf(s)}`:`${Jf(s)} (${i})`}).filter(Boolean);return t.length?t.join(", "):""},RS=n=>{const t=(Array.isArray(n.goleadoresRivales)?n.goleadoresRivales:[]).map(s=>{const i=CS(s);return!s.name||i<=0?null:i===1?`${Jf(s)}`:`${Jf(s)} (${i})`}).filter(Boolean);return t.length?t.join(", "):""},Kw=n=>String(n??"").trim().toLowerCase().replace(/\s+/g," "),Xw=(n,e={})=>{const t=n?.torneoName||n?.torneo||n?.torneoDisplay||"Sin torneo",s=Rm({torneoName:t,torneoYear:n?.torneoYear,fecha:n?.fecha||n?.createdAt,torneosConfig:e}),i=/\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,a=String(s).match(i),l=a?a[0].replace(/\s+/g,""):null;return{base:l?String(s).replace(a[0],"").trim():String(s).trim(),season:l}},jS=n=>{if(n?.year)return n.year;if(!n||!Array.isArray(n.matches)||!n.matches.length)return null;const e=Array.from(new Set(n.matches.map(t=>t.torneoYear).filter(t=>t!=null)));return e.length?e[0]:null},Z4=({duplicadosPorFecha:n,prettySafe:e,getCampTitleFromMatch:t})=>n?.length?h.jsxs("div",{className:"mx-auto mb-4 max-w-3xl rounded-xl border border-amber-300 bg-amber-50 p-3 text-amber-900 shadow-sm",children:[h.jsxs("div",{className:"font-semibold text-sm",children:[" Hay ",n.length," fecha",n.length!==1?"s":""," con 2+ partidos cargados"]}),h.jsx("div",{className:"mt-2 space-y-2 text-[12px]",children:n.map(([s,i])=>h.jsxs("div",{className:"rounded-lg border border-amber-200 bg-white/60 p-2",children:[h.jsxs("div",{className:"font-semibold tabular-nums",children:["Fecha: ",s]}),h.jsx("ul",{className:"mt-1 list-disc pl-5 space-y-1",children:i.map(a=>h.jsxs("li",{children:[h.jsx("span",{className:"font-medium",children:e(a.resultMatch||"Sin resultado")}),"  ","vs ",e(a.rival||"Sin rival"),"  ",h.jsx("span",{className:"text-slate-700",children:t(a)})]},a.id||`${a.fecha}-${a.rival}-${a.resultMatch}`))})]},s))})]}):null,eP=({m:n,nroJuego:e,prettySafe:t,onEdit:s,onDelete:i})=>h.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden bg-white",children:[h.jsxs("div",{className:"flex items-center justify-start gap-2 px-3 py-2 bg-slate-100",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-[10px] tabular-nums",children:SS(n)}),h.jsx("span",{className:"text-slate-900 text-[10px]",children:n.captain?t(n.captain):""})]}),h.jsxs("div",{className:"text-[12px] flex flex-col",children:[h.jsxs("span",{className:"text-slate-700 text-left pl-10",children:["Fecha: ",e]}),h.jsx("span",{className:"w-max px-2 py-0.5 rounded-full text-[12px] whitespace-nowrap "+AS(n.final),children:t(n.resultMatch||"")})]}),h.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[h.jsx("button",{type:"button",className:"cursor-pointer disabled:opacity-40",disabled:!n.id,title:"Editar partido",onClick:()=>s(n),children:h.jsx("img",{src:"pencil.png",alt:"Editar",className:"h-6 w-6"})}),h.jsx("button",{type:"button",onClick:()=>i(n),className:"cursor-pointer",title:"Borrar partido",children:h.jsx("img",{src:"bas.png",alt:"Borrar",className:"h-6 w-6"})})]})]}),h.jsxs("div",{className:"px-3 py-2 text-[12px] bg-white",children:[h.jsxs("div",{className:"flex items-center justify-between px-1 text-[10px] uppercase tracking-wide text-slate-500",children:[h.jsxs("span",{className:"flex-1 text-center",children:["Goles ",n.club]}),h.jsxs("span",{className:"flex-1 text-center",children:["Goles ",n.rival]})]}),h.jsxs("div",{className:"mt-1 flex items-start justify-between px-4",children:[h.jsx("span",{className:"flex-1 text-center text-slate-800 break-words",children:kS(n)}),h.jsx("span",{className:"flex-1 text-center text-slate-800 break-words",children:RS(n)})]})]})]}),tP=({m:n,prettySafe:e,onEdit:t,onDelete:s})=>h.jsxs("tr",{className:"even:bg-slate-50",children:[h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:SS(n)}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:h.jsx("span",{className:"inline-block px-2 py-0.5 rounded-full text-[12px] whitespace-nowrap "+AS(n.final),children:e(n.resultMatch||"")})}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center",children:h.jsx("button",{type:"button",className:"cursor-pointer",disabled:!n.id,title:"Editar partido",onClick:()=>t(n),children:h.jsx("img",{src:"pencil.png",alt:"Editar",className:"inline-block h-6 w-6"})})}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:n.captain?e(n.captain):""}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:kS(n)}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:RS(n)}),h.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center",children:h.jsx("button",{type:"button",onClick:()=>s(n),className:"inline-flex items-center justify-center cursor-pointer",title:"Borrar partido",children:h.jsx("img",{src:"bas.png",alt:"Borrar",className:"inline-block h-6 w-6"})})})]},n.id||`${n.fecha}-${n.rival}-${n.resultMatch}`),nP=async({uid:n,clubKey:e,camp:t,value:s})=>{if(!n||!t||!s)return;const i=jS(t),a=t.matches?.length||0,u=NS.find(x=>x.value===s)?.label||"",d=t.matches[0]||{},m=d.club||d.activeClubName||d.activeClub||e||"Sin club",g={uid:n,clubKey:e,clubName:m,torneoDisplay:t.nombre,resultado:s,resultadoLabel:u,matchesCount:a,year:i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const x=String(m).replace(/\s+/g,"_"),b=String(t.nombre).replace(/\s+/g,"_"),N=`${n}_${x}_${b}_${i??"NA"}`,w=Hn(Sn,"palmares",N);await uc(w,g,{merge:!0}),pe.Notify.success("Palmars guardado")}catch(x){pe.Notify.failure("Error al guardar palmars"),console.log("error: ",x)}},sP=({matches:n=[],torneosConfig:e={},clubKey:t,uid:s,onRefresh:i})=>{const a=Ql(),[l,u]=B.useState({}),d=N=>{const w=N?.fecha||N?.createdAt;if(!w)return null;if(typeof w=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(w))return w;const T=new Date(w);if(Number.isNaN(T.getTime()))return null;const k=T.getFullYear(),M=String(T.getMonth()+1).padStart(2,"0"),I=String(T.getDate()).padStart(2,"0");return`${k}-${M}-${I}`},m=N=>{const{base:w,season:T}=Xw(N,e);return`${lt(w)}${T?` ${T}`:""}`},g=B.useMemo(()=>{if(!Array.isArray(n)||!n.length)return[];const N=new Map;return n.forEach(w=>{const T=d(w);T&&(N.has(T)||N.set(T,[]),N.get(T).push(w))}),Array.from(N.entries()).filter(([,w])=>w.length>1).sort(([w],[T])=>w.localeCompare(T))},[n]),x=B.useMemo(()=>{if(!Array.isArray(n))return[];const N=new Map;n.forEach(T=>{const{base:k,season:M}=Xw(T,e),I=`${Kw(k)}__${M??"NA"}`;N.has(I)||N.set(I,{key:I,nombre:k,year:M??null,matches:[],lastDate:null});const z=N.get(I);z.matches.push(T);const U=new Date(T.fecha||T.createdAt||0);(!z.lastDate||U>z.lastDate)&&(z.lastDate=U)});const w=Array.from(N.values());return w.forEach(T=>{T.matches.sort((k,M)=>{const I=new Date(k.fecha||k.createdAt||0).getTime();return new Date(M.fecha||M.createdAt||0).getTime()-I})}),w.sort((T,k)=>{const M=T.lastDate?T.lastDate.getTime():0;return(k.lastDate?k.lastDate.getTime():0)-M}),w},[n,e]);B.useEffect(()=>{(async()=>{if(s&&!(!x||!x.length))try{const w=new Set(x.map(z=>z.key)),T=JN(Sn,"palmares"),k=rS(T,aS("uid","==",s)),M=await cS(k),I={};M.forEach(z=>{const U=z.data(),$=U.resultado,A=Kw(U.torneoDisplay),R=U.year??null,j=`${A}__${R??"NA"}`;w.has(j)&&typeof $=="string"&&(I[j]=$)}),u(z=>({...z,...I}))}catch(w){console.error("Error cargando palmars:",w)}})()},[s,x]);const b=async(N,w)=>{const T=N.key;u(k=>({...k,[T]:w}));try{await nP({uid:s,clubKey:t,camp:N,value:w})}catch(k){console.error("Error guardando en palmares:",k)}};if(!n.length)return null;const E=N=>{d4({match:N,uid:s,clubKey:t,onDone:async()=>{typeof i=="function"&&await i()}})};return h.jsxs("div",{className:"mt-4",children:[h.jsx(Z4,{duplicadosPorFecha:g,prettySafe:lt,getCampTitleFromMatch:m}),x.map(N=>{const w=N.key,T=l[w]||"",k=N.year??jS(N),M=`${lt(N.nombre)}${k?` ${k}`:""}`;return h.jsx("div",{className:"mb-6 flex justify-center",children:h.jsxs("div",{className:"border border-slate-200 rounded-lg bg-white shadow-sm w-max",children:[h.jsxs("div",{className:"flex items-center flex-row justify-between gap-3 px-3 py-2 border-b border-slate-200 bg-slate-100 rounded-t-lg",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsx("h3",{className:"font-semibold text-sm lg:text-base text-slate-800 truncate",children:M}),h.jsxs("p",{className:"text-[11px] text-slate-500",children:[N.matches.length," partido",N.matches.length!==1?"s":""," jugado",N.matches.length!==1?"s":""," en este campeonato."]})]}),h.jsxs("div",{className:"text-[11px] md:text-sm shrink-0 md:flex md:items-center md:gap-2",children:[h.jsx("label",{className:"font-medium whitespace-nowrap mr-2",children:"Resultado:"}),h.jsx("select",{className:"border border-slate-300 rounded px-2 py-1 text-[11px] md:text-sm bg-white",value:T,onChange:I=>b(N,I.target.value),children:NS.map(I=>h.jsx("option",{value:I.value,children:I.label},I.value))})]})]}),h.jsx("div",{className:"sm:hidden space-y-1",children:N.matches.map((I,z)=>{const U=N.matches.length-z;return h.jsx(eP,{m:I,nroJuego:U,prettySafe:lt,onEdit:$=>a(`/editar-partido/${$.id}`),onDelete:E},I.id||`${I.fecha}-${I.rival}-${I.resultMatch}`)})}),h.jsx("div",{className:"hidden sm:block overflow-x-auto",children:h.jsxs("table",{className:"w-full table-fixed border-collapse text-[11px] lg:text-xs lg:w-max lg:min-w-[980px] lg:table-auto",children:[h.jsx("thead",{className:"bg-slate-100 text-slate-700",children:h.jsxs("tr",{children:[h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center whitespace-nowrap w-12",children:"Fecha"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Resultado"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-10 whitespace-nowrap",children:h.jsx("img",{src:"pencil.png",alt:"Editar",className:"inline-block h-5 w-5 opacity-60"})}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap w-24",children:"Capitn"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Goleadores Propios"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Goles del Rival"}),h.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-10 whitespace-nowrap",children:h.jsx("img",{src:"bas.png",alt:"Borrar",className:"inline-block h-5 w-5 opacity-60"})})]})}),h.jsx("tbody",{children:N.matches.map(I=>h.jsx(tP,{m:I,prettySafe:lt,onEdit:z=>a(`/editar-partido/${z.id}`),onDelete:E},I.id||`${I.fecha}-${I.rival}-${I.resultMatch}`))})]})})]})},w)})]})},iP=()=>{const{uid:n}=cn(),{dispatch:e}=Jn(),{state:t,dispatch:s}=An();Us(n,e,s);const i=async()=>{n&&await mx(n,e,s)},a=Object.keys(t?.lineups||{}),[l,u]=B.useState(t?.activeClub||a[0]||""),d=Ee(l||""),m=d?t?.lineups?.[d]:null,g=Array.isArray(m?.matches)?m.matches:[],x=m?.torneosConfig||{};return h.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[h.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4 text-center",children:" Detalle de Partidos por Campeonato"}),h.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end justify-center",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("label",{className:"text-sm font-medium block",children:"Club"}),h.jsx("select",{className:"border p-1 rounded text-sm",value:l,onChange:b=>u(b.target.value),children:a.map(b=>h.jsx("option",{value:b,children:Ae(b)},b))})]}),h.jsx("button",{type:"button",className:"border px-3 py-1 rounded text-sm",onClick:i,children:" Refrescar"})]}),h.jsx(sP,{matches:g,clubKey:d,uid:n,onRefresh:i,torneosConfig:x})]})},rP=n=>{const e=String(n??"").trim();if(!e)return"";const t=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(t)return`${t[3]}-${t[2]}-${t[1]}`;const s=Date.parse(e);if(!Number.isFinite(s))return e;const i=new Date(s),a=String(i.getDate()).padStart(2,"0"),l=String(i.getMonth()+1).padStart(2,"0"),u=i.getFullYear();return`${a}-${l}-${u}`};function aP(n){const e=parseInt(n.golesFavor)||0,t=parseInt(n.golesContra)||0;return e>t?"bg-green-400":e===t?"bg-yellow-400":"bg-red-400"}const oP=({children:n})=>h.jsx("h2",{className:"font-semibold text-sm whitespace-nowrap",children:n}),lP=({lista:n=[]})=>{const[e,t]=B.useState(null);return n.length?h.jsx("div",{className:"w-full",children:h.jsx("div",{className:"w-full flex gap-1",children:n.map((s,i)=>{const a=s.id??`${s.fecha}-${s.rival}-${i}`,l=e===a,u=String(s.rival||"").trim()||"",d=s.esLocal===!0?"Local":"Visitante",m=s.golesFavor,g=s.golesContra;return h.jsxs("div",{className:"flex-1 basis-0 min-w-0 flex flex-col items-center relative",children:[h.jsxs("button",{type:"button",onClick:()=>t(l?null:a),className:"w-full min-w-0 flex flex-col items-center text-center",title:u,children:[h.jsx("span",{className:"w-full min-w-0 text-[9px] leading-none text-slate-500 truncate whitespace-nowrap",children:u}),h.jsx("span",{className:`mt-1 block w-5 h-5 md:w-6 md:h-6 rounded-full ${aP(s)}`,title:`${s.fecha} vs ${u}: ${m}-${g}`})]}),l&&h.jsxs("div",{className:`mt-1 w-max rounded-lg border border-slate-200 bg-white\r
               p-2 py-1 text-[10px] text-slate-700 shadow-sm relative`,children:[h.jsxs("div",{className:"font-semibold leading-tight",children:[i+1," - ",u]}),h.jsx("div",{className:"mt-0.5 text-[9px] text-slate-600",children:d}),h.jsxs("div",{className:"mt-0.5 tabular-nums",children:[h.jsx("span",{className:"text-slate-500",children:"GF:"})," ",h.jsx("span",{className:"font-semibold",children:m})," ",h.jsx("span",{className:"text-slate-400",children:""})," ",h.jsx("span",{className:"text-slate-500",children:"GC:"})," ",h.jsx("span",{className:"font-semibold",children:g})]}),h.jsx("div",{className:"mt-0.5 flex items-center justify-between gap-2",children:h.jsx("div",{className:"text-[9px] text-slate-500",title:s.fecha,children:rP(s.fecha)})})]})]},a)})})}):h.jsx("span",{className:"text-xs text-gray-400",children:"Sin partidos"})},El=({icon:n,title:e,list:t})=>h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[260px_1fr] gap-2 items-start sm:items-center",children:[h.jsx(oP,{children:h.jsxs("span",{className:"inline-flex items-center gap-5",children:[h.jsx("span",{children:n}),h.jsx("span",{children:e})]})}),h.jsx(lP,{lista:t})]}),cP=({partidos:n=[],fixedCaptains:e})=>{const{partidosOrdenados:t,ultimos10General:s,ultimos10Local:i,ultimos10Visitante:a,capitanes:l,ultimos10PorCapitan:u}=B.useMemo(()=>{const d=[...n||[]].sort((T,k)=>new Date(k.fecha)-new Date(T.fecha)),m=T=>T.slice(0,10),g=m(d),x=m(d.filter(T=>!!T.esLocal)),b=m(d.filter(T=>!T.esLocal)),N=(Array.isArray(e)&&e.length?e.map(T=>T.toLowerCase()):[...new Set(d.map(T=>(T.equipo||"").toLowerCase()).filter(Boolean))]).map(T=>{const k=d.findIndex(M=>(M.equipo||"").toLowerCase()===T);return{cap:T,lastIndex:k}}).filter(T=>T.lastIndex!==-1&&T.lastIndex<10).sort((T,k)=>T.lastIndex-k.lastIndex).map(T=>T.cap),w=Object.fromEntries(N.map(T=>{const k=d.filter(M=>(M.equipo||"").toLowerCase()===T);return[T,{general:m(k),local:m(k.filter(M=>!!M.esLocal)),visitante:m(k.filter(M=>!M.esLocal))}]}));return{partidosOrdenados:d,ultimos10General:g,ultimos10Local:x,ultimos10Visitante:b,capitanes:N,ultimos10PorCapitan:w}},[n,e]);return t.length?h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"rounded-xl border bg-white p-2 shadow-sm",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx(El,{icon:"",title:"ltimos 10 Resultados (General)",list:s}),h.jsx(El,{icon:"",title:"ltimos 10 Resultados (Local)",list:i}),h.jsx(El,{icon:"",title:"ltimos 10 Resultados (Visitante)",list:a})]})}),h.jsx("div",{className:"space-y-4",children:l.map(d=>h.jsxs("div",{className:"rounded-xl border bg-white p-4 shadow-sm",children:[h.jsxs("div",{className:"mb-2 text-sm font-semibold text-slate-700",children:[" ltimos 10 con ",Ae(d)]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(El,{icon:"",title:"General",list:u[d]?.general||[]}),h.jsx(El,{icon:"",title:"Local",list:u[d]?.local||[]}),h.jsx(El,{icon:"",title:"Visitante",list:u[d]?.visitante||[]})]})]},d))})]}):h.jsx("p",{className:"text-center text-gray-500 mt-4",children:"No hay partidos para mostrar."})},uP=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An();Us(n,t,i);const[a,l]=B.useState(null),u=Object.keys(s?.lineups||{}),[d,m]=B.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},E=(b.players?.length??0)>0,N=(b.formations?.length??0)>0,w=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!E&&!N&&!w)return h.jsx(vs,{to:"/formacion",replace:!0});if(B.useEffect(()=>{!d&&u.length&&m(s?.activeClub||u[0])},[u,s?.activeClub,d]),!u.length)return h.jsx("p",{className:"text-center text-slate-500 mt-4",children:"Cargando clubes..."});B.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const T=Array.isArray(a?.matches)?a.matches:[],k=S4(T);return h.jsxs("div",{className:"p-2 max-w-5xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-evenly gap-1 mb-2 mt-2",children:[h.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 flex flex-col gap-0 leading-none",children:[h.jsx("span",{children:"ltimos 10"}),h.jsx("span",{className:"mt-1 inline-flex w-fit items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-600",children:" Racha"})]}),h.jsxs("label",{className:"w-full max-w-[220px]",children:[h.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),h.jsx("select",{value:d,onChange:M=>m(M.target.value),disabled:u.length<=1,className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-1 text-sm text-slate-800 shadow-sm\r
      focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
      disabled:bg-slate-100 disabled:text-slate-500`,children:u.map(M=>h.jsx("option",{value:M,children:Ae(M)},M))})]})]}),h.jsx(cP,{partidos:k})]})};function dP(){const{pathname:n}=Mi();return B.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[n]),null}const hP=()=>{const n=B.useRef([]);return B.useEffect(()=>{const t=console.log;return console.log=(...s)=>{n.current.push(s.map(i=>typeof i=="object"?JSON.stringify(i,null,2):i).join(" ")),t.apply(console,s)},()=>{console.log=t}},[]),{downloadLogs:()=>{const t=new Blob([n.current.join(`
`)],{type:"text/plain"}),s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=`console-logs-${new Date().getTime()}.txt`,i.click(),URL.revokeObjectURL(s)}}};function IS(n=[]){return[...n].sort((e,t)=>{const s=new Date(e?.fecha??0).getTime(),i=new Date(t?.fecha??0).getTime();return s!==i?s-i:(e?.createdAt??0)-(t?.createdAt??0)})}function fP(n=[]){return Array.from(new Set(n.map(e=>e?.torneoYear).filter(Boolean))).sort((e,t)=>e-t)}function mP(n=[]){const e=new Set(n.map(t=>t?.torneoDisplay||t?.torneoName).filter(Boolean));return Array.from(e).sort((t,s)=>t.localeCompare(s))}function pP(n=[]){const e=new Map;for(const t of n){const s=t?.captain;s&&e.set(s,(e.get(s)??0)+1)}return[...e.entries()].sort((t,s)=>s[1]-t[1]).slice(0,2).map(([t])=>t)}function gP(n,e,t){const s=IS(n),i=Array.isArray(e)?e:[e,t],a=Array.from(new Set((i||[]).filter(Boolean)));let l=0,u=0;const d=Object.fromEntries(a.map(z=>[z,0])),m=Object.fromEntries(a.map(z=>[z,0])),g=[],x=[],b=Object.fromEntries(a.map(z=>[z,[]]));s.forEach((z,U)=>{const $=Number(z?.points??0),A=z?.captain;g.push(String(U+1)),l+=$,u+=1,x.push(l),A&&d[A]!=null&&(d[A]+=$,m[A]+=1);for(const R of a)b[R].push(d[R])});const E=u*3,N=E/2,w=Object.fromEntries(a.map(z=>[z,(m[z]||0)*3])),T=Object.fromEntries(a.map(z=>[z,(w[z]||0)/2])),k=Array(g.length).fill(N),M=["#0ea5e9","#f97316","#a855f7","#14b8a6","#eab308","#ef4444","#6366f1","#10b981"],I=[{_kind:"unificado",label:"Unificado",data:x,borderColor:"#22c55e",borderWidth:3,pointRadius:0,tension:.35},{_kind:"mitadU",label:"Mitad Unificado",data:k,borderColor:"#94a3b8",borderWidth:2,pointRadius:0,borderDash:[4,6],tension:0}];return a.forEach((z,U)=>{I.push({_kind:`cap:${z}`,label:Ae(z),data:b[z],borderColor:M[U%M.length],borderWidth:2.2,pointRadius:0,tension:.35}),I.push({_kind:`mitad:${z}`,label:`Mitad ${Ae(z)}`,data:Array(g.length).fill(T[z]),borderColor:M[U%M.length],borderWidth:2,pointRadius:0,borderDash:[6,4],tension:0})}),{labels:g,yMax:E,meta:{posiblesU:E,posiblesByCaptain:w,gamesByCaptain:m},datasets:I}}function yP(n,{view:e,breakdown:t,selectedYear:s,selectedTournament:i,torneosConfig:a,capA:l,capB:u}={}){return B.useMemo(()=>{const d=Array.isArray(n)?n:[],m=IS(d),g=(O="")=>O.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),x=O=>(O||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),b=O=>{if(!a||!O)return"anual";const L=x(g(O));for(const[ge,de]of Object.entries(a||{}))if(x(g(ge))===L)return(de?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"},E=O=>{const L=new Date(O);if(!Number.isFinite(L.getTime()))return null;const ge=L.getFullYear(),W=L.getMonth()+1>=7?ge:ge-1;return`${W}-${W+1}`},N=m.filter(O=>{const L=O?.torneoDisplay||O?.torneoName||"";return b(L)==="europeo"}),w=t==="euroYear",T=t==="euroTournament",k=w?Array.from(new Set(N.map(O=>E(O?.fecha)).filter(Boolean))).sort((O,L)=>Number(L.split("-")[0])-Number(O.split("-")[0])):fP(m),M=T?Array.from(new Set(N.map(O=>{const L=O?.torneoDisplay||O?.torneoName||"Sin torneo",ge=g(L),de=E(O?.fecha);return de?`${ge} ${de}`:ge}).filter(Boolean))).sort((O,L)=>{const ge=O.match(/(19|20)\d{2}-(19|20)\d{2}/)?.[0],de=L.match(/(19|20)\d{2}-(19|20)\d{2}/)?.[0];if(ge&&de){const W=Number(ge.split("-")[0]),ae=Number(de.split("-")[0]);if(W!==ae)return ae-W}return String(O).localeCompare(String(L))}):mP(m),[I,z]=pP(m),U=l||I||"",$=u||z||"";let A=m;t==="year"&&s&&(A=m.filter(O=>Number(O?.torneoYear)===Number(s))),t==="euroYear"&&s&&(A=N.filter(O=>E(O?.fecha)===s)),t==="tournament"&&i&&(A=m.filter(O=>(O?.torneoDisplay||O?.torneoName)===i)),t==="euroTournament"&&i&&(A=N.filter(O=>{const L=O?.torneoDisplay||O?.torneoName||"Sin torneo",ge=g(L),de=E(O?.fecha);return(de?`${ge} ${de}`:ge)===i}));const R=(()=>{const O=new Set,L=[];for(let ge=A.length-1;ge>=0;ge--){const de=A[ge]?.captain;!de||O.has(de)||(O.add(de),L.push(de))}return L})(),j=gP(A,R),V=e==="general"?j.datasets.filter(O=>O._kind==="unificado"||O._kind==="mitadU"):j.datasets.filter(O=>String(O._kind||"").startsWith("cap:")||String(O._kind||"").startsWith("mitad:")),F=e==="general"?j.meta.posiblesU:Math.max(0,...Object.values(j.meta.posiblesByCaptain||{}));return{years:k,tournaments:M,captainA:U,captainB:$,chartData:{labels:j.labels,datasets:V},yMax:F,meta:j.meta}},[n,e,t,s,i,a,l,u])}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vd(n){return n+.5|0}const da=(n,e,t)=>Math.max(Math.min(n,t),e);function Au(n){return da(vd(n*2.55),0,255)}function ba(n){return da(vd(n*255),0,255)}function cr(n){return da(vd(n/2.55)/100,0,1)}function Qw(n){return da(vd(n*100),0,100)}const Ms={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sy=[..."0123456789ABCDEF"],xP=n=>sy[n&15],bP=n=>sy[(n&240)>>4]+sy[n&15],tf=n=>(n&240)>>4===(n&15),vP=n=>tf(n.r)&&tf(n.g)&&tf(n.b)&&tf(n.a);function _P(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ms[n[1]]*17,g:255&Ms[n[2]]*17,b:255&Ms[n[3]]*17,a:e===5?Ms[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ms[n[1]]<<4|Ms[n[2]],g:Ms[n[3]]<<4|Ms[n[4]],b:Ms[n[5]]<<4|Ms[n[6]],a:e===9?Ms[n[7]]<<4|Ms[n[8]]:255})),t}const wP=(n,e)=>n<255?e(n):"";function EP(n){var e=vP(n)?xP:bP;return n?"#"+e(n.r)+e(n.g)+e(n.b)+wP(n.a,e):void 0}const TP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DS(n,e,t){const s=e*Math.min(t,1-t),i=(a,l=(a+n/30)%12)=>t-s*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function NP(n,e,t){const s=(i,a=(i+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function SP(n,e,t){const s=DS(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)s[i]*=1-e-t,s[i]+=e;return s}function AP(n,e,t,s,i){return n===i?(e-t)/s+(e<t?6:0):e===i?(t-n)/s+2:(n-e)/s+4}function bx(n){const t=n.r/255,s=n.g/255,i=n.b/255,a=Math.max(t,s,i),l=Math.min(t,s,i),u=(a+l)/2;let d,m,g;return a!==l&&(g=a-l,m=u>.5?g/(2-a-l):g/(a+l),d=AP(t,s,i,g,a),d=d*60+.5),[d|0,m||0,u]}function vx(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(ba)}function _x(n,e,t){return vx(DS,n,e,t)}function CP(n,e,t){return vx(SP,n,e,t)}function kP(n,e,t){return vx(NP,n,e,t)}function MS(n){return(n%360+360)%360}function RP(n){const e=TP.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?Au(+e[5]):ba(+e[5]));const i=MS(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?s=CP(i,a,l):e[1]==="hsv"?s=kP(i,a,l):s=_x(i,a,l),{r:s[0],g:s[1],b:s[2],a:t}}function jP(n,e){var t=bx(n);t[0]=MS(t[0]+e),t=_x(t),n.r=t[0],n.g=t[1],n.b=t[2]}function IP(n){if(!n)return;const e=bx(n),t=e[0],s=Qw(e[1]),i=Qw(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${i}%, ${cr(n.a)})`:`hsl(${t}, ${s}%, ${i}%)`}const Jw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function DP(){const n={},e=Object.keys(Zw),t=Object.keys(Jw);let s,i,a,l,u;for(s=0;s<e.length;s++){for(l=u=e[s],i=0;i<t.length;i++)a=t[i],u=u.replace(a,Jw[a]);a=parseInt(Zw[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let nf;function MP(n){nf||(nf=DP(),nf.transparent=[0,0,0,0]);const e=nf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const OP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PP(n){const e=OP.exec(n);let t=255,s,i,a;if(e){if(e[7]!==s){const l=+e[7];t=e[8]?Au(l):da(l*255,0,255)}return s=+e[1],i=+e[3],a=+e[5],s=255&(e[2]?Au(s):da(s,0,255)),i=255&(e[4]?Au(i):da(i,0,255)),a=255&(e[6]?Au(a):da(a,0,255)),{r:s,g:i,b:a,a:t}}}function LP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${cr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const c0=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Tl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function VP(n,e,t){const s=Tl(cr(n.r)),i=Tl(cr(n.g)),a=Tl(cr(n.b));return{r:ba(c0(s+t*(Tl(cr(e.r))-s))),g:ba(c0(i+t*(Tl(cr(e.g))-i))),b:ba(c0(a+t*(Tl(cr(e.b))-a))),a:n.a+t*(e.a-n.a)}}function sf(n,e,t){if(n){let s=bx(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=_x(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function OS(n,e){return n&&Object.assign(e||{},n)}function e2(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ba(n[3]))):(e=OS(n,{r:0,g:0,b:0,a:1}),e.a=ba(e.a)),e}function zP(n){return n.charAt(0)==="r"?PP(n):RP(n)}class Zu{constructor(e){if(e instanceof Zu)return e;const t=typeof e;let s;t==="object"?s=e2(e):t==="string"&&(s=_P(e)||MP(e)||zP(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=OS(this._rgb);return e&&(e.a=cr(e.a)),e}set rgb(e){this._rgb=e2(e)}rgbString(){return this._valid?LP(this._rgb):void 0}hexString(){return this._valid?EP(this._rgb):void 0}hslString(){return this._valid?IP(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,i=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,d=s.a-i.a,m=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;a=1-m,s.r=255&m*s.r+a*i.r+.5,s.g=255&m*s.g+a*i.g+.5,s.b=255&m*s.b+a*i.b+.5,s.a=l*s.a+(1-l)*i.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=VP(this._rgb,e._rgb,t)),this}clone(){return new Zu(this.rgb)}alpha(e){return this._rgb.a=ba(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=vd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return sf(this._rgb,2,e),this}darken(e){return sf(this._rgb,2,-e),this}saturate(e){return sf(this._rgb,1,e),this}desaturate(e){return sf(this._rgb,1,-e),this}rotate(e){return jP(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ar(){}const UP=(()=>{let n=0;return()=>n++})();function Pt(n){return n==null}function Nn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Gn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function vi(n,e){return Gn(n)?n:e}function ht(n,e){return typeof n>"u"?e:n}const BP=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Lt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function St(n,e,t,s){let i,a,l;if(Nn(n))for(a=n.length,i=0;i<a;i++)e.call(t,n[i],i);else if(xt(n))for(l=Object.keys(n),a=l.length,i=0;i<a;i++)e.call(t,n[l[i]],l[i])}function Zf(n,e){let t,s,i,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(i=n[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function em(n){if(Nn(n))return n.map(em);if(xt(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let i=0;for(;i<s;++i)e[t[i]]=em(n[t[i]]);return e}return n}function PS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function FP(n,e,t,s){if(!PS(n))return;const i=e[n],a=t[n];xt(i)&&xt(a)?ed(i,a,s):e[n]=em(a)}function ed(n,e,t){const s=Nn(e)?e:[e],i=s.length;if(!xt(n))return n;t=t||{};const a=t.merger||FP;let l;for(let u=0;u<i;++u){if(l=s[u],!xt(l))continue;const d=Object.keys(l);for(let m=0,g=d.length;m<g;++m)a(d[m],n,l,t)}return n}function Pu(n,e){return ed(n,e,{merger:$P})}function $P(n,e,t){if(!PS(n))return;const s=e[n],i=t[n];xt(s)&&xt(i)?Pu(s,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=em(i))}const t2={"":n=>n,x:n=>n.x,y:n=>n.y};function HP(n){const e=n.split("."),t=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function GP(n){const e=HP(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function tm(n,e){return(t2[e]||(t2[e]=GP(e)))(n)}function wx(n){return n.charAt(0).toUpperCase()+n.slice(1)}const nm=n=>typeof n<"u",Aa=n=>typeof n=="function",n2=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function qP(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Fn=Math.PI,Js=2*Fn,WP=Js+Fn,sm=Number.POSITIVE_INFINITY,YP=Fn/180,Qs=Fn/2,ao=Fn/4,s2=Fn*2/3,LS=Math.log10,ql=Math.sign;function Lu(n,e,t){return Math.abs(n-e)<t}function i2(n){const e=Math.round(n);n=Lu(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(LS(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function KP(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function XP(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function td(n){return!XP(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function QP(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function JP(n,e,t){let s,i,a;for(s=0,i=n.length;s<i;s++)a=n[s][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function go(n){return n*(Fn/180)}function ZP(n){return n*(180/Fn)}function r2(n){if(!Gn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function eL(n,e){const t=e.x-n.x,s=e.y-n.y,i=Math.sqrt(t*t+s*s);let a=Math.atan2(s,t);return a<-.5*Fn&&(a+=Js),{angle:a,distance:i}}function iy(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function tL(n,e){return(n-e+WP)%Js-Fn}function Ti(n){return(n%Js+Js)%Js}function VS(n,e,t,s){const i=Ti(n),a=Ti(e),l=Ti(t),u=Ti(a-i),d=Ti(l-i),m=Ti(i-a),g=Ti(i-l);return i===a||i===l||s&&a===l||u>d&&m<g}function Ls(n,e,t){return Math.max(e,Math.min(t,n))}function nL(n){return Ls(n,-32768,32767)}function Rl(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function Ex(n,e,t){t=t||(l=>n[l]<e);let s=n.length-1,i=0,a;for(;s-i>1;)a=i+s>>1,t(a)?i=a:s=a;return{lo:i,hi:s}}const yo=(n,e,t,s)=>Ex(n,t,s?i=>{const a=n[i][e];return a<t||a===t&&n[i+1][e]===t}:i=>n[i][e]<t),sL=(n,e,t)=>Ex(n,t,s=>n[s][e]>=t);function iL(n,e,t){let s=0,i=n.length;for(;s<i&&n[s]<e;)s++;for(;i>s&&n[i-1]>t;)i--;return s>0||i<n.length?n.slice(s,i):n}const zS=["push","pop","shift","splice","unshift"];function rL(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zS.forEach(t=>{const s="_onData"+wx(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...a)}),l}})})}function a2(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(zS.forEach(a=>{delete n[a]}),delete n._chartjs)}function aL(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const US=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function BS(n,e){let t=[],s=!1;return function(...i){t=i,s||(s=!0,US.call(window,()=>{s=!1,n.apply(e,t)}))}}function oL(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const FS=n=>n==="start"?"left":n==="end"?"right":"center",xs=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,lL=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function cL(n,e,t){const s=e.length;let i=0,a=s;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:x,max:b,minDefined:E,maxDefined:N}=l.getUserBounds();if(E){if(i=Math.min(yo(d,g,x).lo,t?s:yo(e,g,l.getPixelForValue(x)).lo),m){const w=d.slice(0,i+1).reverse().findIndex(T=>!Pt(T[u.axis]));i-=Math.max(0,w)}i=Ls(i,0,s-1)}if(N){let w=Math.max(yo(d,l.axis,b,!0).hi+1,t?0:yo(e,g,l.getPixelForValue(b),!0).hi+1);if(m){const T=d.slice(w-1).findIndex(k=>!Pt(k[u.axis]));w+=Math.max(0,T)}a=Ls(w,i,s)-i}else a=s-i}return{start:i,count:a}}function uL(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=i,!0;const a=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,i),a}const rf=n=>n===0||n===1,o2=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Js/t)),l2=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Js/t)+1,Vu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Qs)+1,easeOutSine:n=>Math.sin(n*Qs),easeInOutSine:n=>-.5*(Math.cos(Fn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>rf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>rf(n)?n:o2(n,.075,.3),easeOutElastic:n=>rf(n)?n:l2(n,.075,.3),easeInOutElastic(n){return rf(n)?n:n<.5?.5*o2(n*2,.1125,.45):.5+.5*l2(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Vu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Vu.easeInBounce(n*2)*.5:Vu.easeOutBounce(n*2-1)*.5+.5};function Tx(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function c2(n){return Tx(n)?n:new Zu(n)}function u0(n){return Tx(n)?n:new Zu(n).saturate(.5).darken(.1).hexString()}const dL=["x","y","borderWidth","radius","tension"],hL=["color","borderColor","backgroundColor"];function fL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:hL},numbers:{type:"number",properties:dL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function mL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const u2=new Map;function pL(n,e){e=e||{};const t=n+JSON.stringify(e);let s=u2.get(t);return s||(s=new Intl.NumberFormat(n,e),u2.set(t,s)),s}function $S(n,e,t){return pL(e,t).format(n)}const gL={values(n){return Nn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let i,a=n;if(t.length>1){const m=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(m<1e-4||m>1e15)&&(i="scientific"),a=yL(n,t)}const l=LS(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),$S(n,s,d)}};function yL(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var HS={formatters:gL};function xL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:HS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const So=Object.create(null),ry=Object.create(null);function zu(n,e){if(!e)return n;const t=e.split(".");for(let s=0,i=t.length;s<i;++s){const a=t[s];n=n[a]||(n[a]=Object.create(null))}return n}function d0(n,e,t){return typeof e=="string"?ed(zu(n,e),t):ed(zu(n,""),e)}class bL{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>u0(i.backgroundColor),this.hoverBorderColor=(s,i)=>u0(i.borderColor),this.hoverColor=(s,i)=>u0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return d0(this,e,t)}get(e){return zu(this,e)}describe(e,t){return d0(ry,e,t)}override(e,t){return d0(So,e,t)}route(e,t,s,i){const a=zu(this,e),l=zu(this,s),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[u],m=l[i];return xt(d)?Object.assign({},m,d):ht(d,m)},set(d){this[u]=d}}})}apply(e){e.forEach(t=>t(this))}}var en=new bL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fL,mL,xL]);function vL(n){return!n||Pt(n.size)||Pt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function d2(n,e,t,s,i){let a=e[i];return a||(a=e[i]=n.measureText(i).width,t.push(i)),a>s&&(s=a),s}function oo(n,e,t){const s=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*s)/s+i}function h2(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function ay(n,e,t,s){GS(n,e,t,s,null)}function GS(n,e,t,s,i){let a,l,u,d,m,g,x,b;const E=e.pointStyle,N=e.rotation,w=e.radius;let T=(N||0)*YP;if(E&&typeof E=="object"&&(a=E.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(T),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),E){default:i?n.ellipse(t,s,i/2,w,0,0,Js):n.arc(t,s,w,0,Js),n.closePath();break;case"triangle":g=i?i/2:w,n.moveTo(t+Math.sin(T)*g,s-Math.cos(T)*w),T+=s2,n.lineTo(t+Math.sin(T)*g,s-Math.cos(T)*w),T+=s2,n.lineTo(t+Math.sin(T)*g,s-Math.cos(T)*w),n.closePath();break;case"rectRounded":m=w*.516,d=w-m,l=Math.cos(T+ao)*d,x=Math.cos(T+ao)*(i?i/2-m:d),u=Math.sin(T+ao)*d,b=Math.sin(T+ao)*(i?i/2-m:d),n.arc(t-x,s-u,m,T-Fn,T-Qs),n.arc(t+b,s-l,m,T-Qs,T),n.arc(t+x,s+u,m,T,T+Qs),n.arc(t-b,s+l,m,T+Qs,T+Fn),n.closePath();break;case"rect":if(!N){d=Math.SQRT1_2*w,g=i?i/2:d,n.rect(t-g,s-d,2*g,2*d);break}T+=ao;case"rectRot":x=Math.cos(T)*(i?i/2:w),l=Math.cos(T)*w,u=Math.sin(T)*w,b=Math.sin(T)*(i?i/2:w),n.moveTo(t-x,s-u),n.lineTo(t+b,s-l),n.lineTo(t+x,s+u),n.lineTo(t-b,s+l),n.closePath();break;case"crossRot":T+=ao;case"cross":x=Math.cos(T)*(i?i/2:w),l=Math.cos(T)*w,u=Math.sin(T)*w,b=Math.sin(T)*(i?i/2:w),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l);break;case"star":x=Math.cos(T)*(i?i/2:w),l=Math.cos(T)*w,u=Math.sin(T)*w,b=Math.sin(T)*(i?i/2:w),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l),T+=ao,x=Math.cos(T)*(i?i/2:w),l=Math.cos(T)*w,u=Math.sin(T)*w,b=Math.sin(T)*(i?i/2:w),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l);break;case"line":l=i?i/2:Math.cos(T)*w,u=Math.sin(T)*w,n.moveTo(t-l,s-u),n.lineTo(t+l,s+u);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(T)*(i?i/2:w),s+Math.sin(T)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function nd(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function jm(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Im(n){n.restore()}function _L(n,e,t,s,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else i==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function wL(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function EL(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Pt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function TL(n,e,t,s,i){if(i.strikethrough||i.underline){const a=n.measureText(s),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,d=t-a.actualBoundingBoxAscent,m=t+a.actualBoundingBoxDescent,g=i.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function NL(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function im(n,e,t,s,i,a={}){const l=Nn(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let d,m;for(n.save(),n.font=i.string,EL(n,a),d=0;d<l.length;++d)m=l[d],a.backdrop&&NL(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Pt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(m,t,s,a.maxWidth)),n.fillText(m,t,s,a.maxWidth),TL(n,t,s,m,a),s+=Number(i.lineHeight);n.restore()}function oy(n,e){const{x:t,y:s,w:i,h:a,radius:l}=e;n.arc(t+l.topLeft,s+l.topLeft,l.topLeft,1.5*Fn,Fn,!0),n.lineTo(t,s+a-l.bottomLeft),n.arc(t+l.bottomLeft,s+a-l.bottomLeft,l.bottomLeft,Fn,Qs,!0),n.lineTo(t+i-l.bottomRight,s+a),n.arc(t+i-l.bottomRight,s+a-l.bottomRight,l.bottomRight,Qs,0,!0),n.lineTo(t+i,s+l.topRight),n.arc(t+i-l.topRight,s+l.topRight,l.topRight,0,-Qs,!0),n.lineTo(t+l.topLeft,s)}const SL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function CL(n,e){const t=(""+n).match(SL);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const kL=n=>+n||0;function qS(n,e){const t={},s=xt(e),i=s?Object.keys(e):e,a=xt(n)?s?l=>ht(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=kL(a(l));return t}function RL(n){return qS(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Uu(n){return qS(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ti(n){const e=RL(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function as(n,e){n=n||{},e=e||en.font;let t=ht(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=ht(n.style,e.style);s&&!(""+s).match(AL)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:ht(n.family,e.family),lineHeight:CL(ht(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:ht(n.weight,e.weight),string:""};return i.string=vL(i),i}function af(n,e,t,s){let i,a,l;for(i=0,a=n.length;i<a;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function jL(n,e,t){const{min:s,max:i}=n,a=BP(e,(i-s)/2),l=(u,d)=>t&&u===0?0:u+d;return{min:l(s,-Math.abs(a)),max:l(i,a)}}function jo(n,e){return Object.assign(Object.create(n),e)}function Nx(n,e=[""],t,s,i=()=>n[0]){const a=t||n;typeof s>"u"&&(s=XS("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:s,_getTarget:i,override:u=>Nx([u,...n],e,a,s)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return YS(u,d,()=>zL(d,e,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return m2(u).includes(d)},ownKeys(u){return m2(u)},set(u,d,m){const g=u._storage||(u._storage=i());return u[d]=g[d]=m,delete u._keys,!0}})}function Wl(n,e,t,s){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:WS(n,s),setContext:a=>Wl(n,a,t,s),override:a=>Wl(n.override(a),e,t,s)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return YS(a,l,()=>DL(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function WS(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:s,isScriptable:Aa(t)?t:()=>t,isIndexable:Aa(s)?s:()=>s}}const IL=(n,e)=>n?n+wx(e):e,Sx=(n,e)=>xt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function YS(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function DL(n,e,t){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;let u=s[e];return Aa(u)&&l.isScriptable(e)&&(u=ML(e,u,n,t)),Nn(u)&&u.length&&(u=OL(e,u,n,l.isIndexable)),Sx(e,u)&&(u=Wl(u,i,a&&a[e],l)),u}function ML(n,e,t,s){const{_proxy:i,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=e(a,l||s);return u.delete(n),Sx(n,d)&&(d=Ax(i._scopes,i,n,d)),d}function OL(n,e,t,s){const{_proxy:i,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&s(n))return e[a.index%e.length];if(xt(e[0])){const d=e,m=i._scopes.filter(g=>g!==d);e=[];for(const g of d){const x=Ax(m,i,n,g);e.push(Wl(x,a,l&&l[n],u))}}return e}function KS(n,e,t){return Aa(n)?n(e,t):n}const PL=(n,e)=>n===!0?e:typeof n=="string"?tm(e,n):void 0;function LL(n,e,t,s,i){for(const a of e){const l=PL(t,a);if(l){n.add(l);const u=KS(l._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==s)return u}else if(l===!1&&typeof s<"u"&&t!==s)return null}return!1}function Ax(n,e,t,s){const i=e._rootScopes,a=KS(e._fallback,t,s),l=[...n,...i],u=new Set;u.add(s);let d=f2(u,l,t,a||t,s);return d===null||typeof a<"u"&&a!==t&&(d=f2(u,l,a,d,s),d===null)?!1:Nx(Array.from(u),[""],i,a,()=>VL(e,t,s))}function f2(n,e,t,s,i){for(;t;)t=LL(n,e,t,s,i);return t}function VL(n,e,t){const s=n._getTarget();e in s||(s[e]={});const i=s[e];return Nn(i)&&xt(t)?t:i||{}}function zL(n,e,t,s){let i;for(const a of e)if(i=XS(IL(a,n),t),typeof i<"u")return Sx(n,i)?Ax(t,s,n,i):i}function XS(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function m2(n){let e=n._keys;return e||(e=n._keys=UL(n._scopes)),e}function UL(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const BL=Number.EPSILON||1e-14,Yl=(n,e)=>e<n.length&&!n[e].skip&&n[e],QS=n=>n==="x"?"y":"x";function FL(n,e,t,s){const i=n.skip?e:n,a=e,l=t.skip?e:t,u=iy(a,i),d=iy(l,a);let m=u/(u+d),g=d/(u+d);m=isNaN(m)?0:m,g=isNaN(g)?0:g;const x=s*m,b=s*g;return{previous:{x:a.x-x*(l.x-i.x),y:a.y-x*(l.y-i.y)},next:{x:a.x+b*(l.x-i.x),y:a.y+b*(l.y-i.y)}}}function $L(n,e,t){const s=n.length;let i,a,l,u,d,m=Yl(n,0);for(let g=0;g<s-1;++g)if(d=m,m=Yl(n,g+1),!(!d||!m)){if(Lu(e[g],0,BL)){t[g]=t[g+1]=0;continue}i=t[g]/e[g],a=t[g+1]/e[g],u=Math.pow(i,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),t[g]=i*l*e[g],t[g+1]=a*l*e[g])}}function HL(n,e,t="x"){const s=QS(t),i=n.length;let a,l,u,d=Yl(n,0);for(let m=0;m<i;++m){if(l=u,u=d,d=Yl(n,m+1),!u)continue;const g=u[t],x=u[s];l&&(a=(g-l[t])/3,u[`cp1${t}`]=g-a,u[`cp1${s}`]=x-a*e[m]),d&&(a=(d[t]-g)/3,u[`cp2${t}`]=g+a,u[`cp2${s}`]=x+a*e[m])}}function GL(n,e="x"){const t=QS(e),s=n.length,i=Array(s).fill(0),a=Array(s);let l,u,d,m=Yl(n,0);for(l=0;l<s;++l)if(u=d,d=m,m=Yl(n,l+1),!!d){if(m){const g=m[e]-d[e];i[l]=g!==0?(m[t]-d[t])/g:0}a[l]=u?m?ql(i[l-1])!==ql(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}$L(n,i,a),HL(n,a,e)}function of(n,e,t){return Math.max(Math.min(n,t),e)}function qL(n,e){let t,s,i,a,l,u=nd(n[0],e);for(t=0,s=n.length;t<s;++t)l=a,a=u,u=t<s-1&&nd(n[t+1],e),a&&(i=n[t],l&&(i.cp1x=of(i.cp1x,e.left,e.right),i.cp1y=of(i.cp1y,e.top,e.bottom)),u&&(i.cp2x=of(i.cp2x,e.left,e.right),i.cp2y=of(i.cp2y,e.top,e.bottom)))}function WL(n,e,t,s,i){let a,l,u,d;if(e.spanGaps&&(n=n.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")GL(n,i);else{let m=s?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],d=FL(m,u,n[Math.min(a+1,l-(s?0:1))%l],e.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,m=u}e.capBezierPoints&&qL(n,t)}function Cx(){return typeof window<"u"&&typeof document<"u"}function kx(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function rm(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const Dm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function YL(n,e){return Dm(n).getPropertyValue(e)}const KL=["top","right","bottom","left"];function vo(n,e,t){const s={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=KL[i];s[a]=parseFloat(n[e+"-"+a+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const XL=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function QL(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:i,offsetY:a}=s;let l=!1,u,d;if(XL(i,a,n.target))u=i,d=a;else{const m=e.getBoundingClientRect();u=s.clientX-m.left,d=s.clientY-m.top,l=!0}return{x:u,y:d,box:l}}function uo(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,i=Dm(t),a=i.boxSizing==="border-box",l=vo(i,"padding"),u=vo(i,"border","width"),{x:d,y:m,box:g}=QL(n,t),x=l.left+(g&&u.left),b=l.top+(g&&u.top);let{width:E,height:N}=e;return a&&(E-=l.width+u.width,N-=l.height+u.height),{x:Math.round((d-x)/E*t.width/s),y:Math.round((m-b)/N*t.height/s)}}function JL(n,e,t){let s,i;if(e===void 0||t===void 0){const a=n&&kx(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Dm(a),d=vo(u,"border","width"),m=vo(u,"padding");e=l.width-m.width-d.width,t=l.height-m.height-d.height,s=rm(u.maxWidth,a,"clientWidth"),i=rm(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:s||sm,maxHeight:i||sm}}const ha=n=>Math.round(n*10)/10;function ZL(n,e,t,s){const i=Dm(n),a=vo(i,"margin"),l=rm(i.maxWidth,n,"clientWidth")||sm,u=rm(i.maxHeight,n,"clientHeight")||sm,d=JL(n,e,t);let{width:m,height:g}=d;if(i.boxSizing==="content-box"){const b=vo(i,"border","width"),E=vo(i,"padding");m-=E.width+b.width,g-=E.height+b.height}return m=Math.max(0,m-a.width),g=Math.max(0,s?m/s:g-a.height),m=ha(Math.min(m,l,d.maxWidth)),g=ha(Math.min(g,u,d.maxHeight)),m&&!g&&(g=ha(m/2)),(e!==void 0||t!==void 0)&&s&&d.height&&g>d.height&&(g=d.height,m=ha(Math.floor(g*s))),{width:m,height:g}}function p2(n,e,t){const s=e||1,i=ha(n.height*s),a=ha(n.width*s);n.height=ha(n.height),n.width=ha(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||l.height!==i||l.width!==a?(n.currentDevicePixelRatio=s,l.height=i,l.width=a,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const e9=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Cx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function g2(n,e){const t=YL(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ho(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function t9(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function n9(n,e,t,s){const i={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},l=ho(n,i,t),u=ho(i,a,t),d=ho(a,e,t),m=ho(l,u,t),g=ho(u,d,t);return ho(m,g,t)}const s9=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},i9=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Pl(n,e,t){return n?s9(e,t):i9()}function JS(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function ZS(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function eA(n){return n==="angle"?{between:VS,compare:tL,normalize:Ti}:{between:Rl,compare:(e,t)=>e-t,normalize:e=>e}}function y2({start:n,end:e,count:t,loop:s,style:i}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:i}}function r9(n,e,t){const{property:s,start:i,end:a}=t,{between:l,normalize:u}=eA(s),d=e.length;let{start:m,end:g,loop:x}=n,b,E;if(x){for(m+=d,g+=d,b=0,E=d;b<E&&l(u(e[m%d][s]),i,a);++b)m--,g--;m%=d,g%=d}return g<m&&(g+=d),{start:m,end:g,loop:x,style:n.style}}function tA(n,e,t){if(!t)return[n];const{property:s,start:i,end:a}=t,l=e.length,{compare:u,between:d,normalize:m}=eA(s),{start:g,end:x,loop:b,style:E}=r9(n,e,t),N=[];let w=!1,T=null,k,M,I;const z=()=>d(i,I,k)&&u(i,I)!==0,U=()=>u(a,k)===0||d(a,I,k),$=()=>w||z(),A=()=>!w||U();for(let R=g,j=g;R<=x;++R)M=e[R%l],!M.skip&&(k=m(M[s]),k!==I&&(w=d(k,i,a),T===null&&$()&&(T=u(k,i)===0?R:j),T!==null&&A()&&(N.push(y2({start:T,end:R,loop:b,count:l,style:E})),T=null),j=R,I=k));return T!==null&&N.push(y2({start:T,end:x,loop:b,count:l,style:E})),N}function nA(n,e){const t=[],s=n.segments;for(let i=0;i<s.length;i++){const a=tA(s[i],n.points,e);a.length&&t.push(...a)}return t}function a9(n,e,t,s){let i=0,a=e-1;if(t&&!s)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(a+=i);a>i&&n[a%e].skip;)a--;return a%=e,{start:i,end:a}}function o9(n,e,t,s){const i=n.length,a=[];let l=e,u=n[e],d;for(d=e+1;d<=t;++d){const m=n[d%i];m.skip||m.stop?u.skip||(s=!1,a.push({start:e%i,end:(d-1)%i,loop:s}),e=l=m.stop?d:null):(l=d,u.skip&&(e=d)),u=m}return l!==null&&a.push({start:e%i,end:l%i,loop:s}),a}function l9(n,e){const t=n.points,s=n.options.spanGaps,i=t.length;if(!i)return[];const a=!!n._loop,{start:l,end:u}=a9(t,i,a,s);if(s===!0)return x2(n,[{start:l,end:u,loop:a}],t,e);const d=u<l?u+i:u,m=!!n._fullLoop&&l===0&&u===i-1;return x2(n,o9(t,l,d,m),t,e)}function x2(n,e,t,s){return!s||!s.setContext||!t?e:c9(n,e,t,s)}function c9(n,e,t,s){const i=n._chart.getContext(),a=b2(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=t.length,m=[];let g=a,x=e[0].start,b=x;function E(N,w,T,k){const M=u?-1:1;if(N!==w){for(N+=d;t[N%d].skip;)N-=M;for(;t[w%d].skip;)w+=M;N%d!==w%d&&(m.push({start:N%d,end:w%d,loop:T,style:k}),g=k,x=w%d)}}for(const N of e){x=u?x:N.start;let w=t[x%d],T;for(b=x+1;b<=N.end;b++){const k=t[b%d];T=b2(s.setContext(jo(i,{type:"segment",p0:w,p1:k,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:l}))),u9(T,g)&&E(x,b-1,N.loop,g),w=k,g=T}x<b-1&&E(x,b-1,N.loop,g)}return m}function b2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function u9(n,e){if(!e)return!1;const t=[],s=function(i,a){return Tx(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,s)!==JSON.stringify(e,s)}function lf(n,e,t){return n.options.clip?n[t]:e[t]}function d9(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:lf(t,e,"left"),right:lf(t,e,"right"),top:lf(s,e,"top"),bottom:lf(s,e,"bottom")}:e}function sA(n,e){const t=e._clip;if(t.disabled)return!1;const s=d9(e,n.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class h9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,i){const a=t.listeners[i],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(s-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=US.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const a=s.items;let l=a.length-1,u=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,s,e,"progress")),a.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var or=new h9;const v2="transparent",f9={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=c2(n||v2),i=s.valid&&c2(e||v2);return i&&i.valid?i.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class m9{constructor(e,t,s,i){const a=t[s];i=af([e.to,i,a,e.from]);const l=af([e.from,a,i]);this._active=!0,this._fn=e.fn||f9[e.type||typeof l],this._easing=Vu[e.easing]||Vu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const i=this._target[this._prop],a=s-this._start,l=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=af([e.to,t,i,e.from]),this._from=af([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,i=this._prop,a=this._from,l=this._loop,u=this._to;let d;if(this._active=a!==u&&(l||t<s),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=a;return}d=t/s%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[i]=this._fn(a,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][t]()}}class iA{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!xt(e))return;const t=Object.keys(en.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!xt(a))return;const l={};for(const u of t)l[u]=a[u];(Nn(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!s.has(u))&&s.set(u,l)})})}_animateOptions(e,t){const s=t.options,i=g9(e,s);if(!i)return[];const a=this._createAnimations(i,s);return s.$shared&&p9(e.options.$animations,s).then(()=>{e.options=s},()=>{}),a}_createAnimations(e,t){const s=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const m=l[d];if(m.charAt(0)==="$")continue;if(m==="options"){i.push(...this._animateOptions(e,t));continue}const g=t[m];let x=a[m];const b=s.get(m);if(x)if(b&&x.active()){x.update(b,g,u);continue}else x.cancel();if(!b||!b.duration){e[m]=g;continue}a[m]=x=new m9(b,e,m,g),i.push(x)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return or.add(this._chart,s),!0}}function p9(n,e){const t=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const a=n[s[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function g9(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function _2(n,e){const t=n&&n.options||{},s=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:s?a:i,end:s?i:a}}function y9(n,e,t){if(t===!1)return!1;const s=_2(n,t),i=_2(e,t);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function x9(n){let e,t,s,i;return xt(n)?(e=n.top,t=n.right,s=n.bottom,i=n.left):e=t=s=i=n,{top:e,right:t,bottom:s,left:i,disabled:n===!1}}function rA(n,e){const t=[],s=n._getSortedDatasetMetas(e);let i,a;for(i=0,a=s.length;i<a;++i)t.push(s[i].index);return t}function w2(n,e,t,s={}){const i=n.keys,a=s.mode==="single";let l,u,d,m;if(e===null)return;let g=!1;for(l=0,u=i.length;l<u;++l){if(d=+i[l],d===t){if(g=!0,s.all)continue;break}m=n.values[d],Gn(m)&&(a||e===0||ql(e)===ql(m))&&(e+=m)}return!g&&!s.all?0:e}function b9(n,e){const{iScale:t,vScale:s}=e,i=t.axis==="x"?"x":"y",a=s.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,m,g;for(d=0,m=l.length;d<m;++d)g=l[d],u[d]={[i]:g,[a]:n[g]};return u}function h0(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function v9(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function _9(n){const{min:e,max:t,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function w9(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function E2(n,e,t,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const a=n[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function T2(n,e){const{chart:t,_cachedMeta:s}=n,i=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=s,d=a.axis,m=l.axis,g=v9(a,l,s),x=e.length;let b;for(let E=0;E<x;++E){const N=e[E],{[d]:w,[m]:T}=N,k=N._stacks||(N._stacks={});b=k[m]=w9(i,g,w),b[u]=T,b._top=E2(b,l,!0,s.type),b._bottom=E2(b,l,!1,s.type);const M=b._visualValues||(b._visualValues={});M[u]=T}}function f0(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function E9(n,e){return jo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function T9(n,e,t){return jo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function gu(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const i of e){const a=i._stacks;if(!a||a[s]===void 0||a[s][t]===void 0)return;delete a[s][t],a[s]._visualValues!==void 0&&a[s]._visualValues[t]!==void 0&&delete a[s]._visualValues[t]}}}const m0=n=>n==="reset"||n==="none",N2=(n,e)=>e?n:Object.assign({},n),N9=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:rA(t,!0),values:null};class aA{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=h0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),i=(x,b,E,N)=>x==="x"?b:x==="r"?N:E,a=t.xAxisID=ht(s.xAxisID,f0(e,"x")),l=t.yAxisID=ht(s.yAxisID,f0(e,"y")),u=t.rAxisID=ht(s.rAxisID,f0(e,"r")),d=t.indexAxis,m=t.iAxisID=i(d,a,l,u),g=t.vAxisID=i(d,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(m),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&a2(this._data,this),e._stacked&&gu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(xt(t)){const i=this._cachedMeta;this._data=b9(t,i)}else if(s!==t){if(s){a2(s,this);const i=this._cachedMeta;gu(i),i._parsed=[]}t&&Object.isExtensible(t)&&rL(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=h0(t.vScale,t),t.stack!==s.stack&&(i=!0,gu(t),t.stack=s.stack),this._resyncElements(e),(i||a!==t._stacked)&&(T2(this,t._parsed),t._stacked=h0(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:i}=this,{iScale:a,_stacked:l}=s,u=a.axis;let d=e===0&&t===i.length?!0:s._sorted,m=e>0&&s._parsed[e-1],g,x,b;if(this._parsing===!1)s._parsed=i,s._sorted=!0,b=i;else{Nn(i[e])?b=this.parseArrayData(s,i,e,t):xt(i[e])?b=this.parseObjectData(s,i,e,t):b=this.parsePrimitiveData(s,i,e,t);const E=()=>x[u]===null||m&&x[u]<m[u];for(g=0;g<t;++g)s._parsed[g+e]=x=b[g],d&&(E()&&(d=!1),m=x);s._sorted=d}l&&T2(this,b)}parsePrimitiveData(e,t,s,i){const{iScale:a,vScale:l}=e,u=a.axis,d=l.axis,m=a.getLabels(),g=a===l,x=new Array(i);let b,E,N;for(b=0,E=i;b<E;++b)N=b+s,x[b]={[u]:g||a.parse(m[N],N),[d]:l.parse(t[N],N)};return x}parseArrayData(e,t,s,i){const{xScale:a,yScale:l}=e,u=new Array(i);let d,m,g,x;for(d=0,m=i;d<m;++d)g=d+s,x=t[g],u[d]={x:a.parse(x[0],g),y:l.parse(x[1],g)};return u}parseObjectData(e,t,s,i){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,m=new Array(i);let g,x,b,E;for(g=0,x=i;g<x;++g)b=g+s,E=t[b],m[g]={x:a.parse(tm(E,u),b),y:l.parse(tm(E,d),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const i=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:rA(i,!0),values:t._stacks[e.axis]._visualValues};return w2(u,l,a.index,{mode:s})}updateRangeFromParsed(e,t,s,i){const a=s[t.axis];let l=a===null?NaN:a;const u=i&&s._stacks[t.axis];i&&u&&(i.values=u,l=w2(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const s=this._cachedMeta,i=s._parsed,a=s._sorted&&e===s.iScale,l=i.length,u=this._getOtherScale(e),d=N9(t,s,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=_9(u);let b,E;function N(){E=i[b];const w=E[u.axis];return!Gn(E[e.axis])||g>w||x<w}for(b=0;b<l&&!(!N()&&(this.updateRangeFromParsed(m,e,E,d),a));++b);if(a){for(b=l-1;b>=0;--b)if(!N()){this.updateRangeFromParsed(m,e,E,d);break}}return m}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i][e.axis],Gn(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=x9(ht(this.options.clip,y9(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,i=s.data||[],a=t.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||i.length-u,m=this.options.drawActiveElementsOnTop;let g;for(s.dataset&&s.dataset.draw(e,a,u,d),g=u;g<u+d;++g){const x=i[g];x.hidden||(x.active&&m?l.push(x):x.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=T9(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=E9(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=s,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const i=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],d=this.enableOptionSharing&&nm(s);if(u)return N2(u,d);const m=this.chart.config,g=m.datasetElementScopeKeys(this._type,e),x=i?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),g),E=Object.keys(en.elements[e]),N=()=>this.getContext(s,i,t),w=m.resolveNamedOptions(b,E,N,x);return w.$shared&&(w.$shared=d,a[l]=Object.freeze(N2(w,d))),w}_resolveAnimations(e,t,s){const i=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let d;if(i.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,t),b=g.getOptionScopes(this.getDataset(),x);d=g.createResolver(b,this.getContext(e,s,t))}const m=new iA(i,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||m0(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(s),l=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,s),{sharedOptions:a,includeOptions:l}}updateElement(e,t,s,i){m0(i)?Object.assign(e,s):this._resolveAnimations(t,i).update(e,s)}updateSharedOptions(e,t,s){e&&!m0(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,s,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[u,d,m]of this._syncList)this[u](d,m);this._syncList=[];const i=s.length,a=t.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,s=!0){const i=this._cachedMeta,a=i.data,l=e+t;let u;const d=m=>{for(m.length+=t,u=m.length-1;u>=l;u--)m[u]=m[u-t]};for(d(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&d(i._parsed),this.parse(e,t),s&&this.updateElements(a,e,t,"reset")}updateElements(e,t,s,i){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,t);s._stacked&&gu(s,i)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,i]=e;this[t](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class S9 extends aA{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:i=[],_dataset:a}=t,l=this.chart._animationsDisabled;let{start:u,count:d}=cL(t,i,l);this._drawStart=u,this._drawCount=d,uL(t)&&(u=0,d=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=i;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:m},e),this.updateElements(i,u,d,e)}updateElements(e,t,s,i){const a=i==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:m}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(t,i),b=l.axis,E=u.axis,{spanGaps:N,segment:w}=this.options,T=td(N)?N:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||i==="none",M=t+s,I=e.length;let z=t>0&&this.getParsed(t-1);for(let U=0;U<I;++U){const $=e[U],A=k?$:{};if(U<t||U>=M){A.skip=!0;continue}const R=this.getParsed(U),j=Pt(R[E]),V=A[b]=l.getPixelForValue(R[b],U),F=A[E]=a||j?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,R,d):R[E],U);A.skip=isNaN(V)||isNaN(F)||j,A.stop=U>0&&Math.abs(R[b]-z[b])>T,w&&(A.parsed=R,A.raw=m.data[U]),x&&(A.options=g||this.resolveDataElementOptions(U,$.active?"active":i)),k||this.updateElement($,U,A,i),z=R}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function lo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Rx{static override(e){Object.assign(Rx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return lo()}parse(){return lo()}format(){return lo()}add(){return lo()}diff(){return lo()}startOf(){return lo()}endOf(){return lo()}}var A9={_date:Rx};function C9(n,e,t,s){const{controller:i,data:a,_sorted:l}=n,u=i._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const m=u._reversePixels?sL:yo;if(s){if(i._sharedOptions){const g=a[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const b=m(a,e,t-x),E=m(a,e,t+x);return{lo:b.lo,hi:E.hi}}}}else{const g=m(a,e,t);if(d){const{vScale:x}=i._cachedMeta,{_parsed:b}=n,E=b.slice(0,g.lo+1).reverse().findIndex(w=>!Pt(w[x.axis]));g.lo-=Math.max(0,E);const N=b.slice(g.hi).findIndex(w=>!Pt(w[x.axis]));g.hi+=Math.max(0,N)}return g}}return{lo:0,hi:a.length-1}}function Mm(n,e,t,s,i){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,d=a.length;u<d;++u){const{index:m,data:g}=a[u],{lo:x,hi:b}=C9(a[u],e,l,i);for(let E=x;E<=b;++E){const N=g[E];N.skip||s(N,m,E)}}}function k9(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,i){const a=e?Math.abs(s.x-i.x):0,l=t?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function p0(n,e,t,s,i){const a=[];return!i&&!n.isPointInArea(e)||Mm(n,t,e,function(u,d,m){!i&&!nd(u,n.chartArea,0)||u.inRange(e.x,e.y,s)&&a.push({element:u,datasetIndex:d,index:m})},!0),a}function R9(n,e,t,s){let i=[];function a(l,u,d){const{startAngle:m,endAngle:g}=l.getProps(["startAngle","endAngle"],s),{angle:x}=eL(l,{x:e.x,y:e.y});VS(x,m,g)&&i.push({element:l,datasetIndex:u,index:d})}return Mm(n,t,e,a),i}function j9(n,e,t,s,i,a){let l=[];const u=k9(t);let d=Number.POSITIVE_INFINITY;function m(g,x,b){const E=g.inRange(e.x,e.y,i);if(s&&!E)return;const N=g.getCenterPoint(i);if(!(!!a||n.isPointInArea(N))&&!E)return;const T=u(e,N);T<d?(l=[{element:g,datasetIndex:x,index:b}],d=T):T===d&&l.push({element:g,datasetIndex:x,index:b})}return Mm(n,t,e,m),l}function g0(n,e,t,s,i,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!s?R9(n,e,t,i):j9(n,e,t,s,i,a)}function S2(n,e,t,s,i){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Mm(n,t,e,(d,m,g)=>{d[l]&&d[l](e[t],i)&&(a.push({element:d,datasetIndex:m,index:g}),u=u||d.inRange(e.x,e.y,i))}),s&&!u?[]:a}var I9={modes:{index(n,e,t,s){const i=uo(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?p0(n,i,a,s,l):g0(n,i,a,!1,s,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const g=u[0].index,x=m.data[g];x&&!x.skip&&d.push({element:x,datasetIndex:m.index,index:g})}),d):[]},dataset(n,e,t,s){const i=uo(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?p0(n,i,a,s,l):g0(n,i,a,!1,s,l);if(u.length>0){const d=u[0].datasetIndex,m=n.getDatasetMeta(d).data;u=[];for(let g=0;g<m.length;++g)u.push({element:m[g],datasetIndex:d,index:g})}return u},point(n,e,t,s){const i=uo(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return p0(n,i,a,s,l)},nearest(n,e,t,s){const i=uo(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return g0(n,i,a,t.intersect,s,l)},x(n,e,t,s){const i=uo(e,n);return S2(n,i,"x",t.intersect,s)},y(n,e,t,s){const i=uo(e,n);return S2(n,i,"y",t.intersect,s)}}};const oA=["left","top","right","bottom"];function yu(n,e){return n.filter(t=>t.pos===e)}function A2(n,e){return n.filter(t=>oA.indexOf(t.pos)===-1&&t.box.axis===e)}function xu(n,e){return n.sort((t,s)=>{const i=e?s:t,a=e?t:s;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function D9(n){const e=[];let t,s,i,a,l,u;for(t=0,s=(n||[]).length;t<s;++t)i=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:u});return e}function M9(n){const e={};for(const t of n){const{stack:s,pos:i,stackWeight:a}=t;if(!s||!oA.includes(i))continue;const l=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function O9(n,e){const t=M9(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:d}=u.box,m=t[u.stack],g=m&&u.stackWeight/m.weight;u.horizontal?(u.width=g?g*s:d&&e.availableWidth,u.height=i):(u.width=s,u.height=g?g*i:d&&e.availableHeight)}return t}function P9(n){const e=D9(n),t=xu(e.filter(m=>m.box.fullSize),!0),s=xu(yu(e,"left"),!0),i=xu(yu(e,"right")),a=xu(yu(e,"top"),!0),l=xu(yu(e,"bottom")),u=A2(e,"x"),d=A2(e,"y");return{fullSize:t,leftAndTop:s.concat(a),rightAndBottom:i.concat(d).concat(l).concat(u),chartArea:yu(e,"chartArea"),vertical:s.concat(i).concat(d),horizontal:a.concat(l).concat(u)}}function C2(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function lA(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function L9(n,e,t,s){const{pos:i,box:a}=t,l=n.maxPadding;if(!xt(i)){t.size&&(n[i]-=t.size);const x=s[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?a.height:a.width),t.size=x.size/x.count,n[i]+=t.size}a.getPadding&&lA(l,a.getPadding());const u=Math.max(0,e.outerWidth-C2(l,n,"left","right")),d=Math.max(0,e.outerHeight-C2(l,n,"top","bottom")),m=u!==n.w,g=d!==n.h;return n.w=u,n.h=d,t.horizontal?{same:m,other:g}:{same:g,other:m}}function V9(n){const e=n.maxPadding;function t(s){const i=Math.max(e[s]-n[s],0);return n[s]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function z9(n,e){const t=e.maxPadding;function s(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return s(n?["left","right"]:["top","bottom"])}function Cu(n,e,t,s){const i=[];let a,l,u,d,m,g;for(a=0,l=n.length,m=0;a<l;++a){u=n[a],d=u.box,d.update(u.width||e.w,u.height||e.h,z9(u.horizontal,e));const{same:x,other:b}=L9(e,t,u,s);m|=x&&i.length,g=g||b,d.fullSize||i.push(u)}return m&&Cu(i,e,t,s)||g}function cf(n,e,t,s,i){n.top=t,n.left=e,n.right=e+s,n.bottom=t+i,n.width=s,n.height=i}function k2(n,e,t,s){const i=t.padding;let{x:a,y:l}=e;for(const u of n){const d=u.box,m=s[u.stack]||{placed:0,weight:1},g=u.stackWeight/m.weight||1;if(u.horizontal){const x=e.w*g,b=m.size||d.height;nm(m.start)&&(l=m.start),d.fullSize?cf(d,i.left,l,t.outerWidth-i.right-i.left,b):cf(d,e.left+m.placed,l,x,b),m.start=l,m.placed+=x,l=d.bottom}else{const x=e.h*g,b=m.size||d.width;nm(m.start)&&(a=m.start),d.fullSize?cf(d,a,i.top,b,t.outerHeight-i.bottom-i.top):cf(d,a,e.top+m.placed,b,x),m.start=a,m.placed+=x,a=d.right}}e.x=a,e.y=l}var fa={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const i=ti(n.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(t-i.height,0),u=P9(n.boxes),d=u.vertical,m=u.horizontal;St(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const g=d.reduce((w,T)=>T.box.options&&T.box.options.display===!1?w:w+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),b=Object.assign({},i);lA(b,ti(s));const E=Object.assign({maxPadding:b,w:a,h:l,x:i.left,y:i.top},i),N=O9(d.concat(m),x);Cu(u.fullSize,E,x,N),Cu(d,E,x,N),Cu(m,E,x,N)&&Cu(d,E,x,N),V9(E),k2(u.leftAndTop,E,x,N),E.x+=E.w,E.y+=E.h,k2(u.rightAndBottom,E,x,N),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},St(u.chartArea,w=>{const T=w.box;Object.assign(T,n.chartArea),T.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class cA{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,i){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):s)}}isAttached(e){return!0}updateConfig(e){}}class U9 extends cA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const jf="$chartjs",B9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},R2=n=>n===null||n==="";function F9(n,e){const t=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[jf]={initial:{height:s,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",R2(i)){const a=g2(n,"width");a!==void 0&&(n.width=a)}if(R2(s))if(n.style.height==="")n.height=n.width/(e||2);else{const a=g2(n,"height");a!==void 0&&(n.height=a)}return n}const uA=e9?{passive:!0}:!1;function $9(n,e,t){n&&n.addEventListener(e,t,uA)}function H9(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,uA)}function G9(n,e){const t=B9[n.type]||n.type,{x:s,y:i}=uo(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function am(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function q9(n,e,t){const s=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||am(u.addedNodes,s),l=l&&!am(u.removedNodes,s);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function W9(n,e,t){const s=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||am(u.removedNodes,s),l=l&&!am(u.addedNodes,s);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const sd=new Map;let j2=0;function dA(){const n=window.devicePixelRatio;n!==j2&&(j2=n,sd.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Y9(n,e){sd.size||window.addEventListener("resize",dA),sd.set(n,e)}function K9(n){sd.delete(n),sd.size||window.removeEventListener("resize",dA)}function X9(n,e,t){const s=n.canvas,i=s&&kx(s);if(!i)return;const a=BS((u,d)=>{const m=i.clientWidth;t(u,d),m<i.clientWidth&&t()},window),l=new ResizeObserver(u=>{const d=u[0],m=d.contentRect.width,g=d.contentRect.height;m===0&&g===0||a(m,g)});return l.observe(i),Y9(n,a),l}function y0(n,e,t){t&&t.disconnect(),e==="resize"&&K9(n)}function Q9(n,e,t){const s=n.canvas,i=BS(a=>{n.ctx!==null&&t(G9(a,n))},n);return $9(s,e,i),i}class J9 extends cA{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(F9(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[jf])return!1;const s=t[jf].initial;["height","width"].forEach(a=>{const l=s[a];Pt(l)?t.removeAttribute(a):t.setAttribute(a,l)});const i=s.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[jf],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:q9,detach:W9,resize:X9}[t]||Q9;i[t]=l(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),i=s[t];if(!i)return;({attach:y0,detach:y0,resize:y0}[t]||H9)(e,t,i),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,i){return ZL(e,t,s,i)}isAttached(e){const t=e&&kx(e);return!!(t&&t.isConnected)}}function Z9(n){return!Cx()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?U9:J9}class dc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return td(this.x)&&td(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const i={};return e.forEach(a=>{i[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),i}}function eV(n,e){const t=n.options.ticks,s=tV(n),i=Math.min(t.maxTicksLimit||s,s),a=t.major.enabled?sV(e):[],l=a.length,u=a[0],d=a[l-1],m=[];if(l>i)return iV(e,m,a,l/i),m;const g=nV(a,e,i);if(l>0){let x,b;const E=l>1?Math.round((d-u)/(l-1)):null;for(uf(e,m,g,Pt(E)?0:u-E,u),x=0,b=l-1;x<b;x++)uf(e,m,g,a[x],a[x+1]);return uf(e,m,g,d,Pt(E)?e.length:d+E),m}return uf(e,m,g),m}function tV(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(s,i))}function nV(n,e,t){const s=rV(n),i=e.length/t;if(!s)return Math.max(i,1);const a=KP(s);for(let l=0,u=a.length-1;l<u;l++){const d=a[l];if(d>i)return d}return Math.max(i,1)}function sV(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function iV(n,e,t,s){let i=0,a=t[0],l;for(s=Math.ceil(s),l=0;l<n.length;l++)l===a&&(e.push(n[l]),i++,a=t[i*s])}function uf(n,e,t,s,i){const a=ht(s,0),l=Math.min(ht(i,n.length),n.length);let u=0,d,m,g;for(t=Math.ceil(t),i&&(d=i-s,t=d/Math.floor(d/t)),g=a;g<0;)u++,g=Math.round(a+u*t);for(m=Math.max(a,0);m<l;m++)m===g&&(e.push(n[m]),u++,g=Math.round(a+u*t))}function rV(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const aV=n=>n==="left"?"right":n==="right"?"left":n,I2=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,D2=(n,e)=>Math.min(e||n,n);function M2(n,e){const t=[],s=n.length/e,i=n.length;let a=0;for(;a<i;a+=s)t.push(n[Math.floor(a)]);return t}function oV(n,e,t){const s=n.ticks.length,i=Math.min(e,s-1),a=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(i),m;if(!(t&&(s===1?m=Math.max(d-a,l-d):e===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(i-1))/2,d+=i<e?m:-m,d<a-u||d>l+u)))return d}function lV(n,e){St(n,t=>{const s=t.gc,i=s.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[s[a]];s.splice(0,i)}})}function bu(n){return n.drawTicks?n.tickLength:0}function O2(n,e){if(!n.display)return 0;const t=as(n.font,e),s=ti(n.padding);return(Nn(n.text)?n.text.length:1)*t.lineHeight+s.height}function cV(n,e){return jo(n,{scale:e,type:"scale"})}function uV(n,e,t){return jo(n,{tick:t,index:e,type:"tick"})}function dV(n,e,t){let s=FS(n);return(t&&e!=="right"||!t&&e==="right")&&(s=aV(s)),s}function hV(n,e,t,s){const{top:i,left:a,bottom:l,right:u,chart:d}=n,{chartArea:m,scales:g}=d;let x=0,b,E,N;const w=l-i,T=u-a;if(n.isHorizontal()){if(E=xs(s,a,u),xt(t)){const k=Object.keys(t)[0],M=t[k];N=g[k].getPixelForValue(M)+w-e}else t==="center"?N=(m.bottom+m.top)/2+w-e:N=I2(n,t,e);b=u-a}else{if(xt(t)){const k=Object.keys(t)[0],M=t[k];E=g[k].getPixelForValue(M)-T+e}else t==="center"?E=(m.left+m.right)/2-T+e:E=I2(n,t,e);N=xs(s,l,i),x=t==="left"?-Qs:Qs}return{titleX:E,titleY:N,maxWidth:b,rotation:x}}class hc extends dc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:i}=this;return e=vi(e,Number.POSITIVE_INFINITY),t=vi(t,Number.NEGATIVE_INFINITY),s=vi(s,Number.POSITIVE_INFINITY),i=vi(i,Number.NEGATIVE_INFINITY),{min:vi(e,s),max:vi(t,i),minDefined:Gn(e),maxDefined:Gn(t)}}getMinMax(e){let{min:t,max:s,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:t,max:s};const u=this.getMatchingVisibleMetas();for(let d=0,m=u.length;d<m;++d)l=u[d].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),a||(s=Math.max(s,l.max));return t=a&&t>s?s:t,s=i&&t>s?t:s,{min:vi(t,vi(s,t)),max:vi(s,vi(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lt(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:i,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jL(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?M2(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=eV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lt(this.options.afterUpdate,[this])}beforeSetDimensions(){Lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,i,a;for(s=0,i=e.length;s<i;s++)a=e[s],a.label=Lt(t.callback,[a.value,s,e],this)}afterTickToLabelConversion(){Lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=D2(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let l=i,u,d,m;if(!this._isVisible()||!t.display||i>=a||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),x=g.widest.width,b=g.highest.height,E=Ls(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/s:E/(s-1),x+6>u&&(u=E/(s-(e.offset?.5:1)),d=this.maxHeight-bu(e.grid)-t.padding-O2(e.title,this.chart.options.font),m=Math.sqrt(x*x+b*b),l=ZP(Math.min(Math.asin(Ls((g.highest.height+6)/u,-1,1)),Math.asin(Ls(d/m,-1,1))-Math.asin(Ls(b/m,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:i,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=O2(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=bu(a)+d):(e.height=this.maxHeight,e.width=bu(a)+d),s.display&&this.ticks.length){const{first:m,last:g,widest:x,highest:b}=this._getLabelSizes(),E=s.padding*2,N=go(this.labelRotation),w=Math.cos(N),T=Math.sin(N);if(u){const k=s.mirror?0:T*x.width+w*b.height;e.height=Math.min(this.maxHeight,e.height+k+E)}else{const k=s.mirror?0:w*x.width+T*b.height;e.width=Math.min(this.maxWidth,e.width+k+E)}this._calculatePadding(m,g,T,w)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,i){const{ticks:{align:a,padding:l},position:u}=this.options,d=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,E=0;d?m?(b=i*e.width,E=s*t.height):(b=s*e.height,E=i*t.width):a==="start"?E=t.width:a==="end"?b=e.width:a!=="inner"&&(b=e.width/2,E=t.width/2),this.paddingLeft=Math.max((b-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((E-x+l)*this.width/(this.width-x),0)}else{let g=t.height/2,x=e.height/2;a==="start"?(g=0,x=e.height):a==="end"&&(g=t.height,x=0),this.paddingTop=g+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Pt(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=M2(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:i,_longestTextCache:a}=this,l=[],u=[],d=Math.floor(t/D2(t,s));let m=0,g=0,x,b,E,N,w,T,k,M,I,z,U;for(x=0;x<t;x+=d){if(N=e[x].label,w=this._resolveTickFontOptions(x),i.font=T=w.string,k=a[T]=a[T]||{data:{},gc:[]},M=w.lineHeight,I=z=0,!Pt(N)&&!Nn(N))I=d2(i,k.data,k.gc,I,N),z=M;else if(Nn(N))for(b=0,E=N.length;b<E;++b)U=N[b],!Pt(U)&&!Nn(U)&&(I=d2(i,k.data,k.gc,I,U),z+=M);l.push(I),u.push(z),m=Math.max(I,m),g=Math.max(z,g)}lV(a,t);const $=l.indexOf(m),A=u.indexOf(g),R=j=>({width:l[j]||0,height:u[j]||0});return{first:R(0),last:R(t-1),widest:R($),highest:R(A),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return nL(this._alignToPixels?oo(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=uV(this.getContext(),e,s))}return this.$context||(this.$context=cV(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=go(this.labelRotation),s=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*s>u*i?u/s:d/i:d*i<u*s?d/s:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,i=this.options,{grid:a,position:l,border:u}=i,d=a.offset,m=this.isHorizontal(),x=this.ticks.length+(d?1:0),b=bu(a),E=[],N=u.setContext(this.getContext()),w=N.display?N.width:0,T=w/2,k=function(W){return oo(s,W,w)};let M,I,z,U,$,A,R,j,V,F,O,L;if(l==="top")M=k(this.bottom),A=this.bottom-b,j=M-T,F=k(e.top)+T,L=e.bottom;else if(l==="bottom")M=k(this.top),F=e.top,L=k(e.bottom)-T,A=M+T,j=this.top+b;else if(l==="left")M=k(this.right),$=this.right-b,R=M-T,V=k(e.left)+T,O=e.right;else if(l==="right")M=k(this.left),V=e.left,O=k(e.right)-T,$=M+T,R=this.left+b;else if(t==="x"){if(l==="center")M=k((e.top+e.bottom)/2+.5);else if(xt(l)){const W=Object.keys(l)[0],ae=l[W];M=k(this.chart.scales[W].getPixelForValue(ae))}F=e.top,L=e.bottom,A=M+T,j=A+b}else if(t==="y"){if(l==="center")M=k((e.left+e.right)/2);else if(xt(l)){const W=Object.keys(l)[0],ae=l[W];M=k(this.chart.scales[W].getPixelForValue(ae))}$=M-T,R=$-b,V=e.left,O=e.right}const ge=ht(i.ticks.maxTicksLimit,x),de=Math.max(1,Math.ceil(x/ge));for(I=0;I<x;I+=de){const W=this.getContext(I),ae=a.setContext(W),we=u.setContext(W),De=ae.lineWidth,H=ae.color,ne=we.dash||[],he=we.dashOffset,re=ae.tickWidth,me=ae.tickColor,xe=ae.tickBorderDash||[],ye=ae.tickBorderDashOffset;z=oV(this,I,d),z!==void 0&&(U=oo(s,z,De),m?$=R=V=O=U:A=j=F=L=U,E.push({tx1:$,ty1:A,tx2:R,ty2:j,x1:V,y1:F,x2:O,y2:L,width:De,color:H,borderDash:ne,borderDashOffset:he,tickWidth:re,tickColor:me,tickBorderDash:xe,tickBorderDashOffset:ye}))}return this._ticksLength=x,this._borderValue=M,E}_computeLabelItems(e){const t=this.axis,s=this.options,{position:i,ticks:a}=s,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:m,padding:g,mirror:x}=a,b=bu(s.grid),E=b+g,N=x?-g:E,w=-go(this.labelRotation),T=[];let k,M,I,z,U,$,A,R,j,V,F,O,L="middle";if(i==="top")$=this.bottom-N,A=this._getXAxisLabelAlignment();else if(i==="bottom")$=this.top+N,A=this._getXAxisLabelAlignment();else if(i==="left"){const de=this._getYAxisLabelAlignment(b);A=de.textAlign,U=de.x}else if(i==="right"){const de=this._getYAxisLabelAlignment(b);A=de.textAlign,U=de.x}else if(t==="x"){if(i==="center")$=(e.top+e.bottom)/2+E;else if(xt(i)){const de=Object.keys(i)[0],W=i[de];$=this.chart.scales[de].getPixelForValue(W)+E}A=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")U=(e.left+e.right)/2-E;else if(xt(i)){const de=Object.keys(i)[0],W=i[de];U=this.chart.scales[de].getPixelForValue(W)}A=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(d==="start"?L="top":d==="end"&&(L="bottom"));const ge=this._getLabelSizes();for(k=0,M=u.length;k<M;++k){I=u[k],z=I.label;const de=a.setContext(this.getContext(k));R=this.getPixelForTick(k)+a.labelOffset,j=this._resolveTickFontOptions(k),V=j.lineHeight,F=Nn(z)?z.length:1;const W=F/2,ae=de.color,we=de.textStrokeColor,De=de.textStrokeWidth;let H=A;l?(U=R,A==="inner"&&(k===M-1?H=this.options.reverse?"left":"right":k===0?H=this.options.reverse?"right":"left":H="center"),i==="top"?m==="near"||w!==0?O=-F*V+V/2:m==="center"?O=-ge.highest.height/2-W*V+V:O=-ge.highest.height+V/2:m==="near"||w!==0?O=V/2:m==="center"?O=ge.highest.height/2-W*V:O=ge.highest.height-F*V,x&&(O*=-1),w!==0&&!de.showLabelBackdrop&&(U+=V/2*Math.sin(w))):($=R,O=(1-F)*V/2);let ne;if(de.showLabelBackdrop){const he=ti(de.backdropPadding),re=ge.heights[k],me=ge.widths[k];let xe=O-he.top,ye=0-he.left;switch(L){case"middle":xe-=re/2;break;case"bottom":xe-=re;break}switch(A){case"center":ye-=me/2;break;case"right":ye-=me;break;case"inner":k===M-1?ye-=me:k>0&&(ye-=me/2);break}ne={left:ye,top:xe,width:me+he.width,height:re+he.height,color:de.backdropColor}}T.push({label:z,font:j,textOffset:O,options:{rotation:w,color:ae,strokeColor:we,strokeWidth:De,textAlign:H,textBaseline:L,translation:[U,$],backdrop:ne}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-go(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,d=l.widest.width;let m,g;return t==="left"?i?(g=this.right+a,s==="near"?m="left":s==="center"?(m="center",g+=d/2):(m="right",g+=d)):(g=this.right-u,s==="near"?m="right":s==="center"?(m="center",g-=d/2):(m="left",g=this.left)):t==="right"?i?(g=this.left+a,s==="near"?m="right":s==="center"?(m="center",g-=d/2):(m="left",g-=d)):(g=this.left+u,s==="near"?m="left":s==="center"?(m="center",g+=d/2):(m="right",g=this.right)):m="right",{textAlign:m,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:i,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,i,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(d,m,g)=>{!g.width||!g.color||(s.save(),s.lineWidth=g.width,s.strokeStyle=g.color,s.setLineDash(g.borderDash||[]),s.lineDashOffset=g.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(m.x,m.y),s.stroke(),s.restore())};if(t.display)for(a=0,l=i.length;a<l;++a){const d=i[a];t.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:i}}=this,a=s.setContext(this.getContext()),l=s.display?a.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,g,x,b;this.isHorizontal()?(m=oo(e,this.left,l)-l/2,g=oo(e,this.right,u)+u/2,x=b=d):(x=oo(e,this.top,l)-l/2,b=oo(e,this.bottom,u)+u/2,m=g=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(m,x),t.lineTo(g,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&jm(s,i);const a=this.getLabelItems(e);for(const l of a){const u=l.options,d=l.font,m=l.label,g=l.textOffset;im(s,m,0,g,d,u)}i&&Im(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:i}}=this;if(!s.display)return;const a=as(s.font),l=ti(s.padding),u=s.align;let d=a.lineHeight/2;t==="bottom"||t==="center"||xt(t)?(d+=l.bottom,Nn(s.text)&&(d+=a.lineHeight*(s.text.length-1))):d+=l.top;const{titleX:m,titleY:g,maxWidth:x,rotation:b}=hV(this,d,t,u);im(e,s.text,0,0,a,{color:s.color,maxWidth:x,rotation:b,textAlign:dV(u,t,i),textBaseline:"middle",translation:[m,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=ht(e.grid&&e.grid.z,-1),i=ht(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==hc.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[s]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return as(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class df{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;pV(t)&&(s=this.register(t));const i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,fV(e,l,s),this.override&&en.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,i=this.scope;s in t&&delete t[s],i&&s in en[i]&&(delete en[i][s],this.override&&delete So[s])}}function fV(n,e,t){const s=ed(Object.create(null),[t?en.get(t):{},en.get(e),n.defaults]);en.set(e,s),n.defaultRoutes&&mV(e,n.defaultRoutes),n.descriptors&&en.describe(e,n.descriptors)}function mV(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),i=s.pop(),a=[n].concat(s).join("."),l=e[t].split("."),u=l.pop(),d=l.join(".");en.route(a,i,d,u)})}function pV(n){return"id"in n&&"defaults"in n}class gV{constructor(){this.controllers=new df(aA,"datasets",!0),this.elements=new df(dc,"elements"),this.plugins=new df(Object,"plugins"),this.scales=new df(hc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(i=>{const a=s||this._getRegistryForType(i);s||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):St(i,l=>{const u=s||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,s){const i=wx(e);Lt(s["before"+i],[],s),t[e](s),Lt(s["after"+i],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var wi=new gV;class yV{constructor(){this._init=void 0}notify(e,t,s,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,t,s);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,s,i){i=i||{};for(const a of e){const l=a.plugin,u=l[s],d=[t,i,a.options];if(Lt(u,d,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,i=ht(s.options&&s.options.plugins,{}),a=xV(s);return i===!1&&!t?[]:vV(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,i=(a,l)=>a.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(i(t,s),e,"stop"),this._notify(i(s,t),e,"start")}}function xV(n){const e={},t=[],s=Object.keys(wi.plugins.items);for(let a=0;a<s.length;a++)t.push(wi.getPlugin(s[a]));const i=n.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function bV(n,e){return!e&&n===!1?null:n===!0?{}:n}function vV(n,{plugins:e,localIds:t},s,i){const a=[],l=n.getContext();for(const u of e){const d=u.id,m=bV(s[d],i);m!==null&&a.push({plugin:u,options:_V(n.config,{plugin:u,local:t[d]},m,l)})}return a}function _V(n,{plugin:e,local:t},s,i){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(s,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ly(n,e){const t=en.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function wV(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function EV(n,e){return n===e?"_index_":"_value_"}function P2(n){if(n==="x"||n==="y"||n==="r")return n}function TV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function cy(n,...e){if(P2(n))return n;for(const t of e){const s=t.axis||TV(t.position)||n.length>1&&P2(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function L2(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function NV(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return L2(n,"x",t[0])||L2(n,"y",t[0])}return{}}function SV(n,e){const t=So[n.type]||{scales:{}},s=e.scales||{},i=ly(n.type,e),a=Object.create(null);return Object.keys(s).forEach(l=>{const u=s[l];if(!xt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=cy(l,u,NV(l,n),en.scales[u.type]),m=EV(d,i),g=t.scales||{};a[l]=Pu(Object.create(null),[{axis:d},u,g[d],g[m]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||ly(u,e),g=(So[u]||{}).scales||{};Object.keys(g).forEach(x=>{const b=wV(x,d),E=l[b+"AxisID"]||b;a[E]=a[E]||Object.create(null),Pu(a[E],[{axis:b},s[E],g[x]])})}),Object.keys(a).forEach(l=>{const u=a[l];Pu(u,[en.scales[u.type],en.scale])}),a}function hA(n){const e=n.options||(n.options={});e.plugins=ht(e.plugins,{}),e.scales=SV(n,e)}function fA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function AV(n){return n=n||{},n.data=fA(n.data),hA(n),n}const V2=new Map,mA=new Set;function hf(n,e){let t=V2.get(n);return t||(t=e(),V2.set(n,t),mA.add(t)),t}const vu=(n,e,t)=>{const s=tm(e,t);s!==void 0&&n.add(s)};let CV=class{constructor(e){this._config=AV(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return hf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return hf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return hf(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let i=s.get(e);return(!i||t)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,t,s){const{options:i,type:a}=this,l=this._cachedScopes(e,s),u=l.get(t);if(u)return u;const d=new Set;t.forEach(g=>{e&&(d.add(e),g.forEach(x=>vu(d,e,x))),g.forEach(x=>vu(d,i,x)),g.forEach(x=>vu(d,So[a]||{},x)),g.forEach(x=>vu(d,en,x)),g.forEach(x=>vu(d,ry,x))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),mA.has(t)&&l.set(t,m),m}chartOptionScopes(){const{options:e,type:t}=this;return[e,So[t]||{},en.datasets[t]||{},{type:t},en,ry]}resolveNamedOptions(e,t,s,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=z2(this._resolverCache,e,i);let d=l;if(RV(l,t)){a.$shared=!1,s=Aa(s)?s():s;const m=this.createResolver(e,s,u);d=Wl(l,s,m)}for(const m of t)a[m]=d[m];return a}createResolver(e,t,s=[""],i){const{resolver:a}=z2(this._resolverCache,e,s);return xt(t)?Wl(a,t,void 0,i):a}};function z2(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const i=t.join();let a=s.get(i);return a||(a={resolver:Nx(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},s.set(i,a)),a}const kV=n=>xt(n)&&Object.getOwnPropertyNames(n).some(e=>Aa(n[e]));function RV(n,e){const{isScriptable:t,isIndexable:s}=WS(n);for(const i of e){const a=t(i),l=s(i),u=(l||a)&&n[i];if(a&&(Aa(u)||kV(u))||l&&Nn(u))return!0}return!1}var jV="4.5.1";const IV=["top","bottom","left","right","chartArea"];function U2(n,e){return n==="top"||n==="bottom"||IV.indexOf(n)===-1&&e==="x"}function B2(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function F2(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Lt(t&&t.onComplete,[n],e)}function DV(n){const e=n.chart,t=e.options.animation;Lt(t&&t.onProgress,[n],e)}function pA(n){return Cx()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const If={},$2=n=>{const e=pA(n);return Object.values(If).filter(t=>t.canvas===e).pop()};function MV(n,e,t){const s=Object.keys(n);for(const i of s){const a=+i;if(a>=e){const l=n[i];delete n[i],(t>0||a>e)&&(n[a+t]=l)}}}function OV(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}let Om=class{static defaults=en;static instances=If;static overrides=So;static registry=wi;static version=jV;static getChart=$2;static register(...e){wi.add(...e),H2()}static unregister(...e){wi.remove(...e),H2()}constructor(e,t){const s=this.config=new CV(t),i=pA(e),a=$2(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Z9(i)),this.platform.updateConfig(s);const u=this.platform.acquireContext(i,l.aspectRatio),d=u&&u.canvas,m=d&&d.height,g=d&&d.width;if(this.id=UP(),this.ctx=u,this.canvas=d,this.width=g,this.height=m,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=oL(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],If[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}or.listen(this,"complete",F2),or.listen(this,"progress",DV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:i,_aspectRatio:a}=this;return Pt(e)?t&&a?a:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():p2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return h2(this.canvas,this.ctx),this}stop(){return or.stop(this),this}resize(e,t){or.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,i=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,a),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,p2(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Lt(s.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};St(t,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,i=Object.keys(s).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],d=cy(l,u),m=d==="r",g=d==="x";return{options:u,dposition:m?"chartArea":g?"bottom":"left",dtype:m?"radialLinear":g?"category":"linear"}}))),St(a,l=>{const u=l.options,d=u.id,m=cy(d,u),g=ht(u.type,l.dtype);(u.position===void 0||U2(u.position,m)!==U2(l.dposition))&&(u.position=l.dposition),i[d]=!0;let x=null;if(d in s&&s[d].type===g)x=s[d];else{const b=wi.getScale(g);x=new b({id:d,type:g,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,e)}),St(i,(l,u)=>{l||delete s[u]}),St(s,l=>{fa.configure(this,l,l.options),fa.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((i,a)=>i.index-a.index),s>t){for(let i=t;i<s;++i)this._destroyDatasetMeta(i);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(B2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,i)=>{t.filter(a=>a===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=t.length;s<i;s++){const a=t[s];let l=this.getDatasetMeta(s);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=u,l.indexAxis=a.indexAxis||ly(u,this.options),l.order=a.order||0,l.index=s,l.label=""+a.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const d=wi.getController(u),{datasetElementType:m,dataElementType:g}=en.datasets[u];Object.assign(d,{dataElementType:wi.getElement(g),datasetElementType:m&&wi.getElement(m)}),l.controller=new d(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){St(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let m=0,g=this.data.datasets.length;m<g;m++){const{controller:x}=this.getDatasetMeta(m),b=!i&&a.indexOf(x)===-1;x.buildOrUpdateElements(b),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),i||St(a,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(B2("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){St(this.scales,e=>{fa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!n2(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:a}of t){const l=s==="_removeElements"?-a:a;MV(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),i=s(0);for(let a=1;a<t;a++)if(!n2(i,s(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fa.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],St(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Aa(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(or.has(this)?this.attached&&!or.running(this)&&or.start(this):(this.draw(),F2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=sA(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&jm(t,i),e.controller.draw(),i&&Im(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return nd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,i){const a=I9.modes[t];return typeof a=="function"?a(this,e,s,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let i=s.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=jo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const i=s?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);nm(t)?(a.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(a,{visible:s}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),or.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),h2(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete If[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},i=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};St(this.options.events,a=>s(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(d,m)=>{t.addEventListener(this,d,m),e[d]=m},i=(d,m)=>{e[d]&&(t.removeEventListener(this,d,m),delete e[d])},a=(d,m)=>{this.canvas&&this.resize(d,m)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),s("resize",a),s("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),s("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){St(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},St(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const i=s?"set":"remove";let a,l,u,d;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const m=l&&this.getDatasetMeta(l.datasetIndex).controller;m&&m[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Zf(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const i=this.options.hover,a=(d,m)=>d.filter(g=>!m.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),l=a(t,e),u=s?e:a(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const a=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(a||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:i=[],options:a}=this,l=t,u=this._getActiveElements(e,i,s,l),d=qP(e),m=OV(e,this._lastEvent,s,d);s&&(this._lastEvent=null,Lt(a.onHover,[e,u,this],this),d&&Lt(a.onClick,[e,u,this],this));const g=!Zf(u,i);return(g||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=m,g}_getActiveElements(e,t,s,i){if(e.type==="mouseout")return[];if(!s)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}};function H2(){return St(Om.instances,n=>n._plugins.invalidate())}function gA(n,e,t=e){n.lineCap=ht(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ht(t.borderDash,e.borderDash)),n.lineDashOffset=ht(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ht(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ht(t.borderWidth,e.borderWidth),n.strokeStyle=ht(t.borderColor,e.borderColor)}function PV(n,e,t){n.lineTo(t.x,t.y)}function LV(n){return n.stepped?_L:n.tension||n.cubicInterpolationMode==="monotone"?wL:PV}function yA(n,e,t={}){const s=n.length,{start:i=0,end:a=s-1}=t,{start:l,end:u}=e,d=Math.max(i,l),m=Math.min(a,u),g=i<l&&a<l||i>u&&a>u;return{count:s,start:d,loop:e.loop,ilen:m<d&&!g?s+m-d:m-d}}function VV(n,e,t,s){const{points:i,options:a}=e,{count:l,start:u,loop:d,ilen:m}=yA(i,t,s),g=LV(a);let{move:x=!0,reverse:b}=s||{},E,N,w;for(E=0;E<=m;++E)N=i[(u+(b?m-E:E))%l],!N.skip&&(x?(n.moveTo(N.x,N.y),x=!1):g(n,w,N,b,a.stepped),w=N);return d&&(N=i[(u+(b?m:0))%l],g(n,w,N,b,a.stepped)),!!d}function zV(n,e,t,s){const i=e.points,{count:a,start:l,ilen:u}=yA(i,t,s),{move:d=!0,reverse:m}=s||{};let g=0,x=0,b,E,N,w,T,k;const M=z=>(l+(m?u-z:z))%a,I=()=>{w!==T&&(n.lineTo(g,T),n.lineTo(g,w),n.lineTo(g,k))};for(d&&(E=i[M(0)],n.moveTo(E.x,E.y)),b=0;b<=u;++b){if(E=i[M(b)],E.skip)continue;const z=E.x,U=E.y,$=z|0;$===N?(U<w?w=U:U>T&&(T=U),g=(x*g+z)/++x):(I(),n.lineTo(z,U),N=$,x=0,w=T=U),k=U}I()}function uy(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?zV:VV}function UV(n){return n.stepped?t9:n.tension||n.cubicInterpolationMode==="monotone"?n9:ho}function BV(n,e,t,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,s)&&i.closePath()),gA(n,e.options),n.stroke(i)}function FV(n,e,t,s){const{segments:i,options:a}=e,l=uy(e);for(const u of i)gA(n,a,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const $V=typeof Path2D=="function";function HV(n,e,t,s){$V&&!e.options.segment?BV(n,e,t,s):FV(n,e,t,s)}class Pm extends dc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;WL(this._points,s,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=l9(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,i=e[t],a=this.points,l=nA(this,{property:t,start:i,end:i});if(!l.length)return;const u=[],d=UV(s);let m,g;for(m=0,g=l.length;m<g;++m){const{start:x,end:b}=l[m],E=a[x],N=a[b];if(E===N){u.push(E);continue}const w=Math.abs((i-E[t])/(N[t]-E[t])),T=d(E,N,w,s.stepped);T[t]=e[t],u.push(T)}return u.length===1?u[0]:u}pathSegment(e,t,s){return uy(this)(e,this,t,s)}path(e,t,s){const i=this.segments,a=uy(this);let l=this._loop;t=t||0,s=s||this.points.length-t;for(const u of i)l&=a(e,this,u,{start:t,end:t+s-1});return!!l}draw(e,t,s,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),HV(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function G2(n,e,t,s){const i=n.options,{[t]:a}=n.getProps([t],s);return Math.abs(e-a)<i.radius+i.hitRadius}class GV extends dc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(e-a,2)+Math.pow(t-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return G2(this,e,"x",t)}inYRange(e,t){return G2(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!nd(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,ay(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function qV(n,e,t){const s=n.segments,i=n.points,a=e.points,l=[];for(const u of s){let{start:d,end:m}=u;m=Lm(d,m,i);const g=dy(t,i[d],i[m],u.loop);if(!e.segments){l.push({source:u,target:g,start:i[d],end:i[m]});continue}const x=nA(e,g);for(const b of x){const E=dy(t,a[b.start],a[b.end],b.loop),N=tA(u,i,E);for(const w of N)l.push({source:w,target:b,start:{[t]:q2(g,E,"start",Math.max)},end:{[t]:q2(g,E,"end",Math.min)}})}}return l}function dy(n,e,t,s){if(s)return;let i=e[n],a=t[n];return n==="angle"&&(i=Ti(i),a=Ti(a)),{property:n,start:i,end:a}}function WV(n,e){const{x:t=null,y:s=null}=n||{},i=e.points,a=[];return e.segments.forEach(({start:l,end:u})=>{u=Lm(l,u,i);const d=i[l],m=i[u];s!==null?(a.push({x:d.x,y:s}),a.push({x:m.x,y:s})):t!==null&&(a.push({x:t,y:d.y}),a.push({x:t,y:m.y}))}),a}function Lm(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function q2(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function xA(n,e){let t=[],s=!1;return Nn(n)?(s=!0,t=n):t=WV(n,e),t.length?new Pm({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function W2(n){return n&&n.fill!==!1}function YV(n,e,t){let i=n[e].fill;const a=[e];let l;if(!t)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!Gn(i))return i;if(l=n[i],!l)return!1;if(l.visible)return i;a.push(i),i=l.fill}return!1}function KV(n,e,t){const s=ZV(n);if(xt(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Gn(i)&&Math.floor(i)===i?XV(s[0],e,i,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function XV(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function QV(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:xt(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function JV(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:xt(n)?s=n.value:s=e.getBaseValue(),s}function ZV(n){const e=n.options,t=e.fill;let s=ht(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function e8(n){const{scale:e,index:t,line:s}=n,i=[],a=s.segments,l=s.points,u=t8(e,t);u.push(xA({x:null,y:e.bottom},s));for(let d=0;d<a.length;d++){const m=a[d];for(let g=m.start;g<=m.end;g++)n8(i,l[g],u)}return new Pm({points:i,options:{}})}function t8(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const a=s[i];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function n8(n,e,t){const s=[];for(let i=0;i<t.length;i++){const a=t[i],{first:l,last:u,point:d}=s8(a,e,"x");if(!(!d||l&&u)){if(l)s.unshift(d);else if(n.push(d),!u)break}}n.push(...s)}function s8(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const i=s[t],a=n.segments,l=n.points;let u=!1,d=!1;for(let m=0;m<a.length;m++){const g=a[m],x=l[g.start][t],b=l[g.end][t];if(Rl(i,x,b)){u=i===x,d=i===b;break}}return{first:u,last:d,point:s}}class bA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:i,y:a,radius:l}=this;return t=t||{start:0,end:Js},e.arc(i,a,l,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:i}=this,a=e.angle;return{x:t+Math.cos(a)*i,y:s+Math.sin(a)*i,angle:a}}}function i8(n){const{chart:e,fill:t,line:s}=n;if(Gn(t))return r8(e,t);if(t==="stack")return e8(n);if(t==="shape")return!0;const i=a8(n);return i instanceof bA?i:xA(i,s)}function r8(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function a8(n){return(n.scale||{}).getPointPositionForValue?l8(n):o8(n)}function o8(n){const{scale:e={},fill:t}=n,s=QV(t,e);if(Gn(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function l8(n){const{scale:e,fill:t}=n,s=e.options,i=e.getLabels().length,a=s.reverse?e.max:e.min,l=JV(t,e,a),u=[];if(s.grid.circular){const d=e.getPointPositionForValue(0,a);return new bA({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<i;++d)u.push(e.getPointPositionForValue(d,l));return u}function x0(n,e,t){const s=i8(e),{chart:i,index:a,line:l,scale:u,axis:d}=e,m=l.options,g=m.fill,x=m.backgroundColor,{above:b=x,below:E=x}=g||{},N=i.getDatasetMeta(a),w=sA(i,N);s&&l.points.length&&(jm(n,t),c8(n,{line:l,target:s,above:b,below:E,area:t,scale:u,axis:d,clip:w}),Im(n))}function c8(n,e){const{line:t,target:s,above:i,below:a,area:l,scale:u,clip:d}=e,m=t._loop?"angle":e.axis;n.save();let g=a;a!==i&&(m==="x"?(Y2(n,s,l.top),b0(n,{line:t,target:s,color:i,scale:u,property:m,clip:d}),n.restore(),n.save(),Y2(n,s,l.bottom)):m==="y"&&(K2(n,s,l.left),b0(n,{line:t,target:s,color:a,scale:u,property:m,clip:d}),n.restore(),n.save(),K2(n,s,l.right),g=i)),b0(n,{line:t,target:s,color:g,scale:u,property:m,clip:d}),n.restore()}function Y2(n,e,t){const{segments:s,points:i}=e;let a=!0,l=!1;n.beginPath();for(const u of s){const{start:d,end:m}=u,g=i[d],x=i[Lm(d,m,i)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(x.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function K2(n,e,t){const{segments:s,points:i}=e;let a=!0,l=!1;n.beginPath();for(const u of s){const{start:d,end:m}=u,g=i[d],x=i[Lm(d,m,i)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(t,g.y),n.lineTo(g.x,g.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(t,x.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function b0(n,e){const{line:t,target:s,property:i,color:a,scale:l,clip:u}=e,d=qV(t,s,i);for(const{source:m,target:g,start:x,end:b}of d){const{style:{backgroundColor:E=a}={}}=m,N=s!==!0;n.save(),n.fillStyle=E,u8(n,l,u,N&&dy(i,x,b)),n.beginPath();const w=!!t.pathSegment(n,m);let T;if(N){w?n.closePath():X2(n,s,b,i);const k=!!s.pathSegment(n,g,{move:w,reverse:!0});T=w&&k,T||X2(n,s,x,i)}n.closePath(),n.fill(T?"evenodd":"nonzero"),n.restore()}}function u8(n,e,t,s){const i=e.chart.chartArea,{property:a,start:l,end:u}=s||{};if(a==="x"||a==="y"){let d,m,g,x;a==="x"?(d=l,m=i.top,g=u,x=i.bottom):(d=i.left,m=l,g=i.right,x=u),n.beginPath(),t&&(d=Math.max(d,t.left),g=Math.min(g,t.right),m=Math.max(m,t.top),x=Math.min(x,t.bottom)),n.rect(d,m,g-d,x-m),n.clip()}}function X2(n,e,t,s){const i=e.interpolate(t,s);i&&n.lineTo(i.x,i.y)}var d8={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,i=[];let a,l,u,d;for(l=0;l<s;++l)a=n.getDatasetMeta(l),u=a.dataset,d=null,u&&u.options&&u instanceof Pm&&(d={visible:n.isDatasetVisible(l),index:l,fill:KV(u,l,s),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=d,i.push(d);for(l=0;l<s;++l)d=i[l],!(!d||d.fill===!1)&&(d.fill=YV(i,l,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=i.length-1;l>=0;--l){const u=i[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),s&&u.fill&&x0(n.ctx,u,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const a=s[i].$filler;W2(a)&&x0(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!W2(s)||t.drawTime!=="beforeDatasetDraw"||x0(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Q2=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},h8=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class J2 extends dc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Lt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=as(s.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=Q2(s,a);let m,g;t.font=i.string,this.isHorizontal()?(m=this.maxWidth,g=this._fitRows(l,a,u,d)+10):(g=this.maxHeight,m=this._fitCols(l,i,u,d)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,i){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],g=i+u;let x=e;a.textAlign="left",a.textBaseline="middle";let b=-1,E=-g;return this.legendItems.forEach((N,w)=>{const T=s+t/2+a.measureText(N.text).width;(w===0||m[m.length-1]+T+2*u>l)&&(x+=g,m[m.length-(w>0?0:1)]=0,E+=g,b++),d[w]={left:0,top:E,row:b,width:T,height:i},m[m.length-1]+=T+u}),x}_fitCols(e,t,s,i){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],g=l-e;let x=u,b=0,E=0,N=0,w=0;return this.legendItems.forEach((T,k)=>{const{itemWidth:M,itemHeight:I}=f8(s,t,a,T,i);k>0&&E+I+2*u>g&&(x+=b+u,m.push({width:b,height:E}),N+=b+u,w++,b=E=0),d[k]={left:N,top:E,col:w,width:M,height:I},b=Math.max(b,M),E+=I+u}),x+=b,m.push({width:b,height:E}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:i},rtl:a}}=this,l=Pl(a,this.left,this.width);if(this.isHorizontal()){let u=0,d=xs(s,this.left+i,this.right-this.lineWidths[u]);for(const m of t)u!==m.row&&(u=m.row,d=xs(s,this.left+i,this.right-this.lineWidths[u])),m.top+=this.top+e+i,m.left=l.leftForLtr(l.x(d),m.width),d+=m.width+i}else{let u=0,d=xs(s,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const m of t)m.col!==u&&(u=m.col,d=xs(s,this.top+e+i,this.bottom-this.columnSizes[u].height)),m.top=d,m.left+=this.left+i,m.left=l.leftForLtr(l.x(m.left),m.width),d+=m.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;jm(e,this),this._draw(),Im(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:i}=this,{align:a,labels:l}=e,u=en.color,d=Pl(e.rtl,this.left,this.width),m=as(l.font),{padding:g}=l,x=m.size,b=x/2;let E;this.drawTitle(),i.textAlign=d.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=m.string;const{boxWidth:N,boxHeight:w,itemHeight:T}=Q2(l,x),k=function($,A,R){if(isNaN(N)||N<=0||isNaN(w)||w<0)return;i.save();const j=ht(R.lineWidth,1);if(i.fillStyle=ht(R.fillStyle,u),i.lineCap=ht(R.lineCap,"butt"),i.lineDashOffset=ht(R.lineDashOffset,0),i.lineJoin=ht(R.lineJoin,"miter"),i.lineWidth=j,i.strokeStyle=ht(R.strokeStyle,u),i.setLineDash(ht(R.lineDash,[])),l.usePointStyle){const V={radius:w*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:j},F=d.xPlus($,N/2),O=A+b;GS(i,V,F,O,l.pointStyleWidth&&N)}else{const V=A+Math.max((x-w)/2,0),F=d.leftForLtr($,N),O=Uu(R.borderRadius);i.beginPath(),Object.values(O).some(L=>L!==0)?oy(i,{x:F,y:V,w:N,h:w,radius:O}):i.rect(F,V,N,w),i.fill(),j!==0&&i.stroke()}i.restore()},M=function($,A,R){im(i,R.text,$,A+T/2,m,{strikethrough:R.hidden,textAlign:d.textAlign(R.textAlign)})},I=this.isHorizontal(),z=this._computeTitleHeight();I?E={x:xs(a,this.left+g,this.right-s[0]),y:this.top+g+z,line:0}:E={x:this.left+g,y:xs(a,this.top+z+g,this.bottom-t[0].height),line:0},JS(this.ctx,e.textDirection);const U=T+g;this.legendItems.forEach(($,A)=>{i.strokeStyle=$.fontColor,i.fillStyle=$.fontColor;const R=i.measureText($.text).width,j=d.textAlign($.textAlign||($.textAlign=l.textAlign)),V=N+b+R;let F=E.x,O=E.y;d.setWidth(this.width),I?A>0&&F+V+g>this.right&&(O=E.y+=U,E.line++,F=E.x=xs(a,this.left+g,this.right-s[E.line])):A>0&&O+U>this.bottom&&(F=E.x=F+t[E.line].width+g,E.line++,O=E.y=xs(a,this.top+z+g,this.bottom-t[E.line].height));const L=d.x(F);if(k(L,O,$),F=lL(j,F+N+b,I?F+V:this.right,e.rtl),M(d.x(F),O,$),I)E.x+=V+g;else if(typeof $.text!="string"){const ge=m.lineHeight;E.y+=vA($,ge)+g}else E.y+=U}),ZS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=as(t.font),i=ti(t.padding);if(!t.display)return;const a=Pl(e.rtl,this.left,this.width),l=this.ctx,u=t.position,d=s.size/2,m=i.top+d;let g,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+m,x=xs(e.align,x,this.right-b);else{const N=this.columnSizes.reduce((w,T)=>Math.max(w,T.height),0);g=m+xs(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const E=xs(u,x,x+b);l.textAlign=a.textAlign(FS(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=s.string,im(l,t.text,E,g,s)}_computeTitleHeight(){const e=this.options.title,t=as(e.font),s=ti(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,i,a;if(Rl(e,this.left,this.right)&&Rl(t,this.top,this.bottom)){for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(i=a[s],Rl(e,i.left,i.left+i.width)&&Rl(t,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!g8(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=h8(i,s);i&&!a&&Lt(t.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!a&&Lt(t.onHover,[e,s,this],this)}else s&&Lt(t.onClick,[e,s,this],this)}}function f8(n,e,t,s,i){const a=m8(s,n,e,t),l=p8(i,s,e.lineHeight);return{itemWidth:a,itemHeight:l}}function m8(n,e,t,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+s.measureText(i).width}function p8(n,e,t){let s=n;return typeof e.text!="string"&&(s=vA(e,t)),s}function vA(n,e){const t=n.text?n.text.length:0;return e*t}function g8(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var y8={id:"legend",_element:J2,start(n,e,t){const s=n.legend=new J2({ctx:n.ctx,options:t,chart:n});fa.configure(n,s,t),fa.addBox(n,s)},stop(n){fa.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;fa.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,i=t.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:i,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(t?0:void 0),g=ti(m.borderWidth);return{text:e[d.index].label,fillStyle:m.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:m.borderColor,pointStyle:s||m.pointStyle,rotation:m.rotation,textAlign:i||m.textAlign,borderRadius:l&&(u||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const ku={average(n){if(!n.length)return!1;let e,t,s=new Set,i=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();s.add(d.x),i+=d.y,++a}}return a===0||s.size===0?!1:{x:[...s].reduce((u,d)=>u+d)/s.size,y:i/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,i=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const d=n[a].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),g=iy(e,m);g<i&&(i=g,u=d)}}if(u){const d=u.tooltipPosition();t=d.x,s=d.y}return{x:t,y:s}}};function _i(n,e){return e&&(Nn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function lr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function x8(n,e){const{element:t,datasetIndex:s,index:i}=e,a=n.getDatasetMeta(s).controller,{label:l,value:u}=a.getLabelAndValue(i);return{chart:n,label:l,parsed:a.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:s,element:t}}function Z2(n,e){const t=n.chart.ctx,{body:s,footer:i,title:a}=n,{boxWidth:l,boxHeight:u}=e,d=as(e.bodyFont),m=as(e.titleFont),g=as(e.footerFont),x=a.length,b=i.length,E=s.length,N=ti(e.padding);let w=N.height,T=0,k=s.reduce((z,U)=>z+U.before.length+U.lines.length+U.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,x&&(w+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),k){const z=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;w+=E*z+(k-E)*d.lineHeight+(k-1)*e.bodySpacing}b&&(w+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let M=0;const I=function(z){T=Math.max(T,t.measureText(z).width+M)};return t.save(),t.font=m.string,St(n.title,I),t.font=d.string,St(n.beforeBody.concat(n.afterBody),I),M=e.displayColors?l+2+e.boxPadding:0,St(s,z=>{St(z.before,I),St(z.lines,I),St(z.after,I)}),M=0,t.font=g.string,St(n.footer,I),t.restore(),T+=N.width,{width:T,height:w}}function b8(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function v8(n,e,t,s){const{x:i,width:a}=s,l=t.caretSize+t.caretPadding;if(n==="left"&&i+a+l>e.width||n==="right"&&i-a-l<0)return!0}function _8(n,e,t,s){const{x:i,width:a}=t,{width:l,chartArea:{left:u,right:d}}=n;let m="center";return s==="center"?m=i<=(u+d)/2?"left":"right":i<=a/2?m="left":i>=l-a/2&&(m="right"),v8(m,n,e,t)&&(m="center"),m}function eE(n,e,t){const s=t.yAlign||e.yAlign||b8(n,t);return{xAlign:t.xAlign||e.xAlign||_8(n,e,t,s),yAlign:s}}function w8(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function E8(n,e,t){let{y:s,height:i}=n;return e==="top"?s+=t:e==="bottom"?s-=i+t:s-=i/2,s}function tE(n,e,t,s){const{caretSize:i,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:d}=t,m=i+a,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:E}=Uu(l);let N=w8(e,u);const w=E8(e,d,m);return d==="center"?u==="left"?N+=m:u==="right"&&(N-=m):u==="left"?N-=Math.max(g,b)+i:u==="right"&&(N+=Math.max(x,E)+i),{x:Ls(N,0,s.width-e.width),y:Ls(w,0,s.height-e.height)}}function ff(n,e,t){const s=ti(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function nE(n){return _i([],lr(n))}function T8(n,e,t){return jo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function sE(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const _A={beforeTitle:ar,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:ar,beforeBody:ar,beforeLabel:ar,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Pt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ar,afterBody:ar,beforeFooter:ar,footer:ar,afterFooter:ar};function ns(n,e,t,s){const i=n[e].call(t,s);return typeof i>"u"?_A[e].call(t,s):i}class iE extends dc{static positioners=ku;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&t.options.animation&&s.animations,a=new iA(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=T8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,i=ns(s,"beforeTitle",this,e),a=ns(s,"title",this,e),l=ns(s,"afterTitle",this,e);let u=[];return u=_i(u,lr(i)),u=_i(u,lr(a)),u=_i(u,lr(l)),u}getBeforeBody(e,t){return nE(ns(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,i=[];return St(e,a=>{const l={before:[],lines:[],after:[]},u=sE(s,a);_i(l.before,lr(ns(u,"beforeLabel",this,a))),_i(l.lines,ns(u,"label",this,a)),_i(l.after,lr(ns(u,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(e,t){return nE(ns(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,i=ns(s,"beforeFooter",this,e),a=ns(s,"footer",this,e),l=ns(s,"afterFooter",this,e);let u=[];return u=_i(u,lr(i)),u=_i(u,lr(a)),u=_i(u,lr(l)),u}_createItems(e){const t=this._active,s=this.chart.data,i=[],a=[],l=[];let u=[],d,m;for(d=0,m=t.length;d<m;++d)u.push(x8(this.chart,t[d]));return e.filter&&(u=u.filter((g,x,b)=>e.filter(g,x,b,s))),e.itemSort&&(u=u.sort((g,x)=>e.itemSort(g,x,s))),St(u,g=>{const x=sE(e.callbacks,g);i.push(ns(x,"labelColor",this,g)),a.push(ns(x,"labelPointStyle",this,g)),l.push(ns(x,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const s=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=ku[s.position].call(this,i,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const d=this._size=Z2(this,s),m=Object.assign({},u,d),g=eE(this.chart,s,m),x=tE(s,m,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:x.x,y:x.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,i){const a=this.getCaretPosition(e,s,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,s){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:u}=s,{topLeft:d,topRight:m,bottomLeft:g,bottomRight:x}=Uu(u),{x:b,y:E}=e,{width:N,height:w}=t;let T,k,M,I,z,U;return a==="center"?(z=E+w/2,i==="left"?(T=b,k=T-l,I=z+l,U=z-l):(T=b+N,k=T+l,I=z-l,U=z+l),M=T):(i==="left"?k=b+Math.max(d,g)+l:i==="right"?k=b+N-Math.max(m,x)-l:k=this.caretX,a==="top"?(I=E,z=I-l,T=k-l,M=k+l):(I=E+w,z=I+l,T=k+l,M=k-l),U=I),{x1:T,x2:k,x3:M,y1:I,y2:z,y3:U}}drawTitle(e,t,s){const i=this.title,a=i.length;let l,u,d;if(a){const m=Pl(s.rtl,this.x,this.width);for(e.x=ff(this,s.titleAlign,s),t.textAlign=m.textAlign(s.titleAlign),t.textBaseline="middle",l=as(s.titleFont),u=s.titleSpacing,t.fillStyle=s.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(i[d],m.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===a&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,t,s,i,a){const l=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:d,boxWidth:m}=a,g=as(a.bodyFont),x=ff(this,"left",a),b=i.x(x),E=d<g.lineHeight?(g.lineHeight-d)/2:0,N=t.y+E;if(a.usePointStyle){const w={radius:Math.min(m,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},T=i.leftForLtr(b,m)+m/2,k=N+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ay(e,w,T,k),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,ay(e,w,T,k)}else{e.lineWidth=xt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const w=i.leftForLtr(b,m),T=i.leftForLtr(i.xPlus(b,1),m-2),k=Uu(l.borderRadius);Object.values(k).some(M=>M!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,oy(e,{x:w,y:N,w:m,h:d,radius:k}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),oy(e,{x:T,y:N+1,w:m-2,h:d-2,radius:k}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(w,N,m,d),e.strokeRect(w,N,m,d),e.fillStyle=l.backgroundColor,e.fillRect(T,N+1,m-2,d-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:m,boxPadding:g}=s,x=as(s.bodyFont);let b=x.lineHeight,E=0;const N=Pl(s.rtl,this.x,this.width),w=function(R){t.fillText(R,N.x(e.x+E),e.y+b/2),e.y+=b+a},T=N.textAlign(l);let k,M,I,z,U,$,A;for(t.textAlign=l,t.textBaseline="middle",t.font=x.string,e.x=ff(this,T,s),t.fillStyle=s.bodyColor,St(this.beforeBody,w),E=u&&T!=="right"?l==="center"?m/2+g:m+2+g:0,z=0,$=i.length;z<$;++z){for(k=i[z],M=this.labelTextColors[z],t.fillStyle=M,St(k.before,w),I=k.lines,u&&I.length&&(this._drawColorBox(t,e,z,N,s),b=Math.max(x.lineHeight,d)),U=0,A=I.length;U<A;++U)w(I[U]),b=x.lineHeight;St(k.after,w)}E=0,b=x.lineHeight,St(this.afterBody,w),e.y-=a}drawFooter(e,t,s){const i=this.footer,a=i.length;let l,u;if(a){const d=Pl(s.rtl,this.x,this.width);for(e.x=ff(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=d.textAlign(s.footerAlign),t.textBaseline="middle",l=as(s.footerFont),t.fillStyle=s.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(i[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,t,s,i){const{xAlign:a,yAlign:l}=this,{x:u,y:d}=e,{width:m,height:g}=s,{topLeft:x,topRight:b,bottomLeft:E,bottomRight:N}=Uu(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+x,d),l==="top"&&this.drawCaret(e,t,s,i),t.lineTo(u+m-b,d),t.quadraticCurveTo(u+m,d,u+m,d+b),l==="center"&&a==="right"&&this.drawCaret(e,t,s,i),t.lineTo(u+m,d+g-N),t.quadraticCurveTo(u+m,d+g,u+m-N,d+g),l==="bottom"&&this.drawCaret(e,t,s,i),t.lineTo(u+E,d+g),t.quadraticCurveTo(u,d+g,u,d+g-E),l==="center"&&a==="left"&&this.drawCaret(e,t,s,i),t.lineTo(u,d+x),t.quadraticCurveTo(u,d,u+x,d),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,i=s&&s.x,a=s&&s.y;if(i||a){const l=ku[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=Z2(this,e),d=Object.assign({},l,this._size),m=eE(t,e,d),g=tE(e,d,m,t);(i._to!==g.x||a._to!==g.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=ti(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(a,e,i,t),JS(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),ZS(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,i=e.map(({datasetIndex:u,index:d})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[d],index:d}}),a=!Zf(s,i),l=this._positionChanged(i,t);(a||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,s),u=this._positionChanged(l,e),d=t||!Zf(l,a)||u;return d&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,s,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,s);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:s,caretY:i,options:a}=this,l=ku[a.position].call(this,e,t);return l!==!1&&(s!==l.x||i!==l.y)}}var N8={id:"tooltip",_element:iE,positioners:ku,afterInit(n,e,t){t&&(n.tooltip=new iE({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_A},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const S8=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function A8(n,e,t,s){const i=n.indexOf(e);if(i===-1)return S8(n,e,t,s);const a=n.lastIndexOf(e);return i!==a?t:i}const C8=(n,e)=>n===null?null:Ls(Math.round(n),0,e);function rE(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class k8 extends hc{static id="category";static defaults={ticks:{callback:rE}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:i,label:a}of t)s[i]===a&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Pt(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:A8(s,e,ht(t,e),this._addedLabels),C8(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,i=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){return rE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function R8(n,e){const t=[],{bounds:i,step:a,min:l,max:u,precision:d,count:m,maxTicks:g,maxDigits:x,includeBounds:b}=n,E=a||1,N=g-1,{min:w,max:T}=e,k=!Pt(l),M=!Pt(u),I=!Pt(m),z=(T-w)/(x+1);let U=i2((T-w)/N/E)*E,$,A,R,j;if(U<1e-14&&!k&&!M)return[{value:w},{value:T}];j=Math.ceil(T/U)-Math.floor(w/U),j>N&&(U=i2(j*U/N/E)*E),Pt(d)||($=Math.pow(10,d),U=Math.ceil(U*$)/$),i==="ticks"?(A=Math.floor(w/U)*U,R=Math.ceil(T/U)*U):(A=w,R=T),k&&M&&a&&QP((u-l)/a,U/1e3)?(j=Math.round(Math.min((u-l)/U,g)),U=(u-l)/j,A=l,R=u):I?(A=k?l:A,R=M?u:R,j=m-1,U=(R-A)/j):(j=(R-A)/U,Lu(j,Math.round(j),U/1e3)?j=Math.round(j):j=Math.ceil(j));const V=Math.max(r2(U),r2(A));$=Math.pow(10,Pt(d)?V:d),A=Math.round(A*$)/$,R=Math.round(R*$)/$;let F=0;for(k&&(b&&A!==l?(t.push({value:l}),A<l&&F++,Lu(Math.round((A+F*U)*$)/$,l,aE(l,z,n))&&F++):A<l&&F++);F<j;++F){const O=Math.round((A+F*U)*$)/$;if(M&&O>u)break;t.push({value:O})}return M&&b&&R!==u?t.length&&Lu(t[t.length-1].value,u,aE(u,z,n))?t[t.length-1].value=u:t.push({value:u}):(!M||R===u)&&t.push({value:R}),t}function aE(n,e,{horizontal:t,minRotation:s}){const i=go(s),a=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class j8 extends hc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Pt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:a}=this;const l=d=>i=t?i:d,u=d=>a=s?a:d;if(e){const d=ql(i),m=ql(a);d<0&&m<0?u(0):d>0&&m>0&&l(0)}if(i===a){let d=a===0?1:Math.abs(a*.05);u(a+d),e||l(i-d)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=R8(i,a);return e.bounds==="ticks"&&JP(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-t)/Math.max(e.length-1,1)/2;t-=i,s+=i}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return $S(e,this.chart.options.locale,this.options.ticks.format)}}class I8 extends j8{static id="linear";static defaults={ticks:{callback:HS.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Gn(e)?e:0,this.max=Gn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=go(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Vm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rs=Object.keys(Vm);function oE(n,e){return n-e}function lE(n,e){if(Pt(e))return null;const t=n._adapter,{parser:s,round:i,isoWeekday:a}=n._parseOpts;let l=e;return typeof s=="function"&&(l=s(l)),Gn(l)||(l=typeof s=="string"?t.parse(l,s):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(td(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,i)),+l)}function cE(n,e,t,s){const i=rs.length;for(let a=rs.indexOf(n);a<i-1;++a){const l=Vm[rs[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=s)return rs[a]}return rs[i-1]}function D8(n,e,t,s,i){for(let a=rs.length-1;a>=rs.indexOf(t);a--){const l=rs[a];if(Vm[l].common&&n._adapter.diff(i,s,l)>=e-1)return l}return rs[t?rs.indexOf(t):0]}function M8(n){for(let e=rs.indexOf(n)+1,t=rs.length;e<t;++e)if(Vm[rs[e]].common)return rs[e]}function uE(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:i}=Ex(t,e),a=t[s]>=e?t[s]:t[i];n[a]=!0}}function O8(n,e,t,s){const i=n._adapter,a=+i.startOf(e[0].value,s),l=e[e.length-1].value;let u,d;for(u=a;u<=l;u=+i.add(u,1,s))d=t[u],d>=0&&(e[d].major=!0);return e}function dE(n,e,t){const s=[],i={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],i[u]=l,s.push({value:u,major:!1});return a===0||!t?s:O8(n,s,i,t)}class hE extends hc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),i=this._adapter=new A9._date(e.adapters.date);i.init(t),Pu(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:lE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function d(m){!l&&!isNaN(m.min)&&(i=Math.min(i,m.min)),!u&&!isNaN(m.max)&&(a=Math.max(a,m.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),i=Gn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),s),a=Gn(a)&&!isNaN(a)?a:+t.endOf(Date.now(),s)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,u=iL(i,a,l);return this._unit=t.unit||(s.autoSkip?cE(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):D8(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:M8(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),dE(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?s=a:s=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Ls(t,0,l),s=Ls(s,0,l),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,i=this.options,a=i.time,l=a.unit||cE(a.minUnit,t,s,this._getLabelCapacity(t)),u=ht(i.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,m=td(d)||d===!0,g={};let x=t,b,E;if(m&&(x=+e.startOf(x,"isoWeek",d)),x=+e.startOf(x,m?"day":l),e.diff(s,t,l)>1e5*u)throw new Error(t+" and "+s+" are too far apart with stepSize of "+u+" "+l);const N=i.ticks.source==="data"&&this.getDataTimestamps();for(b=x,E=0;b<s;b=+e.add(b,u,l),E++)uE(g,b,N);return(b===s||i.bounds==="ticks"||E===1)&&uE(g,b,N),Object.keys(g).sort(oE).map(w=>+w)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,a=this._unit,l=t||i[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,s,i){const a=this.options,l=a.ticks.callback;if(l)return Lt(l,[e,t,s],this);const u=a.time.displayFormats,d=this._unit,m=this._majorUnit,g=d&&u[d],x=m&&u[m],b=s[t],E=m&&x&&b&&b.major;return this._adapter.format(e,i||(E?x:g))}generateTickLabels(e){let t,s,i;for(t=0,s=e.length;t<s;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,i=go(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:s*a+u*l,h:s*l+u*a}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,i=s[t.unit]||s.millisecond,a=this._tickFormatFunction(e,0,dE(this,[e],this._majorUnit),i),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,s=i.length;t<s;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const i=this.getLabels();for(t=0,s=i.length;t<s;++t)e.push(lE(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return aL(e.sort(oE))}}function mf(n,e,t){let s=0,i=n.length-1,a,l,u,d;t?(e>=n[s].pos&&e<=n[i].pos&&({lo:s,hi:i}=yo(n,"pos",e)),{pos:a,time:u}=n[s],{pos:l,time:d}=n[i]):(e>=n[s].time&&e<=n[i].time&&({lo:s,hi:i}=yo(n,"time",e)),{time:a,pos:u}=n[s],{time:l,pos:d}=n[i]);const m=l-a;return m?u+(d-u)*(e-a)/m:u}class Rz extends hE{static id="timeseries";static defaults=hE.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=mf(t,this.min),this._tableRange=mf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,i=[],a=[];let l,u,d,m,g;for(l=0,u=e.length;l<u;++l)m=e[l],m>=t&&m<=s&&i.push(m);if(i.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(l=0,u=i.length;l<u;++l)g=i[l+1],d=i[l-1],m=i[l],Math.round((g+d)/2)!==m&&a.push({time:m,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(mf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return mf(this._table,s*this._tableRange+this._minPos,!0)}}const wA="label";function fE(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function P8(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function EA(n,e){n.labels=e}function TA(n,e,t=wA){const s=[];n.datasets=e.map(i=>{const a=n.datasets.find(l=>l[t]===i[t]);return!a||!i.data||s.includes(a)?{...i}:(s.push(a),Object.assign(a,i),a)})}function L8(n,e=wA){const t={labels:[],datasets:[]};return EA(t,n.labels),TA(t,n.datasets,e),t}function V8(n,e){const{height:t=150,width:s=300,redraw:i=!1,datasetIdKey:a,type:l,data:u,options:d,plugins:m=[],fallbackContent:g,updateMode:x,...b}=n,E=B.useRef(null),N=B.useRef(null),w=()=>{E.current&&(N.current=new Om(E.current,{type:l,data:L8(u,a),options:d&&{...d},plugins:m}),fE(e,N.current))},T=()=>{fE(e,null),N.current&&(N.current.destroy(),N.current=null)};return B.useEffect(()=>{!i&&N.current&&d&&P8(N.current,d)},[i,d]),B.useEffect(()=>{!i&&N.current&&EA(N.current.config.data,u.labels)},[i,u.labels]),B.useEffect(()=>{!i&&N.current&&u.datasets&&TA(N.current.config.data,u.datasets,a)},[i,u.datasets]),B.useEffect(()=>{N.current&&(i?(T(),setTimeout(w)):N.current.update(x))},[i,d,u.labels,u.datasets,x]),B.useEffect(()=>{N.current&&(T(),setTimeout(w))},[l]),B.useEffect(()=>(w(),()=>T()),[]),h.jsx("canvas",{ref:E,role:"img",height:t,width:s,...b,children:g})}const z8=B.forwardRef(V8);function U8(n,e){return Om.register(e),B.forwardRef((t,s)=>h.jsx(z8,{...t,ref:s,type:n}))}const B8=U8("line",S9);Om.register(k8,I8,GV,Pm,N8,y8,d8);function F8({chartData:n,yMax:e}){const t={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{boxWidth:10,boxHeight:10,usePointStyle:!0,padding:14}},tooltip:{callbacks:{title:s=>`Partido ${s?.[0]?.label??""}`}}},scales:{x:{grid:{display:!0,drawBorder:!1},ticks:{autoSkip:!0,maxTicksLimit:6,maxRotation:0,minRotation:0}},y:{min:0,max:e||0,ticks:{precision:0},grid:{drawBorder:!1}}}};return h.jsx("div",{className:["w-full rounded-2xl border border-slate-200 bg-white shadow-sm","p-2 sm:p-4","h-[18rem] sm:h-[22rem] md:h-96"].join(" "),children:h.jsx(B8,{data:n,options:t})})}function $8({breakdown:n,setBreakdown:e,years:t,selectedYear:s,setSelectedYear:i,tournaments:a,selectedTournament:l,setSelectedTournament:u}){const d=n==="year"||n==="euroYear",m=n==="tournament"||n==="euroTournament",g=n==="euroYear"?"Eleg temporada":"Eleg ao";return h.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-3",children:[h.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm",value:n,onChange:x=>e(x.target.value),children:[h.jsx("option",{value:"all",children:"Completo"}),h.jsx("option",{value:"year",children:"Por ao"}),h.jsx("option",{value:"tournament",children:"Por campeonato"}),h.jsx("option",{value:"euroYear",children:"Calendario europeo (por temporada)"}),h.jsx("option",{value:"euroTournament",children:"Calendario europeo (por campeonato)"})]}),h.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm disabled:opacity-50",value:s??"",onChange:x=>i(x.target.value||null),disabled:!d,children:[h.jsx("option",{value:"",children:g}),t.map(x=>h.jsx("option",{value:x,children:x},x))]}),h.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm disabled:opacity-50",value:l??"",onChange:x=>u(x.target.value||null),disabled:!m,children:[h.jsx("option",{value:"",children:"Eleg campeonato"}),a.map(x=>h.jsx("option",{value:x,children:x},x))]})]})}function H8({value:n,onChange:e}){const t=(s,i)=>h.jsx("button",{onClick:()=>e(s),className:["flex-1 rounded-xl px-3 py-2 text-sm font-semibold transition",n===s?"bg-slate-900 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50"].join(" "),children:i},s);return h.jsxs("div",{className:"mx-auto flex w-full max-w-md gap-2 rounded-2xl border border-slate-200 bg-slate-100 p-2",children:[t("general","General"),t("capitanes","Capitanes")]})}const G8=()=>{hP();const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An();Us(n,t,i);const[a,l]=B.useState(null),u=Object.keys(s?.lineups||{}),[d,m]=B.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null;B.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const b=Array.isArray(a?.matches)?a.matches:[],E=a?.torneosConfig||{},N=s?.lineups?.[g]||{},w=(N.players?.length??0)>0,T=(N.formations?.length??0)>0,k=N.playersStats?Object.keys(N.playersStats).length>0:!1,[M,I]=B.useState("general"),[z,U]=B.useState("all"),[$,A]=B.useState(null),[R,j]=B.useState(null);if(!g||!w&&!T&&!k)return h.jsx(vs,{to:"/formacion",replace:!0});const V=d,{years:F,tournaments:O,chartData:L,yMax:ge,captainA:de,captainB:W}=yP(b,{view:M,breakdown:z,selectedYear:$,selectedTournament:R,torneosConfig:E});return h.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[" ",h.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:" Grficos "}),u.length>1&&h.jsxs("div",{className:"flex items-center justify-center gap-2 sm:justify-self-end sm:justify-end",children:[h.jsx("span",{className:"text-sm text-slate-600",children:"Club:"}),h.jsx("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:V,onChange:ae=>m(ae.target.value),children:u.map(ae=>h.jsx("option",{value:ae,children:Ae(ae)},ae))})]}),h.jsxs("div",{className:"mt-4 space-y-3",children:[h.jsx(H8,{value:M,onChange:I}),h.jsx($8,{breakdown:z,setBreakdown:ae=>{U(ae),A(null),j(null)},years:F,selectedYear:$,setSelectedYear:A,tournaments:O,selectedTournament:R,setSelectedTournament:j}),h.jsx(F8,{chartData:L,yMax:ge})]})]})};function q8(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}q8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const W8=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=Jn(),{state:s,dispatch:i}=An();Us(n,t,i);const a=Object.keys(s?.lineups||[]),[l,u]=B.useState(s?.activeClub||a[0]||""),d=Ee(l||""),m=d?s?.lineups?.[d]:null,g=Array.isArray(m?.matches)?m.matches:[],x=B.useMemo(()=>{if(!g)return[];const T=g.map(k=>k.torneoName);return[...new Set(T)].sort()},[g]),[b,E]=B.useState({}),N=(T,k,M)=>{E(I=>({...I,[T]:{...I[T],[k]:M}}))},w=async T=>{const k=b?.[T]?.formato||m?.torneosConfig?.[T]?.formato||"anual";try{const M=Hn(Sn,"users",n);await uc(M,{lineups:{[d]:{torneosConfig:{[T]:{formato:k}}}}},{merge:!0}),i({type:"UPDATE_TORNEO_CONFIG",payload:{clubKey:d,torneo:T,settings:{formato:k}}}),pe.Notify.success("Configuracin guardada!")}catch(M){console.error("Error al guardar:",M),pe.Notify.error("No se pudo guardar la configuracin")}};return h.jsxs("div",{className:"p-2 max-w-4xl mx-auto mb-10",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[h.jsx("h1",{className:"text-xl font-bold text-slate-800",children:" Configuracin"}),h.jsx(Jl,{to:"/campeonatos",className:"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm font-medium transition-all",children:"Volver"})]}),h.jsx("div",{className:"overflow-hidden bg-white rounded-2xl border border-slate-200 shadow-sm",children:h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{className:"hidden md:table-header-group bg-slate-50 border-b border-slate-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Campeonato"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Formato"}),h.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase",children:"Accin"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100",children:x.length>0?x.map(T=>h.jsxs("tr",{className:"flex flex-col md:table-row hover:bg-slate-50/50 transition-colors",children:[h.jsx("td",{className:"px-4 py-3 md:py-4",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-lg md:text-base",children:""}),h.jsx("span",{className:"font-bold md:font-medium text-slate-800 truncate",children:T})]})}),h.jsxs("td",{className:"px-4 py-2 md:py-4",children:[h.jsx("label",{className:"block md:hidden text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Formato"}),h.jsxs("select",{className:"w-full md:w-auto text-sm border-slate-200 rounded-lg focus:ring-sky-500 bg-slate-50/50 py-1.5",value:b[T]?.formato||m?.torneosConfig?.[T]?.formato||"anual",onChange:k=>N(T,"formato",k.target.value),children:[h.jsx("option",{value:"anual",children:"Enero - Diciembre (Anual)"}),h.jsx("option",{value:"europeo",children:"Julio - Junio (Europeo)"})]})]}),h.jsx("td",{className:"px-4 py-4 md:py-4 text-center",children:h.jsx("button",{className:"w-full md:w-auto bg-sky-600 hover:bg-sky-700 text-white px-5 py-2 md:py-1.5 rounded-xl text-sm font-semibold shadow-sm shadow-sky-100 transition-all active:scale-95",onClick:()=>w(T),children:"Guardar"})})]},T)):h.jsx("tr",{children:h.jsx("td",{colSpan:"4",className:"p-10 text-center text-slate-400 text-sm",children:"No hay torneos registrados."})})})]})})]})};function Y8(){const{state:n}=An(),e=n?.lineups&&Object.keys(n.lineups).length>0,t=Object.keys(n?.lineups||{}),s=n?.activeClub||"";return{lineupState:n,hasLineupsLoaded:e,clubs:t,activeClub:s}}const K8=n=>B.useMemo(()=>{const e=new Set;for(const t of n||[]){const s=String(t?.rival??"").trim();s&&e.add(s)}return Array.from(e).sort((t,s)=>t.localeCompare(s,"es"))},[n]),X8=(n,e)=>B.useMemo(()=>{const t=Array.isArray(n)?n:[];return e?t.filter(s=>String(s?.rival??"").trim()===e):t},[n,e]),Q8=n=>B.useMemo(()=>(Array.isArray(n)?n:[]).slice().sort((t,s)=>new Date(s?.fecha??0)-new Date(t?.fecha??0)),[n]),J8=n=>{if(!n)return"";try{const[e,t,s]=String(n).split("-").map(Number);return!e||!t||!s?n:new Date(e,t-1,s).toLocaleDateString("es-AR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return n}},zm=n=>{const e=String(n?.final??"").toLowerCase();if(e.includes("gan"))return"GANADO";if(e.includes("perd"))return"PERDIDO";if(e.includes("emp"))return"EMPATADO";const t=Number(n?.golFavor??0),s=Number(n?.golContra??0);return t>s?"GANADO":t<s?"PERDIDO":"EMPATADO"},Z8=n=>n==="GANADO"?"border-emerald-200 bg-emerald-50 text-emerald-700":n==="PERDIDO"?"border-rose-200 bg-rose-50 text-rose-700":"border-slate-200 bg-slate-50 text-slate-700",ez=n=>{const e=String(n??"").toLowerCase();return e.includes("loc")?"Local":e.includes("vis")?"Visitante":lt(n)},tz=n=>{if(!n)return 0;const e=!!(n.triplete||n.hattrick);return e&&n.doblete&&n.gol?6:e&&n.doblete?5:e&&n.gol?4:e?3:n.doblete?2:n.gol?1:0},mE=n=>{if(!Array.isArray(n)||n.length===0)return"";if(typeof n[0]=="string"){const t=n.map(s=>String(s).trim()).filter(Boolean).map(s=>s==="__OG__"?"En Contra":s);return t.length?t.join("  "):""}const e=n.map(t=>{if(!t)return null;const s=String(t?.name??"").trim();if(!s)return null;const i=s==="__OG__",a=i?"En Contra":s;let l=tz(t);Number.isFinite(t?.goles)&&(l=t.goles),Number.isFinite(t?.goals)&&(l=t.goals);const u=t?.isOwnGoal||i?" En Contra":"",d=i?"":u,m=!i&&l>=2?` (${l})`:"";return`${a}${m}${d}`}).filter(Boolean);return e.length?e.join("  "):""},fo=n=>{const e=Number(n??0);return e>0?"text-emerald-700":e<0?"text-rose-700":"text-slate-700"},na=n=>{const e=Number(n??0);return e>0?"bg-emerald-50 border-emerald-700":e<0?"bg-rose-50 border-rose-200":"bg-slate-50 border-slate-200"},nz=(n,e)=>{const t=String(n?.torneoName||"").trim(),s=String(n?.torneoDisplay||"").trim(),i=n?.fecha,a=t||s||"";if((e?.[a]?.formato||e?.[t]?.formato)!=="europeo"){if(s)return s;const x=Number(n?.torneoYear);return Number.isFinite(x)?`${a} ${x}`:a}if(!i)return a;const u=new Date(i);if(Number.isNaN(u.getTime()))return a;const d=u.getFullYear(),m=u.getMonth()+1;let g;return m>=7?g=d:g=d-1,`${a} ${g} - ${g+1}`},sz=n=>{const e=Number(n?.golFavor??0),t=Number(n?.golContra??0);return String(n?.condition??"").toLowerCase().includes("vis")?{left:t,right:e}:{left:e,right:t}},v0=n=>{const e=zm(n);return e==="GANADO"?"border-emerald-400":e==="PERDIDO"?"border-red-400":"border-amber-400"},iz=n=>{if(!n)return 0;if(typeof n=="object"){const s=!!(n.triplete||n.hattrick);return s&&n.doblete&&n.gol?6:s&&n.doblete?5:s&&n.gol?4:s?3:n.doblete?2:n.gol?1:0}const e=String(n).trim(),t=e.match(/\((\d+)\)/);return t?Number(t[1])||1:e?1:0},rz=n=>n?typeof n=="object"?String(n.name??"").trim():String(n).trim():"",az=n=>{const e=Array.isArray(n?.starters)?n.starters:[],t=Array.isArray(n?.subs)?n.subs:[],s=a=>a?typeof a=="string"?a:typeof a=="object"?String(a?.name??a?.player??"").trim():String(a).trim():"",i=[...e,...t].map(s).filter(Boolean);return Array.from(new Set(i.map(a=>Ee(a))))},_0=()=>({total:0,g:0,e:0,p:0,gp:0,gf:0,gc:0,dif:0}),w0=(n,e)=>{n.total+=1;const t=zm(e);t==="GANADO"?n.g+=1:t==="PERDIDO"?n.p+=1:n.e+=1,n.gf+=Number(e?.golFavor??0),n.gc+=Number(e?.golContra??0),n.gp=n.g-n.p,n.dif=n.gf-n.gc},NA=n=>String(n?.condition??"").trim().toLowerCase(),oz=n=>NA(n)==="local",lz=n=>NA(n)==="visitante",cz=n=>B.useMemo(()=>{const e=Array.isArray(n)?n:[],t=_0(),s=_0(),i=_0();for(const a of e)w0(t,a),oz(a)?w0(s,a):lz(a)&&w0(i,a);return{...t,local:s,visitante:i}},[n]),SA=(n,e)=>{const t=new Map;return(n??[]).forEach(s=>{const i=e(s);if(!Array.isArray(i)||i.length===0)return;const a=new Set;i.forEach(l=>{const u=rz(l);if(!u)return;const d=u.toLowerCase(),m=t.get(d)??{name:u,pj:0,g:0,x2:0,x3:0};m.g+=iz(l),typeof l=="object"&&(l.doblete&&(m.x2+=1),(l.triplete||l.hattrick)&&(m.x3+=1)),t.set(d,m),a.add(d)}),a.forEach(l=>{const u=t.get(l);u&&(u.pj+=1)})}),Array.from(t.values()).sort((s,i)=>i.g-s.g||i.x3-s.x3||i.x2-s.x2||s.name.localeCompare(i.name))},uz=n=>B.useMemo(()=>SA(n,e=>e?.goleadoresActiveClub??[]),[n]),dz=n=>B.useMemo(()=>SA(n,e=>e?.goleadoresRivales??[]),[n]),pE=({title:n,rows:e,hidePJ:t=!1})=>{const s=Array.isArray(e)?e:[];return h.jsxs("div",{className:"min-w-0 rounded-2xl border border-slate-200 bg-white mt-1",children:[h.jsx("div",{className:"m-1 text-center text-sm font-semibold text-slate-700     overflow-hidden text-ellipsis whitespace-nowrap p-1",children:n}),h.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 m-1",children:h.jsxs("table",{className:"w-full text-sm table-fixed",children:[h.jsxs("colgroup",{children:[h.jsx("col",{className:t?"w-[64%]":"w-[52%]"}),!t&&h.jsx("col",{className:"w-[12%]"}),h.jsx("col",{className:"w-[12%]"}),h.jsx("col",{className:"w-[12%]"}),h.jsx("col",{className:"w-[12%]"})]}),h.jsx("thead",{className:"bg-slate-50 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-2 py-2 text-left",children:"Jugador"}),!t&&h.jsx("th",{className:"px-2 py-2 text-center",children:"PJ"}),h.jsx("th",{className:"px-2 py-2 text-center",children:"G"}),h.jsx("th",{className:"px-2 py-2 text-center",children:"x2"}),h.jsx("th",{className:"px-2 py-2 text-center",children:"x3"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-200",children:s.length?s.map(i=>{const a=i?.name?.trim()==="__OG__"?"En Contra":Ae(i?.name??"");return h.jsxs("tr",{children:[h.jsx("td",{className:"px-2 py-2 text-slate-800",children:h.jsx("div",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",title:a,children:h.jsx("span",{children:a})})}),!t&&h.jsx("td",{className:"px-2 py-2 text-center",children:i.pj}),h.jsx("td",{className:"px-2 py-2 text-center font-bold",children:i.g}),h.jsx("td",{className:"px-2 py-2 text-center",children:i.x2}),h.jsx("td",{className:"px-2 py-2 text-center",children:i.x3})]},i.name)}):h.jsx("tr",{children:h.jsx("td",{colSpan:t?4:5,className:"px-3 py-3 text-slate-500",children:""})})})]})})]})},hz=(n=[])=>B.useMemo(()=>{const e=new Map;return n.forEach(t=>{az(t).forEach(i=>{e.set(i,(e.get(i)??0)+1)})}),e},[n]),fz=(n=[],e)=>B.useMemo(()=>(n??[]).map(t=>{const s=Ee(t?.name),i=e.get(s)??0;return{...t,pj:i}}),[n,e]),mz=()=>{const{hasLineupsLoaded:n,clubs:e,activeClub:t,lineupState:s}=Y8();if(!n)return h.jsx("div",{className:"p-6 text-center text-slate-500",children:"Cargando datos..."});const[i,a]=B.useState(t);if(B.useEffect(()=>{i||(t?a(t):e.length&&a(e[0]))},[i,t,e]),!i)return h.jsx(vs,{to:"/formacion",replace:!0});const l=Ee(i),u=s?.lineups?.[l]||null,d=Array.isArray(u?.matches)?u.matches:[],m=u?.torneosConfig||{},[g,x]=B.useState("");B.useEffect(()=>{x("")},[l]);const b=K8(d),E=X8(d,g),N=Q8(E),w=cz(E),T=uz(N),k=dz(N),M=hz(E),I=fz(T,M);return h.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[h.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:h.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:" NextMatch"})}),h.jsxs("div",{className:"mb-2 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[h.jsxs("div",{className:"text-left",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Club"}),h.jsx("select",{className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:i,onChange:z=>a(z.target.value),children:e.map(z=>h.jsx("option",{value:z,children:lt(z)},z))})]}),h.jsxs("div",{className:"text-left sm:text-right",children:[h.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700 sm:text-right",children:"Rival"}),h.jsxs("select",{className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:g,onChange:z=>x(z.target.value),children:[h.jsx("option",{value:"",children:"Todos"}),b.map(z=>h.jsx("option",{value:z,children:lt(z)},z))]})]})]}),g?h.jsx("div",{className:"m-1 rounded-2xl bg-white p-2 text-center",children:h.jsx("div",{className:`rounded-2xl border px-4 py-3 text-xl font-extrabold tracking-tight text-slate-900 ${na(w.gp)}`,children:lt(g)})}):null,h.jsxs("div",{className:"w-full rounded-2xl border border-slate-200 bg-slate-50 p-1",children:[h.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-1",children:[h.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:[h.jsx("div",{children:"PJ"}),h.jsx("div",{children:"G"}),h.jsx("div",{children:"E"}),h.jsx("div",{children:"P"}),h.jsx("div",{children:"G/P"}),h.jsx("div",{children:"GF"}),h.jsx("div",{children:"GC"}),h.jsx("div",{children:"DIF"})]}),h.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-bold text-slate-900",children:[h.jsx("div",{className:"rounded-xl border px-2 py-1 text-center",children:w.total}),h.jsx("div",{className:"rounded-xl border px-2 py-1 text-center",children:w.g}),h.jsx("div",{className:"rounded-xl border px-2 py-1 text-center",children:w.e}),h.jsx("div",{className:"rounded-xl border px-2 py-1 text-center",children:w.p}),h.jsx("div",{className:`rounded-xl border px-2 py-1 ${na(w.gp)} ${fo(w.gp)}`,children:Ks(w.gp)}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.gf}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.gc}),h.jsx("div",{className:`rounded-xl border px-2 py-1 ${na(w.dif)} ${fo(w.dif)}`,children:Ks(w.dif)})]}),h.jsx("div",{className:"mt-1 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:"General"})]}),h.jsxs("div",{className:"mt-1 grid gap-2 sm:grid-cols-2",children:[h.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-1",children:[h.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:[h.jsx("div",{children:"PJ"}),h.jsx("div",{children:"G"}),h.jsx("div",{children:"E"}),h.jsx("div",{children:"P"}),h.jsx("div",{children:"G/P"}),h.jsx("div",{children:"GF"}),h.jsx("div",{children:"GC"}),h.jsx("div",{children:"DIF"})]}),h.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-bold text-slate-900",children:[h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.total}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.g}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.e}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.p}),h.jsx("div",{className:`rounded-xl border px-2 py-1 ${na(w.local.gp)} ${fo(w.local.gp)}`,children:Ks(w.local.gp)}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.gf}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.gc}),h.jsx("div",{className:`rounded-xl border px-2 py-1 ${na(w.local.dif)} ${fo(w.local.dif)}`,children:Ks(w.local.dif)})]}),h.jsx("div",{className:"mt-1 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:"Local"})]}),h.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-1",children:[h.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:[h.jsx("div",{children:"PJ"}),h.jsx("div",{children:"G"}),h.jsx("div",{children:"E"}),h.jsx("div",{children:"P"}),h.jsx("div",{children:"G/P"}),h.jsx("div",{children:"GF"}),h.jsx("div",{children:"GC"}),h.jsx("div",{children:"DIF"})]}),h.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-bold text-slate-900",children:[h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.total}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.g}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.e}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.p}),h.jsx("div",{className:`rounded-xl border px-2 py-1 ${na(w.visitante.gp)} ${fo(w.visitante.gp)}`,children:Ks(w.visitante.gp)}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.gf}),h.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.gc}),h.jsx("div",{className:`rounded-xl border px-2 py-1 ${na(w.visitante.dif)} ${fo(w.visitante.dif)}`,children:Ks(w.visitante.dif)})]}),h.jsx("div",{className:"mt-1 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:"Visitante"})]})]})]})]}),g&&h.jsxs("div",{className:"mb-1 grid grid-cols-2 gap-2",children:[h.jsx("div",{className:"min-w-0",children:h.jsx(pE,{title:lt(t),rows:I})}),h.jsx("div",{className:"min-w-0",children:h.jsx(pE,{title:lt(g),rows:k,hidePJ:!0})})]}),N.length===0?h.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-center text-slate-500 shadow-sm",children:"No hay partidos para mostrar."}):h.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:N.map(z=>{const U=zm(z),{left:$,right:A}=sz(z);return h.jsxs("div",{className:`rounded-2xl border bg-white p-4 shadow-sm ${v0(z)}`,children:[h.jsxs("div",{className:"flex items-start justify-between gap-3",children:[h.jsxs("div",{className:"min-w-0",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-600",children:[h.jsx("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1",children:nz(z,m)}),h.jsx("span",{className:"rounded-full border border-slate-200 bg-white px-2.5 py-1",children:J8(z?.fecha)}),h.jsx("span",{className:`rounded-full border bg-white px-2.5 py-1 ${v0(z)}`,children:ez(z?.condition)}),h.jsxs("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1",children:[h.jsx("span",{className:"font-semibold text-slate-500",children:"Captain:"})," ",h.jsx("span",{className:"font-semibold text-slate-800",children:lt(z?.captain)})]})]}),g?null:h.jsx("div",{className:"mt-2 flex items-center justify-center",children:h.jsx("div",{className:"truncate text-base font-extrabold tracking-wide text-slate-900 sm:text-lg",children:lt(z?.rival)})})]}),h.jsxs("div",{className:"shrink-0 rounded-xl border px-3 py-2 text-center "+Z8(U),children:[h.jsx("div",{className:"text-xs font-semibold",children:U}),h.jsxs("div",{className:"text-lg font-extrabold tracking-tight",children:[$," - ",A]})]})]}),h.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[h.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[h.jsxs("div",{className:"text-xs font-semibold text-slate-500",children:["Goleadores ",lt(z?.club)]}),h.jsx("div",{className:"text-slate-800",children:Ae(mE(z?.goleadoresActiveClub))})]}),h.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[h.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Goleadores rival"}),h.jsx("div",{className:"text-slate-800",children:mE(z?.goleadoresRivales)})]})]}),h.jsx("div",{className:"flex flex-wrap gap-2 pt-1 text-center",children:z?.resultMatch?h.jsx("span",{className:`w-full rounded-xl border bg-white px-3 py-2 text-xs text-slate-600 ${v0(z)}`,children:Ae(z.resultMatch)}):null})]},z?.id??`${z?.fecha}-${z?.rival}-${z?.createdAt??""}`)})})]})},pz=()=>{const{uid:n,user:e}=cn();return h.jsxs("div",{className:"p-2 max-w-4xl mx-auto mb-10",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[h.jsx("h1",{className:"text-xl font-bold text-slate-800",children:" Configuracin"}),h.jsx(Jl,{to:"/campeonatos",className:"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm font-medium transition-all",children:"Volver"})]}),h.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[h.jsxs("div",{children:[h.jsx("b",{children:"UID:"})," ",n]}),h.jsxs("div",{children:[h.jsx("b",{children:"Email:"})," ",e?.email||"-"]}),h.jsxs("div",{children:[h.jsx("b",{children:"Nombre:"})," ",e?.displayName||"-"]})]})]})},gz=n=>{const e="inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] md:text-xs font-semibold border";switch(n){case"campeon":return`${e} bg-emerald-50 text-emerald-700 border-emerald-200`;case"subcampeon":return`${e} bg-amber-50 text-amber-700 border-amber-200`;case"3ro":case"tercero":return`${e} bg-sky-50 text-sky-700 border-sky-200`;default:return`${e} bg-slate-50 text-slate-700 border-slate-200`}},yz=n=>{const e=t=>typeof t=="number"?t:parseInt(String(t),10);return[...n].sort((t,s)=>{const i=e(t),a=e(s),l=Number.isNaN(i),u=Number.isNaN(a);return l&&u?String(t).localeCompare(String(s)):l?1:u?-1:a-i})},xz=()=>{const{uid:n}=cn(),[e,t]=B.useState([]),[s,i]=B.useState(!0),{state:a,dispatch:l}=Jn(),{state:u,dispatch:d}=An();Us(n,l,d);const[m,g]=B.useState(null),x=Object.keys(u?.lineups||[]),[b,E]=B.useState(u?.activeClub||x[0]||""),N=Ee(b||""),w=N?u?.lineups?.[N]:null,T=u?.lineups?.[N]||{},k=(T.players?.length??0)>0,M=(T.formations?.length??0)>0,I=T.playersStats?Object.keys(T.playersStats).length>0:!1;if(!N||!k&&!M&&!I)return h.jsx(vs,{to:"/formacion",replace:!0});B.useEffect(()=>{w&&Object.keys(w).length!==0&&g(w)},[w]),B.useEffect(()=>{if(!n){t([]),i(!1);return}(async()=>{try{i(!0);const $=JN(Sn,"palmares"),A=rS($,aS("uid","==",n)),j=(await cS(A)).docs.map(V=>({id:V.id,...V.data()}));t(j)}catch($){console.error("Error cargando palmars:",$),t([])}finally{i(!1)}})()},[n]);const z=B.useMemo(()=>{if(!e.length)return[];const U=new Map;return e.forEach(A=>{const R=A.year??"Sin ao";U.has(R)||U.set(R,[]),U.get(R).push(A)}),yz(Array.from(U.keys())).map(A=>{const R=U.get(A)||[];return R.sort((j,V)=>String(j.torneoDisplay||"").localeCompare(String(V.torneoDisplay||""))),{year:A,campeonatos:R}})},[e]);return h.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:" Palmars"}),s&&h.jsx("div",{className:"text-center text-sm text-slate-500 mt-6",children:"Cargando palmars..."}),!s&&!e.length&&h.jsxs("div",{className:"text-center text-sm text-slate-500 mt-6",children:["Todava no guardaste resultados de campeonatos.",h.jsx("br",{}),"Us la pantalla ",h.jsx("span",{className:"font-semibold",children:"Campeonatos"})," ","para marcar la posicin final en cada torneo."]}),!s&&z.map(({year:U,campeonatos:$})=>h.jsxs("section",{className:"mb-6",children:[h.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-center gap-2 mb-2",children:[h.jsx("div",{className:"w-8 h-px bg-slate-300 md:w-12"}),h.jsx("h2",{className:"text-sm md:text-base font-semibold text-slate-700",children:Number.isNaN(parseInt(String(U),10))?String(U):U}),h.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),h.jsx("div",{className:"space-y-2",children:$.map(A=>h.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-baseline justify-between gap-3 px-3 py-2 rounded-lg bg-white border border-slate-100 shadow-sm",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-[12px] md:text-sm font-medium text-slate-900",children:A.torneoDisplay||"Sin nombre"}),A.clubName&&h.jsx("span",{className:"text-[10px] md:text-xs text-slate-500",children:Ae(A.clubName)}),A.matchesCount!=null&&h.jsxs("span",{className:"text-[10px] text-slate-400 mt-0.5",children:[A.matchesCount," partido",A.matchesCount===1?"":"s"]})]}),h.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:A.resultado&&h.jsx("span",{className:gz(A.resultado),children:A.resultadoLabel||A.resultado})})]},A.id))})]},U))]})},pf=(n,e="all")=>{const s={total:0,g:0,e:0,p:0,gp:0,gf:0,gc:0,dif:0,pts:0,maxPts:0,pct:0},i=n.filter(a=>e==="local"?a?.condition==="local":e==="visitante"?a?.condition==="visitante":a?.condition==="local"||a?.condition==="visitante");for(const a of i){s.total+=1;const l=zm(a);l==="GANADO"?(s.g+=1,s.pts+=3):l==="EMPATADO"?(s.e+=1,s.pts+=1):s.p+=1,s.gf+=Number(a?.golFavor??0),s.gc+=Number(a?.golContra??0)}return s.gp=s.g-s.p,s.dif=s.gf-s.gc,s.maxPts=s.total*3,s.pct=s.maxPts?Math.round(s.pts/s.maxPts*100):0,s},bz=()=>{const{state:n}=An(),e=B.useMemo(()=>{const a=n?.lineups??{};return Object.entries(a).flatMap(([l,u])=>{const d=u?.label??l;return(Array.isArray(u?.matches)?u.matches:[]).filter(g=>g?.condition==="local"||g?.condition==="visitante").map(g=>({...g,__clubKey:l,__clubLabel:d}))})},[n]),t=B.useMemo(()=>pf(e,"all"),[e]),s=B.useMemo(()=>pf(e,"local"),[e]),i=B.useMemo(()=>pf(e,"visitante"),[e]);return B.useMemo(()=>pf(e),[e]),h.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[h.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 text-center mb-3",children:" Personal Record"}),h.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-1 shadow-sm",children:[h.jsxs("div",{className:"hidden md:grid md:grid-cols-9 gap-2 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:[h.jsx("div",{children:"Partidos Jugados"}),h.jsx("div",{children:"Ganados"}),h.jsx("div",{children:"Empatados"}),h.jsx("div",{children:"Perdidos"}),h.jsx("div",{children:"Ganados/Perdidos"}),h.jsx("div",{children:"Goles a Favor"}),h.jsx("div",{children:"Goles en Contra"}),h.jsx("div",{children:"DIFerencia de Goles"}),h.jsx("div",{children:"PTS / EFEC."})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(E0,{title:"General",r:t}),h.jsx(E0,{title:"Local",r:s}),h.jsx(E0,{title:"Visitante",r:i})]})]})]})},En=({label:n,value:e,tone:t,wide:s,compact:i=!1})=>{const a=t==="diff",l=typeof e=="number"?e:null;return h.jsxs("div",{className:["min-w-0 rounded-xl border px-2 py-2 text-center bg-white",s?"col-span-3 sm:col-span-4 md:col-span-1":"",a&&l!==null?`${na(l)} ${fo(l)}`:""].join(" "),children:[h.jsx("div",{className:"md:hidden text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:n}),h.jsx("div",{className:["min-w-0 font-bold text-slate-900",i?"text-[11px] leading-tight":"text-sm","truncate"].join(" "),title:typeof e=="string"?e:void 0,children:e})]})},E0=({title:n,r:e})=>h.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-1 shadow-sm",children:[h.jsx("div",{className:"text-sm font-extrabold text-slate-900 m-2",children:n}),h.jsxs("div",{className:"md:hidden space-y-2",children:[h.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[h.jsx(En,{label:"PJ",value:e.total}),h.jsx(En,{label:"G",value:e.g}),h.jsx(En,{label:"E",value:e.e}),h.jsx(En,{label:"P",value:e.p}),h.jsx(En,{label:"G/P",value:e.gp,tone:"diff"})]}),h.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[h.jsx(En,{label:"GF",value:e.gf}),h.jsx(En,{label:"GC",value:e.gc}),h.jsx(En,{label:"DIF",value:e.dif,tone:"diff"}),h.jsx(En,{label:"PTS/EFEC",value:`${e.pts} / ${e.maxPts} ${e.pct}%`,compact:!0})]})]}),h.jsxs("div",{className:"hidden md:grid md:grid-cols-9 gap-2",children:[h.jsx(En,{label:"PJ",value:e.total}),h.jsx(En,{label:"G",value:e.g}),h.jsx(En,{label:"E",value:e.e}),h.jsx(En,{label:"P",value:e.p}),h.jsx(En,{label:"G/P",value:e.gp,tone:"diff"}),h.jsx(En,{label:"GF",value:e.gf}),h.jsx(En,{label:"GC",value:e.gc}),h.jsx(En,{label:"DIF",value:e.dif,tone:"diff"}),h.jsx(En,{label:"PTS/EFEC",value:`${e.pts} / ${e.maxPts} ${e.pct}%`,compact:!0})]})]}),vz=5,gE=n=>n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"goals"),_z=(n,e)=>n?`${String(n)}.${String(e)}`:String(e),wz=()=>{const{state:n}=An(),[e,t]=B.useState(vz),s=B.useMemo(()=>{const i=n?.lineups??{},a=[];for(const[u,d]of Object.entries(i)){const m=d?.label??u,g=d?.playersStats;if(!(!g||typeof g!="object"))for(const[x,b]of Object.entries(g)){if(gE(b)){const E=Number(b?.goals??0),N=Number(b?.totals?.matchesPlayed??0);a.push({name:String(x),team:m,goals:E,pj:N});continue}if(b&&typeof b=="object")for(const[E,N]of Object.entries(b)){if(!gE(N))continue;const w=Number(N?.goals??0),T=Number(N?.totals?.matchesPlayed??0);a.push({name:_z(x,E),team:m,goals:w,pj:T})}}}const l=a.filter(u=>u.goals>=Number(e||0));return l.sort((u,d)=>d.goals!==u.goals?d.goals-u.goals:u.name.localeCompare(d.name,"es",{sensitivity:"base"})),l},[n,e]);return h.jsxs("div",{className:"p-3 max-w-screen-xl mx-auto",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3 mb-3",children:[h.jsx("div",{children:h.jsx("h1",{className:"text-2xl font-extrabold tracking-tight text-slate-900",children:" Goleadores"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Mn. goles"}),h.jsx("input",{type:"number",min:0,value:e,onChange:i=>t(i.target.value),className:"w-20 rounded-lg border border-slate-300 bg-white px-2 py-1 text-sm"})]})]}),h.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:h.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[h.jsx("div",{className:"sticky top-0 z-10 bg-slate-700 border-b border-slate-200",children:h.jsxs("div",{className:"grid grid-cols-[10%_15%_50%_15%] gap-3 px-4 py-3 text-[11px] font-extrabold uppercase tracking-wide text-white",children:[h.jsx("div",{className:"text-center",children:"N"}),h.jsx("div",{className:"text-center",children:"Goles"}),h.jsx("div",{children:"Jugador"}),h.jsx("div",{className:"text-center",children:"PJ"})]})}),s.length===0?h.jsxs("div",{className:"p-4 text-sm text-slate-500",children:["No hay jugadores con ",e,"+ goles."]}):h.jsx("div",{className:"divide-y divide-slate-100",children:s.map((i,a)=>h.jsxs("div",{className:["grid grid-cols-[10%_15%_50%_15%] gap-3 px-4 py-3 items-center transition",a%2===0?"bg-white":"bg-slate-200","hover:bg-slate-100"].join(" "),children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("span",{className:"inline-flex items-center justify-center w-9 h-9 rounded-xl border border-slate-200 bg-blue-400 text-sm font-extrabold text-slate-700",children:a+1})}),h.jsx("div",{className:"flex justify-center",children:h.jsx("span",{className:"inline-flex items-center justify-center w-14 h-9 rounded-xl bg-slate-900 text-white text-sm font-extrabold shadow-sm",children:i.goals})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"font-semibold text-slate-900",children:Ae(i.name)}),h.jsx("div",{className:"text-xs text-slate-500 ",children:i.team})]}),h.jsx("div",{className:"min-w-0 hidden sm:block ",children:h.jsx("div",{className:"inline-flex max-w-full items-center rounded-full border border-slate-200 bg-white px-3 py-1 text-sm font-semibold text-slate-700 truncate",children:i.team})}),h.jsx("div",{className:"flex justify-center ",children:h.jsx("span",{className:"inline-flex items-center justify-center w-14 h-9 rounded-xl border border-slate-200 bg-white text-sm font-extrabold text-slate-800",children:i.pj})})]},`${i.team}-${i.name}-${a}`))})]})})]})},Ez=()=>{const[n,e]=B.useState("palmares");return h.jsxs("div",{children:[h.jsxs("div",{className:"mt-3 flex justify-center gap-3",children:[h.jsx("button",{type:"button",onClick:()=>e("palmares"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",n==="palmares"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Palmares"}),h.jsx("button",{type:"button",onClick:()=>e("record"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",n==="record"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Record Personal"}),h.jsx("button",{type:"button",onClick:()=>e("goleadores"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",n==="goleadores"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Goleadores"})]}),h.jsxs("div",{className:"mt-4",children:[n==="palmares"&&h.jsx(xz,{}),n==="record"&&h.jsx(bz,{}),n==="goleadores"&&h.jsx(wz,{})]})]})};function Tz(){const{uid:n}=cn(),{dispatch:e}=Jn(),{dispatch:t}=An();return Us(n,e,t),null}function Nz(){const{uid:n}=cn();return n?h.jsx(vs,{to:"/versus",replace:!0}):h.jsx(n3,{})}const Sz=()=>h.jsxs(wR,{children:[h.jsx(dP,{}),h.jsxs(Zk,{children:[h.jsx(rn,{element:h.jsx(IR,{}),children:h.jsx(rn,{path:"/",element:h.jsx(Nz,{})})}),h.jsxs(rn,{element:h.jsxs(h.Fragment,{children:[h.jsx(Tz,{}),h.jsx(u3,{})]}),children:[h.jsx(rn,{path:"/registrar-partido",element:h.jsx(Pw,{})}),h.jsx(rn,{path:"/editar-partido/:matchId",element:h.jsx(Pw,{})}),h.jsx(rn,{path:"/nextmatch",element:h.jsx(mz,{})}),h.jsx(rn,{path:"/formacion",element:h.jsx(c4,{})}),h.jsx(rn,{path:"/versus",element:h.jsx(O3,{})}),h.jsx(rn,{path:"/campeonatos",element:h.jsx(m4,{})}),h.jsx(rn,{path:"/campeonatos/ajustes",element:h.jsx(W8,{})}),h.jsx(rn,{path:"/partidos",element:h.jsx(iP,{})}),h.jsx(rn,{path:"/ultimos-diez",element:h.jsx(uP,{})}),h.jsx(rn,{path:"/analisis",element:h.jsx(g4,{})}),h.jsx(rn,{path:"/graficos",element:h.jsx(G8,{})}),h.jsx(rn,{path:"/temporadas",element:h.jsx(R4,{})}),h.jsx(rn,{path:"/goleadores",element:h.jsx(X4,{})}),h.jsx(rn,{path:"/record",element:h.jsx(Ez,{})}),h.jsx(rn,{path:"/config",element:h.jsx(pz,{})})]}),h.jsx(rn,{path:"*",element:h.jsx(vs,{to:"/",replace:!0})})]})]});pe.Notify.init({position:"center-bottom",distance:"20px",timeout:3e3,clickToClose:!0,fontSize:"16px",width:"280px"});ak.createRoot(document.getElementById("root")).render(h.jsx(B.StrictMode,{children:h.jsx(e3,{children:h.jsx(l3,{children:h.jsx(i3,{children:h.jsx(Sz,{})})})})}));
