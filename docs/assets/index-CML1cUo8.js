(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Om={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function OT(){if(Yx)return ic;Yx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:u,ref:o!==void 0?o:null,props:l}}return ic.Fragment=e,ic.jsx=t,ic.jsxs=t,ic}var Kx;function jT(){return Kx||(Kx=1,Om.exports=OT()),Om.exports}var m=jT(),jm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function MT(){if(Qx)return qe;Qx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function E(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,V={};function D(M,te,de){this.props=M,this.context=te,this.refs=V,this.updater=de||k}D.prototype.isReactComponent={},D.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},D.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=D.prototype;function F(M,te,de){this.props=M,this.context=te,this.refs=V,this.updater=de||k}var G=F.prototype=new B;G.constructor=F,P(G,D.prototype),G.isPureReactComponent=!0;var re=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function N(M,te,de,fe,we,He){return de=He.ref,{$$typeof:r,type:M,key:te,ref:de!==void 0?de:null,props:He}}function S(M,te){return N(M.type,te,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function R(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return te[de]})}var I=/\/+/g;function q(M,te){return typeof M=="object"&&M!==null&&M.key!=null?R(""+M.key):te.toString(36)}function O(){}function nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ct(M,te,de,fe,we){var He=typeof M;(He==="undefined"||He==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(He){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case r:case e:ke=!0;break;case b:return ke=M._init,ct(ke(M._payload),te,de,fe,we)}}if(ke)return we=we(M),ke=fe===""?"."+q(M,0):fe,re(we)?(de="",ke!=null&&(de=ke.replace(I,"$&/")+"/"),ct(we,te,de,"",function(nr){return nr})):we!=null&&(C(we)&&(we=S(we,de+(we.key==null||M&&M.key===we.key?"":(""+we.key).replace(I,"$&/")+"/")+ke)),te.push(we)),1;ke=0;var Ht=fe===""?".":fe+":";if(re(M))for(var Je=0;Je<M.length;Je++)fe=M[Je],He=Ht+q(fe,Je),ke+=ct(fe,te,de,He,we);else if(Je=E(M),typeof Je=="function")for(M=Je.call(M),Je=0;!(fe=M.next()).done;)fe=fe.value,He=Ht+q(fe,Je++),ke+=ct(fe,te,de,He,we);else if(He==="object"){if(typeof M.then=="function")return ct(nt(M),te,de,fe,we);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ke}function W(M,te,de){if(M==null)return M;var fe=[],we=0;return ct(M,fe,"","",function(He){return te.call(de,He,we++)}),fe}function me(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Pe(){}return qe.Children={map:W,forEach:function(M,te,de){W(M,function(){te.apply(this,arguments)},de)},count:function(M){var te=0;return W(M,function(){te++}),te},toArray:function(M){return W(M,function(te){return te})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},qe.Component=D,qe.Fragment=t,qe.Profiler=o,qe.PureComponent=F,qe.StrictMode=a,qe.Suspense=g,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,qe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ne.H.useMemoCache(M)}},qe.cache=function(M){return function(){return M.apply(null,arguments)}},qe.cloneElement=function(M,te,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=P({},M.props),we=M.key,He=void 0;if(te!=null)for(ke in te.ref!==void 0&&(He=void 0),te.key!==void 0&&(we=""+te.key),te)!le.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(fe[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)fe.children=de;else if(1<ke){for(var Ht=Array(ke),Je=0;Je<ke;Je++)Ht[Je]=arguments[Je+2];fe.children=Ht}return N(M.type,we,void 0,void 0,He,fe)},qe.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},qe.createElement=function(M,te,de){var fe,we={},He=null;if(te!=null)for(fe in te.key!==void 0&&(He=""+te.key),te)le.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(we[fe]=te[fe]);var ke=arguments.length-2;if(ke===1)we.children=de;else if(1<ke){for(var Ht=Array(ke),Je=0;Je<ke;Je++)Ht[Je]=arguments[Je+2];we.children=Ht}if(M&&M.defaultProps)for(fe in ke=M.defaultProps,ke)we[fe]===void 0&&(we[fe]=ke[fe]);return N(M,He,void 0,void 0,null,we)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(M){return{$$typeof:h,render:M}},qe.isValidElement=C,qe.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:me}},qe.memo=function(M,te){return{$$typeof:y,type:M,compare:te===void 0?null:te}},qe.startTransition=function(M){var te=ne.T,de={};ne.T=de;try{var fe=M(),we=ne.S;we!==null&&we(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Pe,ue)}catch(He){ue(He)}finally{ne.T=te}},qe.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},qe.use=function(M){return ne.H.use(M)},qe.useActionState=function(M,te,de){return ne.H.useActionState(M,te,de)},qe.useCallback=function(M,te){return ne.H.useCallback(M,te)},qe.useContext=function(M){return ne.H.useContext(M)},qe.useDebugValue=function(){},qe.useDeferredValue=function(M,te){return ne.H.useDeferredValue(M,te)},qe.useEffect=function(M,te,de){var fe=ne.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(M,te)},qe.useId=function(){return ne.H.useId()},qe.useImperativeHandle=function(M,te,de){return ne.H.useImperativeHandle(M,te,de)},qe.useInsertionEffect=function(M,te){return ne.H.useInsertionEffect(M,te)},qe.useLayoutEffect=function(M,te){return ne.H.useLayoutEffect(M,te)},qe.useMemo=function(M,te){return ne.H.useMemo(M,te)},qe.useOptimistic=function(M,te){return ne.H.useOptimistic(M,te)},qe.useReducer=function(M,te,de){return ne.H.useReducer(M,te,de)},qe.useRef=function(M){return ne.H.useRef(M)},qe.useState=function(M){return ne.H.useState(M)},qe.useSyncExternalStore=function(M,te,de){return ne.H.useSyncExternalStore(M,te,de)},qe.useTransition=function(){return ne.H.useTransition()},qe.version="19.1.1",qe}var Wx;function Dp(){return Wx||(Wx=1,jm.exports=MT()),jm.exports}var z=Dp();const $f=Jv(z);var Mm={exports:{}},ac={},Lm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function LT(){return Jx||(Jx=1,function(r){function e(W,me){var ue=W.length;W.push(me);e:for(;0<ue;){var Pe=ue-1>>>1,M=W[Pe];if(0<o(M,me))W[Pe]=me,W[ue]=M,ue=Pe;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var me=W[0],ue=W.pop();if(ue!==me){W[0]=ue;e:for(var Pe=0,M=W.length,te=M>>>1;Pe<te;){var de=2*(Pe+1)-1,fe=W[de],we=de+1,He=W[we];if(0>o(fe,ue))we<M&&0>o(He,fe)?(W[Pe]=He,W[we]=ue,Pe=we):(W[Pe]=fe,W[de]=ue,Pe=de);else if(we<M&&0>o(He,ue))W[Pe]=He,W[we]=ue,Pe=we;else break e}}return me}function o(W,me){var ue=W.sortIndex-me.sortIndex;return ue!==0?ue:W.id-me.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var g=[],y=[],b=1,w=null,E=3,k=!1,P=!1,V=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function re(W){for(var me=t(y);me!==null;){if(me.callback===null)a(y);else if(me.startTime<=W)a(y),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(y)}}function ne(W){if(V=!1,re(W),!P)if(t(g)!==null)P=!0,le||(le=!0,q());else{var me=t(y);me!==null&&ct(ne,me.startTime-W)}}var le=!1,N=-1,S=5,C=-1;function R(){return D?!0:!(r.unstable_now()-C<S)}function I(){if(D=!1,le){var W=r.unstable_now();C=W;var me=!0;try{e:{P=!1,V&&(V=!1,F(N),N=-1),k=!0;var ue=E;try{t:{for(re(W),w=t(g);w!==null&&!(w.expirationTime>W&&R());){var Pe=w.callback;if(typeof Pe=="function"){w.callback=null,E=w.priorityLevel;var M=Pe(w.expirationTime<=W);if(W=r.unstable_now(),typeof M=="function"){w.callback=M,re(W),me=!0;break t}w===t(g)&&a(g),re(W)}else a(g);w=t(g)}if(w!==null)me=!0;else{var te=t(y);te!==null&&ct(ne,te.startTime-W),me=!1}}break e}finally{w=null,E=ue,k=!1}me=void 0}}finally{me?q():le=!1}}}var q;if(typeof G=="function")q=function(){G(I)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,nt=O.port2;O.port1.onmessage=I,q=function(){nt.postMessage(null)}}else q=function(){B(I,0)};function ct(W,me){N=B(function(){W(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(W){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ue=E;E=me;try{return W()}finally{E=ue}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(W,me){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=E;E=W;try{return me()}finally{E=ue}},r.unstable_scheduleCallback=function(W,me,ue){var Pe=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Pe+ue:Pe):ue=Pe,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ue+M,W={id:b++,callback:me,priorityLevel:W,startTime:ue,expirationTime:M,sortIndex:-1},ue>Pe?(W.sortIndex=ue,e(y,W),t(g)===null&&W===t(y)&&(V?(F(N),N=-1):V=!0,ct(ne,ue-Pe))):(W.sortIndex=M,e(g,W),P||k||(P=!0,le||(le=!0,q()))),W},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(W){var me=E;return function(){var ue=E;E=me;try{return W.apply(this,arguments)}finally{E=ue}}}}(Vm)),Vm}var Zx;function VT(){return Zx||(Zx=1,Lm.exports=LT()),Lm.exports}var Pm={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function PT(){if(eb)return wn;eb=1;var r=Dp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:b}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wn.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(g,y,null,b)},wn.flushSync=function(g){var y=u.T,b=a.p;try{if(u.T=null,a.p=2,g)return g()}finally{u.T=y,a.p=b,a.d.f()}},wn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},wn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},wn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,w=h(b,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:k}):b==="script"&&a.d.X(g,{crossOrigin:w,integrity:E,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},wn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=h(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},wn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=h(b,y.crossOrigin);a.d.L(g,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},wn.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=h(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},wn.requestFormReset=function(g){a.d.r(g)},wn.unstable_batchedUpdates=function(g,y){return g(y)},wn.useFormState=function(g,y,b){return u.H.useFormState(g,y,b)},wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var tb;function UT(){if(tb)return Pm.exports;tb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=PT(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function zT(){if(nb)return ac;nb=1;var r=VT(),e=Dp(),t=UT();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(a(188))}function g(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,c=i;;){var d=s.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===s)return h(d),n;if(p===c)return h(d),i;p=p.sibling}throw Error(a(188))}if(s.return!==c.return)s=d,c=p;else{for(var _=!1,T=d.child;T;){if(T===s){_=!0,s=d,c=p;break}if(T===c){_=!0,c=d,s=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===s){_=!0,s=p,c=d;break}if(T===c){_=!0,c=p,s=d;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==c)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),G=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=I&&n[I]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function nt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case D:return"Profiler";case V:return"StrictMode";case ne:return"Suspense";case le:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case G:return(n.displayName||"Context")+".Provider";case F:return(n._context.displayName||"Context")+".Consumer";case re:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return i=n.displayName||null,i!==null?i:nt(n.type)||"Memo";case S:i=n._payload,n=n._init;try{return nt(n(i))}catch{}}return null}var ct=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Pe=[],M=-1;function te(n){return{current:n}}function de(n){0>M||(n.current=Pe[M],Pe[M]=null,M--)}function fe(n,i){M++,Pe[M]=n.current,n.current=i}var we=te(null),He=te(null),ke=te(null),Ht=te(null);function Je(n,i){switch(fe(ke,i),fe(He,n),fe(we,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?_x(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=_x(i),n=wx(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(we),fe(we,n)}function nr(){de(we),de(He),de(ke)}function kr(n){n.memoizedState!==null&&fe(Ht,n);var i=we.current,s=wx(i,n.type);i!==s&&(fe(He,n),fe(we,s))}function Fn(n){He.current===n&&(de(we),de(He)),Ht.current===n&&(de(Ht),Zl._currentValue=ue)}var Nn=Object.prototype.hasOwnProperty,Rt=r.unstable_scheduleCallback,L=r.unstable_cancelCallback,$=r.unstable_shouldYield,ee=r.unstable_requestPaint,be=r.unstable_now,Se=r.unstable_getCurrentPriorityLevel,ze=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,ge=r.unstable_NormalPriority,Xe=r.unstable_LowPriority,Ee=r.unstable_IdlePriority,it=r.log,wt=r.unstable_setDisableYieldValue,Fe=null,Ne=null;function Ve(n){if(typeof it=="function"&&wt(n),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Fe,n)}catch{}}var Ye=Math.clz32?Math.clz32:Wt,Ke=Math.log,Cn=Math.LN2;function Wt(n){return n>>>=0,n===0?32:31-(Ke(n)/Cn|0)|0}var kt=256,It=4194304;function rt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Rn(n,i,s){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=c&134217727;return T!==0?(c=T&~p,c!==0?d=rt(c):(_&=T,_!==0?d=rt(_):s||(s=T&~n,s!==0&&(d=rt(s))))):(T=c&~p,T!==0?d=rt(T):_!==0?d=rt(_):s||(s=c&~n,s!==0&&(d=rt(s)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:d}function Me(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function rr(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(){var n=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),n}function Gi(){var n=It;return It<<=1,(It&62914560)===0&&(It=4194304),n}function xr(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function qn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $i(n,i,s,c,d,p){var _=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var T=n.entanglements,j=n.expirationTimes,K=n.hiddenUpdates;for(s=_&~s;0<s;){var ie=31-Ye(s),oe=1<<ie;T[ie]=0,j[ie]=-1;var Q=K[ie];if(Q!==null)for(K[ie]=null,ie=0;ie<Q.length;ie++){var J=Q[ie];J!==null&&(J.lane&=-536870913)}s&=~oe}c!==0&&Hn(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~i))}function Hn(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-Ye(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|s&4194090}function Xi(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var c=31-Ye(s),d=1<<c;d&i|n[c]&i&&(n[c]|=i),s&=~d}}function Ir(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function si(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dr(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:Bx(n.type))}function js(n,i){var s=me.p;try{return me.p=n,i()}finally{me.p=s}}var Et=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Et,jt="__reactProps$"+Et,mt="__reactContainer$"+Et,an="__reactEvents$"+Et,oi="__reactListeners$"+Et,Gn="__reactHandles$"+Et,Wc="__reactResources$"+Et,Ga="__reactMarker$"+Et;function Yi(n){delete n[Pt],delete n[jt],delete n[an],delete n[oi],delete n[Gn]}function li(n){var i=n[Pt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[mt]||s[Pt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Sx(n);n!==null;){if(s=n[Pt])return s;n=Sx(n)}return i}n=s,s=n.parentNode}return null}function Or(n){if(n=n[Pt]||n[mt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function jr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function kn(n){var i=n[Wc];return i||(i=n[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ut(n){n[Ga]=!0}var al=new Set,Ms={};function br(n,i){ci(n,i),ci(n+"Capture",i)}function ci(n,i){for(Ms[n]=i,n=0;n<i.length;n++)al.add(i[n])}var Jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},$a={};function eu(n){return Nn.call($a,n)?!0:Nn.call(Zc,n)?!1:Jc.test(n)?$a[n]=!0:(Zc[n]=!0,!1)}function Ki(n,i,s){if(eu(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Mr(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function dn(n,i,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+c)}}var Xa,tu;function ui(n){if(Xa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Xa=i&&i[1]||"",tu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+n+tu}var Ls=!1;function Vs(n,i){if(!n||Ls)return"";Ls=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var Q=J}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(J){Q=J}n.call(oe.prototype)}}else{try{throw Error()}catch(J){Q=J}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),_=p[0],T=p[1];if(_&&T){var j=_.split(`
`),K=T.split(`
`);for(d=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(c===j.length||d===K.length)for(c=j.length-1,d=K.length-1;1<=c&&0<=d&&j[c]!==K[d];)d--;for(;1<=c&&0<=d;c--,d--)if(j[c]!==K[d]){if(c!==1||d!==1)do if(c--,d--,0>d||j[c]!==K[d]){var ie=`
`+j[c].replace(" at new "," at ");return n.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",n.displayName)),ie}while(1<=c&&0<=d);break}}}finally{Ls=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?ui(s):""}function sl(n){switch(n.tag){case 26:case 27:case 5:return ui(n.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Vs(n.type,!1);case 11:return Vs(n.type.render,!1);case 1:return Vs(n.type,!0);case 31:return ui("Activity");default:return""}}function Ps(n){try{var i="";do i+=sl(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function In(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ol(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vd(n){var i=ol(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Us(n){n._valueTracker||(n._valueTracker=Vd(n))}function ll(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return n&&(c=ol(n)?n.checked?"true":"false":n.value),n=c,n!==s?(i.setValue(n),!0):!1}function Ya(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pd=/[\n"\\]/g;function Gt(n){return n.replace(Pd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $n(n,i,s,c,d,p,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+In(i)):n.value!==""+In(i)&&(n.value=""+In(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Qi(n,_,In(i)):s!=null?Qi(n,_,In(s)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+In(T):n.removeAttribute("name")}function Ka(n,i,s,c,d,p,_,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+In(s):"",i=i!=null?""+In(i):s,T||i===n.value||(n.value=i),n.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=T?n.checked:!!c,n.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Qi(n,i,s){i==="number"&&Ya(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function fi(n,i,s,c){if(n=n.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<n.length;s++)d=i.hasOwnProperty("$"+n[s].value),n[s].selected!==d&&(n[s].selected=d),d&&c&&(n[s].defaultSelected=!0)}else{for(s=""+In(s),i=null,d=0;d<n.length;d++){if(n[d].value===s){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function yt(n,i,s){if(i!=null&&(i=""+In(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+In(s):""}function Qa(n,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(a(92));if(ct(c)){if(1<c.length)throw Error(a(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=In(i),n.defaultValue=s,c=n.textContent,c===s&&c!==""&&c!==null&&(n.value=c)}function ir(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(n,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,s):typeof s!="number"||s===0||Wa.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function cl(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&s[d]!==c&&nu(n,d,c)}else for(var p in i)i.hasOwnProperty(p)&&nu(n,p,i[p])}function ul(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ud=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(n){return zd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var di=null;function ar(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hi=null,mi=null;function fl(n){var i=Or(n);if(i&&(n=i.stateNode)){var s=n[jt]||null;e:switch(n=i.stateNode,i.type){case"input":if($n(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==n&&c.form===n.form){var d=c[jt]||null;if(!d)throw Error(a(90));$n(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===n.form&&ll(c)}break e;case"textarea":yt(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&fi(n,!!s.multiple,i,!1)}}}var Lr=!1;function ru(n,i,s){if(Lr)return n(i,s);Lr=!0;try{var c=n(i);return c}finally{if(Lr=!1,(hi!==null||mi!==null)&&(Qu(),hi&&(i=hi,n=mi,mi=hi=null,fl(i),n)))for(i=0;i<n.length;i++)fl(n[i])}}function Ja(n,i){var s=n.stateNode;if(s===null)return null;var c=s[jt]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(vr)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{sr=!1}var Vr=null,Wi=null,pi=null;function dl(){if(pi)return pi;var n,i=Wi,s=i.length,c,d="value"in Vr?Vr.value:Vr.textContent,p=d.length;for(n=0;n<s&&i[n]===d[n];n++);var _=s-n;for(c=1;c<=_&&i[s-c]===d[p-c];c++);return pi=d.slice(n,1<c?1-c:void 0)}function Pr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ur(){return!0}function hl(){return!1}function sn(n){function i(s,c,d,p,_){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(s=n[T],this[T]=s?s(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ur:hl,this.isPropagationStopped=hl,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),i}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=sn(dt),es=b({},dt,{view:0,detail:0}),iu=sn(es),Fs,qs,zr,ts=b({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zr&&(zr&&n.type==="mousemove"?(Fs=n.screenX-zr.screenX,qs=n.screenY-zr.screenY):qs=Fs=0,zr=n),Fs)},movementY:function(n){return"movementY"in n?n.movementY:qs}}),or=sn(ts),au=b({},ts,{dataTransfer:0}),Bd=sn(au),ns=b({},es,{relatedTarget:0}),Hs=sn(ns),ml=b({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=sn(ml),su=b({},dt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$s=sn(su),Fd=b({},dt,{data:0}),pl=sn(Fd),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=lu[n])?!!i[n]:!1}function is(){return gl}var cu=b({},es,{key:function(n){if(n.key){var i=rs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Pr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ou[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(n){return n.type==="keypress"?Pr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xs=sn(cu),uu=b({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=sn(uu),gi=b({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),fu=sn(gi),du=b({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=sn(du),mu=b({},ts,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=sn(mu),Dn=b({},dt,{newState:0,oldState:0}),pu=sn(Dn),gu=[9,13,27,32],Br=vr&&"CompositionEvent"in window,f=null;vr&&"documentMode"in document&&(f=document.documentMode);var x=vr&&"TextEvent"in window&&!f,v=vr&&(!Br||f&&8<f&&11>=f),A=" ",X=!1;function Z(n,i){switch(n){case"keyup":return gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var at=!1;function Jt(n,i){switch(n){case"compositionend":return pe(i);case"keypress":return i.which!==32?null:(X=!0,A);case"textInput":return n=i.data,n===A&&X?null:n;default:return null}}function st(n,i){if(at)return n==="compositionend"||!Br&&Z(n,i)?(n=dl(),pi=Wi=Vr=null,at=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!on[n.type]:i==="textarea"}function yi(n,i,s,c){hi?mi?mi.push(c):mi=[c]:hi=c,i=nf(i,"onChange"),0<i.length&&(s=new Bs("onChange","change",null,s,c),n.push({event:s,listeners:i}))}var hn=null,Fr=null;function xl(n){gx(n,0)}function yu(n){var i=jr(n);if(ll(i))return n}function Vg(n,i){if(n==="change")return i}var Pg=!1;if(vr){var qd;if(vr){var Hd="oninput"in document;if(!Hd){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),Hd=typeof Ug.oninput=="function"}qd=Hd}else qd=!1;Pg=qd&&(!document.documentMode||9<document.documentMode)}function zg(){hn&&(hn.detachEvent("onpropertychange",Bg),Fr=hn=null)}function Bg(n){if(n.propertyName==="value"&&yu(Fr)){var i=[];yi(i,Fr,n,ar(n)),ru(xl,i)}}function cE(n,i,s){n==="focusin"?(zg(),hn=i,Fr=s,hn.attachEvent("onpropertychange",Bg)):n==="focusout"&&zg()}function uE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yu(Fr)}function fE(n,i){if(n==="click")return yu(i)}function dE(n,i){if(n==="input"||n==="change")return yu(i)}function hE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Xn=typeof Object.is=="function"?Object.is:hE;function bl(n,i){if(Xn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!Nn.call(i,d)||!Xn(n[d],i[d]))return!1}return!0}function Fg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qg(n,i){var s=Fg(n);n=0;for(var c;s;){if(s.nodeType===3){if(c=n+s.textContent.length,n<=i&&c>=i)return{node:s,offset:i-n};n=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Fg(s)}}function Hg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Hg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Gg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ya(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Ya(n.document)}return i}function Gd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var mE=vr&&"documentMode"in document&&11>=document.documentMode,Ks=null,$d=null,vl=null,Xd=!1;function $g(n,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xd||Ks==null||Ks!==Ya(c)||(c=Ks,"selectionStart"in c&&Gd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vl&&bl(vl,c)||(vl=c,c=nf($d,"onSelect"),0<c.length&&(i=new Bs("onSelect","select",null,i,s),n.push({event:i,listeners:c}),i.target=Ks)))}function as(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Qs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Yd={},Xg={};vr&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ss(n){if(Yd[n])return Yd[n];if(!Qs[n])return n;var i=Qs[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in Xg)return Yd[n]=i[s];return n}var Yg=ss("animationend"),Kg=ss("animationiteration"),Qg=ss("animationstart"),pE=ss("transitionrun"),gE=ss("transitionstart"),yE=ss("transitioncancel"),Wg=ss("transitionend"),Jg=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function _r(n,i){Jg.set(n,i),br(i,[n])}var Zg=new WeakMap;function lr(n,i){if(typeof n=="object"&&n!==null){var s=Zg.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Ps(i)},Zg.set(n,i),i)}return{value:n,source:i,stack:Ps(i)}}var cr=[],Ws=0,Qd=0;function xu(){for(var n=Ws,i=Qd=Ws=0;i<n;){var s=cr[i];cr[i++]=null;var c=cr[i];cr[i++]=null;var d=cr[i];cr[i++]=null;var p=cr[i];if(cr[i++]=null,c!==null&&d!==null){var _=c.pending;_===null?d.next=d:(d.next=_.next,_.next=d),c.pending=d}p!==0&&e0(s,d,p)}}function bu(n,i,s,c){cr[Ws++]=n,cr[Ws++]=i,cr[Ws++]=s,cr[Ws++]=c,Qd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Wd(n,i,s,c){return bu(n,i,s,c),vu(n)}function Js(n,i){return bu(n,null,null,i),vu(n)}function e0(n,i,s){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s);for(var d=!1,p=n.return;p!==null;)p.childLanes|=s,c=p.alternate,c!==null&&(c.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&i!==null&&(d=31-Ye(s),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[i]:c.push(i),i.lane=s|536870912),p):null}function vu(n){if(50<Gl)throw Gl=0,rm=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Zs={};function xE(n,i,s,c){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(n,i,s,c){return new xE(n,i,s,c)}function Jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xi(n,i){var s=n.alternate;return s===null?(s=Yn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function t0(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function _u(n,i,s,c,d,p){var _=0;if(c=n,typeof n=="function")Jd(n)&&(_=1);else if(typeof n=="string")_=vT(n,s,we.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Yn(31,s,i,d),n.elementType=C,n.lanes=p,n;case P:return os(s.children,d,p,i);case V:_=8,d|=24;break;case D:return n=Yn(12,s,i,d|2),n.elementType=D,n.lanes=p,n;case ne:return n=Yn(13,s,i,d),n.elementType=ne,n.lanes=p,n;case le:return n=Yn(19,s,i,d),n.elementType=le,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:case G:_=10;break e;case F:_=9;break e;case re:_=11;break e;case N:_=14;break e;case S:_=16,c=null;break e}_=29,s=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=Yn(_,s,i,d),i.elementType=n,i.type=c,i.lanes=p,i}function os(n,i,s,c){return n=Yn(7,n,c,i),n.lanes=s,n}function Zd(n,i,s){return n=Yn(6,n,null,i),n.lanes=s,n}function eh(n,i,s){return i=Yn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var eo=[],to=0,wu=null,Eu=0,ur=[],fr=0,ls=null,bi=1,vi="";function cs(n,i){eo[to++]=Eu,eo[to++]=wu,wu=n,Eu=i}function n0(n,i,s){ur[fr++]=bi,ur[fr++]=vi,ur[fr++]=ls,ls=n;var c=bi;n=vi;var d=32-Ye(c)-1;c&=~(1<<d),s+=1;var p=32-Ye(i)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,bi=1<<32-Ye(i)+d|s<<d|c,vi=p+n}else bi=1<<p|s<<d|c,vi=n}function th(n){n.return!==null&&(cs(n,1),n0(n,1,0))}function nh(n){for(;n===wu;)wu=eo[--to],eo[to]=null,Eu=eo[--to],eo[to]=null;for(;n===ls;)ls=ur[--fr],ur[fr]=null,vi=ur[--fr],ur[fr]=null,bi=ur[--fr],ur[fr]=null}var On=null,Mt=null,ft=!1,us=null,qr=!1,rh=Error(a(519));function fs(n){var i=Error(a(418,""));throw El(lr(i,n)),rh}function r0(n){var i=n.stateNode,s=n.type,c=n.memoizedProps;switch(i[Pt]=n,i[jt]=c,s){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(s=0;s<Xl.length;s++)We(Xl[s],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),Ka(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Us(i);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),Qa(i,c.value,c.defaultValue,c.children),Us(i)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||vx(i.textContent,s)?(c.popover!=null&&(We("beforetoggle",i),We("toggle",i)),c.onScroll!=null&&We("scroll",i),c.onScrollEnd!=null&&We("scrollend",i),c.onClick!=null&&(i.onclick=rf),i=!0):i=!1,i||fs(n)}function i0(n){for(On=n.return;On;)switch(On.tag){case 5:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:On=On.return}}function _l(n){if(n!==On)return!1;if(!ft)return i0(n),ft=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||bm(n.type,n.memoizedProps)),s=!s),s&&Mt&&fs(n),i0(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){Mt=Er(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}Mt=null}}else i===27?(i=Mt,ha(n.type)?(n=Em,Em=null,Mt=n):Mt=i):Mt=On?Er(n.stateNode.nextSibling):null;return!0}function wl(){Mt=On=null,ft=!1}function a0(){var n=us;return n!==null&&(Pn===null?Pn=n:Pn.push.apply(Pn,n),us=null),n}function El(n){us===null?us=[n]:us.push(n)}var ih=te(null),ds=null,_i=null;function Ji(n,i,s){fe(ih,i._currentValue),i._currentValue=s}function wi(n){n._currentValue=ih.current,de(ih)}function ah(n,i,s){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===s)break;n=n.return}}function sh(n,i,s,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var _=d.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=d;for(var j=0;j<i.length;j++)if(T.context===i[j]){p.lanes|=s,T=p.alternate,T!==null&&(T.lanes|=s),ah(p.return,s,n),c||(_=null);break e}p=T.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(a(341));_.lanes|=s,p=_.alternate,p!==null&&(p.lanes|=s),ah(_,s,n),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===n){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Tl(n,i,s,c){n=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=d.type;Xn(d.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(d===Ht.current){if(_=d.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Zl):n=[Zl])}d=d.return}n!==null&&sh(i,n,s,c),i.flags|=262144}function Tu(n){for(n=n.firstContext;n!==null;){if(!Xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function hs(n){ds=n,_i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _n(n){return s0(ds,n)}function Au(n,i){return ds===null&&hs(n),s0(n,i)}function s0(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},_i===null){if(n===null)throw Error(a(308));_i=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else _i=_i.next=i;return s}var bE=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},vE=r.unstable_scheduleCallback,_E=r.unstable_NormalPriority,en={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new bE,data:new Map,refCount:0}}function Al(n){n.refCount--,n.refCount===0&&vE(_E,function(){n.controller.abort()})}var Sl=null,lh=0,no=0,ro=null;function wE(n,i){if(Sl===null){var s=Sl=[];lh=0,no=um(),ro={status:"pending",value:void 0,then:function(c){s.push(c)}}}return lh++,i.then(o0,o0),i}function o0(){if(--lh===0&&Sl!==null){ro!==null&&(ro.status="fulfilled");var n=Sl;Sl=null,no=0,ro=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function EE(n,i){var s=[],c={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),c}var l0=W.S;W.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wE(n,i),l0!==null&&l0(n,i)};var ms=te(null);function ch(){var n=ms.current;return n!==null?n:Tt.pooledCache}function Su(n,i){i===null?fe(ms,ms.current):fe(ms,i.pool)}function c0(){var n=ch();return n===null?null:{parent:en._currentValue,pool:n}}var Nl=Error(a(460)),u0=Error(a(474)),Nu=Error(a(542)),uh={then:function(){}};function f0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cu(){}function d0(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Cu,Cu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,m0(n),n;default:if(typeof i.status=="string")i.then(Cu,Cu);else{if(n=Tt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,m0(n),n}throw Cl=i,Nl}}var Cl=null;function h0(){if(Cl===null)throw Error(a(459));var n=Cl;return Cl=null,n}function m0(n){if(n===Nl||n===Nu)throw Error(a(483))}var Zi=!1;function fh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ea(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ta(n,i,s){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(pt&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=vu(n),e0(n,null,s),i}return bu(n,c,i,s),vu(n)}function Rl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,s|=c,i.lanes=s,Xi(n,s)}}function hh(n,i){var s=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?d=p=_:p=p.next=_,s=s.next}while(s!==null);p===null?d=p=i:p=p.next=i}else d=p=i;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var mh=!1;function kl(){if(mh){var n=ro;if(n!==null)throw n}}function Il(n,i,s,c){mh=!1;var d=n.updateQueue;Zi=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var j=T,K=j.next;j.next=null,_===null?p=K:_.next=K,_=j;var ie=n.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==_&&(T===null?ie.firstBaseUpdate=K:T.next=K,ie.lastBaseUpdate=j))}if(p!==null){var oe=d.baseState;_=0,ie=K=j=null,T=p;do{var Q=T.lane&-536870913,J=Q!==T.lane;if(J?(ot&Q)===Q:(c&Q)===Q){Q!==0&&Q===no&&(mh=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Le=n,Ce=T;Q=i;var vt=s;switch(Ce.tag){case 1:if(Le=Ce.payload,typeof Le=="function"){oe=Le.call(vt,oe,Q);break e}oe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ce.payload,Q=typeof Le=="function"?Le.call(vt,oe,Q):Le,Q==null)break e;oe=b({},oe,Q);break e;case 2:Zi=!0}}Q=T.callback,Q!==null&&(n.flags|=64,J&&(n.flags|=8192),J=d.callbacks,J===null?d.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(K=ie=J,j=oe):ie=ie.next=J,_|=Q;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;J=T,T=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);ie===null&&(j=oe),d.baseState=j,d.firstBaseUpdate=K,d.lastBaseUpdate=ie,p===null&&(d.shared.lanes=0),ca|=_,n.lanes=_,n.memoizedState=oe}}function p0(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function g0(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)p0(s[n],i)}var io=te(null),Ru=te(0);function y0(n,i){n=Ri,fe(Ru,n),fe(io,i),Ri=n|i.baseLanes}function ph(){fe(Ru,Ri),fe(io,io.current)}function gh(){Ri=Ru.current,de(io),de(Ru)}var na=0,Ge=null,xt=null,$t=null,ku=!1,ao=!1,ps=!1,Iu=0,Dl=0,so=null,TE=0;function zt(){throw Error(a(321))}function yh(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Xn(n[s],i[s]))return!1;return!0}function xh(n,i,s,c,d,p){return na=p,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=n===null||n.memoizedState===null?ey:ty,ps=!1,p=s(c,d),ps=!1,ao&&(p=b0(i,s,c,d)),x0(n),p}function x0(n){W.H=Vu;var i=xt!==null&&xt.next!==null;if(na=0,$t=xt=Ge=null,ku=!1,Dl=0,so=null,i)throw Error(a(300));n===null||ln||(n=n.dependencies,n!==null&&Tu(n)&&(ln=!0))}function b0(n,i,s,c){Ge=n;var d=0;do{if(ao&&(so=null),Dl=0,ao=!1,25<=d)throw Error(a(301));if(d+=1,$t=xt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=IE,p=i(s,c)}while(ao);return p}function AE(){var n=W.H,i=n.useState()[0];return i=typeof i.then=="function"?Ol(i):i,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&(Ge.flags|=1024),i}function bh(){var n=Iu!==0;return Iu=0,n}function vh(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function _h(n){if(ku){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ku=!1}na=0,$t=xt=Ge=null,ao=!1,Dl=Iu=0,so=null}function Ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ge.memoizedState=$t=n:$t=$t.next=n,$t}function Xt(){if(xt===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var i=$t===null?Ge.memoizedState:$t.next;if(i!==null)$t=i,xt=n;else{if(n===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},$t===null?Ge.memoizedState=$t=n:$t=$t.next=n}return $t}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(n){var i=Dl;return Dl+=1,so===null&&(so=[]),n=d0(so,n,i),i=Ge,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?ey:ty),n}function Du(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ol(n);if(n.$$typeof===G)return _n(n)}throw Error(a(438,String(n)))}function Eh(n){var i=null,s=Ge.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=wh(),Ge.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),c=0;c<n;c++)s[c]=R;return i.index++,s}function Ei(n,i){return typeof i=="function"?i(n):i}function Ou(n){var i=Xt();return Th(i,xt,n)}function Th(n,i,s){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=s;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}i.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{i=d.next;var T=_=null,j=null,K=i,ie=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(ot&oe)===oe:(na&oe)===oe){var Q=K.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===no&&(ie=!0);else if((na&Q)===Q){K=K.next,Q===no&&(ie=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(T=j=oe,_=p):j=j.next=oe,Ge.lanes|=Q,ca|=Q;oe=K.action,ps&&s(p,oe),p=K.hasEagerState?K.eagerState:s(p,oe)}else Q={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(T=j=Q,_=p):j=j.next=Q,Ge.lanes|=oe,ca|=oe;K=K.next}while(K!==null&&K!==i);if(j===null?_=p:j.next=T,!Xn(p,n.memoizedState)&&(ln=!0,ie&&(s=ro,s!==null)))throw s;n.memoizedState=p,n.baseState=_,n.baseQueue=j,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Ah(n){var i=Xt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var c=s.dispatch,d=s.pending,p=i.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do p=n(p,_.action),_=_.next;while(_!==d);Xn(p,i.memoizedState)||(ln=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,c]}function v0(n,i,s){var c=Ge,d=Xt(),p=ft;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!Xn((xt||d).memoizedState,s);_&&(d.memoizedState=s,ln=!0),d=d.queue;var T=E0.bind(null,c,d,n);if(jl(2048,8,T,[n]),d.getSnapshot!==i||_||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,oo(9,ju(),w0.bind(null,c,d,s,i),null),Tt===null)throw Error(a(349));p||(na&124)!==0||_0(c,i,s)}return s}function _0(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ge.updateQueue,i===null?(i=wh(),Ge.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function w0(n,i,s,c){i.value=s,i.getSnapshot=c,T0(i)&&A0(n)}function E0(n,i,s){return s(function(){T0(i)&&A0(n)})}function T0(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Xn(n,s)}catch{return!0}}function A0(n){var i=Js(n,2);i!==null&&Zn(i,n,2)}function Sh(n){var i=Ln();if(typeof n=="function"){var s=n;if(n=s(),ps){Ve(!0);try{s()}finally{Ve(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},i}function S0(n,i,s,c){return n.baseState=s,Th(n,xt,typeof c=="function"?c:Ei)}function SE(n,i,s,c,d){if(Lu(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};W.T!==null?s(!0):p.isTransition=!1,c(p),s=i.pending,s===null?(p.next=i.pending=p,N0(i,p)):(p.next=s.next,i.pending=s.next=p)}}function N0(n,i){var s=i.action,c=i.payload,d=n.state;if(i.isTransition){var p=W.T,_={};W.T=_;try{var T=s(d,c),j=W.S;j!==null&&j(_,T),C0(n,i,T)}catch(K){Nh(n,i,K)}finally{W.T=p}}else try{p=s(d,c),C0(n,i,p)}catch(K){Nh(n,i,K)}}function C0(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){R0(n,i,c)},function(c){return Nh(n,i,c)}):R0(n,i,s)}function R0(n,i,s){i.status="fulfilled",i.value=s,k0(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,N0(n,s)))}function Nh(n,i,s){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,k0(i),i=i.next;while(i!==c)}n.action=null}function k0(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function I0(n,i){return i}function D0(n,i){if(ft){var s=Tt.formState;if(s!==null){e:{var c=Ge;if(ft){if(Mt){t:{for(var d=Mt,p=qr;d.nodeType!==8;){if(!p){d=null;break t}if(d=Er(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Mt=Er(d.nextSibling),c=d.data==="F!";break e}}fs(c)}c=!1}c&&(i=s[0])}}return s=Ln(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I0,lastRenderedState:i},s.queue=c,s=W0.bind(null,Ge,c),c.dispatch=s,c=Sh(!1),p=Dh.bind(null,Ge,!1,c.queue),c=Ln(),d={state:i,dispatch:null,action:n,pending:null},c.queue=d,s=SE.bind(null,Ge,d,p,s),d.dispatch=s,c.memoizedState=n,[i,s,!1]}function O0(n){var i=Xt();return j0(i,xt,n)}function j0(n,i,s){if(i=Th(n,i,I0)[0],n=Ou(Ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ol(i)}catch(_){throw _===Nl?Nu:_}else c=i;i=Xt();var d=i.queue,p=d.dispatch;return s!==i.memoizedState&&(Ge.flags|=2048,oo(9,ju(),NE.bind(null,d,s),null)),[c,p,n]}function NE(n,i){n.action=i}function M0(n){var i=Xt(),s=xt;if(s!==null)return j0(i,s,n);Xt(),i=i.memoizedState,s=Xt();var c=s.queue.dispatch;return s.memoizedState=n,[i,c,!1]}function oo(n,i,s,c){return n={tag:n,create:s,deps:c,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=wh(),Ge.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(c=s.next,s.next=n,n.next=c,i.lastEffect=n),n}function ju(){return{destroy:void 0,resource:void 0}}function L0(){return Xt().memoizedState}function Mu(n,i,s,c){var d=Ln();c=c===void 0?null:c,Ge.flags|=n,d.memoizedState=oo(1|i,ju(),s,c)}function jl(n,i,s,c){var d=Xt();c=c===void 0?null:c;var p=d.memoizedState.inst;xt!==null&&c!==null&&yh(c,xt.memoizedState.deps)?d.memoizedState=oo(i,p,s,c):(Ge.flags|=n,d.memoizedState=oo(1|i,p,s,c))}function V0(n,i){Mu(8390656,8,n,i)}function P0(n,i){jl(2048,8,n,i)}function U0(n,i){return jl(4,2,n,i)}function z0(n,i){return jl(4,4,n,i)}function B0(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function F0(n,i,s){s=s!=null?s.concat([n]):null,jl(4,4,B0.bind(null,i,n),s)}function Ch(){}function q0(n,i){var s=Xt();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&yh(i,c[1])?c[0]:(s.memoizedState=[n,i],n)}function H0(n,i){var s=Xt();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&yh(i,c[1]))return c[0];if(c=n(),ps){Ve(!0);try{n()}finally{Ve(!1)}}return s.memoizedState=[c,i],c}function Rh(n,i,s){return s===void 0||(na&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=Xy(),Ge.lanes|=n,ca|=n,s)}function G0(n,i,s,c){return Xn(s,i)?s:io.current!==null?(n=Rh(n,s,c),Xn(n,i)||(ln=!0),n):(na&42)===0?(ln=!0,n.memoizedState=s):(n=Xy(),Ge.lanes|=n,ca|=n,i)}function $0(n,i,s,c,d){var p=me.p;me.p=p!==0&&8>p?p:8;var _=W.T,T={};W.T=T,Dh(n,!1,i,s);try{var j=d(),K=W.S;if(K!==null&&K(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ie=EE(j,c);Ml(n,i,ie,Jn(n))}else Ml(n,i,c,Jn(n))}catch(oe){Ml(n,i,{then:function(){},status:"rejected",reason:oe},Jn())}finally{me.p=p,W.T=_}}function CE(){}function kh(n,i,s,c){if(n.tag!==5)throw Error(a(476));var d=X0(n).queue;$0(n,d,i,ue,s===null?CE:function(){return Y0(n),s(c)})}function X0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Y0(n){var i=X0(n).next.queue;Ml(n,i,{},Jn())}function Ih(){return _n(Zl)}function K0(){return Xt().memoizedState}function Q0(){return Xt().memoizedState}function RE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Jn();n=ea(s);var c=ta(i,n,s);c!==null&&(Zn(c,i,s),Rl(c,i,s)),i={cache:oh()},n.payload=i;return}i=i.return}}function kE(n,i,s){var c=Jn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(n)?J0(i,s):(s=Wd(n,i,s,c),s!==null&&(Zn(s,n,c),Z0(s,i,c)))}function W0(n,i,s){var c=Jn();Ml(n,i,s,c)}function Ml(n,i,s,c){var d={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(n))J0(i,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,T=p(_,s);if(d.hasEagerState=!0,d.eagerState=T,Xn(T,_))return bu(n,i,d,0),Tt===null&&xu(),!1}catch{}finally{}if(s=Wd(n,i,d,c),s!==null)return Zn(s,n,c),Z0(s,i,c),!0}return!1}function Dh(n,i,s,c){if(c={lane:2,revertLane:um(),action:c,hasEagerState:!1,eagerState:null,next:null},Lu(n)){if(i)throw Error(a(479))}else i=Wd(n,s,c,2),i!==null&&Zn(i,n,2)}function Lu(n){var i=n.alternate;return n===Ge||i!==null&&i===Ge}function J0(n,i){ao=ku=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Z0(n,i,s){if((s&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,s|=c,i.lanes=s,Xi(n,s)}}var Vu={readContext:_n,use:Du,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},ey={readContext:_n,use:Du,useCallback:function(n,i){return Ln().memoizedState=[n,i===void 0?null:i],n},useContext:_n,useEffect:V0,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Mu(4194308,4,B0.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Mu(4194308,4,n,i)},useInsertionEffect:function(n,i){Mu(4,2,n,i)},useMemo:function(n,i){var s=Ln();i=i===void 0?null:i;var c=n();if(ps){Ve(!0);try{n()}finally{Ve(!1)}}return s.memoizedState=[c,i],c},useReducer:function(n,i,s){var c=Ln();if(s!==void 0){var d=s(i);if(ps){Ve(!0);try{s(i)}finally{Ve(!1)}}}else d=i;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=kE.bind(null,Ge,n),[c.memoizedState,n]},useRef:function(n){var i=Ln();return n={current:n},i.memoizedState=n},useState:function(n){n=Sh(n);var i=n.queue,s=W0.bind(null,Ge,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Ch,useDeferredValue:function(n,i){var s=Ln();return Rh(s,n,i)},useTransition:function(){var n=Sh(!1);return n=$0.bind(null,Ge,n.queue,!0,!1),Ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var c=Ge,d=Ln();if(ft){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Tt===null)throw Error(a(349));(ot&124)!==0||_0(c,i,s)}d.memoizedState=s;var p={value:s,getSnapshot:i};return d.queue=p,V0(E0.bind(null,c,p,n),[n]),c.flags|=2048,oo(9,ju(),w0.bind(null,c,p,s,i),null),s},useId:function(){var n=Ln(),i=Tt.identifierPrefix;if(ft){var s=vi,c=bi;s=(c&~(1<<32-Ye(c)-1)).toString(32)+s,i=""+i+"R"+s,s=Iu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=TE++,i=""+i+"r"+s.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Ih,useFormState:D0,useActionState:D0,useOptimistic:function(n){var i=Ln();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Dh.bind(null,Ge,!0,s),s.dispatch=i,[n,i]},useMemoCache:Eh,useCacheRefresh:function(){return Ln().memoizedState=RE.bind(null,Ge)}},ty={readContext:_n,use:Du,useCallback:q0,useContext:_n,useEffect:P0,useImperativeHandle:F0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:H0,useReducer:Ou,useRef:L0,useState:function(){return Ou(Ei)},useDebugValue:Ch,useDeferredValue:function(n,i){var s=Xt();return G0(s,xt.memoizedState,n,i)},useTransition:function(){var n=Ou(Ei)[0],i=Xt().memoizedState;return[typeof n=="boolean"?n:Ol(n),i]},useSyncExternalStore:v0,useId:K0,useHostTransitionStatus:Ih,useFormState:O0,useActionState:O0,useOptimistic:function(n,i){var s=Xt();return S0(s,xt,n,i)},useMemoCache:Eh,useCacheRefresh:Q0},IE={readContext:_n,use:Du,useCallback:q0,useContext:_n,useEffect:P0,useImperativeHandle:F0,useInsertionEffect:U0,useLayoutEffect:z0,useMemo:H0,useReducer:Ah,useRef:L0,useState:function(){return Ah(Ei)},useDebugValue:Ch,useDeferredValue:function(n,i){var s=Xt();return xt===null?Rh(s,n,i):G0(s,xt.memoizedState,n,i)},useTransition:function(){var n=Ah(Ei)[0],i=Xt().memoizedState;return[typeof n=="boolean"?n:Ol(n),i]},useSyncExternalStore:v0,useId:K0,useHostTransitionStatus:Ih,useFormState:M0,useActionState:M0,useOptimistic:function(n,i){var s=Xt();return xt!==null?S0(s,xt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:Q0},lo=null,Ll=0;function Pu(n){var i=Ll;return Ll+=1,lo===null&&(lo=[]),d0(lo,n,i)}function Vl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Uu(n,i){throw i.$$typeof===w?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ny(n){var i=n._init;return i(n._payload)}function ry(n){function i(H,U){if(n){var Y=H.deletions;Y===null?(H.deletions=[U],H.flags|=16):Y.push(U)}}function s(H,U){if(!n)return null;for(;U!==null;)i(H,U),U=U.sibling;return null}function c(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=xi(H,U),H.index=0,H.sibling=null,H}function p(H,U,Y){return H.index=Y,n?(Y=H.alternate,Y!==null?(Y=Y.index,Y<U?(H.flags|=67108866,U):Y):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function _(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function T(H,U,Y,ae){return U===null||U.tag!==6?(U=Zd(Y,H.mode,ae),U.return=H,U):(U=d(U,Y),U.return=H,U)}function j(H,U,Y,ae){var ve=Y.type;return ve===P?ie(H,U,Y.props.children,ae,Y.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&ny(ve)===U.type)?(U=d(U,Y.props),Vl(U,Y),U.return=H,U):(U=_u(Y.type,Y.key,Y.props,null,H.mode,ae),Vl(U,Y),U.return=H,U)}function K(H,U,Y,ae){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=eh(Y,H.mode,ae),U.return=H,U):(U=d(U,Y.children||[]),U.return=H,U)}function ie(H,U,Y,ae,ve){return U===null||U.tag!==7?(U=os(Y,H.mode,ae,ve),U.return=H,U):(U=d(U,Y),U.return=H,U)}function oe(H,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Zd(""+U,H.mode,Y),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return Y=_u(U.type,U.key,U.props,null,H.mode,Y),Vl(Y,U),Y.return=H,Y;case k:return U=eh(U,H.mode,Y),U.return=H,U;case S:var ae=U._init;return U=ae(U._payload),oe(H,U,Y)}if(ct(U)||q(U))return U=os(U,H.mode,Y,null),U.return=H,U;if(typeof U.then=="function")return oe(H,Pu(U),Y);if(U.$$typeof===G)return oe(H,Au(H,U),Y);Uu(H,U)}return null}function Q(H,U,Y,ae){var ve=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:T(H,U,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===ve?j(H,U,Y,ae):null;case k:return Y.key===ve?K(H,U,Y,ae):null;case S:return ve=Y._init,Y=ve(Y._payload),Q(H,U,Y,ae)}if(ct(Y)||q(Y))return ve!==null?null:ie(H,U,Y,ae,null);if(typeof Y.then=="function")return Q(H,U,Pu(Y),ae);if(Y.$$typeof===G)return Q(H,U,Au(H,Y),ae);Uu(H,Y)}return null}function J(H,U,Y,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return H=H.get(Y)||null,T(U,H,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return H=H.get(ae.key===null?Y:ae.key)||null,j(U,H,ae,ve);case k:return H=H.get(ae.key===null?Y:ae.key)||null,K(U,H,ae,ve);case S:var $e=ae._init;return ae=$e(ae._payload),J(H,U,Y,ae,ve)}if(ct(ae)||q(ae))return H=H.get(Y)||null,ie(U,H,ae,ve,null);if(typeof ae.then=="function")return J(H,U,Y,Pu(ae),ve);if(ae.$$typeof===G)return J(H,U,Y,Au(U,ae),ve);Uu(U,ae)}return null}function Le(H,U,Y,ae){for(var ve=null,$e=null,Te=U,Ie=U=0,un=null;Te!==null&&Ie<Y.length;Ie++){Te.index>Ie?(un=Te,Te=null):un=Te.sibling;var ut=Q(H,Te,Y[Ie],ae);if(ut===null){Te===null&&(Te=un);break}n&&Te&&ut.alternate===null&&i(H,Te),U=p(ut,U,Ie),$e===null?ve=ut:$e.sibling=ut,$e=ut,Te=un}if(Ie===Y.length)return s(H,Te),ft&&cs(H,Ie),ve;if(Te===null){for(;Ie<Y.length;Ie++)Te=oe(H,Y[Ie],ae),Te!==null&&(U=p(Te,U,Ie),$e===null?ve=Te:$e.sibling=Te,$e=Te);return ft&&cs(H,Ie),ve}for(Te=c(Te);Ie<Y.length;Ie++)un=J(Te,H,Ie,Y[Ie],ae),un!==null&&(n&&un.alternate!==null&&Te.delete(un.key===null?Ie:un.key),U=p(un,U,Ie),$e===null?ve=un:$e.sibling=un,$e=un);return n&&Te.forEach(function(xa){return i(H,xa)}),ft&&cs(H,Ie),ve}function Ce(H,U,Y,ae){if(Y==null)throw Error(a(151));for(var ve=null,$e=null,Te=U,Ie=U=0,un=null,ut=Y.next();Te!==null&&!ut.done;Ie++,ut=Y.next()){Te.index>Ie?(un=Te,Te=null):un=Te.sibling;var xa=Q(H,Te,ut.value,ae);if(xa===null){Te===null&&(Te=un);break}n&&Te&&xa.alternate===null&&i(H,Te),U=p(xa,U,Ie),$e===null?ve=xa:$e.sibling=xa,$e=xa,Te=un}if(ut.done)return s(H,Te),ft&&cs(H,Ie),ve;if(Te===null){for(;!ut.done;Ie++,ut=Y.next())ut=oe(H,ut.value,ae),ut!==null&&(U=p(ut,U,Ie),$e===null?ve=ut:$e.sibling=ut,$e=ut);return ft&&cs(H,Ie),ve}for(Te=c(Te);!ut.done;Ie++,ut=Y.next())ut=J(Te,H,Ie,ut.value,ae),ut!==null&&(n&&ut.alternate!==null&&Te.delete(ut.key===null?Ie:ut.key),U=p(ut,U,Ie),$e===null?ve=ut:$e.sibling=ut,$e=ut);return n&&Te.forEach(function(DT){return i(H,DT)}),ft&&cs(H,Ie),ve}function vt(H,U,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===P&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var ve=Y.key;U!==null;){if(U.key===ve){if(ve=Y.type,ve===P){if(U.tag===7){s(H,U.sibling),ae=d(U,Y.props.children),ae.return=H,H=ae;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===S&&ny(ve)===U.type){s(H,U.sibling),ae=d(U,Y.props),Vl(ae,Y),ae.return=H,H=ae;break e}s(H,U);break}else i(H,U);U=U.sibling}Y.type===P?(ae=os(Y.props.children,H.mode,ae,Y.key),ae.return=H,H=ae):(ae=_u(Y.type,Y.key,Y.props,null,H.mode,ae),Vl(ae,Y),ae.return=H,H=ae)}return _(H);case k:e:{for(ve=Y.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){s(H,U.sibling),ae=d(U,Y.children||[]),ae.return=H,H=ae;break e}else{s(H,U);break}else i(H,U);U=U.sibling}ae=eh(Y,H.mode,ae),ae.return=H,H=ae}return _(H);case S:return ve=Y._init,Y=ve(Y._payload),vt(H,U,Y,ae)}if(ct(Y))return Le(H,U,Y,ae);if(q(Y)){if(ve=q(Y),typeof ve!="function")throw Error(a(150));return Y=ve.call(Y),Ce(H,U,Y,ae)}if(typeof Y.then=="function")return vt(H,U,Pu(Y),ae);if(Y.$$typeof===G)return vt(H,U,Au(H,Y),ae);Uu(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(s(H,U.sibling),ae=d(U,Y),ae.return=H,H=ae):(s(H,U),ae=Zd(Y,H.mode,ae),ae.return=H,H=ae),_(H)):s(H,U)}return function(H,U,Y,ae){try{Ll=0;var ve=vt(H,U,Y,ae);return lo=null,ve}catch(Te){if(Te===Nl||Te===Nu)throw Te;var $e=Yn(29,Te,null,H.mode);return $e.lanes=ae,$e.return=H,$e}finally{}}}var co=ry(!0),iy=ry(!1),dr=te(null),Hr=null;function ra(n){var i=n.alternate;fe(tn,tn.current&1),fe(dr,n),Hr===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(Hr=n)}function ay(n){if(n.tag===22){if(fe(tn,tn.current),fe(dr,n),Hr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Hr=n)}}else ia()}function ia(){fe(tn,tn.current),fe(dr,dr.current)}function Ti(n){de(dr),Hr===n&&(Hr=null),de(tn)}var tn=te(0);function zu(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||wm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Oh(n,i,s,c){i=n.memoizedState,s=s(c,i),s=s==null?i:b({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var jh={enqueueSetState:function(n,i,s){n=n._reactInternals;var c=Jn(),d=ea(c);d.payload=i,s!=null&&(d.callback=s),i=ta(n,d,c),i!==null&&(Zn(i,n,c),Rl(i,n,c))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var c=Jn(),d=ea(c);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=ta(n,d,c),i!==null&&(Zn(i,n,c),Rl(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Jn(),c=ea(s);c.tag=2,i!=null&&(c.callback=i),i=ta(n,c,s),i!==null&&(Zn(i,n,s),Rl(i,n,s))}};function sy(n,i,s,c,d,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,_):i.prototype&&i.prototype.isPureReactComponent?!bl(s,c)||!bl(d,p):!0}function oy(n,i,s,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==n&&jh.enqueueReplaceState(i,i.state,null)}function gs(n,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(n=n.defaultProps){s===i&&(s=b({},s));for(var d in n)s[d]===void 0&&(s[d]=n[d])}return s}var Bu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ly(n){Bu(n)}function cy(n){console.error(n)}function uy(n){Bu(n)}function Fu(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function fy(n,i,s){try{var c=n.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mh(n,i,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(n,i)},s}function dy(n){return n=ea(n),n.tag=3,n}function hy(n,i,s,c){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){fy(i,s,c)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){fy(i,s,c),typeof d!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function DE(n,i,s,c,d){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&Tl(i,s,d,!0),s=dr.current,s!==null){switch(s.tag){case 13:return Hr===null?am():s.alternate===null&&Lt===0&&(Lt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,c===uh?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),om(n,c,d)),!1;case 22:return s.flags|=65536,c===uh?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),om(n,c,d)),!1}throw Error(a(435,s.tag))}return om(n,c,d),am(),!1}if(ft)return i=dr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==rh&&(n=Error(a(422),{cause:c}),El(lr(n,s)))):(c!==rh&&(i=Error(a(423),{cause:c}),El(lr(i,s))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=lr(c,s),d=Mh(n.stateNode,c,d),hh(n,d),Lt!==4&&(Lt=2)),!1;var p=Error(a(520),{cause:c});if(p=lr(p,s),Hl===null?Hl=[p]:Hl.push(p),Lt!==4&&(Lt=2),i===null)return!0;c=lr(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=d&-d,s.lanes|=n,n=Mh(s.stateNode,c,n),hh(s,n),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ua===null||!ua.has(p))))return s.flags|=65536,d&=-d,s.lanes|=d,d=dy(d),hy(d,n,s,c),hh(s,d),!1}s=s.return}while(s!==null);return!1}var my=Error(a(461)),ln=!1;function mn(n,i,s,c){i.child=n===null?iy(i,null,s,c):co(i,n.child,s,c)}function py(n,i,s,c,d){s=s.render;var p=i.ref;if("ref"in c){var _={};for(var T in c)T!=="ref"&&(_[T]=c[T])}else _=c;return hs(i),c=xh(n,i,s,_,p,d),T=bh(),n!==null&&!ln?(vh(n,i,d),Ai(n,i,d)):(ft&&T&&th(i),i.flags|=1,mn(n,i,c,d),i.child)}function gy(n,i,s,c,d){if(n===null){var p=s.type;return typeof p=="function"&&!Jd(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,yy(n,i,p,c,d)):(n=_u(s.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!qh(n,d)){var _=p.memoizedProps;if(s=s.compare,s=s!==null?s:bl,s(_,c)&&n.ref===i.ref)return Ai(n,i,d)}return i.flags|=1,n=xi(p,c),n.ref=i.ref,n.return=i,i.child=n}function yy(n,i,s,c,d){if(n!==null){var p=n.memoizedProps;if(bl(p,c)&&n.ref===i.ref)if(ln=!1,i.pendingProps=c=p,qh(n,d))(n.flags&131072)!==0&&(ln=!0);else return i.lanes=n.lanes,Ai(n,i,d)}return Lh(n,i,s,c,d)}function xy(n,i,s){var c=i.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=p!==null?p.baseLanes|s:s,n!==null){for(d=i.child=n.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~c}else i.childLanes=0,i.child=null;return by(n,i,c,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Su(i,p!==null?p.cachePool:null),p!==null?y0(i,p):ph(),ay(i);else return i.lanes=i.childLanes=536870912,by(n,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(Su(i,p.cachePool),y0(i,p),ia(),i.memoizedState=null):(n!==null&&Su(i,null),ph(),ia());return mn(n,i,d,s),i.child}function by(n,i,s,c){var d=ch();return d=d===null?null:{parent:en._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},n!==null&&Su(i,null),ph(),ay(i),n!==null&&Tl(n,i,c,!0),null}function qu(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function Lh(n,i,s,c,d){return hs(i),s=xh(n,i,s,c,void 0,d),c=bh(),n!==null&&!ln?(vh(n,i,d),Ai(n,i,d)):(ft&&c&&th(i),i.flags|=1,mn(n,i,s,d),i.child)}function vy(n,i,s,c,d,p){return hs(i),i.updateQueue=null,s=b0(i,c,s,d),x0(n),c=bh(),n!==null&&!ln?(vh(n,i,p),Ai(n,i,p)):(ft&&c&&th(i),i.flags|=1,mn(n,i,s,p),i.child)}function _y(n,i,s,c,d){if(hs(i),i.stateNode===null){var p=Zs,_=s.contextType;typeof _=="object"&&_!==null&&(p=_n(_)),p=new s(c,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jh,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=c,p.state=i.memoizedState,p.refs={},fh(i),_=s.contextType,p.context=typeof _=="object"&&_!==null?_n(_):Zs,p.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Oh(i,s,_,c),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&jh.enqueueReplaceState(p,p.state,null),Il(i,c,p,d),kl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){p=i.stateNode;var T=i.memoizedProps,j=gs(s,T);p.props=j;var K=p.context,ie=s.contextType;_=Zs,typeof ie=="object"&&ie!==null&&(_=_n(ie));var oe=s.getDerivedStateFromProps;ie=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ie||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||K!==_)&&oy(i,p,c,_),Zi=!1;var Q=i.memoizedState;p.state=Q,Il(i,c,p,d),kl(),K=i.memoizedState,T||Q!==K||Zi?(typeof oe=="function"&&(Oh(i,s,oe,c),K=i.memoizedState),(j=Zi||sy(i,s,j,c,Q,K,_))?(ie||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=K),p.props=c,p.state=K,p.context=_,c=j):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{p=i.stateNode,dh(n,i),_=i.memoizedProps,ie=gs(s,_),p.props=ie,oe=i.pendingProps,Q=p.context,K=s.contextType,j=Zs,typeof K=="object"&&K!==null&&(j=_n(K)),T=s.getDerivedStateFromProps,(K=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==oe||Q!==j)&&oy(i,p,c,j),Zi=!1,Q=i.memoizedState,p.state=Q,Il(i,c,p,d),kl();var J=i.memoizedState;_!==oe||Q!==J||Zi||n!==null&&n.dependencies!==null&&Tu(n.dependencies)?(typeof T=="function"&&(Oh(i,s,T,c),J=i.memoizedState),(ie=Zi||sy(i,s,ie,c,Q,J,j)||n!==null&&n.dependencies!==null&&Tu(n.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,J,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,J,j)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=J),p.props=c,p.state=J,p.context=j,c=ie):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),c=!1)}return p=c,qu(n,i),c=(i.flags&128)!==0,p||c?(p=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&c?(i.child=co(i,n.child,null,d),i.child=co(i,null,s,d)):mn(n,i,s,d),i.memoizedState=p.state,n=i.child):n=Ai(n,i,d),n}function wy(n,i,s,c){return wl(),i.flags|=256,mn(n,i,s,c),i.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(n){return{baseLanes:n,cachePool:c0()}}function Uh(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=hr),n}function Ey(n,i,s){var c=i.pendingProps,d=!1,p=(i.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(tn.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(ft){if(d?ra(i):ia(),ft){var T=Mt,j;if(j=T){e:{for(j=T,T=qr;j.nodeType!==8;){if(!T){T=null;break e}if(j=Er(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(i.memoizedState={dehydrated:T,treeContext:ls!==null?{id:bi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},j=Yn(18,null,null,0),j.stateNode=T,j.return=i,i.child=j,On=i,Mt=null,j=!0):j=!1}j||fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return wm(T)?i.lanes=32:i.lanes=536870912,null;Ti(i)}return T=c.children,c=c.fallback,d?(ia(),d=i.mode,T=Hu({mode:"hidden",children:T},d),c=os(c,d,s,null),T.return=i,c.return=i,T.sibling=c,i.child=T,d=i.child,d.memoizedState=Ph(s),d.childLanes=Uh(n,_,s),i.memoizedState=Vh,c):(ra(i),zh(i,T))}if(j=n.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(p)i.flags&256?(ra(i),i.flags&=-257,i=Bh(n,i,s)):i.memoizedState!==null?(ia(),i.child=n.child,i.flags|=128,i=null):(ia(),d=c.fallback,T=i.mode,c=Hu({mode:"visible",children:c.children},T),d=os(d,T,s,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,co(i,n.child,null,s),c=i.child,c.memoizedState=Ph(s),c.childLanes=Uh(n,_,s),i.memoizedState=Vh,i=d);else if(ra(i),wm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var K=_.dgst;_=K,c=Error(a(419)),c.stack="",c.digest=_,El({value:c,source:null,stack:null}),i=Bh(n,i,s)}else if(ln||Tl(n,i,s,!1),_=(s&n.childLanes)!==0,ln||_){if(_=Tt,_!==null&&(c=s&-s,c=(c&42)!==0?1:Ir(c),c=(c&(_.suspendedLanes|s))!==0?0:c,c!==0&&c!==j.retryLane))throw j.retryLane=c,Js(n,c),Zn(_,n,c),my;T.data==="$?"||am(),i=Bh(n,i,s)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=j.treeContext,Mt=Er(T.nextSibling),On=i,ft=!0,us=null,qr=!1,n!==null&&(ur[fr++]=bi,ur[fr++]=vi,ur[fr++]=ls,bi=n.id,vi=n.overflow,ls=i),i=zh(i,c.children),i.flags|=4096);return i}return d?(ia(),d=c.fallback,T=i.mode,j=n.child,K=j.sibling,c=xi(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,K!==null?d=xi(K,d):(d=os(d,T,s,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,T=n.child.memoizedState,T===null?T=Ph(s):(j=T.cachePool,j!==null?(K=en._currentValue,j=j.parent!==K?{parent:K,pool:K}:j):j=c0(),T={baseLanes:T.baseLanes|s,cachePool:j}),d.memoizedState=T,d.childLanes=Uh(n,_,s),i.memoizedState=Vh,c):(ra(i),s=n.child,n=s.sibling,s=xi(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=s,i.memoizedState=null,s)}function zh(n,i){return i=Hu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Hu(n,i){return n=Yn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Bh(n,i,s){return co(i,n.child,null,s),n=zh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ty(n,i,s){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ah(n.return,i,s)}function Fh(n,i,s,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=s,p.tailMode=d)}function Ay(n,i,s){var c=i.pendingProps,d=c.revealOrder,p=c.tail;if(mn(n,i,c.children,s),c=tn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ty(n,s,i);else if(n.tag===19)Ty(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(fe(tn,c),d){case"forwards":for(s=i.child,d=null;s!==null;)n=s.alternate,n!==null&&zu(n)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),Fh(i,!1,d,s,p);break;case"backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&zu(n)===null){i.child=d;break}n=d.sibling,d.sibling=s,s=d,d=n}Fh(i,!0,s,null,p);break;case"together":Fh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ai(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),ca|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Tl(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=xi(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=xi(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function qh(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Tu(n)))}function OE(n,i,s){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),Ji(i,en,n.memoizedState.cache),wl();break;case 27:case 5:kr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ra(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Ey(n,i,s):(ra(i),n=Ai(n,i,s),n!==null?n.sibling:null);ra(i);break;case 19:var d=(n.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(Tl(n,i,s,!1),c=(s&i.childLanes)!==0),d){if(c)return Ay(n,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),fe(tn,tn.current),c)break;return null;case 22:case 23:return i.lanes=0,xy(n,i,s);case 24:Ji(i,en,n.memoizedState.cache)}return Ai(n,i,s)}function Sy(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)ln=!0;else{if(!qh(n,s)&&(i.flags&128)===0)return ln=!1,OE(n,i,s);ln=(n.flags&131072)!==0}else ln=!1,ft&&(i.flags&1048576)!==0&&n0(i,Eu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")Jd(c)?(n=gs(c,n),i.tag=1,i=_y(null,i,c,n,s)):(i.tag=0,i=Lh(null,i,c,n,s));else{if(c!=null){if(d=c.$$typeof,d===re){i.tag=11,i=py(null,i,c,n,s);break e}else if(d===N){i.tag=14,i=gy(null,i,c,n,s);break e}}throw i=nt(c)||c,Error(a(306,i,""))}}return i;case 0:return Lh(n,i,i.type,i.pendingProps,s);case 1:return c=i.type,d=gs(c,i.pendingProps),_y(n,i,c,d,s);case 3:e:{if(Je(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var p=i.memoizedState;d=p.element,dh(n,i),Il(i,c,null,s);var _=i.memoizedState;if(c=_.cache,Ji(i,en,c),c!==p.cache&&sh(i,[en],s,!0),kl(),c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=wy(n,i,c,s);break e}else if(c!==d){d=lr(Error(a(424)),i),El(d),i=wy(n,i,c,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Mt=Er(n.firstChild),On=i,ft=!0,us=null,qr=!0,s=iy(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wl(),c===d){i=Ai(n,i,s);break e}mn(n,i,c,s)}i=i.child}return i;case 26:return qu(n,i),n===null?(s=kx(i.type,null,i.pendingProps,null))?i.memoizedState=s:ft||(s=i.type,n=i.pendingProps,c=af(ke.current).createElement(s),c[Pt]=i,c[jt]=n,gn(c,s,n),Ut(c),i.stateNode=c):i.memoizedState=kx(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return kr(i),n===null&&ft&&(c=i.stateNode=Nx(i.type,i.pendingProps,ke.current),On=i,qr=!0,d=Mt,ha(i.type)?(Em=d,Mt=Er(c.firstChild)):Mt=d),mn(n,i,i.pendingProps.children,s),qu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ft&&((d=c=Mt)&&(c=oT(c,i.type,i.pendingProps,qr),c!==null?(i.stateNode=c,On=i,Mt=Er(c.firstChild),qr=!1,d=!0):d=!1),d||fs(i)),kr(i),d=i.type,p=i.pendingProps,_=n!==null?n.memoizedProps:null,c=p.children,bm(d,p)?c=null:_!==null&&bm(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=xh(n,i,AE,null,null,s),Zl._currentValue=d),qu(n,i),mn(n,i,c,s),i.child;case 6:return n===null&&ft&&((n=s=Mt)&&(s=lT(s,i.pendingProps,qr),s!==null?(i.stateNode=s,On=i,Mt=null,n=!0):n=!1),n||fs(i)),null;case 13:return Ey(n,i,s);case 4:return Je(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=co(i,null,c,s):mn(n,i,c,s),i.child;case 11:return py(n,i,i.type,i.pendingProps,s);case 7:return mn(n,i,i.pendingProps,s),i.child;case 8:return mn(n,i,i.pendingProps.children,s),i.child;case 12:return mn(n,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,Ji(i,i.type,c.value),mn(n,i,c.children,s),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,hs(i),d=_n(d),c=c(d),i.flags|=1,mn(n,i,c,s),i.child;case 14:return gy(n,i,i.type,i.pendingProps,s);case 15:return yy(n,i,i.type,i.pendingProps,s);case 19:return Ay(n,i,s);case 31:return c=i.pendingProps,s=i.mode,c={mode:c.mode,children:c.children},n===null?(s=Hu(c,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=xi(n.child,c),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return xy(n,i,s);case 24:return hs(i),c=_n(en),n===null?(d=ch(),d===null&&(d=Tt,p=oh(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=s),d=p),i.memoizedState={parent:c,cache:d},fh(i),Ji(i,en,d)):((n.lanes&s)!==0&&(dh(n,i),Il(i,null,null,s),kl()),d=n.memoizedState,p=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ji(i,en,c)):(c=p.cache,Ji(i,en,c),c!==d.cache&&sh(i,[en],s,!0))),mn(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Si(n){n.flags|=4}function Ny(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Mx(i)){if(i=dr.current,i!==null&&((ot&4194048)===ot?Hr!==null:(ot&62914560)!==ot&&(ot&536870912)===0||i!==Hr))throw Cl=uh,u0;n.flags|=8192}}function Gu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Gi():536870912,n.lanes|=i,mo|=i)}function Pl(n,i){if(!ft)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,c=0;if(i)for(var d=n.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=s,i}function jE(n,i,s){var c=i.pendingProps;switch(nh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return s=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),wi(en),nr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(_l(i)?Si(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,a0())),Dt(i),null;case 26:return s=i.memoizedState,n===null?(Si(i),s!==null?(Dt(i),Ny(i,s)):(Dt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Si(i),Dt(i),Ny(i,s)):(Dt(i),i.flags&=-16777217):(n.memoizedProps!==c&&Si(i),Dt(i),i.flags&=-16777217),null;case 27:Fn(i),s=ke.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Si(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}n=we.current,_l(i)?r0(i):(n=Nx(d,c,s),i.stateNode=n,Si(i))}return Dt(i),null;case 5:if(Fn(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Si(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}if(n=we.current,_l(i))r0(i);else{switch(d=af(ke.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?d.createElement(s,{is:c.is}):d.createElement(s)}}n[Pt]=i,n[jt]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(gn(n,s,c),s){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Si(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Si(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=ke.current,_l(i)){if(n=i.stateNode,s=i.memoizedProps,c=null,d=On,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[Pt]=i,n=!!(n.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||vx(n.nodeValue,s)),n||fs(i)}else n=af(n).createTextNode(c),n[Pt]=i,i.stateNode=n}return Dt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=_l(i),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Pt]=i}else wl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),d=!1}else d=a0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ti(i),i):(Ti(i),null)}if(Ti(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=c!==null,n=n!==null&&n.memoizedState!==null,s){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Gu(i,i.updateQueue),Dt(i),null;case 4:return nr(),n===null&&mm(i.stateNode.containerInfo),Dt(i),null;case 10:return wi(i.type),Dt(i),null;case 19:if(de(tn),d=i.memoizedState,d===null)return Dt(i),null;if(c=(i.flags&128)!==0,p=d.rendering,p===null)if(c)Pl(d,!1);else{if(Lt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=zu(n),p!==null){for(i.flags|=128,Pl(d,!1),n=p.updateQueue,i.updateQueue=n,Gu(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)t0(s,n),s=s.sibling;return fe(tn,tn.current&1|2),i.child}n=n.sibling}d.tail!==null&&be()>Yu&&(i.flags|=128,c=!0,Pl(d,!1),i.lanes=4194304)}else{if(!c)if(n=zu(p),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,Gu(i,n),Pl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!ft)return Dt(i),null}else 2*be()-d.renderingStartTime>Yu&&s!==536870912&&(i.flags|=128,c=!0,Pl(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(n=d.last,n!==null?n.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=be(),i.sibling=null,n=tn.current,fe(tn,c?n&1|2:n&1),i):(Dt(i),null);case 22:case 23:return Ti(i),gh(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),s=i.updateQueue,s!==null&&Gu(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),n!==null&&de(ms),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),wi(en),Dt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ME(n,i){switch(nh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return wi(en),nr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Fn(i),null;case 13:if(Ti(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));wl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return de(tn),null;case 4:return nr(),null;case 10:return wi(i.type),null;case 22:case 23:return Ti(i),gh(),n!==null&&de(ms),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return wi(en),null;case 25:return null;default:return null}}function Cy(n,i){switch(nh(i),i.tag){case 3:wi(en),nr();break;case 26:case 27:case 5:Fn(i);break;case 4:nr();break;case 13:Ti(i);break;case 19:de(tn);break;case 10:wi(i.type);break;case 22:case 23:Ti(i),gh(),n!==null&&de(ms);break;case 24:wi(en)}}function Ul(n,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&n)===n){c=void 0;var p=s.create,_=s.inst;c=p(),_.destroy=c}s=s.next}while(s!==d)}}catch(T){_t(i,i.return,T)}}function aa(n,i,s){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var _=c.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,d=i;var j=s,K=T;try{K()}catch(ie){_t(d,j,ie)}}}c=c.next}while(c!==p)}}catch(ie){_t(i,i.return,ie)}}function Ry(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{g0(i,s)}catch(c){_t(n,n.return,c)}}}function ky(n,i,s){s.props=gs(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(c){_t(n,i,c)}}function zl(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof s=="function"?n.refCleanup=s(c):s.current=c}}catch(d){_t(n,i,d)}}function Gr(n,i){var s=n.ref,c=n.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(d){_t(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){_t(n,i,d)}else s.current=null}function Iy(n){var i=n.type,s=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(d){_t(n,n.return,d)}}function Hh(n,i,s){try{var c=n.stateNode;nT(c,n.type,s,i),c[jt]=i}catch(d){_t(n,n.return,d)}}function Dy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ha(n.type)||n.tag===4}function Gh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Dy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ha(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $h(n,i,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=rf));else if(c!==4&&(c===27&&ha(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for($h(n,i,s),n=n.sibling;n!==null;)$h(n,i,s),n=n.sibling}function $u(n,i,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(c!==4&&(c===27&&ha(n.type)&&(s=n.stateNode),n=n.child,n!==null))for($u(n,i,s),n=n.sibling;n!==null;)$u(n,i,s),n=n.sibling}function Oy(n){var i=n.stateNode,s=n.memoizedProps;try{for(var c=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);gn(i,c,s),i[Pt]=n,i[jt]=s}catch(p){_t(n,n.return,p)}}var Ni=!1,Bt=!1,Xh=!1,jy=typeof WeakSet=="function"?WeakSet:Set,cn=null;function LE(n,i){if(n=n.containerInfo,ym=ff,n=Gg(n),Gd(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var _=0,T=-1,j=-1,K=0,ie=0,oe=n,Q=null;t:for(;;){for(var J;oe!==s||d!==0&&oe.nodeType!==3||(T=_+d),oe!==p||c!==0&&oe.nodeType!==3||(j=_+c),oe.nodeType===3&&(_+=oe.nodeValue.length),(J=oe.firstChild)!==null;)Q=oe,oe=J;for(;;){if(oe===n)break t;if(Q===s&&++K===d&&(T=_),Q===p&&++ie===c&&(j=_),(J=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=J}s=T===-1||j===-1?null:{start:T,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(xm={focusedElem:n,selectionRange:s},ff=!1,cn=i;cn!==null;)if(i=cn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,cn=n;else for(;cn!==null;){switch(i=cn,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=i,d=p.memoizedProps,p=p.memoizedState,c=s.stateNode;try{var Le=gs(s.type,d,s.elementType===s.type);n=c.getSnapshotBeforeUpdate(Le,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){_t(s,s.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)_m(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_m(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,cn=n;break}cn=i.return}}function My(n,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:sa(n,s),c&4&&Ul(5,s);break;case 1:if(sa(n,s),c&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(_){_t(s,s.return,_)}else{var d=gs(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){_t(s,s.return,_)}}c&64&&Ry(s),c&512&&zl(s,s.return);break;case 3:if(sa(n,s),c&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{g0(n,i)}catch(_){_t(s,s.return,_)}}break;case 27:i===null&&c&4&&Oy(s);case 26:case 5:sa(n,s),i===null&&c&4&&Iy(s),c&512&&zl(s,s.return);break;case 12:sa(n,s);break;case 13:sa(n,s),c&4&&Py(n,s),c&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=GE.bind(null,s),cT(n,s))));break;case 22:if(c=s.memoizedState!==null||Ni,!c){i=i!==null&&i.memoizedState!==null||Bt,d=Ni;var p=Bt;Ni=c,(Bt=i)&&!p?oa(n,s,(s.subtreeFlags&8772)!==0):sa(n,s),Ni=d,Bt=p}break;case 30:break;default:sa(n,s)}}function Ly(n){var i=n.alternate;i!==null&&(n.alternate=null,Ly(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Yi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,Vn=!1;function Ci(n,i,s){for(s=s.child;s!==null;)Vy(n,i,s),s=s.sibling}function Vy(n,i,s){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Fe,s)}catch{}switch(s.tag){case 26:Bt||Gr(s,i),Ci(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Bt||Gr(s,i);var c=Nt,d=Vn;ha(s.type)&&(Nt=s.stateNode,Vn=!1),Ci(n,i,s),Kl(s.stateNode),Nt=c,Vn=d;break;case 5:Bt||Gr(s,i);case 6:if(c=Nt,d=Vn,Nt=null,Ci(n,i,s),Nt=c,Vn=d,Nt!==null)if(Vn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(s.stateNode)}catch(p){_t(s,i,p)}else try{Nt.removeChild(s.stateNode)}catch(p){_t(s,i,p)}break;case 18:Nt!==null&&(Vn?(n=Nt,Ax(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),rc(n)):Ax(Nt,s.stateNode));break;case 4:c=Nt,d=Vn,Nt=s.stateNode.containerInfo,Vn=!0,Ci(n,i,s),Nt=c,Vn=d;break;case 0:case 11:case 14:case 15:Bt||aa(2,s,i),Bt||aa(4,s,i),Ci(n,i,s);break;case 1:Bt||(Gr(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&ky(s,i,c)),Ci(n,i,s);break;case 21:Ci(n,i,s);break;case 22:Bt=(c=Bt)||s.memoizedState!==null,Ci(n,i,s),Bt=c;break;default:Ci(n,i,s)}}function Py(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{rc(n)}catch(s){_t(i,i.return,s)}}function VE(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new jy),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new jy),i;default:throw Error(a(435,n.tag))}}function Yh(n,i){var s=VE(n);i.forEach(function(c){var d=$E.bind(null,n,c);s.has(c)||(s.add(c),c.then(d,d))})}function Kn(n,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c],p=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ha(T.type)){Nt=T.stateNode,Vn=!1;break e}break;case 5:Nt=T.stateNode,Vn=!1;break e;case 3:case 4:Nt=T.stateNode.containerInfo,Vn=!0;break e}T=T.return}if(Nt===null)throw Error(a(160));Vy(p,_,d),Nt=null,Vn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Uy(i,n),i=i.sibling}var wr=null;function Uy(n,i){var s=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kn(i,n),Qn(n),c&4&&(aa(3,n,n.return),Ul(3,n),aa(5,n,n.return));break;case 1:Kn(i,n),Qn(n),c&512&&(Bt||s===null||Gr(s,s.return)),c&64&&Ni&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var d=wr;if(Kn(i,n),Qn(n),c&512&&(Bt||s===null||Gr(s,s.return)),c&4){var p=s!==null?s.memoizedState:null;if(c=n.memoizedState,s===null)if(c===null)if(n.stateNode===null){e:{c=n.type,s=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ga]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),gn(p,c,s),p[Pt]=n,Ut(p),c=p;break e;case"link":var _=Ox("link","href",d).get(c+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(p=_[T],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}p=d.createElement(c),gn(p,c,s),d.head.appendChild(p);break;case"meta":if(_=Ox("meta","content",d).get(c+(s.content||""))){for(T=0;T<_.length;T++)if(p=_[T],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}p=d.createElement(c),gn(p,c,s),d.head.appendChild(p);break;default:throw Error(a(468,c))}p[Pt]=n,Ut(p),c=p}n.stateNode=c}else jx(d,n.type,n.stateNode);else n.stateNode=Dx(d,c,n.memoizedProps);else p!==c?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,c===null?jx(d,n.type,n.stateNode):Dx(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Hh(n,n.memoizedProps,s.memoizedProps)}break;case 27:Kn(i,n),Qn(n),c&512&&(Bt||s===null||Gr(s,s.return)),s!==null&&c&4&&Hh(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Kn(i,n),Qn(n),c&512&&(Bt||s===null||Gr(s,s.return)),n.flags&32){d=n.stateNode;try{ir(d,"")}catch(J){_t(n,n.return,J)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Hh(n,d,s!==null?s.memoizedProps:d)),c&1024&&(Xh=!0);break;case 6:if(Kn(i,n),Qn(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,s=n.stateNode;try{s.nodeValue=c}catch(J){_t(n,n.return,J)}}break;case 3:if(lf=null,d=wr,wr=sf(i.containerInfo),Kn(i,n),wr=d,Qn(n),c&4&&s!==null&&s.memoizedState.isDehydrated)try{rc(i.containerInfo)}catch(J){_t(n,n.return,J)}Xh&&(Xh=!1,zy(n));break;case 4:c=wr,wr=sf(n.stateNode.containerInfo),Kn(i,n),Qn(n),wr=c;break;case 12:Kn(i,n),Qn(n);break;case 13:Kn(i,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(em=be()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yh(n,c)));break;case 22:d=n.memoizedState!==null;var j=s!==null&&s.memoizedState!==null,K=Ni,ie=Bt;if(Ni=K||d,Bt=ie||j,Kn(i,n),Bt=ie,Ni=K,Qn(n),c&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(s===null||j||Ni||Bt||ys(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){j=s=i;try{if(p=j.stateNode,d)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=j.stateNode;var oe=j.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){_t(j,j.return,J)}}}else if(i.tag===6){if(s===null){j=i;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(J){_t(j,j.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Yh(n,s))));break;case 19:Kn(i,n),Qn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yh(n,c)));break;case 30:break;case 21:break;default:Kn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{for(var s,c=n.return;c!==null;){if(Dy(c)){s=c;break}c=c.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,p=Gh(n);$u(n,p,d);break;case 5:var _=s.stateNode;s.flags&32&&(ir(_,""),s.flags&=-33);var T=Gh(n);$u(n,T,_);break;case 3:case 4:var j=s.stateNode.containerInfo,K=Gh(n);$h(n,K,j);break;default:throw Error(a(161))}}catch(ie){_t(n,n.return,ie)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function zy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function sa(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)My(n,i.alternate,i),i=i.sibling}function ys(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:aa(4,i,i.return),ys(i);break;case 1:Gr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&ky(i,i.return,s),ys(i);break;case 27:Kl(i.stateNode);case 26:case 5:Gr(i,i.return),ys(i);break;case 22:i.memoizedState===null&&ys(i);break;case 30:ys(i);break;default:ys(i)}n=n.sibling}}function oa(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=n,p=i,_=p.flags;switch(p.tag){case 0:case 11:case 15:oa(d,p,s),Ul(4,p);break;case 1:if(oa(d,p,s),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){_t(c,c.return,K)}if(c=p,d=c.updateQueue,d!==null){var T=c.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)p0(j[d],T)}catch(K){_t(c,c.return,K)}}s&&_&64&&Ry(p),zl(p,p.return);break;case 27:Oy(p);case 26:case 5:oa(d,p,s),s&&c===null&&_&4&&Iy(p),zl(p,p.return);break;case 12:oa(d,p,s);break;case 13:oa(d,p,s),s&&_&4&&Py(d,p);break;case 22:p.memoizedState===null&&oa(d,p,s),zl(p,p.return);break;case 30:break;default:oa(d,p,s)}i=i.sibling}}function Kh(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Al(s))}function Qh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Al(n))}function $r(n,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)By(n,i,s,c),i=i.sibling}function By(n,i,s,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:$r(n,i,s,c),d&2048&&Ul(9,i);break;case 1:$r(n,i,s,c);break;case 3:$r(n,i,s,c),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Al(n)));break;case 12:if(d&2048){$r(n,i,s,c),n=i.stateNode;try{var p=i.memoizedProps,_=p.id,T=p.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){_t(i,i.return,j)}}else $r(n,i,s,c);break;case 13:$r(n,i,s,c);break;case 23:break;case 22:p=i.stateNode,_=i.alternate,i.memoizedState!==null?p._visibility&2?$r(n,i,s,c):Bl(n,i):p._visibility&2?$r(n,i,s,c):(p._visibility|=2,uo(n,i,s,c,(i.subtreeFlags&10256)!==0)),d&2048&&Kh(_,i);break;case 24:$r(n,i,s,c),d&2048&&Qh(i.alternate,i);break;default:$r(n,i,s,c)}}function uo(n,i,s,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,_=i,T=s,j=c,K=_.flags;switch(_.tag){case 0:case 11:case 15:uo(p,_,T,j,d),Ul(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?uo(p,_,T,j,d):Bl(p,_):(ie._visibility|=2,uo(p,_,T,j,d)),d&&K&2048&&Kh(_.alternate,_);break;case 24:uo(p,_,T,j,d),d&&K&2048&&Qh(_.alternate,_);break;default:uo(p,_,T,j,d)}i=i.sibling}}function Bl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,c=i,d=c.flags;switch(c.tag){case 22:Bl(s,c),d&2048&&Kh(c.alternate,c);break;case 24:Bl(s,c),d&2048&&Qh(c.alternate,c);break;default:Bl(s,c)}i=i.sibling}}var Fl=8192;function fo(n){if(n.subtreeFlags&Fl)for(n=n.child;n!==null;)Fy(n),n=n.sibling}function Fy(n){switch(n.tag){case 26:fo(n),n.flags&Fl&&n.memoizedState!==null&&wT(wr,n.memoizedState,n.memoizedProps);break;case 5:fo(n);break;case 3:case 4:var i=wr;wr=sf(n.stateNode.containerInfo),fo(n),wr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Fl,Fl=16777216,fo(n),Fl=i):fo(n));break;default:fo(n)}}function qy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ql(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];cn=c,Gy(c,n)}qy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hy(n),n=n.sibling}function Hy(n){switch(n.tag){case 0:case 11:case 15:ql(n),n.flags&2048&&aa(9,n,n.return);break;case 3:ql(n);break;case 12:ql(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Xu(n)):ql(n);break;default:ql(n)}}function Xu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];cn=c,Gy(c,n)}qy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:aa(8,i,i.return),Xu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Xu(i));break;default:Xu(i)}n=n.sibling}}function Gy(n,i){for(;cn!==null;){var s=cn;switch(s.tag){case 0:case 11:case 15:aa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Al(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,cn=c;else e:for(s=n;cn!==null;){c=cn;var d=c.sibling,p=c.return;if(Ly(c),c===s){cn=null;break e}if(d!==null){d.return=p,cn=d;break e}cn=p}}}var PE={getCacheForType:function(n){var i=_n(en),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},UE=typeof WeakMap=="function"?WeakMap:Map,pt=0,Tt=null,Qe=null,ot=0,gt=0,Wn=null,la=!1,ho=!1,Wh=!1,Ri=0,Lt=0,ca=0,xs=0,Jh=0,hr=0,mo=0,Hl=null,Pn=null,Zh=!1,em=0,Yu=1/0,Ku=null,ua=null,pn=0,fa=null,po=null,go=0,tm=0,nm=null,$y=null,Gl=0,rm=null;function Jn(){if((pt&2)!==0&&ot!==0)return ot&-ot;if(W.T!==null){var n=no;return n!==0?n:um()}return Dr()}function Xy(){hr===0&&(hr=(ot&536870912)===0||ft?yr():536870912);var n=dr.current;return n!==null&&(n.flags|=32),hr}function Zn(n,i,s){(n===Tt&&(gt===2||gt===9)||n.cancelPendingCommit!==null)&&(yo(n,0),da(n,ot,hr,!1)),qn(n,s),((pt&2)===0||n!==Tt)&&(n===Tt&&((pt&2)===0&&(xs|=s),Lt===4&&da(n,ot,hr,!1)),Xr(n))}function Yy(n,i,s){if((pt&6)!==0)throw Error(a(327));var c=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Me(n,i),d=c?FE(n,i):sm(n,i,!0),p=c;do{if(d===0){ho&&!c&&da(n,i,0,!1);break}else{if(s=n.current.alternate,p&&!zE(s)){d=sm(n,i,!1),p=!1;continue}if(d===2){if(p=i,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;d=Hl;var j=T.current.memoizedState.isDehydrated;if(j&&(yo(T,_).flags|=256),_=sm(T,_,!1),_!==2){if(Wh&&!j){T.errorRecoveryDisabledLanes|=p,xs|=p,d=4;break e}p=Pn,Pn=d,p!==null&&(Pn===null?Pn=p:Pn.push.apply(Pn,p))}d=_}if(p=!1,d!==2)continue}}if(d===1){yo(n,0),da(n,i,0,!0);break}e:{switch(c=n,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:da(c,i,hr,!la);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(d=em+300-be(),10<d)){if(da(c,i,hr,!la),Rn(c,0,!0)!==0)break e;c.timeoutHandle=Ex(Ky.bind(null,c,s,Pn,Ku,Zh,i,hr,xs,mo,la,p,2,-0,0),d);break e}Ky(c,s,Pn,Ku,Zh,i,hr,xs,mo,la,p,0,-0,0)}}break}while(!0);Xr(n)}function Ky(n,i,s,c,d,p,_,T,j,K,ie,oe,Q,J){if(n.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:_T},Fy(i),oe=ET(),oe!==null)){n.cancelPendingCommit=oe(nx.bind(null,n,i,p,s,c,d,_,T,j,ie,1,Q,J)),da(n,p,_,!K);return}nx(n,i,p,s,c,d,_,T,j)}function zE(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var d=s[c],p=d.getSnapshot;d=d.value;try{if(!Xn(p(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function da(n,i,s,c){i&=~Jh,i&=~xs,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var d=i;0<d;){var p=31-Ye(d),_=1<<p;c[p]=-1,d&=~_}s!==0&&Hn(n,s,i)}function Qu(){return(pt&6)===0?($l(0),!1):!0}function im(){if(Qe!==null){if(gt===0)var n=Qe.return;else n=Qe,_i=ds=null,_h(n),lo=null,Ll=0,n=Qe;for(;n!==null;)Cy(n.alternate,n),n=n.return;Qe=null}}function yo(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,iT(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),im(),Tt=n,Qe=s=xi(n.current,null),ot=i,gt=0,Wn=null,la=!1,ho=Me(n,i),Wh=!1,mo=hr=Jh=xs=ca=Lt=0,Pn=Hl=null,Zh=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var d=31-Ye(c),p=1<<d;i|=n[d],c&=~p}return Ri=i,xu(),s}function Qy(n,i){Ge=null,W.H=Vu,i===Nl||i===Nu?(i=h0(),gt=3):i===u0?(i=h0(),gt=4):gt=i===my?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Wn=i,Qe===null&&(Lt=1,Fu(n,lr(i,n.current)))}function Wy(){var n=W.H;return W.H=Vu,n===null?Vu:n}function Jy(){var n=W.A;return W.A=PE,n}function am(){Lt=4,la||(ot&4194048)!==ot&&dr.current!==null||(ho=!0),(ca&134217727)===0&&(xs&134217727)===0||Tt===null||da(Tt,ot,hr,!1)}function sm(n,i,s){var c=pt;pt|=2;var d=Wy(),p=Jy();(Tt!==n||ot!==i)&&(Ku=null,yo(n,i)),i=!1;var _=Lt;e:do try{if(gt!==0&&Qe!==null){var T=Qe,j=Wn;switch(gt){case 8:im(),_=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(i=!0);var K=gt;if(gt=0,Wn=null,xo(n,T,j,K),s&&ho){_=0;break e}break;default:K=gt,gt=0,Wn=null,xo(n,T,j,K)}}BE(),_=Lt;break}catch(ie){Qy(n,ie)}while(!0);return i&&n.shellSuspendCounter++,_i=ds=null,pt=c,W.H=d,W.A=p,Qe===null&&(Tt=null,ot=0,xu()),_}function BE(){for(;Qe!==null;)Zy(Qe)}function FE(n,i){var s=pt;pt|=2;var c=Wy(),d=Jy();Tt!==n||ot!==i?(Ku=null,Yu=be()+500,yo(n,i)):ho=Me(n,i);e:do try{if(gt!==0&&Qe!==null){i=Qe;var p=Wn;t:switch(gt){case 1:gt=0,Wn=null,xo(n,i,p,1);break;case 2:case 9:if(f0(p)){gt=0,Wn=null,ex(i);break}i=function(){gt!==2&&gt!==9||Tt!==n||(gt=7),Xr(n)},p.then(i,i);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:f0(p)?(gt=0,Wn=null,ex(i)):(gt=0,Wn=null,xo(n,i,p,7));break;case 5:var _=null;switch(Qe.tag){case 26:_=Qe.memoizedState;case 5:case 27:var T=Qe;if(!_||Mx(_)){gt=0,Wn=null;var j=T.sibling;if(j!==null)Qe=j;else{var K=T.return;K!==null?(Qe=K,Wu(K)):Qe=null}break t}}gt=0,Wn=null,xo(n,i,p,5);break;case 6:gt=0,Wn=null,xo(n,i,p,6);break;case 8:im(),Lt=6;break e;default:throw Error(a(462))}}qE();break}catch(ie){Qy(n,ie)}while(!0);return _i=ds=null,W.H=c,W.A=d,pt=s,Qe!==null?0:(Tt=null,ot=0,xu(),Lt)}function qE(){for(;Qe!==null&&!$();)Zy(Qe)}function Zy(n){var i=Sy(n.alternate,n,Ri);n.memoizedProps=n.pendingProps,i===null?Wu(n):Qe=i}function ex(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=vy(s,i,i.pendingProps,i.type,void 0,ot);break;case 11:i=vy(s,i,i.pendingProps,i.type.render,i.ref,ot);break;case 5:_h(i);default:Cy(s,i),i=Qe=t0(i,Ri),i=Sy(s,i,Ri)}n.memoizedProps=n.pendingProps,i===null?Wu(n):Qe=i}function xo(n,i,s,c){_i=ds=null,_h(i),lo=null,Ll=0;var d=i.return;try{if(DE(n,d,i,s,ot)){Lt=1,Fu(n,lr(s,n.current)),Qe=null;return}}catch(p){if(d!==null)throw Qe=d,p;Lt=1,Fu(n,lr(s,n.current)),Qe=null;return}i.flags&32768?(ft||c===1?n=!0:ho||(ot&536870912)!==0?n=!1:(la=n=!0,(c===2||c===9||c===3||c===6)&&(c=dr.current,c!==null&&c.tag===13&&(c.flags|=16384))),tx(i,n)):Wu(i)}function Wu(n){var i=n;do{if((i.flags&32768)!==0){tx(i,la);return}n=i.return;var s=jE(i.alternate,i,Ri);if(s!==null){Qe=s;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=n}while(i!==null);Lt===0&&(Lt=5)}function tx(n,i){do{var s=ME(n.alternate,n);if(s!==null){s.flags&=32767,Qe=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Qe=n;return}Qe=n=s}while(n!==null);Lt=6,Qe=null}function nx(n,i,s,c,d,p,_,T,j){n.cancelPendingCommit=null;do Ju();while(pn!==0);if((pt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=Qd,$i(n,s,p,_,T,j),n===Tt&&(Qe=Tt=null,ot=0),po=i,fa=n,go=s,tm=p,nm=d,$y=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,XE(ge,function(){return ox(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,d=me.p,me.p=2,_=pt,pt|=4;try{LE(n,i,s)}finally{pt=_,me.p=d,W.T=c}}pn=1,rx(),ix(),ax()}}function rx(){if(pn===1){pn=0;var n=fa,i=po,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var c=me.p;me.p=2;var d=pt;pt|=4;try{Uy(i,n);var p=xm,_=Gg(n.containerInfo),T=p.focusedElem,j=p.selectionRange;if(_!==T&&T&&T.ownerDocument&&Hg(T.ownerDocument.documentElement,T)){if(j!==null&&Gd(T)){var K=j.start,ie=j.end;if(ie===void 0&&(ie=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(ie,T.value.length);else{var oe=T.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),Le=T.textContent.length,Ce=Math.min(j.start,Le),vt=j.end===void 0?Ce:Math.min(j.end,Le);!J.extend&&Ce>vt&&(_=vt,vt=Ce,Ce=_);var H=qg(T,Ce),U=qg(T,vt);if(H&&U&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var Y=oe.createRange();Y.setStart(H.node,H.offset),J.removeAllRanges(),Ce>vt?(J.addRange(Y),J.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),J.addRange(Y))}}}}for(oe=[],J=T;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var ae=oe[T];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}ff=!!ym,xm=ym=null}finally{pt=d,me.p=c,W.T=s}}n.current=i,pn=2}}function ix(){if(pn===2){pn=0;var n=fa,i=po,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var c=me.p;me.p=2;var d=pt;pt|=4;try{My(n,i.alternate,i)}finally{pt=d,me.p=c,W.T=s}}pn=3}}function ax(){if(pn===4||pn===3){pn=0,ee();var n=fa,i=po,s=go,c=$y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,po=fa=null,sx(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ua=null),si(s),i=i.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Fe,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=W.T,d=me.p,me.p=2,W.T=null;try{for(var p=n.onRecoverableError,_=0;_<c.length;_++){var T=c[_];p(T.value,{componentStack:T.stack})}}finally{W.T=i,me.p=d}}(go&3)!==0&&Ju(),Xr(n),d=n.pendingLanes,(s&4194090)!==0&&(d&42)!==0?n===rm?Gl++:(Gl=0,rm=n):Gl=0,$l(0)}}function sx(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Al(i)))}function Ju(n){return rx(),ix(),ax(),ox()}function ox(){if(pn!==5)return!1;var n=fa,i=tm;tm=0;var s=si(go),c=W.T,d=me.p;try{me.p=32>s?32:s,W.T=null,s=nm,nm=null;var p=fa,_=go;if(pn=0,po=fa=null,go=0,(pt&6)!==0)throw Error(a(331));var T=pt;if(pt|=4,Hy(p.current),By(p,p.current,_,s),pt=T,$l(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Fe,p)}catch{}return!0}finally{me.p=d,W.T=c,sx(n,i)}}function lx(n,i,s){i=lr(s,i),i=Mh(n.stateNode,i,2),n=ta(n,i,2),n!==null&&(qn(n,2),Xr(n))}function _t(n,i,s){if(n.tag===3)lx(n,n,s);else for(;i!==null;){if(i.tag===3){lx(i,n,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ua===null||!ua.has(c))){n=lr(s,n),s=dy(2),c=ta(i,s,2),c!==null&&(hy(s,c,i,n),qn(c,2),Xr(c));break}}i=i.return}}function om(n,i,s){var c=n.pingCache;if(c===null){c=n.pingCache=new UE;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(s)||(Wh=!0,d.add(s),n=HE.bind(null,n,i,s),i.then(n,n))}function HE(n,i,s){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Tt===n&&(ot&s)===s&&(Lt===4||Lt===3&&(ot&62914560)===ot&&300>be()-em?(pt&2)===0&&yo(n,0):Jh|=s,mo===ot&&(mo=0)),Xr(n)}function cx(n,i){i===0&&(i=Gi()),n=Js(n,i),n!==null&&(qn(n,i),Xr(n))}function GE(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),cx(n,s)}function $E(n,i){var s=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),cx(n,s)}function XE(n,i){return Rt(n,i)}var Zu=null,bo=null,lm=!1,ef=!1,cm=!1,bs=0;function Xr(n){n!==bo&&n.next===null&&(bo===null?Zu=bo=n:bo=bo.next=n),ef=!0,lm||(lm=!0,KE())}function $l(n,i){if(!cm&&ef){cm=!0;do for(var s=!1,c=Zu;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var _=c.suspendedLanes,T=c.pingedLanes;p=(1<<31-Ye(42|n)+1)-1,p&=d&~(_&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,hx(c,p))}else p=ot,p=Rn(c,c===Tt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Me(c,p)||(s=!0,hx(c,p));c=c.next}while(s);cm=!1}}function YE(){ux()}function ux(){ef=lm=!1;var n=0;bs!==0&&(rT()&&(n=bs),bs=0);for(var i=be(),s=null,c=Zu;c!==null;){var d=c.next,p=fx(c,i);p===0?(c.next=null,s===null?Zu=d:s.next=d,d===null&&(bo=s)):(s=c,(n!==0||(p&3)!==0)&&(ef=!0)),c=d}$l(n)}function fx(n,i){for(var s=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-Ye(p),T=1<<_,j=d[_];j===-1?((T&s)===0||(T&c)!==0)&&(d[_]=rr(T,i)):j<=i&&(n.expiredLanes|=T),p&=~T}if(i=Tt,s=ot,s=Rn(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,s===0||n===i&&(gt===2||gt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&L(c),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Me(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(c!==null&&L(c),si(s)){case 2:case 8:s=De;break;case 32:s=ge;break;case 268435456:s=Ee;break;default:s=ge}return c=dx.bind(null,n),s=Rt(s,c),n.callbackPriority=i,n.callbackNode=s,i}return c!==null&&c!==null&&L(c),n.callbackPriority=2,n.callbackNode=null,2}function dx(n,i){if(pn!==0&&pn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Ju()&&n.callbackNode!==s)return null;var c=ot;return c=Rn(n,n===Tt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Yy(n,c,i),fx(n,be()),n.callbackNode!=null&&n.callbackNode===s?dx.bind(null,n):null)}function hx(n,i){if(Ju())return null;Yy(n,i,!0)}function KE(){aT(function(){(pt&6)!==0?Rt(ze,YE):ux()})}function um(){return bs===0&&(bs=yr()),bs}function mx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:zs(""+n)}function px(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function QE(n,i,s,c,d){if(i==="submit"&&s&&s.stateNode===d){var p=mx((d[jt]||null).action),_=c.submitter;_&&(i=(i=_[jt]||null)?mx(i.formAction):_.getAttribute("formAction"),i!==null&&(p=i,_=null));var T=new Bs("action","action",null,c,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bs!==0){var j=_?px(d,_):new FormData(d);kh(s,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(T.preventDefault(),j=_?px(d,_):new FormData(d),kh(s,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var fm=0;fm<Kd.length;fm++){var dm=Kd[fm],WE=dm.toLowerCase(),JE=dm[0].toUpperCase()+dm.slice(1);_r(WE,"on"+JE)}_r(Yg,"onAnimationEnd"),_r(Kg,"onAnimationIteration"),_r(Qg,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(pE,"onTransitionRun"),_r(gE,"onTransitionStart"),_r(yE,"onTransitionCancel"),_r(Wg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function gx(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var c=n[s],d=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var _=c.length-1;0<=_;_--){var T=c[_],j=T.instance,K=T.currentTarget;if(T=T.listener,j!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=K;try{p(d)}catch(ie){Bu(ie)}d.currentTarget=null,p=j}else for(_=0;_<c.length;_++){if(T=c[_],j=T.instance,K=T.currentTarget,T=T.listener,j!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=K;try{p(d)}catch(ie){Bu(ie)}d.currentTarget=null,p=j}}}}function We(n,i){var s=i[an];s===void 0&&(s=i[an]=new Set);var c=n+"__bubble";s.has(c)||(yx(i,n,2,!1),s.add(c))}function hm(n,i,s){var c=0;i&&(c|=4),yx(s,n,c,i)}var tf="_reactListening"+Math.random().toString(36).slice(2);function mm(n){if(!n[tf]){n[tf]=!0,al.forEach(function(s){s!=="selectionchange"&&(ZE.has(s)||hm(s,!1,n),hm(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[tf]||(i[tf]=!0,hm("selectionchange",!1,i))}}function yx(n,i,s,c){switch(Bx(i)){case 2:var d=ST;break;case 8:d=NT;break;default:d=Cm}s=d.bind(null,i,s,n),d=void 0,!sr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,s,{capture:!0,passive:d}):n.addEventListener(i,s,!0):d!==void 0?n.addEventListener(i,s,{passive:d}):n.addEventListener(i,s,!1)}function pm(n,i,s,c,d){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===d)break;if(_===4)for(_=c.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;T!==null;){if(_=li(T),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){c=p=_;continue e}T=T.parentNode}}c=c.return}ru(function(){var K=p,ie=ar(s),oe=[];e:{var Q=Jg.get(n);if(Q!==void 0){var J=Bs,Le=n;switch(n){case"keypress":if(Pr(s)===0)break e;case"keydown":case"keyup":J=Xs;break;case"focusin":Le="focus",J=Hs;break;case"focusout":Le="blur",J=Hs;break;case"beforeblur":case"afterblur":J=Hs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=fu;break;case Yg:case Kg:case Qg:J=Gs;break;case Wg:J=hu;break;case"scroll":case"scrollend":J=iu;break;case"wheel":J=Ys;break;case"copy":case"cut":case"paste":J=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=yl;break;case"toggle":case"beforetoggle":J=pu}var Ce=(i&4)!==0,vt=!Ce&&(n==="scroll"||n==="scrollend"),H=Ce?Q!==null?Q+"Capture":null:Q;Ce=[];for(var U=K,Y;U!==null;){var ae=U;if(Y=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Y===null||H===null||(ae=Ja(U,H),ae!=null&&Ce.push(Yl(U,ae,Y))),vt)break;U=U.return}0<Ce.length&&(Q=new J(Q,Le,null,s,ie),oe.push({event:Q,listeners:Ce}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Q&&s!==di&&(Le=s.relatedTarget||s.fromElement)&&(li(Le)||Le[mt]))break e;if((J||Q)&&(Q=ie.window===ie?ie:(Q=ie.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Le=s.relatedTarget||s.toElement,J=K,Le=Le?li(Le):null,Le!==null&&(vt=l(Le),Ce=Le.tag,Le!==vt||Ce!==5&&Ce!==27&&Ce!==6)&&(Le=null)):(J=null,Le=K),J!==Le)){if(Ce=or,ae="onMouseLeave",H="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=yl,ae="onPointerLeave",H="onPointerEnter",U="pointer"),vt=J==null?Q:jr(J),Y=Le==null?Q:jr(Le),Q=new Ce(ae,U+"leave",J,s,ie),Q.target=vt,Q.relatedTarget=Y,ae=null,li(ie)===K&&(Ce=new Ce(H,U+"enter",Le,s,ie),Ce.target=Y,Ce.relatedTarget=vt,ae=Ce),vt=ae,J&&Le)t:{for(Ce=J,H=Le,U=0,Y=Ce;Y;Y=vo(Y))U++;for(Y=0,ae=H;ae;ae=vo(ae))Y++;for(;0<U-Y;)Ce=vo(Ce),U--;for(;0<Y-U;)H=vo(H),Y--;for(;U--;){if(Ce===H||H!==null&&Ce===H.alternate)break t;Ce=vo(Ce),H=vo(H)}Ce=null}else Ce=null;J!==null&&xx(oe,Q,J,Ce,!1),Le!==null&&vt!==null&&xx(oe,vt,Le,Ce,!0)}}e:{if(Q=K?jr(K):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ve=Vg;else if(Zt(Q))if(Pg)ve=dE;else{ve=uE;var $e=cE}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&ul(K.elementType)&&(ve=Vg):ve=fE;if(ve&&(ve=ve(n,K))){yi(oe,ve,s,ie);break e}$e&&$e(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Qi(Q,"number",Q.value)}switch($e=K?jr(K):window,n){case"focusin":(Zt($e)||$e.contentEditable==="true")&&(Ks=$e,$d=K,vl=null);break;case"focusout":vl=$d=Ks=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,$g(oe,s,ie);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":$g(oe,s,ie)}var Te;if(Br)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else at?Z(n,s)&&(Ie="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(v&&s.locale!=="ko"&&(at||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&at&&(Te=dl()):(Vr=ie,Wi="value"in Vr?Vr.value:Vr.textContent,at=!0)),$e=nf(K,Ie),0<$e.length&&(Ie=new pl(Ie,n,null,s,ie),oe.push({event:Ie,listeners:$e}),Te?Ie.data=Te:(Te=pe(s),Te!==null&&(Ie.data=Te)))),(Te=x?Jt(n,s):st(n,s))&&(Ie=nf(K,"onBeforeInput"),0<Ie.length&&($e=new pl("onBeforeInput","beforeinput",null,s,ie),oe.push({event:$e,listeners:Ie}),$e.data=Te)),QE(oe,n,K,s,ie)}gx(oe,i)})}function Yl(n,i,s){return{instance:n,listener:i,currentTarget:s}}function nf(n,i){for(var s=i+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ja(n,s),d!=null&&c.unshift(Yl(n,d,p)),d=Ja(n,i),d!=null&&c.push(Yl(n,d,p))),n.tag===3)return c;n=n.return}return[]}function vo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xx(n,i,s,c,d){for(var p=i._reactName,_=[];s!==null&&s!==c;){var T=s,j=T.alternate,K=T.stateNode;if(T=T.tag,j!==null&&j===c)break;T!==5&&T!==26&&T!==27||K===null||(j=K,d?(K=Ja(s,p),K!=null&&_.unshift(Yl(s,K,j))):d||(K=Ja(s,p),K!=null&&_.push(Yl(s,K,j)))),s=s.return}_.length!==0&&n.push({event:i,listeners:_})}var eT=/\r\n?/g,tT=/\u0000|\uFFFD/g;function bx(n){return(typeof n=="string"?n:""+n).replace(eT,`
`).replace(tT,"")}function vx(n,i){return i=bx(i),bx(n)===i}function rf(){}function bt(n,i,s,c,d,p){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ir(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ir(n,""+c);break;case"className":Mr(n,"class",c);break;case"tabIndex":Mr(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(n,s,c);break;case"style":cl(n,c,p);break;case"data":if(i!=="object"){Mr(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=zs(""+c),n.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&bt(n,i,"name",d.name,d,null),bt(n,i,"formEncType",d.formEncType,d,null),bt(n,i,"formMethod",d.formMethod,d,null),bt(n,i,"formTarget",d.formTarget,d,null)):(bt(n,i,"encType",d.encType,d,null),bt(n,i,"method",d.method,d,null),bt(n,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=zs(""+c),n.setAttribute(s,c);break;case"onClick":c!=null&&(n.onclick=rf);break;case"onScroll":c!=null&&We("scroll",n);break;case"onScrollEnd":c!=null&&We("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}s=zs(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""+c):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":c===!0?n.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,c):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(s,c):n.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(s):n.setAttribute(s,c);break;case"popover":We("beforetoggle",n),We("toggle",n),Ki(n,"popover",c);break;case"xlinkActuate":dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ki(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ud.get(s)||s,Ki(n,s,c))}}function gm(n,i,s,c,d,p){switch(s){case"style":cl(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof c=="string"?ir(n,c):(typeof c=="number"||typeof c=="bigint")&&ir(n,""+c);break;case"onScroll":c!=null&&We("scroll",n);break;case"onScrollEnd":c!=null&&We("scrollend",n);break;case"onClick":c!=null&&(n.onclick=rf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),p=n[jt]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(i,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,c,d);break e}s in n?n[s]=c:c===!0?n.setAttribute(s,""):Ki(n,s,c)}}}function gn(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",n),We("load",n);var c=!1,d=!1,p;for(p in s)if(s.hasOwnProperty(p)){var _=s[p];if(_!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:bt(n,i,p,_,s,null)}}d&&bt(n,i,"srcSet",s.srcSet,s,null),c&&bt(n,i,"src",s.src,s,null);return;case"input":We("invalid",n);var T=p=_=d=null,j=null,K=null;for(c in s)if(s.hasOwnProperty(c)){var ie=s[c];if(ie!=null)switch(c){case"name":d=ie;break;case"type":_=ie;break;case"checked":j=ie;break;case"defaultChecked":K=ie;break;case"value":p=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,i));break;default:bt(n,i,c,ie,s,null)}}Ka(n,p,T,j,K,_,d,!1),Us(n);return;case"select":We("invalid",n),c=_=p=null;for(d in s)if(s.hasOwnProperty(d)&&(T=s[d],T!=null))switch(d){case"value":p=T;break;case"defaultValue":_=T;break;case"multiple":c=T;default:bt(n,i,d,T,s,null)}i=p,s=_,n.multiple=!!c,i!=null?fi(n,!!c,i,!1):s!=null&&fi(n,!!c,s,!0);return;case"textarea":We("invalid",n),p=d=c=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":c=T;break;case"defaultValue":d=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:bt(n,i,_,T,s,null)}Qa(n,c,d,p),Us(n);return;case"option":for(j in s)if(s.hasOwnProperty(j)&&(c=s[j],c!=null))switch(j){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:bt(n,i,j,c,s,null)}return;case"dialog":We("beforetoggle",n),We("toggle",n),We("cancel",n),We("close",n);break;case"iframe":case"object":We("load",n);break;case"video":case"audio":for(c=0;c<Xl.length;c++)We(Xl[c],n);break;case"image":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"embed":case"source":case"link":We("error",n),We("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(c=s[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:bt(n,i,K,c,s,null)}return;default:if(ul(i)){for(ie in s)s.hasOwnProperty(ie)&&(c=s[ie],c!==void 0&&gm(n,i,ie,c,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(c=s[T],c!=null&&bt(n,i,T,c,s,null))}function nT(n,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,_=null,T=null,j=null,K=null,ie=null;for(J in s){var oe=s[J];if(s.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=oe;default:c.hasOwnProperty(J)||bt(n,i,J,null,c,oe)}}for(var Q in c){var J=c[Q];if(oe=s[Q],c.hasOwnProperty(Q)&&(J!=null||oe!=null))switch(Q){case"type":p=J;break;case"name":d=J;break;case"checked":K=J;break;case"defaultChecked":ie=J;break;case"value":_=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==oe&&bt(n,i,Q,J,c,oe)}}$n(n,_,T,j,K,ie,p,d);return;case"select":J=_=T=Q=null;for(p in s)if(j=s[p],s.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":J=j;default:c.hasOwnProperty(p)||bt(n,i,p,null,c,j)}for(d in c)if(p=c[d],j=s[d],c.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":Q=p;break;case"defaultValue":T=p;break;case"multiple":_=p;default:p!==j&&bt(n,i,d,p,c,j)}i=T,s=_,c=J,Q!=null?fi(n,!!s,Q,!1):!!c!=!!s&&(i!=null?fi(n,!!s,i,!0):fi(n,!!s,s?[]:"",!1));return;case"textarea":J=Q=null;for(T in s)if(d=s[T],s.hasOwnProperty(T)&&d!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:bt(n,i,T,null,c,d)}for(_ in c)if(d=c[_],p=s[_],c.hasOwnProperty(_)&&(d!=null||p!=null))switch(_){case"value":Q=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&bt(n,i,_,d,c,p)}yt(n,Q,J);return;case"option":for(var Le in s)if(Q=s[Le],s.hasOwnProperty(Le)&&Q!=null&&!c.hasOwnProperty(Le))switch(Le){case"selected":n.selected=!1;break;default:bt(n,i,Le,null,c,Q)}for(j in c)if(Q=c[j],J=s[j],c.hasOwnProperty(j)&&Q!==J&&(Q!=null||J!=null))switch(j){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:bt(n,i,j,Q,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)Q=s[Ce],s.hasOwnProperty(Ce)&&Q!=null&&!c.hasOwnProperty(Ce)&&bt(n,i,Ce,null,c,Q);for(K in c)if(Q=c[K],J=s[K],c.hasOwnProperty(K)&&Q!==J&&(Q!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:bt(n,i,K,Q,c,J)}return;default:if(ul(i)){for(var vt in s)Q=s[vt],s.hasOwnProperty(vt)&&Q!==void 0&&!c.hasOwnProperty(vt)&&gm(n,i,vt,void 0,c,Q);for(ie in c)Q=c[ie],J=s[ie],!c.hasOwnProperty(ie)||Q===J||Q===void 0&&J===void 0||gm(n,i,ie,Q,c,J);return}}for(var H in s)Q=s[H],s.hasOwnProperty(H)&&Q!=null&&!c.hasOwnProperty(H)&&bt(n,i,H,null,c,Q);for(oe in c)Q=c[oe],J=s[oe],!c.hasOwnProperty(oe)||Q===J||Q==null&&J==null||bt(n,i,oe,Q,c,J)}var ym=null,xm=null;function af(n){return n.nodeType===9?n:n.ownerDocument}function _x(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function bm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function rT(){var n=window.event;return n&&n.type==="popstate"?n===vm?!1:(vm=n,!0):(vm=null,!1)}var Ex=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(n){return Tx.resolve(null).then(n).catch(sT)}:Ex;function sT(n){setTimeout(function(){throw n})}function ha(n){return n==="head"}function Ax(n,i){var s=i,c=0,d=0;do{var p=s.nextSibling;if(n.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<c&&8>c){s=c;var _=n.ownerDocument;if(s&1&&Kl(_.documentElement),s&2&&Kl(_.body),s&4)for(s=_.head,Kl(s),_=s.firstChild;_;){var T=_.nextSibling,j=_.nodeName;_[Ga]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(d===0){n.removeChild(p),rc(i);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:c=s.charCodeAt(0)-48;else c=0;s=p}while(s);rc(i)}function _m(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_m(s),Yi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function oT(n,i,s,c){for(;n.nodeType===1;){var d=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Ga])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Er(n.nextSibling),n===null)break}return null}function lT(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Er(n.nextSibling),n===null))return null;return n}function wm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function cT(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Er(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Em=null;function Sx(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function Nx(n,i,s){switch(i=af(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Kl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Yi(n)}var mr=new Map,Cx=new Set;function sf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ki=me.d;me.d={f:uT,r:fT,D:dT,C:hT,L:mT,m:pT,X:yT,S:gT,M:xT};function uT(){var n=ki.f(),i=Qu();return n||i}function fT(n){var i=Or(n);i!==null&&i.tag===5&&i.type==="form"?Y0(i):ki.r(n)}var _o=typeof document>"u"?null:document;function Rx(n,i,s){var c=_o;if(c&&typeof i=="string"&&i){var d=Gt(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Cx.has(d)||(Cx.add(d),n={rel:n,crossOrigin:s,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),gn(i,"link",n),Ut(i),c.head.appendChild(i)))}}function dT(n){ki.D(n),Rx("dns-prefetch",n,null)}function hT(n,i){ki.C(n,i),Rx("preconnect",n,i)}function mT(n,i,s){ki.L(n,i,s);var c=_o;if(c&&n&&i){var d='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Gt(s.imageSizes)+'"]')):d+='[href="'+Gt(n)+'"]';var p=d;switch(i){case"style":p=wo(n);break;case"script":p=Eo(n)}mr.has(p)||(n=b({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),mr.set(p,n),c.querySelector(d)!==null||i==="style"&&c.querySelector(Ql(p))||i==="script"&&c.querySelector(Wl(p))||(i=c.createElement("link"),gn(i,"link",n),Ut(i),c.head.appendChild(i)))}}function pT(n,i){ki.m(n,i);var s=_o;if(s&&n){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Gt(c)+'"][href="'+Gt(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Eo(n)}if(!mr.has(p)&&(n=b({rel:"modulepreload",href:n},i),mr.set(p,n),s.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Wl(p)))return}c=s.createElement("link"),gn(c,"link",n),Ut(c),s.head.appendChild(c)}}}function gT(n,i,s){ki.S(n,i,s);var c=_o;if(c&&n){var d=kn(c).hoistableStyles,p=wo(n);i=i||"default";var _=d.get(p);if(!_){var T={loading:0,preload:null};if(_=c.querySelector(Ql(p)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},s),(s=mr.get(p))&&Tm(n,s);var j=_=c.createElement("link");Ut(j),gn(j,"link",n),j._p=new Promise(function(K,ie){j.onload=K,j.onerror=ie}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,of(_,i,c)}_={type:"stylesheet",instance:_,count:1,state:T},d.set(p,_)}}}function yT(n,i){ki.X(n,i);var s=_o;if(s&&n){var c=kn(s).hoistableScripts,d=Eo(n),p=c.get(d);p||(p=s.querySelector(Wl(d)),p||(n=b({src:n,async:!0},i),(i=mr.get(d))&&Am(n,i),p=s.createElement("script"),Ut(p),gn(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function xT(n,i){ki.M(n,i);var s=_o;if(s&&n){var c=kn(s).hoistableScripts,d=Eo(n),p=c.get(d);p||(p=s.querySelector(Wl(d)),p||(n=b({src:n,async:!0,type:"module"},i),(i=mr.get(d))&&Am(n,i),p=s.createElement("script"),Ut(p),gn(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function kx(n,i,s,c){var d=(d=ke.current)?sf(d):null;if(!d)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=wo(s.href),s=kn(d).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=wo(s.href);var p=kn(d).hoistableStyles,_=p.get(n);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=d.querySelector(Ql(n)))&&!p._p&&(_.instance=p,_.state.loading=5),mr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},mr.set(n,s),p||bT(d,n,s,_.state))),i&&c===null)throw Error(a(528,""));return _}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(s),s=kn(d).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function wo(n){return'href="'+Gt(n)+'"'}function Ql(n){return'link[rel="stylesheet"]['+n+"]"}function Ix(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function bT(n,i,s,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),gn(i,"link",s),Ut(i),n.head.appendChild(i))}function Eo(n){return'[src="'+Gt(n)+'"]'}function Wl(n){return"script[async]"+n}function Dx(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Gt(s.href)+'"]');if(c)return i.instance=c,Ut(c),c;var d=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ut(c),gn(c,"style",d),of(c,s.precedence,n),i.instance=c;case"stylesheet":d=wo(s.href);var p=n.querySelector(Ql(d));if(p)return i.state.loading|=4,i.instance=p,Ut(p),p;c=Ix(s),(d=mr.get(d))&&Tm(c,d),p=(n.ownerDocument||n).createElement("link"),Ut(p);var _=p;return _._p=new Promise(function(T,j){_.onload=T,_.onerror=j}),gn(p,"link",c),i.state.loading|=4,of(p,s.precedence,n),i.instance=p;case"script":return p=Eo(s.src),(d=n.querySelector(Wl(p)))?(i.instance=d,Ut(d),d):(c=s,(d=mr.get(p))&&(c=b({},s),Am(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),Ut(d),gn(d,"link",c),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,of(c,s.precedence,n));return i.instance}function of(n,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,_=0;_<c.length;_++){var T=c[_];if(T.dataset.precedence===i)p=T;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Tm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Am(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var lf=null;function Ox(n,i,s){if(lf===null){var c=new Map,d=lf=new Map;d.set(s,c)}else d=lf,c=d.get(s),c||(c=new Map,d.set(s,c));if(c.has(n))return c;for(c.set(n,null),s=s.getElementsByTagName(n),d=0;d<s.length;d++){var p=s[d];if(!(p[Ga]||p[Pt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(i)||"";_=n+_;var T=c.get(_);T?T.push(p):c.set(_,[p])}}return c}function jx(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function vT(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Mx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Jl=null;function _T(){}function wT(n,i,s){if(Jl===null)throw Error(a(475));var c=Jl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=wo(s.href),p=n.querySelector(Ql(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=cf.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=p,Ut(p);return}p=n.ownerDocument||n,s=Ix(s),(d=mr.get(d))&&Tm(s,d),p=p.createElement("link"),Ut(p);var _=p;_._p=new Promise(function(T,j){_.onload=T,_.onerror=j}),gn(p,"link",s),i.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=cf.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function ET(){if(Jl===null)throw Error(a(475));var n=Jl;return n.stylesheets&&n.count===0&&Sm(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Sm(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function cf(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uf=null;function Sm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uf=new Map,i.forEach(TT,n),uf=null,cf.call(n))}function TT(n,i){if(!(i.state.loading&4)){var s=uf.get(n);if(s)var c=s.get(null);else{s=new Map,uf.set(n,s);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var _=d[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),c=_)}c&&s.set(null,c)}d=i.instance,_=d.getAttribute("data-precedence"),p=s.get(_)||c,p===c&&s.set(null,d),s.set(_,d),this.count++,c=cf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var Zl={$$typeof:G,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function AT(n,i,s,c,d,p,_,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Lx(n,i,s,c,d,p,_,T,j,K,ie,oe){return n=new AT(n,i,s,_,T,j,K,oe),i=1,p===!0&&(i|=24),p=Yn(3,null,null,i),n.current=p,p.stateNode=n,i=oh(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:c,isDehydrated:s,cache:i},fh(p),n}function Vx(n){return n?(n=Zs,n):Zs}function Px(n,i,s,c,d,p){d=Vx(d),c.context===null?c.context=d:c.pendingContext=d,c=ea(i),c.payload={element:s},p=p===void 0?null:p,p!==null&&(c.callback=p),s=ta(n,c,i),s!==null&&(Zn(s,n,i),Rl(s,n,i))}function Ux(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Nm(n,i){Ux(n,i),(n=n.alternate)&&Ux(n,i)}function zx(n){if(n.tag===13){var i=Js(n,67108864);i!==null&&Zn(i,n,67108864),Nm(n,67108864)}}var ff=!0;function ST(n,i,s,c){var d=W.T;W.T=null;var p=me.p;try{me.p=2,Cm(n,i,s,c)}finally{me.p=p,W.T=d}}function NT(n,i,s,c){var d=W.T;W.T=null;var p=me.p;try{me.p=8,Cm(n,i,s,c)}finally{me.p=p,W.T=d}}function Cm(n,i,s,c){if(ff){var d=Rm(c);if(d===null)pm(n,i,c,df,s),Fx(n,c);else if(RT(d,n,i,s,c))c.stopPropagation();else if(Fx(n,c),i&4&&-1<CT.indexOf(n)){for(;d!==null;){var p=Or(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=rt(p.pendingLanes);if(_!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var j=1<<31-Ye(_);T.entanglements[1]|=j,_&=~j}Xr(p),(pt&6)===0&&(Yu=be()+500,$l(0))}}break;case 13:T=Js(p,2),T!==null&&Zn(T,p,2),Qu(),Nm(p,2)}if(p=Rm(c),p===null&&pm(n,i,c,df,s),p===d)break;d=p}d!==null&&c.stopPropagation()}else pm(n,i,c,null,s)}}function Rm(n){return n=ar(n),km(n)}var df=null;function km(n){if(df=null,n=li(n),n!==null){var i=l(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=u(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return df=n,null}function Bx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case ze:return 2;case De:return 8;case ge:case Xe:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var Im=!1,ma=null,pa=null,ga=null,ec=new Map,tc=new Map,ya=[],CT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fx(n,i){switch(n){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":ec.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(i.pointerId)}}function nc(n,i,s,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},i!==null&&(i=Or(i),i!==null&&zx(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function RT(n,i,s,c,d){switch(i){case"focusin":return ma=nc(ma,n,i,s,c,d),!0;case"dragenter":return pa=nc(pa,n,i,s,c,d),!0;case"mouseover":return ga=nc(ga,n,i,s,c,d),!0;case"pointerover":var p=d.pointerId;return ec.set(p,nc(ec.get(p)||null,n,i,s,c,d)),!0;case"gotpointercapture":return p=d.pointerId,tc.set(p,nc(tc.get(p)||null,n,i,s,c,d)),!0}return!1}function qx(n){var i=li(n.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=u(s),i!==null){n.blockedOn=i,js(n.priority,function(){if(s.tag===13){var c=Jn();c=Ir(c);var d=Js(s,c);d!==null&&Zn(d,s,c),Nm(s,c)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Rm(n.nativeEvent);if(s===null){s=n.nativeEvent;var c=new s.constructor(s.type,s);di=c,s.target.dispatchEvent(c),di=null}else return i=Or(s),i!==null&&zx(i),n.blockedOn=s,!1;i.shift()}return!0}function Hx(n,i,s){hf(n)&&s.delete(i)}function kT(){Im=!1,ma!==null&&hf(ma)&&(ma=null),pa!==null&&hf(pa)&&(pa=null),ga!==null&&hf(ga)&&(ga=null),ec.forEach(Hx),tc.forEach(Hx)}function mf(n,i){n.blockedOn===i&&(n.blockedOn=null,Im||(Im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kT)))}var pf=null;function Gx(n){pf!==n&&(pf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pf===n&&(pf=null);for(var i=0;i<n.length;i+=3){var s=n[i],c=n[i+1],d=n[i+2];if(typeof c!="function"){if(km(c||s)===null)continue;break}var p=Or(s);p!==null&&(n.splice(i,3),i-=3,kh(p,{pending:!0,data:d,method:s.method,action:c},c,d))}}))}function rc(n){function i(j){return mf(j,n)}ma!==null&&mf(ma,n),pa!==null&&mf(pa,n),ga!==null&&mf(ga,n),ec.forEach(i),tc.forEach(i);for(var s=0;s<ya.length;s++){var c=ya[s];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ya.length&&(s=ya[0],s.blockedOn===null);)qx(s),s.blockedOn===null&&ya.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var d=s[c],p=s[c+1],_=d[jt]||null;if(typeof p=="function")_||Gx(s);else if(_){var T=null;if(p&&p.hasAttribute("formAction")){if(d=p,_=p[jt]||null)T=_.formAction;else if(km(d)!==null)continue}else T=_.action;typeof T=="function"?s[c+1]=T:(s.splice(c,3),c-=3),Gx(s)}}}function Dm(n){this._internalRoot=n}gf.prototype.render=Dm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,c=Jn();Px(s,c,n,i,null,null)},gf.prototype.unmount=Dm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Px(n.current,2,null,n,null,null),Qu(),i[mt]=null}};function gf(n){this._internalRoot=n}gf.prototype.unstable_scheduleHydration=function(n){if(n){var i=Dr();n={blockedOn:null,target:n,priority:i};for(var s=0;s<ya.length&&i!==0&&i<ya[s].priority;s++);ya.splice(s,0,n),s===0&&qx(n)}};var $x=e.version;if($x!=="19.1.1")throw Error(a(527,$x,"19.1.1"));me.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var IT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Fe=yf.inject(IT),Ne=yf}catch{}}return ac.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,c="",d=ly,p=cy,_=uy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Lx(n,1,!1,null,null,s,c,d,p,_,T,null),n[mt]=i.current,mm(n),new Dm(i)},ac.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var c=!1,d="",p=ly,_=cy,T=uy,j=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),i=Lx(n,1,!0,i,s??null,c,d,p,_,T,j,K),i.context=Vx(null),s=i.current,c=Jn(),c=Ir(c),d=ea(c),d.callback=null,ta(s,d,c),s=c,i.current.lanes=s,qn(i,s),Xr(i),n[mt]=i.current,mm(n),new gf(i)},ac.version="19.1.1",ac}var rb;function BT(){if(rb)return Mm.exports;rb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=zT(),Mm.exports}var FT=BT();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ib="popstate";function qT(r={}){function e(a,o){let{pathname:l,search:u,hash:h}=a.location;return tp("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:vc(o)}return GT(e,t,null,r)}function Ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HT(){return Math.random().toString(36).substring(2,10)}function ab(r,e){return{usr:r.state,key:r.key,idx:e}}function tp(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:t,key:e&&e.key||a||HT()}}function vc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Go(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function GT(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,h="POP",g=null,y=b();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function b(){return(u.state||{idx:null}).idx}function w(){h="POP";let D=b(),B=D==null?null:D-y;y=D,g&&g({action:h,location:V.location,delta:B})}function E(D,B){h="PUSH";let F=tp(V.location,D,B);y=b()+1;let G=ab(F,y),re=V.createHref(F);try{u.pushState(G,"",re)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(re)}l&&g&&g({action:h,location:V.location,delta:1})}function k(D,B){h="REPLACE";let F=tp(V.location,D,B);y=b();let G=ab(F,y),re=V.createHref(F);u.replaceState(G,"",re),l&&g&&g({action:h,location:V.location,delta:0})}function P(D){return $T(D)}let V={get action(){return h},get location(){return r(o,u)},listen(D){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(ib,w),g=D,()=>{o.removeEventListener(ib,w),g=null}},createHref(D){return e(o,D)},createURL:P,encodeLocation(D){let B=P(D);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:k,go(D){return u.go(D)}};return V}function $T(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:vc(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function Zv(r,e,t="/"){return XT(r,e,t,!1)}function XT(r,e,t,a){let o=typeof e=="string"?Go(e):e,l=Li(o.pathname||"/",t);if(l==null)return null;let u=e_(r);YT(u);let h=null;for(let g=0;h==null&&g<u.length;++g){let y=a2(l);h=r2(u[g],y,a)}return h}function e_(r,e=[],t=[],a=""){let o=(l,u,h)=>{let g={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};g.relativePath.startsWith("/")&&(Ct(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=Oi([a,g.relativePath]),b=t.concat(g);l.children&&l.children.length>0&&(Ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),e_(l.children,e,b,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:t2(y,l.index),routesMeta:b})};return r.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let h of t_(l.path))o(l,u,h)}),e}function t_(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=t_(a.join("/")),h=[];return h.push(...u.map(g=>g===""?l:[l,g].join("/"))),o&&h.push(...u),h.map(g=>r.startsWith("/")&&g===""?"/":g)}function YT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:n2(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var KT=/^:[\w-]+$/,QT=3,WT=2,JT=1,ZT=10,e2=-2,sb=r=>r==="*";function t2(r,e){let t=r.split("/"),a=t.length;return t.some(sb)&&(a+=e2),e&&(a+=WT),t.filter(o=>!sb(o)).reduce((o,l)=>o+(KT.test(l)?QT:l===""?JT:ZT),a)}function n2(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function r2(r,e,t=!1){let{routesMeta:a}=r,o={},l="/",u=[];for(let h=0;h<a.length;++h){let g=a[h],y=h===a.length-1,b=l==="/"?e:e.slice(l.length)||"/",w=Xf({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),E=g.route;if(!w&&y&&t&&!a[a.length-1].route.index&&(w=Xf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Oi([l,w.pathname]),pathnameBase:c2(Oi([l,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(l=Oi([l,w.pathnameBase]))}return u}function Xf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=i2(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((y,{paramName:b,isOptional:w},E)=>{if(b==="*"){let P=h[E]||"";u=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const k=h[E];return w&&!k?y[b]=void 0:y[b]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:r}}function i2(r,e=!1,t=!0){Ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,g)=>(a.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function a2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Li(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function s2(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?Go(r):r;return{pathname:t?t.startsWith("/")?t:o2(t,e):e,search:u2(a),hash:f2(o)}}function o2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Um(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Op(r){let e=l2(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function jp(r,e,t,a=!1){let o;typeof r=="string"?o=Go(r):(o={...r},Ct(!o.pathname||!o.pathname.includes("?"),Um("?","pathname","search",o)),Ct(!o.pathname||!o.pathname.includes("#"),Um("#","pathname","hash",o)),Ct(!o.search||!o.search.includes("#"),Um("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!a&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;o.pathname=E.join("/")}h=w>=0?e[w]:"/"}let g=s2(o,h),y=u&&u!=="/"&&u.endsWith("/"),b=(l||u===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var Oi=r=>r.join("/").replace(/\/\/+/g,"/"),c2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,f2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function d2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var n_=["POST","PUT","PATCH","DELETE"];new Set(n_);var h2=["GET",...n_];new Set(h2);var $o=z.createContext(null);$o.displayName="DataRouter";var hd=z.createContext(null);hd.displayName="DataRouterState";z.createContext(!1);var r_=z.createContext({isTransitioning:!1});r_.displayName="ViewTransition";var m2=z.createContext(new Map);m2.displayName="Fetchers";var p2=z.createContext(null);p2.displayName="Await";var Cr=z.createContext(null);Cr.displayName="Navigation";var Dc=z.createContext(null);Dc.displayName="Location";var Rr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Mp=z.createContext(null);Mp.displayName="RouteError";function g2(r,{relative:e}={}){Ct(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=z.useContext(Cr),{hash:o,pathname:l,search:u}=Oc(r,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Oi([t,l])),a.createHref({pathname:h,search:u,hash:o})}function Xo(){return z.useContext(Dc)!=null}function Fi(){return Ct(Xo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Dc).location}var i_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a_(r){z.useContext(Cr).static||z.useLayoutEffect(r)}function md(){let{isDataRoute:r}=z.useContext(Rr);return r?I2():y2()}function y2(){Ct(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext($o),{basename:e,navigator:t}=z.useContext(Cr),{matches:a}=z.useContext(Rr),{pathname:o}=Fi(),l=JSON.stringify(Op(a)),u=z.useRef(!1);return a_(()=>{u.current=!0}),z.useCallback((g,y={})=>{if(Ar(u.current,i_),!u.current)return;if(typeof g=="number"){t.go(g);return}let b=jp(g,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Oi([e,b.pathname])),(y.replace?t.replace:t.push)(b,y.state,y)},[e,t,l,o,r])}var x2=z.createContext(null);function b2(r){let e=z.useContext(Rr).outlet;return e&&z.createElement(x2.Provider,{value:r},e)}function Oc(r,{relative:e}={}){let{matches:t}=z.useContext(Rr),{pathname:a}=Fi(),o=JSON.stringify(Op(t));return z.useMemo(()=>jp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function v2(r,e){return s_(r,e)}function s_(r,e,t,a){Ct(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Cr),{matches:l}=z.useContext(Rr),u=l[l.length-1],h=u?u.params:{},g=u?u.pathname:"/",y=u?u.pathnameBase:"/",b=u&&u.route;{let B=b&&b.path||"";o_(g,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=Fi(),E;if(e){let B=typeof e=="string"?Go(e):e;Ct(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=w;let k=E.pathname||"/",P=k;if(y!=="/"){let B=y.replace(/^\//,"").split("/");P="/"+k.replace(/^\//,"").split("/").slice(B.length).join("/")}let V=Zv(r,{pathname:P});Ar(b||V!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ar(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=A2(V&&V.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Oi([y,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Oi([y,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,a);return e&&D?z.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function _2(){let r=k2(),e=d2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,u)}var w2=z.createElement(_2,null),E2=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(Rr.Provider,{value:this.props.routeContext},z.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T2({routeContext:r,match:e,children:t}){let a=z.useContext($o);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Rr.Provider,{value:r},t)}function A2(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t?.errors;if(l!=null){let g=o.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);Ct(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let u=!1,h=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:b,errors:w}=t,E=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||E){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((g,y,b)=>{let w,E=!1,k=null,P=null;t&&(w=l&&y.route.id?l[y.route.id]:void 0,k=y.route.errorElement||w2,u&&(h<0&&b===0?(o_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):h===b&&(E=!0,P=y.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,b+1)),D=()=>{let B;return w?B=k:E?B=P:y.route.Component?B=z.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=g,z.createElement(T2,{match:y,routeContext:{outlet:g,matches:V,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?z.createElement(E2,{location:t.location,revalidation:t.revalidation,component:k,error:w,children:D(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):D()},null)}function Lp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S2(r){let e=z.useContext($o);return Ct(e,Lp(r)),e}function N2(r){let e=z.useContext(hd);return Ct(e,Lp(r)),e}function C2(r){let e=z.useContext(Rr);return Ct(e,Lp(r)),e}function Vp(r){let e=C2(r),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function R2(){return Vp("useRouteId")}function k2(){let r=z.useContext(Mp),e=N2("useRouteError"),t=Vp("useRouteError");return r!==void 0?r:e.errors?.[t]}function I2(){let{router:r}=S2("useNavigate"),e=Vp("useNavigate"),t=z.useRef(!1);return a_(()=>{t.current=!0}),z.useCallback(async(o,l={})=>{Ar(t.current,i_),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var ob={};function o_(r,e,t){!e&&!ob[r]&&(ob[r]=!0,Ar(!1,t))}z.memo(D2);function D2({routes:r,future:e,state:t}){return s_(r,void 0,t,e)}function Ba({to:r,replace:e,state:t,relative:a}){Ct(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Cr);Ar(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(Rr),{pathname:u}=Fi(),h=md(),g=jp(r,Op(l),u,a==="path"),y=JSON.stringify(g);return z.useEffect(()=>{h(JSON.parse(y),{replace:e,state:t,relative:a})},[h,y,a,e,t]),null}function l_(r){return b2(r.context)}function er(r){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O2({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1}){Ct(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof t=="string"&&(t=Go(t));let{pathname:g="/",search:y="",hash:b="",state:w=null,key:E="default"}=t,k=z.useMemo(()=>{let P=Li(g,u);return P==null?null:{location:{pathname:P,search:y,hash:b,state:w,key:E},navigationType:a}},[u,g,y,b,w,E,a]);return Ar(k!=null,`<Router basename="${u}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:z.createElement(Cr.Provider,{value:h},z.createElement(Dc.Provider,{children:e,value:k}))}function j2({children:r,location:e}){return v2(np(r),e)}function np(r,e=[]){let t=[];return z.Children.forEach(r,(a,o)=>{if(!z.isValidElement(a))return;let l=[...e,o];if(a.type===z.Fragment){t.push.apply(t,np(a.props.children,l));return}Ct(a.type===er,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=np(a.props.children,l)),t.push(u)}),t}var Df="get",Of="application/x-www-form-urlencoded";function pd(r){return r!=null&&typeof r.tagName=="string"}function M2(r){return pd(r)&&r.tagName.toLowerCase()==="button"}function L2(r){return pd(r)&&r.tagName.toLowerCase()==="form"}function V2(r){return pd(r)&&r.tagName.toLowerCase()==="input"}function P2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function U2(r,e){return r.button===0&&(!e||e==="_self")&&!P2(r)}var xf=null;function z2(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var B2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(r){return r!=null&&!B2.has(r)?(Ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):r}function F2(r,e){let t,a,o,l,u;if(L2(r)){let h=r.getAttribute("action");a=h?Li(h,e):null,t=r.getAttribute("method")||Df,o=zm(r.getAttribute("enctype"))||Of,l=new FormData(r)}else if(M2(r)||V2(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||h.getAttribute("action");if(a=g?Li(g,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||Df,o=zm(r.getAttribute("formenctype"))||zm(h.getAttribute("enctype"))||Of,l=new FormData(h,r),!z2()){let{name:y,type:b,value:w}=r;if(b==="image"){let E=y?`${y}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else y&&l.append(y,w)}}else{if(pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Df,a=null,o=Of,u=r}return l&&o==="text/plain"&&(u=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function q2(r,e,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&Li(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function H2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $2(r,e,t){let a=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await H2(l,t);return u.links?u.links():[]}return[]}));return Q2(a.flat(1).filter(G2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function lb(r,e,t,a,o,l){let u=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,h=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,y)=>u(g,y)||h(g,y)):l==="data"?e.filter((g,y)=>{let b=a.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(u(g,y)||h(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function X2(r,e,{includeHydrateFallback:t}={}){return Y2(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Y2(r){return[...new Set(r)]}function K2(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function Q2(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let l=JSON.stringify(K2(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}function c_(){let r=z.useContext($o);return Pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function W2(){let r=z.useContext(hd);return Pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Up=z.createContext(void 0);Up.displayName="FrameworkContext";function u_(){let r=z.useContext(Up);return Pp(r,"You must render this element inside a <HydratedRouter> element"),r}function J2(r,e){let t=z.useContext(Up),[a,o]=z.useState(!1),[l,u]=z.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:w}=e,E=z.useRef(null);z.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let V=B=>{B.forEach(F=>{u(F.isIntersecting)})},D=new IntersectionObserver(V,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[r]),z.useEffect(()=>{if(a){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[a]);let k=()=>{o(!0)},P=()=>{o(!1),u(!1)};return t?r!=="intent"?[l,E,{}]:[l,E,{onFocus:sc(h,k),onBlur:sc(g,P),onMouseEnter:sc(y,k),onMouseLeave:sc(b,P),onTouchStart:sc(w,k)}]:[!1,E,{}]}function sc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Z2({page:r,...e}){let{router:t}=c_(),a=z.useMemo(()=>Zv(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?z.createElement(tA,{page:r,matches:a,...e}):null}function eA(r){let{manifest:e,routeModules:t}=u_(),[a,o]=z.useState([]);return z.useEffect(()=>{let l=!1;return $2(r,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[r,e,t]),a}function tA({page:r,matches:e,...t}){let a=Fi(),{manifest:o,routeModules:l}=u_(),{basename:u}=c_(),{loaderData:h,matches:g}=W2(),y=z.useMemo(()=>lb(r,e,g,o,a,"data"),[r,e,g,o,a]),b=z.useMemo(()=>lb(r,e,g,o,a,"assets"),[r,e,g,o,a]),w=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let P=new Set,V=!1;if(e.forEach(B=>{let F=o.routes[B.route.id];!F||!F.hasLoader||(!y.some(G=>G.route.id===B.route.id)&&B.route.id in h&&l[B.route.id]?.shouldRevalidate||F.hasClientLoader?V=!0:P.add(B.route.id))}),P.size===0)return[];let D=q2(r,u,"data");return V&&P.size>0&&D.searchParams.set("_routes",e.filter(B=>P.has(B.route.id)).map(B=>B.route.id).join(",")),[D.pathname+D.search]},[u,h,a,o,y,e,r,l]),E=z.useMemo(()=>X2(b,o),[b,o]),k=eA(b);return z.createElement(z.Fragment,null,w.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),E.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),k.map(({key:P,link:V})=>z.createElement("link",{key:P,...V})))}function nA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var f_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f_&&(window.__reactRouterVersion="7.7.1")}catch{}function rA({basename:r,children:e,window:t}){let a=z.useRef();a.current==null&&(a.current=qT({window:t,v5Compat:!0}));let o=a.current,[l,u]=z.useState({action:o.action,location:o.location}),h=z.useCallback(g=>{z.startTransition(()=>u(g))},[u]);return z.useLayoutEffect(()=>o.listen(h),[o,h]),z.createElement(O2,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var d_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yf=z.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:u,state:h,target:g,to:y,preventScrollReset:b,viewTransition:w,...E},k){let{basename:P}=z.useContext(Cr),V=typeof y=="string"&&d_.test(y),D,B=!1;if(typeof y=="string"&&V&&(D=y,f_))try{let C=new URL(window.location.href),R=y.startsWith("//")?new URL(C.protocol+y):new URL(y),I=Li(R.pathname,P);R.origin===C.origin&&I!=null?y=I+R.search+R.hash:B=!0}catch{Ar(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=g2(y,{relative:o}),[G,re,ne]=J2(a,E),le=oA(y,{replace:u,state:h,target:g,preventScrollReset:b,relative:o,viewTransition:w});function N(C){e&&e(C),C.defaultPrevented||le(C)}let S=z.createElement("a",{...E,...ne,href:D||F,onClick:B||l?e:N,ref:nA(k,re),target:g,"data-discover":!V&&t==="render"?"true":void 0});return G&&!V?z.createElement(z.Fragment,null,S,z.createElement(Z2,{page:F})):S});Yf.displayName="Link";var iA=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:h,children:g,...y},b){let w=Oc(u,{relative:y.relative}),E=Fi(),k=z.useContext(hd),{navigator:P,basename:V}=z.useContext(Cr),D=k!=null&&dA(w)&&h===!0,B=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,F=E.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(F=F.toLowerCase(),G=G?G.toLowerCase():null,B=B.toLowerCase()),G&&V&&(G=Li(G,V)||G);const re=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ne=F===B||!o&&F.startsWith(B)&&F.charAt(re)==="/",le=G!=null&&(G===B||!o&&G.startsWith(B)&&G.charAt(B.length)==="/"),N={isActive:ne,isPending:le,isTransitioning:D},S=ne?e:void 0,C;typeof a=="function"?C=a(N):C=[a,ne?"active":null,le?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(N):l;return z.createElement(Yf,{...y,"aria-current":S,className:C,ref:b,style:R,to:u,viewTransition:h},typeof g=="function"?g(N):g)});iA.displayName="NavLink";var aA=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:u=Df,action:h,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:w,...E},k)=>{let P=uA(),V=fA(h,{relative:y}),D=u.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&d_.test(h),F=G=>{if(g&&g(G),G.defaultPrevented)return;G.preventDefault();let re=G.nativeEvent.submitter,ne=re?.getAttribute("formmethod")||u;P(re||G.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:o,state:l,relative:y,preventScrollReset:b,viewTransition:w})};return z.createElement("form",{ref:k,method:D,action:V,onSubmit:a?g:F,...E,"data-discover":!B&&r==="render"?"true":void 0})});aA.displayName="Form";function sA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(r){let e=z.useContext($o);return Ct(e,sA(r)),e}function oA(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:u}={}){let h=md(),g=Fi(),y=Oc(r,{relative:l});return z.useCallback(b=>{if(U2(b,e)){b.preventDefault();let w=t!==void 0?t:vc(g)===vc(y);h(r,{replace:w,state:a,preventScrollReset:o,relative:l,viewTransition:u})}},[g,h,y,t,a,e,r,o,l,u])}var lA=0,cA=()=>`__${String(++lA)}__`;function uA(){let{router:r}=h_("useSubmit"),{basename:e}=z.useContext(Cr),t=R2();return z.useCallback(async(a,o={})=>{let{action:l,method:u,encType:h,formData:g,body:y}=F2(a,e);if(o.navigate===!1){let b=o.fetcherKey||cA();await r.fetch(b,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function fA(r,{relative:e}={}){let{basename:t}=z.useContext(Cr),a=z.useContext(Rr);Ct(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Oc(r||".",{relative:e})},u=Fi();if(r==null){l.search=u.search;let h=new URLSearchParams(l.search),g=h.getAll("index");if(g.some(b=>b==="")){h.delete("index"),g.filter(w=>w).forEach(w=>h.append("index",w));let b=h.toString();l.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Oi([t,l.pathname])),vc(l)}function dA(r,{relative:e}={}){let t=z.useContext(r_);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=h_("useViewTransitionState"),o=Oc(r,{relative:e});if(!t.isTransitioning)return!1;let l=Li(t.currentLocation.pathname,a)||t.currentLocation.pathname,u=Li(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Xf(o.pathname,u)!=null||Xf(o.pathname,l)!=null}const hA=()=>m.jsx(l_,{}),mA=()=>{};var cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pA=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],h=r[t++],g=((o&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],u=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},p_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,h=u?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,b=l>>2,w=(l&3)<<4|h>>4;let E=(h&15)<<2|y>>6,k=y&63;g||(k=64,u||(E=64)),a.push(t[b],t[w],t[E],t[k])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(m_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||h==null||y==null||w==null)throw new gA;const E=l<<2|h>>4;if(a.push(E),y!==64){const k=h<<4&240|y>>2;if(a.push(k),w!==64){const P=y<<6&192|w;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yA=function(r){const e=m_(r);return p_.encodeByteArray(e,!0)},Kf=function(r){return yA(r).replace(/\./g,"")},g_=function(r){try{return p_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=()=>xA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof cb>"u")return;const r=cb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_A=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g_(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return mA()||bA()||vA()||_A()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y_=r=>gd()?.emulatorHosts?.[r],wA=r=>{const e=y_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},x_=()=>gd()?.config,b_=r=>gd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kf(JSON.stringify(t)),Kf(JSON.stringify(u)),""].join(".")}const mc={};function AA(){const r={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?r.emulator.push(e):r.prod.push(e);return r}function SA(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ub=!1;function __(r,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||mc[r]===e||mc[r]||ub)return;mc[r]=e;function t(E){return`__firebase__banner__${E}`}const a="__firebase__banner",l=AA().prod.length>0;function u(){const E=document.getElementById(a);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,k){E.setAttribute("width","24"),E.setAttribute("id",k),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ub=!0,u()},E}function b(E,k){E.setAttribute("id",k),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=SA(a),k=t("text"),P=document.getElementById(k)||document.createElement("span"),V=t("learnmore"),D=document.getElementById(V)||document.createElement("a"),B=t("preprendIcon"),F=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;h(G),b(D,V);const re=y();g(F,B),G.append(F,P,D,re),document.body.appendChild(G)}l?(P.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function CA(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DA(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OA(){return!CA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jA(){try{return typeof indexedDB=="object"}catch{return!1}}function MA(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="FirebaseError";class qi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=LA,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?VA(l,a):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new qi(o,h,a)}}function VA(r,e){return r.replace(PA,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const PA=/\{\$([^}]+)}/g;function UA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ja(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=r[o],u=e[o];if(fb(l)&&fb(u)){if(!ja(l,u))return!1}else if(l!==u)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function fb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function lc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,l]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function cc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function zA(r,e){const t=new BA(r,e);return t.subscribe.bind(t)}class BA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");FA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FA(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class Ss{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new EA;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GA(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);a===h&&u.resolve(o)}return o}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:HA(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HA(r){return r===vs?void 0:r}function GA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const XA={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},YA=Ze.INFO,KA={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},QA=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=KA[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=YA,this._logHandler=QA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const WA=(r,e)=>e.some(t=>r instanceof t);let db,hb;function JA(){return db||(db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZA(){return hb||(hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w_=new WeakMap,rp=new WeakMap,E_=new WeakMap,Fm=new WeakMap,Bp=new WeakMap;function eS(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Ra(r.result)),o()},u=()=>{a(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&w_.set(t,r)}).catch(()=>{}),Bp.set(e,r),e}function tS(r){if(rp.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});rp.set(r,e)}let ip={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return rp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||E_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ra(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nS(r){ip=r(ip)}function rS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(qm(this),e,...t);return E_.set(a,e.sort?e.sort():[e]),Ra(a)}:ZA().includes(r)?function(...e){return r.apply(qm(this),e),Ra(w_.get(this))}:function(...e){return Ra(r.apply(qm(this),e))}}function iS(r){return typeof r=="function"?rS(r):(r instanceof IDBTransaction&&tS(r),WA(r,JA())?new Proxy(r,ip):r)}function Ra(r){if(r instanceof IDBRequest)return eS(r);if(Fm.has(r))return Fm.get(r);const e=iS(r);return e!==r&&(Fm.set(r,e),Bp.set(e,r)),e}const qm=r=>Bp.get(r);function aS(r,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),h=Ra(u);return a&&u.addEventListener("upgradeneeded",g=>{a(Ra(u.result),g.oldVersion,g.newVersion,Ra(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),h.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const sS=["get","getKey","getAll","getAllKeys","count"],oS=["put","add","delete","clear"],Hm=new Map;function mb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=oS.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||sS.includes(t)))return;const l=async function(u,...h){const g=this.transaction(u,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(h.shift())),(await Promise.all([y[t](...h),o&&g.done]))[0]};return Hm.set(e,l),l}nS(r=>({...r,get:(e,t,a)=>mb(e,t)||r.get(e,t,a),has:(e,t)=>!!mb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cS(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function cS(r){return r.getComponent()?.type==="VERSION"}const ap="@firebase/app",pb="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new zp("@firebase/app"),uS="@firebase/app-compat",fS="@firebase/analytics-compat",dS="@firebase/analytics",hS="@firebase/app-check-compat",mS="@firebase/app-check",pS="@firebase/auth",gS="@firebase/auth-compat",yS="@firebase/database",xS="@firebase/data-connect",bS="@firebase/database-compat",vS="@firebase/functions",_S="@firebase/functions-compat",wS="@firebase/installations",ES="@firebase/installations-compat",TS="@firebase/messaging",AS="@firebase/messaging-compat",SS="@firebase/performance",NS="@firebase/performance-compat",CS="@firebase/remote-config",RS="@firebase/remote-config-compat",kS="@firebase/storage",IS="@firebase/storage-compat",DS="@firebase/firestore",OS="@firebase/ai",jS="@firebase/firestore-compat",MS="firebase",LS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="[DEFAULT]",VS={[ap]:"fire-core",[uS]:"fire-core-compat",[dS]:"fire-analytics",[fS]:"fire-analytics-compat",[mS]:"fire-app-check",[hS]:"fire-app-check-compat",[pS]:"fire-auth",[gS]:"fire-auth-compat",[yS]:"fire-rtdb",[xS]:"fire-data-connect",[bS]:"fire-rtdb-compat",[vS]:"fire-fn",[_S]:"fire-fn-compat",[wS]:"fire-iid",[ES]:"fire-iid-compat",[TS]:"fire-fcm",[AS]:"fire-fcm-compat",[SS]:"fire-perf",[NS]:"fire-perf-compat",[CS]:"fire-rc",[RS]:"fire-rc-compat",[kS]:"fire-gcs",[IS]:"fire-gcs-compat",[DS]:"fire-fst",[jS]:"fire-fst-compat",[OS]:"fire-vertex","fire-js":"fire-js",[MS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,PS=new Map,op=new Map;function gb(r,e){try{r.container.addComponent(e)}catch(t){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Lo(r){const e=r.name;if(op.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;op.set(e,r);for(const t of Qf.values())gb(t,r);for(const t of PS.values())gb(t,r);return!0}function Fp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function pr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new jc("app","Firebase",US);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=LS;function T_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a={name:sp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ka.create("bad-app-name",{appName:String(o)});if(t||(t=x_()),!t)throw ka.create("no-options");const l=Qf.get(o);if(l){if(ja(t,l.options)&&ja(a,l.config))return l;throw ka.create("duplicate-app",{appName:o})}const u=new $A(o);for(const g of op.values())u.addComponent(g);const h=new zS(t,a,u);return Qf.set(o,h),h}function A_(r=sp){const e=Qf.get(r);if(!e&&r===sp&&x_())return T_();if(!e)throw ka.create("no-app",{appName:r});return e}function Ia(r,e,t){let a=VS[r]??r;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(u.join(" "));return}Lo(new Ss(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firebase-heartbeat-database",FS=1,_c="firebase-heartbeat-store";let Gm=null;function S_(){return Gm||(Gm=aS(BS,FS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_c)}catch(t){console.warn(t)}}}}).catch(r=>{throw ka.create("idb-open",{originalErrorMessage:r.message})})),Gm}async function qS(r){try{const t=(await S_()).transaction(_c),a=await t.objectStore(_c).get(N_(r));return await t.done,a}catch(e){if(e instanceof qi)Vi.warn(e.message);else{const t=ka.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(t.message)}}}async function yb(r,e){try{const a=(await S_()).transaction(_c,"readwrite");await a.objectStore(_c).put(e,N_(r)),await a.done}catch(t){if(t instanceof qi)Vi.warn(t.message);else{const a=ka.create("idb-set",{originalErrorMessage:t?.message});Vi.warn(a.message)}}}function N_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=1024,GS=30;class $S{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YS(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>GS){const o=KS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xb(),{heartbeatsToSend:t,unsentEntries:a}=XS(this._heartbeatsCache.heartbeats),o=Kf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Vi.warn(e),""}}}function xb(){return new Date().toISOString().substring(0,10)}function XS(r,e=HS){const t=[];let a=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),bb(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),bb(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class YS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jA()?MA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qS(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return yb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function bb(r){return Kf(JSON.stringify({version:2,heartbeats:r})).length}function KS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r){Lo(new Ss("platform-logger",e=>new lS(e),"PRIVATE")),Lo(new Ss("heartbeat",e=>new $S(e),"PRIVATE")),Ia(ap,pb,r),Ia(ap,pb,"esm2020"),Ia("fire-js","")}QS("");function C_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WS=C_,R_=new jc("auth","Firebase",C_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new zp("@firebase/auth");function JS(r,...e){Wf.logLevel<=Ze.WARN&&Wf.warn(`Auth (${Ko}): ${r}`,...e)}function jf(r,...e){Wf.logLevel<=Ze.ERROR&&Wf.error(`Auth (${Ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,...e){throw qp(r,...e)}function Qr(r,...e){return qp(r,...e)}function k_(r,e,t){const a={...WS(),[e]:t};return new jc("auth","Firebase",a).create(e,{appName:r.name})}function ji(r){return k_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return R_.create(r,...e)}function Oe(r,e,...t){if(!r)throw qp(e,...t)}function Ii(r){const e="INTERNAL ASSERTION FAILED: "+r;throw jf(e),new Error(e)}function Pi(r,e){r||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){return typeof self<"u"&&self.location?.href||""}function ZS(){return vb()==="http:"||vb()==="https:"}function vb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZS()||kA()||"connection"in navigator)?navigator.onLine:!0}function tN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pi(t>e,"Short delay should be less than long delay!"),this.isMobile=NA()||IA()}get(){return eN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(r,e){Pi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iN=new Lc(3e4,6e4);function Fa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Hi(r,e,t,a,o={}){return D_(r,o,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const h=Mc({key:r.config.apiKey,...u}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...l};return RA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Yo(r.emulatorConfig.host)&&(y.credentials="include"),I_.fetch()(await O_(r,r.config.apiHost,t,h),y)})}async function D_(r,e,t){r._canInitEmulator=!1;const a={...nN,...e};try{const o=new sN(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw bf(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[g,y]=h.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(r,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw bf(r,"email-already-in-use",u);if(g==="USER_DISABLED")throw bf(r,"user-disabled",u);const b=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw k_(r,b,y);Sr(r,b)}}catch(o){if(o instanceof qi)throw o;Sr(r,"network-request-failed",{message:String(o)})}}async function Vc(r,e,t,a,o={}){const l=await Hi(r,e,t,a,o);return"mfaPendingCredential"in l&&Sr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function O_(r,e,t,a){const o=`${e}${t}?${a}`,l=r,u=l.config.emulator?Hp(r.config,o):`${r.config.apiScheme}://${o}`;return rN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function aN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Qr(this.auth,"network-request-failed")),iN.get())})}}function bf(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Qr(r,e,a);return o.customData._tokenResponse=t,o}function _b(r){return r!==void 0&&r.enterprise!==void 0}class oN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lN(r,e){return Hi(r,"GET","/v2/recaptchaConfig",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(r,e){return Hi(r,"POST","/v1/accounts:delete",e)}async function Jf(r,e){return Hi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uN(r,e=!1){const t=rn(r),a=await t.getIdToken(e),o=Gp(a);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:a,authTime:pc($m(o.auth_time)),issuedAtTime:pc($m(o.iat)),expirationTime:pc($m(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $m(r){return Number(r)*1e3}function Gp(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const o=g_(t);return o?JSON.parse(o):(jf("Failed to decode base64 JWT payload"),null)}catch(o){return jf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wb(r){const e=Gp(r);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof qi&&fN(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function fN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(r){const e=r.auth,t=await r.getIdToken(),a=await Vo(r,Jf(e,{idToken:t}));Oe(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?j_(o.providerUserInfo):[],u=mN(r.providerData,l),h=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!u?.length,y=h?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function hN(r){const e=rn(r);await Zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mN(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function j_(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(r,e){const t=await D_(r,{},async()=>{const a=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await O_(r,o,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:h,body:a};return r.emulatorConfig&&Yo(r.emulatorConfig.host)&&(g.credentials="include"),I_.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gN(r,e){return Hi(r,"POST","/v2/accounts:revokeToken",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=wb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await pN(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,u=new Io;return a&&(Oe(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),o&&(Oe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Oe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(r,e){Oe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:t,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new dN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uN(this,e)}reload(){return hN(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Zf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await Vo(this,cN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:k,providerData:P,stsTokenManager:V}=t;Oe(w&&V,e,"internal-error");const D=Io.fromJSON(this.name,V);Oe(typeof w=="string",e,"internal-error"),ba(a,e.name),ba(o,e.name),Oe(typeof E=="boolean",e,"internal-error"),Oe(typeof k=="boolean",e,"internal-error"),ba(l,e.name),ba(u,e.name),ba(h,e.name),ba(g,e.name),ba(y,e.name),ba(b,e.name);const B=new Tr({uid:w,auth:e,email:o,emailVerified:E,displayName:a,isAnonymous:k,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:D,createdAt:y,lastLoginAt:b});return P&&Array.isArray(P)&&(B.providerData=P.map(F=>({...F}))),g&&(B._redirectEventId=g),B}static async _fromIdTokenResponse(e,t,a=!1){const o=new Io;o.updateFromServerResponse(t);const l=new Tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zf(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?j_(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,h=new Io;h.updateFromIdToken(a);const g=new Tr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;function Di(r){Pi(r instanceof Function,"Expected a class definition");let e=Eb.get(r);return e?(Pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Eb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}M_.type="NONE";const Tb=M_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(r,e,t){return`firebase:${r}:${e}:${t}`}class Do{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Mf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Mf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jf(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Do(Di(Tb),e,a);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Di(Tb);const u=Mf(a,e.config.apiKey,e.name);let h=null;for(const y of t)try{const b=await y._get(u);if(b){let w;if(typeof b=="string"){const E=await Jf(e,{idToken:b}).catch(()=>{});if(!E)break;w=await Tr._fromGetAccountInfoResponse(e,E,b)}else w=Tr._fromJSON(e,b);y!==l&&(h=w),l=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Do(l,e,a):(l=g[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Do(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B_(e))return"Blackberry";if(F_(e))return"Webos";if(V_(e))return"Safari";if((e.includes("chrome/")||P_(e))&&!e.includes("edge/"))return"Chrome";if(z_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if(a?.length===2)return a[1]}return"Other"}function L_(r=Sn()){return/firefox\//i.test(r)}function V_(r=Sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P_(r=Sn()){return/crios\//i.test(r)}function U_(r=Sn()){return/iemobile/i.test(r)}function z_(r=Sn()){return/android/i.test(r)}function B_(r=Sn()){return/blackberry/i.test(r)}function F_(r=Sn()){return/webos/i.test(r)}function $p(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yN(r=Sn()){return $p(r)&&!!window.navigator?.standalone}function xN(){return DA()&&document.documentMode===10}function q_(r=Sn()){return $p(r)||z_(r)||F_(r)||B_(r)||/windows phone/i.test(r)||U_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(r,e=[]){let t;switch(r){case"Browser":t=Ab(Sn());break;case"Worker":t=`${Ab(Sn())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((u,h)=>{try{const g=e(l);u(g)}catch(g){h(g)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,e={}){return Hi(r,"GET","/v2/passwordPolicy",Fa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=6;class wN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_N,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new bN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jf(this,{idToken:e}),a=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=a?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(ji(this));const t=e?rn(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vN(this),t=new wN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await gN(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,a,o);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Is(r){return rn(r)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=zA(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TN(r){yd=r}function G_(r){return yd.loadJS(r)}function AN(){return yd.recaptchaEnterpriseScript}function SN(){return yd.gapiScript}function NN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class CN{constructor(){this.enterprise=new RN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const kN="recaptcha-enterprise",$_="NO_RECAPTCHA";class IN{constructor(e){this.type=kN,this.auth=Is(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{lN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const y=new oN(g);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(g=>{h(g)})})}function o(l,u,h){const g=window.grecaptcha;_b(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u($_)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CN().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(h=>{if(!t&&_b(window.grecaptcha))o(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=AN();g.length!==0&&(g+=h),G_(g).then(()=>{o(h,l,u)}).catch(y=>{u(y)})}}).catch(h=>{u(h)})})}}async function Nb(r,e,t,a=!1,o=!1){const l=new IN(r);let u;if(o)u=$_;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const g=h.phoneEnrollmentInfo.phoneNumber,y=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const g=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return a?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function up(r,e,t,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Nb(r,e,t,t==="getOobCode");return a(r,l)}else return a(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Nb(r,e,t,t==="getOobCode");return a(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r,e){const t=Fp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ja(l,e??{}))return o;Sr(o,"already-initialized")}return t.initialize({options:e})}function ON(r,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function jN(r,e,t){const a=Is(r);Oe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=X_(e),{host:u,port:h}=MN(e),g=h===null?"":`:${h}`,y={url:`${l}//${u}${g}/`},b=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Oe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Oe(ja(y,a.config.emulator)&&ja(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Yo(u)?(v_(`${l}//${u}${g}`),__("Auth",!0)):LN()}function X_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MN(r){const e=X_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:Cb(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:Cb(u)}}}function Cb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function VN(r,e){return Hi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(r,e){return Vc(r,"POST","/v1/accounts:signInWithPassword",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,e){return Vc(r,"POST","/v1/accounts:signInWithEmailLink",Fa(r,e))}async function zN(r,e){return Vc(r,"POST","/v1/accounts:signInWithEmailLink",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Xp{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new wc(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new wc(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,t,"signInWithPassword",PN);case"emailLink":return UN(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,a,"signUpPassword",VN);case"emailLink":return zN(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,e){return Vc(r,"POST","/v1/accounts:signInWithIdp",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="http://localhost";class Ns extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...l}=t;if(!a||!o)return null;const u=new Ns(a,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Oo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Oo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oo(e,t)}buildRequest(){const e={requestUri:BN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qN(r){const e=lc(cc(r)).link,t=e?lc(cc(e)).deep_link_id:null,a=lc(cc(r)).deep_link_id;return(a?lc(cc(a)).link:null)||a||t||e||r}class Yp{constructor(e){const t=lc(cc(e)),a=t.apiKey??null,o=t.oobCode??null,l=FN(t.mode??null);Oe(a&&o&&l,"argument-error"),this.apiKey=a,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=qN(e);try{return new Yp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,t){return wc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Yp.parseLink(t);return Oe(a,"argument-error"),wc._fromEmailAndCode(e,a.code,a.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Y_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Pc{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ns._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Ea.credential(t,a)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Pc{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Pc{constructor(){super("twitter.com")}static credential(e,t){return Ns._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Aa.credential(t,a)}catch{return null}}}Aa.TWITTER_SIGN_IN_METHOD="twitter.com";Aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(r,e){return Vc(r,"POST","/v1/accounts:signUp",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await Tr._fromIdTokenResponse(e,a,o),u=Rb(a);return new Cs({user:l,providerId:u,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=Rb(a);return new Cs({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function Rb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends qi{constructor(e,t,a,o){super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new ed(e,t,a,o)}}function K_(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(r,l,e,a):l})}async function GN(r,e,t=!1){const a=await Vo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Cs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(r,e,t=!1){const{auth:a}=r;if(pr(a.app))return Promise.reject(ji(a));const o="reauthenticate";try{const l=await Vo(r,K_(a,o,e,r),t);Oe(l.idToken,a,"internal-error");const u=Gp(l.idToken);Oe(u,a,"internal-error");const{sub:h}=u;return Oe(r.uid===h,a,"user-mismatch"),Cs._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Sr(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_(r,e,t=!1){if(pr(r.app))return Promise.reject(ji(r));const a="signIn",o=await K_(r,a,e),l=await Cs._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(l.user),l}async function XN(r,e){return Q_(Is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W_(r){const e=Is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YN(r,e,t){if(pr(r.app))return Promise.reject(ji(r));const a=Is(r),u=await up(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&W_(r),g}),h=await Cs._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(h.user),h}function KN(r,e,t){return pr(r.app)?Promise.reject(ji(r)):XN(rn(r),Qo.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&W_(r),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(r,e){return Hi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const a=rn(r),l={idToken:await a.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Vo(a,QN(a.auth,l));a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null;const h=a.providerData.find(({providerId:g})=>g==="password");h&&(h.displayName=a.displayName,h.photoURL=a.photoURL),await a._updateTokensIfNecessary(u)}function WN(r,e,t,a){return rn(r).onIdTokenChanged(e,t,a)}function JN(r,e,t){return rn(r).beforeAuthStateChanged(e,t)}function ZN(r,e,t,a){return rn(r).onAuthStateChanged(e,t,a)}function eC(r){return rn(r).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class Z_ extends J_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,g)=>{this.notifyListeners(u,g)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(a);!t&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);xN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nC):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z_.type="LOCAL";const rC=Z_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends J_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}e1.type="SESSION";const t1=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new xd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const h=Array.from(u).map(async y=>y(t.origin,l)),g=await iC(h);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((h,g)=>{const y=Kp("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},a);u={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(b),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function sC(r){Wr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function oC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){return navigator?.serviceWorker?.controller||null}function cC(){return n1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebaseLocalStorageDb",uC=1,nd="firebaseLocalStorage",i1="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bd(r,e){return r.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function fC(){const r=indexedDB.deleteDatabase(r1);return new Uc(r).toPromise()}function fp(){const r=indexedDB.open(r1,uC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(nd,{keyPath:i1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(nd)?e(a):(a.close(),await fC(),e(await fp()))})})}async function Ib(r,e,t){const a=bd(r,!0).put({[i1]:e,value:t});return new Uc(a).toPromise()}async function dC(r,e){const t=bd(r,!1).get(e),a=await new Uc(t).toPromise();return a===void 0?null:a.value}function Db(r,e){const t=bd(r,!0).delete(e);return new Uc(t).toPromise()}const hC=800,mC=3;class a1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>mC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(cC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await Ib(e,td,"1"),await Db(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>Ib(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>dC(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=bd(o,!1).getAll();return new Uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a1.type="LOCAL";const pC=a1;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r,e){return e?Di(e):(Oe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yC(r){return Q_(r.auth,new Qp(r),r.bypassAuthState)}function xC(r){const{auth:e,user:t}=r;return Oe(t,e,"internal-error"),$N(t,new Qp(r),r.bypassAuthState)}async function bC(r){const{auth:e,user:t}=r;return Oe(t,e,"internal-error"),GN(t,new Qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yC;case"linkViaPopup":case"linkViaRedirect":return bC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:Sr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Lc(2e3,1e4);class ko extends s1{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="pendingRedirect",Lf=new Map;class wC extends s1{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const a=await EC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(r,e){const t=SC(e),a=AC(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function TC(r,e){Lf.set(r._key(),e)}function AC(r){return Di(r._redirectPersistence)}function SC(r){return Mf(_C,r.config.apiKey,r.name)}async function NC(r,e,t=!1){if(pr(r.app))return Promise.reject(ji(r));const a=Is(r),o=gC(a,e),u=await new wC(a,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=600*1e3;class RC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!o1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Qr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(e))}saveEventToCache(e){this.cachedEventUids.add(Ob(e)),this.lastProcessedEventTime=Date.now()}}function Ob(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function o1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function kC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,e={}){return Hi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function jC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await IC(r);for(const t of e)try{if(MC(t))return}catch{}Sr(r,"unauthorized-domain")}function MC(r){const e=lp(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===a}if(!OC.test(t))return!1;if(DC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Lc(3e4,6e4);function jb(){const r=Wr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function VC(r){return new Promise((e,t)=>{function a(){jb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jb(),t(Qr(r,"network-request-failed"))},timeout:LC.get()})}if(Wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wr().gapi?.load)a();else{const o=NN("iframefcb");return Wr()[o]=()=>{gapi.load?a():t(Qr(r,"network-request-failed"))},G_(`${SN()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function PC(r){return Vf=Vf||VC(r),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Lc(5e3,15e3),zC="__/auth/iframe",BC="emulator/auth/iframe",FC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HC(r){const e=r.config;Oe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Hp(e,BC):`https://${r.config.authDomain}/${zC}`,a={apiKey:e.apiKey,appName:r.name,v:Ko},o=qC.get(r.config.apiHost);o&&(a.eid=o);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Mc(a).slice(1)}`}async function GC(r){const e=await PC(r),t=Wr().gapi;return Oe(t,r,"internal-error"),e.open({where:document.body,url:HC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FC,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const u=Qr(r,"network-request-failed"),h=Wr().setTimeout(()=>{l(u)},UC.get());function g(){Wr().clearTimeout(h),o(a)}a.ping(g).then(g,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XC=500,YC=600,KC="_blank",QC="http://localhost";class Mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WC(r,e,t,a=XC,o=YC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let h="";const g={...$C,width:a.toString(),height:o.toString(),top:l,left:u},y=Sn().toLowerCase();t&&(h=P_(y)?KC:t),L_(y)&&(e=e||QC,g.scrollbars="yes");const b=Object.entries(g).reduce((E,[k,P])=>`${E}${k}=${P},`,"");if(yN(y)&&h!=="_self")return JC(e||"",h),new Mb(null);const w=window.open(e||"",h,b);Oe(w,r,"popup-blocked");try{w.focus()}catch{}return new Mb(w)}function JC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="__/auth/handler",eR="emulator/auth/handler",tR=encodeURIComponent("fac");async function Lb(r,e,t,a,o,l){Oe(r.config.authDomain,r,"auth-domain-config-required"),Oe(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:Ko,eventId:o};if(e instanceof Y_){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",UA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))u[b]=w}if(e instanceof Pc){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(u.scopes=b.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const b of Object.keys(h))h[b]===void 0&&delete h[b];const g=await r._getAppCheckToken(),y=g?`#${tR}=${encodeURIComponent(g)}`:"";return`${nR(r)}?${Mc(h).slice(1)}${y}`}function nR({config:r}){return r.emulator?Hp(r,eR):`https://${r.authDomain}/${ZC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class rR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t1,this._completeRedirectFn=NC,this._overrideRedirectResult=TC}async _openPopup(e,t,a,o){Pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Lb(e,t,a,lp(),o);return WC(e,l,Kp())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await Lb(e,t,a,lp(),o);return sC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Pi(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await GC(e),a=new RC(e);return t.register("authEvent",o=>(Oe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xm,{type:Xm},o=>{const l=o?.[0]?.[Xm];l!==void 0&&t(!!l),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return q_()||V_()||$p()}}const iR=rR;var Vb="@firebase/auth",Pb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oR(r){Lo(new Ss("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=a.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H_(r)},y=new EN(a,o,l,g);return ON(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Lo(new Ss("auth-internal",e=>{const t=Is(e.getProvider("auth").getImmediate());return(a=>new aR(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(Vb,Pb,sR(r)),Ia(Vb,Pb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=300,cR=b_("authIdTokenMaxAge")||lR;let Ub=null;const uR=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>cR)return;const o=t?.token;Ub!==o&&(Ub=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fR(r=A_()){const e=Fp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=DN(r,{popupRedirectResolver:iR,persistence:[pC,rC,t1]}),a=b_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=uR(l.toString());JN(t,u,()=>u(t.currentUser)),WN(t,h=>u(h))}}const o=y_("auth");return o&&jN(t,`http://${o}`),t}function dR(){return document.getElementsByTagName("head")?.[0]??document}TN({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const l=Qr("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",dR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oR("Browser");var hR="firebase",mR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(hR,mR,"app");var zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,l1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.D=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(R,I,q){for(var O=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)O[nt-2]=arguments[nt];return S.prototype[I].apply(R,O)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);var R=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)R[I]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(I=0;16>I;++I)R[I]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],I=N.g[2];var q=N.g[3],O=S+(q^C&(I^q))+R[0]+3614090360&4294967295;S=C+(O<<7&4294967295|O>>>25),O=q+(I^S&(C^I))+R[1]+3905402710&4294967295,q=S+(O<<12&4294967295|O>>>20),O=I+(C^q&(S^C))+R[2]+606105819&4294967295,I=q+(O<<17&4294967295|O>>>15),O=C+(S^I&(q^S))+R[3]+3250441966&4294967295,C=I+(O<<22&4294967295|O>>>10),O=S+(q^C&(I^q))+R[4]+4118548399&4294967295,S=C+(O<<7&4294967295|O>>>25),O=q+(I^S&(C^I))+R[5]+1200080426&4294967295,q=S+(O<<12&4294967295|O>>>20),O=I+(C^q&(S^C))+R[6]+2821735955&4294967295,I=q+(O<<17&4294967295|O>>>15),O=C+(S^I&(q^S))+R[7]+4249261313&4294967295,C=I+(O<<22&4294967295|O>>>10),O=S+(q^C&(I^q))+R[8]+1770035416&4294967295,S=C+(O<<7&4294967295|O>>>25),O=q+(I^S&(C^I))+R[9]+2336552879&4294967295,q=S+(O<<12&4294967295|O>>>20),O=I+(C^q&(S^C))+R[10]+4294925233&4294967295,I=q+(O<<17&4294967295|O>>>15),O=C+(S^I&(q^S))+R[11]+2304563134&4294967295,C=I+(O<<22&4294967295|O>>>10),O=S+(q^C&(I^q))+R[12]+1804603682&4294967295,S=C+(O<<7&4294967295|O>>>25),O=q+(I^S&(C^I))+R[13]+4254626195&4294967295,q=S+(O<<12&4294967295|O>>>20),O=I+(C^q&(S^C))+R[14]+2792965006&4294967295,I=q+(O<<17&4294967295|O>>>15),O=C+(S^I&(q^S))+R[15]+1236535329&4294967295,C=I+(O<<22&4294967295|O>>>10),O=S+(I^q&(C^I))+R[1]+4129170786&4294967295,S=C+(O<<5&4294967295|O>>>27),O=q+(C^I&(S^C))+R[6]+3225465664&4294967295,q=S+(O<<9&4294967295|O>>>23),O=I+(S^C&(q^S))+R[11]+643717713&4294967295,I=q+(O<<14&4294967295|O>>>18),O=C+(q^S&(I^q))+R[0]+3921069994&4294967295,C=I+(O<<20&4294967295|O>>>12),O=S+(I^q&(C^I))+R[5]+3593408605&4294967295,S=C+(O<<5&4294967295|O>>>27),O=q+(C^I&(S^C))+R[10]+38016083&4294967295,q=S+(O<<9&4294967295|O>>>23),O=I+(S^C&(q^S))+R[15]+3634488961&4294967295,I=q+(O<<14&4294967295|O>>>18),O=C+(q^S&(I^q))+R[4]+3889429448&4294967295,C=I+(O<<20&4294967295|O>>>12),O=S+(I^q&(C^I))+R[9]+568446438&4294967295,S=C+(O<<5&4294967295|O>>>27),O=q+(C^I&(S^C))+R[14]+3275163606&4294967295,q=S+(O<<9&4294967295|O>>>23),O=I+(S^C&(q^S))+R[3]+4107603335&4294967295,I=q+(O<<14&4294967295|O>>>18),O=C+(q^S&(I^q))+R[8]+1163531501&4294967295,C=I+(O<<20&4294967295|O>>>12),O=S+(I^q&(C^I))+R[13]+2850285829&4294967295,S=C+(O<<5&4294967295|O>>>27),O=q+(C^I&(S^C))+R[2]+4243563512&4294967295,q=S+(O<<9&4294967295|O>>>23),O=I+(S^C&(q^S))+R[7]+1735328473&4294967295,I=q+(O<<14&4294967295|O>>>18),O=C+(q^S&(I^q))+R[12]+2368359562&4294967295,C=I+(O<<20&4294967295|O>>>12),O=S+(C^I^q)+R[5]+4294588738&4294967295,S=C+(O<<4&4294967295|O>>>28),O=q+(S^C^I)+R[8]+2272392833&4294967295,q=S+(O<<11&4294967295|O>>>21),O=I+(q^S^C)+R[11]+1839030562&4294967295,I=q+(O<<16&4294967295|O>>>16),O=C+(I^q^S)+R[14]+4259657740&4294967295,C=I+(O<<23&4294967295|O>>>9),O=S+(C^I^q)+R[1]+2763975236&4294967295,S=C+(O<<4&4294967295|O>>>28),O=q+(S^C^I)+R[4]+1272893353&4294967295,q=S+(O<<11&4294967295|O>>>21),O=I+(q^S^C)+R[7]+4139469664&4294967295,I=q+(O<<16&4294967295|O>>>16),O=C+(I^q^S)+R[10]+3200236656&4294967295,C=I+(O<<23&4294967295|O>>>9),O=S+(C^I^q)+R[13]+681279174&4294967295,S=C+(O<<4&4294967295|O>>>28),O=q+(S^C^I)+R[0]+3936430074&4294967295,q=S+(O<<11&4294967295|O>>>21),O=I+(q^S^C)+R[3]+3572445317&4294967295,I=q+(O<<16&4294967295|O>>>16),O=C+(I^q^S)+R[6]+76029189&4294967295,C=I+(O<<23&4294967295|O>>>9),O=S+(C^I^q)+R[9]+3654602809&4294967295,S=C+(O<<4&4294967295|O>>>28),O=q+(S^C^I)+R[12]+3873151461&4294967295,q=S+(O<<11&4294967295|O>>>21),O=I+(q^S^C)+R[15]+530742520&4294967295,I=q+(O<<16&4294967295|O>>>16),O=C+(I^q^S)+R[2]+3299628645&4294967295,C=I+(O<<23&4294967295|O>>>9),O=S+(I^(C|~q))+R[0]+4096336452&4294967295,S=C+(O<<6&4294967295|O>>>26),O=q+(C^(S|~I))+R[7]+1126891415&4294967295,q=S+(O<<10&4294967295|O>>>22),O=I+(S^(q|~C))+R[14]+2878612391&4294967295,I=q+(O<<15&4294967295|O>>>17),O=C+(q^(I|~S))+R[5]+4237533241&4294967295,C=I+(O<<21&4294967295|O>>>11),O=S+(I^(C|~q))+R[12]+1700485571&4294967295,S=C+(O<<6&4294967295|O>>>26),O=q+(C^(S|~I))+R[3]+2399980690&4294967295,q=S+(O<<10&4294967295|O>>>22),O=I+(S^(q|~C))+R[10]+4293915773&4294967295,I=q+(O<<15&4294967295|O>>>17),O=C+(q^(I|~S))+R[1]+2240044497&4294967295,C=I+(O<<21&4294967295|O>>>11),O=S+(I^(C|~q))+R[8]+1873313359&4294967295,S=C+(O<<6&4294967295|O>>>26),O=q+(C^(S|~I))+R[15]+4264355552&4294967295,q=S+(O<<10&4294967295|O>>>22),O=I+(S^(q|~C))+R[6]+2734768916&4294967295,I=q+(O<<15&4294967295|O>>>17),O=C+(q^(I|~S))+R[13]+1309151649&4294967295,C=I+(O<<21&4294967295|O>>>11),O=S+(I^(C|~q))+R[4]+4149444226&4294967295,S=C+(O<<6&4294967295|O>>>26),O=q+(C^(S|~I))+R[11]+3174756917&4294967295,q=S+(O<<10&4294967295|O>>>22),O=I+(S^(q|~C))+R[2]+718787259&4294967295,I=q+(O<<15&4294967295|O>>>17),O=C+(q^(I|~S))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(I+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+q&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var C=S-this.blockSize,R=this.B,I=this.h,q=0;q<S;){if(I==0)for(;q<=C;)o(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<S;)if(R[I++]=N.charCodeAt(q++),I==this.blockSize){o(this,R),I=0;break}}else for(;q<S;)if(R[I++]=N[q++],I==this.blockSize){o(this,R),I=0;break}}this.h=I,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var C=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=C&255,C/=256;for(this.u(N),N=Array(16),S=C=0;4>S;++S)for(var R=0;32>R;R+=8)N[C++]=this.g[S]>>>R&255;return N};function l(N,S){var C=h;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function u(N,S){this.h=S;for(var C=[],R=!0,I=N.length-1;0<=I;I--){var q=N[I]|0;R&&q==S||(C[I]=q,R=!1)}this.g=C}var h={};function g(N){return-128<=N&&128>N?l(N,function(S){return new u([S|0],0>S?-1:0)}):new u([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return D(y(-N));for(var S=[],C=1,R=0;N>=C;R++)S[R]=N/C|0,C*=4294967296;return new u(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return D(b(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),R=w,I=0;I<N.length;I+=8){var q=Math.min(8,N.length-I),O=parseInt(N.substring(I,I+q),S);8>q?(q=y(Math.pow(S,q)),R=R.j(q).add(y(O))):(R=R.j(C),R=R.add(y(O)))}return R}var w=g(0),E=g(1),k=g(16777216);r=u.prototype,r.m=function(){if(V(this))return-D(this).m();for(var N=0,S=1,C=0;C<this.g.length;C++){var R=this.i(C);N+=(0<=R?R:4294967296+R)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P(this))return"0";if(V(this))return"-"+D(this).toString(N);for(var S=y(Math.pow(N,6)),C=this,R="";;){var I=re(C,S).g;C=B(C,I.j(S));var q=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=I,P(C))return q+R;for(;6>q.length;)q="0"+q;R=q+R}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function P(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function V(N){return N.h==-1}r.l=function(N){return N=B(this,N),V(N)?-1:P(N)?0:1};function D(N){for(var S=N.g.length,C=[],R=0;R<S;R++)C[R]=~N.g[R];return new u(C,~N.h).add(E)}r.abs=function(){return V(this)?D(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],R=0,I=0;I<=S;I++){var q=R+(this.i(I)&65535)+(N.i(I)&65535),O=(q>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);R=O>>>16,q&=65535,O&=65535,C[I]=O<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function B(N,S){return N.add(D(S))}r.j=function(N){if(P(this)||P(N))return w;if(V(this))return V(N)?D(this).j(D(N)):D(D(this).j(N));if(V(N))return D(this.j(D(N)));if(0>this.l(k)&&0>N.l(k))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,C=[],R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<N.g.length;I++){var q=this.i(R)>>>16,O=this.i(R)&65535,nt=N.i(I)>>>16,ct=N.i(I)&65535;C[2*R+2*I]+=O*ct,F(C,2*R+2*I),C[2*R+2*I+1]+=q*ct,F(C,2*R+2*I+1),C[2*R+2*I+1]+=O*nt,F(C,2*R+2*I+1),C[2*R+2*I+2]+=q*nt,F(C,2*R+2*I+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new u(C,0)};function F(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function G(N,S){this.g=N,this.h=S}function re(N,S){if(P(S))throw Error("division by zero");if(P(N))return new G(w,w);if(V(N))return S=re(D(N),S),new G(D(S.g),D(S.h));if(V(S))return S=re(N,D(S)),new G(D(S.g),S.h);if(30<N.g.length){if(V(N)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var C=E,R=S;0>=R.l(N);)C=ne(C),R=ne(R);var I=le(C,1),q=le(R,1);for(R=le(R,2),C=le(C,2);!P(R);){var O=q.add(R);0>=O.l(N)&&(I=I.add(C),q=O),R=le(R,1),C=le(C,1)}return S=B(N,I.j(S)),new G(I,S)}for(I=w;0<=N.l(S);){for(C=Math.max(1,Math.floor(N.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),q=y(C),O=q.j(S);V(O)||0<O.l(N);)C-=R,q=y(C),O=q.j(S);P(q)&&(q=E),I=I.add(q),N=B(N,O)}return new G(I,N)}r.A=function(N){return re(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)&N.i(R);return new u(C,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)|N.i(R);return new u(C,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)^N.i(R);return new u(C,this.h^N.h)};function ne(N){for(var S=N.g.length+1,C=[],R=0;R<S;R++)C[R]=N.i(R)<<1|N.i(R-1)>>>31;return new u(C,N.h)}function le(N,S){var C=S>>5;S%=32;for(var R=N.g.length-C,I=[],q=0;q<R;q++)I[q]=0<S?N.i(q+C)>>>S|N.i(q+C+1)<<32-S:N.i(q+C);return new u(I,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,l1=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=b,Da=u}).apply(typeof zb<"u"?zb:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c1,uc,u1,Pf,dp,f1,d1,h1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,v){return f==Array.prototype||f==Object.prototype||(f[x]=v.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var x=0;x<f.length;++x){var v=f[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=t(this);function o(f,x){if(x)e:{var v=a;f=f.split(".");for(var A=0;A<f.length-1;A++){var X=f[A];if(!(X in v))break e;v=v[X]}f=f[f.length-1],A=v[f],x=x(A),x!=A&&x!=null&&e(v,f,{configurable:!0,writable:!0,value:x})}}function l(f,x){f instanceof String&&(f+="");var v=0,A=!1,X={next:function(){if(!A&&v<f.length){var Z=v++;return{value:x(Z,f[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(f){return f||function(){return l(this,function(x,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function g(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function y(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function b(f,x,v){return f.call.apply(f.bind,arguments)}function w(f,x,v){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,A),f.apply(x,X)}}return function(){return f.apply(x,arguments)}}function E(f,x,v){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,E.apply(null,arguments)}function k(f,x){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function P(f,x){function v(){}v.prototype=x.prototype,f.aa=x.prototype,f.prototype=new v,f.prototype.constructor=f,f.Qb=function(A,X,Z){for(var pe=Array(arguments.length-2),at=2;at<arguments.length;at++)pe[at-2]=arguments[at];return x.prototype[X].apply(A,pe)}}function V(f){const x=f.length;if(0<x){const v=Array(x);for(let A=0;A<x;A++)v[A]=f[A];return v}return[]}function D(f,x){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const X=f.length||0,Z=A.length||0;f.length=X+Z;for(let pe=0;pe<Z;pe++)f[X+pe]=A[pe]}else f.push(A)}}class B{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function F(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function re(f){return re[" "](f),f}re[" "]=function(){};var ne=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function le(f,x,v){for(const A in f)x.call(v,f[A],A,f)}function N(f,x){for(const v in f)x.call(void 0,f[v],v,f)}function S(f){const x={};for(const v in f)x[v]=f[v];return x}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,x){let v,A;for(let X=1;X<arguments.length;X++){A=arguments[X];for(v in A)f[v]=A[v];for(let Z=0;Z<C.length;Z++)v=C[Z],Object.prototype.hasOwnProperty.call(A,v)&&(f[v]=A[v])}}function I(f){var x=1;f=f.split(":");const v=[];for(;0<x&&f.length;)v.push(f.shift()),x--;return f.length&&v.push(f.join(":")),v}function q(f){h.setTimeout(()=>{throw f},0)}function O(){var f=Pe;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class nt{constructor(){this.h=this.g=null}add(x,v){const A=ct.get();A.set(x,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ct=new B(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ue=!1,Pe=new nt,M=()=>{const f=h.Promise.resolve(void 0);me=()=>{f.then(te)}};var te=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(v){q(v)}var x=ct;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}ue=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const v=()=>{};h.addEventListener("test",v,x),h.removeEventListener("test",v,x)}catch{}return f}();function He(f,x){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var v=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(ne){e:{try{re(x.nodeName);var X=!0;break e}catch{}X=!1}X||(x=null)}}else v=="mouseover"?x=f.fromElement:v=="mouseout"&&(x=f.toElement);this.relatedTarget=x,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ke[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&He.aa.h.call(this)}}P(He,fe);var ke={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),Je=0;function nr(f,x,v,A,X){this.listener=f,this.proxy=null,this.src=x,this.type=v,this.capture=!!A,this.ha=X,this.key=++Je,this.da=this.fa=!1}function kr(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Fn(f){this.src=f,this.g={},this.h=0}Fn.prototype.add=function(f,x,v,A,X){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var pe=Rt(f,x,A,X);return-1<pe?(x=f[pe],v||(x.fa=!1)):(x=new nr(x,this.src,Z,!!A,X),x.fa=v,f.push(x)),x};function Nn(f,x){var v=x.type;if(v in f.g){var A=f.g[v],X=Array.prototype.indexOf.call(A,x,void 0),Z;(Z=0<=X)&&Array.prototype.splice.call(A,X,1),Z&&(kr(x),f.g[v].length==0&&(delete f.g[v],f.h--))}}function Rt(f,x,v,A){for(var X=0;X<f.length;++X){var Z=f[X];if(!Z.da&&Z.listener==x&&Z.capture==!!v&&Z.ha==A)return X}return-1}var L="closure_lm_"+(1e6*Math.random()|0),$={};function ee(f,x,v,A,X){if(Array.isArray(x)){for(var Z=0;Z<x.length;Z++)ee(f,x[Z],v,A,X);return null}return v=wt(v),f&&f[Ht]?f.K(x,v,y(A)?!!A.capture:!1,X):be(f,x,v,!1,A,X)}function be(f,x,v,A,X,Z){if(!x)throw Error("Invalid event type");var pe=y(X)?!!X.capture:!!X,at=Ee(f);if(at||(f[L]=at=new Fn(f)),v=at.add(x,v,A,pe,Z),v.proxy)return v;if(A=Se(),v.proxy=A,A.src=f,A.listener=v,f.addEventListener)we||(X=pe),X===void 0&&(X=!1),f.addEventListener(x.toString(),A,X);else if(f.attachEvent)f.attachEvent(ge(x.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Se(){function f(v){return x.call(f.src,f.listener,v)}const x=Xe;return f}function ze(f,x,v,A,X){if(Array.isArray(x))for(var Z=0;Z<x.length;Z++)ze(f,x[Z],v,A,X);else A=y(A)?!!A.capture:!!A,v=wt(v),f&&f[Ht]?(f=f.i,x=String(x).toString(),x in f.g&&(Z=f.g[x],v=Rt(Z,v,A,X),-1<v&&(kr(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete f.g[x],f.h--)))):f&&(f=Ee(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Rt(x,v,A,X)),(v=-1<f?x[f]:null)&&De(v))}function De(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Ht])Nn(x.i,f);else{var v=f.type,A=f.proxy;x.removeEventListener?x.removeEventListener(v,A,f.capture):x.detachEvent?x.detachEvent(ge(v),A):x.addListener&&x.removeListener&&x.removeListener(A),(v=Ee(x))?(Nn(v,f),v.h==0&&(v.src=null,x[L]=null)):kr(f)}}}function ge(f){return f in $?$[f]:$[f]="on"+f}function Xe(f,x){if(f.da)f=!0;else{x=new He(x,this);var v=f.listener,A=f.ha||f.src;f.fa&&De(f),f=v.call(A,x)}return f}function Ee(f){return f=f[L],f instanceof Fn?f:null}var it="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(f){return typeof f=="function"?f:(f[it]||(f[it]=function(x){return f.handleEvent(x)}),f[it])}function Fe(){de.call(this),this.i=new Fn(this),this.M=this,this.F=null}P(Fe,de),Fe.prototype[Ht]=!0,Fe.prototype.removeEventListener=function(f,x,v,A){ze(this,f,x,v,A)};function Ne(f,x){var v,A=f.F;if(A)for(v=[];A;A=A.F)v.push(A);if(f=f.M,A=x.type||x,typeof x=="string")x=new fe(x,f);else if(x instanceof fe)x.target=x.target||f;else{var X=x;x=new fe(A,f),R(x,X)}if(X=!0,v)for(var Z=v.length-1;0<=Z;Z--){var pe=x.g=v[Z];X=Ve(pe,A,!0,x)&&X}if(pe=x.g=f,X=Ve(pe,A,!0,x)&&X,X=Ve(pe,A,!1,x)&&X,v)for(Z=0;Z<v.length;Z++)pe=x.g=v[Z],X=Ve(pe,A,!1,x)&&X}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var v=f.g[x],A=0;A<v.length;A++)kr(v[A]);delete f.g[x],f.h--}}this.F=null},Fe.prototype.K=function(f,x,v,A){return this.i.add(String(f),x,!1,v,A)},Fe.prototype.L=function(f,x,v,A){return this.i.add(String(f),x,!0,v,A)};function Ve(f,x,v,A){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var X=!0,Z=0;Z<x.length;++Z){var pe=x[Z];if(pe&&!pe.da&&pe.capture==v){var at=pe.listener,Jt=pe.ha||pe.src;pe.fa&&Nn(f.i,pe),X=at.call(Jt,A)!==!1&&X}}return X&&!A.defaultPrevented}function Ye(f,x,v){if(typeof f=="function")v&&(f=E(f,v));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:h.setTimeout(f,x||0)}function Ke(f){f.g=Ye(()=>{f.g=null,f.i&&(f.i=!1,Ke(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Cn extends de{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(f){de.call(this),this.h=f,this.g={}}P(Wt,de);var kt=[];function It(f){le(f.g,function(x,v){this.g.hasOwnProperty(v)&&De(x)},f),f.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),It(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=h.JSON.stringify,Rn=h.JSON.parse,Me=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function rr(){}rr.prototype.h=null;function yr(f){return f.h||(f.h=f.i())}function Gi(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){fe.call(this,"d")}P(qn,fe);function $i(){fe.call(this,"c")}P($i,fe);var Hn={},Xi=null;function Ir(){return Xi=Xi||new Fe}Hn.La="serverreachability";function si(f){fe.call(this,Hn.La,f)}P(si,fe);function Dr(f){const x=Ir();Ne(x,new si(x))}Hn.STAT_EVENT="statevent";function js(f,x){fe.call(this,Hn.STAT_EVENT,f),this.stat=x}P(js,fe);function Et(f){const x=Ir();Ne(x,new js(x,f))}Hn.Ma="timingevent";function Pt(f,x){fe.call(this,Hn.Ma,f),this.size=x}P(Pt,fe);function jt(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},x)}function mt(){this.g=!0}mt.prototype.xa=function(){this.g=!1};function an(f,x,v,A,X,Z){f.info(function(){if(f.g)if(Z)for(var pe="",at=Z.split("&"),Jt=0;Jt<at.length;Jt++){var st=at[Jt].split("=");if(1<st.length){var on=st[0];st=st[1];var Zt=on.split("_");pe=2<=Zt.length&&Zt[1]=="type"?pe+(on+"="+st+"&"):pe+(on+"=redacted&")}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+A+") [attempt "+X+"]: "+x+`
`+v+`
`+pe})}function oi(f,x,v,A,X,Z,pe){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+X+"]: "+x+`
`+v+`
`+Z+" "+pe})}function Gn(f,x,v,A){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ga(f,v)+(A?" "+A:"")})}function Wc(f,x){f.info(function(){return"TIMEOUT: "+x})}mt.prototype.info=function(){};function Ga(f,x){if(!f.g)return x;if(!x)return null;try{var v=JSON.parse(x);if(v){for(f=0;f<v.length;f++)if(Array.isArray(v[f])){var A=v[f];if(!(2>A.length)){var X=A[1];if(Array.isArray(X)&&!(1>X.length)){var Z=X[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var pe=1;pe<X.length;pe++)X[pe]=""}}}}return rt(v)}catch{return x}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function jr(){}P(jr,rr),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},Or=new jr;function kn(f,x,v,A){this.j=f,this.i=x,this.l=v,this.R=A||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var al={},Ms={};function br(f,x,v){f.L=1,f.v=Qa($n(x)),f.m=v,f.P=!0,ci(f,null)}function ci(f,x){f.F=Date.now(),$a(f),f.A=$n(f.v);var v=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),fl(v.i,"t",A),f.C=0,v=f.j.J,f.h=new Ut,f.g=hu(f.j,v?x:null,!f.m),0<f.O&&(f.M=new Cn(E(f.Y,f,f.g),f.O)),x=f.U,v=f.g,A=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(kt[0]=X.toString()),X=kt);for(var Z=0;Z<X.length;Z++){var pe=ee(v,X[Z],A||x.handleEvent,!1,x.h||x);if(!pe)break;x.g[pe.key]=pe}x=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),Dr(),an(f.i,f.u,f.A,f.l,f.R,f.m)}kn.prototype.ca=function(f){f=f.target;const x=this.M;x&&or(f)==3?x.j():this.Y(f)},kn.prototype.Y=function(f){try{if(f==this.g)e:{const Zt=or(this.g);var x=this.g.Ba();const yi=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Zt!=4||x==7||(x==8||0>=yi?Dr(3):Dr(2)),Ki(this);var v=this.g.Z();this.X=v;t:if(Jc(this)){var A=au(this.g);f="";var X=A.length,Z=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Mr(this);var pe="";break t}this.h.i=new h.TextDecoder}for(x=0;x<X;x++)this.h.h=!0,f+=this.h.i.decode(A[x],{stream:!(Z&&x==X-1)});A.length=0,this.h.g+=f,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=v==200,oi(this.i,this.u,this.A,this.l,this.R,Zt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Jt=this.g;if((at=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(at)){var st=at;break t}}st=null}if(v=st)Gn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,v);else{this.o=!1,this.s=3,Et(12),dn(this),Mr(this);break e}}if(this.P){v=!0;let hn;for(;!this.J&&this.C<pe.length;)if(hn=Zc(this,pe),hn==Ms){Zt==4&&(this.s=4,Et(14),v=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==al){this.s=4,Et(15),Gn(this.i,this.l,pe,"[Invalid Chunk]"),v=!1;break}else Gn(this.i,this.l,hn,null),Xa(this,hn);if(Jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||pe.length!=0||this.h.h||(this.s=1,Et(16),v=!1),this.o=this.o&&v,!v)Gn(this.i,this.l,pe,"[Invalid Chunked Response]"),dn(this),Mr(this);else if(0<pe.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),is(on),on.M=!0,Et(11))}}else Gn(this.i,this.l,pe,null),Xa(this,pe);Zt==4&&dn(this),this.o&&!this.J&&(Zt==4?uu(this.j,this):(this.o=!1,$a(this)))}else Bd(this.g),v==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),dn(this),Mr(this)}}}catch{}finally{}};function Jc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Zc(f,x){var v=f.C,A=x.indexOf(`
`,v);return A==-1?Ms:(v=Number(x.substring(v,A)),isNaN(v)?al:(A+=1,A+v>x.length?Ms:(x=x.slice(A,A+v),f.C=A+v,x)))}kn.prototype.cancel=function(){this.J=!0,dn(this)};function $a(f){f.S=Date.now()+f.I,eu(f,f.I)}function eu(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=jt(E(f.ba,f),x)}function Ki(f){f.B&&(h.clearTimeout(f.B),f.B=null)}kn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Wc(this.i,this.A),this.L!=2&&(Dr(),Et(17)),dn(this),this.s=2,Mr(this)):eu(this,this.S-f)};function Mr(f){f.j.G==0||f.J||uu(f.j,f)}function dn(f){Ki(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,It(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function Xa(f,x){try{var v=f.j;if(v.G!=0&&(v.g==f||sl(v.h,f))){if(!f.K&&sl(v.h,f)&&v.G==3){try{var A=v.Da.g.parse(x)}catch{A=null}if(Array.isArray(A)&&A.length==3){var X=A;if(X[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<f.F)Xs(v),Gs(v);else break e;gl(v),Et(18)}}else v.za=X[1],0<v.za-v.T&&37500>X[2]&&v.F&&v.v==0&&!v.C&&(v.C=jt(E(v.Za,v),6e3));if(1>=Vs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gi(v,11)}else if((f.K||v.g==f)&&Xs(v),!F(x))for(X=v.Da.g.parse(x),x=0;x<X.length;x++){let st=X[x];if(v.T=st[0],st=st[1],v.G==2)if(st[0]=="c"){v.K=st[1],v.ia=st[2];const on=st[3];on!=null&&(v.la=on,v.j.info("VER="+v.la));const Zt=st[4];Zt!=null&&(v.Aa=Zt,v.j.info("SVER="+v.Aa));const yi=st[5];yi!=null&&typeof yi=="number"&&0<yi&&(A=1.5*yi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const hn=f.g;if(hn){const Fr=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var Z=A.h;Z.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ps(Z,Z.h),Z.h=null))}if(A.D){const xl=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(A.ya=xl,yt(A.I,A.D,xl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-f.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var pe=f;if(A.qa=du(A,A.J?A.ia:null,A.W),pe.K){In(A.h,pe);var at=pe,Jt=A.L;Jt&&(at.I=Jt),at.B&&(Ki(at),$a(at)),A.g=pe}else lu(A);0<v.i.length&&$s(v)}else st[0]!="stop"&&st[0]!="close"||gi(v,7);else v.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?gi(v,7):ml(v):st[0]!="noop"&&v.l&&v.l.ta(st),v.v=0)}}Dr(4)}catch{}}var tu=class{constructor(f,x){this.g=f,this.map=x}};function ui(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Vs(f){return f.h?1:f.g?f.g.size:0}function sl(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Ps(f,x){f.g?f.g.add(x):f.h=x}function In(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}ui.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ol(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const v of f.g.values())x=x.concat(v.D);return x}return V(f.i)}function Vd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(g(f)){for(var x=[],v=f.length,A=0;A<v;A++)x.push(f[A]);return x}x=[],v=0;for(A in f)x[v++]=f[A];return x}function Us(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(g(f)||typeof f=="string"){var x=[];f=f.length;for(var v=0;v<f;v++)x.push(v);return x}x=[],v=0;for(const A in f)x[v++]=A;return x}}}function ll(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(g(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var v=Us(f),A=Vd(f),X=A.length,Z=0;Z<X;Z++)x.call(void 0,A[Z],v&&v[Z],f)}var Ya=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pd(f,x){if(f){f=f.split("&");for(var v=0;v<f.length;v++){var A=f[v].indexOf("="),X=null;if(0<=A){var Z=f[v].substring(0,A);X=f[v].substring(A+1)}else Z=f[v];x(Z,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Gt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Gt){this.h=f.h,Ka(this,f.j),this.o=f.o,this.g=f.g,Qi(this,f.s),this.l=f.l;var x=f.i,v=new di;v.i=x.i,x.g&&(v.g=new Map(x.g),v.h=x.h),fi(this,v),this.m=f.m}else f&&(x=String(f).match(Ya))?(this.h=!1,Ka(this,x[1]||"",!0),this.o=ir(x[2]||""),this.g=ir(x[3]||"",!0),Qi(this,x[4]),this.l=ir(x[5]||"",!0),fi(this,x[6]||"",!0),this.m=ir(x[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Gt.prototype.toString=function(){var f=[],x=this.j;x&&f.push(Wa(x,cl,!0),":");var v=this.g;return(v||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Wa(x,cl,!0),"@"),f.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&f.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&f.push("/"),f.push(Wa(v,v.charAt(0)=="/"?Ud:ul,!0))),(v=this.i.toString())&&f.push("?",v),(v=this.m)&&f.push("#",Wa(v,zs)),f.join("")};function $n(f){return new Gt(f)}function Ka(f,x,v){f.j=v?ir(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Qi(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function fi(f,x,v){x instanceof di?(f.i=x,ru(f.i,f.h)):(v||(x=Wa(x,zd)),f.i=new di(x,f.h))}function yt(f,x,v){f.i.set(x,v)}function Qa(f){return yt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ir(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Wa(f,x,v){return typeof f=="string"?(f=encodeURI(f).replace(x,nu),v&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function nu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var cl=/[#\/\?@]/g,ul=/[#\?:]/g,Ud=/[#\?]/g,zd=/[#\?@]/g,zs=/#/g;function di(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function ar(f){f.g||(f.g=new Map,f.h=0,f.i&&Pd(f.i,function(x,v){f.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}r=di.prototype,r.add=function(f,x){ar(this),this.i=null,f=Lr(this,f);var v=this.g.get(f);return v||this.g.set(f,v=[]),v.push(x),this.h+=1,this};function hi(f,x){ar(f),x=Lr(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function mi(f,x){return ar(f),x=Lr(f,x),f.g.has(x)}r.forEach=function(f,x){ar(this),this.g.forEach(function(v,A){v.forEach(function(X){f.call(x,X,A,this)},this)},this)},r.na=function(){ar(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),v=[];for(let A=0;A<x.length;A++){const X=f[A];for(let Z=0;Z<X.length;Z++)v.push(x[A])}return v},r.V=function(f){ar(this);let x=[];if(typeof f=="string")mi(this,f)&&(x=x.concat(this.g.get(Lr(this,f))));else{f=Array.from(this.g.values());for(let v=0;v<f.length;v++)x=x.concat(f[v])}return x},r.set=function(f,x){return ar(this),this.i=null,f=Lr(this,f),mi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},r.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function fl(f,x,v){hi(f,x),0<v.length&&(f.i=null,f.g.set(Lr(f,x),V(v)),f.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var v=0;v<x.length;v++){var A=x[v];const Z=encodeURIComponent(String(A)),pe=this.V(A);for(A=0;A<pe.length;A++){var X=Z;pe[A]!==""&&(X+="="+encodeURIComponent(String(pe[A]))),f.push(X)}}return this.i=f.join("&")};function Lr(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function ru(f,x){x&&!f.j&&(ar(f),f.i=null,f.g.forEach(function(v,A){var X=A.toLowerCase();A!=X&&(hi(this,A),fl(this,X,v))},f)),f.j=x}function Ja(f,x){const v=new mt;if(h.Image){const A=new Image;A.onload=k(sr,v,"TestLoadImage: loaded",!0,x,A),A.onerror=k(sr,v,"TestLoadImage: error",!1,x,A),A.onabort=k(sr,v,"TestLoadImage: abort",!1,x,A),A.ontimeout=k(sr,v,"TestLoadImage: timeout",!1,x,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else x(!1)}function vr(f,x){const v=new mt,A=new AbortController,X=setTimeout(()=>{A.abort(),sr(v,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:A.signal}).then(Z=>{clearTimeout(X),Z.ok?sr(v,"TestPingServer: ok",!0,x):sr(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(X),sr(v,"TestPingServer: error",!1,x)})}function sr(f,x,v,A,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),A(v)}catch{}}function Za(){this.g=new Me}function Vr(f,x,v){const A=v||"";try{ll(f,function(X,Z){let pe=X;y(X)&&(pe=rt(X)),x.push(A+Z+"="+encodeURIComponent(pe))})}catch(X){throw x.push(A+"type="+encodeURIComponent("_badmap")),X}}function Wi(f){this.l=f.Ub||null,this.j=f.eb||!1}P(Wi,rr),Wi.prototype.g=function(){return new pi(this.l,this.j)},Wi.prototype.i=function(f){return function(){return f}}({});function pi(f,x){Fe.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(pi,Fe),r=pi.prototype,r.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,Ur(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||h).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Pr(this):Ur(this),this.readyState==3&&dl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Pr(this))},r.Qa=function(f){this.g&&(this.response=f,Pr(this))},r.ga=function(){this.g&&Pr(this)};function Pr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ur(f)}r.setRequestHeader=function(f,x){this.u.append(f,x)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,f.push(v[0]+": "+v[1]),v=x.next();return f.join(`\r
`)};function Ur(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function hl(f){let x="";return le(f,function(v,A){x+=A,x+=":",x+=v,x+=`\r
`}),x}function sn(f,x,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=hl(v),typeof f=="string"?v!=null&&encodeURIComponent(String(v)):yt(f,x,v))}function dt(f){Fe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(dt,Fe);var Bs=/^https?$/i,es=["POST","PUT"];r=dt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,x,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?yr(this.o):yr(Or),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(Z){iu(this,Z);return}if(f=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var X in A)v.set(X,A[X]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())v.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),X=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(es,x,void 0))||A||X||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of v)this.g.setRequestHeader(Z,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){iu(this,Z)}};function iu(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,Fs(f),zr(f)}function Fs(f){f.A||(f.A=!0,Ne(f,"complete"),Ne(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ne(this,"complete"),Ne(this,"abort"),zr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},r.bb=function(){qs(this)};function qs(f){if(f.h&&typeof u<"u"&&(!f.v[1]||or(f)!=4||f.Z()!=2)){if(f.u&&or(f)==4)Ye(f.Ea,0,f);else if(Ne(f,"readystatechange"),or(f)==4){f.h=!1;try{const pe=f.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var A;if(A=pe===0){var X=String(f.D).match(Ya)[1]||null;!X&&h.self&&h.self.location&&(X=h.self.location.protocol.slice(0,-1)),A=!Bs.test(X?X.toLowerCase():"")}v=A}if(v)Ne(f,"complete"),Ne(f,"success");else{f.m=6;try{var Z=2<or(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",Fs(f)}}finally{zr(f)}}}}function zr(f,x){if(f.g){ts(f);const v=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||Ne(f,"ready");try{v.onreadystatechange=A}catch{}}}function ts(f){f.I&&(h.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function or(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Rn(x)}};function au(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Bd(f){const x={};f=(f.g&&2<=or(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(F(f[A]))continue;var v=I(f[A]);const X=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=x[X]||[];x[X]=Z,Z.push(v)}N(x,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(f,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[f]||x}function Hs(f){this.Aa=0,this.i=[],this.j=new mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,f),this.cb=ns("retryDelaySeedMs",1e4,f),this.Wa=ns("forwardChannelMaxRetries",2,f),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(f&&f.concurrentRequestLimit),this.Da=new Za,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Hs.prototype,r.la=8,r.G=1,r.connect=function(f,x,v,A){Et(0),this.W=f,this.H=x||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=du(this,null,this.W),$s(this)};function ml(f){if(su(f),f.G==3){var x=f.U++,v=$n(f.I);if(yt(v,"SID",f.K),yt(v,"RID",x),yt(v,"TYPE","terminate"),rs(f,v),x=new kn(f,f.j,x),x.L=2,x.v=Qa($n(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(x.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=x.v,v=!0),v||(x.g=hu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),$a(x)}fu(f)}function Gs(f){f.g&&(is(f),f.g.cancel(),f.g=null)}function su(f){Gs(f),f.u&&(h.clearTimeout(f.u),f.u=null),Xs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function $s(f){if(!Ls(f.h)&&!f.s){f.s=!0;var x=f.Ga;me||M(),ue||(me(),ue=!0),Pe.add(x,f),f.B=0}}function Fd(f,x){return Vs(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=jt(E(f.Ga,f,x),yl(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new kn(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=S(Z),R(Z,this.S)):Z=this.S),this.m!==null||this.O||(X.H=Z,Z=null),this.P)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(x+=A,4096<x){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=ou(this,X,x),v=$n(this.I),yt(v,"RID",f),yt(v,"CVER",22),this.D&&yt(v,"X-HTTP-Session-Id",this.D),rs(this,v),Z&&(this.O?x="headers="+encodeURIComponent(String(hl(Z)))+"&"+x:this.m&&sn(v,this.m,Z)),Ps(this.h,X),this.Ua&&yt(v,"TYPE","init"),this.P?(yt(v,"$req",x),yt(v,"SID","null"),X.T=!0,br(X,v,null)):br(X,v,x),this.G=2}}else this.G==3&&(f?pl(this,f):this.i.length==0||Ls(this.h)||pl(this))};function pl(f,x){var v;x?v=x.l:v=f.U++;const A=$n(f.I);yt(A,"SID",f.K),yt(A,"RID",v),yt(A,"AID",f.T),rs(f,A),f.m&&f.o&&sn(A,f.m,f.o),v=new kn(f,f.j,v,f.B+1),f.m===null&&(v.H=f.o),x&&(f.i=x.D.concat(f.i)),x=ou(f,v,1e3),v.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ps(f.h,v),br(v,A,x)}function rs(f,x){f.H&&le(f.H,function(v,A){yt(x,A,v)}),f.l&&ll({},function(v,A){yt(x,A,v)})}function ou(f,x,v){v=Math.min(f.i.length,v);var A=f.l?E(f.l.Na,f.l,f):null;e:{var X=f.i;let Z=-1;for(;;){const pe=["count="+v];Z==-1?0<v?(Z=X[0].g,pe.push("ofs="+Z)):Z=0:pe.push("ofs="+Z);let at=!0;for(let Jt=0;Jt<v;Jt++){let st=X[Jt].g;const on=X[Jt].map;if(st-=Z,0>st)Z=Math.max(0,X[Jt].g-100),at=!1;else try{Vr(on,pe,"req"+st+"_")}catch{A&&A(on)}}if(at){A=pe.join("&");break e}}}return f=f.i.splice(0,v),x.D=f,A}function lu(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;me||M(),ue||(me(),ue=!0),Pe.add(x,f),f.v=0}}function gl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=jt(E(f.Fa,f),yl(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=jt(E(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Gs(this),cu(this))};function is(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function cu(f){f.g=new kn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=$n(f.qa);yt(x,"RID","rpc"),yt(x,"SID",f.K),yt(x,"AID",f.T),yt(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&yt(x,"TO",f.ja),yt(x,"TYPE","xmlhttp"),rs(f,x),f.m&&f.o&&sn(x,f.m,f.o),f.L&&(f.g.I=f.L);var v=f.g;f=f.ia,v.L=1,v.v=Qa($n(x)),v.m=null,v.P=!0,ci(v,f)}r.Za=function(){this.C!=null&&(this.C=null,Gs(this),gl(this),Et(19))};function Xs(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function uu(f,x){var v=null;if(f.g==x){Xs(f),is(f),f.g=null;var A=2}else if(sl(f.h,x))v=x.D,In(f.h,x),A=1;else return;if(f.G!=0){if(x.o)if(A==1){v=x.m?x.m.length:0,x=Date.now()-x.F;var X=f.B;A=Ir(),Ne(A,new Pt(A,v)),$s(f)}else lu(f);else if(X=x.s,X==3||X==0&&0<x.X||!(A==1&&Fd(f,x)||A==2&&gl(f)))switch(v&&0<v.length&&(x=f.h,x.i=x.i.concat(v)),X){case 1:gi(f,5);break;case 4:gi(f,10);break;case 3:gi(f,6);break;default:gi(f,2)}}}function yl(f,x){let v=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(v*=2),v*x}function gi(f,x){if(f.j.info("Error code "+x),x==2){var v=E(f.fb,f),A=f.Xa;const X=!A;A=new Gt(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ka(A,"https"),Qa(A),X?Ja(A.toString(),v):vr(A.toString(),v)}else Et(2);f.G=0,f.l&&f.l.sa(x),fu(f),su(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function fu(f){if(f.G=0,f.ka=[],f.l){const x=ol(f.h);(x.length!=0||f.i.length!=0)&&(D(f.ka,x),D(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function du(f,x,v){var A=v instanceof Gt?$n(v):new Gt(v);if(A.g!="")x&&(A.g=x+"."+A.g),Qi(A,A.s);else{var X=h.location;A=X.protocol,x=x?x+"."+X.hostname:X.hostname,X=+X.port;var Z=new Gt(null);A&&Ka(Z,A),x&&(Z.g=x),X&&Qi(Z,X),v&&(Z.l=v),A=Z}return v=f.D,x=f.ya,v&&x&&yt(A,v,x),yt(A,"VER",f.la),rs(f,A),A}function hu(f,x,v){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new dt(new Wi({eb:v})):new dt(f.pa),x.Ha(f.J),x}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ys(){}Ys.prototype.g=function(f,x){return new Dn(f,x)};function Dn(f,x){Fe.call(this),this.g=new Hs(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!F(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!F(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new Br(this)}P(Dn,Fe),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ml(this.g)},Dn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var v={};v.__data__=f,f=v}else this.u&&(v={},v.__data__=rt(f),f=v);x.i.push(new tu(x.Ya++,f)),x.G==3&&$s(x)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,Dn.aa.N.call(this)};function pu(f){qn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const v in x){f=v;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}P(pu,qn);function gu(){$i.call(this),this.status=1}P(gu,$i);function Br(f){this.g=f}P(Br,mu),Br.prototype.ua=function(){Ne(this.g,"a")},Br.prototype.ta=function(f){Ne(this.g,new pu(f))},Br.prototype.sa=function(f){Ne(this.g,new gu)},Br.prototype.ra=function(){Ne(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,h1=function(){return new Ys},d1=function(){return Ir()},f1=Hn,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Pf=Yi,li.COMPLETE="complete",u1=li,Gi.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,uc=Gi,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,c1=dt}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const Bb="@firebase/firestore",Fb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new zp("@firebase/firestore");function So(){return Rs.logLevel}function xe(r,...e){if(Rs.logLevel<=Ze.DEBUG){const t=e.map(Wp);Rs.debug(`Firestore (${Wo}): ${r}`,...t)}}function Ui(r,...e){if(Rs.logLevel<=Ze.ERROR){const t=e.map(Wp);Rs.error(`Firestore (${Wo}): ${r}`,...t)}}function Po(r,...e){if(Rs.logLevel<=Ze.WARN){const t=e.map(Wp);Rs.warn(`Firestore (${Wo}): ${r}`,...t)}}function Wp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,m1(r,a,t)}function m1(r,e,t){let a=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ui(a),new Error(a)}function ht(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||m1(e,o,a)}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends qi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tn.UNAUTHENTICATED))}shutdown(){}}class gR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yR{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,t(g)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},h=g=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(g=>h(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?h(g):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new p1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class xR{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bR{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);const a=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const o=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=_R(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function et(r,e){return r<e?-1:r>e?1:0}function hp(r,e){const t=Math.min(r.length,e.length);for(let a=0;a<t;a++){const o=r.charAt(a),l=e.charAt(a);if(o!==l)return Ym(o)===Ym(l)?et(o,l):Ym(o)?1:-1}return et(r.length,e.length)}const wR=55296,ER=57343;function Ym(r){const e=r.charCodeAt(0);return e>=wR&&e<=ER}function Uo(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="__name__";class Yr{constructor(e,t,a){t===void 0?t=0:t>e.length&&je(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&je(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=Yr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return et(e.length,t.length)}static compareSegments(e,t){const a=Yr.isNumericId(e),o=Yr.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):hp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class At extends Yr{construct(e,t,a){return new At(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new At(t)}static emptyPath(){return new At([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Yr{construct(e,t,a){return new xn(e,t,a)}static isValidIdentifier(e){return TR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hb}static keyField(){return new xn([Hb])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(a+=h,o++):(l(),o++)}if(l(),u)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(At.fromString(e))}static fromName(e){return new Ae(At.fromString(e).popFirst(5))}static empty(){return new Ae(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r,e,t){if(!t)throw new ye(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AR(r,e,t,a){if(e===!0&&a===!0)throw new ye(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Gb(r){if(!Ae.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $b(r){if(Ae.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":je(12329,{type:typeof r})}function zi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vd(r);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(r,e){const t={typeString:r};return e&&(t.value=e),t}function zc(r,e){if(!y1(r))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){t=`JSON missing required field: '${a}'`;break}const u=r[a];if(o&&typeof u!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new ye(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=-62135596800,Yb=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*Yb);return new St(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xb)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:Qt("string",St._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new St(0,0))}static max(){return new Ue(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function SR(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(a===1e9?new St(t+1,0):new St(t,a));return new Ma(o,Ae.empty(),e)}function NR(r){return new Ma(r.readTime,r.key,Ec)}class Ma{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Ma(Ue.min(),Ae.empty(),Ec)}static max(){return new Ma(Ue.max(),Ae.empty(),Ec)}}function CR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(r.documentKey,e.documentKey),t!==0?t:et(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==RR)throw r;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,a)=>{t(e)})}static reject(e){return new ce((t,a)=>{a(e)})}static waitFor(e){return new ce((t,a)=>{let o=0,l=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++l,u&&l===o&&t()},g=>a(g))}),u=!0,l===o&&t()})}static or(e){let t=ce.resolve(!1);for(const a of e)t=t.next(o=>o?ce.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,l)=>{a.push(t.call(this,o,l))}),this.waitFor(a)}static mapArray(e,t){return new ce((a,o)=>{const l=e.length,u=new Array(l);let h=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next(b=>{u[y]=b,++h,h===l&&a(u)},b=>o(b))}})}static doWhile(e,t){return new ce((a,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):a()};l()})}}function IR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_d.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-1;function wd(r){return r==null}function rd(r){return r===0&&1/r==-1/0}function DR(r){return typeof r=="number"&&Number.isInteger(r)&&!rd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="";function OR(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Kb(e)),e=jR(r.get(t),e);return Kb(e)}function jR(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case x1:t+="";break;default:t+=l}}return t}function Kb(r){return r+x1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function qa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function b1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??yn.RED,this.left=o??yn.EMPTY,this.right=l??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new yn(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wb(this.data.getIterator())}getIteratorFrom(e){return new Wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class Wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new tr([])}unionWith(e){let t=new nn(xn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new v1("Invalid base64 string: "+l):l}}(e);return new bn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(r){if(ht(!!r,39018),typeof r=="string"){let e=0;const t=MR.exec(r);if(ht(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ft(r.seconds),nanos:Ft(r.nanos)}}function Ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Va(r){return typeof r=="string"?bn.fromBase64String(r):bn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="server_timestamp",w1="__type__",E1="__previous_value__",T1="__local_write_time__";function eg(r){return(r?.mapValue?.fields||{})[w1]?.stringValue===_1}function Ed(r){const e=r.mapValue.fields[E1];return eg(e)?Ed(e):e}function Tc(r){const e=La(r.mapValue.fields[T1].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t,a,o,l,u,h,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const id="(default)";class Ac{constructor(e,t){this.projectId=e,this.database=t||id}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__type__",VR="__max__",wf={mapValue:{}},S1="__vector__",ad="value";function Pa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eg(r)?4:UR(r)?9007199254740991:PR(r)?10:11:je(28295,{value:r})}function ri(r,e){if(r===e)return!0;const t=Pa(r);if(t!==Pa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tc(r).isEqual(Tc(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=La(o.timestampValue),h=La(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Va(o.bytesValue).isEqual(Va(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Ft(o.geoPointValue.latitude)===Ft(l.geoPointValue.latitude)&&Ft(o.geoPointValue.longitude)===Ft(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ft(o.integerValue)===Ft(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Ft(o.doubleValue),h=Ft(l.doubleValue);return u===h?rd(u)===rd(h):isNaN(u)&&isNaN(h)}return!1}(r,e);case 9:return Uo(r.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Qb(u)!==Qb(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(h[g]===void 0||!ri(u[g],h[g])))return!1;return!0}(r,e);default:return je(52216,{left:r})}}function Sc(r,e){return(r.values||[]).find(t=>ri(t,e))!==void 0}function zo(r,e){if(r===e)return 0;const t=Pa(r),a=Pa(e);if(t!==a)return et(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(r.booleanValue,e.booleanValue);case 2:return function(l,u){const h=Ft(l.integerValue||l.doubleValue),g=Ft(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(r,e);case 3:return Jb(r.timestampValue,e.timestampValue);case 4:return Jb(Tc(r),Tc(e));case 5:return hp(r.stringValue,e.stringValue);case 6:return function(l,u){const h=Va(l),g=Va(u);return h.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),g=u.split("/");for(let y=0;y<h.length&&y<g.length;y++){const b=et(h[y],g[y]);if(b!==0)return b}return et(h.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,u){const h=et(Ft(l.latitude),Ft(u.latitude));return h!==0?h:et(Ft(l.longitude),Ft(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Zb(r.arrayValue,e.arrayValue);case 10:return function(l,u){const h=l.fields||{},g=u.fields||{},y=h[ad]?.arrayValue,b=g[ad]?.arrayValue,w=et(y?.values?.length||0,b?.values?.length||0);return w!==0?w:Zb(y,b)}(r.mapValue,e.mapValue);case 11:return function(l,u){if(l===wf.mapValue&&u===wf.mapValue)return 0;if(l===wf.mapValue)return 1;if(u===wf.mapValue)return-1;const h=l.fields||{},g=Object.keys(h),y=u.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let w=0;w<g.length&&w<b.length;++w){const E=hp(g[w],b[w]);if(E!==0)return E;const k=zo(h[g[w]],y[b[w]]);if(k!==0)return k}return et(g.length,b.length)}(r.mapValue,e.mapValue);default:throw je(23264,{he:t})}}function Jb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return et(r,e);const t=La(r),a=La(e),o=et(t.seconds,a.seconds);return o!==0?o:et(t.nanos,a.nanos)}function Zb(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=zo(t[o],a[o]);if(l)return l}return et(t.length,a.length)}function Bo(r){return mp(r)}function mp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=La(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Va(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ae.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=mp(l);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of a)l?l=!1:o+=",",o+=`${u}:${mp(t.fields[u])}`;return o+"}"}(r.mapValue):je(61005,{value:r})}function Uf(r){switch(Pa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(r);return e?16+Uf(e):16;case 5:return 2*r.stringValue.length;case 6:return Va(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,l)=>o+Uf(l),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return qa(a.fields,(l,u)=>{o+=l.length+Uf(u)}),o}(r.mapValue);default:throw je(13486,{value:r})}}function ev(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function pp(r){return!!r&&"integerValue"in r}function tg(r){return!!r&&"arrayValue"in r}function tv(r){return!!r&&"nullValue"in r}function nv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zf(r){return!!r&&"mapValue"in r}function PR(r){return(r?.mapValue?.fields||{})[A1]?.stringValue===S1}function gc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return qa(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=gc(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gc(r.arrayValue.values[t]);return e}return{...r}}function UR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===VR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(t)}setAll(e){let t=xn.emptyPath(),a={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,a,o),a={},o=[],t=h.popLast()}u?a[h.lastSegment()]=gc(u):o.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){qa(t,(o,l)=>e[o]=l);for(const o of a)delete e[o]}clone(){return new zn(gc(this.value))}}function N1(r){const e=[];return qa(r.fields,(t,a)=>{const o=new xn([t]);if(zf(a)){const l=N1(a.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t,a,o,l,u,h){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new An(e,0,Ue.min(),Ue.min(),Ue.min(),zn.empty(),0)}static newFoundDocument(e,t,a,o){return new An(e,1,t,Ue.min(),a,o,0)}static newNoDocument(e,t){return new An(e,2,t,Ue.min(),Ue.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,Ue.min(),Ue.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t){this.position=e,this.inclusive=t}}function rv(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?a=Ae.comparator(Ae.fromName(u.referenceValue),t.key):a=zo(u,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function iv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ri(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function zR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class Kt extends C1{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new FR(e,t,a):t==="array-contains"?new GR(e,a):t==="in"?new $R(e,a):t==="not-in"?new XR(e,a):t==="array-contains-any"?new YR(e,a):new Kt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new qR(e,a):new HR(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zo(t,this.value)):t!==null&&Pa(this.value)===Pa(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends C1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nr(e,t)}matches(e){return R1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R1(r){return r.op==="and"}function k1(r){return BR(r)&&R1(r)}function BR(r){for(const e of r.filters)if(e instanceof Nr)return!1;return!0}function gp(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if(k1(r))return r.filters.map(e=>gp(e)).join(",");{const e=r.filters.map(t=>gp(t)).join(",");return`${r.op}(${e})`}}function I1(r,e){return r instanceof Kt?function(a,o){return o instanceof Kt&&a.op===o.op&&a.field.isEqual(o.field)&&ri(a.value,o.value)}(r,e):r instanceof Nr?function(a,o){return o instanceof Nr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((l,u,h)=>l&&I1(u,o.filters[h]),!0):!1}(r,e):void je(19439)}function D1(r){return r instanceof Kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(r):r instanceof Nr?function(t){return t.op.toString()+" {"+t.getFilters().map(D1).join(" ,")+"}"}(r):"Filter"}class FR extends Kt{constructor(e,t,a){super(e,t,a),this.key=Ae.fromName(a.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class qR extends Kt{constructor(e,t){super(e,"in",t),this.keys=O1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HR extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=O1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function O1(r,e){return(e.arrayValue?.values||[]).map(t=>Ae.fromName(t.referenceValue))}class GR extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tg(t)&&Sc(t.arrayValue,this.value)}}class $R extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sc(this.value.arrayValue,t)}}class XR extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Sc(this.value.arrayValue,t)}}class YR extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Sc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,t=null,a=[],o=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function av(r,e=null,t=[],a=[],o=null,l=null,u=null){return new KR(r,e,t,a,o,l,u)}function ng(r){const e=Be(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>gp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Bo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Bo(a)).join(",")),e.Te=t}return e.Te}function rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!zR(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!I1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!iv(r.startAt,e.startAt)&&iv(r.endAt,e.endAt)}function yp(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t=null,a=[],o=[],l=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QR(r,e,t,a,o,l,u,h){return new Bc(r,e,t,a,o,l,u,h)}function ig(r){return new Bc(r)}function sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function j1(r){return r.collectionGroup!==null}function yc(r){const e=Be(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new nn(xn.comparator);return u.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new od(l,a))}),t.has(xn.keyField().canonicalString())||e.Ie.push(new od(xn.keyField(),a))}return e.Ie}function Jr(r){const e=Be(r);return e.Ee||(e.Ee=WR(e,yc(r))),e.Ee}function WR(r,e){if(r.limitType==="F")return av(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new od(o.field,l)});const t=r.endAt?new sd(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sd(r.startAt.position,r.startAt.inclusive):null;return av(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function xp(r,e){const t=r.filters.concat([e]);return new Bc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function bp(r,e,t){return new Bc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Td(r,e){return rg(Jr(r),Jr(e))&&r.limitType===e.limitType}function M1(r){return`${ng(Jr(r))}|lt:${r.limitType}`}function No(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>D1(o)).join(", ")}]`),wd(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Bo(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Bo(o)).join(",")),`Target(${a})`}(Jr(r))}; limitType=${r.limitType})`}function Ad(r,e){return e.isFoundDocument()&&function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Ae.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(r,e)&&function(a,o){for(const l of yc(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(u,h,g){const y=rv(u,h,g);return u.inclusive?y<=0:y<0}(a.startAt,yc(a),o)||a.endAt&&!function(u,h,g){const y=rv(u,h,g);return u.inclusive?y>=0:y>0}(a.endAt,yc(a),o))}(r,e)}function JR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L1(r){return(e,t)=>{let a=!1;for(const o of yc(r)){const l=ZR(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function ZR(r,e,t){const a=r.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,u,h){const g=u.data.field(l),y=h.data.field(l);return g!==null&&y!==null?zo(g,y):je(42886)}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return je(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,(t,a)=>{for(const[o,l]of a)e(o,l)})}isEmpty(){return b1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Ot(Ae.comparator);function Bi(){return ek}const V1=new Ot(Ae.comparator);function fc(...r){let e=V1;for(const t of r)e=e.insert(t.key,t);return e}function P1(r){let e=V1;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function ws(){return xc()}function U1(){return xc()}function xc(){return new Ds(r=>r.toString(),(r,e)=>r.isEqual(e))}const tk=new Ot(Ae.comparator),nk=new nn(Ae.comparator);function tt(...r){let e=nk;for(const t of r)e=e.add(t);return e}const rk=new nn(et);function ik(){return rk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function z1(r){return{integerValue:""+r}}function B1(r,e){return DR(e)?z1(e):ag(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function ak(r,e,t){return r instanceof Nc?function(o,l){const u={fields:{[w1]:{stringValue:_1},[T1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&eg(l)&&(l=Ed(l)),l&&(u.fields[E1]=l),{mapValue:u}}(t,e):r instanceof Fo?q1(r,e):r instanceof Cc?H1(r,e):function(o,l){const u=F1(o,l),h=ov(u)+ov(o.Ae);return pp(u)&&pp(o.Ae)?z1(h):ag(o.serializer,h)}(r,e)}function sk(r,e,t){return r instanceof Fo?q1(r,e):r instanceof Cc?H1(r,e):t}function F1(r,e){return r instanceof Rc?function(a){return pp(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Nc extends Sd{}class Fo extends Sd{constructor(e){super(),this.elements=e}}function q1(r,e){const t=G1(e);for(const a of r.elements)t.some(o=>ri(o,a))||t.push(a);return{arrayValue:{values:t}}}class Cc extends Sd{constructor(e){super(),this.elements=e}}function H1(r,e){let t=G1(e);for(const a of r.elements)t=t.filter(o=>!ri(o,a));return{arrayValue:{values:t}}}class Rc extends Sd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ov(r){return Ft(r.integerValue||r.doubleValue)}function G1(r){return tg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t){this.field=e,this.transform=t}}function ok(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Fo&&o instanceof Fo||a instanceof Cc&&o instanceof Cc?Uo(a.elements,o.elements,ri):a instanceof Rc&&o instanceof Rc?ri(a.Ae,o.Ae):a instanceof Nc&&o instanceof Nc}(r.transform,e.transform)}class lk{constructor(e,t){this.version=e,this.transformResults=t}}class Zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nd{}function $1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Y1(r.key,Zr.none()):new Fc(r.key,r.data,Zr.none());{const t=r.data,a=zn.empty();let o=new nn(xn.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?a.delete(l):a.set(l,u),o=o.add(l)}return new Ha(r.key,a,new tr(o.toArray()),Zr.none())}}function ck(r,e,t){r instanceof Fc?function(o,l,u){const h=o.value.clone(),g=cv(o.fieldTransforms,l,u.transformResults);h.setAll(g),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,t):r instanceof Ha?function(o,l,u){if(!Bf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const h=cv(o.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(X1(o)),g.setAll(h),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function bc(r,e,t,a){return r instanceof Fc?function(l,u,h,g){if(!Bf(l.precondition,u))return h;const y=l.value.clone(),b=uv(l.fieldTransforms,g,u);return y.setAll(b),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(r,e,t,a):r instanceof Ha?function(l,u,h,g){if(!Bf(l.precondition,u))return h;const y=uv(l.fieldTransforms,g,u),b=u.data;return b.setAll(X1(l)),b.setAll(y),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(r,e,t,a):function(l,u,h){return Bf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(r,e,t)}function uk(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),l=F1(a.transform,o||null);l!=null&&(t===null&&(t=zn.empty()),t.set(a.field,l))}return t||null}function lv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Uo(a,o,(l,u)=>ok(l,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Fc extends Nd{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ha extends Nd{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function X1(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function cv(r,e,t){const a=new Map;ht(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,h=e.data.field(l.field);a.set(l.field,sk(u,h,t[o]))}return a}function uv(r,e,t){const a=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);a.set(o.field,ak(l,u,e))}return a}class Y1 extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fk extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ck(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=bc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=bc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=U1();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(o.key)?null:h;const g=$1(u,h);g!==null&&a.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Ue.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(t,a)=>lv(t,a))&&Uo(this.baseMutations,e.baseMutations,(t,a)=>lv(t,a))}}class og{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return tk}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,a[u].version);return new og(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,lt;function pk(r){switch(r){case se.OK:return je(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return je(15467,{code:r})}}function K1(r){if(r===void 0)return Ui("GRPC error has no .code"),se.UNKNOWN;switch(r){case Yt.OK:return se.OK;case Yt.CANCELLED:return se.CANCELLED;case Yt.UNKNOWN:return se.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return se.INTERNAL;case Yt.UNAVAILABLE:return se.UNAVAILABLE;case Yt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Yt.NOT_FOUND:return se.NOT_FOUND;case Yt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Yt.ABORTED:return se.ABORTED;case Yt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Yt.DATA_LOSS:return se.DATA_LOSS;default:return je(39323,{code:r})}}(lt=Yt||(Yt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Da([4294967295,4294967295],0);function fv(r){const e=gk().encode(r),t=new l1;return t.update(e),new Uint8Array(t.digest())}function dv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Da([t,a],0),new Da([o,l],0)]}class lg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new dc(`Invalid padding: ${t}`);if(a<0)throw new dc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new dc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Da.fromNumber(this.ge)}ye(e,t,a){let o=e.add(t.multiply(Da.fromNumber(a)));return o.compare(yk)===1&&(o=new Da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=fv(e),[a,o]=dv(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,o,l);if(!this.we(u))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new lg(l,o,t);return a.forEach(h=>u.insert(h)),u}insert(e){if(this.ge===0)return;const t=fv(e),[a,o]=dv(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Cd(Ue.min(),o,new Ot(et),Bi(),tt())}}class qc{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new qc(a,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,a,o){this.be=e,this.removedTargetIds=t,this.key=a,this.De=o}}class Q1{constructor(e,t){this.targetId=e,this.Ce=t}}class W1{constructor(e,t,a=bn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class hv{constructor(){this.ve=0,this.Fe=mv(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),t=tt(),a=tt();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:je(38017,{changeType:l})}}),new qc(this.Me,this.xe,e,t,a)}qe(){this.Oe=!1,this.Fe=mv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.Je=Ef(),this.He=Ef(),this.Ye=new Ot(et)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((a,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,a=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(yp(l))if(a===0){const u=new Ae(l.path);this.et(t,u,An.newNoDocument(u,Ue.min()))}else ht(a===1,20013,{expectedCount:a});else{const u=this._t(t);if(u!==a){const h=this.ut(e),g=h?this.ct(h,e,u):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let u,h;try{u=Va(a).toUint8Array()}catch(g){if(g instanceof v1)return Po("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{h=new lg(u,o,l)}catch(g){return Po(g instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return h.ge===0?null:h}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let o=0;return a.forEach(l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,u)=>{const h=this.ot(u);if(h){if(l.current&&yp(h.target)){const g=new Ae(h.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,An.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.qe())}});let a=tt();this.He.forEach((l,u)=>{let h=!0;u.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(a=a.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const o=new Cd(e,t,this.Ye,this.je,a);return this.je=Bi(),this.Je=Ef(),this.He=Ef(),this.Ye=new Ot(et),o}Xe(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,a),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new hv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nn(et),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nn(et),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hv),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ef(){return new Ot(Ae.comparator)}function mv(){return new Ot(Ae.comparator)}const bk={asc:"ASCENDING",desc:"DESCENDING"},vk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_k={and:"AND",or:"OR"};class wk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(r,e){return r.useProto3Json||wd(e)?e:{value:e}}function ld(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ek(r,e){return ld(r,e.toTimestamp())}function ei(r){return ht(!!r,49232),Ue.fromTimestamp(function(t){const a=La(t);return new St(a.seconds,a.nanos)}(r))}function cg(r,e){return _p(r,e).canonicalString()}function _p(r,e){const t=function(o){return new At(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Z1(r){const e=At.fromString(r);return ht(iw(e),10190,{key:e.toString()}),e}function wp(r,e){return cg(r.databaseId,e.path)}function Km(r,e){const t=Z1(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ae(tw(t))}function ew(r,e){return cg(r.databaseId,e)}function Tk(r){const e=Z1(r);return e.length===4?At.emptyPath():tw(e)}function Ep(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tw(r){return ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function pv(r,e,t){return{name:wp(r,e),fields:t.value.mapValue.fields}}function Ak(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:je(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,b){return y.useProto3Json?(ht(b===void 0||typeof b=="string",58123),bn.fromBase64String(b||"")):(ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),bn.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(y){const b=y.code===void 0?se.UNKNOWN:K1(y.code);return new ye(b,y.message||"")}(u);t=new W1(a,o,l,h||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Km(r,a.document.name),l=ei(a.document.updateTime),u=a.document.createTime?ei(a.document.createTime):Ue.min(),h=new zn({mapValue:{fields:a.document.fields}}),g=An.newFoundDocument(o,l,u,h),y=a.targetIds||[],b=a.removedTargetIds||[];t=new Ff(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Km(r,a.document),l=a.readTime?ei(a.readTime):Ue.min(),u=An.newNoDocument(o,l),h=a.removedTargetIds||[];t=new Ff([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Km(r,a.document),l=a.removedTargetIds||[];t=new Ff([],l,o,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,u=new mk(o,l),h=a.targetId;t=new Q1(h,u)}}return t}function Sk(r,e){let t;if(e instanceof Fc)t={update:pv(r,e.key,e.value)};else if(e instanceof Y1)t={delete:wp(r,e.key)};else if(e instanceof Ha)t={update:pv(r,e.key,e.data),updateMask:Mk(e.fieldMask)};else{if(!(e instanceof fk))return je(16599,{Vt:e.type});t={verify:wp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,u){const h=u.transform;if(h instanceof Nc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Cc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw je(20930,{transform:u.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:Ek(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je(27497)}(r,e.precondition)),t}function Nk(r,e){return r&&r.length>0?(ht(e!==void 0,14353),r.map(t=>function(o,l){let u=o.updateTime?ei(o.updateTime):ei(l);return u.isEqual(Ue.min())&&(u=ei(l)),new lk(u,o.transformResults||[])}(t,e))):[]}function Ck(r,e){return{documents:[ew(r,e.path)]}}function Rk(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=ew(r,o);const l=function(y){if(y.length!==0)return rw(Nr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(b=>function(E){return{field:Co(E.field),direction:Dk(E.dir)}}(b))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=vp(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:t,parent:o}}function kk(r){let e=Tk(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){ht(a===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=function(w){const E=nw(w);return E instanceof Nr&&k1(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(P){return new od(Ro(P.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,wd(E)?null:E}(t.limit));let g=null;t.startAt&&(g=function(w){const E=!!w.before,k=w.values||[];return new sd(k,E)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const E=!w.before,k=w.values||[];return new sd(k,E)}(t.endAt)),QR(e,o,u,l,h,"F",g,y)}function Ik(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Ro(t.unaryFilter.field);return Kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(t.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ro(t.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ro(t.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(r):r.fieldFilter!==void 0?function(t){return Kt.create(Ro(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Nr.create(t.compositeFilter.filters.map(a=>nw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(t.compositeFilter.op))}(r):je(30097,{filter:r})}function Dk(r){return bk[r]}function Ok(r){return vk[r]}function jk(r){return _k[r]}function Co(r){return{fieldPath:r.canonicalString()}}function Ro(r){return xn.fromServerFormat(r.fieldPath)}function rw(r){return r instanceof Kt?function(t){if(t.op==="=="){if(nv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NAN"}};if(tv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NAN"}};if(tv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(t.field),op:Ok(t.op),value:t.value}}}(r):r instanceof Nr?function(t){const a=t.getFilters().map(o=>rw(o));return a.length===1?a[0]:{compositeFilter:{op:jk(t.op),filters:a}}}(r):je(54877,{filter:r})}function Mk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,a,o,l=Ue.min(),u=Ue.min(),h=bn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.yt=e}}function Vk(r){const e=kk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Cn=new Uk}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Ma.min())}updateCollectionGroup(e,t,a){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class Uk{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new nn(At.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new nn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aw=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(aw,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LruGarbageCollector",zk=1048576;function xv([r,e],[t,a]){const o=et(r,t);return o===0?et(e,a):o}class Bk{constructor(e){this.Ir=e,this.buffer=new nn(xv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();xv(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fk{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(yv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?xe(yv,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.Vr(3e5)})}}class qk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(_d.ce);const a=new Bk(t);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.mr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(gv)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let a,o,l,u,h,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,h=Date.now(),this.removeTargets(e,a,t))).next(w=>(l=w,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(y=Date.now(),So()<=Ze.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-b}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${l} targets in `+(g-h)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function Hk(r,e){return new qk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.changes=new Ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ce.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&bc(a.mutation,o,tr.empty(),St.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,tt()).next(()=>a))}getLocalViewOfDocuments(e,t,a=tt()){const o=ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(l=>{let u=fc();return l.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const a=ws();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,tt()))}populateOverlays(e,t,a){const o=[];return a.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,a,o){let l=Bi();const u=xc(),h=function(){return xc()}();return t.forEach((g,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Ha)?l=l.insert(y.key,y):b!==void 0?(u.set(y.key,b.mutation.getFieldMask()),bc(b.mutation,y,b.mutation.getFieldMask(),St.now())):u.set(y.key,tr.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((y,b)=>u.set(y,b)),t.forEach((y,b)=>h.set(y,new $k(b,u.get(y)??null))),h))}recalculateAndSaveOverlays(e,t){const a=xc();let o=new Ot((u,h)=>u-h),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let b=a.get(g)||tr.empty();b=h.applyToLocalView(y,b),a.set(g,b);const w=(o.get(h.batchId)||tt()).add(g);o=o.insert(h.batchId,w)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),y=g.key,b=g.value,w=U1();b.forEach(E=>{if(!l.has(E)){const k=$1(t.get(E),a.get(E));k!==null&&w.set(E,k),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ce.waitFor(u)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):ce.resolve(ws());let h=Ec,g=l;return u.next(y=>ce.forEach(y,(b,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),l.get(b)?ce.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{g=g.insert(b,E)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,g,y,tt())).next(b=>({batchId:h,changes:P1(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(a=>{let o=fc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let u=fc();return this.indexManager.getCollectionParents(e,l).next(h=>ce.forEach(h,g=>{const y=function(w,E){return new Bc(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(b=>{b.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o))).next(u=>{l.forEach((g,y)=>{const b=y.getKey();u.get(b)===null&&(u=u.insert(b,An.newInvalidDocument(b)))});let h=fc();return u.forEach((g,y)=>{const b=l.get(g);b!==void 0&&bc(b.mutation,y,tr.empty(),St.now()),Ad(t,y)&&(h=h.insert(g,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:Vk(o.bundledQuery),readTime:ei(o.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.overlays=new Ot(Ae.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const a=ws();return ce.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&a.set(o,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,l)=>{this.St(e,t,l)}),ce.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(a)),ce.resolve()}getOverlaysForCollection(e,t,a){const o=ws(),l=t.length+1,u=new Ae(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new Ot((y,b)=>y-b);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>a){let b=l.get(y.largestBatchId);b===null&&(b=ws(),l=l.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const h=ws(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,b)=>h.set(y,b)),!(h.size()>=o)););return ce.resolve(h)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new hk(t,a));let l=this.qr.get(t);l===void 0&&(l=tt(),this.qr.set(t,l)),this.qr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.Qr=new nn(fn.$r),this.Ur=new nn(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const a=new fn(e,t);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Gr(new fn(e,t))}zr(e,t){e.forEach(a=>this.removeReference(a,t))}jr(e){const t=new Ae(new At([])),a=new fn(t,e),o=new fn(t,e+1),l=[];return this.Ur.forEachInRange([a,o],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new At([])),a=new fn(t,e),o=new fn(t,e+1);let l=tt();return this.Ur.forEachInRange([a,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new fn(e,0),a=this.Qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class fn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||et(e.Yr,t.Yr)}static Kr(e,t){return et(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nn(fn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new dk(l,t,a,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new fn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.ei(a),l=o<0?0:o;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Zp:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new fn(t,0),o=new fn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([a,o],u=>{const h=this.Xr(u.Yr);l.push(h)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new nn(et);return t.forEach(o=>{const l=new fn(o,0),u=new fn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],h=>{a=a.add(h.Yr)})}),ce.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;Ae.isDocumentKey(l)||(l=l.child(""));const u=new fn(new Ae(l),0);let h=new nn(et);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(h=h.add(g.Yr)),!0)},u),ce.resolve(this.ti(h))}ti(e){const t=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ht(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ce.forEach(t.mutations,o=>{const l=new fn(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,t){const a=new fn(t,0),o=this.Zr.firstAfterOrEqual(a);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.ri=e,this.docs=function(){return new Ot(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ce.resolve(a?a.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let a=Bi();return t.forEach(o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():An.newInvalidDocument(o))}),ce.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=Bi();const u=t.path,h=new Ae(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||CR(NR(b),a)<=0||(o.has(b.key)||Ad(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,a,o){je(9500)}ii(e,t){return ce.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Zk(this)}getSize(e){return ce.resolve(this.size)}}class Zk extends Gk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.persistence=e,this.si=new Ds(t=>ng(t),rg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,t){return this.si.forEach((a,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.si.forEach((u,h)=>{h.sequenceNumber<=t&&a.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ce.waitFor(l).next(()=>o)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const a=this.si.get(t)||null;return ce.resolve(a)}addMatchingKeys(e,t,a){return this._i.Wr(t,a),ce.resolve()}removeMatchingKeys(e,t,a){this._i.zr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const a=this._i.Hr(t);return ce.resolve(a)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.ui={},this.overlays={},this.ci=new _d(0),this.li=!1,this.li=!0,this.hi=new Qk,this.referenceDelegate=e(this),this.Pi=new eI(this),this.indexManager=new Pk,this.remoteDocumentCache=function(o){return new Jk(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new Lk(t),this.Ii=new Yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ui[e.toKey()];return a||(a=new Wk(t,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,a){xe("MemoryPersistence","Starting transaction:",e);const o=new tI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return ce.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,t)))}}class tI extends kR{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ri=new ug,this.Vi=null}static mi(e){return new fg(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.fi.delete(a.toString()),ce.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.fi.add(a.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,a=>{const o=Ae.fromPath(a);return this.gi(e,o).next(l=>{l||t.removeEntry(o,Ue.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(a=>{a?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class cd{constructor(e,t){this.persistence=e,this.pi=new Ds(a=>OR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Hk(this,t)}static mi(e,t){return new cd(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}wr(e){let t=0;return this.pr(e,a=>{t++}).next(()=>t)}pr(e,t){return ce.forEach(this.pi,(a,o)=>this.br(e,a,o).next(l=>l?ce.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(h=>{h||(a++,l.removeEntry(u,Ue.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uf(e.data.value)),t}br(e,t,a){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ce.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Es=a,this.ds=o}static As(e,t){let a=tt(),o=tt();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new dg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return OA()?8:IR(Sn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.ys(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,t,o,a).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new nI;return this.Ss(e,t,u).next(h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)})}).next(()=>l.result)}bs(e,t,a,o){return a.documentReadCount<this.fs?(So()<=Ze.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(So()<=Ze.DEBUG&&xe("QueryEngine","Query:",No(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(So()<=Ze.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):ce.resolve())}ys(e,t){if(sv(t))return ce.resolve(null);let a=Jr(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=bp(t,null,"F"),a=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const u=tt(...l);return this.ps.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,a).next(g=>{const y=this.Ds(t,h);return this.Cs(t,y,u,g.readTime)?this.ys(e,bp(t,null,"F")):this.vs(e,y,t,g)}))})))}ws(e,t,a,o){return sv(t)||o.isEqual(Ue.min())?ce.resolve(null):this.ps.getDocuments(e,a).next(l=>{const u=this.Ds(t,l);return this.Cs(t,u,a,o)?ce.resolve(null):(So()<=Ze.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(t)),this.vs(e,u,t,SR(o,Ec)).next(h=>h))})}Ds(e,t){let a=new nn(L1(e));return t.forEach((o,l)=>{Ad(e,l)&&(a=a.add(l))}),a}Cs(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,a){return So()<=Ze.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",No(t)),this.ps.getDocumentsMatchingQuery(e,t,Ma.min(),a)}vs(e,t,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="LocalStore",iI=3e8;class aI{constructor(e,t,a,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Ot(et),this.xs=new Ds(l=>ng(l),rg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function sI(r,e,t,a){return new aI(r,e,t,a)}async function ow(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const u=[],h=[];let g=tt();for(const y of o){u.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of l){h.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(a,g).next(y=>({Ls:y,removedBatchIds:u,addedBatchIds:h}))})})}function oI(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(h,g,y,b){const w=y.batch,E=w.keys();let k=ce.resolve();return E.forEach(P=>{k=k.next(()=>b.getEntry(g,P)).next(V=>{const D=y.docVersions.get(P);ht(D!==null,48541),V.version.compareTo(D)<0&&(w.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),b.addEntry(V)))})}),k.next(()=>h.mutationQueue.removeMutationBatch(g,w))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(h){let g=tt();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(g=g.add(h.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function lw(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function lI(r,e){const t=Be(r),a=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach((b,w)=>{const E=o.get(w);if(!E)return;h.push(t.Pi.removeMatchingKeys(l,b.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(l,b.addedDocuments,w)));let k=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(bn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,a)),o=o.insert(w,k),function(V,D,B){return V.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=iI?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(E,k,b)&&h.push(t.Pi.updateTargetData(l,k))});let g=Bi(),y=tt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))}),h.push(cI(l,u,e.documentUpdates).next(b=>{g=b.ks,y=b.qs})),!a.isEqual(Ue.min())){const b=t.Pi.getLastRemoteSnapshotVersion(l).next(w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,a));h.push(b)}return ce.waitFor(h).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(t.Ms=o,l))}function cI(r,e,t){let a=tt(),o=tt();return t.forEach(l=>a=a.add(l)),e.getEntries(r,a).next(l=>{let u=Bi();return t.forEach((h,g)=>{const y=l.get(h);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(h)),g.isNoDocument()&&g.version.isEqual(Ue.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):xe(hg,"Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",g.version)}),{ks:u,qs:o}})}function uI(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Zp),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function fI(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.Pi.getTargetData(a,e).next(l=>l?(o=l,ce.resolve(o)):t.Pi.allocateTargetId(a).next(u=>(o=new Sa(e,u,"TargetPurposeListen",a.currentSequenceNumber),t.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(a.targetId,a),t.xs.set(e,a.targetId)),a})}async function Tp(r,e,t){const a=Be(r),o=a.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,u=>a.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Zo(u))throw u;xe(hg,`Failed to update sequence numbers for target ${e}: ${u}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function bv(r,e,t){const a=Be(r);let o=Ue.min(),l=tt();return a.persistence.runTransaction("Execute query","readwrite",u=>function(g,y,b){const w=Be(g),E=w.xs.get(b);return E!==void 0?ce.resolve(w.Ms.get(E)):w.Pi.getTargetData(y,b)}(a,u,Jr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(u,h.targetId).next(g=>{l=g})}).next(()=>a.Fs.getDocumentsMatchingQuery(u,e,t?o:Ue.min(),t?l:tt())).next(h=>(dI(a,JR(e),h),{documents:h,Qs:l})))}function dI(r,e,t){let a=r.Os.get(e)||Ue.min();t.forEach((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),r.Os.set(e,a)}class vv{constructor(){this.activeTargetIds=ik()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hI{constructor(){this.Mo=new vv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,a){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vv,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="ConnectivityMonitor";class wv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(_v,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(_v,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=null;function Ap(){return Tf===null?Tf=function(){return 268435456+Math.round(2147483648*Math.random())}():Tf++,"0x"+Tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="RestConnection",pI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===id?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,t,a,o,l){const u=Ap(),h=this.zo(e,t.toUriEncodedString());xe(Qm,`Sending RPC '${e}' ${u}:`,h,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:y}=new URL(h),b=Yo(y);return this.Jo(e,h,g,a,b).then(w=>(xe(Qm,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Po(Qm,`RPC '${e}' ${u} failed with error: `,w,"url: ",h,"request:",a),w})}Ho(e,t,a,o,l,u){return this.Go(e,t,a,o,l)}jo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),a&&a.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const a=pI[e];return`${this.Uo}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class xI extends gI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,o,l){const u=Ap();return new Promise((h,g)=>{const y=new c1;y.setWithCredentials(!0),y.listenOnce(u1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Pf.NO_ERROR:const w=y.getResponseJson();xe(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Pf.TIMEOUT:xe(En,`RPC '${e}' ${u} timed out`),g(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const E=y.getStatus();if(xe(En,`RPC '${e}' ${u} failed with status:`,E,"response text:",y.getResponseText()),E>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const P=k?.error;if(P&&P.status&&P.message){const V=function(B){const F=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN}(P.status);g(new ye(V,P.message))}else g(new ye(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ye(se.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{xe(En,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(o);xe(En,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",b,a,15)})}T_(e,t,a){const o=Ap(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=h1(),h=d1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,a),g.encodeInitMessageHeaders=!0;const b=l.join("");xe(En,`Creating RPC '${e}' stream ${o}: ${b}`,g);const w=u.createWebChannel(b,g);this.I_(w);let E=!1,k=!1;const P=new yI({Yo:D=>{k?xe(En,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(E||(xe(En,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),xe(En,`RPC '${e}' stream ${o} sending:`,D),w.send(D))},Zo:()=>w.close()}),V=(D,B,F)=>{D.listen(B,G=>{try{F(G)}catch(re){setTimeout(()=>{throw re},0)}})};return V(w,uc.EventType.OPEN,()=>{k||(xe(En,`RPC '${e}' stream ${o} transport opened.`),P.o_())}),V(w,uc.EventType.CLOSE,()=>{k||(k=!0,xe(En,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(w))}),V(w,uc.EventType.ERROR,D=>{k||(k=!0,Po(En,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),P.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),V(w,uc.EventType.MESSAGE,D=>{if(!k){const B=D.data[0];ht(!!B,16349);const F=B,G=F?.error||F[0]?.error;if(G){xe(En,`RPC '${e}' stream ${o} received error:`,G);const re=G.status;let ne=function(S){const C=Yt[S];if(C!==void 0)return K1(C)}(re),le=G.message;ne===void 0&&(ne=se.INTERNAL,le="Unknown error status: "+re+" with message "+G.message),k=!0,P.a_(new ye(ne,le)),w.close()}else xe(En,`RPC '${e}' stream ${o} received:`,B),P.u_(B)}}),V(h,f1.STAT_EVENT,D=>{D.stat===dp.PROXY?xe(En,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===dp.NOPROXY&&xe(En,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r){return new wk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,a=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=a,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-a);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="PersistentStream";class uw{constructor(e,t,a,o,l,u,h,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===t&&this.G_(a,o)},a=>{e(()=>{const o=new ye(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,t){const a=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return xe(Ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(xe(Ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bI extends uw{constructor(e,t,a,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Ak(this.serializer,e),a=function(l){if(!("targetChange"in l))return Ue.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?ei(u.readTime):Ue.min()}(e);return this.listener.H_(t,a)}Y_(e){const t={};t.database=Ep(this.serializer),t.addTarget=function(l,u){let h;const g=u.target;if(h=yp(g)?{documents:Ck(l,g)}:{query:Rk(l,g).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=J1(l,u.resumeToken);const y=vp(l,u.expectedCount);y!==null&&(h.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ue.min())>0){h.readTime=ld(l,u.snapshotVersion.toTimestamp());const y=vp(l,u.expectedCount);y!==null&&(h.expectedCount=y)}return h}(this.serializer,e);const a=Ik(this.serializer,e);a&&(t.labels=a),this.q_(t)}Z_(e){const t={};t.database=Ep(this.serializer),t.removeTarget=e,this.q_(t)}}class vI extends uw{constructor(e,t,a,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Nk(e.writeResults,e.commitTime),a=ei(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=Ep(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Sk(this.serializer,a))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class wI extends _I{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,_p(t,a),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())})}Ho(e,t,a,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ho(e,_p(t,a),o,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class EI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class TI{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{a.enqueueAndForget(async()=>{Os(this)&&(xe(ks,"Restarting streams for network reachability change."),await async function(g){const y=Be(g);y.Ea.add(4),await Hc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kd(y)}(this))})}),this.Ra=new EI(a,o)}}async function kd(r){if(Os(r))for(const e of r.da)await e(!0)}async function Hc(r){for(const e of r.da)await e(!1)}function fw(r,e){const t=Be(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),yg(t)?gg(t):el(t).O_()&&pg(t,e))}function mg(r,e){const t=Be(r),a=el(t);t.Ia.delete(e),a.O_()&&dw(t,e),t.Ia.size===0&&(a.O_()?a.L_():Os(t)&&t.Ra.set("Unknown"))}function pg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(r).Y_(e)}function dw(r,e){r.Va.Ue(e),el(r).Z_(e)}function gg(r){r.Va=new xk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),el(r).start(),r.Ra.ua()}function yg(r){return Os(r)&&!el(r).x_()&&r.Ia.size>0}function Os(r){return Be(r).Ea.size===0}function hw(r){r.Va=void 0}async function AI(r){r.Ra.set("Online")}async function SI(r){r.Ia.forEach((e,t)=>{pg(r,e)})}async function NI(r,e){hw(r),yg(r)?(r.Ra.ha(e),gg(r)):r.Ra.set("Unknown")}async function CI(r,e,t){if(r.Ra.set("Online"),e instanceof W1&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const h of l.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))}(r,e)}catch(a){xe(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ud(r,a)}else if(e instanceof Ff?r.Va.Ze(e):e instanceof Q1?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ue.min()))try{const a=await lw(r.localStore);t.compareTo(a)>=0&&await function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=l.Ia.get(y);b&&l.Ia.set(y,b.withResumeToken(g.resumeToken,u))}}),h.targetMismatches.forEach((g,y)=>{const b=l.Ia.get(g);if(!b)return;l.Ia.set(g,b.withResumeToken(bn.EMPTY_BYTE_STRING,b.snapshotVersion)),dw(l,g);const w=new Sa(b.target,g,y,b.sequenceNumber);pg(l,w)}),l.remoteSyncer.applyRemoteEvent(h)}(r,t)}catch(a){xe(ks,"Failed to raise snapshot:",a),await ud(r,a)}}async function ud(r,e,t){if(!Zo(e))throw e;r.Ea.add(1),await Hc(r),r.Ra.set("Offline"),t||(t=()=>lw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{xe(ks,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await kd(r)})}function mw(r,e){return e().catch(t=>ud(r,t,e))}async function Id(r){const e=Be(r),t=Ua(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zp;for(;RI(e);)try{const o=await uI(e.localStore,a);if(o===null){e.Ta.length===0&&t.L_();break}a=o.batchId,kI(e,o)}catch(o){await ud(e,o)}pw(e)&&gw(e)}function RI(r){return Os(r)&&r.Ta.length<10}function kI(r,e){r.Ta.push(e);const t=Ua(r);t.O_()&&t.X_&&t.ea(e.mutations)}function pw(r){return Os(r)&&!Ua(r).x_()&&r.Ta.length>0}function gw(r){Ua(r).start()}async function II(r){Ua(r).ra()}async function DI(r){const e=Ua(r);for(const t of r.Ta)e.ea(t.mutations)}async function OI(r,e,t){const a=r.Ta.shift(),o=og.from(a,e,t);await mw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Id(r)}async function jI(r,e){e&&Ua(r).X_&&await async function(a,o){if(function(u){return pk(u)&&u!==se.ABORTED}(o.code)){const l=a.Ta.shift();Ua(a).B_(),await mw(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Id(a)}}(r,e),pw(r)&&gw(r)}async function Tv(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),xe(ks,"RemoteStore received new credentials");const a=Os(t);t.Ea.add(3),await Hc(t),a&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kd(t)}async function MI(r,e){const t=Be(r);e?(t.Ea.delete(2),await kd(t)):e||(t.Ea.add(2),await Hc(t),t.Ra.set("Unknown"))}function el(r){return r.ma||(r.ma=function(t,a,o){const l=Be(t);return l.sa(),new bI(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Xo:AI.bind(null,r),t_:SI.bind(null,r),r_:NI.bind(null,r),H_:CI.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),yg(r)?gg(r):r.Ra.set("Unknown")):(await r.ma.stop(),hw(r))})),r.ma}function Ua(r){return r.fa||(r.fa=function(t,a,o){const l=Be(t);return l.sa(),new vI(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:II.bind(null,r),r_:jI.bind(null,r),ta:DI.bind(null,r),na:OI.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Id(r)):(await r.fa.stop(),r.Ta.length>0&&(xe(ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const u=Date.now()+a,h=new xg(e,t,u,o,l);return h.start(a),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),Zo(r))return new ye(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Ae.comparator(t.key,a.key):(t,a)=>Ae.comparator(t.key,a.key),this.keyedMap=fc(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new jo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.ga=new Ot(Ae.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,a)=>{e.push(a)}),e}}class Ho{constructor(e,t,a,o,l,u,h,g,y){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,a,o,l){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Ho(e,t,jo.emptySet(t),u,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class VI{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=Be(t),l=o.queries;o.queries=Sv(),l.forEach((u,h)=>{for(const g of h.Sa)g.onError(a)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function Sv(){return new Ds(r=>M1(r),Td)}async function yw(r,e){const t=Be(r);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(a=2):(l=new LI,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=bg(u,`Initialization of query '${No(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&vg(t)}async function xw(r,e){const t=Be(r),a=e.query;let o=3;const l=t.queries.get(a);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function PI(r,e){const t=Be(r);let a=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(o)&&(a=!0);u.wa=o}}a&&vg(t)}function UI(r,e,t){const a=Be(r),o=a.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);a.queries.delete(e)}function vg(r){r.Ca.forEach(e=>{e.next()})}var Sp,Nv;(Nv=Sp||(Sp={})).Ma="default",Nv.Cache="cache";class bw{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ho(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.key=e}}class _w{constructor(e){this.key=e}}class zI{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=L1(e),this.tu=new jo(this.eu)}get nu(){return this.Ya}ru(e,t){const a=t?t.iu:new Av,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,w)=>{const E=o.get(b),k=Ad(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),V=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let D=!1;E&&k?E.data.isEqual(k.data)?P!==V&&(a.track({type:3,doc:k}),D=!0):this.su(E,k)||(a.track({type:2,doc:k}),D=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(h=!0)):!E&&k?(a.track({type:0,doc:k}),D=!0):E&&!k&&(a.track({type:1,doc:E}),D=!0,(g||y)&&(h=!0)),D&&(k?(u=u.add(k),l=V?l.add(b):l.delete(b)):(u=u.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const b=this.query.limitType==="F"?u.last():u.first();u=u.delete(b.key),l=l.delete(b.key),a.track({type:1,doc:b})}return{tu:u,iu:a,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((b,w)=>function(k,P){const V=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:D})}};return V(k)-V(P)}(b.type,w.type)||this.eu(b.doc,w.doc)),this.ou(a),o=o??!1;const h=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,u.length!==0||y?{snapshot:new Ho(this.query,e.tu,l,u,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const t=[];return e.forEach(a=>{this.Xa.has(a)||t.push(new _w(a))}),this.Xa.forEach(a=>{e.has(a)||t.push(new vw(a))}),t}cu(e){this.Ya=e.Qs,this.Xa=tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _g="SyncEngine";class BI{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class FI{constructor(e){this.key=e,this.hu=!1}}class qI{constructor(e,t,a,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ds(h=>M1(h),Td),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ae.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HI(r,e,t=!0){const a=Nw(r);let o;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await ww(a,e,t,!0),o}async function GI(r,e){const t=Nw(r);await ww(t,e,!0,!1)}async function ww(r,e,t,a){const o=await fI(r.localStore,Jr(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let h;return a&&(h=await $I(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&fw(r.remoteStore,o),h}async function $I(r,e,t,a,o){r.pu=(w,E,k)=>async function(V,D,B,F){let G=D.view.ru(B);G.Cs&&(G=await bv(V.localStore,D.query,!1).then(({documents:N})=>D.view.ru(N,G)));const re=F&&F.targetChanges.get(D.targetId),ne=F&&F.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(G,V.isPrimaryClient,re,ne);return Rv(V,D.targetId,le.au),le.snapshot}(r,w,E,k);const l=await bv(r.localStore,e,!0),u=new zI(e,l.Qs),h=u.ru(l.documents),g=qc.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),y=u.applyChanges(h,r.isPrimaryClient,g);Rv(r,t,y.au);const b=new BI(e,t,u);return r.Tu.set(e,b),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),y.snapshot}async function XI(r,e,t){const a=Be(r),o=a.Tu.get(e),l=a.Iu.get(o.targetId);if(l.length>1)return a.Iu.set(o.targetId,l.filter(u=>!Td(u,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&mg(a.remoteStore,o.targetId),Np(a,o.targetId)}).catch(Jo)):(Np(a,o.targetId),await Tp(a.localStore,o.targetId,!0))}async function YI(r,e){const t=Be(r),a=t.Tu.get(e),o=t.Iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),mg(t.remoteStore,a.targetId))}async function KI(r,e,t){const a=n6(r);try{const o=await function(u,h){const g=Be(u),y=St.now(),b=h.reduce((k,P)=>k.add(P.key),tt());let w,E;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let P=Bi(),V=tt();return g.Ns.getEntries(k,b).next(D=>{P=D,P.forEach((B,F)=>{F.isValidDocument()||(V=V.add(B))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,P)).next(D=>{w=D;const B=[];for(const F of h){const G=uk(F,w.get(F.key).overlayedDocument);G!=null&&B.push(new Ha(F.key,G,N1(G.value.mapValue),Zr.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,B,h)}).next(D=>{E=D;const B=D.applyToLocalDocumentSet(w,V);return g.documentOverlayCache.saveOverlays(k,D.batchId,B)})}).then(()=>({batchId:E.batchId,changes:P1(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(u,h,g){let y=u.Vu[u.currentUser.toKey()];y||(y=new Ot(et)),y=y.insert(h,g),u.Vu[u.currentUser.toKey()]=y}(a,o.batchId,t),await Gc(a,o.changes),await Id(a.remoteStore)}catch(o){const l=bg(o,"Failed to persist write");t.reject(l)}}async function Ew(r,e){const t=Be(r);try{const a=await lI(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.Au.get(l);u&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ht(u.hu,14607):o.removedDocuments.size>0&&(ht(u.hu,42227),u.hu=!1))}),await Gc(t,a,e)}catch(a){await Jo(a)}}function Cv(r,e,t){const a=Be(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Tu.forEach((l,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const g=Be(u);g.onlineState=h;let y=!1;g.queries.forEach((b,w)=>{for(const E of w.Sa)E.va(h)&&(y=!0)}),y&&vg(g)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function QI(r,e,t){const a=Be(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Au.get(e),l=o&&o.key;if(l){let u=new Ot(Ae.comparator);u=u.insert(l,An.newNoDocument(l,Ue.min()));const h=tt().add(l),g=new Cd(Ue.min(),new Map,new Ot(et),u,h);await Ew(a,g),a.du=a.du.remove(l),a.Au.delete(e),wg(a)}else await Tp(a.localStore,e,!1).then(()=>Np(a,e,t)).catch(Jo)}async function WI(r,e){const t=Be(r),a=e.batch.batchId;try{const o=await oI(t.localStore,e);Aw(t,a,null),Tw(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Gc(t,o)}catch(o){await Jo(o)}}async function JI(r,e,t){const a=Be(r);try{const o=await function(u,h){const g=Be(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return g.mutationQueue.lookupMutationBatch(y,h).next(w=>(ht(w!==null,37113),b=w.keys(),g.mutationQueue.removeMutationBatch(y,w))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,h)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>g.localDocuments.getDocuments(y,b))})}(a.localStore,e);Aw(a,e,t),Tw(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Gc(a,o)}catch(o){await Jo(o)}}function Tw(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function Aw(r,e,t){const a=Be(r);let o=a.Vu[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Np(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),t&&r.Pu.yu(a,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(a=>{r.Ru.containsKey(a)||Sw(r,a)})}function Sw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(mg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),wg(r))}function Rv(r,e,t){for(const a of t)a instanceof vw?(r.Ru.addReference(a.key,e),ZI(r,a)):a instanceof _w?(xe(_g,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Sw(r,a.key)):je(19791,{wu:a})}function ZI(r,e){const t=e.key,a=t.path.canonicalString();r.du.get(t)||r.Eu.has(a)||(xe(_g,"New document in limbo: "+t),r.Eu.add(a),wg(r))}function wg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ae(At.fromString(e)),a=r.fu.next();r.Au.set(a,new FI(t)),r.du=r.du.insert(t,a),fw(r.remoteStore,new Sa(Jr(ig(t.path)),a,"TargetPurposeLimboResolution",_d.ce))}}async function Gc(r,e,t){const a=Be(r),o=[],l=[],u=[];a.Tu.isEmpty()||(a.Tu.forEach((h,g)=>{u.push(a.pu(g,e,t).then(y=>{if((y||t)&&a.isPrimaryClient){const b=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=dg.As(g.targetId,y);l.push(b)}}))}),await Promise.all(u),a.Pu.H_(o),await async function(g,y){const b=Be(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ce.forEach(y,E=>ce.forEach(E.Es,k=>b.persistence.referenceDelegate.addReference(w,E.targetId,k)).next(()=>ce.forEach(E.ds,k=>b.persistence.referenceDelegate.removeReference(w,E.targetId,k)))))}catch(w){if(!Zo(w))throw w;xe(hg,"Failed to update sequence numbers: "+w)}for(const w of y){const E=w.targetId;if(!w.fromCache){const k=b.Ms.get(E),P=k.snapshotVersion,V=k.withLastLimboFreeSnapshotVersion(P);b.Ms=b.Ms.insert(E,V)}}}(a.localStore,l))}async function e6(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){xe(_g,"User change. New user:",e.toKey());const a=await ow(t.localStore,e);t.currentUser=e,function(l,u){l.mu.forEach(h=>{h.forEach(g=>{g.reject(new ye(se.CANCELLED,u))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Gc(t,a.Ls)}}function t6(r,e){const t=Be(r),a=t.Au.get(e);if(a&&a.hu)return tt().add(a.key);{let o=tt();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const h=t.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function Nw(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QI.bind(null,e),e.Pu.H_=PI.bind(null,e.eventManager),e.Pu.yu=UI.bind(null,e.eventManager),e}function n6(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sI(this.persistence,new rI,e.initialUser,this.serializer)}Cu(e){return new sw(fg.mi,this.serializer)}Du(e){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class r6 extends fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof cd,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Fk(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new sw(a=>cd.mi(a,t),this.serializer)}}class Cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Cv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=e6.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VI}()}createDatastore(e){const t=Rd(e.databaseInfo.databaseId),a=function(l){return new xI(l)}(e.databaseInfo);return function(l,u,h,g){return new wI(l,u,h,g)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,l,u,h){return new TI(a,o,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Cv(this.syncEngine,t,0),function(){return wv.v()?new wv:new mI}())}createSyncEngine(e,t){return function(o,l,u,h,g,y,b){const w=new qI(o,l,u,h,g,y);return b&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const a=Be(t);xe(ks,"RemoteStore shutting down."),a.Ea.add(5),await Hc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class i6{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=Tn.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async u=>{xe(za,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(a,u=>(xe(za,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=bg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Jm(r,e){r.asyncQueue.verifyOperationInProgress(),xe(za,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await ow(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function kv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await a6(r);xe(za,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>Tv(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>Tv(e.remoteStore,o)),r._onlineComponents=e}async function a6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){xe(za,"Using user provided OfflineComponentProvider");try{await Jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Po("Error using user provided cache. Falling back to memory cache: "+t),await Jm(r,new fd)}}else xe(za,"Using default OfflineComponentProvider"),await Jm(r,new r6(void 0));return r._offlineComponents}async function Rw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(xe(za,"Using user provided OnlineComponentProvider"),await kv(r,r._uninitializedComponentsProvider._online)):(xe(za,"Using default OnlineComponentProvider"),await kv(r,new Cp))),r._onlineComponents}function s6(r){return Rw(r).then(e=>e.syncEngine)}async function kw(r){const e=await Rw(r),t=e.eventManager;return t.onListen=HI.bind(null,e.syncEngine),t.onUnlisten=XI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YI.bind(null,e.syncEngine),t}function o6(r,e,t={}){const a=new Mi;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,h,g,y){const b=new Cw({next:E=>{b.Nu(),u.enqueueAndForget(()=>xw(l,w));const k=E.docs.has(h);!k&&E.fromCache?y.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&E.fromCache&&g&&g.source==="server"?y.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new bw(ig(h.path),b,{includeMetadataChanges:!0,qa:!0});return yw(l,w)}(await kw(r),r.asyncQueue,e,t,a)),a.promise}function l6(r,e,t={}){const a=new Mi;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,h,g,y){const b=new Cw({next:E=>{b.Nu(),u.enqueueAndForget(()=>xw(l,w)),E.fromCache&&g.source==="server"?y.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new bw(h,b,{includeMetadataChanges:!0,qa:!0});return yw(l,w)}(await kw(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firestore.googleapis.com",Dv=!0;class Ov{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dw,this.ssl=Dv}else this.host=e.host,this.ssl=e.ssl??Dv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zk)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iw(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new pR;switch(a.type){case"firstParty":return new bR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=Iv.get(t);a&&(xe("ComponentProvider","Removing Datastore"),Iv.delete(t),a.terminate())}(this),Promise.resolve()}}function c6(r,e,t,a={}){r=zi(r,Dd);const o=Yo(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},h=`${e}:${t}`;o&&(v_(`https://${h}`),__("Firestore",!0)),l.host!==Dw&&l.host!==h&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:h,ssl:o,emulatorOptions:a};if(!ja(g,u)&&(r._setSettings(g),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=Tn.MOCK_USER;else{y=TA(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Tn(w)}r._authCredentials=new gR(new p1(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new tl(this.firestore,e,this._query)}}class qt{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(zc(t,qt._jsonSchema))return new qt(e,a||null,new Ae(At.fromString(t.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Qt("string",qt._jsonSchemaVersion),referencePath:Qt("string")};class Oa extends tl{constructor(e,t,a){super(e,t,ig(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Ae(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function Ow(r,e,...t){if(r=rn(r),g1("collection","path",e),r instanceof Dd){const a=At.fromString(e,...t);return $b(a),new Oa(r,null,a)}{if(!(r instanceof qt||r instanceof Oa))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...t));return $b(a),new Oa(r.firestore,null,a)}}function Mn(r,e,...t){if(r=rn(r),arguments.length===1&&(e=Jp.newId()),g1("doc","path",e),r instanceof Dd){const a=At.fromString(e,...t);return Gb(a),new qt(r,null,new Ae(a))}{if(!(r instanceof qt||r instanceof Oa))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...t));return Gb(a),new qt(r.firestore,r instanceof Oa?r.converter:null,new Ae(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class Mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cw(this,"async_queue_retry"),this._c=()=>{const a=Wm();a&&xe(jv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=Wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;xe(jv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",Lv(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=xg.createAndSchedule(this,e,t,a,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&je(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Lv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class $c extends Dd{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new Mv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mv(e),this._firestoreClient=void 0,await e}}}function u6(r,e){const t=typeof r=="object"?r:A_(),a=typeof r=="string"?r:id,o=Fp(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=wA("firestore");l&&c6(o,...l)}return o}function Eg(r){if(r._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||f6(r),r._firestoreClient}function f6(r){const e=r._freezeSettings(),t=function(o,l,u,h){return new LR(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Iw(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new i6(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(bn.fromBase64String(e))}catch(t){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:Qt("string",gr._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(zc(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:Qt("string",ti._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ni(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Qt("string",ni._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=/^__.*__$/;class h6{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}class jw{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:r})}}class jd{constructor(e,t,a,o,l,u){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.gc(e),a}yc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Mw(this.Ac)&&d6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m6{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Rd(e)}Cc(e,t,a,o=!1){return new jd({Ac:e,methodName:t,Dc:a,path:xn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tg(r){const e=r._freezeSettings(),t=Rd(r._databaseId);return new m6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function p6(r,e,t,a,o,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);Cg("Data must be an object, but it was:",u,a);const h=Lw(a,u);let g,y;if(l.merge)g=new tr(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const b=[];for(const w of l.mergeFields){const E=Rp(e,w,t);if(!u.contains(E))throw new ye(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Pw(b,E)||b.push(E)}g=new tr(b),y=u.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,y=u.fieldTransforms;return new h6(new zn(h),g,y)}class Xc extends nl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function g6(r,e,t){return new jd({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ag extends nl{_toFieldTransform(e){return new sg(e.path,new Nc)}isEqual(e){return e instanceof Ag}}class Sg extends nl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=g6(this,e,!0),a=this.vc.map(l=>rl(l,t)),o=new Fo(a);return new sg(e.path,o)}isEqual(e){return e instanceof Sg&&ja(this.vc,e.vc)}}class Ng extends nl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Rc(e.serializer,B1(e.serializer,this.Fc));return new sg(e.path,t)}isEqual(e){return e instanceof Ng&&this.Fc===e.Fc}}function y6(r,e,t,a){const o=r.Cc(1,e,t);Cg("Data must be an object, but it was:",o,a);const l=[],u=zn.empty();qa(a,(g,y)=>{const b=Rg(e,g,t);y=rn(y);const w=o.yc(b);if(y instanceof Xc)l.push(b);else{const E=rl(y,w);E!=null&&(l.push(b),u.set(b,E))}});const h=new tr(l);return new jw(u,h,o.fieldTransforms)}function x6(r,e,t,a,o,l){const u=r.Cc(1,e,t),h=[Rp(e,a,t)],g=[o];if(l.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(Rp(e,l[E])),g.push(l[E+1]);const y=[],b=zn.empty();for(let E=h.length-1;E>=0;--E)if(!Pw(y,h[E])){const k=h[E];let P=g[E];P=rn(P);const V=u.yc(k);if(P instanceof Xc)y.push(k);else{const D=rl(P,V);D!=null&&(y.push(k),b.set(k,D))}}const w=new tr(y);return new jw(b,w,u.fieldTransforms)}function b6(r,e,t,a=!1){return rl(t,r.Cc(a?4:3,e))}function rl(r,e){if(Vw(r=rn(r)))return Cg("Unsupported field value:",e,r),Lw(r,e);if(r instanceof nl)return function(a,o){if(!Mw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const l=[];let u=0;for(const h of a){let g=rl(h,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}}(r,e)}return function(a,o){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return B1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=St.fromDate(a);return{timestampValue:ld(o.serializer,l)}}if(a instanceof St){const l=new St(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ld(o.serializer,l)}}if(a instanceof ti)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gr)return{bytesValue:J1(o.serializer,a._byteString)};if(a instanceof qt){const l=o.databaseId,u=a.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ni)return function(u,h){return{mapValue:{fields:{[A1]:{stringValue:S1},[ad]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw h.Sc("VectorValues must only contain numeric values.");return ag(h.serializer,y)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${vd(a)}`)}(r,e)}function Lw(r,e){const t={};return b1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(r,(a,o)=>{const l=rl(o,e.mc(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function Vw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof St||r instanceof ti||r instanceof gr||r instanceof qt||r instanceof nl||r instanceof ni)}function Cg(r,e,t){if(!Vw(t)||!y1(t)){const a=vd(t);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Rp(r,e,t){if((e=rn(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Rg(r,e);throw dd("Field path arguments must be of type string or ",r,!1,void 0,t)}const v6=new RegExp("[~\\*/\\[\\]]");function Rg(r,e,t){if(e.search(v6)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Od(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function dd(r,e,t,a,o){const l=a&&!a.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${a}`),u&&(g+=` in document ${o}`),g+=")"),new ye(se.INVALID_ARGUMENT,h+r+g)}function Pw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _6 extends Uw{data(){return super.data()}}function kg(r,e){return typeof e=="string"?Rg(r,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class E6 extends Ig{}function zw(r,e,...t){let a=[];e instanceof Ig&&a.push(e),a=a.concat(t),function(l){const u=l.filter(g=>g instanceof Dg).length,h=l.filter(g=>g instanceof Md).length;if(u>1||u>0&&h>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Md extends E6{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Md(e,t,a)}_apply(e){const t=this._parse(e);return Fw(e._query,t),new tl(e.firestore,e.converter,xp(e._query,t))}_parse(e){const t=Tg(e.firestore);return function(l,u,h,g,y,b,w){let E;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Pv(w,b);const P=[];for(const V of w)P.push(Vv(g,l,V));E={arrayValue:{values:P}}}else E=Vv(g,l,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Pv(w,b),E=b6(h,u,w,b==="in"||b==="not-in");return Kt.create(y,b,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Bw(r,e,t){const a=e,o=kg("where",r);return Md._create(o,a,t)}class Dg extends Ig{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dg(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let u=o;const h=l.getFlattenedFilters();for(const g of h)Fw(u,g),u=xp(u,g)}(e._query,t),new tl(e.firestore,e.converter,xp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vv(r,e,t){if(typeof(t=rn(t))=="string"){if(t==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j1(e)&&t.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(At.fromString(t));if(!Ae.isDocumentKey(a))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ev(r,new Ae(a))}if(t instanceof qt)return ev(r,t._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(t)}.`)}function Pv(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fw(r,e){const t=function(o,l){for(const u of o)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class T6{convertValue(e,t="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return qa(e,(o,l)=>{a[o]=this.convertValue(l,t)}),a}convertVectorValue(e){const t=e.fields?.[ad].arrayValue?.values?.map(a=>Ft(a.doubleValue));return new ni(t)}convertGeoPoint(e){return new ti(Ft(e.latitude),Ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Ed(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const t=La(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=At.fromString(e);ht(iw(a),9688,{name:e});const o=new Ac(a.get(1),a.get(3)),l=new Ae(a.popFirst(5));return o.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(r,e,t){let a;return a=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,a}class hc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends Uw{constructor(e,t,a,o,l,u){super(e,t,a,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(kg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ts._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:Qt("string",Ts._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class qf extends Ts{data(e={}){return super.data(e)}}class Mo{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new hc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new qf(this._firestore,this._userDataWriter,a.key,a,new hc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const g=new qf(o._firestore,o._userDataWriter,h.doc.key,h.doc,new hc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const g=new qf(o._firestore,o._userDataWriter,h.doc.key,h.doc,new hc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return h.type!==0&&(y=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),b=u.indexOf(h.doc.key)),{type:S6(h.type),doc:g,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){r=zi(r,qt);const e=zi(r.firestore,$c);return o6(Eg(e),r._key).then(t=>N6(e,r,t))}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Qt("string",Mo._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class qw extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}}function Hw(r){r=zi(r,tl);const e=zi(r.firestore,$c),t=Eg(e),a=new qw(e);return w6(r._query),l6(t,r._query).then(o=>new Mo(e,a,r,o))}function Kc(r,e,t){r=zi(r,qt);const a=zi(r.firestore,$c),o=A6(r.converter,e,t);return Gw(a,[p6(Tg(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Zr.none())])}function Na(r,e,t,...a){r=zi(r,qt);const o=zi(r.firestore,$c),l=Tg(o);let u;return u=typeof(e=rn(e))=="string"||e instanceof Od?x6(l,"updateDoc",r._key,e,t,a):y6(l,"updateDoc",r._key,e),Gw(o,[u.toMutation(r._key,Zr.exists(!0))])}function Gw(r,e){return function(a,o){const l=new Mi;return a.asyncQueue.enqueueAndForget(async()=>KI(await s6(a),o,l)),l.promise}(Eg(r),e)}function N6(r,e,t){const a=t.docs.get(e._key),o=new qw(r);return new Ts(r,o,e._key,a,new hc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(){return new Xc("deleteField")}function il(){return new Ag("serverTimestamp")}function Hf(...r){return new Sg("arrayUnion",r)}function jn(r){return new Ng("increment",r)}(function(e,t=!0){(function(o){Wo=o})(Ko),Lo(new Ss("firestore",(a,{instanceIdentifier:o,options:l})=>{const u=a.getProvider("app").getImmediate(),h=new $c(new yR(a.getProvider("auth-internal")),new vR(u,a.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(y.options.projectId,b)}(u,o),u);return l={useFetchStreams:t,...l},h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Ia(Bb,Fb,e),Ia(Bb,Fb,"esm2020")})();const R6={apiKey:"AIzaSyDJC6o0mIkW4QVCuuJWsMAaZGu4HU7SHEE",authDomain:"pesstatszone.firebaseapp.com",projectId:"pesstatszone",storageBucket:"pesstatszone.firebasestorage.app",messagingSenderId:"1032826590191",appId:"1:1032826590191:web:787beb3a7e5f75cf9b5c1a"},$w=T_(R6),Af=fR($w),vn=u6($w);var Gf={exports:{}},k6=Gf.exports,Uv;function I6(){return Uv||(Uv=1,function(r){(function(e,t){r.exports=t(e)})(typeof Xx>"u"?typeof window>"u"?k6:window:Xx,function(e){if(typeof e>"u"&&typeof e.document>"u")return!1;var t,a,o,l,u,h=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,g='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',y={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},b={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},w={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},E={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},k={Show:"Show",Ask:"Ask",Prompt:"Prompt"},P={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},V={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},D={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},B={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},F={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},G=function(L){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+L+h)},re=function(L){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3",`
`+L+h)},ne=function(L){return L||(L="head"),e.document[L]!==void 0||(G(`
Notiflix needs to be appended to the "<`+L+'>" element, but you called it before the "<'+L+'>" element has been created.'),!1)},le=function(L,$){if(!ne("head"))return!1;if(L()!==null&&!e.document.getElementById($)){var ee=e.document.createElement("style");ee.id=$,ee.innerHTML=L(),e.document.head.appendChild(ee)}},N=function(){var L={},$=!1,ee=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&($=arguments[0],ee++);for(var be=function(Se){for(var ze in Se)Object.prototype.hasOwnProperty.call(Se,ze)&&(L[ze]=$&&Object.prototype.toString.call(Se[ze])==="[object Object]"?N(L[ze],Se[ze]):Se[ze])};ee<arguments.length;ee++)be(arguments[ee]);return L},S=function(L){var $=e.document.createElement("div");return $.innerHTML=L,$.textContent||$.innerText||""},C=function(L,$){L||(L="110px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+L+'" height="'+L+'" fill="'+$+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ee},R=function(L,$){L||(L="110px"),$||($="#ff5549");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+L+'" height="'+L+'" fill="'+$+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ee},I=function(L,$){L||(L="110px"),$||($="#eebf31");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+L+'" height="'+L+'" fill="'+$+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ee},q=function(L,$){L||(L="110px"),$||($="#26c0d3");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+L+'" height="'+L+'" fill="'+$+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ee},O=function(L,$){L||(L="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+$+'" width="'+L+'" height="'+L+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';return ee},nt=function(L,$){L||(L="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+$+'" width="'+L+'" height="'+L+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';return ee},ct=function(L,$){L||(L="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" width="'+L+'" height="'+L+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+L+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+L+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+$+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';return ee},W=function(L,$){L||(L="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" fill="'+$+'" width="'+L+'" height="'+L+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';return ee},me=function(L,$){L||(L="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" fill="'+$+'" width="'+L+'" height="'+L+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';return ee},ue=function(L,$){L||(L="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+$+'" width="'+L+'" height="'+L+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';return ee},Pe=function(L,$,ee){L||(L="60px");var be='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+L+'" height="'+L+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+$+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+ee+'" stroke="'+ee+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>';return be},M=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},te=0,de=function(L,$,ee,be){if(!ne("body"))return!1;t||Rt.Notify.init({});var Se=N(!0,t,{});if(typeof ee=="object"&&!Array.isArray(ee)||typeof be=="object"&&!Array.isArray(be)){var ze={};typeof ee=="object"?ze=ee:typeof be=="object"&&(ze=be),t=N(!0,t,ze)}var De=t[L.toLocaleLowerCase("en")];te++,typeof $!="string"&&($="Notiflix "+L),t.plainText&&($=S($)),!t.plainText&&$.length>t.messageMaxLength&&(t=N(!0,t,{closeButton:!0,messageMaxLength:150}),$='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),$.length>t.messageMaxLength&&($=$.substring(0,t.messageMaxLength)+"..."),t.fontAwesomeIconStyle==="shadow"&&(De.fontAwesomeIconColor=De.background),t.cssAnimation||(t.cssAnimationDuration=0);var ge=e.document.getElementById(b.wrapID)||e.document.createElement("div");if(ge.id=b.wrapID,ge.style.width=t.width,ge.style.zIndex=t.zindex,ge.style.opacity=t.opacity,t.position==="center-center"?(ge.style.left=t.distance,ge.style.top=t.distance,ge.style.right=t.distance,ge.style.bottom=t.distance,ge.style.margin="auto",ge.classList.add("nx-flex-center-center"),ge.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",ge.style.display="flex",ge.style.flexWrap="wrap",ge.style.flexDirection="column",ge.style.justifyContent="center",ge.style.alignItems="center",ge.style.pointerEvents="none"):t.position==="center-top"?(ge.style.left=t.distance,ge.style.right=t.distance,ge.style.top=t.distance,ge.style.bottom="auto",ge.style.margin="auto"):t.position==="center-bottom"?(ge.style.left=t.distance,ge.style.right=t.distance,ge.style.bottom=t.distance,ge.style.top="auto",ge.style.margin="auto"):t.position==="right-bottom"?(ge.style.right=t.distance,ge.style.bottom=t.distance,ge.style.top="auto",ge.style.left="auto"):t.position==="left-top"?(ge.style.left=t.distance,ge.style.top=t.distance,ge.style.right="auto",ge.style.bottom="auto"):t.position==="left-bottom"?(ge.style.left=t.distance,ge.style.bottom=t.distance,ge.style.top="auto",ge.style.right="auto"):(ge.style.right=t.distance,ge.style.top=t.distance,ge.style.left="auto",ge.style.bottom="auto"),t.backOverlay){var Xe=e.document.getElementById(b.overlayID)||e.document.createElement("div");Xe.id=b.overlayID,Xe.style.width="100%",Xe.style.height="100%",Xe.style.position="fixed",Xe.style.zIndex=t.zindex-1,Xe.style.left=0,Xe.style.top=0,Xe.style.right=0,Xe.style.bottom=0,Xe.style.background=De.backOverlayColor||t.backOverlayColor,Xe.className=t.cssAnimation?"nx-with-animation":"",Xe.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(b.overlayID)||e.document.body.appendChild(Xe)}e.document.getElementById(b.wrapID)||e.document.body.appendChild(ge);var Ee=e.document.createElement("div");Ee.id=t.ID+"-"+te,Ee.className=t.className+" "+De.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&typeof ee!="function"?"nx-with-close-button":"")+" "+(typeof ee=="function"?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),Ee.style.fontSize=t.fontSize,Ee.style.color=De.textColor,Ee.style.background=De.background,Ee.style.borderRadius=t.borderRadius,Ee.style.pointerEvents="all",t.rtl&&(Ee.setAttribute("dir","rtl"),Ee.classList.add("nx-rtl-on")),Ee.style.fontFamily='"'+t.fontFamily+'", '+g,t.cssAnimation&&(Ee.style.animationDuration=t.cssAnimationDuration+"ms");var it="";if(t.closeButton&&typeof ee!="function"&&(it='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+De.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),!t.useIcon)Ee.innerHTML='<span class="nx-message">'+$+"</span>"+(t.closeButton?it:"");else if(t.useFontAwesome)Ee.innerHTML='<i style="color:'+De.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+De.fontAwesomeClassName+" "+(t.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+$+"</span>"+(t.closeButton?it:"");else{var wt="";L===y.Success?wt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+De.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':L===y.Failure?wt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+De.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':L===y.Warning?wt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+De.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':L===y.Info&&(wt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+De.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),Ee.innerHTML=wt+'<span class="nx-message nx-with-icon">'+$+"</span>"+(t.closeButton?it:"")}if(t.position==="left-bottom"||t.position==="right-bottom"){var Fe=e.document.getElementById(b.wrapID);Fe.insertBefore(Ee,Fe.firstChild)}else e.document.getElementById(b.wrapID).appendChild(Ee);var Ne=e.document.getElementById(Ee.id);if(Ne){var Ve,Ye,Ke=function(){Ne.classList.add("nx-remove");var Me=e.document.getElementById(b.overlayID);Me&&0>=ge.childElementCount&&Me.classList.add("nx-remove"),clearTimeout(Ve)},Cn=function(){if(Ne&&Ne.parentNode!==null&&Ne.parentNode.removeChild(Ne),0>=ge.childElementCount&&ge.parentNode!==null){ge.parentNode.removeChild(ge);var Me=e.document.getElementById(b.overlayID);Me&&Me.parentNode!==null&&Me.parentNode.removeChild(Me)}clearTimeout(Ye)};if(t.closeButton&&typeof ee!="function"){var Wt=e.document.getElementById(Ee.id).querySelector("span.nx-close-button");Wt.addEventListener("click",function(){Ke();var Me=setTimeout(function(){Cn(),clearTimeout(Me)},t.cssAnimationDuration)})}if((typeof ee=="function"||t.clickToClose)&&Ne.addEventListener("click",function(){typeof ee=="function"&&ee(),Ke();var Me=setTimeout(function(){Cn(),clearTimeout(Me)},t.cssAnimationDuration)}),!t.closeButton&&typeof ee!="function"){var kt=function(){Ve=setTimeout(function(){Ke()},t.timeout),Ye=setTimeout(function(){Cn()},t.timeout+t.cssAnimationDuration)};kt(),t.pauseOnHover&&(Ne.addEventListener("mouseenter",function(){Ne.classList.add("nx-paused"),clearTimeout(Ve),clearTimeout(Ye)}),Ne.addEventListener("mouseleave",function(){Ne.classList.remove("nx-paused"),kt()}))}}if(t.showOnlyTheLastOne&&0<te)for(var It,rt=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+te+"])"),Rn=0;Rn<rt.length;Rn++)It=rt[Rn],It.parentNode!==null&&It.parentNode.removeChild(It);t=N(!0,t,Se)},fe=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},we=function(L,$,ee,be,Se,ze){if(!ne("body"))return!1;a||Rt.Report.init({});var De={};if(typeof Se=="object"&&!Array.isArray(Se)||typeof ze=="object"&&!Array.isArray(ze)){var ge={};typeof Se=="object"?ge=Se:typeof ze=="object"&&(ge=ze),De=N(!0,a,{}),a=N(!0,a,ge)}var Xe=a[L.toLocaleLowerCase("en")];typeof $!="string"&&($="Notiflix "+L),typeof ee!="string"&&(L===w.Success?ee='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':L===w.Failure?ee='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':L===w.Warning?ee='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':L===w.Info&&(ee='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),typeof be!="string"&&(be="Okay"),a.plainText&&($=S($),ee=S(ee),be=S(be)),a.plainText||($.length>a.titleMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',be="Okay"),ee.length>a.messageMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',be="Okay"),be.length>a.buttonMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',be="Okay")),$.length>a.titleMaxLength&&($=$.substring(0,a.titleMaxLength)+"..."),ee.length>a.messageMaxLength&&(ee=ee.substring(0,a.messageMaxLength)+"..."),be.length>a.buttonMaxLength&&(be=be.substring(0,a.buttonMaxLength)+"..."),a.cssAnimation||(a.cssAnimationDuration=0);var Ee=e.document.createElement("div");Ee.id=E.ID,Ee.className=a.className,Ee.style.zIndex=a.zindex,Ee.style.borderRadius=a.borderRadius,Ee.style.fontFamily='"'+a.fontFamily+'", '+g,a.rtl&&(Ee.setAttribute("dir","rtl"),Ee.classList.add("nx-rtl-on")),Ee.style.display="flex",Ee.style.flexWrap="wrap",Ee.style.flexDirection="column",Ee.style.alignItems="center",Ee.style.justifyContent="center";var it="",wt=a.backOverlayClickToClose===!0;a.backOverlay&&(it='<div class="'+a.className+"-overlay"+(a.cssAnimation?" nx-with-animation":"")+(wt?" nx-report-click-to-close":"")+'" style="background:'+(Xe.backOverlayColor||a.backOverlayColor)+";animation-duration:"+a.cssAnimationDuration+'ms;"></div>');var Fe="";if(L===w.Success?Fe=C(a.svgSize,Xe.svgColor):L===w.Failure?Fe=R(a.svgSize,Xe.svgColor):L===w.Warning?Fe=I(a.svgSize,Xe.svgColor):L===w.Info&&(Fe=q(a.svgSize,Xe.svgColor)),Ee.innerHTML=it+'<div class="'+a.className+"-content"+(a.cssAnimation?" nx-with-animation ":"")+" nx-"+a.cssAnimationStyle+'" style="width:'+a.width+"; background:"+a.backgroundColor+"; animation-duration:"+a.cssAnimationDuration+'ms;"><div style="width:'+a.svgSize+"; height:"+a.svgSize+';" class="'+a.className+'-icon">'+Fe+'</div><h5 class="'+a.className+'-title" style="font-weight:500; font-size:'+a.titleFontSize+"; color:"+Xe.titleColor+';">'+$+'</h5><p class="'+a.className+'-message" style="font-size:'+a.messageFontSize+"; color:"+Xe.messageColor+';">'+ee+'</p><a id="NXReportButton" class="'+a.className+'-button" style="font-weight:500; font-size:'+a.buttonFontSize+"; background:"+Xe.buttonBackground+"; color:"+Xe.buttonColor+';">'+be+"</a></div>",!e.document.getElementById(Ee.id)){e.document.body.appendChild(Ee);var Ne=function(){var Ke=e.document.getElementById(Ee.id);Ke.classList.add("nx-remove");var Cn=setTimeout(function(){Ke.parentNode!==null&&Ke.parentNode.removeChild(Ke),clearTimeout(Cn)},a.cssAnimationDuration)},Ve=e.document.getElementById("NXReportButton");if(Ve.addEventListener("click",function(){typeof Se=="function"&&Se(),Ne()}),it&&wt){var Ye=e.document.querySelector(".nx-report-click-to-close");Ye.addEventListener("click",function(){Ne()})}}a=N(!0,a,De)},He=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},ke=function(L,$,ee,be,Se,ze,De,ge,Xe){if(!ne("body"))return!1;o||Rt.Confirm.init({});var Ee=N(!0,o,{});typeof Xe!="object"||Array.isArray(Xe)||(o=N(!0,o,Xe)),typeof $!="string"&&($="Notiflix Confirm"),typeof ee!="string"&&(ee="Do you agree with me?"),typeof Se!="string"&&(Se="Yes"),typeof ze!="string"&&(ze="No"),typeof De!="function"&&(De=void 0),typeof ge!="function"&&(ge=void 0),o.plainText&&($=S($),ee=S(ee),Se=S(Se),ze=S(ze)),o.plainText||($.length>o.titleMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',Se="Okay",ze="..."),ee.length>o.messageMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',Se="Okay",ze="..."),(Se.length||ze.length)>o.buttonsMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',Se="Okay",ze="...")),$.length>o.titleMaxLength&&($=$.substring(0,o.titleMaxLength)+"..."),ee.length>o.messageMaxLength&&(ee=ee.substring(0,o.messageMaxLength)+"..."),Se.length>o.buttonsMaxLength&&(Se=Se.substring(0,o.buttonsMaxLength)+"..."),ze.length>o.buttonsMaxLength&&(ze=ze.substring(0,o.buttonsMaxLength)+"..."),o.cssAnimation||(o.cssAnimationDuration=0);var it=e.document.createElement("div");it.id=P.ID,it.className=o.className+(o.cssAnimation?" nx-with-animation nx-"+o.cssAnimationStyle:""),it.style.zIndex=o.zindex,it.style.padding=o.distance,o.rtl&&(it.setAttribute("dir","rtl"),it.classList.add("nx-rtl-on"));var wt=typeof o.position=="string"?o.position.trim():"center";it.classList.add("nx-position-"+wt),it.style.fontFamily='"'+o.fontFamily+'", '+g;var Fe="";o.backOverlay&&(Fe='<div class="'+o.className+"-overlay"+(o.cssAnimation?" nx-with-animation":"")+'" style="background:'+o.backOverlayColor+";animation-duration:"+o.cssAnimationDuration+'ms;"></div>');var Ne="";typeof De=="function"&&(Ne='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+o.cancelButtonColor+";background:"+o.cancelButtonBackground+";font-size:"+o.buttonsFontSize+';">'+ze+"</a>");var Ve="",Ye=null,Ke=void 0;if(L===k.Ask||L===k.Prompt){Ye=be||"";var Cn=L===k.Ask||200<Ye.length?Math.ceil(1.5*Ye.length):250,Wt=L===k.Prompt?'value="'+Ye+'"':"";Ve='<div><input id="NXConfirmValidationInput" type="text" '+Wt+' maxlength="'+Cn+'" style="font-size:'+o.messageFontSize+";border-radius: "+o.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(it.innerHTML=Fe+'<div class="'+o.className+'-content" style="width:'+o.width+"; background:"+o.backgroundColor+"; animation-duration:"+o.cssAnimationDuration+"ms; border-radius: "+o.borderRadius+';"><div class="'+o.className+'-head"><h5 style="color:'+o.titleColor+";font-size:"+o.titleFontSize+';">'+$+'</h5><div style="color:'+o.messageColor+";font-size:"+o.messageFontSize+';">'+ee+Ve+'</div></div><div class="'+o.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+(typeof De=="function"?"":" nx-full")+'" style="color:'+o.okButtonColor+";background:"+o.okButtonBackground+";font-size:"+o.buttonsFontSize+';">'+Se+"</a>"+Ne+"</div></div>",!e.document.getElementById(it.id)){e.document.body.appendChild(it);var kt=e.document.getElementById(it.id),It=e.document.getElementById("NXConfirmButtonOk"),rt=e.document.getElementById("NXConfirmValidationInput");if(rt&&(rt.focus(),rt.setSelectionRange(0,(rt.value||"").length),rt.addEventListener("keyup",function(Me){var rr=Me.target.value;if(L===k.Ask&&rr!==Ye)Me.preventDefault(),rt.classList.add("nx-validation-failure"),rt.classList.remove("nx-validation-success");else{L===k.Ask&&(rt.classList.remove("nx-validation-failure"),rt.classList.add("nx-validation-success"));var yr=(Me.key||"").toLocaleLowerCase("en")==="enter"||Me.keyCode===13;yr&&It.dispatchEvent(new Event("click"))}})),It.addEventListener("click",function(Me){if(L===k.Ask&&Ye&&rt){var rr=(rt.value||"").toString();if(rr!==Ye)return rt.focus(),rt.classList.add("nx-validation-failure"),Me.stopPropagation(),Me.preventDefault(),Me.returnValue=!1,Me.cancelBubble=!0,!1;rt.classList.remove("nx-validation-failure")}typeof De=="function"&&(L===k.Prompt&&rt&&(Ke=rt.value||""),De(Ke)),kt.classList.add("nx-remove");var yr=setTimeout(function(){kt.parentNode!==null&&(kt.parentNode.removeChild(kt),clearTimeout(yr))},o.cssAnimationDuration)}),typeof De=="function"){var Rn=e.document.getElementById("NXConfirmButtonCancel");Rn.addEventListener("click",function(){typeof ge=="function"&&(L===k.Prompt&&rt&&(Ke=rt.value||""),ge(Ke)),kt.classList.add("nx-remove");var Me=setTimeout(function(){kt.parentNode!==null&&(kt.parentNode.removeChild(kt),clearTimeout(Me))},o.cssAnimationDuration)})}}o=N(!0,o,Ee)},Ht=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},Je=function(L,$,ee,be,Se){if(!ne("body"))return!1;l||Rt.Loading.init({});var ze=N(!0,l,{});if(typeof $=="object"&&!Array.isArray($)||typeof ee=="object"&&!Array.isArray(ee)){var De={};typeof $=="object"?De=$:typeof ee=="object"&&(De=ee),l=N(!0,l,De)}var ge="";if(typeof $=="string"&&0<$.length&&(ge=$),be){ge=ge.length>l.messageMaxLength?S(ge).toString().substring(0,l.messageMaxLength)+"...":S(ge).toString();var Xe="";0<ge.length&&(Xe='<p id="'+l.messageID+'" class="nx-loading-message" style="color:'+l.messageColor+";font-size:"+l.messageFontSize+';">'+ge+"</p>"),l.cssAnimation||(l.cssAnimationDuration=0);var Ee="";if(L===V.Standard)Ee=O(l.svgSize,l.svgColor);else if(L===V.Hourglass)Ee=nt(l.svgSize,l.svgColor);else if(L===V.Circle)Ee=ct(l.svgSize,l.svgColor);else if(L===V.Arrows)Ee=W(l.svgSize,l.svgColor);else if(L===V.Dots)Ee=me(l.svgSize,l.svgColor);else if(L===V.Pulse)Ee=ue(l.svgSize,l.svgColor);else if(L===V.Custom&&l.customSvgCode!==null&&l.customSvgUrl===null)Ee=l.customSvgCode||"";else if(L===V.Custom&&l.customSvgUrl!==null&&l.customSvgCode===null)Ee='<img class="nx-custom-loading-icon" width="'+l.svgSize+'" height="'+l.svgSize+'" src="'+l.customSvgUrl+'" alt="Notiflix">';else{if(L===V.Custom&&(l.customSvgUrl===null||l.customSvgCode===null))return G('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;Ee=Pe(l.svgSize,"#f8f8f8","#32c682")}var it=parseInt((l.svgSize||"").replace(/[^0-9]/g,"")),wt=e.innerWidth,Fe=it>=wt?wt-40+"px":it+"px",Ne='<div style="width:'+Fe+"; height:"+Fe+';" class="'+l.className+"-icon"+(0<ge.length?" nx-with-message":"")+'">'+Ee+"</div>",Ve=e.document.createElement("div");if(Ve.id=D.ID,Ve.className=l.className+(l.cssAnimation?" nx-with-animation":"")+(l.clickToClose?" nx-loading-click-to-close":""),Ve.style.zIndex=l.zindex,Ve.style.background=l.backgroundColor,Ve.style.animationDuration=l.cssAnimationDuration+"ms",Ve.style.fontFamily='"'+l.fontFamily+'", '+g,Ve.style.display="flex",Ve.style.flexWrap="wrap",Ve.style.flexDirection="column",Ve.style.alignItems="center",Ve.style.justifyContent="center",l.rtl&&(Ve.setAttribute("dir","rtl"),Ve.classList.add("nx-rtl-on")),Ve.innerHTML=Ne+Xe,!e.document.getElementById(Ve.id)&&(e.document.body.appendChild(Ve),l.clickToClose)){var Ye=e.document.getElementById(Ve.id);Ye.addEventListener("click",function(){Ve.classList.add("nx-remove");var Wt=setTimeout(function(){Ve.parentNode!==null&&(Ve.parentNode.removeChild(Ve),clearTimeout(Wt))},l.cssAnimationDuration)})}}else if(e.document.getElementById(D.ID))var Ke=e.document.getElementById(D.ID),Cn=setTimeout(function(){Ke.classList.add("nx-remove");var Wt=setTimeout(function(){Ke.parentNode!==null&&(Ke.parentNode.removeChild(Ke),clearTimeout(Wt))},l.cssAnimationDuration);clearTimeout(Cn)},Se);l=N(!0,l,ze)},nr=function(L){typeof L!="string"&&(L="");var $=e.document.getElementById(D.ID);if($)if(0<L.length){L=L.length>l.messageMaxLength?S(L).substring(0,l.messageMaxLength)+"...":S(L);var ee=$.getElementsByTagName("p")[0];if(ee)ee.innerHTML=L;else{var be=e.document.createElement("p");be.id=l.messageID,be.className="nx-loading-message nx-loading-message-new",be.style.color=l.messageColor,be.style.fontSize=l.messageFontSize,be.innerHTML=L,$.appendChild(be)}}else G("Where is the new message?")},kr=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},Fn=0,Nn=function(L,$,ee,be,Se,ze){var De;if(Array.isArray(ee)){if(1>ee.length)return G("Array of HTMLElements should contains at least one HTMLElement."),!1;De=ee}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,ee)){if(1>ee.length)return G("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;De=Array.prototype.slice.call(ee)}else{var ge=typeof ee!="string"||1>(ee||"").length||(ee||"").length===1&&((ee||"")[0]==="#"||(ee||"")[0]===".");if(ge)return G("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var Xe=e.document.querySelectorAll(ee);if(1>Xe.length)return G('You called the "Notiflix.Block..." function with "'+ee+'" selector, but there is no such element(s) in the document.'),!1;De=Xe}u||Rt.Block.init({});var Ee=N(!0,u,{});if(typeof be=="object"&&!Array.isArray(be)||typeof Se=="object"&&!Array.isArray(Se)){var it={};typeof be=="object"?it=be:typeof Se=="object"&&(it=Se),u=N(!0,u,it)}var wt="";typeof be=="string"&&0<be.length&&(wt=be),u.cssAnimation||(u.cssAnimationDuration=0);var Fe=F.className;typeof u.className=="string"&&(Fe=u.className.trim());var Ne=typeof u.querySelectorLimit=="number"?u.querySelectorLimit:200,Ve=(De||[]).length>=Ne?Ne:De.length,Ye="nx-block-temporary-position";if(L){for(var Ke,Cn=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],Wt=0;Wt<Ve;Wt++)if(Ke=De[Wt],Ke){if(-1<Cn.indexOf(Ke.tagName.toLocaleLowerCase("en")))break;var kt=Ke.querySelectorAll("[id^="+F.ID+"]");if(1>kt.length){var It="";$&&($===B.Hourglass?It=nt(u.svgSize,u.svgColor):$===B.Circle?It=ct(u.svgSize,u.svgColor):$===B.Arrows?It=W(u.svgSize,u.svgColor):$===B.Dots?It=me(u.svgSize,u.svgColor):$===B.Pulse?It=ue(u.svgSize,u.svgColor):It=O(u.svgSize,u.svgColor));var rt='<span class="'+Fe+'-icon" style="width:'+u.svgSize+";height:"+u.svgSize+';">'+It+"</span>",Rn="";0<wt.length&&(wt=wt.length>u.messageMaxLength?S(wt).substring(0,u.messageMaxLength)+"...":S(wt),Rn='<span style="font-size:'+u.messageFontSize+";color:"+u.messageColor+';" class="'+Fe+'-message">'+wt+"</span>"),Fn++;var Me=e.document.createElement("div");Me.id=F.ID+"-"+Fn,Me.className=Fe+(u.cssAnimation?" nx-with-animation":""),Me.style.position=u.position,Me.style.zIndex=u.zindex,Me.style.background=u.backgroundColor,Me.style.animationDuration=u.cssAnimationDuration+"ms",Me.style.fontFamily='"'+u.fontFamily+'", '+g,Me.style.display="flex",Me.style.flexWrap="wrap",Me.style.flexDirection="column",Me.style.alignItems="center",Me.style.justifyContent="center",u.rtl&&(Me.setAttribute("dir","rtl"),Me.classList.add("nx-rtl-on")),Me.innerHTML=rt+Rn;var rr=e.getComputedStyle(Ke).getPropertyValue("position"),yr=typeof rr=="string"?rr.toLocaleLowerCase("en"):"relative",Gi=Math.round(1.25*parseInt(u.svgSize))+40,xr=Ke.offsetHeight||0,qn="";Gi>xr&&(qn="min-height:"+Gi+"px;");var $i="";$i=Ke.getAttribute("id")?"#"+Ke.getAttribute("id"):Ke.classList[0]?"."+Ke.classList[0]:(Ke.tagName||"").toLocaleLowerCase("en");var Hn="",Xi=-1>=["absolute","relative","fixed","sticky"].indexOf(yr);if(Xi||0<qn.length){if(!ne("head"))return!1;Xi&&(Hn="position:relative!important;");var Ir='<style id="Style-'+F.ID+"-"+Fn+'">'+$i+"."+Ye+"{"+Hn+qn+"}</style>",si=e.document.createRange();si.selectNode(e.document.head);var Dr=si.createContextualFragment(Ir);e.document.head.appendChild(Dr),Ke.classList.add(Ye)}Ke.appendChild(Me)}}}else var js=function(mt){var an=setTimeout(function(){mt.parentNode!==null&&mt.parentNode.removeChild(mt);var oi=mt.getAttribute("id"),Gn=e.document.getElementById("Style-"+oi);Gn&&Gn.parentNode!==null&&Gn.parentNode.removeChild(Gn),clearTimeout(an)},u.cssAnimationDuration)},Et=function(mt){if(mt&&0<mt.length)for(var an,oi=0;oi<mt.length;oi++)an=mt[oi],an&&(an.classList.add("nx-remove"),js(an));else re(typeof ee=="string"?'"Notiflix.Block.remove();" function called with "'+ee+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+ee+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Pt=function(mt){var an=setTimeout(function(){mt.classList.remove(Ye),clearTimeout(an)},u.cssAnimationDuration+300)},jt=setTimeout(function(){for(var mt,an=0;an<Ve;an++)mt=De[an],mt&&(Pt(mt),kt=mt.querySelectorAll("[id^="+F.ID+"]"),Et(kt));clearTimeout(jt)},ze);u=N(!0,u,Ee)},Rt={Notify:{init:function(L){t=N(!0,b,L),le(M,"NotiflixNotifyInternalCSS")},merge:function(L){return t?void(t=N(!0,t,L)):(G("You have to initialize the Notify module before call Merge function."),!1)},success:function(L,$,ee){de(y.Success,L,$,ee)},failure:function(L,$,ee){de(y.Failure,L,$,ee)},warning:function(L,$,ee){de(y.Warning,L,$,ee)},info:function(L,$,ee){de(y.Info,L,$,ee)}},Report:{init:function(L){a=N(!0,E,L),le(fe,"NotiflixReportInternalCSS")},merge:function(L){return a?void(a=N(!0,a,L)):(G("You have to initialize the Report module before call Merge function."),!1)},success:function(L,$,ee,be,Se){we(w.Success,L,$,ee,be,Se)},failure:function(L,$,ee,be,Se){we(w.Failure,L,$,ee,be,Se)},warning:function(L,$,ee,be,Se){we(w.Warning,L,$,ee,be,Se)},info:function(L,$,ee,be,Se){we(w.Info,L,$,ee,be,Se)}},Confirm:{init:function(L){o=N(!0,P,L),le(He,"NotiflixConfirmInternalCSS")},merge:function(L){return o?void(o=N(!0,o,L)):(G("You have to initialize the Confirm module before call Merge function."),!1)},show:function(L,$,ee,be,Se,ze,De){ke(k.Show,L,$,null,ee,be,Se,ze,De)},ask:function(L,$,ee,be,Se,ze,De,ge){ke(k.Ask,L,$,ee,be,Se,ze,De,ge)},prompt:function(L,$,ee,be,Se,ze,De,ge){ke(k.Prompt,L,$,ee,be,Se,ze,De,ge)}},Loading:{init:function(L){l=N(!0,D,L),le(Ht,"NotiflixLoadingInternalCSS")},merge:function(L){return l?void(l=N(!0,l,L)):(G("You have to initialize the Loading module before call Merge function."),!1)},standard:function(L,$){Je(V.Standard,L,$,!0,0)},hourglass:function(L,$){Je(V.Hourglass,L,$,!0,0)},circle:function(L,$){Je(V.Circle,L,$,!0,0)},arrows:function(L,$){Je(V.Arrows,L,$,!0,0)},dots:function(L,$){Je(V.Dots,L,$,!0,0)},pulse:function(L,$){Je(V.Pulse,L,$,!0,0)},custom:function(L,$){Je(V.Custom,L,$,!0,0)},notiflix:function(L,$){Je(V.Notiflix,L,$,!0,0)},remove:function(L){typeof L!="number"&&(L=0),Je(null,null,null,!1,L)},change:function(L){nr(L)}},Block:{init:function(L){u=N(!0,F,L),le(kr,"NotiflixBlockInternalCSS")},merge:function(L){return u?void(u=N(!0,u,L)):(G('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(L,$,ee){Nn(!0,B.Standard,L,$,ee)},hourglass:function(L,$,ee){Nn(!0,B.Hourglass,L,$,ee)},circle:function(L,$,ee){Nn(!0,B.Circle,L,$,ee)},arrows:function(L,$,ee){Nn(!0,B.Arrows,L,$,ee)},dots:function(L,$,ee){Nn(!0,B.Dots,L,$,ee)},pulse:function(L,$,ee){Nn(!0,B.Pulse,L,$,ee)},remove:function(L,$){typeof $!="number"&&($=0),Nn(!1,null,L,null,null,$)}}};return typeof e.Notiflix=="object"?N(!0,e.Notiflix,{Notify:Rt.Notify,Report:Rt.Report,Confirm:Rt.Confirm,Loading:Rt.Loading,Block:Rt.Block}):{Notify:Rt.Notify,Report:Rt.Report,Confirm:Rt.Confirm,Loading:Rt.Loading,Block:Rt.Block}})}(Gf)),Gf.exports}var D6=I6();const he=Jv(D6),O6={user:null,status:"loading",error:null},Xw=z.createContext();function j6(r,e){switch(e.type){case"AUTH_INIT":return{...r,status:"loading"};case"AUTH_READY":return{...r,user:e.payload,status:e.payload?"authenticated":"idle",error:null};case"LOGIN_REQUEST":return{...r,status:"loading",error:null};case"LOGIN_SUCCESS":return{...r,user:e.payload,status:"authenticated"};case"LOGIN_FAILURE":return{...r,user:null,status:"error",error:e.payload};case"LOGOUT_SUCCESS":return{...r,user:null,status:"idle"};case"REGISTER_REQUEST":return{...r,status:"loading",error:null};case"REGISTER_SUCCESS":return{...r,user:e.payload,status:"authenticated"};case"REGISTER_FAILURE":return{...r,user:null,status:"error",error:e.payload};default:return r}}const M6=({children:r})=>{const[e,t]=z.useReducer(j6,O6);z.useEffect(()=>{t({type:"AUTH_INIT"});const u=ZN(Af,async h=>{if(!h){t({type:"AUTH_READY",payload:null});return}let g=h.displayName?.trim()||"";if(!g)try{const b=await getDoc(Mn(vn,"users",h.uid)),w=b.exists()?(b.data()?.dtName||"").trim():"";if(w){g=w;try{await kb(h,{displayName:w})}catch{}}}catch{}g||(g=h.email?.split("@")[0]||"");const y={...h,displayName:g};t({type:"AUTH_READY",payload:y})});return()=>u()},[]);const a=async(u,h)=>{t({type:"LOGIN_REQUEST"});try{const g=await KN(Af,u,h);t({type:"LOGIN_SUCCESS",payload:g.user}),he.Notify.success("Inicio de sesin exitoso")}catch(g){t({type:"LOGIN_FAILURE",payload:g}),he.Notify.failure("Error al iniciar sesin")}},o=async()=>{try{await eC(Af),t({type:"LOGOUT_SUCCESS"}),he.Notify.success("Sesin cerrada")}catch(u){he.Notify.failure("Error al cerrar sesin"),console.error("Error al cerrar sesin:",u)}},l=async(u,h,g)=>{t({type:"REGISTER_REQUEST"});try{const y=await YN(Af,u,h);await kb(y.user,{displayName:g}),await Kc(Mn(vn,"users",y.user.uid),{dtName:g,email:u,createdAt:il()},{merge:!0}),t({type:"REGISTER_SUCCESS",payload:y.user}),he.Notify.success("Registro exitoso")}catch(y){t({type:"REGISTER_FAILURE",payload:"Error al registrar usuario"}),he.Notify.failure("Error al registrar usuario"),console.error("Error al registrar usuario:",y)}};return m.jsx(Xw.Provider,{value:{user:e.user,loading:e.status==="loading",handleLogin:a,handleLogout:o,handleRegister:l,uid:e.user?.uid,isAuthenticated:e.status==="authenticated"},children:r})},Bn=()=>z.useContext(Xw),Og=(r={})=>{const[e,t]=z.useState(r);return{form:e,changed:({target:l})=>{const{name:u,value:h}=l;t({...e,[u]:h})},setValue:(l,u)=>{t(h=>({...h,[l]:u}))}}},L6=()=>{const{handleRegister:r}=Bn(),{form:e,changed:t}=Og(),a=async o=>{o.preventDefault();let l=e;if(!l.email||!l.password||!l.nombre){he.Notify.failure("Por favor, completa todos los campos");return}if(l.password!==l.confirmPassword){he.Notify.failure("Las contraseas no coinciden");return}try{const u=await r(l.email,l.password,l.nombre)}catch(u){console.error("Error al registrar usuario:",u)}};return m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs("form",{onSubmit:a,children:[m.jsx("label",{htmlFor:"nombre",children:"Director Tcnico"}),m.jsx("input",{name:"nombre",className:"w-full border rounded p-2",type:"text",placeholder:"Nombre del DT",required:!0,onChange:t}),m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{name:"email",className:"w-full border rounded p-2",type:"email",placeholder:"Email",required:!0,onChange:t}),m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{name:"password",className:"w-full border rounded p-2",type:"password",placeholder:"Contrasea",required:!0,onChange:t}),m.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),m.jsx("input",{name:"confirmPassword",className:"w-full border rounded p-2",type:"password",placeholder:"Confirmar Contrasea",required:!0,onChange:t}),m.jsx("input",{className:"text-blue-600 hover:underline bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2",type:"submit",value:"Registrarse"})]})})},V6=()=>{const{form:r,changed:e}=Og(),{user:t,loading:a,handleLogin:o}=Bn(),[l,u]=z.useState(!1),[h,g]=z.useState(!1),y=md();z.useEffect(()=>{if(t&&!a)y("/formacion",{replace:!0});else return},[t,a,y]),z.useEffect(()=>(a&&he.Loading.circle("Cargando"),()=>{he.Loading.remove()}),[a]);const b=async E=>{E.preventDefault();let{email:k,password:P}=r;if(!k||!P){he.Notify.failure("Por favor, completa todos los campos");return}try{const V=await o(k,P)}catch(V){he.Notify.failure("Error al iniciar sesin"),console.error("Error al iniciar sesin:",V)}},w=()=>{u(!l)};return m.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Iniciar Sesin"}),m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs("form",{action:"",onSubmit:b,children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",name:"email",id:"email",onChange:e,className:"w-full border rounded p-2"}),m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{type:h?"text":"password",name:"password",id:"password",onChange:e,className:"w-full border rounded p-2"}),m.jsx("button",{type:"button",onClick:()=>g(!h),className:"text-sm text-blue-600 hover:text-red-600",children:h?"Ocultar Contrasea":"Ver Contrasea"}),m.jsx("input",{type:"submit",value:"Ingresar",className:"text-blue-600 hover:font-bold bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2"})]})}),m.jsx("button",{onClick:w,className:"text-2xl font-bold mb-4 mt-4 text-center hover:text-blue-600 hover:cursor-pointer",children:"Registrarse"}),l&&m.jsx(L6,{})]})},Yw={fecha:"2018-07-01",bootstrapped:!0,rival:"",activeClub:"",torneoName:"",torneoYear:null,torneoDisplay:"",condition:"",torneosIndex:[],matches:[],rivalesIndex:[],captain:"",starters:[],substitutes:[],goleadoresActiveClub:[],goleadoresRivales:[],autogolesFavor:0};function P6(r,e){switch(e.type){case"ACTUALIZAR_CAMPO":return{...r,[e.campo]:e.valor};case"SET_FECHA":{const a=e.payload;return typeof a!="string"||a.trim()===""?r:{...r,fecha:a,bootstrapped:!0}}case"SET_RIVAL":{const a=e.payload;return typeof a!="string"||a.trim()===""?r:{...r,rival:a}}case"HYDRATE_FROM_FIREBASE":{const a=e.payload||{};return{...r,activeClub:a.activeClub??r.activeClub,torneosIndex:Array.isArray(a.torneosIndex)?a.torneosIndex:[],matches:Array.isArray(a.matches)?a.matches:r.matches,rivalesIndex:Array.isArray(a.rivalesIndex)?a.rivalesIndex:[],goleadoresActiveClub:Array.isArray(a.goleadoresActiveClub)?a.goleadoresActiveClub:r.goleadoresActiveClub}}case"SET_FORMACION":{const{captain:a,starters:o}=e.payload;return{...r,captain:a,starters:o}}case"SET_SUBS":const{substitutes:t}=e.payload;return{...r,substitutes:t};case"ADD_GOLEADOR":{const{name:a,activeClub:o}=e.payload;return r.goleadoresActiveClub.some(u=>u.name===a&&u.activeClub===o)?r:{...r,goleadoresActiveClub:[...r.goleadoresActiveClub,{name:a,activeClub:o,gol:!!e.payload.gol,doblete:!!e.payload.doblete,triplete:!!e.payload.triplete,hattrick:!!e.payload.hattrick,expulsion:!!e.payload.expulsion,isOwnGoal:!!e.payload.isOwnGoal}]}}case"TOGGLE_EVENT":{const{name:a,activeClub:o,event:l}=e.payload;return{...r,goleadoresActiveClub:r.goleadoresActiveClub.map(u=>u.name===a&&u.activeClub===o?{...u,[l]:!u[l]}:u)}}case"REMOVE_GOLEADOR":{const{name:a,activeClub:o}=e.payload;return{...r,goleadoresActiveClub:r.goleadoresActiveClub.filter(l=>!(l.name===a&&l.activeClub===o))}}case"RESET_FORM":return{...Yw,activeClub:r.activeClub,torneosIndex:r.torneosIndex,matches:r.matches,rivalesIndex:r.rivalesIndex};case"OWN_GOAL_FAVOR_INC":return{...r,autogolesFavor:(r.autogolesFavor||0)+1};case"OWN_GOAL_FAVOR_DEC":return{...r,autogolesFavor:Math.max(0,(r.autogolesFavor||0)-1)};case"RIVAL_ADD":{const a=e.payload;return r.goleadoresRivales.some(l=>l.name===a.name&&l.club===a.club)?r:{...r,goleadoresRivales:[...r.goleadoresRivales,a]}}case"RIVAL_TOGGLE":{const{name:a,club:o,field:l}=e.payload;return{...r,goleadoresRivales:r.goleadoresRivales.map(u=>u.name===a&&u.club===o?{...u,[l]:!u[l]}:u)}}case"RIVAL_REMOVE":{const{name:a,club:o}=e.payload;return{...r,goleadoresRivales:r.goleadoresRivales.filter(l=>!(l.name===a&&l.club===o))}}default:return r}}const Kw=z.createContext(null);function ii(){const r=z.useContext(Kw);if(!r)throw new Error("usePartido debe usarse dentro de <PartidoProvider>");return r}function U6({children:r}){const[e,t]=z.useReducer(P6,Yw),a=$f.useMemo(()=>({state:e,dispatch:t}),[e]);return m.jsx(Kw.Provider,{value:a,children:r})}function _e(r=""){return(r??"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Qw=async(r,e,t)=>{if(r)try{he.Loading.standard("Cargando datos...");const a=Mn(vn,"users",r),o=await Yc(a);if(o.exists()){const l=o.data(),{lineups:u,torneosIndex:h,rivalesIndex:g}=l||{},y=_e(l?.activeClub),b=y?l?.lineups?.[y]?.matches||[]:[];e({type:"HYDRATE_FROM_FIREBASE",payload:{torneosIndex:h,rivalesIndex:g,matches:b}}),t&&u&&typeof u=="object"&&(t({type:"LINEUPS_SET_ALL",payload:{lineups:u}}),t({type:"SET_MANAGED_CLUBS",payload:{clubs:Object.keys(u)}}));const w=b.map(E=>E?.fecha).filter(Boolean).sort((E,k)=>new Date(E)-new Date(k)).at(-1);w&&(he.Notify.success("Info Sincronizado"),e({type:"ACTUALIZAR_CAMPO",campo:"fecha",valor:w}))}else console.warn("[Partido] no existe doc para uid:",r)}catch(a){console.error("Error al montar el formulario",a),he.Notify.failure("Error al cargar el formulario")}finally{he.Loading.remove()}},Qc=(r,e,t)=>{z.useEffect(()=>{Qw(r,e,t)},[r])},jg="LINEUP_RESET",As="LINEUP_SET_SELECTED",Ww="LINEUP_SET_CAPTAIN",Mg="LINEUP_ADD_STARTER",Jw="LINEUP_REMOVE_STARTER",Zw="LINEUP_SAVE_LOCAL",Lg="CLUB_RESET",z6="PLAYERS_ADD",eE="PLAYERS_REMOVE",tE="LINEUP_DELETE_LOCAL",kc="SAVE_CLUB_NAME",Ic="CLUB_LOAD_FROM_ACTIVE",Ld="LINEUPS_UPSERT_BUCKET",B6={captainName:null,starters:[],selectMode:"captain",selectedOption:"",lineups:{},activeClub:"",players:[],usedClub:!1,managedClubs:[]},nE=z.createContext();function ai(){const r=z.useContext(nE);if(!r)throw new Error("useLineups debe usarse dentro de <LineupsProvider>");return r}function F6(r,e){switch(e.type){case Lg:return{activeClub:"",players:[],lineups:{}};case jg:return{...r,captainName:null,starters:[],selectMode:"captain",selectedOption:""};case As:return{...r,selectedOption:e.payload};case Ww:{if(!e.payload||typeof e.payload.captain!="string")return r;const t=_e(e.payload.captain);if(t===""||r.starters.length>=11&&!r.starters.includes(t))return r;const a=r.starters.includes(t)?r.starters:[...r.starters,t];return{...r,captainName:t,starters:a,selectMode:"starters",selectedOption:""}}case Zw:{const t=_e(r.activeClub??"");if(!t)return r;const o=r.lineups?.[t]??{label:t,players:[],formations:[]};if(!e.payload)return r;const{id:l,captain:u,starters:h,createdAt:g}=e.payload,y=_e(u),b=Array.isArray(h)?h.map(_e):[],w=g&&!Number.isNaN(new Date(g).getTime());if(!l||b.length!==11||!y||!w||!b.includes(y))return r;const E=Array.isArray(o.players)?[...o.players]:[];if(o.formations.some(B=>B.id===l))return r;const P=new Date(g).toISOString(),V={id:l,createdAt:P,captain:y,starters:[...b]},D={label:o.label||t,players:E,formations:[V,...o.formations]};return{...r,lineups:{...r.lineups,[t]:D},captainName:null,starters:[],selectMode:"captain",selectedOption:""}}case Mg:{if(!e.payload||typeof e.payload.player!="string")return r;const t=_e(e.payload.player);return t===""||r.starters.length>=11||r.starters.includes(t)?r:{...r,starters:[...r.starters,t],selectMode:"starters",selectedOption:""}}case Jw:{if(!e.payload||typeof e.payload.player!="string")return r;const t=_e(e.payload.player);if(t===""||!r.starters.includes(t))return r;const a=r.starters.filter(l=>l!==t),o=t===r.captainName;return{...r,captainName:o?null:r.captainName,starters:a,selectMode:o?"captain":r.selectMode,selectedOption:""}}case tE:{if(!e.payload||typeof e.payload.id!="string")return r;const t=_e(r.activeClub??"");if(!t)return r;const a=r.lineups?.[t];if(!a)return r;const o=a.formations.length,l=a.formations.filter(u=>u.id!==e.payload.id);return l.length===o?r:{...r,lineups:{...r.lineups,[t]:{...a,formations:l}}}}case"SET_MANAGED_CLUBS":{const t=new Set,a=(e.payload?.clubs||[]).map(o=>_e(o)).filter(o=>o&&!t.has(o)&&t.add(o));return{...r,managedClubs:a}}case"LINEUPS_SET_ALL":{const t=e.payload?.lineups;return!t||typeof t!="object"?r:{...r,lineups:{...r.lineups,...t}}}case z6:{if(!e.payload||typeof e.payload.name!="string")return r;const t=_e(e.payload.name);if(t==="")return r;const a=_e(r.activeClub??"");if(!a)return r;const o=r.lineups?.[a]??{label:a,players:[],formations:[]},l=Array.isArray(o.players)?o.players:[];if(l.includes(t))return r;const u=[...l,t].sort((h,g)=>h.localeCompare(g,"es",{sensitivity:"base"}));return{...r,lineups:{...r.lineups,[a]:{...o,players:u}},players:u}}case eE:{const t=e.payload?.name??"",a=_e(t);if(!a)return r;const o=r.players.filter(b=>b!==a),l=r.starters.filter(b=>b!==a),u=_e(r.captainName)===a,h=_e(r.activeClub??""),g=h?r.lineups?.[h]:null;let y=r.lineups;if(g){const b=g.players.filter(E=>E!==a),w=g.formations.filter(E=>{const k=_e(E.captain)===a,P=Array.isArray(E.starters)&&E.starters.some(V=>V===a);return!(k||P)});y={...r.lineups,[h]:{...g,players:b,formations:w}}}return{...r,players:o,starters:l,captainName:u?null:r.captainName,selectMode:u?"captain":r.selectMode,lineups:y}}case kc:{if(!e.payload||typeof e.payload.name!="string")return r;const t=_e(e.payload.name);if(t==="")return r;const a=new Set([...r.managedClubs||[],t]);return{...r,activeClub:t,managedClubs:Array.from(a)}}case Ic:{const t=_e(r.activeClub||""),a=r.lineups?.[t];return a?{...r,players:a.players,usedClub:!0}:{...r,usedClub:!1,captainName:null,starters:[],selectMode:"captain",selectedOption:"",players:[]}}case Ld:{const{club:t,bucket:a}=e.payload||{};if(!t||!a)return r;const l={...r.lineups?.[t]??{},...a},u=_e(r.activeClub??""),h=_e(t);return{...r,lineups:{...r.lineups,[t]:l},...h===u&&l.players?{players:l.players}:null}}default:return r}}function q6({children:r}){const[e,t]=z.useReducer(F6,B6);return m.jsx(nE.Provider,{value:{state:e,dispatch:t},children:r})}const Re=r=>{if(r==null)return"";let e=Array.isArray(r)?r.join(" "):String(r);return e=e.trim(),e?e.split(/\s+/).map(o=>{const l=_e(o);return l?l.charAt(0).toUpperCase()+l.slice(1):""}).filter(Boolean).join(" "):""};function H6(){const{user:r,handleLogout:e,uid:t,isAuthenticated:a}=Bn(),o=Fi(),[l,u]=z.useState(!1),[h,g]=z.useState(!1),{dispatch:y}=ii(),{dispatch:b}=ai(),w=async()=>{t&&await Qw(t,y)};z.useEffect(()=>{const F=()=>{const G=window.innerWidth,re=window.innerHeight;g(G<1024||re<432)};return F(),window.addEventListener("resize",F),window.addEventListener("orientationchange",F),()=>{window.removeEventListener("resize",F),window.removeEventListener("orientationchange",F)}},[]);const E=F=>o.pathname===F||o.pathname.startsWith(F+"/"),k=F=>`inline-flex items-center justify-center w-14 h-14 rounded-full transition-all duration-150 ${E(F)?"ring-3 ring-blue-900 ring-offset-2 ring-offset-white":"ring-0"}`,P=()=>"block px-4 py-2 rounded transition text-gray-700",V=()=>{he.Confirm.show("Reiniciar","Esto borrar el club activo, la formacin y el formulario del partido en esta sesin. Continuar?","S","No",async()=>{try{if(b({type:"CLUB_RESET"}),b({type:"LINEUP_RESET"}),y({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),y({type:"RESET_FORM"}),t){const F=Mn(vn,"users",t);await Kc(F,{activeClub:"",lineups:{},players:[],starters:[],useClub:!1},{merge:!0})}he.Notify.success("Listo: se reinici la sesin de trabajo.")}catch{he.Notify.failure("No se pudo reiniciar.")}},()=>{})},D=()=>{he.Confirm.show("Cerrar Sesin","Ests seguro de que quieres cerrar sesin?","S","No",async()=>{try{b({type:"CLUB_RESET"}),y({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),y({type:"RESET_FORM"}),await e()}catch{he.Notify.failure("No se pudo cerrar sesin correctamente");return}he.Notify.success("Sesin cerrada")},()=>{he.Notify.info("Sesin no cerrada")},{width:"300px",borderRadius:"8px",titleColor:"#333",messageColor:"#555",okButtonBackground:"#4CAF50",cancelButtonBackground:"#f44336"})},B=[{path:"/registrar-partido",label:""},{path:"/versus",label:""},{path:"/temporadas",label:""},{path:"/analisis",label:" "},{path:"/campeonatos",label:""},{path:"/goleadores",label:""},{path:"/formacion",label:""},{path:"/palmares",label:""}];return m.jsxs("nav",{className:"bg-white shadow-md w-full sticky top-0 z-50",children:[!h&&m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center gap-3",children:[m.jsx("span",{className:"text-3xl font-bold text-blue-600 whitespace-nowrap cursor-pointer",onClick:w,children:" Pes Stats Zone"}),m.jsx("div",{className:"flex-1 flex justify-center min-w-0",children:m.jsx("div",{className:"flex items-center gap-2 flex-nowrap overflow-x-auto",children:B.map(({path:F,label:G})=>m.jsx(Yf,{to:F,className:`${P()} flex items-center gap-1 text-xl`,children:m.jsx("span",{className:k(F),children:G})},F))})}),m.jsxs("div",{className:"flex items-center gap-2 flex-nowrap whitespace-nowrap",children:[r&&m.jsxs("div",{className:"flex flex-col items-center justify-center border p-2 rounded-lg",children:[m.jsx("label",{children:"Dt"}),m.jsx("span",{className:"text-gray-700 font-semibold max-w-[140px] truncate",children:Re(r.displayName)})]}),m.jsx("button",{onClick:V,className:"text-red-600 hover:uppercase hover:font-bold flex items-center gap-1",children:" Reiniciar"}),m.jsx("button",{onClick:()=>D(),className:"bg-red-400 text-white rounded-xl px-4 hover:bg-red-600 flex items-center gap-1",children:"Salir"})]})]}),h&&m.jsx("button",{type:"button",className:"fixed top-3 right-3 bg-white rounded-full shadow-md p-2 text-gray-700 text-2xl z-40",onClick:()=>u(!l),"aria-label":"Abrir men",style:{minWidth:"48px",minHeight:"48px"},children:""}),l&&h&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40 flex",onClick:()=>u(!1),children:m.jsxs("div",{className:"bg-white w-full h-full p-6 shadow-lg flex flex-col items-end overflow-y-auto max-h-screen",onClick:F=>F.stopPropagation(),children:[m.jsxs("div",{className:"mb-6 text-2xl font-bold text-blue-600 flex items-center gap-2 w-full justify-end",children:[" Pes Stats Zone",m.jsx("button",{className:"ml-2 text-gray-400 text-2xl",onClick:()=>u(!1),"aria-label":"Cerrar men",tabIndex:0,children:""})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-4",children:[B.map(({path:F,label:G})=>m.jsx(Yf,{to:F,className:`${P()} flex items-center justify-center rounded-xl p-3 text-3xl`,onClick:()=>u(!1),"aria-label":F,title:F,children:m.jsx("span",{className:k(F),children:G})},F)),r&&m.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl p-3 border text-center",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"DT"}),m.jsx("span",{className:"text-sm font-semibold text-gray-800 break-words",children:Re(r.displayName)})]}),m.jsx("button",{onClick:()=>{u(!1),V()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:m.jsx("span",{className:"text-s mt-1",children:"Reiniciar"})}),m.jsx("button",{onClick:()=>{u(!1),D()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:m.jsx("span",{className:"text-s mt-1",children:"Salir"})}),m.jsx("div",{className:"flex flex-col items-center justify-center rounded-xl border text-center",children:m.jsx("span",{children:"Versin: 8"})})]})]})})]})}const G6=()=>{const{user:r,loading:e}=Bn();return z.useEffect(()=>(e&&he.Loading.circle("Cargando"),()=>{he.Loading.remove()}),[e]),e?null:r?m.jsxs("div",{children:[m.jsx(H6,{}),m.jsx(l_,{})]}):m.jsx(Ba,{to:"/",replace:!0})},$6=({value:r,onChange:e})=>m.jsxs("div",{children:[m.jsx("input",{type:"date",name:"fecha",value:r,onChange:e,className:"w-full border rounded p-2"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Fecha del Partido"})]}),X6=({value:r,onChange:e,onBlur:t,suggestions:a=[]})=>m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Rival"}),m.jsx("input",{type:"text",name:"rival",value:r||"",onChange:e,onBlur:t,list:"sugerencias-rivales",placeholder:"Rival (nombre completo)",className:"w-full border rounded p-2",autoComplete:"off"}),m.jsx("datalist",{id:"sugerencias-rivales",children:(a||[]).slice().sort((o,l)=>Re(o).localeCompare(Re(l),"es",{sensitivity:"base"})).map(o=>m.jsx("option",{value:Re(o)},o))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un rival nuevo."})]});function Y6({value:r,onChange:e,onBlur:t,suggestions:a=[]}){return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Torneo"}),m.jsx("input",{type:"text",name:"torneoName",value:r||"",onChange:e,onBlur:t,list:"torneos-list",placeholder:"Ej: Copa Argentina",className:"w-full border rounded p-2",autoComplete:"off"}),m.jsx("datalist",{id:"torneos-list",children:(a||[]).map(o=>m.jsx("option",{value:Re(o)},o))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un torneo nuevo."})]})}const K6=({formations:r=[],value:e,onChange:t,disabled:a})=>{const o=Array.isArray(r)?r:r&&typeof r=="object"?Object.values(r):[],l=Array.from(new Set(o.map(u=>u?.captain).filter(u=>typeof u=="string"&&u.trim()!=="")));return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Capitn"}),m.jsxs("select",{disabled:a,className:"w-full border rounded p-2",value:e||"",onChange:u=>t(u.target.value),children:[m.jsx("option",{value:"",children:"-- Eleg un capitn --"}),l.map(u=>m.jsx("option",{value:u,children:Re?Re(u):u},u))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg al Capitn de tu Equipo"})]})},Q6=({players:r=[],starters:e=[],value:t=[],onChange:a,disabled:o})=>{const l=r.filter(h=>!e.includes(h)),u=h=>{const g=h.target.value;g&&(t.includes(g)||a([...t,g]))};return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Suplentes"}),m.jsxs("select",{disabled:o,className:"w-full border rounded p-2",onChange:u,defaultValue:"",name:"substitutes",children:[m.jsx("option",{value:"",children:"Lista de Suplentes"}),l.sort((h,g)=>h.localeCompare(g,"es",{sensitivity:"base"})).map(h=>m.jsx("option",{value:h,children:Re(h)},h))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los jugadores que ingresaron"}),m.jsx("ul",{className:"flex flex-wrap gap-2 mt-2",children:t.map(h=>m.jsxs("li",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-lg",children:[Re(h),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 pl-1",onClick:()=>a(t.filter(g=>g!==h)),children:""})]},h))})]})},W6=r=>e=>{const{name:t,value:a,type:o,checked:l}=e.target;r({type:"ACTUALIZAR_CAMPO",campo:t,valor:o==="checkbox"?l:a})},zv=(r,e,t)=>a=>{const o=(a.target.value||"").trim();if(!o){he.Notify.failure(t);return}const l=Re(o);l!==o&&r({type:"ACTUALIZAR_CAMPO",campo:e,valor:l})},J6=(r,e,t)=>a=>{const o=r?.[e]?.formations,u=(Array.isArray(o)?o:o&&typeof o=="object"?Object.values(o):[]).find(g=>(g?.captain||"")===a),h=Array.isArray(u?.starters)?u.starters:[];t({type:"SET_FORMACION",payload:{captain:a,starters:h}})},Z6=({disabled:r,onClick:e})=>m.jsx("div",{children:m.jsx("button",{type:"button",disabled:r,className:"bg-green-500 text-white rounded w-full p-2 font-bold disabled:opacity-50 disabled:cursor-not-allowed",onClick:e,children:"Guardar"})}),e5=async({uid:r,matchState:e,activeClub:t,ownGoals:a,rivalGoals:o,condition:l,rivalName:u,autogolesFavor:h=0})=>{if(!r)throw new Error("UID no disponible; no se puede guardar.");if(!t)throw new Error("saveMatch: activeClub vaco");if(!Number.isFinite(a)||!Number.isFinite(o))throw new Error("saveMatch: ownGoals/rivalGoals invlidos");const{fecha:g,captain:y,starters:b,substitutes:w,goleadoresActiveClub:E,goleadoresRivales:k}=e||{},P=g?new Date(g).getFullYear():null,V=e?.torneoName?.trim()||"",D=V&&P?`${V} ${P}`:V||"";if(!g||!u)throw new Error("Faltan completar campos");const B=crypto?.randomUUID&&crypto.randomUUID()||String(Date.now()),F=a>o?"ganado":a<o?"perdido":"empatado",G=F==="ganado"?3:F==="empatado"?1:0,re=a,ne=o,le=re-ne,N=l==="visitante"?`${u} ${ne} - ${re} ${t}`:`${t} ${re} - ${ne} ${u}`,S={id:B,fecha:g,captain:y,condition:l,rival:u,club:t,torneoName:V,torneoYear:P,torneoDisplay:D,createdAt:Date.now(),starters:b,substitutes:w,goleadoresActiveClub:E||[],goleadoresRivales:k||[],final:F,points:G,golFavor:re,golContra:ne,dfGol:le,resultMatch:N,autogolesFavor:h},C=Mn(vn,"users",r);await Kc(C,{torneosIndex:Hf(V.toLowerCase()),rivalesIndex:Hf(u.toLowerCase())},{merge:!0});const R=_e?_e(t):t;await Na(C,{[`lineups.${R}.matches`]:Hf(S)});const I=Mn(vn,"users",r),q=ue=>ue?.isOwnGoal||ue?.name==="__OG__";for(const ue of e.goleadoresActiveClub||[]){if(q(ue))continue;const Pe=_e(ue.name||"");if(!Pe)continue;const M=`lineups.${R}.playersStats.${Pe}`,te={},de=(ue.gol?1:0)+(ue.doblete?2:0)+(ue.triplete?3:0);de>0&&(te[`${M}.goals`]=jn(de)),ue.doblete&&(te[`${M}.dobletes`]=jn(1)),ue.triplete&&(te[`${M}.hatTricks`]=jn(1)),ue.expulsion&&(te[`${M}.expulsiones`]=jn(1)),Object.keys(te).length>0&&await Na(I,te)}for(const ue of e.goleadoresRivales||[]){if(q(ue))continue;const Pe=_e(ue.name||"");if(!Pe)continue;const M=`lineups.${R}.rivalsPlayers.${Pe}`,te={};te[`${M}.matchesPlayed`]=jn(1);const de=(ue.gol?1:0)+(ue.doblete?2:0)+(ue.triplete?3:0);de>0&&(te[`${M}.goals`]=jn(de)),ue.doblete&&(te[`${M}.dobletes`]=jn(1)),ue.triplete&&(te[`${M}.hatTricks`]=jn(1)),ue.expulsion&&(te[`${M}.expulsiones`]=jn(1)),Object.keys(te).length>0&&await Na(I,te)}const O=(()=>{const Pe=(te=>(te||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,""))(V),M=(P??"").toString().trim()||"s_a";return`${Pe}_${M}`})(),nt=new Set((b||[]).map(ue=>_e(ue)).filter(Boolean));y&&nt.add(_e(y));const ct=new Set((w||[]).map(ue=>_e(ue)).filter(ue=>ue&&!nt.has(ue))),W={},me=(ue,{start:Pe=0,sub:M=0})=>{if(!ue)return;const te=`lineups.${R}.playersStats.${ue}`,de=`${te}.totals`,fe=`${te}.byTournament.${O}`;W[`${de}.matchesPlayed`]=jn(1),W[`${fe}.matchesPlayed`]=jn(1),Pe&&(W[`${de}.starts`]=jn(1),W[`${fe}.starts`]=jn(1)),M&&(W[`${de}.subs`]=jn(1),W[`${fe}.subs`]=jn(1))};return nt.forEach(ue=>me(ue,{start:1})),ct.forEach(ue=>me(ue,{sub:1})),Object.keys(W).length>0?(W[`lineups.${R}.updatedAt`]=il(),await Na(C,W)):console.log("[STATS] sin apariciones que sumar"),{id:B}},t5=async({uid:r,matchState:e,activeClub:t,matchDispatch:a,navigate:o})=>{if(!r){console.error("[handleSaveMatch] uid vaco; no se puede guardar."),he.Notify.failure("No hay usuario autenticado (uid vaco).");return}if(!t){console.warn("[handleSaveMatch] activeClub vaco; bloqueando guardado."),he.Notify.warning("Eleg un club antes de guardar el partido.");return}const l=V=>(V.gol?1:0)+(V.doblete?2:0)+(V.triplete||V.hattrick?3:0),u=(e?.goleadoresActiveClub||[]).filter(V=>V.activeClub===t),h=e?.goleadoresRivales||[],y=u.reduce((V,D)=>V+l(D),0)+(e?.autogolesFavor||0),b=h.reduce((V,D)=>V+l(D),0),w=e?.rival||"Rival",E=(e?.condition||e?.condicion||"neutro").toLowerCase();let k;E==="visitante"?k=`${w} ${b} - ${y} ${Re(t)}`:k=`${Re(t)} ${y} - ${b} ${w}`;const P={uid:r,activeClub:t,condition:E,ownGoals:y,ownGoalsFromOG:e?.autogolesFavor||0,rivalGoals:b,ownScorers:u?.length??0,rivalScorers:h?.length??0,rivalName:w};he.Confirm.show("Confirmar Resultado",k,"Confirmar","Volver",async()=>{try{he.Loading.standard("Guardando partido... "),await e5({uid:r,activeClub:t,matchState:e,ownGoals:y,rivalGoals:b,condition:E,rivalName:w,autogolesFavor:e?.autogolesFavor||0}),he.Notify.success("Partido guardado correctamente "),a({type:"RESET_FORM"}),o("/versus")}catch(V){const D={name:V?.name,code:V?.code,message:V?.message};console.error("[handleSaveMatch] Error al guardar",{...D,stack:V?.stack,context:P}),he.Report.failure("Error al guardar",[D.code?`Cdigo: ${D.code}`:"",D.name?`Tipo: ${D.name}`:"",D.message?`Mensaje: ${D.message}`:"",`Club: ${t} | ${y}-${b} vs ${w}`].filter(Boolean).join(`
`),"Cerrar")}finally{he.Loading.remove()}})},n5=({value:r,onChange:e})=>m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Donde se jug?"}),m.jsxs("div",{className:"flex flex-wrap gap-2 list-disc list-inside",children:[m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"local",checked:r==="local",onChange:e}),m.jsx("span",{className:"ml-2",children:"Local"})]}),m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"visitante",checked:r==="visitante",onChange:e}),m.jsx("span",{className:"ml-2",children:"Visitante"})]}),m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"neutro",checked:r==="neutro",onChange:e}),m.jsx("span",{className:"ml-2",children:"Neutro"})]})]})]}),r5=r=>e=>{r({type:"SET_SUBS",payload:{substitutes:e}})},i5=({state:r,dispatch:e,disabled:t})=>{const a=r.starters,o=r.substitutes,l=[...a,...o],u=r.activeClub,h=y=>{const b=y.target.value;if(b==="__OG__"){e({type:"ADD_GOLEADOR",payload:{name:"__OG__",activeClub:u,gol:!0,isOwnGoal:!0}}),y.target.value="";return}r.goleadoresActiveClub.some(E=>E.name===b&&E.activeClub===u)||e({type:"ADD_GOLEADOR",payload:{name:b,activeClub:u}})},g=r.goleadoresActiveClub.filter(y=>y.activeClub===u);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores e Incidencias"}),m.jsxs("select",{disabled:t,className:"w-full border rounded p-2",onChange:h,defaultValue:"",name:"incidents",children:[m.jsx("option",{value:"",children:"Lista de Jugadores"}),m.jsx("option",{value:"__OG__",children:" Gol en contra (rival)"}),l.sort((y,b)=>y.localeCompare(b,"es",{sensitivity:"base"})).map(y=>m.jsx("option",{value:y,children:Re(y)},y))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los goleadores o jugadores que sufrieron una expulsion"}),m.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...g].reverse().map(y=>{const b=y.isOwnGoal||y.name==="__OG__",w=b?"Gol en contra (rival)":Re(y.name);return m.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:w}),m.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[m.jsx("input",{type:"checkbox",className:"ml-4",checked:y.gol,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:y.name,activeClub:u,event:"gol"}})}),"Gol"]}),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>e({type:"REMOVE_GOLEADOR",payload:{name:y.name,activeClub:u}}),children:""})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[!b&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:y.doblete,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:y.name,activeClub:u,event:"doblete"}})}),"Doblete"]}),!b&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:y.triplete,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:y.name,activeClub:u,event:"triplete"}})}),"Hat Trick"]}),!b&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:y.expulsion,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:y.name,activeClub:u,event:"expulsion"}})}),"Expulsin"]})]})]},`${y.name}-${y.activeClub}`)})})]})},a5=({state:r,dispatch:e,disabled:t})=>{const{uid:a}=Bn(),{state:o,dispatch:l}=ii(),{state:u,dispatch:h}=ai();Qc(a,l,h);const[g,y]=z.useState(null),b=Object.keys(u?.lineups||[]),[w,E]=z.useState(u?.activeClub||b[0]||""),k=_e(w||""),P=k?u?.lineups?.[k]:null;z.useEffect(()=>{P&&Object.keys(P).length!==0&&y(P)},[P]);const V=Array.isArray(g?.matches)?g.matches:[],D=r.rival?.trim()||"",B=!!D&&!t,F=z.useMemo(()=>{const N=(r.goleadoresRivales||[]).map(R=>(R?.name||"").toString().trim()).filter(Boolean),S=_e(D||""),C=(V||[]).filter(R=>_e(R?.rival||"")===S).flatMap(R=>(R?.goleadoresRivales||[]).map(I=>(I?.name||"").toString().trim()).filter(Boolean));return Array.from(new Set([...C,...N])).sort((R,I)=>R.localeCompare(I,"es",{sensitivity:"base"}))},[r.goleadoresRivales,V,D]),[G,re]=z.useState(""),ne=N=>{const S=(N||"").trim();!S||(r.goleadoresRivales||[]).some(R=>R.name===S&&R.club===D)||(e({type:"RIVAL_ADD",payload:{name:S,club:D,gol:!1,doblete:!1,triplete:!1,expulsion:!1}}),re(""))},le=z.useMemo(()=>(r.goleadoresRivales||[]).filter(N=>N.club===D),[r.goleadoresRivales,D]);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores Rivales"}),m.jsx("input",{type:"text",name:"rivalScorer",disabled:!B,placeholder:B?"Apellido (usa Rival como club)":"Completa Rival primero",list:"rival-players-list",className:"w-full border rounded p-2",autoComplete:"off",value:G,onChange:N=>{const S=N.target.value;F.includes(S)||re(S)},onKeyDown:N=>{N.key==="Enter"&&(N.preventDefault(),ne(G))},onInput:N=>{const S=N.currentTarget.value;F.includes(S)&&ne(S)}}),m.jsx("datalist",{id:"rival-players-list",children:F.map(N=>m.jsx("option",{value:N},N))}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Escrib solo el ",m.jsx("b",{children:"Apellido"}),". El club se toma del campo ",m.jsx("b",{children:"Rival"}),"."]}),m.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...le].reverse().map(N=>m.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:Re(N.name)}),m.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[m.jsx("input",{type:"checkbox",className:"ml-4",checked:N.gol,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:N.name,club:N.club,field:"gol"}})}),"Gol"]}),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>e({type:"RIVAL_REMOVE",payload:{name:N.name,club:N.club}}),children:""})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:N.doblete,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:N.name,club:N.club,field:"doblete"}})}),"Doblete"]}),m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:N.triplete,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:N.name,club:N.club,field:"triplete"}})}),"Triplete"]}),m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:N.expulsion,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:N.name,club:N.club,field:"expulsion"}})}),"Expulsin"]})]})]},`${N.name}-${N.club}`))})]})};function oc(r){return(r.gol?1:0)+(r.doblete?2:0)+(r.triplete||r.hattrick?3:0)}function Bv(r){const e=r?.filter(t=>t.expulsion||t.expulsado)||[];return e.length?e.map(t=>Re(t.name)):[]}const Sf=({items:r,tone:e="slate"})=>{if(!r||r===""||r.length===0)return m.jsx("span",{className:"text-slate-400",children:""});const t=e==="red"?"bg-red-50 text-red-700 ring-1 ring-red-200":"bg-slate-50 text-slate-700 ring-1 ring-slate-200";return m.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((a,o)=>m.jsx("span",{className:`px-2.5 py-1 rounded-full text-sm ${t}`,children:a},`${a}-${o}`))})};function s5(r){if(!r)return"";const e=String(r).trim(),t=e.split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[a,o,l]=t.split("-");return`${l}/${o}/${a}`}if(/^\d{4}\/\d{2}\/\d{2}$/.test(t)){const[a,o,l]=t.split("/");return`${l}/${o}/${a}`}return/^\d{2}\/\d{2}\/\d{4}$/.test(t)?t:e}const Nf=({title:r,children:e})=>m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:r}),e]}),o5=({state:r,activeClub:e})=>{const t=r?.rival||"Rival",a=r?.torneoDisplay||r?.torneoName||r?.torneo||"",l=(r?.goleadoresActiveClub||[]).filter(C=>C.activeClub===e),u=r?.goleadoresRivales||[],h=l.reduce((C,R)=>C+oc(R),0),g=u.reduce((C,R)=>C+oc(R),0),y=(u||[]).filter(C=>C?.enContra||C?.autogol||C?.og||C?.ogContra).length,b=h+y,w=(r?.condition||r?.condicion||"neutro").toLowerCase(),E=w==="visitante",k=Re(e),P=E?t:k,V=E?k:t,D=E?g:b,B=E?b:g,F=m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/50 p-4",children:[m.jsx("div",{className:"text-center text-xl font-semibold text-slate-800",children:P}),m.jsx("div",{className:"my-2 text-center",children:m.jsxs("div",{className:"text-4xl font-bold tabular-nums text-slate-900",children:[D," - ",B]})}),m.jsx("div",{className:"text-center text-xl font-semibold text-slate-800",children:V})]}),G=(l||[]).filter(C=>oc(C)>0).map(C=>{const R=oc(C),I=C.isOwnGoal||C.name==="__OG__"?"Gol en contra":Re(C.name);return R>1?`${I} (${R})`:I}),re=(Array.isArray(u)?u:[]).filter(C=>!(C.expulsion||C.expulsado)).map(C=>{const R=oc(C),I=R>1?` (${R})`:"",q=C?.enContra||C?.autogol||C?.og||C?.ogContra?" (EC)":"";return`${Re(C.name)}${I}${q}`}),ne=Bv(l),le=Bv(u),N=s5(r?.fecha||r?.date||r?.fechaPartido||""),S=r?.captain||r?.capitan||"";return m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm space-y-5",children:[m.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[m.jsxs("div",{className:"flex flex-col gap-2 items-start min-w-0",children:[a?m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:Re(a)}):null,N?m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-50 text-slate-700 ring-1 ring-slate-200",children:N}):null]}),m.jsxs("div",{className:"flex flex-col gap-2 items-end min-w-0",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:w!=="neutro"?w==="visitante"?"Visitante":"Local":"Neutro"}),S?m.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:["Capitn: ",Re(S)]}):null]})]}),F,m.jsxs("div",{className:"grid grid-cols-2 gap-6 items-stretch",children:[m.jsx("div",{className:"h-full",children:m.jsx(Nf,{title:`Goleadores ${Re(e)}`,children:m.jsx(Sf,{items:G})})}),m.jsx("div",{className:"h-full",children:m.jsx(Nf,{title:`Goleadores ${t}`,children:m.jsx(Sf,{items:re})})})]}),m.jsxs("div",{className:"grid grid-cols-2  gap-6 items-stretch",children:[m.jsx("div",{className:"h-full",children:m.jsx(Nf,{title:`Expulsados ${Re(e)}`,children:m.jsx(Sf,{items:ne,tone:"red"})})}),m.jsx("div",{className:"h-full",children:m.jsx(Nf,{title:`Expulsados ${t}`,children:m.jsx(Sf,{items:le,tone:"red"})})})]})]})},l5=({activeClub:r,matchState:e,matchDispatch:t})=>{z.useEffect(()=>{r&&e.activeClub!==r&&t({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:r})},[r,e.activeClub,t])},c5=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai(),{activeClub:l,lineups:u}=a,h=md(),g=W6(t),y=J6(u,l,t),b=r5(t);l5({activeClub:l,matchState:e,matchDispatch:t});const w=a?.activeClub||e?.activeClub||"",E=_e?_e(w):w,k=a?.lineups?.[E]||{},P=(k.players?.length??0)>0,V=(k.formations?.length??0)>0,D=k.playersStats?Object.keys(k.playersStats).length>0:!1;return!E||!P&&!V&&!D?m.jsx(Ba,{to:"/formacion",replace:!0}):m.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Registrar Partido"}),m.jsxs("form",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center",children:m.jsx("span",{className:"text-lg font-bold text-blue-700",children:e.activeClub?Re(e.activeClub):"Esperando Nombre del Club"})}),m.jsx($6,{value:e.fecha,onChange:g}),m.jsx(X6,{value:e.rival,onChange:g,onBlur:zv(t,"rival","El campo Rival es Obligatorio"),suggestions:e.rivalesIndex}),m.jsx(Y6,{value:e.torneoName,onChange:g,suggestions:e.torneosIndex,onBlur:zv(t,"torneoName","El campo Torneo es Obligatorio")}),m.jsx(n5,{value:e.condition,onChange:g}),m.jsx(K6,{disabled:e.substitutes.length>0,formations:u?.[l]?.formations||[],value:e.captain,onChange:y}),m.jsx(Q6,{disabled:!e.captain,players:u?.[l]?.players||[],value:e.substitutes,onChange:b,starters:e.starters,substitutes:e.substitutes}),m.jsx(i5,{state:e,dispatch:t,disabled:!e.captain}),m.jsx(a5,{state:e,dispatch:t,disabled:!e.rival}),m.jsx(o5,{state:e,activeClub:e.activeClub}),m.jsx(Z6,{disabled:!r||!e.fecha||!e.rival||!e.torneoName||!e.condition,onClick:B=>{B.preventDefault(),t5({uid:r,matchState:e,activeClub:l,matchDispatch:t,navigate:h})}})]})]})},u5=(r=[])=>z.useMemo(()=>{const e=new Set;for(const t of r){const a=(t?.captain||"").trim();a&&e.add(a)}return Array.from(e)},[r]),Fv=r=>r==null?0:parseInt(r,10)||0,Cf=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),f5=(r=[])=>z.useMemo(()=>{const e={};for(const t of r){const a=t?.rivalName||t?.rival||t?.opponent||"Rival Desconocido",o=Fv(t?.golesPropios??t?.golFavor??t?.golesFavor??t?.gf),l=Fv(t?.golesRival??t?.golContra??t?.golesContra??t?.gc),u=t?.condition==="local"&&"local"||t?.condition==="visitante"&&"visitante"||"general",h=(t?.captain||"").trim();e[a]||(e[a]={general:Cf(),local:Cf(),visitante:Cf()});const g=o>l?"g":o===l?"e":"p",y=b=>{b.pj++,b[g]++,b.gf+=o,b.gc+=l};y(e[a].general),u!=="general"&&y(e[a][u]),h&&(e[a][h]||(e[a][h]=Cf()),y(e[a][h]))}return e},[r]),d5=(r,e,t,a)=>z.useMemo(()=>[...Object.entries(r)].sort((u,h)=>{if(t==="rival")return a==="asc"?u[0].localeCompare(h[0]):h[0].localeCompare(u[0]);const g=u[1]?.[e]??{},y=h[1]?.[e]??{},b=t==="df"?(g.gf??0)-(g.gc??0):g?.[t]??0,w=t==="df"?(y.gf??0)-(y.gc??0):y?.[t]??0;return a==="asc"?b-w:w-b}),[r,e,t,a]),h5=(r={})=>{const{g:e=0,e:t=0,p:a=0}=r;return e>=t&&e>a?"bg-green-100":a>e&&a>=t?"bg-red-100":e===a&&e>t||e===t&&e===a||t>=e&&t>=a?"bg-yellow-100":"bg-pink-100"},kp=r=>typeof r=="string"&&r.trim()?Re(r):String(r??""),m5=r=>r==="general"?"General":r==="local"?"Local":r==="visitante"?"Visitante":kp(r),p5=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),g5=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai();Qc(r,t,o);const[l,u]=z.useState(null),h=Object.keys(a?.lineups||[]),[g,y]=z.useState(a?.activeClub||h[0]||""),b=_e(g||""),w=b?a?.lineups?.[b]:null,E=a?.lineups?.[b]||{},k=(E.players?.length??0)>0,P=(E.formations?.length??0)>0,V=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!b||!k&&!P&&!V)return m.jsx(Ba,{to:"/formacion",replace:!0});z.useEffect(()=>{w&&Object.keys(w).length!==0&&u(w)},[w]);const D=Array.isArray(l?.matches)?l.matches:[],[B,F]=z.useState("general"),[G,re]=z.useState("rival"),[ne,le]=z.useState("asc"),N=u5(D),S=f5(D),C=d5(S,B,G,ne),R=z.useMemo(()=>["general","local","visitante",...N],[N]);return m.jsxs("div",{className:"p-4 max-w-7xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:" Estadsticas del Equipo"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-2 items-end justify-center",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:g,onChange:I=>y(I.target.value),children:h.map(I=>m.jsx("option",{value:I,children:kp(I)},I))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"mbito"}),m.jsxs("select",{className:"border p-1 rounded text-sm",value:B,onChange:I=>F(I.target.value),children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"local",children:"Local"}),m.jsx("option",{value:"visitante",children:"Visitante"}),N.map(I=>m.jsx("option",{value:I,children:kp(I)},I))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Campo"}),m.jsxs("select",{value:G,onChange:I=>re(I.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"rival",children:"Nombre"}),m.jsx("option",{value:"pj",children:"PJ"}),m.jsx("option",{value:"g",children:"G"}),m.jsx("option",{value:"e",children:"E"}),m.jsx("option",{value:"p",children:"P"}),m.jsx("option",{value:"gf",children:"GF"}),m.jsx("option",{value:"gc",children:"GC"}),m.jsx("option",{value:"df",children:"DF"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),m.jsxs("select",{value:ne,onChange:I=>le(I.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"asc",children:"Ascendente"}),m.jsx("option",{value:"desc",children:"Descendente"})]})]})]}),m.jsx("div",{className:"max-h-[80vh] w-[100%] mx-auto overflow-auto border rounded",children:m.jsxs("table",{className:"w-full table-fixed text-[11px] md:text-sm border-collapse",children:[m.jsx("thead",{className:"bg-blue-200 sticky top-0 shadow-lg",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-2 py-2 w-[70px] text-left font-bold",children:"Rival"}),R.map(I=>m.jsx("th",{className:"border px-2 py-1 text-center w-[100px]",children:m5(I)},I))]})}),m.jsx("tbody",{children:!Array.isArray(C)||C.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:1+R.length,className:"border px-3 py-6 text-center text-gray-500 font-semibold",children:"Sin datos"})}):C.map(([I,q],O)=>{const nt=O%2===0?"bg-white":"bg-gray-200";return m.jsxs("tr",{className:nt,children:[m.jsx("td",{className:"border px-2 py-2 font-semibold text-left",children:m.jsx("div",{title:I,children:I})}),R.map(ct=>{const W=q[ct]||p5(),me=W.pj>0?h5(W):nt,ue=W.gf-W.gc,Pe=ue>0?"bg-emerald-50 text-emerald-800 ring-1 ring-emerald-500":ue<0?"bg-rose-50 text-rose-800 ring-1 ring-rose-500":"bg-slate-50 text-slate-700 ring-1 ring-slate-200";return W.pj===0?m.jsx("td",{className:`border px-1 py-1 text-center align-middle ${nt}`,children:m.jsx("span",{className:"text-xl font-black text-gray-900 leading-none",children:""})},ct):m.jsx("td",{className:`border px-1 py-1 whitespace-pre-line text-center align-top ${me}`,children:m.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[m.jsxs("div",{className:"text-[12px] text-gray-500 flex items-center gap-3 lg:gap-5",children:[m.jsx("span",{children:"G"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"E"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"P"})]}),m.jsxs("div",{className:"font-bold tabular-nums flex items-center gap-3 lg:gap-4",children:[m.jsx("span",{children:W.g}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:W.e}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:W.p})]}),m.jsxs("div",{className:"text-[12px] text-gray-500 flex items-center gap-1 lg:gap-3",children:[m.jsx("span",{children:"PJ"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"GF"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"GC"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"DF"})]}),m.jsxs("div",{className:"font-bold tabular-nums flex items-center gap-2 lg:gap-4",children:[m.jsx("span",{children:W.pj}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:W.gf}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:W.gc}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsxs("span",{className:`px-1 py-0.5 rounded-full font-semibold tabular-nums ${Pe}`,children:[ue>0?"+":"",ue]})]})]})},ct)})]},I)})})]})})]})};function rE(r,e,t=""){const a=z.useRef(!1),[o,l]=z.useState(!1),u=h=>{if(h&&typeof h.toMillis=="function")return h.toMillis();const g=new Date(h).getTime();return Number.isFinite(g)?g:0};return z.useEffect(()=>{if(!r){l(!0);return}a.current||(async()=>{a.current=!0,he.Loading.circle("Cargando datos del club...");try{const h=await Yc(Mn(vn,"users",r));if(!h.exists())return;const g=h.data(),y=g?.lineups||{},b=Object.keys(y).map(_e),w=Array.isArray(g?.managedClubs)?g.managedClubs.map(_e).filter(G=>b.includes(G)):[],E=b.map(G=>[G,u(y[G]?.updatedAt)]).sort((G,re)=>re[1]-G[1]).map(([G])=>G),k=[...w,...E.filter(G=>!w.includes(G))];e({type:"SET_MANAGED_CLUBS",payload:{clubs:k}});let P="",V=0;const D=[];for(const[G,re]of Object.entries(y)){const ne=Array.isArray(re.players)?re.players.map(_e):[],le=re.formations?Object.entries(re.formations).map(([C,R])=>{const I=R?.createdAt&&typeof R.createdAt?.toDate=="function"?R.createdAt.toDate().toISOString():String(R?.createdAt||new Date().toISOString());return{id:C,createdAt:I,captain:_e(R?.captain||""),starters:Array.isArray(R?.starters)?R.starters.map(_e):[]}}).sort((C,R)=>new Date(R.createdAt)-new Date(C.createdAt)):[],N=_e(G);D.push(N);const S=u(re?.updatedAt);S>V&&(V=S,P=N),e({type:"LINEUPS_UPSERT_BUCKET",payload:{club:N,bucket:{label:re.label??G,players:ne,formations:le}}})}let B="";const F=g?.activeClub?_e(g.activeClub):"";if(F&&D.includes(F))B=F;else if(w.length)for(let G=w.length-1;G>=0;G--){const re=w[G];if(D.includes(re)){B=re;break}}B||(B=P||""),B&&B!==t&&e({type:"SAVE_CLUB_NAME",payload:{name:B}})}catch{he.Notify.failure("Problemas al cargar la informacin de la nube")}finally{he.Loading.remove(),a.current=!1,l(!0)}})()},[r,e]),o}const y5=(r,e,t,a)=>{z.useEffect(()=>{if(!a)return;const o=Object.keys(r||{});if(!o.length||e)return;const l=o[0];t({type:kc,payload:{name:l}}),t({type:Ic})},[r,e,t,a])},x5=(r,e,t)=>{z.useEffect(()=>{if(!r){t("");return}const a=e?.[r]?.label||r,o=Re(a);t(l=>l===o?l:o)},[r,e,t])},b5=(r,e,t,a)=>{const o=z.useRef({clubKey:null,playersJson:""});z.useEffect(()=>{if(!r){console.debug("[SYNC] skip: !uid");return}if(!e){console.debug("[SYNC] skip: !activeClub");return}const l=_e(e);if(!l){console.debug("[SYNC] skip: !clubKey (normalizeName dio vaco)");return}if(!Array.isArray(a)){console.debug("[SYNC] skip: !Array.isArray(players)",{players:a});return}const u=[...new Set(a.map(_e))];if(u.length===0){console.debug("[SYNC] skip: playersNorm vaco, no subo nada");return}const h=JSON.stringify(u),g=o.current;if(g.clubKey===l&&g.playersJson===h){console.debug("[SYNC] skip: mismo payload que el ltimo write");return}(async()=>{try{await Na(Mn(vn,"users",r),{[`lineups.${l}.players`]:u,[`lineups.${l}.updatedAt`]:il()}),o.current={clubKey:l,playersJson:h},he.Notify.success("Plantel sincronizado")}catch(y){console.debug("[SYNC] FAIL",y),he.Notify.failure("No se pudo sincronizar el plantel")}})()},[r,e,a])},v5=(r,e)=>{z.useEffect(()=>{r||(e({type:Lg}),e({type:Ld,payload:{club:"",bucket:{}}}))},[r,e])},_5=({teamName:r})=>m.jsxs("div",{children:[" ",m.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[m.jsx("span",{className:"text-blue-700 underline",children:"Equipo del DT:"})," ",m.jsxs("span",{className:"block text-center text-3xl font-extrabold tracking-wide text-emerald-600 drop-shadow-sm -mt-8",children:[m.jsx("br",{}),Re(r)]})]})]}),w5=({value:r,onChange:e,onBlurSave:t,onConfirm:a,suggestions:o=[],disabled:l})=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:"teamName",children:"Nombre del Equipo"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("input",{type:"text",id:"teamName",value:r,onChange:u=>e(u.target.value),onBlur:t,disabled:l,onKeyDown:u=>{u.key==="Enter"&&(u.preventDefault(),a())},className:"w-full p-2 border rounded",list:"club-suggestions",placeholder:"Ej.: Newell's, Talleres CBA, Instituto"}),m.jsx("datalist",{id:"club-suggestions",children:(o||[]).map(({key:u,label:h})=>m.jsx("option",{value:h},u))}),m.jsx("button",{type:"button",className:"bg-blue-500 text-white rounded px-3",onClick:a,children:"Guardar Equipo"})]})]}),qv=({name:r,activeClub:e,lineups:t,dispatch:a,setValue:o})=>{const l=_e(e||""),u=_e(r||"");if(!l||!u)return;if(u.length<2){he.Notify.failure("Nombre corto");return}const h=(t?.[l]?.players||[]).map(_e);if(h.includes(u)){he.Notify.failure("Jugador repetido");return}a({type:"LINEUPS_UPSERT_BUCKET",payload:{club:l,bucket:{...t?.[l]||{},players:[...h,u]}}}),o?.("playerName",""),he.Notify.success("Jugador agregado")},E5=({form:r,changed:e,players:t=[],dispatch:a,setValue:o,activeClub:l,lineups:u})=>{const[h,g]=z.useState(r?.playerName||"");return z.useEffect(()=>{g(r?.playerName||"")},[r?.playerName]),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"playerName",children:"Jugadores"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("input",{type:"text",name:"playerName",id:"playerName",value:h,onChange:y=>{g(y.target.value),e?.(y)},className:"w-full p-2 border rounded",placeholder:"Aadir jugador",onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),qv({name:h,activeClub:l,lineups:u,dispatch:a,setValue:o}),g(""))}}),m.jsx("button",{type:"button",onClick:()=>qv({name:h,activeClub:l,lineups:u,dispatch:a,setValue:o}),className:"bg-blue-500 text-white  rounded",children:"Aadir Jugador"})]})]})},T5=(r,e,t)=>{if(!r){he.Notify.failure("Que Equipo dirigs?");return}e(!0),t({type:jg})},A5=({players:r=[],selectedOption:e,dispatch:t,teamName:a,setShowForm:o,activeClub:l,uid:u})=>!Array.isArray(r)||r.length===0?null:m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex items-baseline justify-between",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Jugadores aadidos"}),m.jsxs("span",{className:"text-sm text-gray-500",children:["Total: ",r.length]})]}),m.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-1.5",children:[...r].sort((h,g)=>h.localeCompare(g,"es",{sensitivity:"base"})).map(h=>m.jsxs("div",{className:"flex items-center justify-between rounded-md bg-gray-50 border border-gray-200 px-2 py-1.5 hover:bg-gray-100",children:[m.jsx("span",{className:"truncate text-gray-800",title:Re(h),children:Re(h)}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("button",{type:"button",className:"md:hidden text-gray-400 hover:text-gray-600 text-sm","aria-label":"Ver nombre completo",onClick:()=>he.Notify.info(Re(h)),children:""}),m.jsx("button",{type:"button","aria-label":`Eliminar ${Re(h)}`,title:"Eliminar",className:"inline-flex h-7 w-7 items-center justify-center rounded-full text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>{e===h&&t({type:As,payload:""}),t({type:eE,payload:{name:h}}),he.Notify.success("Jugador eliminado")},children:""})]})]},h))}),m.jsx("button",{type:"button",onClick:()=>{T5(a,o,t),he.Notify.info("Nueva formacin")},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",children:"Nueva Formacin"})]}),S5=(r=[],e=[])=>z.useMemo(()=>{const t=Array.isArray(r)?r:[],a=Array.isArray(e)?e:[],o=t.filter(u=>!a.includes(u)).sort((u,h)=>u.localeCompare(h,"es",{sensitivity:"base"})),l=t.filter(u=>a.includes(u)).sort((u,h)=>u.localeCompare(h,"es",{sensitivity:"base"}));return{remaining:o,chosen:l}},[r,e]),N5=(r={},e="")=>{const t=r?.[e]||{};return[...Array.isArray(t.formations)?t.formations:[]].sort((l,u)=>new Date(u.createdAt)-new Date(l.createdAt))};async function C5({uid:r,teamName:e,lineups:t,dispatch:a}){const o=String(e||"").trim();if(!o)return he.Notify.failure("Qu equipo dirigs?");if(!r)return he.Notify.failure("No hay sesin.");const l=_e(o),u=Re(o);a({type:kc,payload:{name:l}});try{await Kc(Mn(vn,"users",r),{managedClubs:Hf(l),activeClub:l,lineups:{[l]:{label:u,players:t?.[l]?.players??[],formations:t?.[l]?.formations??[],playersStats:t?.[l]?.playersStats??{},rivalsPlayers:t?.[l]?.rivalsPlayers??{},matches:t?.[l]?.matches??[],updatedAt:il()}}},{merge:!0});const h=await Yc(Mn(vn,"users",r)),y=(h.exists()?h.data():null)?.lineups?.[l];if(y){const b=y?.formations?Object.entries(y.formations).map(([w,E])=>({id:w,...E})).sort((w,E)=>new Date(E.createdAt)-new Date(w.createdAt)):[];a({type:Ld,payload:{club:l,bucket:{label:y.label??u,players:y.players??[],formations:b,playersStats:y.playersStats??{},rivalsPlayers:y.rivalsPlayers??{},matches:y.matches??[]}}})}a({type:Ic}),he.Notify.success("Club guardado/activado")}catch(h){console.error(h),he.Notify.failure("No se pudo guardar el club en la nube")}}const Hv=(r,e,t,a)=>{if(!r){he.Notify.failure("Eleg un capitn");return}const o=_e(r);if(!e.includes(o)){he.Notify.failure("Capitn invlido");return}if(t.length>=11&&!t.includes(o)){he.Notify.warning("Equipo Titular Completo");return}a({type:Ww,payload:{captain:o}}),he.Notify.success(`Capitn: ${Re(o)}`)},R5=({showForm:r,selectMode:e,players:t=[],selectedOption:a="",starters:o=[],dispatch:l})=>r&&e==="captain"&&Array.isArray(t)&&t.length>0?m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Arm tu Formacin Inicial"}),m.jsxs("select",{value:a,onChange:h=>l({type:As,payload:h.target.value}),onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),Hv(a,t,o,l))},className:"border w-full",disabled:!Array.isArray(t)||t.length===0,children:[m.jsx("option",{value:"",children:"Seleccionar Capitn"}),[...Array.isArray(t)?t:[]].sort((h,g)=>h.localeCompare(g,"es",{sensitivity:"base"})).map(h=>m.jsx("option",{value:h,children:Re(h)},h))]}),m.jsx("button",{type:"button",onClick:()=>Hv(a,t,o,l),className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:!Array.isArray(t)||t.length===0||!a,children:"Confirmar Capitn"})]}):null,k5=(r,e,t)=>{const a=_e(r||"");if(a){if(e.length>=11){he.Notify.warning("Ya hay 11");return}if(e.includes(a)){he.Notify.warning("Ya est en titulares");return}t({type:Mg,payload:{player:a}}),t({type:As,payload:""}),he.Notify.success("Titular agregado")}},I5=(r,e,t)=>{const a=_e(r);if(!a){he.Notify.failure("Eleg un jugador");return}if(e.length>=11){he.Notify.warning("Ya hay 11");return}if(e.includes(a)){he.Notify.warning("Ya est en titulares");return}t({type:Mg,payload:{player:a}}),he.Notify.success("Titular agregado")},D5=({selectedOption:r="",players:e=[],starters:t=[],remaining:a=[],chosen:o=[],dispatch:l})=>m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4 underline",children:"Arma tu Formacin Inicial"}),m.jsxs("select",{value:r,onChange:u=>{const h=u.target.value;l({type:As,payload:h}),k5(h,t,l)&&l({type:As,payload:""})},className:"border w-full",disabled:e.length===0||t.length>=11,children:[m.jsx("option",{value:"",children:"Eleg un titular"}),[...a].map(u=>m.jsx("option",{value:u,children:Re(u)},u)),m.jsx("option",{disabled:!0,value:"",children:" Ya elegidos "}),o.map(u=>m.jsx("option",{value:u,disabled:!0,children:Re(u)},u))]}),m.jsx("button",{type:"button",onClick:()=>{I5(r,t,l)&&l({type:As,payload:""})},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:t.length>=11||r==="",children:"Agregar Jugador Titular"})]}),O5=async({starters:r=[],captainName:e="",activeClub:t="",teamName:a="",players:o=[],uid:l="",dispatch:u,setShowForm:h})=>{if(!Array.isArray(r)||r.length!==11)return he.Notify.failure("Debs elegir exactamente 11 titulares."),!1;if(!e){he.Notify.failure("Eleg un capitn.");return}if(!r.includes(e)){he.Notify.failure("El capitn debe estar entre los 11 titulares.");return}if(!t&&!a){he.Notify.failure("Guard el nombre del equipo antes de guardar la formacin.");return}if(!l){he.Notify.failure("No hay sesin.");return}const g=crypto&&crypto.randomUUID?crypto.randomUUID():String(Date.now()),y=_e(t||a),b=new Date().toISOString(),w=e,E=[...r];if(!y){he.Notify.failure("Falta el nombre del equipo.");return}u({type:Zw,payload:{id:g,name:a,captain:e,starters:E,createdAt:new Date,players:[...o]}});try{await Na(Mn(vn,"users",l),{[`lineups.${y}.formations.${g}`]:{createdAt:b,captain:w,starters:E},[`lineups.${y}.players`]:[...new Set(o.map(_e))],[`lineups.${y}.updatedAt`]:il()}),h(!1),he.Notify.success("Equipo guardado")}catch(k){console.error(k),he.Notify.failure("No se pudo guardar la formacin en la nube")}},j5=({captainName:r,starters:e=[],dispatch:t,activeClub:a,teamName:o,players:l=[],uid:u,setShowForm:h})=>{const g=!!r,y=Array.isArray(e)&&e.length>0;return m.jsxs("div",{children:[g&&m.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",children:[m.jsx("strong",{children:"Capitn:"})," ",Re(r)]}),y&&m.jsxs("div",{children:[m.jsx("h1",{children:`Titulares (${e.length}/11)`}),m.jsx("ul",{className:"list-disc pl-5 grid grid-cols-3 gap-x-6 gap-y-2 mb-2",children:[...e].sort((b,w)=>b.localeCompare(w,"es",{sensitivity:"base"})).map(b=>m.jsxs("li",{className:"text-gray-700 flex items-center",children:[m.jsx("button",{type:"button",onClick:()=>{t({type:Jw,payload:{player:b}}),he.Notify.success("Jugador eliminado"),b===r&&he.Notify.info("Capitn eliminado. Volv a elegir un capitn.")},className:"mr-2","aria-label":`Eliminar ${Re(b)}`,title:"Eliminar",children:""}),m.jsx("span",{children:Re(b)})]},b))}),m.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2 mt-2",onClick:()=>O5({starters:e,captainName:r,activeClub:a,teamName:o,players:l,uid:u,dispatch:t,setShowForm:h}),disabled:e.length!==11||!r,children:"Guardar Titulares"})]})]})},M5=(r,e,t,a,o)=>{const l=_e(e||t);!a||!l||he.Confirm.show("Confirmar eliminacin","Seguro que quers eliminar esta formacin?","S, eliminar","Cancelar",async()=>{o({type:tE,payload:{id:r.id}}),he.Notify.success("Formacin eliminada");const u=_e(e||t);if(!(!a||!u))try{await Na(Mn(vn,"users",a),{[`lineups.${u}.formations.${r.id}`]:C6(),[`lineups.${u}.updatedAt`]:il()})}catch(h){console.error(h),he.Notify.failure("No se pudo eliminar en la nube")}},()=>{})},L5=(r,e,t)=>{he.Confirm.show("Nuevos Horizontes","Te vas a un nuevo Club??","S, ya firme contrato","no, apret sin querer",()=>{r(!1),e({type:jg}),e({type:Lg}),t("")},()=>{})},V5=({ordered:r=[],activeClub:e,teamName:t,uid:a,dispatch:o,setShowForm:l,setTeamName:u})=>!Array.isArray(r)||r.length===0?null:m.jsx("div",{children:r.length>0&&m.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-2",children:[m.jsx("h1",{className:"text-xl font-semibold text-green-700 mb-2 underline",children:"Formaciones"}),r.map(h=>{const y=[...Array.isArray(h.starters)?h.starters:[]].sort((k,P)=>k.localeCompare(P,"es",{sensitivity:"base"})),b=y.slice(0,4),w=y.slice(4,8),E=y.slice(8,11);return m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"grid md:grid-cols-3 gap-1 md:gap-2",children:[b,w,E].map((k,P)=>m.jsxs("ul",{className:"bg-gray-50 rounded-lg p-1 shadow-inner space-y-1",children:[k.map(V=>m.jsx("li",{className:`px-2 py-1.5 rounded text-left leading-tight ${V===h.captain?"bg-yellow-50 border-l-4 border-yellow-400 font-medium text-yellow-900":"hover:bg-gray-100 text-gray-800"}`,children:Re(V)},V)),P===2&&m.jsx("li",{className:"flex justify-center items-center",children:m.jsx("button",{type:"button","aria-label":"Eliminar formacin",className:"w-9 h-9 rounded-full bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 text-lg font-bold flex items-center justify-center shadow",onClick:()=>M5(h,e,t,a,o),children:""})})]},P))}),m.jsx("hr",{})]},h.id||h.createdAt.toString())}),m.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2",onClick:()=>L5(l,o,u),children:"Nuevo Club para Dirigir"})]})});function P5(r=[],e={}){return z.useMemo(()=>{const t=new Map;for(const a of Array.isArray(r)?r:[]){const o=_e(a);o&&t.set(o,Re(o))}for(const a of Object.keys(e||{})){const o=_e(a);if(!o)continue;const l=e[o]?.label||o;t.set(o,Re(l))}return[...t.entries()].map(([a,o])=>({key:a,label:o})).sort((a,o)=>a.label.localeCompare(o.label,"es",{sensitivity:"base"}))},[r,e])}const U5=async({uid:r,teamName:e,lineups:t,dispatch:a})=>{const o=(e||"").trim();if(!o)return;const l=_e(o);if(!l)return;if(t?.[l]){a({type:kc,payload:{name:l}}),a({type:Ic}),he.Notify.success("Equipo cargado desde memoria local");return}if(!r){he.Notify.info("No hay sesin para buscar en la nube");return}try{const h=await Yc(Mn(vn,"users",r));if(!h.exists()){he.Notify.info("No se encontraron datos guardados de ese club");return}const y=h.data()?.lineups?.[l];if(!y){he.Notify.info("No se encontraron datos guardados de ese club");return}const b=y.formations?Object.entries(y.formations).map(([w,E])=>({id:w,...E})).sort((w,E)=>new Date(E.createdAt)-new Date(w.createdAt)):[];a({type:Ld,payload:{club:l,bucket:{label:y.label??o,players:y.players??[],formations:b,playersStats:y.playersStats??{},rivalsPlayers:y.rivalsPlayers??{},matches:y.matches??[]}}}),a({type:kc,payload:{name:l}}),a({type:Ic}),he.Notify.success("Equipo cargado desde la nube")}catch(h){console.error(h),he.Notify.failure("No se pudo recuperar el equipo de la nube")}},z5=()=>{const{form:r,changed:e,setValue:t}=Og(),{uid:a}=Bn(),[o,l]=z.useState(r.teamName||""),[u,h]=z.useState(r.playerName||""),g={...r,playerName:u},y=O=>{O?.target?.name==="playerName"&&h(O.target.value),e(O)},b=(O,nt)=>{O==="playerName"&&h(nt??""),t(O,nt)},{state:w,dispatch:E}=ai(),{captainName:k="",activeClub:P="",starters:V=[],selectMode:D="captain",selectedOption:B="",lineups:F={},players:G=[]}=w??{},re=_e(P||""),ne=F?.[re]?.players||[],[le,N]=z.useState(!1),S=rE(a,E,w.activeClub,w.managedClubs);y5(F,P,E,S),x5(P,F,l);const C=N5(F,P),{remaining:R,chosen:I}=S5(ne,V);b5(a,P,F,ne),v5(a,E);const q=P5(w?.managedClubs,F);return m.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:m.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[m.jsx("div",{className:"space-y-2",children:m.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[m.jsx(_5,{teamName:o}),m.jsx(w5,{value:o,onChange:l,onBlurSave:()=>U5({uid:a,teamName:o,lineups:F,dispatch:E}),onConfirm:()=>C5({uid:a,teamName:o,lineups:F,dispatch:E}),disabled:ne.length>0,suggestions:q}),m.jsx(E5,{activeClub:P,lineups:F,form:g,changed:y,players:ne,dispatch:E,setValue:b}),m.jsx(A5,{players:ne,selectedOption:B,dispatch:E,teamName:o,activeClub:P,uid:a,setShowForm:N})]})}),m.jsx("div",{className:"space-y-2",children:le?m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs(m.Fragment,{children:[m.jsx(R5,{showForm:le,selectMode:D,players:ne,selectedOption:B,starters:V,dispatch:E}),D==="starters"&&ne.length>0&&m.jsx(D5,{selectedOption:B,players:ne,starters:V,dispatch:E,remaining:R,chosen:I}),m.jsx(j5,{captainName:k,players:ne,starters:V,dispatch:E,activeClub:P,teamName:o,uid:a,setShowForm:N})]})}):ne.length!==0?m.jsxs("div",{className:"hidden lg:block text-xs text-gray-500",children:["Toc ",m.jsx("strong",{children:"Nueva formacin"})," para empezar a armar el equipo."]}):null}),m.jsx("div",{className:"space-y-2",children:C.length>0&&m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6",children:m.jsx(V5,{ordered:C,activeClub:P,teamName:o,uid:a,dispatch:E,setShowForm:N,setTeamName:l})})})]})})},Vt=r=>typeof r=="string"&&r.trim()?Re(r):String(r??"");function B5(r=""){const e=(r||"").toLowerCase();return e.includes("liga")||e.includes("campeonato")}function F5({torneoName:r,torneoYear:e,fecha:t}){if(B5(r)){const o=t?new Date(t):null,l=o?o.getFullYear():Number(e)||0;if(!o)return`${r} ${l}`;const h=o.getMonth()+1>=7?`${l}-${l+1}`:`${l-1}-${l}`;return`${r} ${h}`}const a=Number(e)||(t?new Date(t).getFullYear():"");return`${r} ${a}`}function Zm(){return{pj:0,g:0,e:0,p:0,gf:0,gc:0}}function Gv(r,{esLocal:e,gf:t,gc:a}){const o=t>a?"g":t<a?"p":"e";r.pj+=1,r[o]+=1,r.gf+=t,r.gc+=a}function To(r){const{g:e=0,e:t=0,p:a=0}=r||{};return e>=t&&e>a?"bg-green-100":a>e&&a>=t?"bg-red-100":t>=e&&t>=a?"bg-yellow-100":"bg-pink-100"}function Ao({gf:r=0,gc:e=0}){return(r||0)-(e||0)}function Rf(r){const e=r.g*3+r.e,t=r.pj*3,a=t>0?(e/t).toFixed(2):"0.00";return{puntos:e,efectividad:a}}function q5({match:r,uid:e,clubKey:t}){if(!r?.id){he.Notify.failure("No se encontr el ID del partido.");return}he.Confirm.show("Borrar Partido",`Ests seguro de borrar el partido de ${r.condition} vs ${Vt(r.rival||"")}?`,"S","No",async()=>{try{const a=Mn(vn,"users",e),l=(await Yc(a)).data()||{},u=t||r.club,g=(l?.lineups?.[u]?.matches||[]).filter(y=>y?.id!==r.id);await Na(a,{[`lineups.${u}.matches`]:g}),he.Notify.success("Partido borrado con xito.")}catch(a){console.error(a),he.Notify.failure("No se pudo borrar el partido.")}},()=>he.Notify.info("El partido no se borr"))}const H5=r=>z.useMemo(()=>{const e={};for(const t of r){const a=F5({torneoName:t.torneoName,torneoYear:t.torneoYear,fecha:t.fecha});e[a]||(e[a]={general:Zm(),local:Zm(),visitante:Zm()});const o=Number(t.golFavor)||0,l=Number(t.golContra)||0,u=(t.condition||"").toLowerCase()==="local";Gv(e[a].general,{esLocal:u,gf:o,gc:l}),Gv(u?e[a].local:e[a].visitante,{esLocal:u,gf:o,gc:l})}return e},[r]),G5=(r,e)=>z.useMemo(()=>{const t=o=>{const l=String(o).match(/(\d{4})(?:-(\d{4}))?$/);return l?parseInt(l[2]||l[1],10):0},a=Object.keys(r);return a.sort((o,l)=>e==="asc"?t(o)-t(l):t(l)-t(o)),a},[r,e]),$5=r=>{const e=r?.fecha||r?.createdAt;if(!e)return"";const t=typeof e=="string"?new Date(`${e}T00:00:00`):new Date(e);if(Number.isNaN(t.getTime()))return"";const a=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0");return`${a}/${o}`},iE=[{value:"",label:"Sin definir"},{value:"campeon",label:"Campen"},{value:"subcampeon",label:"Sub Campen"},{value:"3ro",label:"Tercero"},{value:"4to",label:"Cuarto"},{value:"5to",label:"Quinto"},{value:"6to",label:"Sexto"},{value:"7mo",label:"Sptimo"},{value:"8vo",label:"Octavo"},{value:"9no",label:"Noveno"},{value:"10mo",label:"Dcimo"},{value:"lejos",label:"Lejos"},{value:"fase de grupos",label:"Fase de Grupos"},{value:"16 avos de final",label:"16 avos de Final"},{value:"32 avos de final",label:"32 avos de Final"},{value:"octavos de final",label:"Octavos de Final"},{value:"cuartos de final",label:"Cuartos de Final"},{value:"semi Final",label:"Semi Final"}],X5=r=>{switch(r){case"ganado":return"bg-emerald-100 text-emerald-800 font-semibold";case"empatado":return"bg-amber-100 text-amber-800 font-semibold";case"perdido":return"bg-rose-100 text-rose-800 font-semibold";default:return"bg-slate-100 text-slate-700"}},Y5=({condition:r})=>{const e="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold";return r==="local"?m.jsx("span",{className:`${e} bg-blue-100 text-blue-800`,children:"Local"}):r==="visitante"?m.jsx("span",{className:`${e} bg-purple-100 text-purple-800`,children:"Visitante"}):r==="neutral"||r==="neutro"?m.jsx("span",{className:`${e} bg-slate-100 text-slate-800`,children:"Neutral"}):m.jsx("span",{className:`${e} bg-slate-100 text-slate-600`,children:"-"})},aE=r=>r?r.triplete||r.hattrick?3:r.doblete?2:r.gol?1:0:0,K5=r=>{const t=(Array.isArray(r.goleadoresActiveClub)?r.goleadoresActiveClub:[]).map(a=>{const o=aE(a);return!a.name||o<=0?null:o===1?`${Vt(a.name)}`:`${Vt(a.name)} (${o})`}).filter(Boolean);return t.length?t.join(", "):""},Q5=r=>{const t=(Array.isArray(r.goleadoresRivales)?r.goleadoresRivales:[]).map(a=>{const o=aE(a);return!a.name||o<=0?null:o===1?`${Vt(a.name)}`:`${Vt(a.name)} (${o})`}).filter(Boolean);return t.length?t.join(", "):""},sE=r=>{if(!r||!Array.isArray(r.matches)||!r.matches.length)return null;const e=Array.from(new Set(r.matches.map(t=>t.torneoYear).filter(t=>t!=null)));return e.length?e[0]:null},W5=async({uid:r,clubKey:e,camp:t,value:a})=>{if(!r||!t||!a)return;const o=sE(t),l=t.matches?.length||0,h=iE.find(w=>w.value===a)?.label||"",g=t.matches[0]||{},y=g.club||g.activeClubName||g.activeClub||e||"Sin club",b={uid:r,clubKey:e,clubName:y,torneoDisplay:t.nombre,resultado:a,resultadoLabel:h,matchesCount:l,year:o,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const w=String(y).replace(/\s+/g,"_"),E=String(t.nombre).replace(/\s+/g,"_"),P=`${r}_${w}_${E}_${o??"NA"}`,V=Mn(vn,"palmares",P);await Kc(V,b,{merge:!0}),he.Notify.success("Palmars guardado")}catch(w){he.Notify.failure("Error al guardar palmars"),console.log("error: ",w)}},J5=({matches:r=[],clubKey:e,uid:t})=>{const[a,o]=z.useState({}),l=z.useMemo(()=>{if(!Array.isArray(r))return[];const h=new Map;r.forEach(y=>{const b=y.torneoName||y.torneo||"Sin torneo";h.has(b)||h.set(b,{nombre:b,matches:[],lastDate:null});const w=h.get(b);w.matches.push(y);const E=new Date(y.fecha||y.createdAt||0);(!w.lastDate||E>w.lastDate)&&(w.lastDate=E)});const g=Array.from(h.values());return g.forEach(y=>{y.matches.sort((b,w)=>{const E=new Date(b.fecha||b.createdAt||0).getTime();return new Date(w.fecha||w.createdAt||0).getTime()-E})}),g.sort((y,b)=>{const w=(y.lastDate||0).getTime?y.lastDate.getTime():0;return((b.lastDate||0).getTime?b.lastDate.getTime():0)-w}),g},[r]);z.useEffect(()=>{(async()=>{if(t&&!(!l||!l.length))try{const g=new Set(l.map(k=>k.nombre)),y=Ow(vn,"palmares"),b=zw(y,Bw("uid","==",t)),w=await Hw(b),E={};w.forEach(k=>{const P=k.data(),V=P.torneoDisplay,D=P.resultado;g.has(V)&&typeof D=="string"&&(E[V]=D)}),o(k=>({...E,...k}))}catch(g){console.error("Error cargando palmars:",g)}})()},[t,l]);const u=async(h,g)=>{const y=h.nombre;o(b=>({...b,[y]:g}));try{await W5({uid:t,clubKey:e,camp:h,value:g})}catch(b){console.error("Error guardando en palmares:",b)}};return r.length?m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4 text-center",children:" Detalle de Partidos por Campeonato"}),l.map(h=>{const g=h.nombre,y=a[g]||"",b=sE(h),w=`${Vt(h.nombre)}${b?` ${b}`:""}`;return m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"w-full lg:w-[80%] mx-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 px-3 py-2 border-b border-slate-200 bg-slate-50",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-sm md:text-base text-slate-800",children:w}),m.jsxs("p",{className:"text-[11px] text-slate-500",children:[h.matches.length," partido",h.matches.length!==1?"s":""," jugado",h.matches.length!==1?"s":""," en este campeonato."]})]}),m.jsxs("div",{className:"text-[11px] md:text-sm",children:[m.jsx("label",{className:"mr-2 font-medium",children:"Resultado:"}),m.jsx("select",{className:"border border-slate-300 rounded px-2 py-1 text-[11px] md:text-sm bg-white",value:y,onChange:E=>u(h,E.target.value),children:iE.map(E=>m.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),m.jsx("div",{className:"overflow-x-auto text-[11px] md:text-xs",children:m.jsxs("table",{className:"w-full table-auto border-collapse border border-slate-200 rounded-lg bg-white shadow-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center",children:"Fecha"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-left  lg:w-[150px]",children:"Rival"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center  lg:w-[250px]",children:"Resultado"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center  lg:w-[60px]",children:m.jsx("img",{src:"penc.png",alt:"Editar",className:"inline-block h-10 w-10"})}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center  lg:w-[80px]",children:"Condicin"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-left",children:"Capitn"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-left",children:"Goleadores propios"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center",children:"Goles rival"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center",children:m.jsx("img",{src:"basu.png",alt:"Borrar",className:"inline-block h-10 w-10 align-middle"})})]})}),m.jsx("tbody",{children:h.matches.map(E=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-center tabular-nums",children:$5(E)}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:Vt(E.rival||"")}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:m.jsx("span",{className:"inline-block px-2 py-0.5 rounded-full text-[10px] "+X5(E.final),children:Vt(E.resultMatch||"")})}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-center",children:m.jsx("button",{children:m.jsx("img",{src:"pencil.png",alt:"Editar",className:"inline-block h-6 w-6"})})}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-center",children:m.jsx(Y5,{condition:E.condition})}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:E.captain?Vt(E.captain):""}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:K5(E)}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:Q5(E)}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-center",children:m.jsx("button",{type:"button",onClick:()=>q5({match:E,uid:t,clubKey:e}),className:"inline-flex items-center justify-center",title:"Borrar partido",children:m.jsx("img",{src:"bas.png",alt:"Borrar",className:"inline-block h-6 w-6"})})})]},E.id||`${E.fecha}-${E.rival}-${E.resultMatch}`))})]})})]})},g)})]}):null},Z5=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai(),l=Object.keys(a?.lineups||[]),[u,h]=z.useState(a?.activeClub||l[0]||""),g=_e(u||""),y=g?a?.lineups?.[g]:null,b=Array.isArray(y?.matches)?y.matches:[],[w,E]=z.useState("desc"),k=H5(b),P=G5(k,w),V=a?.lineups?.[g]||{},D=(V.players?.length??0)>0,B=(V.formations?.length??0)>0,F=V.playersStats?Object.keys(V.playersStats).length>0:!1;return!g||!D&&!B&&!F?m.jsx(Ba,{to:"/formacion",replace:!0}):m.jsxs("div",{className:"p-4 max-w-screen-2xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:" Campeonatos"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end justify-center",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:u,onChange:G=>h(G.target.value),children:l.map(G=>m.jsx("option",{value:G,children:Vt(G)},G))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),m.jsxs("select",{className:"border p-1 rounded text-sm",value:w,onChange:G=>E(G.target.value),children:[m.jsx("option",{value:"desc",children:"Ms nuevos primero"}),m.jsx("option",{value:"asc",children:"Ms viejos primero"})]})]})]}),m.jsx("div",{className:"md:hidden max-h-[75vh]  overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"w-full  text-[12px]  md:text-sm border-collapse",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Campeonato"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"Pts / Efec."})]})}),m.jsxs("tbody",{children:[P.map(G=>{const re=k[G],ne=Ao(re.general),le=Ao(re.local),N=Ao(re.visitante),S=To(re.general),C=To(re.local),R=To(re.visitante),{puntos:I,efectividad:q}=Rf(re.general),{puntos:O,efectividad:nt}=Rf(re.local),{puntos:ct,efectividad:W}=Rf(re.visitante);return m.jsxs($f.Fragment,{children:[m.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:Vt(G)}),m.jsx("td",{className:`px-2 py-1 text-center ${S}`,children:re.general.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${S}`,children:re.general.g}),m.jsx("td",{className:`px-2 py-1 text-center ${S}`,children:re.general.e}),m.jsx("td",{className:`px-2 py-1 text-center ${S}`,children:re.general.p}),m.jsx("td",{className:`px-2 py-1 text-center ${S}`,children:re.general.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${S}`,children:re.general.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${S}`,children:ne}),m.jsxs("td",{className:`px-2 py-1 text-center ${S}`,children:[I," / ",q]})]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"LOCAL"}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:re.local.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:re.local.g}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:re.local.e}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:re.local.p}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:re.local.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:re.local.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:le}),m.jsxs("td",{className:`px-2 py-1 text-center ${C}`,children:[O," / ",nt]})]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"VISITANTE"}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:re.visitante.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:re.visitante.g}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:re.visitante.e}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:re.visitante.p}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:re.visitante.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:re.visitante.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:N}),m.jsxs("td",{className:`px-2 py-1 text-center ${R}`,children:[ct," / ",W]})]})]},G)}),P.length===0&&m.jsx("tr",{children:m.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:9,children:"No hay partidos cargados para este club."})})]})]})}),m.jsx("div",{className:"hidden md:block max-h-[75vh] overflow-auto",children:m.jsxs("table",{className:"mx-auto w-max table-auto text-[11px] md:text-sm border-collapse",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Campeonato"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200 border-r border-slate-300",children:"Pts / Efec."}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200 border-r border-slate-300",children:"DG L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG V"})]})}),m.jsxs("tbody",{children:[P.map((G,re)=>{const ne=re%2===0?"bg-white":"bg-slate-50",le=k[G],N=Ao(le.general),S=Ao(le.local),C=Ao(le.visitante),R=To(le.general),I=To(le.local),q=To(le.visitante),{puntos:O,efectividad:nt}=Rf(le.general);return m.jsxs("tr",{className:`${ne} border-t border-slate-100 hover:bg-slate-100/70 transition-colors`,children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:Vt(G)}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:le.general.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:le.general.g}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:le.general.e}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:le.general.p}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:le.general.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:le.general.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:N}),m.jsxs("td",{className:`px-2 py-1 text-center ${R} border-r border-slate-200`,children:[O," / ",nt]}),m.jsx("td",{className:`px-2 py-1 text-center ${I}`,children:le.local.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${I}`,children:le.local.g}),m.jsx("td",{className:`px-2 py-1 text-center ${I}`,children:le.local.e}),m.jsx("td",{className:`px-2 py-1 text-center ${I}`,children:le.local.p}),m.jsx("td",{className:`px-2 py-1 text-center ${I}`,children:le.local.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${I}`,children:le.local.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${I} border-r border-slate-200`,children:S}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:le.visitante.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:le.visitante.g}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:le.visitante.e}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:le.visitante.p}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:le.visitante.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:le.visitante.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:C})]},G)}),P.length===0&&m.jsx("tr",{children:m.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:23,children:"No hay partidos cargados para este club."})})]})]})}),m.jsx(J5,{matches:b,clubKey:g,uid:r})]})},Ca=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0}),Ip=()=>({General:Ca(),Local:Ca(),Visitante:Ca(),Neutral:Ca()});function kf(r,e){r.pj+=1;const t=Number(e.golFavor||0),a=Number(e.golContra||0);r.gf+=t,r.gc+=a,t>a?r.g+=1:t===a?r.e+=1:r.p+=1,r.dif=r.gf-r.gc}function $v(r,e){kf(r.General,e);const t=String(e?.condition||"").trim().toLowerCase();t==="local"?kf(r.Local,e):t==="visitante"?kf(r.Visitante,e):(t==="neutro"||t==="neutral")&&kf(r.Neutral,e)}function e3(r){const e=new Map;for(const l of r||[]){const u=(l?.captain||"").trim();e.has(u)||e.set(u,{captain:u,total:Ip(),byTournament:{},tourneyMaxTs:{}});const h=e.get(u);$v(h.total,l);const g=l?.torneoDisplay||"Sin torneo";h.byTournament[g]||(h.byTournament[g]=Ip()),$v(h.byTournament[g],l);const y=l?.createdAt??(l?.fecha?new Date(l.fecha).getTime():0);h.tourneyMaxTs[g]=Math.max(h.tourneyMaxTs[g]||0,y)}const t=[...e.values()].sort((l,u)=>l.captain.localeCompare(u.captain)),a=new Map;t.forEach(l=>{Object.entries(l.tourneyMaxTs).forEach(([u,h])=>{a.set(u,Math.max(a.get(u)||0,h))})});const o=[...a.entries()].sort((l,u)=>u[1]-l[1]).map(([l])=>l);return{captains:t,tournamentsOrdered:o}}const Xv=({title:r,rows:e,colorize:t=!0})=>{const a=["General","Local","Visitante","Neutral"];function o({g=0,e:y=0,p:b=0}){return t?g>=y&&g>b?"bg-green-100":b>g&&b>=y?"bg-red-100":g===b&&g>y||g===y&&g===b||y>=g&&y>=b?"bg-yellow-100":"bg-gray-100":""}function l(g){return t?g>0?"bg-green-200 font-semibold":g<0?"bg-red-200 font-semibold":"bg-yellow-200 font-semibold":""}const u=({children:g,bg:y})=>m.jsx("td",{className:`px-2.5 py-1.5 border-b border-gray-100 text-center ${y}`,children:g}),h=({value:g})=>m.jsx("td",{className:`px-2.5 py-1.5 border-b border-gray-100 text-center ${l(g)}`,children:g});return m.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden mt-3",children:[m.jsx("div",{className:"bg-blue-50 px-2.5 py-1.5 font-semibold text-sm text-center",children:Re(r)}),m.jsxs("table",{className:"w-full border-collapse text-sm",children:[m.jsx("thead",{className:"bg-blue-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"Tipo"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"Pj"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"G"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"E"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"P"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"GF"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"GC"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"DIF"})]})}),m.jsx("tbody",{children:a.map((g,y)=>{const b=e[g]||{pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0},w=o(b);return m.jsxs("tr",{className:y%2===0?"bg-white":"bg-gray-50",children:[m.jsx("td",{className:"px-2.5 py-1.5 border-b border-gray-100",children:g}),m.jsx(u,{bg:w,children:b.pj}),m.jsx(u,{bg:w,children:b.g}),m.jsx(u,{bg:w,children:b.e}),m.jsx(u,{bg:w,children:b.p}),m.jsx(u,{bg:w,children:b.gf}),m.jsx(u,{bg:w,children:b.gc}),m.jsx(h,{value:b.dif})]},g)})})]})]})},t3=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai();Qc(r,t,o);const[l,u]=z.useState(null),h=Object.keys(a?.lineups||[]),[g,y]=z.useState(a?.activeClub||h[0]||""),b=_e(g||""),w=b?a?.lineups?.[b]:null;z.useEffect(()=>{w&&Object.keys(w).length!==0&&u(w)},[w]);const E=Array.isArray(l?.matches)?l.matches:[],k=a?.lineups?.[b]||{},P=(k.players?.length??0)>0,V=(k.formations?.length??0)>0,D=k.playersStats?Object.keys(k.playersStats).length>0:!1;if(!b||!P&&!V&&!D)return m.jsx(Ba,{to:"/formacion",replace:!0});const{captains:B,tournamentsOrdered:F}=z.useMemo(()=>e3(E),[E]),G=ne=>({General:ne?.General||Ca(),Local:ne?.Local||Ca(),Visitante:ne?.Visitante||Ca(),Neutral:ne?.Neutral||Ca()}),re=g;return m.jsxs("div",{className:"p-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-3 items-center mb-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-center col-start-2",children:" Anlisis"}),h.length>1&&m.jsxs("div",{className:"justify-self-end flex items-center gap-2",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Club:"}),m.jsx("select",{className:"border rounded px-2 py-1 text-sm",value:re,onChange:ne=>y(ne.target.value),children:h.map(ne=>m.jsx("option",{value:ne,children:Re(ne)},ne))})]})]}),m.jsx("h2",{className:"text-lg font-bold mb-2 text-center underline",children:"Totales Generales"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("div",{className:"flex gap-3 flex-nowrap justify-center mx-auto w-max",children:[B.map(ne=>m.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:m.jsx(Xv,{title:ne.captain,rows:G(ne.total)})},`total-${ne.captain}`)),!B.length&&m.jsx("div",{className:"text-gray-500 text-sm",children:" Sin partidos "})]})}),m.jsx("div",{className:"mt-6 space-y-6",children:F.map(ne=>m.jsxs("section",{children:[m.jsx("h3",{className:"font-bold text-base md:text-lg mb-2 text-center underline",children:ne}),m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"flex gap-3 flex-nowrap justify-center mx-auto w-max",children:B.map(le=>{const N=le.byTournament[ne]||Ip();return m.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:m.jsx(Xv,{title:le.captain,rows:G(N)})},`${ne}-${le.captain}`)})})})]},ne))})]})};function n3(r){const e=parseInt(r.golesFavor)||0,t=parseInt(r.golesContra)||0;return e>t?"bg-green-400":e===t?"bg-yellow-400":"bg-red-400"}const Yv=({children:r})=>m.jsx("h2",{className:"font-semibold text-sm whitespace-nowrap col-start-1",children:r}),Kv=({lista:r})=>m.jsx("div",{className:"flex gap-1 flex-wrap col-start-2 -ml-20",children:r.map(e=>m.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full ${n3(e)}`,title:`${e.fecha} vs ${String(e.rival||"").trim()}: ${e.golesFavor}-${e.golesContra}`},e.id))}),r3=({partidos:r=[],fixedCaptains:e})=>{if(!r.length)return m.jsx("p",{className:"text-center text-gray-500 mt-4",children:"No hay partidos para mostrar."});const t=[...r].sort((u,h)=>new Date(h.fecha)-new Date(u.fecha)),a=t.slice(0,10),o=Array.isArray(e)&&e.length?e.map(u=>u.toLowerCase()):[...new Set(t.map(u=>(u.equipo||"").toLowerCase()).filter(Boolean))].sort(),l=Object.fromEntries(o.map(u=>[u,t.filter(h=>(h.equipo||"").toLowerCase()===u).slice(0,10)]));return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-2 items-center gap-2 mb-2 ml-12",children:[m.jsx(Yv,{children:" ltimos 10 Resultados (General)"}),m.jsx(Kv,{lista:a})]}),o.map(u=>m.jsxs("div",{className:"grid grid-cols-2 items-center gap-2 mb-2 mt-4 ml-12",children:[m.jsxs(Yv,{children:[" ltimos 10 con ",Re(u)]}),m.jsx(Kv,{lista:l[u]})]},u)),m.jsx("br",{})]})},i3=(r=[])=>z.useMemo(()=>r.map(e=>({id:e.id,fecha:e.fecha,rival:e.rival,golesFavor:e.golFavor??0,golesContra:e.golContra??0,equipo:(e.captain||"").toLowerCase(),esLocal:String(e.condition||"").trim().toLowerCase()==="local"})),[r]),Kr=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,df:0}),Es=()=>({General:Kr(),Local:Kr(),Visitante:Kr(),Neutral:Kr()}),_s=["PJ","G","E","P","GF","GC","DF"];function va(r,e,t){r.pj+=1,e>t?r.g+=1:e===t?r.e+=1:r.p+=1,r.gf+=e,r.gc+=t,r.df=r.gf-r.gc}function oE(r){return r>0?"bg-green-200":r<0?"bg-red-200":"bg-yellow-200"}function lE(r={}){const{g:e=0,e:t=0,p:a=0}=r;return e>=t&&e>a?"bg-green-100":a>e&&a>=t?"bg-red-100":e===a&&e>t||e===t&&e===a||t>=e&&t>=a?"bg-yellow-100":"bg-pink-100"}const a3=(r,e=[])=>{const t={General:r?.General??Kr(),Local:r?.Local??Kr(),Neutral:r?.Neutral??Kr(),Visitante:r?.Visitante??Kr()},a=[];for(const o of e){const l=t[o]??Kr();a.push(l.pj,l.g,l.e,l.p,l.gf,l.gc,l.df)}return a.map((o,l)=>{const u=l%7,h=Math.floor(l/7),g=e[h],y=t[g]??Kr(),b=u===6?oE(y.df):lE(y);return m.jsx("td",{className:`border px-2 py-1 text-center ${b}`,children:o},`${g}-${l}`)})},Qv=({etiquetas:r,sufijos:e=["",""]})=>m.jsx(m.Fragment,{children:r.flatMap((t,a)=>_s.map(o=>m.jsxs("th",{className:"border px-2 py-1 text-center",children:[o,e[a]]},`${t}-${o}`)))}),If=({triple:r,orden:e})=>m.jsx(m.Fragment,{children:a3(r,e)}),s3=(r=[])=>z.useMemo(()=>{const e={},t=new Set;for(const l of r){if(!l?.fecha)continue;const u=new Date(l.fecha),h=Number.isFinite(u.getTime())?String(u.getFullYear()):"N/A",g=(l?.captain||"").trim();t.add(g),e[h]||(e[h]={general:Es(),capitanes:{}}),e[h].capitanes[g]||(e[h].capitanes[g]=Es());const y=Number(l.golFavor||0),b=Number(l.golContra||0),w=String(l.condition||"").trim().toLowerCase();va(e[h].general.General,y,b),w==="local"?va(e[h].general.Local,y,b):w==="visitante"?va(e[h].general.Visitante,y,b):(w==="neutral"||w==="neutro"||w==="neutro/neutral")&&(e[h].general.Neutral||(e[h].general.Neutral=Es().General),va(e[h].general.Neutral,y,b)),va(e[h].capitanes[g].General,y,b),w==="local"?va(e[h].capitanes[g].Local,y,b):w==="visitante"?va(e[h].capitanes[g].Visitante,y,b):(w==="neutral"||w==="neutro"||w==="neutro/neutral")&&(e[h].capitanes[g].Neutral||(e[h].capitanes[g].Neutral=Es().General),va(e[h].capitanes[g].Neutral,y,b))}const a=Object.keys(e).sort((l,u)=>{const h=parseInt(l.split("-")[0],10);return parseInt(u.split("-")[0],10)-h}),o=[...t].sort((l,u)=>l.localeCompare(u));return{temporadasOrdenadas:a,resumenPorTemporada:e,captainsOrdenados:o}},[r]),ep=r=>r===0?{bg:"bg-amber-50",icon:"",isTop3:!0}:r===1?{bg:"bg-slate-50",icon:"",isTop3:!0}:r===2?{bg:"bg-orange-50/40",icon:"",isTop3:!0}:{bg:"bg-white",icon:`${r+1}`,isTop3:!1},Wv=({playersStats:r={},topN:e=7,mode:t="horizontal",className:a=""})=>{const o=Object.entries(r).map(([l,u])=>({name:l,goals:u?.goals??0})).filter(l=>l.goals>0).sort((l,u)=>u.goals-l.goals).slice(0,e);return o.length===0?null:t==="vertical"?m.jsx("div",{className:`${a}`,children:m.jsxs("div",{className:"w-max mx-auto rounded-lg border border-slate-200 bg-white shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-3 py-2 border-b border-slate-200 text-[10px] font-semibold tracking-wide text-center uppercase text-slate-800",children:"Goleadores"}),m.jsx("table",{className:"w-full text-[11px] border-collapse",children:m.jsx("tbody",{children:o.map((l,u)=>{const{bg:h,icon:g,isTop3:y}=ep(u);return m.jsxs("tr",{className:`${h} border-t border-slate-100`,children:[m.jsx("td",{className:`px-3 py-2 text-left ${y?"font-semibold text-slate-800":"text-slate-700"}`,children:Vt(l.name)}),m.jsx("td",{className:"px-3 py-2 text-right whitespace-nowrap tabular-nums font-bold text-slate-900",children:m.jsxs("span",{className:"inline-flex items-center gap-2",children:[m.jsx("span",{className:"text-xs text-slate-500",children:g}),m.jsx("span",{children:l.goals})]})})]},l.name)})})})]})}):m.jsx("div",{className:`mt-4 ${a} md:hidden sm:hidden`,children:m.jsx("div",{className:"w-full mx-auto rounded-lg border border-slate-200 bg-white shadow-sm overflow-x-auto",children:m.jsx("table",{className:"w-full min-w-max text-[11px] border-collapse",children:m.jsxs("tbody",{children:[m.jsx("tr",{className:"bg-sky-50 border-b border-slate-200 text-lg",children:o.map((l,u)=>{const{icon:h}=ep(u);return m.jsx("td",{className:"px-3 py-2 text-center whitespace-nowrap font-semibold text-slate-700",children:h},`r-${l.name}`)})}),m.jsx("tr",{className:"border-b border-slate-100",children:o.map(l=>m.jsx("td",{className:"px-1 py-1 text-center whitespace-nowrap tabular-nums font-bold text-slate-900 text-lg",children:l.goals},`g-${l.name}`))}),m.jsx("tr",{children:o.map((l,u)=>{const{bg:h,isTop3:g}=ep(u);return m.jsx("td",{className:`px-1 py-1 text-center whitespace-nowrap text-sm ${h} ${g?"font-semibold text-slate-800":"text-slate-700"}`,children:Vt(l.name)},`n-${l.name}`)})})]})})})})},o3={PJ:"pj",G:"g",E:"e",P:"p",GF:"gf",GC:"gc",DF:"df"},_a=(r={})=>_s.map(e=>{const t=o3[e],a=r?.[t]??0,o=e==="DF"?oE(r?.df??0):lE(r);return m.jsx("td",{className:`px-2 py-1 text-center ${o}`,children:a},e)}),l3=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai();Qc(r,t,o);const[l,u]=z.useState(null),h=Object.keys(a?.lineups||[]),[g,y]=z.useState(a?.activeClub||h[0]||""),b=_e(g||""),w=b?a?.lineups?.[b]:null,E=a?.lineups?.[b]||{},k=(E.players?.length??0)>0,P=(E.formations?.length??0)>0,V=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!b||!k&&!P&&!V)return m.jsx(Ba,{to:"/formacion",replace:!0});z.useEffect(()=>{w&&Object.keys(w).length!==0&&u(w)},[w]);const D=Array.isArray(l?.matches)?l.matches:[],{temporadasOrdenadas:B,resumenPorTemporada:F,captainsOrdenados:G}=s3(D),re=i3(D),ne=[...B||[]].reverse();return m.jsxs("div",{className:"p-4 max-w-screen-2xl mx-auto",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-center",children:" Temporadas"}),h.length>0&&m.jsxs("div",{className:"text-center mt-3",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:g,onChange:le=>y(le.target.value),children:h.map(le=>m.jsx("option",{value:le,children:Re(le)},le))})]})]}),m.jsx(r3,{partidos:re}),ne.map(le=>{const N=F[le];if(!N)return null;const S=Array.isArray(G)?G:[],C=N.general||Es();return m.jsxs("div",{className:"mb-8 space-y-3",children:[m.jsxs("div",{className:"flex justify-evenly ",children:[m.jsx("div",{className:"lg:hidden max-h-full overflow-auto overflow-x-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Temporada"}),_s.map(R=>m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:R},`head-${R}`))]})}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-2 py-1.5 w-24 whitespace-nowrap font-semibold text-left text-slate-800",children:le}),_a(C.General)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Local"}),_a(C.Local)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Visitante"}),_a(C.Visitante)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Neutral"}),_a(C.Neutral)]}),S.map(R=>{const I=N.capitanes?.[R]||Es();return m.jsxs($f.Fragment,{children:[m.jsxs("tr",{className:"border-t border-slate-200 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:Re(R)}),_a(I.General)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Local"}),_a(I.Local)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Visitante"}),_a(I.Visitante)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Neutral"}),_a(I.Neutral)]})]},`${le}-${R}`)})]})]})}),m.jsx("div",{className:"md:w-max lg:hidden",children:m.jsx(Wv,{playersStats:l?.playersStats,topN:9,mode:"vertical",className:"mt-0"})})]}),m.jsx("div",{className:"hidden lg:block max-h-[75vh] overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"mx-auto w-full min-w-[860px] text-[11px] md:text-sm border-collapse",children:[m.jsxs("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:[m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 w-28 whitespace-nowrap text-left border-b border-slate-200",children:"Temporada"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",colSpan:14,children:b})]}),m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200"}),_s.map(R=>m.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:R},`G-${R}`)),_s.map(R=>m.jsxs("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:[R," N"]},`N-${R}`))]})]}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"bg-white border-t border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 font-semibold text-center",children:le}),m.jsx(If,{triple:N.general,orden:["General","Neutral"]})]}),m.jsxs("tr",{className:"bg-slate-50",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Condicin"}),_s.map(R=>m.jsxs("th",{className:"border-b border-t border-slate-200 px-2 py-1 text-center text-[10px]",children:[R," L"]},`L-${R}`)),_s.map(R=>m.jsxs("th",{className:"border-b border-t border-slate-200 px-2 py-1 text-center text-[10px]",children:[R," V"]},`V-${R}`))]}),m.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Totales"}),m.jsx(If,{triple:N.general,orden:["Local","Visitante"]})]}),S.map(R=>{const I=N.capitanes?.[R]||Es();return m.jsxs($f.Fragment,{children:[m.jsxs("tr",{className:"bg-slate-100 border-t border-slate-200",children:[m.jsx("td",{className:"border-r border-slate-200 font-semibold px-2 py-1 text-left",children:Re(R)}),m.jsx(Qv,{etiquetas:["General","Neutral"],sufijos:[""," N"]})]}),m.jsxs("tr",{className:"bg-white hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),m.jsx(If,{triple:I,orden:["General","Neutral"]})]}),m.jsxs("tr",{className:"bg-slate-50",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-[10px] uppercase text-slate-600",children:"Condicin"}),m.jsx(Qv,{etiquetas:["Local","Visitante"],sufijos:[" L"," V"]})]}),m.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),m.jsx(If,{triple:I,orden:["Local","Visitante"]})]})]},`${le}-${R}`)})]})]})}),m.jsx(Wv,{playersStats:l?.playersStats,topN:15,mode:"horizontal"})]},le)})]})},c3=({matches:r})=>{const e=o=>o?o.dobleHattrick?6:o.manito?5:o.poker?4:o.hattrick||o.triplete?3:o.doblete?2:o.gol?1:0:0,t=z.useMemo(()=>{const o={};return r.forEach(l=>{const{torneoDisplay:u,torneoName:h,torneoYear:g,goleadoresActiveClub:y,starters:b,substitutes:w}=l||{};if(!g)return;const E=u||`${h??"Torneo"} ${g}`,k=`${h??E}-${g}`;o[k]||(o[k]={label:E,year:g,jugadores:{}});const P=Array.isArray(b)?b:[],V=Array.isArray(w)?w:[];[...new Set([...P,...V].map(F=>(F??"").toString().trim()).filter(Boolean))].forEach(F=>{const G=F.toLowerCase();o[k].jugadores[G]||(o[k].jugadores[G]={nombre:Vt(F),pj:0,goles:0,x2:0,x3:0}),o[k].jugadores[G].pj+=1}),(Array.isArray(y)?y:[]).forEach(F=>{if(!F)return;const re=(F.pretty??F.prettyName??F.displayName??F.nombre??F.name??"").toString().trim();if(!re||F.isOwnGoal===!0||re==="__og__")return;const ne=re.toLowerCase();o[k].jugadores[ne]||(o[k].jugadores[ne]={nombre:Vt(re),pj:0,goles:0,x2:0,x3:0});const le=o[k].jugadores[ne],N=e(F);le.goles+=N,F.doblete&&(le.x2+=1),(F.hattrick||F.triplete)&&(le.x3+=1)})}),Object.values(o).sort((l,u)=>u.year-l.year||l.label.localeCompare(u.label))},[r]),a=(o,l)=>l?(o/l).toFixed(2):"0.00";return!r||!r.length?m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."}):m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores por campeonato"}),t.map(o=>{const l=Object.values(o.jugadores).filter(u=>u.goles>0).sort((u,h)=>h.goles-u.goles||u.nombre.localeCompare(h.nombre));return m.jsxs("div",{className:"mb-6 border border-slate-200 rounded-lg bg-white shadow-sm p-3",children:[m.jsx("h3",{className:"text-base font-semibold mb-3 text-center underline",children:o.label}),m.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:m.jsxs("table",{className:"table-auto border-collapse border mx-auto min-w-[500px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"PJ"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Prom."}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"})]})}),m.jsxs("tbody",{children:[l.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"border px-2 py-2 text-center text-slate-500",children:"No hubo goles en este campeonato."})}),l.map(u=>m.jsxs("tr",{children:[m.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:u.nombre}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u.pj}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u.goles}),m.jsx("td",{className:"border px-2 py-1 text-center",children:a(u.goles,u.pj)}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u.x2}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u.x3})]},u.nombre))]})]})})]},o.label)})]})},u3=({matches:r})=>{const e=Array.isArray(r)?r:[],[t,a]=z.useState("general"),[o,l]=z.useState("goles"),[u,h]=z.useState("desc"),g=z.useMemo(()=>{const b={},w=D=>D?D.dobleHattrick?6:D.manito?5:D.poker?4:D.hattrick||D.triplete?3:D.doblete?2:D.gol?1:0:0,E=D=>D?String(D).toLowerCase().includes("__og__"):!1;e.forEach(D=>{let B=(D?.condition||"").toString().toLowerCase();B||(D?.local===!0?B="local":D?.local===!1&&(B="visitante"));const F=["general"];B==="local"?F.push("local"):B==="visitante"?F.push("visitante"):(B==="neutral"||B==="neutro")&&F.push("neutro");const G=Array.isArray(D?.goleadoresActiveClub)?D.goleadoresActiveClub:[],re={};[...Array.isArray(D?.starters)?D.starters:[],...Array.isArray(D?.substitutes)?D.substitutes:[]].forEach(le=>{const N=le?.toString().trim();!N||E(N)||(b[N]||(b[N]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),re[N]||(re[N]=new Set),F.forEach(S=>re[N].add(S)))}),G.forEach(le=>{const N=(le?.name||le?.nombre||"").toString().trim();if(!N||E(N))return;const S=w(le);S&&(b[N]||(b[N]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),F.forEach(C=>{b[N][C].goles+=S,S===2&&(b[N][C].x2+=1),S===3&&(b[N][C].x3+=1)}))}),Object.entries(re).forEach(([le,N])=>{N.forEach(S=>{b[le][S].pj+=1})})});const k=D=>{const B=D.pj||0,F=D.goles||0;return{...D,pj:B,goles:F,x2:D.x2||0,x3:D.x3||0,prom:B>0?F/B:0}};return Object.entries(b).map(([D,B])=>({nombre:D,general:k(B.general),local:k(B.local),visitante:k(B.visitante),neutro:k(B.neutro)})).sort((D,B)=>{if(o==="nombre"){const F=D.nombre.toLowerCase(),G=B.nombre.toLowerCase();return u==="asc"?F.localeCompare(G):G.localeCompare(F)}else{const F=t,G=D[F]?.[o]??0,re=B[F]?.[o]??0;return u==="asc"?G-re:re-G}})},[e,t,o,u]),y=b=>!b||Number.isNaN(b)?"0.00":b.toFixed(2);return e.length?m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores del equipo"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end text-sm justify-center",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"mbito"}),m.jsxs("select",{value:t,onChange:b=>a(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"local",children:"Local"}),m.jsx("option",{value:"visitante",children:"Visitante"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Campo"}),m.jsxs("select",{value:o,onChange:b=>l(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"nombre",children:"Nombre"}),m.jsx("option",{value:"pj",children:"PJ"}),m.jsx("option",{value:"goles",children:"Goles"}),m.jsx("option",{value:"x2",children:"x2"}),m.jsx("option",{value:"x3",children:"x3"}),m.jsx("option",{value:"prom",children:"Promedio"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),m.jsxs("select",{value:u,onChange:b=>h(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"asc",children:"Ascendente"}),m.jsx("option",{value:"desc",children:"Descendente"})]})]})]}),m.jsx("div",{className:"max-h-[80vh] overflow-auto ",children:m.jsxs("table",{className:"table-fixed border-collapse mx-auto min-w-[680px] md:min-w-[780px] text-[11px] md:text-sm tabular-nums",children:[m.jsxs("thead",{className:"sticky top-0 z-20",children:[m.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[m.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-center sticky left-0 bg-slate-100 z-20 w-10",children:"#"}),m.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-left sticky left-10 bg-slate-100 z-20 w-28 sm:w-20 md:w-20 lg:w-20 overflow-hidden",children:"Jugador"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"General"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Local"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Visitante"})]}),m.jsxs("tr",{className:"bg-slate-50 text-slate-600 text-[10px] md:text-xs",children:[["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`gen-${w}`)),["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`loc-${w}`)),["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`vis-${w}`))]})]}),m.jsx("tbody",{children:g.map((b,w)=>m.jsxs("tr",{className:"even:bg-slate-50 hover:bg-slate-100/70 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center sticky left-0 bg-white z-10 w-10",children:w+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold sticky left-10 bg-white z-10 w-28 sm:w-20 md:w-20 lg:w-20 max-w-[112px] sm:max-w-[128px] md:max-w-[80px] lg:max-w-[160px] whitespace-nowrap overflow-hidden text-ellipsis",children:Vt(b.nombre)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:y(b.general.prom)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:y(b.local.prom)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:y(b.visitante.prom)})]},b.nombre))})]})})]}):m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."})},f3=({matches:r})=>{const e=z.useMemo(()=>{const t={};return r.forEach(a=>{(Array.isArray(a.goleadoresRivales)?a.goleadoresRivales:[]).forEach(l=>{if(!l)return;const u=l.name?.toString().trim(),h=l.club?.toString().trim()||"";if(!u)return;const g=u.toLowerCase();if(l.isOwnGoal===!0||!!!(l.gol||l.doblete||l.triplete)||g.includes("__og__")||g.includes("en contra"))return;const b=`${u.toLowerCase()}|${h.toLowerCase()}`;t[b]||(t[b]={nombre:u,club:h,goles:0,x2:0,x3:0,expulsiones:0});const w=t[b],E=!!l.doblete,k=!!l.triplete,P=!!l.gol,V=!!l.expulsion;k?(w.goles+=3,w.x3+=1):E?(w.goles+=2,w.x2+=1):P&&(w.goles+=1),V&&(w.expulsiones+=1)})}),Object.values(t).map(a=>{const o=Vt(a.nombre),l=a.club?Vt(a.club):"";return{...a,nombrePretty:o,clubPretty:l}}).sort((a,o)=>o.goles-a.goles||a.clubPretty.localeCompare(o.clubPretty,"es",{sensitivity:"base"})||a.nombrePretty.localeCompare(o.nombrePretty,"es",{sensitivity:"base"}))},[r]);return!r||!r.length?m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."}):e.length?m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores rivales (Villanos)"}),m.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:m.jsxs("table",{className:"table-auto border-collapse border mx-auto min-w-[450px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-1 text-left",children:"Club"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Expulsiones"})]})}),m.jsx("tbody",{children:e.map(t=>m.jsxs("tr",{children:[m.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:t.nombrePretty}),m.jsx("td",{className:"border px-2 py-1 text-left",children:t.clubPretty||""}),m.jsx("td",{className:"border px-2 py-1 text-center",children:t.goles}),m.jsx("td",{className:"border px-2 py-1 text-center",children:t.x2}),m.jsx("td",{className:"border px-2 py-1 text-center",children:t.x3}),m.jsx("td",{className:"border px-2 py-1 text-center",children:t.expulsiones})]},`${t.nombre}-${t.club}`))})]})})]}):m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No se registraron goles rivales."})},d3=({matches:r=[]})=>{const e=z.useMemo(()=>{const t=new Map;return(Array.isArray(r)?r:[]).forEach(a=>{(Array.isArray(a?.goleadoresActiveClub)?a.goleadoresActiveClub:[]).forEach(l=>{if(!l||!!!l.expulsion)return;const h=(l.name||l.nombre||"").trim();h&&t.set(h,(t.get(h)||0)+1)})}),Array.from(t.entries()).map(([a,o])=>({nombre:a,expulsiones:o})).sort((a,o)=>o.expulsiones-a.expulsiones||a.nombre.localeCompare(o.nombre))},[r]);return e.length?m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:"Expulsados"}),m.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:m.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),m.jsx("tbody",{children:e.map((t,a)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:a+1}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:Vt(t.nombre)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:t.expulsiones})]},t.nombre))})]})})]}):m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin expulsados "})},h3=({matches:r=[]})=>{const e=z.useMemo(()=>{const t=new Map;return(Array.isArray(r)?r:[]).forEach(a=>{(Array.isArray(a?.goleadoresRivales)?a.goleadoresRivales:[]).forEach(l=>{if(!l||!!!l.expulsion)return;const h=(l.name||l.nombre||"").trim(),g=(l.club||l.equipo||l.rival||"").trim();if(!h)return;const y=`${h}||${g}`;t.set(y,(t.get(y)||0)+1)})}),Array.from(t.entries()).map(([a,o])=>{const[l,u]=a.split("||");return{nombre:l,club:u,expulsiones:o}}).sort((a,o)=>o.expulsiones-a.expulsiones||a.club.localeCompare(o.club,"es",{sensitivity:"base"})||a.nombre.localeCompare(o.nombre,"es",{sensitivity:"base"}))},[r]);return e.length?m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:"Carniceros"}),m.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:m.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Club"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),m.jsx("tbody",{children:e.map((t,a)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:a+1}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:Vt(t.nombre)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:Vt(t.club)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:t.expulsiones})]},t.nombre))})]})})]}):m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin Carniceros "})},m3=r=>r?String(r).replace(/_/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,e=>e.toUpperCase()):"",p3=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai();Qc(r,t,o);const[l,u]=z.useState(null),h=Object.keys(a?.lineups||[]),[g,y]=z.useState(a?.activeClub||h[0]||""),b=_e(g||""),w=b?a?.lineups?.[b]:null,E=a?.lineups?.[b]||{},k=(E.players?.length??0)>0,P=(E.formations?.length??0)>0,V=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!b||!k&&!P&&!V)return m.jsx(Ba,{to:"/formacion",replace:!0});z.useEffect(()=>{w&&Object.keys(w).length!==0&&u(w)},[w]);const D=Array.isArray(l?.matches)?l.matches:[],[B,F]=z.useState("goleadores");return m.jsxs("div",{className:"p-4 max-w-screen-2xl mx-auto",children:[m.jsx("div",{className:"flex flex-wrap gap-4 mb-4 items-end justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:g,onChange:G=>y(G.target.value),children:h.map(G=>m.jsx("option",{value:G,children:m3(G)},G))})]})}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[m.jsx("button",{onClick:()=>F("goleadores"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${B==="goleadores"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Goleadores"}),m.jsx("button",{onClick:()=>F("campeonatos"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${B==="campeonatos"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Goleadores por campeonato"}),m.jsx("button",{onClick:()=>F("expulsados"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${B==="expulsados"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Expulsados"}),m.jsx("button",{onClick:()=>F("villanos"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${B==="villanos"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Villanos"}),m.jsx("button",{onClick:()=>F("carniceros"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${B==="carniceros"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Carniceros"})]}),B==="goleadores"&&m.jsx(u3,{matches:D}),B==="campeonatos"&&m.jsx(c3,{matches:D}),B==="villanos"&&m.jsx(f3,{matches:D}),B==="expulsados"&&m.jsx(d3,{matches:D}),B==="carniceros"&&m.jsx(h3,{matches:D})]})},g3=r=>{const e="inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] md:text-xs font-semibold border";switch(r){case"campeon":return`${e} bg-emerald-50 text-emerald-700 border-emerald-200`;case"subcampeon":return`${e} bg-amber-50 text-amber-700 border-amber-200`;case"3ro":case"tercero":return`${e} bg-sky-50 text-sky-700 border-sky-200`;default:return`${e} bg-slate-50 text-slate-700 border-slate-200`}},y3=r=>{const e=t=>typeof t=="number"?t:parseInt(String(t),10);return[...r].sort((t,a)=>{const o=e(t),l=e(a),u=Number.isNaN(o),h=Number.isNaN(l);return u&&h?String(t).localeCompare(String(a)):u?1:h?-1:l-o})},x3=()=>{const{uid:r}=Bn(),[e,t]=z.useState([]),[a,o]=z.useState(!0),{state:l,dispatch:u}=ii(),{state:h,dispatch:g}=rE(),y=h?.activeClub||l?.activeClub||"",b=_e?_e(y):y,w=h?.lineups?.[b]||{},E=(w.players?.length??0)>0,k=(w.formations?.length??0)>0,P=w.playersStats?Object.keys(w.playersStats).length>0:!1;if(!b||!E&&!k&&!P)return m.jsx(Ba,{to:"/formacion",replace:!0});z.useEffect(()=>{if(!r){t([]),o(!1);return}(async()=>{try{o(!0);const B=Ow(vn,"palmares"),F=zw(B,Bw("uid","==",r)),re=(await Hw(F)).docs.map(ne=>({id:ne.id,...ne.data()}));t(re)}catch(B){console.error("Error cargando palmars:",B),t([])}finally{o(!1)}})()},[r]);const V=z.useMemo(()=>{if(!e.length)return[];const D=new Map;return e.forEach(F=>{const G=F.year??"Sin ao";D.has(G)||D.set(G,[]),D.get(G).push(F)}),y3(Array.from(D.keys())).map(F=>{const G=D.get(F)||[];return G.sort((re,ne)=>String(re.torneoDisplay||"").localeCompare(String(ne.torneoDisplay||""))),{year:F,campeonatos:G}})},[e]);return m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:" Palmars"}),m.jsx("p",{className:"text-xs md:text-sm text-slate-500 text-center mb-6",children:"Campeonatos guardados desde la pantalla de Campeonatos, agrupados por ao y resultado."}),a&&m.jsx("div",{className:"text-center text-sm text-slate-500 mt-6",children:"Cargando palmars..."}),!a&&!e.length&&m.jsxs("div",{className:"text-center text-sm text-slate-500 mt-6",children:["Todava no guardaste resultados de campeonatos.",m.jsx("br",{}),"Us la pantalla ",m.jsx("span",{className:"font-semibold",children:"Campeonatos"})," ","para marcar la posicin final en cada torneo."]}),!a&&V.map(({year:D,campeonatos:B})=>m.jsxs("section",{className:"mb-6",children:[m.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"w-8 h-px bg-slate-300 md:w-12"}),m.jsx("h2",{className:"text-sm md:text-base font-semibold text-slate-700",children:Number.isNaN(parseInt(String(D),10))?String(D):D}),m.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),m.jsx("div",{className:"space-y-2",children:B.map(F=>m.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-baseline justify-between gap-3 px-3 py-2 rounded-lg bg-white border border-slate-100 shadow-sm",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[12px] md:text-sm font-medium text-slate-900",children:F.torneoDisplay||"Sin nombre"}),F.clubName&&m.jsx("span",{className:"text-[10px] md:text-xs text-slate-500",children:Re(F.clubName)}),F.matchesCount!=null&&m.jsxs("span",{className:"text-[10px] text-slate-400 mt-0.5",children:[F.matchesCount," partido",F.matchesCount===1?"":"s"]})]}),m.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:F.resultado&&m.jsx("span",{className:g3(F.resultado),children:F.resultadoLabel||F.resultado})})]},F.id))})]},D))]})};function b3(){const{uid:r}=Bn(),{dispatch:e}=ii(),{dispatch:t}=ai();return useUserData(r,e,t),null}const v3="PesStatsZone",_3=()=>m.jsx(rA,{basename:`/${v3}/`,children:m.jsxs(j2,{children:[m.jsx(er,{element:m.jsx(hA,{}),children:m.jsx(er,{path:"/",element:m.jsx(V6,{})})}),m.jsxs(er,{element:m.jsx(G6,{}),children:[m.jsx(er,{path:"*",element:m.jsx(b3,{})}),m.jsx(er,{path:"/registrar-partido",element:m.jsx(c5,{})}),m.jsx(er,{path:"/formacion",element:m.jsx(z5,{})}),m.jsx(er,{path:"/versus",element:m.jsx(g5,{})}),m.jsx(er,{path:"/campeonatos",element:m.jsx(Z5,{})}),m.jsx(er,{path:"/analisis",element:m.jsx(t3,{})}),m.jsx(er,{path:"/temporadas",element:m.jsx(l3,{})}),m.jsx(er,{path:"/goleadores",element:m.jsx(p3,{})}),m.jsx(er,{path:"/palmares",element:m.jsx(x3,{})})]})]})});he.Notify.init({position:"center-bottom",distance:"20px",timeout:3e3,clickToClose:!0,fontSize:"16px",width:"280px"});FT.createRoot(document.getElementById("root")).render(m.jsx(z.StrictMode,{children:m.jsx(M6,{children:m.jsx(q6,{children:m.jsx(U6,{children:m.jsx(_3,{})})})})}));
