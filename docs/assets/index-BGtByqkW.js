(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dg={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function WC(){if(z_)return uu;z_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:s,key:l,ref:i!==void 0?i:null,props:a}}return uu.Fragment=e,uu.jsx=t,uu.jsxs=t,uu}var U_;function YC(){return U_||(U_=1,Dg.exports=WC()),Dg.exports}var m=YC(),Mg={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function KC(){if(B_)return Je;B_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=x&&G[x]||G["@@iterator"],typeof G=="function"?G:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function T(G,ee,fe){this.props=G,this.context=ee,this.refs=w,this.updater=fe||E}T.prototype.isReactComponent={},T.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},T.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function k(){}k.prototype=T.prototype;function I(G,ee,fe){this.props=G,this.context=ee,this.refs=w,this.updater=fe||E}var M=I.prototype=new k;M.constructor=I,S(M,T.prototype),M.isPureReactComponent=!0;var z=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function A(G,ee,fe,re,pe,xe){return fe=xe.ref,{$$typeof:n,type:G,key:ee,ref:fe!==void 0?fe:null,props:xe}}function R(G,ee){return A(G.type,ee,void 0,void 0,void 0,G.props)}function j(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function P(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(fe){return ee[fe]})}var V=/\/+/g;function U(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?P(""+G.key):ee.toString(36)}function L(){}function ge(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(L,L):(G.status="pending",G.then(function(ee){G.status==="pending"&&(G.status="fulfilled",G.value=ee)},function(ee){G.status==="pending"&&(G.status="rejected",G.reason=ee)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ue(G,ee,fe,re,pe){var xe=typeof G;(xe==="undefined"||xe==="boolean")&&(G=null);var ye=!1;if(G===null)ye=!0;else switch(xe){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(G.$$typeof){case n:case e:ye=!0;break;case g:return ye=G._init,ue(ye(G._payload),ee,fe,re,pe)}}if(ye)return pe=pe(G),ye=re===""?"."+U(G,0):re,z(pe)?(fe="",ye!=null&&(fe=ye.replace(V,"$&/")+"/"),ue(pe,ee,fe,"",function(Ke){return Ke})):pe!=null&&(j(pe)&&(pe=R(pe,fe+(pe.key==null||G&&G.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+ye)),ee.push(pe)),1;ye=0;var De=re===""?".":re+":";if(z(G))for(var be=0;be<G.length;be++)re=G[be],xe=De+U(re,be),ye+=ue(re,ee,fe,xe,pe);else if(be=b(G),typeof be=="function")for(G=be.call(G),be=0;!(re=G.next()).done;)re=re.value,xe=De+U(re,be++),ye+=ue(re,ee,fe,xe,pe);else if(xe==="object"){if(typeof G.then=="function")return ue(ge(G),ee,fe,re,pe);throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ye}function W(G,ee,fe){if(G==null)return G;var re=[],pe=0;return ue(G,re,"","",function(xe){return ee.call(fe,xe,pe++)}),re}function ae(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(fe){(G._status===0||G._status===-1)&&(G._status=1,G._result=fe)},function(fe){(G._status===0||G._status===-1)&&(G._status=2,G._result=fe)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var we=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function Ae(){}return Je.Children={map:W,forEach:function(G,ee,fe){W(G,function(){ee.apply(this,arguments)},fe)},count:function(G){var ee=0;return W(G,function(){ee++}),ee},toArray:function(G){return W(G,function(ee){return ee})||[]},only:function(G){if(!j(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Je.Component=T,Je.Fragment=t,Je.Profiler=i,Je.PureComponent=I,Je.StrictMode=s,Je.Suspense=d,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Je.__COMPILER_RUNTIME={__proto__:null,c:function(G){return B.H.useMemoCache(G)}},Je.cache=function(G){return function(){return G.apply(null,arguments)}},Je.cloneElement=function(G,ee,fe){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var re=S({},G.props),pe=G.key,xe=void 0;if(ee!=null)for(ye in ee.ref!==void 0&&(xe=void 0),ee.key!==void 0&&(pe=""+ee.key),ee)!$.call(ee,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&ee.ref===void 0||(re[ye]=ee[ye]);var ye=arguments.length-2;if(ye===1)re.children=fe;else if(1<ye){for(var De=Array(ye),be=0;be<ye;be++)De[be]=arguments[be+2];re.children=De}return A(G.type,pe,void 0,void 0,xe,re)},Je.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:a,_context:G},G},Je.createElement=function(G,ee,fe){var re,pe={},xe=null;if(ee!=null)for(re in ee.key!==void 0&&(xe=""+ee.key),ee)$.call(ee,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=ee[re]);var ye=arguments.length-2;if(ye===1)pe.children=fe;else if(1<ye){for(var De=Array(ye),be=0;be<ye;be++)De[be]=arguments[be+2];pe.children=De}if(G&&G.defaultProps)for(re in ye=G.defaultProps,ye)pe[re]===void 0&&(pe[re]=ye[re]);return A(G,xe,void 0,void 0,null,pe)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(G){return{$$typeof:u,render:G}},Je.isValidElement=j,Je.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:ae}},Je.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},Je.startTransition=function(G){var ee=B.T,fe={};B.T=fe;try{var re=G(),pe=B.S;pe!==null&&pe(fe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ae,we)}catch(xe){we(xe)}finally{B.T=ee}},Je.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Je.use=function(G){return B.H.use(G)},Je.useActionState=function(G,ee,fe){return B.H.useActionState(G,ee,fe)},Je.useCallback=function(G,ee){return B.H.useCallback(G,ee)},Je.useContext=function(G){return B.H.useContext(G)},Je.useDebugValue=function(){},Je.useDeferredValue=function(G,ee){return B.H.useDeferredValue(G,ee)},Je.useEffect=function(G,ee,fe){var re=B.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(G,ee)},Je.useId=function(){return B.H.useId()},Je.useImperativeHandle=function(G,ee,fe){return B.H.useImperativeHandle(G,ee,fe)},Je.useInsertionEffect=function(G,ee){return B.H.useInsertionEffect(G,ee)},Je.useLayoutEffect=function(G,ee){return B.H.useLayoutEffect(G,ee)},Je.useMemo=function(G,ee){return B.H.useMemo(G,ee)},Je.useOptimistic=function(G,ee){return B.H.useOptimistic(G,ee)},Je.useReducer=function(G,ee,fe){return B.H.useReducer(G,ee,fe)},Je.useRef=function(G){return B.H.useRef(G)},Je.useState=function(G){return B.H.useState(G)},Je.useSyncExternalStore=function(G,ee,fe){return B.H.useSyncExternalStore(G,ee,fe)},Je.useTransition=function(){return B.H.useTransition()},Je.version="19.1.1",Je}var F_;function ly(){return F_||(F_=1,Mg.exports=KC()),Mg.exports}var F=ly();const dr=fE(F);var Og={exports:{}},du={},Pg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function XC(){return $_||($_=1,function(n){function e(W,ae){var we=W.length;W.push(ae);e:for(;0<we;){var Ae=we-1>>>1,G=W[Ae];if(0<i(G,ae))W[Ae]=ae,W[we]=G,we=Ae;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],we=W.pop();if(we!==ae){W[0]=we;e:for(var Ae=0,G=W.length,ee=G>>>1;Ae<ee;){var fe=2*(Ae+1)-1,re=W[fe],pe=fe+1,xe=W[pe];if(0>i(re,we))pe<G&&0>i(xe,re)?(W[Ae]=xe,W[pe]=we,Ae=pe):(W[Ae]=re,W[fe]=we,Ae=fe);else if(pe<G&&0>i(xe,we))W[Ae]=xe,W[pe]=we,Ae=pe;else break e}}return ae}function i(W,ae){var we=W.sortIndex-ae.sortIndex;return we!==0?we:W.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,x=null,b=3,E=!1,S=!1,w=!1,T=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function z(W){for(var ae=t(f);ae!==null;){if(ae.callback===null)s(f);else if(ae.startTime<=W)s(f),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=t(f)}}function B(W){if(w=!1,z(W),!S)if(t(d)!==null)S=!0,$||($=!0,U());else{var ae=t(f);ae!==null&&ue(B,ae.startTime-W)}}var $=!1,A=-1,R=5,j=-1;function P(){return T?!0:!(n.unstable_now()-j<R)}function V(){if(T=!1,$){var W=n.unstable_now();j=W;var ae=!0;try{e:{S=!1,w&&(w=!1,I(A),A=-1),E=!0;var we=b;try{t:{for(z(W),x=t(d);x!==null&&!(x.expirationTime>W&&P());){var Ae=x.callback;if(typeof Ae=="function"){x.callback=null,b=x.priorityLevel;var G=Ae(x.expirationTime<=W);if(W=n.unstable_now(),typeof G=="function"){x.callback=G,z(W),ae=!0;break t}x===t(d)&&s(d),z(W)}else s(d);x=t(d)}if(x!==null)ae=!0;else{var ee=t(f);ee!==null&&ue(B,ee.startTime-W),ae=!1}}break e}finally{x=null,b=we,E=!1}ae=void 0}}finally{ae?U():$=!1}}}var U;if(typeof M=="function")U=function(){M(V)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,ge=L.port2;L.port1.onmessage=V,U=function(){ge.postMessage(null)}}else U=function(){k(V,0)};function ue(W,ae){A=k(function(){W(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var we=b;b=ae;try{return W()}finally{b=we}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var we=b;b=W;try{return ae()}finally{b=we}},n.unstable_scheduleCallback=function(W,ae,we){var Ae=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ae+we:Ae):we=Ae,W){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=we+G,W={id:g++,callback:ae,priorityLevel:W,startTime:we,expirationTime:G,sortIndex:-1},we>Ae?(W.sortIndex=we,e(f,W),t(d)===null&&W===t(f)&&(w?(I(A),A=-1):w=!0,ue(B,we-Ae))):(W.sortIndex=G,e(d,W),S||E||(S=!0,$||($=!0,U()))),W},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(W){var ae=b;return function(){var we=b;b=ae;try{return W.apply(this,arguments)}finally{b=we}}}}(Lg)),Lg}var H_;function QC(){return H_||(H_=1,Pg.exports=XC()),Pg.exports}var Vg={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function JC(){if(G_)return On;G_=1;var n=ly();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:d,containerInfo:f,implementation:g}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,On.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,g)},On.flushSync=function(d){var f=l.T,g=s.p;try{if(l.T=null,s.p=2,d)return d()}finally{l.T=f,s.p=g,s.d.f()}},On.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},On.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},On.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:E}):g==="script"&&s.d.X(d,{crossOrigin:x,integrity:b,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},On.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},On.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin);s.d.L(d,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},On.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=u(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},On.requestFormReset=function(d){s.d.r(d)},On.unstable_batchedUpdates=function(d,f){return d(f)},On.useFormState=function(d,f,g){return l.H.useFormState(d,f,g)},On.useFormStatus=function(){return l.H.useHostTransitionStatus()},On.version="19.1.1",On}var q_;function ZC(){if(q_)return Vg.exports;q_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vg.exports=JC(),Vg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function ek(){if(W_)return du;W_=1;var n=QC(),e=ly(),t=ZC();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(s(188))}function d(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(s(188));return o!==r?null:r}for(var c=r,h=o;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return u(y),r;if(v===h)return u(y),o;v=v.sibling}throw Error(s(188))}if(c.return!==h.return)c=y,h=v;else{for(var C=!1,D=y.child;D;){if(D===c){C=!0,c=y,h=v;break}if(D===h){C=!0,h=y,c=v;break}D=D.sibling}if(!C){for(D=v.child;D;){if(D===c){C=!0,c=v,h=y;break}if(D===h){C=!0,h=v,c=y;break}D=D.sibling}if(!C)throw Error(s(189))}}if(c.alternate!==h)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case $:return"SuspenseList";case j:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case M:return(r.displayName||"Context")+".Provider";case I:return(r._context.displayName||"Context")+".Consumer";case z:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return o=r.displayName||null,o!==null?o:ge(r.type)||"Memo";case R:o=r._payload,r=r._init;try{return ge(r(o))}catch{}}return null}var ue=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Ae=[],G=-1;function ee(r){return{current:r}}function fe(r){0>G||(r.current=Ae[G],Ae[G]=null,G--)}function re(r,o){G++,Ae[G]=r.current,r.current=o}var pe=ee(null),xe=ee(null),ye=ee(null),De=ee(null);function be(r,o){switch(re(ye,o),re(xe,r),re(pe,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?h_(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=h_(o),r=f_(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(pe),re(pe,r)}function Ke(){fe(pe),fe(xe),fe(ye)}function qe(r){r.memoizedState!==null&&re(De,r);var o=pe.current,c=f_(o,r.type);o!==c&&(re(xe,r),re(pe,c))}function Me(r){xe.current===r&&(fe(pe),fe(xe)),De.current===r&&(fe(De),ru._currentValue=we)}var Qe=Object.prototype.hasOwnProperty,ut=n.unstable_scheduleCallback,q=n.unstable_cancelCallback,X=n.unstable_shouldYield,ne=n.unstable_requestPaint,Ne=n.unstable_now,Oe=n.unstable_getCurrentPriorityLevel,We=n.unstable_ImmediatePriority,ze=n.unstable_UserBlockingPriority,_e=n.unstable_NormalPriority,tt=n.unstable_LowPriority,Re=n.unstable_IdlePriority,ft=n.log,It=n.unstable_setDisableYieldValue,Xe=null,Pe=null;function He(r){if(typeof ft=="function"&&It(r),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Xe,r)}catch{}}var nt=Math.clz32?Math.clz32:un,st=Math.log,Gn=Math.LN2;function un(r){return r>>>=0,r===0?32:31-(st(r)/Gn|0)|0}var Bt=256,Ft=4194304;function dt(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qn(r,o,c){var h=r.pendingLanes;if(h===0)return 0;var y=0,v=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var D=h&134217727;return D!==0?(h=D&~v,h!==0?y=dt(h):(C&=D,C!==0?y=dt(C):c||(c=D&~r,c!==0&&(y=dt(c))))):(D=h&~v,D!==0?y=dt(D):C!==0?y=dt(C):c||(c=h&~r,c!==0&&(y=dt(c)))),y===0?0:o!==0&&o!==y&&(o&v)===0&&(v=y&-y,c=o&-o,v>=c||v===32&&(c&4194048)!==0)?o:y}function Fe(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function vs(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Us(){var r=Bt;return Bt<<=1,(Bt&4194048)===0&&(Bt=256),r}function Tr(){var r=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),r}function Bs(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function as(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sr(r,o,c,h,y,v){var C=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var D=r.entanglements,H=r.expirationTimes,Z=r.hiddenUpdates;for(c=C&~c;0<c;){var oe=31-nt(c),de=1<<oe;D[oe]=0,H[oe]=-1;var te=Z[oe];if(te!==null)for(Z[oe]=null,oe=0;oe<te.length;oe++){var se=te[oe];se!==null&&(se.lane&=-536870913)}c&=~de}h!==0&&os(r,h,0),v!==0&&y===0&&r.tag!==0&&(r.suspendedLanes|=v&~(C&~o))}function os(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var h=31-nt(o);r.entangledLanes|=o,r.entanglements[h]=r.entanglements[h]|1073741824|c&4194090}function Nr(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var h=31-nt(c),y=1<<h;y&o|r[h]&o&&(r[h]|=o),c&=~y}}function ni(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Mi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function si(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:I_(r.type))}function jo(r,o){var c=ae.p;try{return ae.p=r,o()}finally{ae.p=c}}var Dt=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Dt,Gt="__reactProps$"+Dt,Et="__reactContainer$"+Dt,yn="__reactEvents$"+Dt,Oi="__reactListeners$"+Dt,ls="__reactHandles$"+Dt,vd="__reactResources$"+Dt,ka="__reactMarker$"+Dt;function Ar(r){delete r[Yt],delete r[Gt],delete r[yn],delete r[Oi],delete r[ls]}function Pi(r){var o=r[Yt];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Et]||c[Yt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=y_(r);r!==null;){if(c=r[Yt])return c;r=y_(r)}return o}r=c,c=r.parentNode}return null}function ii(r){if(r=r[Yt]||r[Et]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function ri(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function Wn(r){var o=r[vd];return o||(o=r[vd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Kt(r){r[ka]=!0}var dc=new Set,Io={};function Fs(r,o){Li(r,o),Li(r+"Capture",o)}function Li(r,o){for(Io[r]=o,r=0;r<o.length;r++)dc.add(o[r])}var _d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},Ra={};function Ed(r){return Qe.call(Ra,r)?!0:Qe.call(wd,r)?!1:_d.test(r)?Ra[r]=!0:(wd[r]=!0,!1)}function Cr(r,o,c){if(Ed(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function ai(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function Nn(r,o,c,h){if(h===null)r.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+h)}}var ja,Td;function Vi(r){if(ja===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ja=o&&o[1]||"",Td=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+r+Td}var Do=!1;function Mo(r,o){if(!r||Do)return"";Do=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(se){var te=se}Reflect.construct(r,[],de)}else{try{de.call()}catch(se){te=se}r.call(de.prototype)}}else{try{throw Error()}catch(se){te=se}(de=r())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(se){if(se&&te&&typeof se.stack=="string")return[se.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],D=v[1];if(C&&D){var H=C.split(`
`),Z=D.split(`
`);for(y=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(h===H.length||y===Z.length)for(h=H.length-1,y=Z.length-1;1<=h&&0<=y&&H[h]!==Z[y];)y--;for(;1<=h&&0<=y;h--,y--)if(H[h]!==Z[y]){if(h!==1||y!==1)do if(h--,y--,0>y||H[h]!==Z[y]){var oe=`
`+H[h].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=h&&0<=y);break}}}finally{Do=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Vi(c):""}function hc(r){switch(r.tag){case 26:case 27:case 5:return Vi(r.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return Mo(r.type,!1);case 11:return Mo(r.type.render,!1);case 1:return Mo(r.type,!0);case 31:return Vi("Activity");default:return""}}function Oo(r){try{var o="";do o+=hc(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function fc(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Lm(r){var o=fc(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),h=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Po(r){r._valueTracker||(r._valueTracker=Lm(r))}function mc(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return r&&(h=fc(r)?r.checked?"true":"false":r.value),r=h,r!==c?(o.setValue(r),!0):!1}function Ia(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Vm=/[\n"\\]/g;function tn(r){return r.replace(Vm,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function cs(r,o,c,h,y,v,C,D){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),o!=null?C==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Yn(o)):r.value!==""+Yn(o)&&(r.value=""+Yn(o)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),o!=null?kr(r,C,Yn(o)):c!=null?kr(r,C,Yn(c)):h!=null&&r.removeAttribute("value"),y==null&&v!=null&&(r.defaultChecked=!!v),y!=null&&(r.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+Yn(D):r.removeAttribute("name")}function Da(r,o,c,h,y,v,C,D){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),o!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;c=c!=null?""+Yn(c):"",o=o!=null?""+Yn(o):c,D||o===r.value||(r.value=o),r.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=D?r.checked:!!h,r.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C)}function kr(r,o,c){o==="number"&&Ia(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function zi(r,o,c,h){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&h&&(r[c].defaultSelected=!0)}else{for(c=""+Yn(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function At(r,o,c){if(o!=null&&(o=""+Yn(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+Yn(c):""}function Ma(r,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(s(92));if(ue(h)){if(1<h.length)throw Error(s(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Yn(o),r.defaultValue=c,h=r.textContent,h===c&&h!==""&&h!==null&&(r.value=h)}function _s(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var Oa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(r,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":h?r.setProperty(o,c):typeof c!="number"||c===0||Oa.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function pc(r,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&c[y]!==h&&Sd(r,y,h)}else for(var v in o)o.hasOwnProperty(v)&&Sd(r,v,o[v])}function gc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(r){return Um.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ui=null;function ws(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bi=null,Fi=null;function yc(r){var o=ii(r);if(o&&(r=o.stateNode)){var c=r[Gt]||null;e:switch(r=o.stateNode,o.type){case"input":if(cs(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+tn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==r&&h.form===r.form){var y=h[Gt]||null;if(!y)throw Error(s(90));cs(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===r.form&&mc(h)}break e;case"textarea":At(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&zi(r,!!c.multiple,o,!1)}}}var oi=!1;function Nd(r,o,c){if(oi)return r(o,c);oi=!0;try{var h=r(o);return h}finally{if(oi=!1,(Bi!==null||Fi!==null)&&(bh(),Bi&&(o=Bi,r=Fi,Fi=Bi=null,yc(o),r)))for(o=0;o<r.length;o++)yc(r[o])}}function Pa(r,o){var c=r.stateNode;if(c===null)return null;var h=c[Gt]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if($s)try{var La={};Object.defineProperty(La,"passive",{get:function(){Es=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{Es=!1}var li=null,Rr=null,$i=null;function xc(){if($i)return $i;var r,o=Rr,c=o.length,h,y="value"in li?li.value:li.textContent,v=y.length;for(r=0;r<c&&o[r]===y[r];r++);var C=c-r;for(h=1;h<=C&&o[c-h]===y[v-h];h++);return $i=y.slice(r,1<h?1-h:void 0)}function ci(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function ui(){return!0}function bc(){return!1}function xn(r){function o(c,h,y,v,C){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(c=r[D],this[D]=c?c(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ui:bc,this.isPropagationStopped=bc,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),o}var _t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=xn(_t),Va=g({},_t,{view:0,detail:0}),Ad=xn(Va),zo,Uo,di,za=g({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==di&&(di&&r.type==="mousemove"?(zo=r.screenX-di.screenX,Uo=r.screenY-di.screenY):Uo=zo=0,di=r),zo)},movementY:function(r){return"movementY"in r?r.movementY:Uo}}),Ts=xn(za),Cd=g({},za,{dataTransfer:0}),Bm=xn(Cd),Ua=g({},Va,{relatedTarget:0}),Bo=xn(Ua),vc=g({},_t,{animationName:0,elapsedTime:0,pseudoElement:0}),Fo=xn(vc),kd=g({},_t,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),$o=xn(kd),Fm=g({},_t,{data:0}),_c=xn(Fm),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=jd[r])?!!o[r]:!1}function Fa(){return wc}var Id=g({},Va,{key:function(r){if(r.key){var o=Ba[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ci(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(r){return r.type==="keypress"?ci(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ci(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ho=xn(Id),Dd=g({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=xn(Dd),Hi=g({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Md=xn(Hi),Od=g({},_t,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pd=xn(Od),Ld=g({},za,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Go=xn(Ld),Kn=g({},_t,{newState:0,oldState:0}),Vd=xn(Kn),zd=[9,13,27,32],hi=$s&&"CompositionEvent"in window,p=null;$s&&"documentMode"in document&&(p=document.documentMode);var _=$s&&"TextEvent"in window&&!p,N=$s&&(!hi||p&&8<p&&11>=p),O=" ",Q=!1;function ie(r,o){switch(r){case"keyup":return zd.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var mt=!1;function dn(r,o){switch(r){case"compositionend":return ve(o);case"keypress":return o.which!==32?null:(Q=!0,O);case"textInput":return r=o.data,r===O&&Q?null:r;default:return null}}function pt(r,o){if(mt)return r==="compositionend"||!hi&&ie(r,o)?(r=xc(),$i=Rr=li=null,mt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return N&&o.locale!=="ko"?null:o.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hn(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!bn[r.type]:o==="textarea"}function Gi(r,o,c,h){Bi?Fi?Fi.push(h):Fi=[h]:Bi=h,o=Sh(o,"onChange"),0<o.length&&(c=new Vo("onChange","change",null,c,h),r.push({event:c,listeners:o}))}var An=null,fi=null;function Tc(r){o_(r,0)}function Ud(r){var o=ri(r);if(mc(o))return r}function Cx(r,o){if(r==="change")return o}var kx=!1;if($s){var $m;if($s){var Hm="oninput"in document;if(!Hm){var Rx=document.createElement("div");Rx.setAttribute("oninput","return;"),Hm=typeof Rx.oninput=="function"}$m=Hm}else $m=!1;kx=$m&&(!document.documentMode||9<document.documentMode)}function jx(){An&&(An.detachEvent("onpropertychange",Ix),fi=An=null)}function Ix(r){if(r.propertyName==="value"&&Ud(fi)){var o=[];Gi(o,fi,r,ws(r)),Nd(Tc,o)}}function EA(r,o,c){r==="focusin"?(jx(),An=o,fi=c,An.attachEvent("onpropertychange",Ix)):r==="focusout"&&jx()}function TA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ud(fi)}function SA(r,o){if(r==="click")return Ud(o)}function NA(r,o){if(r==="input"||r==="change")return Ud(o)}function AA(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var us=typeof Object.is=="function"?Object.is:AA;function Sc(r,o){if(us(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!Qe.call(o,y)||!us(r[y],o[y]))return!1}return!0}function Dx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mx(r,o){var c=Dx(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=o&&h>=o)return{node:c,offset:o-r};r=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Dx(c)}}function Ox(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Ox(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Px(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Ia(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Ia(r.document)}return o}function Gm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var CA=$s&&"documentMode"in document&&11>=document.documentMode,qo=null,qm=null,Nc=null,Wm=!1;function Lx(r,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Wm||qo==null||qo!==Ia(h)||(h=qo,"selectionStart"in h&&Gm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Nc&&Sc(Nc,h)||(Nc=h,h=Sh(qm,"onSelect"),0<h.length&&(o=new Vo("onSelect","select",null,o,c),r.push({event:o,listeners:h}),o.target=qo)))}function $a(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var Wo={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Ym={},Vx={};$s&&(Vx=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Ha(r){if(Ym[r])return Ym[r];if(!Wo[r])return r;var o=Wo[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in Vx)return Ym[r]=o[c];return r}var zx=Ha("animationend"),Ux=Ha("animationiteration"),Bx=Ha("animationstart"),kA=Ha("transitionrun"),RA=Ha("transitionstart"),jA=Ha("transitioncancel"),Fx=Ha("transitionend"),$x=new Map,Km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Km.push("scrollEnd");function Hs(r,o){$x.set(r,o),Fs(o,[r])}var Hx=new WeakMap;function Ss(r,o){if(typeof r=="object"&&r!==null){var c=Hx.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Oo(o)},Hx.set(r,o),o)}return{value:r,source:o,stack:Oo(o)}}var Ns=[],Yo=0,Xm=0;function Bd(){for(var r=Yo,o=Xm=Yo=0;o<r;){var c=Ns[o];Ns[o++]=null;var h=Ns[o];Ns[o++]=null;var y=Ns[o];Ns[o++]=null;var v=Ns[o];if(Ns[o++]=null,h!==null&&y!==null){var C=h.pending;C===null?y.next=y:(y.next=C.next,C.next=y),h.pending=y}v!==0&&Gx(c,y,v)}}function Fd(r,o,c,h){Ns[Yo++]=r,Ns[Yo++]=o,Ns[Yo++]=c,Ns[Yo++]=h,Xm|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Qm(r,o,c,h){return Fd(r,o,c,h),$d(r)}function Ko(r,o){return Fd(r,null,null,o),$d(r)}function Gx(r,o,c){r.lanes|=c;var h=r.alternate;h!==null&&(h.lanes|=c);for(var y=!1,v=r.return;v!==null;)v.childLanes|=c,h=v.alternate,h!==null&&(h.childLanes|=c),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(y=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,y&&o!==null&&(y=31-nt(c),r=v.hiddenUpdates,h=r[y],h===null?r[y]=[o]:h.push(o),o.lane=c|536870912),v):null}function $d(r){if(50<Qc)throw Qc=0,sg=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Xo={};function IA(r,o,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(r,o,c,h){return new IA(r,o,c,h)}function Jm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function qi(r,o){var c=r.alternate;return c===null?(c=ds(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function qx(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Hd(r,o,c,h,y,v){var C=0;if(h=r,typeof r=="function")Jm(r)&&(C=1);else if(typeof r=="string")C=MC(r,c,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case j:return r=ds(31,c,o,y),r.elementType=j,r.lanes=v,r;case S:return Ga(c.children,y,v,o);case w:C=8,y|=24;break;case T:return r=ds(12,c,o,y|2),r.elementType=T,r.lanes=v,r;case B:return r=ds(13,c,o,y),r.elementType=B,r.lanes=v,r;case $:return r=ds(19,c,o,y),r.elementType=$,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case M:C=10;break e;case I:C=9;break e;case z:C=11;break e;case A:C=14;break e;case R:C=16,h=null;break e}C=29,c=Error(s(130,r===null?"null":typeof r,"")),h=null}return o=ds(C,c,o,y),o.elementType=r,o.type=h,o.lanes=v,o}function Ga(r,o,c,h){return r=ds(7,r,h,o),r.lanes=c,r}function Zm(r,o,c){return r=ds(6,r,null,o),r.lanes=c,r}function ep(r,o,c){return o=ds(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Qo=[],Jo=0,Gd=null,qd=0,As=[],Cs=0,qa=null,Wi=1,Yi="";function Wa(r,o){Qo[Jo++]=qd,Qo[Jo++]=Gd,Gd=r,qd=o}function Wx(r,o,c){As[Cs++]=Wi,As[Cs++]=Yi,As[Cs++]=qa,qa=r;var h=Wi;r=Yi;var y=32-nt(h)-1;h&=~(1<<y),c+=1;var v=32-nt(o)+y;if(30<v){var C=y-y%5;v=(h&(1<<C)-1).toString(32),h>>=C,y-=C,Wi=1<<32-nt(o)+y|c<<y|h,Yi=v+r}else Wi=1<<v|c<<y|h,Yi=r}function tp(r){r.return!==null&&(Wa(r,1),Wx(r,1,0))}function np(r){for(;r===Gd;)Gd=Qo[--Jo],Qo[Jo]=null,qd=Qo[--Jo],Qo[Jo]=null;for(;r===qa;)qa=As[--Cs],As[Cs]=null,Yi=As[--Cs],As[Cs]=null,Wi=As[--Cs],As[Cs]=null}var Xn=null,qt=null,vt=!1,Ya=null,mi=!1,sp=Error(s(519));function Ka(r){var o=Error(s(418,""));throw kc(Ss(o,r)),sp}function Yx(r){var o=r.stateNode,c=r.type,h=r.memoizedProps;switch(o[Yt]=r,o[Gt]=h,c){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(c=0;c<Zc.length;c++)rt(Zc[c],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),Da(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Po(o);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),Ma(o,h.value,h.defaultValue,h.children),Po(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||d_(o.textContent,c)?(h.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),h.onScroll!=null&&rt("scroll",o),h.onScrollEnd!=null&&rt("scrollend",o),h.onClick!=null&&(o.onclick=Nh),o=!0):o=!1,o||Ka(r)}function Kx(r){for(Xn=r.return;Xn;)switch(Xn.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:Xn=Xn.return}}function Ac(r){if(r!==Xn)return!1;if(!vt)return Kx(r),vt=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||bg(r.type,r.memoizedProps)),c=!c),c&&qt&&Ka(r),Kx(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){qt=qs(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}qt=null}}else o===27?(o=qt,qr(r.type)?(r=Eg,Eg=null,qt=r):qt=o):qt=Xn?qs(r.stateNode.nextSibling):null;return!0}function Cc(){qt=Xn=null,vt=!1}function Xx(){var r=Ya;return r!==null&&(Zn===null?Zn=r:Zn.push.apply(Zn,r),Ya=null),r}function kc(r){Ya===null?Ya=[r]:Ya.push(r)}var ip=ee(null),Xa=null,Ki=null;function jr(r,o,c){re(ip,o._currentValue),o._currentValue=c}function Xi(r){r._currentValue=ip.current,fe(ip)}function rp(r,o,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),r===c)break;r=r.return}}function ap(r,o,c,h){var y=r.child;for(y!==null&&(y.return=r);y!==null;){var v=y.dependencies;if(v!==null){var C=y.child;v=v.firstContext;e:for(;v!==null;){var D=v;v=y;for(var H=0;H<o.length;H++)if(D.context===o[H]){v.lanes|=c,D=v.alternate,D!==null&&(D.lanes|=c),rp(v.return,c,r),h||(C=null);break e}v=D.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(s(341));C.lanes|=c,v=C.alternate,v!==null&&(v.lanes|=c),rp(C,c,r),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===r){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Rc(r,o,c,h){r=null;for(var y=o,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var D=y.type;us(y.pendingProps.value,C.value)||(r!==null?r.push(D):r=[D])}}else if(y===De.current){if(C=y.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(r!==null?r.push(ru):r=[ru])}y=y.return}r!==null&&ap(o,r,c,h),o.flags|=262144}function Wd(r){for(r=r.firstContext;r!==null;){if(!us(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qa(r){Xa=r,Ki=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Mn(r){return Qx(Xa,r)}function Yd(r,o){return Xa===null&&Qa(r),Qx(r,o)}function Qx(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ki===null){if(r===null)throw Error(s(308));Ki=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Ki=Ki.next=o;return c}var DA=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,h){r.push(h)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},MA=n.unstable_scheduleCallback,OA=n.unstable_NormalPriority,fn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new DA,data:new Map,refCount:0}}function jc(r){r.refCount--,r.refCount===0&&MA(OA,function(){r.controller.abort()})}var Ic=null,lp=0,Zo=0,el=null;function PA(r,o){if(Ic===null){var c=Ic=[];lp=0,Zo=ug(),el={status:"pending",value:void 0,then:function(h){c.push(h)}}}return lp++,o.then(Jx,Jx),o}function Jx(){if(--lp===0&&Ic!==null){el!==null&&(el.status="fulfilled");var r=Ic;Ic=null,Zo=0,el=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function LA(r,o){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return r.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var Zx=W.S;W.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&PA(r,o),Zx!==null&&Zx(r,o)};var Ja=ee(null);function cp(){var r=Ja.current;return r!==null?r:Mt.pooledCache}function Kd(r,o){o===null?re(Ja,Ja.current):re(Ja,o.pool)}function eb(){var r=cp();return r===null?null:{parent:fn._currentValue,pool:r}}var Dc=Error(s(460)),tb=Error(s(474)),Xd=Error(s(542)),up={then:function(){}};function nb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Qd(){}function sb(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(Qd,Qd),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,rb(r),r;default:if(typeof o.status=="string")o.then(Qd,Qd);else{if(r=Mt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,rb(r),r}throw Mc=o,Dc}}var Mc=null;function ib(){if(Mc===null)throw Error(s(459));var r=Mc;return Mc=null,r}function rb(r){if(r===Dc||r===Xd)throw Error(s(483))}var Ir=!1;function dp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Dr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Mr(r,o,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Tt&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=$d(r),Gx(r,null,c),o}return Fd(r,h,o,c),$d(r)}function Oc(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=r.pendingLanes,c|=h,o.lanes=c,Nr(r,c)}}function fp(r,o){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=C:v=v.next=C,c=c.next}while(c!==null);v===null?y=v=o:v=v.next=o}else y=v=o;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var mp=!1;function Pc(){if(mp){var r=el;if(r!==null)throw r}}function Lc(r,o,c,h){mp=!1;var y=r.updateQueue;Ir=!1;var v=y.firstBaseUpdate,C=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var H=D,Z=H.next;H.next=null,C===null?v=Z:C.next=Z,C=H;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,D=oe.lastBaseUpdate,D!==C&&(D===null?oe.firstBaseUpdate=Z:D.next=Z,oe.lastBaseUpdate=H))}if(v!==null){var de=y.baseState;C=0,oe=Z=H=null,D=v;do{var te=D.lane&-536870913,se=te!==D.lane;if(se?(gt&te)===te:(h&te)===te){te!==0&&te===Zo&&(mp=!0),oe!==null&&(oe=oe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var $e=r,Le=D;te=o;var Rt=c;switch(Le.tag){case 1:if($e=Le.payload,typeof $e=="function"){de=$e.call(Rt,de,te);break e}de=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Le.payload,te=typeof $e=="function"?$e.call(Rt,de,te):$e,te==null)break e;de=g({},de,te);break e;case 2:Ir=!0}}te=D.callback,te!==null&&(r.flags|=64,se&&(r.flags|=8192),se=y.callbacks,se===null?y.callbacks=[te]:se.push(te))}else se={lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},oe===null?(Z=oe=se,H=de):oe=oe.next=se,C|=te;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;se=D,D=se.next,se.next=null,y.lastBaseUpdate=se,y.shared.pending=null}}while(!0);oe===null&&(H=de),y.baseState=H,y.firstBaseUpdate=Z,y.lastBaseUpdate=oe,v===null&&(y.shared.lanes=0),Fr|=C,r.lanes=C,r.memoizedState=de}}function ab(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function ob(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)ab(c[r],o)}var tl=ee(null),Jd=ee(0);function lb(r,o){r=sr,re(Jd,r),re(tl,o),sr=r|o.baseLanes}function pp(){re(Jd,sr),re(tl,tl.current)}function gp(){sr=Jd.current,fe(tl),fe(Jd)}var Or=0,Ze=null,Ct=null,nn=null,Zd=!1,nl=!1,Za=!1,eh=0,Vc=0,sl=null,VA=0;function Xt(){throw Error(s(321))}function yp(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!us(r[c],o[c]))return!1;return!0}function xp(r,o,c,h,y,v){return Or=v,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=r===null||r.memoizedState===null?Gb:qb,Za=!1,v=c(h,y),Za=!1,nl&&(v=ub(o,c,h,y)),cb(r),v}function cb(r){W.H=ah;var o=Ct!==null&&Ct.next!==null;if(Or=0,nn=Ct=Ze=null,Zd=!1,Vc=0,sl=null,o)throw Error(s(300));r===null||vn||(r=r.dependencies,r!==null&&Wd(r)&&(vn=!0))}function ub(r,o,c,h){Ze=r;var y=0;do{if(nl&&(sl=null),Vc=0,nl=!1,25<=y)throw Error(s(301));if(y+=1,nn=Ct=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=GA,v=o(c,h)}while(nl);return v}function zA(){var r=W.H,o=r.useState()[0];return o=typeof o.then=="function"?zc(o):o,r=r.useState()[0],(Ct!==null?Ct.memoizedState:null)!==r&&(Ze.flags|=1024),o}function bp(){var r=eh!==0;return eh=0,r}function vp(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function _p(r){if(Zd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Zd=!1}Or=0,nn=Ct=Ze=null,nl=!1,Vc=eh=0,sl=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ze.memoizedState=nn=r:nn=nn.next=r,nn}function sn(){if(Ct===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var o=nn===null?Ze.memoizedState:nn.next;if(o!==null)nn=o,Ct=r;else{if(r===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},nn===null?Ze.memoizedState=nn=r:nn=nn.next=r}return nn}function wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zc(r){var o=Vc;return Vc+=1,sl===null&&(sl=[]),r=sb(sl,r,o),o=Ze,(nn===null?o.memoizedState:nn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?Gb:qb),r}function th(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return zc(r);if(r.$$typeof===M)return Mn(r)}throw Error(s(438,String(r)))}function Ep(r){var o=null,c=Ze.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Ze.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=wp(),Ze.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),h=0;h<r;h++)c[h]=P;return o.index++,c}function Qi(r,o){return typeof o=="function"?o(r):o}function nh(r){var o=sn();return Tp(o,Ct,r)}function Tp(r,o,c){var h=r.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=c;var y=r.baseQueue,v=h.pending;if(v!==null){if(y!==null){var C=y.next;y.next=v.next,v.next=C}o.baseQueue=y=v,h.pending=null}if(v=r.baseState,y===null)r.memoizedState=v;else{o=y.next;var D=C=null,H=null,Z=o,oe=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(gt&de)===de:(Or&de)===de){var te=Z.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===Zo&&(oe=!0);else if((Or&te)===te){Z=Z.next,te===Zo&&(oe=!0);continue}else de={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(D=H=de,C=v):H=H.next=de,Ze.lanes|=te,Fr|=te;de=Z.action,Za&&c(v,de),v=Z.hasEagerState?Z.eagerState:c(v,de)}else te={lane:de,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(D=H=te,C=v):H=H.next=te,Ze.lanes|=de,Fr|=de;Z=Z.next}while(Z!==null&&Z!==o);if(H===null?C=v:H.next=D,!us(v,r.memoizedState)&&(vn=!0,oe&&(c=el,c!==null)))throw c;r.memoizedState=v,r.baseState=C,r.baseQueue=H,h.lastRenderedState=v}return y===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Sp(r){var o=sn(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var h=c.dispatch,y=c.pending,v=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do v=r(v,C.action),C=C.next;while(C!==y);us(v,o.memoizedState)||(vn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,h]}function db(r,o,c){var h=Ze,y=sn(),v=vt;if(v){if(c===void 0)throw Error(s(407));c=c()}else c=o();var C=!us((Ct||y).memoizedState,c);C&&(y.memoizedState=c,vn=!0),y=y.queue;var D=mb.bind(null,h,y,r);if(Uc(2048,8,D,[r]),y.getSnapshot!==o||C||nn!==null&&nn.memoizedState.tag&1){if(h.flags|=2048,il(9,sh(),fb.bind(null,h,y,c,o),null),Mt===null)throw Error(s(349));v||(Or&124)!==0||hb(h,o,c)}return c}function hb(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Ze.updateQueue,o===null?(o=wp(),Ze.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function fb(r,o,c,h){o.value=c,o.getSnapshot=h,pb(o)&&gb(r)}function mb(r,o,c){return c(function(){pb(o)&&gb(r)})}function pb(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!us(r,c)}catch{return!0}}function gb(r){var o=Ko(r,2);o!==null&&gs(o,r,2)}function Np(r){var o=Qn();if(typeof r=="function"){var c=r;if(r=c(),Za){He(!0);try{c()}finally{He(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:r},o}function yb(r,o,c,h){return r.baseState=c,Tp(r,Ct,typeof h=="function"?h:Qi)}function UA(r,o,c,h,y){if(rh(r))throw Error(s(485));if(r=o.action,r!==null){var v={payload:y,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};W.T!==null?c(!0):v.isTransition=!1,h(v),c=o.pending,c===null?(v.next=o.pending=v,xb(o,v)):(v.next=c.next,o.pending=c.next=v)}}function xb(r,o){var c=o.action,h=o.payload,y=r.state;if(o.isTransition){var v=W.T,C={};W.T=C;try{var D=c(y,h),H=W.S;H!==null&&H(C,D),bb(r,o,D)}catch(Z){Ap(r,o,Z)}finally{W.T=v}}else try{v=c(y,h),bb(r,o,v)}catch(Z){Ap(r,o,Z)}}function bb(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){vb(r,o,h)},function(h){return Ap(r,o,h)}):vb(r,o,c)}function vb(r,o,c){o.status="fulfilled",o.value=c,_b(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,xb(r,c)))}function Ap(r,o,c){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,_b(o),o=o.next;while(o!==h)}r.action=null}function _b(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function wb(r,o){return o}function Eb(r,o){if(vt){var c=Mt.formState;if(c!==null){e:{var h=Ze;if(vt){if(qt){t:{for(var y=qt,v=mi;y.nodeType!==8;){if(!v){y=null;break t}if(y=qs(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){qt=qs(y.nextSibling),h=y.data==="F!";break e}}Ka(h)}h=!1}h&&(o=c[0])}}return c=Qn(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wb,lastRenderedState:o},c.queue=h,c=Fb.bind(null,Ze,h),h.dispatch=c,h=Np(!1),v=Ip.bind(null,Ze,!1,h.queue),h=Qn(),y={state:o,dispatch:null,action:r,pending:null},h.queue=y,c=UA.bind(null,Ze,y,v,c),y.dispatch=c,h.memoizedState=r,[o,c,!1]}function Tb(r){var o=sn();return Sb(o,Ct,r)}function Sb(r,o,c){if(o=Tp(r,o,wb)[0],r=nh(Qi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=zc(o)}catch(C){throw C===Dc?Xd:C}else h=o;o=sn();var y=o.queue,v=y.dispatch;return c!==o.memoizedState&&(Ze.flags|=2048,il(9,sh(),BA.bind(null,y,c),null)),[h,v,r]}function BA(r,o){r.action=o}function Nb(r){var o=sn(),c=Ct;if(c!==null)return Sb(o,c,r);sn(),o=o.memoizedState,c=sn();var h=c.queue.dispatch;return c.memoizedState=r,[o,h,!1]}function il(r,o,c,h){return r={tag:r,create:c,deps:h,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=wp(),Ze.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,o.lastEffect=r),r}function sh(){return{destroy:void 0,resource:void 0}}function Ab(){return sn().memoizedState}function ih(r,o,c,h){var y=Qn();h=h===void 0?null:h,Ze.flags|=r,y.memoizedState=il(1|o,sh(),c,h)}function Uc(r,o,c,h){var y=sn();h=h===void 0?null:h;var v=y.memoizedState.inst;Ct!==null&&h!==null&&yp(h,Ct.memoizedState.deps)?y.memoizedState=il(o,v,c,h):(Ze.flags|=r,y.memoizedState=il(1|o,v,c,h))}function Cb(r,o){ih(8390656,8,r,o)}function kb(r,o){Uc(2048,8,r,o)}function Rb(r,o){return Uc(4,2,r,o)}function jb(r,o){return Uc(4,4,r,o)}function Ib(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Db(r,o,c){c=c!=null?c.concat([r]):null,Uc(4,4,Ib.bind(null,o,r),c)}function Cp(){}function Mb(r,o){var c=sn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&yp(o,h[1])?h[0]:(c.memoizedState=[r,o],r)}function Ob(r,o){var c=sn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&yp(o,h[1]))return h[0];if(h=r(),Za){He(!0);try{r()}finally{He(!1)}}return c.memoizedState=[h,o],h}function kp(r,o,c){return c===void 0||(Or&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=Vv(),Ze.lanes|=r,Fr|=r,c)}function Pb(r,o,c,h){return us(c,o)?c:tl.current!==null?(r=kp(r,c,h),us(r,o)||(vn=!0),r):(Or&42)===0?(vn=!0,r.memoizedState=c):(r=Vv(),Ze.lanes|=r,Fr|=r,o)}function Lb(r,o,c,h,y){var v=ae.p;ae.p=v!==0&&8>v?v:8;var C=W.T,D={};W.T=D,Ip(r,!1,o,c);try{var H=y(),Z=W.S;if(Z!==null&&Z(D,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var oe=LA(H,h);Bc(r,o,oe,ps(r))}else Bc(r,o,h,ps(r))}catch(de){Bc(r,o,{then:function(){},status:"rejected",reason:de},ps())}finally{ae.p=v,W.T=C}}function FA(){}function Rp(r,o,c,h){if(r.tag!==5)throw Error(s(476));var y=Vb(r).queue;Lb(r,y,o,we,c===null?FA:function(){return zb(r),c(h)})}function Vb(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:we},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function zb(r){var o=Vb(r).next.queue;Bc(r,o,{},ps())}function jp(){return Mn(ru)}function Ub(){return sn().memoizedState}function Bb(){return sn().memoizedState}function $A(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=ps();r=Dr(c);var h=Mr(o,r,c);h!==null&&(gs(h,o,c),Oc(h,o,c)),o={cache:op()},r.payload=o;return}o=o.return}}function HA(r,o,c){var h=ps();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},rh(r)?$b(o,c):(c=Qm(r,o,c,h),c!==null&&(gs(c,r,h),Hb(c,o,h)))}function Fb(r,o,c){var h=ps();Bc(r,o,c,h)}function Bc(r,o,c,h){var y={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(rh(r))$b(o,y);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var C=o.lastRenderedState,D=v(C,c);if(y.hasEagerState=!0,y.eagerState=D,us(D,C))return Fd(r,o,y,0),Mt===null&&Bd(),!1}catch{}finally{}if(c=Qm(r,o,y,h),c!==null)return gs(c,r,h),Hb(c,o,h),!0}return!1}function Ip(r,o,c,h){if(h={lane:2,revertLane:ug(),action:h,hasEagerState:!1,eagerState:null,next:null},rh(r)){if(o)throw Error(s(479))}else o=Qm(r,c,h,2),o!==null&&gs(o,r,2)}function rh(r){var o=r.alternate;return r===Ze||o!==null&&o===Ze}function $b(r,o){nl=Zd=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function Hb(r,o,c){if((c&4194048)!==0){var h=o.lanes;h&=r.pendingLanes,c|=h,o.lanes=c,Nr(r,c)}}var ah={readContext:Mn,use:th,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},Gb={readContext:Mn,use:th,useCallback:function(r,o){return Qn().memoizedState=[r,o===void 0?null:o],r},useContext:Mn,useEffect:Cb,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,ih(4194308,4,Ib.bind(null,o,r),c)},useLayoutEffect:function(r,o){return ih(4194308,4,r,o)},useInsertionEffect:function(r,o){ih(4,2,r,o)},useMemo:function(r,o){var c=Qn();o=o===void 0?null:o;var h=r();if(Za){He(!0);try{r()}finally{He(!1)}}return c.memoizedState=[h,o],h},useReducer:function(r,o,c){var h=Qn();if(c!==void 0){var y=c(o);if(Za){He(!0);try{c(o)}finally{He(!1)}}}else y=o;return h.memoizedState=h.baseState=y,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:y},h.queue=r,r=r.dispatch=HA.bind(null,Ze,r),[h.memoizedState,r]},useRef:function(r){var o=Qn();return r={current:r},o.memoizedState=r},useState:function(r){r=Np(r);var o=r.queue,c=Fb.bind(null,Ze,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Cp,useDeferredValue:function(r,o){var c=Qn();return kp(c,r,o)},useTransition:function(){var r=Np(!1);return r=Lb.bind(null,Ze,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var h=Ze,y=Qn();if(vt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),Mt===null)throw Error(s(349));(gt&124)!==0||hb(h,o,c)}y.memoizedState=c;var v={value:c,getSnapshot:o};return y.queue=v,Cb(mb.bind(null,h,v,r),[r]),h.flags|=2048,il(9,sh(),fb.bind(null,h,v,c,o),null),c},useId:function(){var r=Qn(),o=Mt.identifierPrefix;if(vt){var c=Yi,h=Wi;c=(h&~(1<<32-nt(h)-1)).toString(32)+c,o=""+o+"R"+c,c=eh++,0<c&&(o+="H"+c.toString(32)),o+=""}else c=VA++,o=""+o+"r"+c.toString(32)+"";return r.memoizedState=o},useHostTransitionStatus:jp,useFormState:Eb,useActionState:Eb,useOptimistic:function(r){var o=Qn();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Ip.bind(null,Ze,!0,c),c.dispatch=o,[r,o]},useMemoCache:Ep,useCacheRefresh:function(){return Qn().memoizedState=$A.bind(null,Ze)}},qb={readContext:Mn,use:th,useCallback:Mb,useContext:Mn,useEffect:kb,useImperativeHandle:Db,useInsertionEffect:Rb,useLayoutEffect:jb,useMemo:Ob,useReducer:nh,useRef:Ab,useState:function(){return nh(Qi)},useDebugValue:Cp,useDeferredValue:function(r,o){var c=sn();return Pb(c,Ct.memoizedState,r,o)},useTransition:function(){var r=nh(Qi)[0],o=sn().memoizedState;return[typeof r=="boolean"?r:zc(r),o]},useSyncExternalStore:db,useId:Ub,useHostTransitionStatus:jp,useFormState:Tb,useActionState:Tb,useOptimistic:function(r,o){var c=sn();return yb(c,Ct,r,o)},useMemoCache:Ep,useCacheRefresh:Bb},GA={readContext:Mn,use:th,useCallback:Mb,useContext:Mn,useEffect:kb,useImperativeHandle:Db,useInsertionEffect:Rb,useLayoutEffect:jb,useMemo:Ob,useReducer:Sp,useRef:Ab,useState:function(){return Sp(Qi)},useDebugValue:Cp,useDeferredValue:function(r,o){var c=sn();return Ct===null?kp(c,r,o):Pb(c,Ct.memoizedState,r,o)},useTransition:function(){var r=Sp(Qi)[0],o=sn().memoizedState;return[typeof r=="boolean"?r:zc(r),o]},useSyncExternalStore:db,useId:Ub,useHostTransitionStatus:jp,useFormState:Nb,useActionState:Nb,useOptimistic:function(r,o){var c=sn();return Ct!==null?yb(c,Ct,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Ep,useCacheRefresh:Bb},rl=null,Fc=0;function oh(r){var o=Fc;return Fc+=1,rl===null&&(rl=[]),sb(rl,r,o)}function $c(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function lh(r,o){throw o.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function Wb(r){var o=r._init;return o(r._payload)}function Yb(r){function o(K,Y){if(r){var J=K.deletions;J===null?(K.deletions=[Y],K.flags|=16):J.push(Y)}}function c(K,Y){if(!r)return null;for(;Y!==null;)o(K,Y),Y=Y.sibling;return null}function h(K){for(var Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function y(K,Y){return K=qi(K,Y),K.index=0,K.sibling=null,K}function v(K,Y,J){return K.index=J,r?(J=K.alternate,J!==null?(J=J.index,J<Y?(K.flags|=67108866,Y):J):(K.flags|=67108866,Y)):(K.flags|=1048576,Y)}function C(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function D(K,Y,J,le){return Y===null||Y.tag!==6?(Y=Zm(J,K.mode,le),Y.return=K,Y):(Y=y(Y,J),Y.return=K,Y)}function H(K,Y,J,le){var Ce=J.type;return Ce===S?oe(K,Y,J.props.children,le,J.key):Y!==null&&(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===R&&Wb(Ce)===Y.type)?(Y=y(Y,J.props),$c(Y,J),Y.return=K,Y):(Y=Hd(J.type,J.key,J.props,null,K.mode,le),$c(Y,J),Y.return=K,Y)}function Z(K,Y,J,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=ep(J,K.mode,le),Y.return=K,Y):(Y=y(Y,J.children||[]),Y.return=K,Y)}function oe(K,Y,J,le,Ce){return Y===null||Y.tag!==7?(Y=Ga(J,K.mode,le,Ce),Y.return=K,Y):(Y=y(Y,J),Y.return=K,Y)}function de(K,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Zm(""+Y,K.mode,J),Y.return=K,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return J=Hd(Y.type,Y.key,Y.props,null,K.mode,J),$c(J,Y),J.return=K,J;case E:return Y=ep(Y,K.mode,J),Y.return=K,Y;case R:var le=Y._init;return Y=le(Y._payload),de(K,Y,J)}if(ue(Y)||U(Y))return Y=Ga(Y,K.mode,J,null),Y.return=K,Y;if(typeof Y.then=="function")return de(K,oh(Y),J);if(Y.$$typeof===M)return de(K,Yd(K,Y),J);lh(K,Y)}return null}function te(K,Y,J,le){var Ce=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:D(K,Y,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Ce?H(K,Y,J,le):null;case E:return J.key===Ce?Z(K,Y,J,le):null;case R:return Ce=J._init,J=Ce(J._payload),te(K,Y,J,le)}if(ue(J)||U(J))return Ce!==null?null:oe(K,Y,J,le,null);if(typeof J.then=="function")return te(K,Y,oh(J),le);if(J.$$typeof===M)return te(K,Y,Yd(K,J),le);lh(K,J)}return null}function se(K,Y,J,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(J)||null,D(Y,K,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return K=K.get(le.key===null?J:le.key)||null,H(Y,K,le,Ce);case E:return K=K.get(le.key===null?J:le.key)||null,Z(Y,K,le,Ce);case R:var et=le._init;return le=et(le._payload),se(K,Y,J,le,Ce)}if(ue(le)||U(le))return K=K.get(J)||null,oe(Y,K,le,Ce,null);if(typeof le.then=="function")return se(K,Y,J,oh(le),Ce);if(le.$$typeof===M)return se(K,Y,J,Yd(Y,le),Ce);lh(Y,le)}return null}function $e(K,Y,J,le){for(var Ce=null,et=null,je=Y,Ve=Y=0,wn=null;je!==null&&Ve<J.length;Ve++){je.index>Ve?(wn=je,je=null):wn=je.sibling;var bt=te(K,je,J[Ve],le);if(bt===null){je===null&&(je=wn);break}r&&je&&bt.alternate===null&&o(K,je),Y=v(bt,Y,Ve),et===null?Ce=bt:et.sibling=bt,et=bt,je=wn}if(Ve===J.length)return c(K,je),vt&&Wa(K,Ve),Ce;if(je===null){for(;Ve<J.length;Ve++)je=de(K,J[Ve],le),je!==null&&(Y=v(je,Y,Ve),et===null?Ce=je:et.sibling=je,et=je);return vt&&Wa(K,Ve),Ce}for(je=h(je);Ve<J.length;Ve++)wn=se(je,K,Ve,J[Ve],le),wn!==null&&(r&&wn.alternate!==null&&je.delete(wn.key===null?Ve:wn.key),Y=v(wn,Y,Ve),et===null?Ce=wn:et.sibling=wn,et=wn);return r&&je.forEach(function(Qr){return o(K,Qr)}),vt&&Wa(K,Ve),Ce}function Le(K,Y,J,le){if(J==null)throw Error(s(151));for(var Ce=null,et=null,je=Y,Ve=Y=0,wn=null,bt=J.next();je!==null&&!bt.done;Ve++,bt=J.next()){je.index>Ve?(wn=je,je=null):wn=je.sibling;var Qr=te(K,je,bt.value,le);if(Qr===null){je===null&&(je=wn);break}r&&je&&Qr.alternate===null&&o(K,je),Y=v(Qr,Y,Ve),et===null?Ce=Qr:et.sibling=Qr,et=Qr,je=wn}if(bt.done)return c(K,je),vt&&Wa(K,Ve),Ce;if(je===null){for(;!bt.done;Ve++,bt=J.next())bt=de(K,bt.value,le),bt!==null&&(Y=v(bt,Y,Ve),et===null?Ce=bt:et.sibling=bt,et=bt);return vt&&Wa(K,Ve),Ce}for(je=h(je);!bt.done;Ve++,bt=J.next())bt=se(je,K,Ve,bt.value,le),bt!==null&&(r&&bt.alternate!==null&&je.delete(bt.key===null?Ve:bt.key),Y=v(bt,Y,Ve),et===null?Ce=bt:et.sibling=bt,et=bt);return r&&je.forEach(function(qC){return o(K,qC)}),vt&&Wa(K,Ve),Ce}function Rt(K,Y,J,le){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Ce=J.key;Y!==null;){if(Y.key===Ce){if(Ce=J.type,Ce===S){if(Y.tag===7){c(K,Y.sibling),le=y(Y,J.props.children),le.return=K,K=le;break e}}else if(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===R&&Wb(Ce)===Y.type){c(K,Y.sibling),le=y(Y,J.props),$c(le,J),le.return=K,K=le;break e}c(K,Y);break}else o(K,Y);Y=Y.sibling}J.type===S?(le=Ga(J.props.children,K.mode,le,J.key),le.return=K,K=le):(le=Hd(J.type,J.key,J.props,null,K.mode,le),$c(le,J),le.return=K,K=le)}return C(K);case E:e:{for(Ce=J.key;Y!==null;){if(Y.key===Ce)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){c(K,Y.sibling),le=y(Y,J.children||[]),le.return=K,K=le;break e}else{c(K,Y);break}else o(K,Y);Y=Y.sibling}le=ep(J,K.mode,le),le.return=K,K=le}return C(K);case R:return Ce=J._init,J=Ce(J._payload),Rt(K,Y,J,le)}if(ue(J))return $e(K,Y,J,le);if(U(J)){if(Ce=U(J),typeof Ce!="function")throw Error(s(150));return J=Ce.call(J),Le(K,Y,J,le)}if(typeof J.then=="function")return Rt(K,Y,oh(J),le);if(J.$$typeof===M)return Rt(K,Y,Yd(K,J),le);lh(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(c(K,Y.sibling),le=y(Y,J),le.return=K,K=le):(c(K,Y),le=Zm(J,K.mode,le),le.return=K,K=le),C(K)):c(K,Y)}return function(K,Y,J,le){try{Fc=0;var Ce=Rt(K,Y,J,le);return rl=null,Ce}catch(je){if(je===Dc||je===Xd)throw je;var et=ds(29,je,null,K.mode);return et.lanes=le,et.return=K,et}finally{}}}var al=Yb(!0),Kb=Yb(!1),ks=ee(null),pi=null;function Pr(r){var o=r.alternate;re(mn,mn.current&1),re(ks,r),pi===null&&(o===null||tl.current!==null||o.memoizedState!==null)&&(pi=r)}function Xb(r){if(r.tag===22){if(re(mn,mn.current),re(ks,r),pi===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(pi=r)}}else Lr()}function Lr(){re(mn,mn.current),re(ks,ks.current)}function Ji(r){fe(ks),pi===r&&(pi=null),fe(mn)}var mn=ee(0);function ch(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||wg(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Dp(r,o,c,h){o=r.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Mp={enqueueSetState:function(r,o,c){r=r._reactInternals;var h=ps(),y=Dr(h);y.payload=o,c!=null&&(y.callback=c),o=Mr(r,y,h),o!==null&&(gs(o,r,h),Oc(o,r,h))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var h=ps(),y=Dr(h);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Mr(r,y,h),o!==null&&(gs(o,r,h),Oc(o,r,h))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=ps(),h=Dr(c);h.tag=2,o!=null&&(h.callback=o),o=Mr(r,h,c),o!==null&&(gs(o,r,c),Oc(o,r,c))}};function Qb(r,o,c,h,y,v,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,v,C):o.prototype&&o.prototype.isPureReactComponent?!Sc(c,h)||!Sc(y,v):!0}function Jb(r,o,c,h){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==r&&Mp.enqueueReplaceState(o,o.state,null)}function eo(r,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(r=r.defaultProps){c===o&&(c=g({},c));for(var y in r)c[y]===void 0&&(c[y]=r[y])}return c}var uh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Zb(r){uh(r)}function ev(r){console.error(r)}function tv(r){uh(r)}function dh(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function nv(r,o,c){try{var h=r.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Op(r,o,c){return c=Dr(c),c.tag=3,c.payload={element:null},c.callback=function(){dh(r,o)},c}function sv(r){return r=Dr(r),r.tag=3,r}function iv(r,o,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;r.payload=function(){return y(v)},r.callback=function(){nv(o,c,h)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){nv(o,c,h),typeof y!="function"&&($r===null?$r=new Set([this]):$r.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function qA(r,o,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Rc(o,c,y,!0),c=ks.current,c!==null){switch(c.tag){case 13:return pi===null?rg():c.alternate===null&&Wt===0&&(Wt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===up?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),og(r,h,y)),!1;case 22:return c.flags|=65536,h===up?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),og(r,h,y)),!1}throw Error(s(435,c.tag))}return og(r,h,y),rg(),!1}if(vt)return o=ks.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==sp&&(r=Error(s(422),{cause:h}),kc(Ss(r,c)))):(h!==sp&&(o=Error(s(423),{cause:h}),kc(Ss(o,c))),r=r.current.alternate,r.flags|=65536,y&=-y,r.lanes|=y,h=Ss(h,c),y=Op(r.stateNode,h,y),fp(r,y),Wt!==4&&(Wt=2)),!1;var v=Error(s(520),{cause:h});if(v=Ss(v,c),Xc===null?Xc=[v]:Xc.push(v),Wt!==4&&(Wt=2),o===null)return!0;h=Ss(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=y&-y,c.lanes|=r,r=Op(c.stateNode,h,r),fp(c,r),!1;case 1:if(o=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($r===null||!$r.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=sv(y),iv(y,r,c,h),fp(c,y),!1}c=c.return}while(c!==null);return!1}var rv=Error(s(461)),vn=!1;function Cn(r,o,c,h){o.child=r===null?Kb(o,null,c,h):al(o,r.child,c,h)}function av(r,o,c,h,y){c=c.render;var v=o.ref;if("ref"in h){var C={};for(var D in h)D!=="ref"&&(C[D]=h[D])}else C=h;return Qa(o),h=xp(r,o,c,C,v,y),D=bp(),r!==null&&!vn?(vp(r,o,y),Zi(r,o,y)):(vt&&D&&tp(o),o.flags|=1,Cn(r,o,h,y),o.child)}function ov(r,o,c,h,y){if(r===null){var v=c.type;return typeof v=="function"&&!Jm(v)&&v.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=v,lv(r,o,v,h,y)):(r=Hd(c.type,null,h,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(v=r.child,!$p(r,y)){var C=v.memoizedProps;if(c=c.compare,c=c!==null?c:Sc,c(C,h)&&r.ref===o.ref)return Zi(r,o,y)}return o.flags|=1,r=qi(v,h),r.ref=o.ref,r.return=o,o.child=r}function lv(r,o,c,h,y){if(r!==null){var v=r.memoizedProps;if(Sc(v,h)&&r.ref===o.ref)if(vn=!1,o.pendingProps=h=v,$p(r,y))(r.flags&131072)!==0&&(vn=!0);else return o.lanes=r.lanes,Zi(r,o,y)}return Pp(r,o,c,h,y)}function cv(r,o,c){var h=o.pendingProps,y=h.children,v=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=v!==null?v.baseLanes|c:c,r!==null){for(y=o.child=r.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;o.childLanes=v&~h}else o.childLanes=0,o.child=null;return uv(r,o,h,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Kd(o,v!==null?v.cachePool:null),v!==null?lb(o,v):pp(),Xb(o);else return o.lanes=o.childLanes=536870912,uv(r,o,v!==null?v.baseLanes|c:c,c)}else v!==null?(Kd(o,v.cachePool),lb(o,v),Lr(),o.memoizedState=null):(r!==null&&Kd(o,null),pp(),Lr());return Cn(r,o,y,c),o.child}function uv(r,o,c,h){var y=cp();return y=y===null?null:{parent:fn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},r!==null&&Kd(o,null),pp(),Xb(o),r!==null&&Rc(r,o,h,!0),null}function hh(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function Pp(r,o,c,h,y){return Qa(o),c=xp(r,o,c,h,void 0,y),h=bp(),r!==null&&!vn?(vp(r,o,y),Zi(r,o,y)):(vt&&h&&tp(o),o.flags|=1,Cn(r,o,c,y),o.child)}function dv(r,o,c,h,y,v){return Qa(o),o.updateQueue=null,c=ub(o,h,c,y),cb(r),h=bp(),r!==null&&!vn?(vp(r,o,v),Zi(r,o,v)):(vt&&h&&tp(o),o.flags|=1,Cn(r,o,c,v),o.child)}function hv(r,o,c,h,y){if(Qa(o),o.stateNode===null){var v=Xo,C=c.contextType;typeof C=="object"&&C!==null&&(v=Mn(C)),v=new c(h,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Mp,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=h,v.state=o.memoizedState,v.refs={},dp(o),C=c.contextType,v.context=typeof C=="object"&&C!==null?Mn(C):Xo,v.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(Dp(o,c,C,h),v.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Mp.enqueueReplaceState(v,v.state,null),Lc(o,h,v,y),Pc(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(r===null){v=o.stateNode;var D=o.memoizedProps,H=eo(c,D);v.props=H;var Z=v.context,oe=c.contextType;C=Xo,typeof oe=="object"&&oe!==null&&(C=Mn(oe));var de=c.getDerivedStateFromProps;oe=typeof de=="function"||typeof v.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,oe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D||Z!==C)&&Jb(o,v,h,C),Ir=!1;var te=o.memoizedState;v.state=te,Lc(o,h,v,y),Pc(),Z=o.memoizedState,D||te!==Z||Ir?(typeof de=="function"&&(Dp(o,c,de,h),Z=o.memoizedState),(H=Ir||Qb(o,c,H,h,te,Z,C))?(oe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=Z),v.props=h,v.state=Z,v.context=C,h=H):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{v=o.stateNode,hp(r,o),C=o.memoizedProps,oe=eo(c,C),v.props=oe,de=o.pendingProps,te=v.context,Z=c.contextType,H=Xo,typeof Z=="object"&&Z!==null&&(H=Mn(Z)),D=c.getDerivedStateFromProps,(Z=typeof D=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==de||te!==H)&&Jb(o,v,h,H),Ir=!1,te=o.memoizedState,v.state=te,Lc(o,h,v,y),Pc();var se=o.memoizedState;C!==de||te!==se||Ir||r!==null&&r.dependencies!==null&&Wd(r.dependencies)?(typeof D=="function"&&(Dp(o,c,D,h),se=o.memoizedState),(oe=Ir||Qb(o,c,oe,h,te,se,H)||r!==null&&r.dependencies!==null&&Wd(r.dependencies))?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,se,H),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,se,H)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=se),v.props=h,v.state=se,v.context=H,h=oe):(typeof v.componentDidUpdate!="function"||C===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),h=!1)}return v=h,hh(r,o),h=(o.flags&128)!==0,v||h?(v=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,r!==null&&h?(o.child=al(o,r.child,null,y),o.child=al(o,null,c,y)):Cn(r,o,c,y),o.memoizedState=v.state,r=o.child):r=Zi(r,o,y),r}function fv(r,o,c,h){return Cc(),o.flags|=256,Cn(r,o,c,h),o.child}var Lp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vp(r){return{baseLanes:r,cachePool:eb()}}function zp(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=Rs),r}function mv(r,o,c){var h=o.pendingProps,y=!1,v=(o.flags&128)!==0,C;if((C=v)||(C=r!==null&&r.memoizedState===null?!1:(mn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,r===null){if(vt){if(y?Pr(o):Lr(),vt){var D=qt,H;if(H=D){e:{for(H=D,D=mi;H.nodeType!==8;){if(!D){D=null;break e}if(H=qs(H.nextSibling),H===null){D=null;break e}}D=H}D!==null?(o.memoizedState={dehydrated:D,treeContext:qa!==null?{id:Wi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},H=ds(18,null,null,0),H.stateNode=D,H.return=o,o.child=H,Xn=o,qt=null,H=!0):H=!1}H||Ka(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return wg(D)?o.lanes=32:o.lanes=536870912,null;Ji(o)}return D=h.children,h=h.fallback,y?(Lr(),y=o.mode,D=fh({mode:"hidden",children:D},y),h=Ga(h,y,c,null),D.return=o,h.return=o,D.sibling=h,o.child=D,y=o.child,y.memoizedState=Vp(c),y.childLanes=zp(r,C,c),o.memoizedState=Lp,h):(Pr(o),Up(o,D))}if(H=r.memoizedState,H!==null&&(D=H.dehydrated,D!==null)){if(v)o.flags&256?(Pr(o),o.flags&=-257,o=Bp(r,o,c)):o.memoizedState!==null?(Lr(),o.child=r.child,o.flags|=128,o=null):(Lr(),y=h.fallback,D=o.mode,h=fh({mode:"visible",children:h.children},D),y=Ga(y,D,c,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,al(o,r.child,null,c),h=o.child,h.memoizedState=Vp(c),h.childLanes=zp(r,C,c),o.memoizedState=Lp,o=y);else if(Pr(o),wg(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var Z=C.dgst;C=Z,h=Error(s(419)),h.stack="",h.digest=C,kc({value:h,source:null,stack:null}),o=Bp(r,o,c)}else if(vn||Rc(r,o,c,!1),C=(c&r.childLanes)!==0,vn||C){if(C=Mt,C!==null&&(h=c&-c,h=(h&42)!==0?1:ni(h),h=(h&(C.suspendedLanes|c))!==0?0:h,h!==0&&h!==H.retryLane))throw H.retryLane=h,Ko(r,h),gs(C,r,h),rv;D.data==="$?"||rg(),o=Bp(r,o,c)}else D.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=H.treeContext,qt=qs(D.nextSibling),Xn=o,vt=!0,Ya=null,mi=!1,r!==null&&(As[Cs++]=Wi,As[Cs++]=Yi,As[Cs++]=qa,Wi=r.id,Yi=r.overflow,qa=o),o=Up(o,h.children),o.flags|=4096);return o}return y?(Lr(),y=h.fallback,D=o.mode,H=r.child,Z=H.sibling,h=qi(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,Z!==null?y=qi(Z,y):(y=Ga(y,D,c,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,D=r.child.memoizedState,D===null?D=Vp(c):(H=D.cachePool,H!==null?(Z=fn._currentValue,H=H.parent!==Z?{parent:Z,pool:Z}:H):H=eb(),D={baseLanes:D.baseLanes|c,cachePool:H}),y.memoizedState=D,y.childLanes=zp(r,C,c),o.memoizedState=Lp,h):(Pr(o),c=r.child,r=c.sibling,c=qi(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,r!==null&&(C=o.deletions,C===null?(o.deletions=[r],o.flags|=16):C.push(r)),o.child=c,o.memoizedState=null,c)}function Up(r,o){return o=fh({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function fh(r,o){return r=ds(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Bp(r,o,c){return al(o,r.child,null,c),r=Up(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function pv(r,o,c){r.lanes|=o;var h=r.alternate;h!==null&&(h.lanes|=o),rp(r.return,o,c)}function Fp(r,o,c,h,y){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=y)}function gv(r,o,c){var h=o.pendingProps,y=h.revealOrder,v=h.tail;if(Cn(r,o,h.children,c),h=mn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pv(r,c,o);else if(r.tag===19)pv(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(re(mn,h),y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&ch(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Fp(o,!1,y,c,v);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&ch(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}Fp(o,!0,c,null,v);break;case"together":Fp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Zi(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),Fr|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(Rc(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,c=qi(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=qi(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function $p(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Wd(r)))}function WA(r,o,c){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),jr(o,fn,r.memoizedState.cache),Cc();break;case 27:case 5:qe(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:jr(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Pr(o),o.flags|=128,null):(c&o.child.childLanes)!==0?mv(r,o,c):(Pr(o),r=Zi(r,o,c),r!==null?r.sibling:null);Pr(o);break;case 19:var y=(r.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Rc(r,o,c,!1),h=(c&o.childLanes)!==0),y){if(h)return gv(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),re(mn,mn.current),h)break;return null;case 22:case 23:return o.lanes=0,cv(r,o,c);case 24:jr(o,fn,r.memoizedState.cache)}return Zi(r,o,c)}function yv(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)vn=!0;else{if(!$p(r,c)&&(o.flags&128)===0)return vn=!1,WA(r,o,c);vn=(r.flags&131072)!==0}else vn=!1,vt&&(o.flags&1048576)!==0&&Wx(o,qd,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var h=o.elementType,y=h._init;if(h=y(h._payload),o.type=h,typeof h=="function")Jm(h)?(r=eo(h,r),o.tag=1,o=hv(null,o,h,r,c)):(o.tag=0,o=Pp(null,o,h,r,c));else{if(h!=null){if(y=h.$$typeof,y===z){o.tag=11,o=av(null,o,h,r,c);break e}else if(y===A){o.tag=14,o=ov(null,o,h,r,c);break e}}throw o=ge(h)||h,Error(s(306,o,""))}}return o;case 0:return Pp(r,o,o.type,o.pendingProps,c);case 1:return h=o.type,y=eo(h,o.pendingProps),hv(r,o,h,y,c);case 3:e:{if(be(o,o.stateNode.containerInfo),r===null)throw Error(s(387));h=o.pendingProps;var v=o.memoizedState;y=v.element,hp(r,o),Lc(o,h,null,c);var C=o.memoizedState;if(h=C.cache,jr(o,fn,h),h!==v.cache&&ap(o,[fn],c,!0),Pc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=fv(r,o,h,c);break e}else if(h!==y){y=Ss(Error(s(424)),o),kc(y),o=fv(r,o,h,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(qt=qs(r.firstChild),Xn=o,vt=!0,Ya=null,mi=!0,c=Kb(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Cc(),h===y){o=Zi(r,o,c);break e}Cn(r,o,h,c)}o=o.child}return o;case 26:return hh(r,o),r===null?(c=__(o.type,null,o.pendingProps,null))?o.memoizedState=c:vt||(c=o.type,r=o.pendingProps,h=Ah(ye.current).createElement(c),h[Yt]=o,h[Gt]=r,Rn(h,c,r),Kt(h),o.stateNode=h):o.memoizedState=__(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return qe(o),r===null&&vt&&(h=o.stateNode=x_(o.type,o.pendingProps,ye.current),Xn=o,mi=!0,y=qt,qr(o.type)?(Eg=y,qt=qs(h.firstChild)):qt=y),Cn(r,o,o.pendingProps.children,c),hh(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&vt&&((y=h=qt)&&(h=_C(h,o.type,o.pendingProps,mi),h!==null?(o.stateNode=h,Xn=o,qt=qs(h.firstChild),mi=!1,y=!0):y=!1),y||Ka(o)),qe(o),y=o.type,v=o.pendingProps,C=r!==null?r.memoizedProps:null,h=v.children,bg(y,v)?h=null:C!==null&&bg(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=xp(r,o,zA,null,null,c),ru._currentValue=y),hh(r,o),Cn(r,o,h,c),o.child;case 6:return r===null&&vt&&((r=c=qt)&&(c=wC(c,o.pendingProps,mi),c!==null?(o.stateNode=c,Xn=o,qt=null,r=!0):r=!1),r||Ka(o)),null;case 13:return mv(r,o,c);case 4:return be(o,o.stateNode.containerInfo),h=o.pendingProps,r===null?o.child=al(o,null,h,c):Cn(r,o,h,c),o.child;case 11:return av(r,o,o.type,o.pendingProps,c);case 7:return Cn(r,o,o.pendingProps,c),o.child;case 8:return Cn(r,o,o.pendingProps.children,c),o.child;case 12:return Cn(r,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,jr(o,o.type,h.value),Cn(r,o,h.children,c),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Qa(o),y=Mn(y),h=h(y),o.flags|=1,Cn(r,o,h,c),o.child;case 14:return ov(r,o,o.type,o.pendingProps,c);case 15:return lv(r,o,o.type,o.pendingProps,c);case 19:return gv(r,o,c);case 31:return h=o.pendingProps,c=o.mode,h={mode:h.mode,children:h.children},r===null?(c=fh(h,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=qi(r.child,h),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return cv(r,o,c);case 24:return Qa(o),h=Mn(fn),r===null?(y=cp(),y===null&&(y=Mt,v=op(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),o.memoizedState={parent:h,cache:y},dp(o),jr(o,fn,y)):((r.lanes&c)!==0&&(hp(r,o),Lc(o,null,null,c),Pc()),y=r.memoizedState,v=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),jr(o,fn,h)):(h=v.cache,jr(o,fn,h),h!==y.cache&&ap(o,[fn],c,!0))),Cn(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function er(r){r.flags|=4}function xv(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!N_(o)){if(o=ks.current,o!==null&&((gt&4194048)===gt?pi!==null:(gt&62914560)!==gt&&(gt&536870912)===0||o!==pi))throw Mc=up,tb;r.flags|=8192}}function mh(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Tr():536870912,r.lanes|=o,ul|=o)}function Hc(r,o){if(!vt)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function $t(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=c,o}function YA(r,o,c){var h=o.pendingProps;switch(np(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return $t(o),null;case 3:return c=o.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Xi(fn),Ke(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ac(o)?er(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xx())),$t(o),null;case 26:return c=o.memoizedState,r===null?(er(o),c!==null?($t(o),xv(o,c)):($t(o),o.flags&=-16777217)):c?c!==r.memoizedState?(er(o),$t(o),xv(o,c)):($t(o),o.flags&=-16777217):(r.memoizedProps!==h&&er(o),$t(o),o.flags&=-16777217),null;case 27:Me(o),c=ye.current;var y=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==h&&er(o);else{if(!h){if(o.stateNode===null)throw Error(s(166));return $t(o),null}r=pe.current,Ac(o)?Yx(o):(r=x_(y,h,c),o.stateNode=r,er(o))}return $t(o),null;case 5:if(Me(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==h&&er(o);else{if(!h){if(o.stateNode===null)throw Error(s(166));return $t(o),null}if(r=pe.current,Ac(o))Yx(o);else{switch(y=Ah(ye.current),r){case 1:r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=y.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?y.createElement(c,{is:h.is}):y.createElement(c)}}r[Yt]=o,r[Gt]=h;e:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)r.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break e;for(;y.sibling===null;){if(y.return===null||y.return===o)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=r;e:switch(Rn(r,c,h),c){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&er(o)}}return $t(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==h&&er(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(s(166));if(r=ye.current,Ac(o)){if(r=o.stateNode,c=o.memoizedProps,h=null,y=Xn,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}r[Yt]=o,r=!!(r.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||d_(r.nodeValue,c)),r||Ka(o)}else r=Ah(r).createTextNode(h),r[Yt]=o,o.stateNode=r}return $t(o),null;case 13:if(h=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(y=Ac(o),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(s(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Yt]=o}else Cc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),y=!1}else y=Xx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Ji(o),o):(Ji(o),null)}if(Ji(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=h!==null,r=r!==null&&r.memoizedState!==null,c){h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==y&&(h.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),mh(o,o.updateQueue),$t(o),null;case 4:return Ke(),r===null&&mg(o.stateNode.containerInfo),$t(o),null;case 10:return Xi(o.type),$t(o),null;case 19:if(fe(mn),y=o.memoizedState,y===null)return $t(o),null;if(h=(o.flags&128)!==0,v=y.rendering,v===null)if(h)Hc(y,!1);else{if(Wt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(v=ch(r),v!==null){for(o.flags|=128,Hc(y,!1),r=v.updateQueue,o.updateQueue=r,mh(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)qx(c,r),c=c.sibling;return re(mn,mn.current&1|2),o.child}r=r.sibling}y.tail!==null&&Ne()>yh&&(o.flags|=128,h=!0,Hc(y,!1),o.lanes=4194304)}else{if(!h)if(r=ch(v),r!==null){if(o.flags|=128,h=!0,r=r.updateQueue,o.updateQueue=r,mh(o,r),Hc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!vt)return $t(o),null}else 2*Ne()-y.renderingStartTime>yh&&c!==536870912&&(o.flags|=128,h=!0,Hc(y,!1),o.lanes=4194304);y.isBackwards?(v.sibling=o.child,o.child=v):(r=y.last,r!==null?r.sibling=v:o.child=v,y.last=v)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Ne(),o.sibling=null,r=mn.current,re(mn,h?r&1|2:r&1),o):($t(o),null);case 22:case 23:return Ji(o),gp(),h=o.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),c=o.updateQueue,c!==null&&mh(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),r!==null&&fe(Ja),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Xi(fn),$t(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function KA(r,o){switch(np(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Xi(fn),Ke(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Me(o),null;case 13:if(Ji(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Cc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return fe(mn),null;case 4:return Ke(),null;case 10:return Xi(o.type),null;case 22:case 23:return Ji(o),gp(),r!==null&&fe(Ja),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Xi(fn),null;case 25:return null;default:return null}}function bv(r,o){switch(np(o),o.tag){case 3:Xi(fn),Ke();break;case 26:case 27:case 5:Me(o);break;case 4:Ke();break;case 13:Ji(o);break;case 19:fe(mn);break;case 10:Xi(o.type);break;case 22:case 23:Ji(o),gp(),r!==null&&fe(Ja);break;case 24:Xi(fn)}}function Gc(r,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&r)===r){h=void 0;var v=c.create,C=c.inst;h=v(),C.destroy=h}c=c.next}while(c!==y)}}catch(D){jt(o,o.return,D)}}function Vr(r,o,c){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var v=y.next;h=v;do{if((h.tag&r)===r){var C=h.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,y=o;var H=c,Z=D;try{Z()}catch(oe){jt(y,H,oe)}}}h=h.next}while(h!==v)}}catch(oe){jt(o,o.return,oe)}}function vv(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{ob(o,c)}catch(h){jt(r,r.return,h)}}}function _v(r,o,c){c.props=eo(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(h){jt(r,o,h)}}function qc(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof c=="function"?r.refCleanup=c(h):c.current=h}}catch(y){jt(r,o,y)}}function gi(r,o){var c=r.ref,h=r.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){jt(r,o,y)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){jt(r,o,y)}else c.current=null}function wv(r){var o=r.type,c=r.memoizedProps,h=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){jt(r,r.return,y)}}function Hp(r,o,c){try{var h=r.stateNode;gC(h,r.type,c,o),h[Gt]=o}catch(y){jt(r,r.return,y)}}function Ev(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&qr(r.type)||r.tag===4}function Gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ev(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&qr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qp(r,o,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Nh));else if(h!==4&&(h===27&&qr(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(qp(r,o,c),r=r.sibling;r!==null;)qp(r,o,c),r=r.sibling}function ph(r,o,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(h!==4&&(h===27&&qr(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(ph(r,o,c),r=r.sibling;r!==null;)ph(r,o,c),r=r.sibling}function Tv(r){var o=r.stateNode,c=r.memoizedProps;try{for(var h=r.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Rn(o,h,c),o[Yt]=r,o[Gt]=c}catch(v){jt(r,r.return,v)}}var tr=!1,Qt=!1,Wp=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,_n=null;function XA(r,o){if(r=r.containerInfo,yg=Dh,r=Px(r),Gm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var C=0,D=-1,H=-1,Z=0,oe=0,de=r,te=null;t:for(;;){for(var se;de!==c||y!==0&&de.nodeType!==3||(D=C+y),de!==v||h!==0&&de.nodeType!==3||(H=C+h),de.nodeType===3&&(C+=de.nodeValue.length),(se=de.firstChild)!==null;)te=de,de=se;for(;;){if(de===r)break t;if(te===c&&++Z===y&&(D=C),te===v&&++oe===h&&(H=C),(se=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=se}c=D===-1||H===-1?null:{start:D,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(xg={focusedElem:r,selectionRange:c},Dh=!1,_n=o;_n!==null;)if(o=_n,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,_n=r;else for(;_n!==null;){switch(o=_n,v=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,c=o,y=v.memoizedProps,v=v.memoizedState,h=c.stateNode;try{var $e=eo(c.type,y,c.elementType===c.type);r=h.getSnapshotBeforeUpdate($e,v),h.__reactInternalSnapshotBeforeUpdate=r}catch(Le){jt(c,c.return,Le)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)_g(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":_g(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,_n=r;break}_n=o.return}}function Nv(r,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:zr(r,c),h&4&&Gc(5,c);break;case 1:if(zr(r,c),h&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(C){jt(c,c.return,C)}else{var y=eo(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(y,o,r.__reactInternalSnapshotBeforeUpdate)}catch(C){jt(c,c.return,C)}}h&64&&vv(c),h&512&&qc(c,c.return);break;case 3:if(zr(r,c),h&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{ob(r,o)}catch(C){jt(c,c.return,C)}}break;case 27:o===null&&h&4&&Tv(c);case 26:case 5:zr(r,c),o===null&&h&4&&wv(c),h&512&&qc(c,c.return);break;case 12:zr(r,c);break;case 13:zr(r,c),h&4&&kv(r,c),h&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=rC.bind(null,c),EC(r,c))));break;case 22:if(h=c.memoizedState!==null||tr,!h){o=o!==null&&o.memoizedState!==null||Qt,y=tr;var v=Qt;tr=h,(Qt=o)&&!v?Ur(r,c,(c.subtreeFlags&8772)!==0):zr(r,c),tr=y,Qt=v}break;case 30:break;default:zr(r,c)}}function Av(r){var o=r.alternate;o!==null&&(r.alternate=null,Av(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Ar(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var zt=null,Jn=!1;function nr(r,o,c){for(c=c.child;c!==null;)Cv(r,o,c),c=c.sibling}function Cv(r,o,c){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Xe,c)}catch{}switch(c.tag){case 26:Qt||gi(c,o),nr(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Qt||gi(c,o);var h=zt,y=Jn;qr(c.type)&&(zt=c.stateNode,Jn=!1),nr(r,o,c),tu(c.stateNode),zt=h,Jn=y;break;case 5:Qt||gi(c,o);case 6:if(h=zt,y=Jn,zt=null,nr(r,o,c),zt=h,Jn=y,zt!==null)if(Jn)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(c.stateNode)}catch(v){jt(c,o,v)}else try{zt.removeChild(c.stateNode)}catch(v){jt(c,o,v)}break;case 18:zt!==null&&(Jn?(r=zt,g_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),cu(r)):g_(zt,c.stateNode));break;case 4:h=zt,y=Jn,zt=c.stateNode.containerInfo,Jn=!0,nr(r,o,c),zt=h,Jn=y;break;case 0:case 11:case 14:case 15:Qt||Vr(2,c,o),Qt||Vr(4,c,o),nr(r,o,c);break;case 1:Qt||(gi(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&_v(c,o,h)),nr(r,o,c);break;case 21:nr(r,o,c);break;case 22:Qt=(h=Qt)||c.memoizedState!==null,nr(r,o,c),Qt=h;break;default:nr(r,o,c)}}function kv(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{cu(r)}catch(c){jt(o,o.return,c)}}function QA(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Sv),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Sv),o;default:throw Error(s(435,r.tag))}}function Yp(r,o){var c=QA(r);o.forEach(function(h){var y=aC.bind(null,r,h);c.has(h)||(c.add(h),h.then(y,y))})}function hs(r,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],v=r,C=o,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(qr(D.type)){zt=D.stateNode,Jn=!1;break e}break;case 5:zt=D.stateNode,Jn=!1;break e;case 3:case 4:zt=D.stateNode.containerInfo,Jn=!0;break e}D=D.return}if(zt===null)throw Error(s(160));Cv(v,C,y),zt=null,Jn=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Rv(o,r),o=o.sibling}var Gs=null;function Rv(r,o){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:hs(o,r),fs(r),h&4&&(Vr(3,r,r.return),Gc(3,r),Vr(5,r,r.return));break;case 1:hs(o,r),fs(r),h&512&&(Qt||c===null||gi(c,c.return)),h&64&&tr&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Gs;if(hs(o,r),fs(r),h&512&&(Qt||c===null||gi(c,c.return)),h&4){var v=c!==null?c.memoizedState:null;if(h=r.memoizedState,c===null)if(h===null)if(r.stateNode===null){e:{h=r.type,c=r.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":v=y.getElementsByTagName("title")[0],(!v||v[ka]||v[Yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(h),y.head.insertBefore(v,y.querySelector("head > title"))),Rn(v,h,c),v[Yt]=r,Kt(v),h=v;break e;case"link":var C=T_("link","href",y).get(h+(c.href||""));if(C){for(var D=0;D<C.length;D++)if(v=C[D],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(D,1);break t}}v=y.createElement(h),Rn(v,h,c),y.head.appendChild(v);break;case"meta":if(C=T_("meta","content",y).get(h+(c.content||""))){for(D=0;D<C.length;D++)if(v=C[D],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(D,1);break t}}v=y.createElement(h),Rn(v,h,c),y.head.appendChild(v);break;default:throw Error(s(468,h))}v[Yt]=r,Kt(v),h=v}r.stateNode=h}else S_(y,r.type,r.stateNode);else r.stateNode=E_(y,h,r.memoizedProps);else v!==h?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,h===null?S_(y,r.type,r.stateNode):E_(y,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Hp(r,r.memoizedProps,c.memoizedProps)}break;case 27:hs(o,r),fs(r),h&512&&(Qt||c===null||gi(c,c.return)),c!==null&&h&4&&Hp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(hs(o,r),fs(r),h&512&&(Qt||c===null||gi(c,c.return)),r.flags&32){y=r.stateNode;try{_s(y,"")}catch(se){jt(r,r.return,se)}}h&4&&r.stateNode!=null&&(y=r.memoizedProps,Hp(r,y,c!==null?c.memoizedProps:y)),h&1024&&(Wp=!0);break;case 6:if(hs(o,r),fs(r),h&4){if(r.stateNode===null)throw Error(s(162));h=r.memoizedProps,c=r.stateNode;try{c.nodeValue=h}catch(se){jt(r,r.return,se)}}break;case 3:if(Rh=null,y=Gs,Gs=Ch(o.containerInfo),hs(o,r),Gs=y,fs(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{cu(o.containerInfo)}catch(se){jt(r,r.return,se)}Wp&&(Wp=!1,jv(r));break;case 4:h=Gs,Gs=Ch(r.stateNode.containerInfo),hs(o,r),fs(r),Gs=h;break;case 12:hs(o,r),fs(r);break;case 13:hs(o,r),fs(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(eg=Ne()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Yp(r,h)));break;case 22:y=r.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,Z=tr,oe=Qt;if(tr=Z||y,Qt=oe||H,hs(o,r),Qt=oe,tr=Z,fs(r),h&8192)e:for(o=r.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||H||tr||Qt||to(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){H=c=o;try{if(v=H.stateNode,y)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=H.stateNode;var de=H.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;D.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(se){jt(H,H.return,se)}}}else if(o.tag===6){if(c===null){H=o;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(se){jt(H,H.return,se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=r.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Yp(r,c))));break;case 19:hs(o,r),fs(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Yp(r,h)));break;case 30:break;case 21:break;default:hs(o,r),fs(r)}}function fs(r){var o=r.flags;if(o&2){try{for(var c,h=r.return;h!==null;){if(Ev(h)){c=h;break}h=h.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var y=c.stateNode,v=Gp(r);ph(r,v,y);break;case 5:var C=c.stateNode;c.flags&32&&(_s(C,""),c.flags&=-33);var D=Gp(r);ph(r,D,C);break;case 3:case 4:var H=c.stateNode.containerInfo,Z=Gp(r);qp(r,Z,H);break;default:throw Error(s(161))}}catch(oe){jt(r,r.return,oe)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function jv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;jv(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function zr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Nv(r,o.alternate,o),o=o.sibling}function to(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Vr(4,o,o.return),to(o);break;case 1:gi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&_v(o,o.return,c),to(o);break;case 27:tu(o.stateNode);case 26:case 5:gi(o,o.return),to(o);break;case 22:o.memoizedState===null&&to(o);break;case 30:to(o);break;default:to(o)}r=r.sibling}}function Ur(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=r,v=o,C=v.flags;switch(v.tag){case 0:case 11:case 15:Ur(y,v,c),Gc(4,v);break;case 1:if(Ur(y,v,c),h=v,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){jt(h,h.return,Z)}if(h=v,y=h.updateQueue,y!==null){var D=h.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)ab(H[y],D)}catch(Z){jt(h,h.return,Z)}}c&&C&64&&vv(v),qc(v,v.return);break;case 27:Tv(v);case 26:case 5:Ur(y,v,c),c&&h===null&&C&4&&wv(v),qc(v,v.return);break;case 12:Ur(y,v,c);break;case 13:Ur(y,v,c),c&&C&4&&kv(y,v);break;case 22:v.memoizedState===null&&Ur(y,v,c),qc(v,v.return);break;case 30:break;default:Ur(y,v,c)}o=o.sibling}}function Kp(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&jc(c))}function Xp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&jc(r))}function yi(r,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Iv(r,o,c,h),o=o.sibling}function Iv(r,o,c,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:yi(r,o,c,h),y&2048&&Gc(9,o);break;case 1:yi(r,o,c,h);break;case 3:yi(r,o,c,h),y&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&jc(r)));break;case 12:if(y&2048){yi(r,o,c,h),r=o.stateNode;try{var v=o.memoizedProps,C=v.id,D=v.onPostCommit;typeof D=="function"&&D(C,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(H){jt(o,o.return,H)}}else yi(r,o,c,h);break;case 13:yi(r,o,c,h);break;case 23:break;case 22:v=o.stateNode,C=o.alternate,o.memoizedState!==null?v._visibility&2?yi(r,o,c,h):Wc(r,o):v._visibility&2?yi(r,o,c,h):(v._visibility|=2,ol(r,o,c,h,(o.subtreeFlags&10256)!==0)),y&2048&&Kp(C,o);break;case 24:yi(r,o,c,h),y&2048&&Xp(o.alternate,o);break;default:yi(r,o,c,h)}}function ol(r,o,c,h,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=r,C=o,D=c,H=h,Z=C.flags;switch(C.tag){case 0:case 11:case 15:ol(v,C,D,H,y),Gc(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?ol(v,C,D,H,y):Wc(v,C):(oe._visibility|=2,ol(v,C,D,H,y)),y&&Z&2048&&Kp(C.alternate,C);break;case 24:ol(v,C,D,H,y),y&&Z&2048&&Xp(C.alternate,C);break;default:ol(v,C,D,H,y)}o=o.sibling}}function Wc(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,h=o,y=h.flags;switch(h.tag){case 22:Wc(c,h),y&2048&&Kp(h.alternate,h);break;case 24:Wc(c,h),y&2048&&Xp(h.alternate,h);break;default:Wc(c,h)}o=o.sibling}}var Yc=8192;function ll(r){if(r.subtreeFlags&Yc)for(r=r.child;r!==null;)Dv(r),r=r.sibling}function Dv(r){switch(r.tag){case 26:ll(r),r.flags&Yc&&r.memoizedState!==null&&PC(Gs,r.memoizedState,r.memoizedProps);break;case 5:ll(r);break;case 3:case 4:var o=Gs;Gs=Ch(r.stateNode.containerInfo),ll(r),Gs=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Yc,Yc=16777216,ll(r),Yc=o):ll(r));break;default:ll(r)}}function Mv(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Kc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];_n=h,Pv(h,r)}Mv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ov(r),r=r.sibling}function Ov(r){switch(r.tag){case 0:case 11:case 15:Kc(r),r.flags&2048&&Vr(9,r,r.return);break;case 3:Kc(r);break;case 12:Kc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,gh(r)):Kc(r);break;default:Kc(r)}}function gh(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];_n=h,Pv(h,r)}Mv(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Vr(8,o,o.return),gh(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,gh(o));break;default:gh(o)}r=r.sibling}}function Pv(r,o){for(;_n!==null;){var c=_n;switch(c.tag){case 0:case 11:case 15:Vr(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:jc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,_n=h;else e:for(c=r;_n!==null;){h=_n;var y=h.sibling,v=h.return;if(Av(h),h===c){_n=null;break e}if(y!==null){y.return=v,_n=y;break e}_n=v}}}var JA={getCacheForType:function(r){var o=Mn(fn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},ZA=typeof WeakMap=="function"?WeakMap:Map,Tt=0,Mt=null,it=null,gt=0,St=0,ms=null,Br=!1,cl=!1,Qp=!1,sr=0,Wt=0,Fr=0,no=0,Jp=0,Rs=0,ul=0,Xc=null,Zn=null,Zp=!1,eg=0,yh=1/0,xh=null,$r=null,kn=0,Hr=null,dl=null,hl=0,tg=0,ng=null,Lv=null,Qc=0,sg=null;function ps(){if((Tt&2)!==0&&gt!==0)return gt&-gt;if(W.T!==null){var r=Zo;return r!==0?r:ug()}return si()}function Vv(){Rs===0&&(Rs=(gt&536870912)===0||vt?Us():536870912);var r=ks.current;return r!==null&&(r.flags|=32),Rs}function gs(r,o,c){(r===Mt&&(St===2||St===9)||r.cancelPendingCommit!==null)&&(fl(r,0),Gr(r,gt,Rs,!1)),as(r,c),((Tt&2)===0||r!==Mt)&&(r===Mt&&((Tt&2)===0&&(no|=c),Wt===4&&Gr(r,gt,Rs,!1)),xi(r))}function zv(r,o,c){if((Tt&6)!==0)throw Error(s(327));var h=!c&&(o&124)===0&&(o&r.expiredLanes)===0||Fe(r,o),y=h?nC(r,o):ag(r,o,!0),v=h;do{if(y===0){cl&&!h&&Gr(r,o,0,!1);break}else{if(c=r.current.alternate,v&&!eC(c)){y=ag(r,o,!1),v=!1;continue}if(y===2){if(v=o,r.errorRecoveryDisabledLanes&v)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var D=r;y=Xc;var H=D.current.memoizedState.isDehydrated;if(H&&(fl(D,C).flags|=256),C=ag(D,C,!1),C!==2){if(Qp&&!H){D.errorRecoveryDisabledLanes|=v,no|=v,y=4;break e}v=Zn,Zn=y,v!==null&&(Zn===null?Zn=v:Zn.push.apply(Zn,v))}y=C}if(v=!1,y!==2)continue}}if(y===1){fl(r,0),Gr(r,o,0,!0);break}e:{switch(h=r,v=y,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Gr(h,o,Rs,!Br);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(y=eg+300-Ne(),10<y)){if(Gr(h,o,Rs,!Br),qn(h,0,!0)!==0)break e;h.timeoutHandle=m_(Uv.bind(null,h,c,Zn,xh,Zp,o,Rs,no,ul,Br,v,2,-0,0),y);break e}Uv(h,c,Zn,xh,Zp,o,Rs,no,ul,Br,v,0,-0,0)}}break}while(!0);xi(r)}function Uv(r,o,c,h,y,v,C,D,H,Z,oe,de,te,se){if(r.timeoutHandle=-1,de=o.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(iu={stylesheets:null,count:0,unsuspend:OC},Dv(o),de=LC(),de!==null)){r.cancelPendingCommit=de(Wv.bind(null,r,o,v,c,h,y,C,D,H,oe,1,te,se)),Gr(r,v,C,!Z);return}Wv(r,o,v,c,h,y,C,D,H)}function eC(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],v=y.getSnapshot;y=y.value;try{if(!us(v(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gr(r,o,c,h){o&=~Jp,o&=~no,r.suspendedLanes|=o,r.pingedLanes&=~o,h&&(r.warmLanes|=o),h=r.expirationTimes;for(var y=o;0<y;){var v=31-nt(y),C=1<<v;h[v]=-1,y&=~C}c!==0&&os(r,c,o)}function bh(){return(Tt&6)===0?(Jc(0),!1):!0}function ig(){if(it!==null){if(St===0)var r=it.return;else r=it,Ki=Xa=null,_p(r),rl=null,Fc=0,r=it;for(;r!==null;)bv(r.alternate,r),r=r.return;it=null}}function fl(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,xC(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),ig(),Mt=r,it=c=qi(r.current,null),gt=o,St=0,ms=null,Br=!1,cl=Fe(r,o),Qp=!1,ul=Rs=Jp=no=Fr=Wt=0,Zn=Xc=null,Zp=!1,(o&8)!==0&&(o|=o&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=o;0<h;){var y=31-nt(h),v=1<<y;o|=r[y],h&=~v}return sr=o,Bd(),c}function Bv(r,o){Ze=null,W.H=ah,o===Dc||o===Xd?(o=ib(),St=3):o===tb?(o=ib(),St=4):St=o===rv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ms=o,it===null&&(Wt=1,dh(r,Ss(o,r.current)))}function Fv(){var r=W.H;return W.H=ah,r===null?ah:r}function $v(){var r=W.A;return W.A=JA,r}function rg(){Wt=4,Br||(gt&4194048)!==gt&&ks.current!==null||(cl=!0),(Fr&134217727)===0&&(no&134217727)===0||Mt===null||Gr(Mt,gt,Rs,!1)}function ag(r,o,c){var h=Tt;Tt|=2;var y=Fv(),v=$v();(Mt!==r||gt!==o)&&(xh=null,fl(r,o)),o=!1;var C=Wt;e:do try{if(St!==0&&it!==null){var D=it,H=ms;switch(St){case 8:ig(),C=6;break e;case 3:case 2:case 9:case 6:ks.current===null&&(o=!0);var Z=St;if(St=0,ms=null,ml(r,D,H,Z),c&&cl){C=0;break e}break;default:Z=St,St=0,ms=null,ml(r,D,H,Z)}}tC(),C=Wt;break}catch(oe){Bv(r,oe)}while(!0);return o&&r.shellSuspendCounter++,Ki=Xa=null,Tt=h,W.H=y,W.A=v,it===null&&(Mt=null,gt=0,Bd()),C}function tC(){for(;it!==null;)Hv(it)}function nC(r,o){var c=Tt;Tt|=2;var h=Fv(),y=$v();Mt!==r||gt!==o?(xh=null,yh=Ne()+500,fl(r,o)):cl=Fe(r,o);e:do try{if(St!==0&&it!==null){o=it;var v=ms;t:switch(St){case 1:St=0,ms=null,ml(r,o,v,1);break;case 2:case 9:if(nb(v)){St=0,ms=null,Gv(o);break}o=function(){St!==2&&St!==9||Mt!==r||(St=7),xi(r)},v.then(o,o);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:nb(v)?(St=0,ms=null,Gv(o)):(St=0,ms=null,ml(r,o,v,7));break;case 5:var C=null;switch(it.tag){case 26:C=it.memoizedState;case 5:case 27:var D=it;if(!C||N_(C)){St=0,ms=null;var H=D.sibling;if(H!==null)it=H;else{var Z=D.return;Z!==null?(it=Z,vh(Z)):it=null}break t}}St=0,ms=null,ml(r,o,v,5);break;case 6:St=0,ms=null,ml(r,o,v,6);break;case 8:ig(),Wt=6;break e;default:throw Error(s(462))}}sC();break}catch(oe){Bv(r,oe)}while(!0);return Ki=Xa=null,W.H=h,W.A=y,Tt=c,it!==null?0:(Mt=null,gt=0,Bd(),Wt)}function sC(){for(;it!==null&&!X();)Hv(it)}function Hv(r){var o=yv(r.alternate,r,sr);r.memoizedProps=r.pendingProps,o===null?vh(r):it=o}function Gv(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=dv(c,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=dv(c,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:_p(o);default:bv(c,o),o=it=qx(o,sr),o=yv(c,o,sr)}r.memoizedProps=r.pendingProps,o===null?vh(r):it=o}function ml(r,o,c,h){Ki=Xa=null,_p(o),rl=null,Fc=0;var y=o.return;try{if(qA(r,y,o,c,gt)){Wt=1,dh(r,Ss(c,r.current)),it=null;return}}catch(v){if(y!==null)throw it=y,v;Wt=1,dh(r,Ss(c,r.current)),it=null;return}o.flags&32768?(vt||h===1?r=!0:cl||(gt&536870912)!==0?r=!1:(Br=r=!0,(h===2||h===9||h===3||h===6)&&(h=ks.current,h!==null&&h.tag===13&&(h.flags|=16384))),qv(o,r)):vh(o)}function vh(r){var o=r;do{if((o.flags&32768)!==0){qv(o,Br);return}r=o.return;var c=YA(o.alternate,o,sr);if(c!==null){it=c;return}if(o=o.sibling,o!==null){it=o;return}it=o=r}while(o!==null);Wt===0&&(Wt=5)}function qv(r,o){do{var c=KA(r.alternate,r);if(c!==null){c.flags&=32767,it=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){it=r;return}it=r=c}while(r!==null);Wt=6,it=null}function Wv(r,o,c,h,y,v,C,D,H){r.cancelPendingCommit=null;do _h();while(kn!==0);if((Tt&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=Xm,Sr(r,c,v,C,D,H),r===Mt&&(it=Mt=null,gt=0),dl=o,Hr=r,hl=c,tg=v,ng=y,Lv=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,oC(_e,function(){return Jv(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=W.T,W.T=null,y=ae.p,ae.p=2,C=Tt,Tt|=4;try{XA(r,o,c)}finally{Tt=C,ae.p=y,W.T=h}}kn=1,Yv(),Kv(),Xv()}}function Yv(){if(kn===1){kn=0;var r=Hr,o=dl,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var h=ae.p;ae.p=2;var y=Tt;Tt|=4;try{Rv(o,r);var v=xg,C=Px(r.containerInfo),D=v.focusedElem,H=v.selectionRange;if(C!==D&&D&&D.ownerDocument&&Ox(D.ownerDocument.documentElement,D)){if(H!==null&&Gm(D)){var Z=H.start,oe=H.end;if(oe===void 0&&(oe=Z),"selectionStart"in D)D.selectionStart=Z,D.selectionEnd=Math.min(oe,D.value.length);else{var de=D.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var se=te.getSelection(),$e=D.textContent.length,Le=Math.min(H.start,$e),Rt=H.end===void 0?Le:Math.min(H.end,$e);!se.extend&&Le>Rt&&(C=Rt,Rt=Le,Le=C);var K=Mx(D,Le),Y=Mx(D,Rt);if(K&&Y&&(se.rangeCount!==1||se.anchorNode!==K.node||se.anchorOffset!==K.offset||se.focusNode!==Y.node||se.focusOffset!==Y.offset)){var J=de.createRange();J.setStart(K.node,K.offset),se.removeAllRanges(),Le>Rt?(se.addRange(J),se.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),se.addRange(J))}}}}for(de=[],se=D;se=se.parentNode;)se.nodeType===1&&de.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<de.length;D++){var le=de[D];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Dh=!!yg,xg=yg=null}finally{Tt=y,ae.p=h,W.T=c}}r.current=o,kn=2}}function Kv(){if(kn===2){kn=0;var r=Hr,o=dl,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var h=ae.p;ae.p=2;var y=Tt;Tt|=4;try{Nv(r,o.alternate,o)}finally{Tt=y,ae.p=h,W.T=c}}kn=3}}function Xv(){if(kn===4||kn===3){kn=0,ne();var r=Hr,o=dl,c=hl,h=Lv;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?kn=5:(kn=0,dl=Hr=null,Qv(r,r.pendingLanes));var y=r.pendingLanes;if(y===0&&($r=null),Mi(c),o=o.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Xe,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=W.T,y=ae.p,ae.p=2,W.T=null;try{for(var v=r.onRecoverableError,C=0;C<h.length;C++){var D=h[C];v(D.value,{componentStack:D.stack})}}finally{W.T=o,ae.p=y}}(hl&3)!==0&&_h(),xi(r),y=r.pendingLanes,(c&4194090)!==0&&(y&42)!==0?r===sg?Qc++:(Qc=0,sg=r):Qc=0,Jc(0)}}function Qv(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,jc(o)))}function _h(r){return Yv(),Kv(),Xv(),Jv()}function Jv(){if(kn!==5)return!1;var r=Hr,o=tg;tg=0;var c=Mi(hl),h=W.T,y=ae.p;try{ae.p=32>c?32:c,W.T=null,c=ng,ng=null;var v=Hr,C=hl;if(kn=0,dl=Hr=null,hl=0,(Tt&6)!==0)throw Error(s(331));var D=Tt;if(Tt|=4,Ov(v.current),Iv(v,v.current,C,c),Tt=D,Jc(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Xe,v)}catch{}return!0}finally{ae.p=y,W.T=h,Qv(r,o)}}function Zv(r,o,c){o=Ss(c,o),o=Op(r.stateNode,o,2),r=Mr(r,o,2),r!==null&&(as(r,2),xi(r))}function jt(r,o,c){if(r.tag===3)Zv(r,r,c);else for(;o!==null;){if(o.tag===3){Zv(o,r,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($r===null||!$r.has(h))){r=Ss(c,r),c=sv(2),h=Mr(o,c,2),h!==null&&(iv(c,h,o,r),as(h,2),xi(h));break}}o=o.return}}function og(r,o,c){var h=r.pingCache;if(h===null){h=r.pingCache=new ZA;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(c)||(Qp=!0,y.add(c),r=iC.bind(null,r,o,c),o.then(r,r))}function iC(r,o,c){var h=r.pingCache;h!==null&&h.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,Mt===r&&(gt&c)===c&&(Wt===4||Wt===3&&(gt&62914560)===gt&&300>Ne()-eg?(Tt&2)===0&&fl(r,0):Jp|=c,ul===gt&&(ul=0)),xi(r)}function e_(r,o){o===0&&(o=Tr()),r=Ko(r,o),r!==null&&(as(r,o),xi(r))}function rC(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),e_(r,c)}function aC(r,o){var c=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(o),e_(r,c)}function oC(r,o){return ut(r,o)}var wh=null,pl=null,lg=!1,Eh=!1,cg=!1,so=0;function xi(r){r!==pl&&r.next===null&&(pl===null?wh=pl=r:pl=pl.next=r),Eh=!0,lg||(lg=!0,cC())}function Jc(r,o){if(!cg&&Eh){cg=!0;do for(var c=!1,h=wh;h!==null;){if(r!==0){var y=h.pendingLanes;if(y===0)var v=0;else{var C=h.suspendedLanes,D=h.pingedLanes;v=(1<<31-nt(42|r)+1)-1,v&=y&~(C&~D),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,i_(h,v))}else v=gt,v=qn(h,h===Mt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Fe(h,v)||(c=!0,i_(h,v));h=h.next}while(c);cg=!1}}function lC(){t_()}function t_(){Eh=lg=!1;var r=0;so!==0&&(yC()&&(r=so),so=0);for(var o=Ne(),c=null,h=wh;h!==null;){var y=h.next,v=n_(h,o);v===0?(h.next=null,c===null?wh=y:c.next=y,y===null&&(pl=c)):(c=h,(r!==0||(v&3)!==0)&&(Eh=!0)),h=y}Jc(r)}function n_(r,o){for(var c=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var C=31-nt(v),D=1<<C,H=y[C];H===-1?((D&c)===0||(D&h)!==0)&&(y[C]=vs(D,o)):H<=o&&(r.expiredLanes|=D),v&=~D}if(o=Mt,c=gt,c=qn(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,c===0||r===o&&(St===2||St===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&q(h),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Fe(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(h!==null&&q(h),Mi(c)){case 2:case 8:c=ze;break;case 32:c=_e;break;case 268435456:c=Re;break;default:c=_e}return h=s_.bind(null,r),c=ut(c,h),r.callbackPriority=o,r.callbackNode=c,o}return h!==null&&h!==null&&q(h),r.callbackPriority=2,r.callbackNode=null,2}function s_(r,o){if(kn!==0&&kn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(_h()&&r.callbackNode!==c)return null;var h=gt;return h=qn(r,r===Mt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(zv(r,h,o),n_(r,Ne()),r.callbackNode!=null&&r.callbackNode===c?s_.bind(null,r):null)}function i_(r,o){if(_h())return null;zv(r,o,!0)}function cC(){bC(function(){(Tt&6)!==0?ut(We,lC):t_()})}function ug(){return so===0&&(so=Us()),so}function r_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Lo(""+r)}function a_(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function uC(r,o,c,h,y){if(o==="submit"&&c&&c.stateNode===y){var v=r_((y[Gt]||null).action),C=h.submitter;C&&(o=(o=C[Gt]||null)?r_(o.formAction):C.getAttribute("formAction"),o!==null&&(v=o,C=null));var D=new Vo("action","action",null,h,y);r.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(so!==0){var H=C?a_(y,C):new FormData(y);Rp(c,{pending:!0,data:H,method:y.method,action:v},null,H)}}else typeof v=="function"&&(D.preventDefault(),H=C?a_(y,C):new FormData(y),Rp(c,{pending:!0,data:H,method:y.method,action:v},v,H))},currentTarget:y}]})}}for(var dg=0;dg<Km.length;dg++){var hg=Km[dg],dC=hg.toLowerCase(),hC=hg[0].toUpperCase()+hg.slice(1);Hs(dC,"on"+hC)}Hs(zx,"onAnimationEnd"),Hs(Ux,"onAnimationIteration"),Hs(Bx,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(kA,"onTransitionRun"),Hs(RA,"onTransitionStart"),Hs(jA,"onTransitionCancel"),Hs(Fx,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zc));function o_(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],y=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var C=h.length-1;0<=C;C--){var D=h[C],H=D.instance,Z=D.currentTarget;if(D=D.listener,H!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=Z;try{v(y)}catch(oe){uh(oe)}y.currentTarget=null,v=H}else for(C=0;C<h.length;C++){if(D=h[C],H=D.instance,Z=D.currentTarget,D=D.listener,H!==v&&y.isPropagationStopped())break e;v=D,y.currentTarget=Z;try{v(y)}catch(oe){uh(oe)}y.currentTarget=null,v=H}}}}function rt(r,o){var c=o[yn];c===void 0&&(c=o[yn]=new Set);var h=r+"__bubble";c.has(h)||(l_(o,r,2,!1),c.add(h))}function fg(r,o,c){var h=0;o&&(h|=4),l_(c,r,h,o)}var Th="_reactListening"+Math.random().toString(36).slice(2);function mg(r){if(!r[Th]){r[Th]=!0,dc.forEach(function(c){c!=="selectionchange"&&(fC.has(c)||fg(c,!1,r),fg(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Th]||(o[Th]=!0,fg("selectionchange",!1,o))}}function l_(r,o,c,h){switch(I_(o)){case 2:var y=UC;break;case 8:y=BC;break;default:y=Cg}c=y.bind(null,o,c,r),y=void 0,!Es||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function pg(r,o,c,h,y){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var D=h.stateNode.containerInfo;if(D===y)break;if(C===4)for(C=h.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;D!==null;){if(C=Pi(D),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){h=v=C;continue e}D=D.parentNode}}h=h.return}Nd(function(){var Z=v,oe=ws(c),de=[];e:{var te=$x.get(r);if(te!==void 0){var se=Vo,$e=r;switch(r){case"keypress":if(ci(c)===0)break e;case"keydown":case"keyup":se=Ho;break;case"focusin":$e="focus",se=Bo;break;case"focusout":$e="blur",se=Bo;break;case"beforeblur":case"afterblur":se=Bo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Md;break;case zx:case Ux:case Bx:se=Fo;break;case Fx:se=Pd;break;case"scroll":case"scrollend":se=Ad;break;case"wheel":se=Go;break;case"copy":case"cut":case"paste":se=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Ec;break;case"toggle":case"beforetoggle":se=Vd}var Le=(o&4)!==0,Rt=!Le&&(r==="scroll"||r==="scrollend"),K=Le?te!==null?te+"Capture":null:te;Le=[];for(var Y=Z,J;Y!==null;){var le=Y;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||K===null||(le=Pa(Y,K),le!=null&&Le.push(eu(Y,le,J))),Rt)break;Y=Y.return}0<Le.length&&(te=new se(te,$e,null,c,oe),de.push({event:te,listeners:Le}))}}if((o&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",te&&c!==Ui&&($e=c.relatedTarget||c.fromElement)&&(Pi($e)||$e[Et]))break e;if((se||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,se?($e=c.relatedTarget||c.toElement,se=Z,$e=$e?Pi($e):null,$e!==null&&(Rt=a($e),Le=$e.tag,$e!==Rt||Le!==5&&Le!==27&&Le!==6)&&($e=null)):(se=null,$e=Z),se!==$e)){if(Le=Ts,le="onMouseLeave",K="onMouseEnter",Y="mouse",(r==="pointerout"||r==="pointerover")&&(Le=Ec,le="onPointerLeave",K="onPointerEnter",Y="pointer"),Rt=se==null?te:ri(se),J=$e==null?te:ri($e),te=new Le(le,Y+"leave",se,c,oe),te.target=Rt,te.relatedTarget=J,le=null,Pi(oe)===Z&&(Le=new Le(K,Y+"enter",$e,c,oe),Le.target=J,Le.relatedTarget=Rt,le=Le),Rt=le,se&&$e)t:{for(Le=se,K=$e,Y=0,J=Le;J;J=gl(J))Y++;for(J=0,le=K;le;le=gl(le))J++;for(;0<Y-J;)Le=gl(Le),Y--;for(;0<J-Y;)K=gl(K),J--;for(;Y--;){if(Le===K||K!==null&&Le===K.alternate)break t;Le=gl(Le),K=gl(K)}Le=null}else Le=null;se!==null&&c_(de,te,se,Le,!1),$e!==null&&Rt!==null&&c_(de,Rt,$e,Le,!0)}}e:{if(te=Z?ri(Z):window,se=te.nodeName&&te.nodeName.toLowerCase(),se==="select"||se==="input"&&te.type==="file")var Ce=Cx;else if(hn(te))if(kx)Ce=NA;else{Ce=TA;var et=EA}else se=te.nodeName,!se||se.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&gc(Z.elementType)&&(Ce=Cx):Ce=SA;if(Ce&&(Ce=Ce(r,Z))){Gi(de,Ce,c,oe);break e}et&&et(r,te,Z),r==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&kr(te,"number",te.value)}switch(et=Z?ri(Z):window,r){case"focusin":(hn(et)||et.contentEditable==="true")&&(qo=et,qm=Z,Nc=null);break;case"focusout":Nc=qm=qo=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,Lx(de,c,oe);break;case"selectionchange":if(CA)break;case"keydown":case"keyup":Lx(de,c,oe)}var je;if(hi)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else mt?ie(r,c)&&(Ve="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(N&&c.locale!=="ko"&&(mt||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&mt&&(je=xc()):(li=oe,Rr="value"in li?li.value:li.textContent,mt=!0)),et=Sh(Z,Ve),0<et.length&&(Ve=new _c(Ve,r,null,c,oe),de.push({event:Ve,listeners:et}),je?Ve.data=je:(je=ve(c),je!==null&&(Ve.data=je)))),(je=_?dn(r,c):pt(r,c))&&(Ve=Sh(Z,"onBeforeInput"),0<Ve.length&&(et=new _c("onBeforeInput","beforeinput",null,c,oe),de.push({event:et,listeners:Ve}),et.data=je)),uC(de,r,Z,c,oe)}o_(de,o)})}function eu(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Sh(r,o){for(var c=o+"Capture",h=[];r!==null;){var y=r,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Pa(r,c),y!=null&&h.unshift(eu(r,y,v)),y=Pa(r,o),y!=null&&h.push(eu(r,y,v))),r.tag===3)return h;r=r.return}return[]}function gl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function c_(r,o,c,h,y){for(var v=o._reactName,C=[];c!==null&&c!==h;){var D=c,H=D.alternate,Z=D.stateNode;if(D=D.tag,H!==null&&H===h)break;D!==5&&D!==26&&D!==27||Z===null||(H=Z,y?(Z=Pa(c,v),Z!=null&&C.unshift(eu(c,Z,H))):y||(Z=Pa(c,v),Z!=null&&C.push(eu(c,Z,H)))),c=c.return}C.length!==0&&r.push({event:o,listeners:C})}var mC=/\r\n?/g,pC=/\u0000|\uFFFD/g;function u_(r){return(typeof r=="string"?r:""+r).replace(mC,`
`).replace(pC,"")}function d_(r,o){return o=u_(o),u_(r)===o}function Nh(){}function kt(r,o,c,h,y,v){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||_s(r,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&_s(r,""+h);break;case"className":ai(r,"class",h);break;case"tabIndex":ai(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(r,c,h);break;case"style":pc(r,h,v);break;case"data":if(o!=="object"){ai(r,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=Lo(""+h),r.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(o!=="input"&&kt(r,o,"name",y.name,y,null),kt(r,o,"formEncType",y.formEncType,y,null),kt(r,o,"formMethod",y.formMethod,y,null),kt(r,o,"formTarget",y.formTarget,y,null)):(kt(r,o,"encType",y.encType,y,null),kt(r,o,"method",y.method,y,null),kt(r,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=Lo(""+h),r.setAttribute(c,h);break;case"onClick":h!=null&&(r.onclick=Nh);break;case"onScroll":h!=null&&rt("scroll",r);break;case"onScrollEnd":h!=null&&rt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}c=Lo(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""+h):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":h===!0?r.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,h):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(c,h):r.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(c):r.setAttribute(c,h);break;case"popover":rt("beforetoggle",r),rt("toggle",r),Cr(r,"popover",h);break;case"xlinkActuate":Nn(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Nn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Nn(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Nn(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Nn(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Nn(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Nn(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Nn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Nn(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Cr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=zm.get(c)||c,Cr(r,c,h))}}function gg(r,o,c,h,y,v){switch(c){case"style":pc(r,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof h=="string"?_s(r,h):(typeof h=="number"||typeof h=="bigint")&&_s(r,""+h);break;case"onScroll":h!=null&&rt("scroll",r);break;case"onScrollEnd":h!=null&&rt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),v=r[Gt]||null,v=v!=null?v[c]:null,typeof v=="function"&&r.removeEventListener(o,v,y),typeof h=="function")){typeof v!="function"&&v!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,h,y);break e}c in r?r[c]=h:h===!0?r.setAttribute(c,""):Cr(r,c,h)}}}function Rn(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",r),rt("load",r);var h=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var C=c[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:kt(r,o,v,C,c,null)}}y&&kt(r,o,"srcSet",c.srcSet,c,null),h&&kt(r,o,"src",c.src,c,null);return;case"input":rt("invalid",r);var D=v=C=y=null,H=null,Z=null;for(h in c)if(c.hasOwnProperty(h)){var oe=c[h];if(oe!=null)switch(h){case"name":y=oe;break;case"type":C=oe;break;case"checked":H=oe;break;case"defaultChecked":Z=oe;break;case"value":v=oe;break;case"defaultValue":D=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,o));break;default:kt(r,o,h,oe,c,null)}}Da(r,v,D,H,Z,C,y,!1),Po(r);return;case"select":rt("invalid",r),h=C=v=null;for(y in c)if(c.hasOwnProperty(y)&&(D=c[y],D!=null))switch(y){case"value":v=D;break;case"defaultValue":C=D;break;case"multiple":h=D;default:kt(r,o,y,D,c,null)}o=v,c=C,r.multiple=!!h,o!=null?zi(r,!!h,o,!1):c!=null&&zi(r,!!h,c,!0);return;case"textarea":rt("invalid",r),v=y=h=null;for(C in c)if(c.hasOwnProperty(C)&&(D=c[C],D!=null))switch(C){case"value":h=D;break;case"defaultValue":y=D;break;case"children":v=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:kt(r,o,C,D,c,null)}Ma(r,h,y,v),Po(r);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(h=c[H],h!=null))switch(H){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:kt(r,o,H,h,c,null)}return;case"dialog":rt("beforetoggle",r),rt("toggle",r),rt("cancel",r),rt("close",r);break;case"iframe":case"object":rt("load",r);break;case"video":case"audio":for(h=0;h<Zc.length;h++)rt(Zc[h],r);break;case"image":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"embed":case"source":case"link":rt("error",r),rt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(h=c[Z],h!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:kt(r,o,Z,h,c,null)}return;default:if(gc(o)){for(oe in c)c.hasOwnProperty(oe)&&(h=c[oe],h!==void 0&&gg(r,o,oe,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&kt(r,o,D,h,c,null))}function gC(r,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,C=null,D=null,H=null,Z=null,oe=null;for(se in c){var de=c[se];if(c.hasOwnProperty(se)&&de!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":H=de;default:h.hasOwnProperty(se)||kt(r,o,se,null,h,de)}}for(var te in h){var se=h[te];if(de=c[te],h.hasOwnProperty(te)&&(se!=null||de!=null))switch(te){case"type":v=se;break;case"name":y=se;break;case"checked":Z=se;break;case"defaultChecked":oe=se;break;case"value":C=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,o));break;default:se!==de&&kt(r,o,te,se,h,de)}}cs(r,C,D,H,Z,oe,v,y);return;case"select":se=C=D=te=null;for(v in c)if(H=c[v],c.hasOwnProperty(v)&&H!=null)switch(v){case"value":break;case"multiple":se=H;default:h.hasOwnProperty(v)||kt(r,o,v,null,h,H)}for(y in h)if(v=h[y],H=c[y],h.hasOwnProperty(y)&&(v!=null||H!=null))switch(y){case"value":te=v;break;case"defaultValue":D=v;break;case"multiple":C=v;default:v!==H&&kt(r,o,y,v,h,H)}o=D,c=C,h=se,te!=null?zi(r,!!c,te,!1):!!h!=!!c&&(o!=null?zi(r,!!c,o,!0):zi(r,!!c,c?[]:"",!1));return;case"textarea":se=te=null;for(D in c)if(y=c[D],c.hasOwnProperty(D)&&y!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:kt(r,o,D,null,h,y)}for(C in h)if(y=h[C],v=c[C],h.hasOwnProperty(C)&&(y!=null||v!=null))switch(C){case"value":te=y;break;case"defaultValue":se=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==v&&kt(r,o,C,y,h,v)}At(r,te,se);return;case"option":for(var $e in c)if(te=c[$e],c.hasOwnProperty($e)&&te!=null&&!h.hasOwnProperty($e))switch($e){case"selected":r.selected=!1;break;default:kt(r,o,$e,null,h,te)}for(H in h)if(te=h[H],se=c[H],h.hasOwnProperty(H)&&te!==se&&(te!=null||se!=null))switch(H){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:kt(r,o,H,te,h,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in c)te=c[Le],c.hasOwnProperty(Le)&&te!=null&&!h.hasOwnProperty(Le)&&kt(r,o,Le,null,h,te);for(Z in h)if(te=h[Z],se=c[Z],h.hasOwnProperty(Z)&&te!==se&&(te!=null||se!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,o));break;default:kt(r,o,Z,te,h,se)}return;default:if(gc(o)){for(var Rt in c)te=c[Rt],c.hasOwnProperty(Rt)&&te!==void 0&&!h.hasOwnProperty(Rt)&&gg(r,o,Rt,void 0,h,te);for(oe in h)te=h[oe],se=c[oe],!h.hasOwnProperty(oe)||te===se||te===void 0&&se===void 0||gg(r,o,oe,te,h,se);return}}for(var K in c)te=c[K],c.hasOwnProperty(K)&&te!=null&&!h.hasOwnProperty(K)&&kt(r,o,K,null,h,te);for(de in h)te=h[de],se=c[de],!h.hasOwnProperty(de)||te===se||te==null&&se==null||kt(r,o,de,te,h,se)}var yg=null,xg=null;function Ah(r){return r.nodeType===9?r:r.ownerDocument}function h_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function bg(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var vg=null;function yC(){var r=window.event;return r&&r.type==="popstate"?r===vg?!1:(vg=r,!0):(vg=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,bC=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(r){return p_.resolve(null).then(r).catch(vC)}:m_;function vC(r){setTimeout(function(){throw r})}function qr(r){return r==="head"}function g_(r,o){var c=o,h=0,y=0;do{var v=c.nextSibling;if(r.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<h&&8>h){c=h;var C=r.ownerDocument;if(c&1&&tu(C.documentElement),c&2&&tu(C.body),c&4)for(c=C.head,tu(c),C=c.firstChild;C;){var D=C.nextSibling,H=C.nodeName;C[ka]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=D}}if(y===0){r.removeChild(v),cu(o);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:h=c.charCodeAt(0)-48;else h=0;c=v}while(c);cu(o)}function _g(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":_g(c),Ar(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function _C(r,o,c,h){for(;r.nodeType===1;){var y=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[ka])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==y.rel||r.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||r.getAttribute("title")!==(y.title==null?null:y.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(y.src==null?null:y.src)||r.getAttribute("type")!==(y.type==null?null:y.type)||r.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=qs(r.nextSibling),r===null)break}return null}function wC(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=qs(r.nextSibling),r===null))return null;return r}function wg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function EC(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function qs(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Eg=null;function y_(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function x_(r,o,c){switch(o=Ah(c),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function tu(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Ar(r)}var js=new Map,b_=new Set;function Ch(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ir=ae.d;ae.d={f:TC,r:SC,D:NC,C:AC,L:CC,m:kC,X:jC,S:RC,M:IC};function TC(){var r=ir.f(),o=bh();return r||o}function SC(r){var o=ii(r);o!==null&&o.tag===5&&o.type==="form"?zb(o):ir.r(r)}var yl=typeof document>"u"?null:document;function v_(r,o,c){var h=yl;if(h&&typeof o=="string"&&o){var y=tn(o);y='link[rel="'+r+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),b_.has(y)||(b_.add(y),r={rel:r,crossOrigin:c,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),Rn(o,"link",r),Kt(o),h.head.appendChild(o)))}}function NC(r){ir.D(r),v_("dns-prefetch",r,null)}function AC(r,o){ir.C(r,o),v_("preconnect",r,o)}function CC(r,o,c){ir.L(r,o,c);var h=yl;if(h&&r&&o){var y='link[rel="preload"][as="'+tn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+tn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+tn(c.imageSizes)+'"]')):y+='[href="'+tn(r)+'"]';var v=y;switch(o){case"style":v=xl(r);break;case"script":v=bl(r)}js.has(v)||(r=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),js.set(v,r),h.querySelector(y)!==null||o==="style"&&h.querySelector(nu(v))||o==="script"&&h.querySelector(su(v))||(o=h.createElement("link"),Rn(o,"link",r),Kt(o),h.head.appendChild(o)))}}function kC(r,o){ir.m(r,o);var c=yl;if(c&&r){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+tn(h)+'"][href="'+tn(r)+'"]',v=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=bl(r)}if(!js.has(v)&&(r=g({rel:"modulepreload",href:r},o),js.set(v,r),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(su(v)))return}h=c.createElement("link"),Rn(h,"link",r),Kt(h),c.head.appendChild(h)}}}function RC(r,o,c){ir.S(r,o,c);var h=yl;if(h&&r){var y=Wn(h).hoistableStyles,v=xl(r);o=o||"default";var C=y.get(v);if(!C){var D={loading:0,preload:null};if(C=h.querySelector(nu(v)))D.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},c),(c=js.get(v))&&Tg(r,c);var H=C=h.createElement("link");Kt(H),Rn(H,"link",r),H._p=new Promise(function(Z,oe){H.onload=Z,H.onerror=oe}),H.addEventListener("load",function(){D.loading|=1}),H.addEventListener("error",function(){D.loading|=2}),D.loading|=4,kh(C,o,h)}C={type:"stylesheet",instance:C,count:1,state:D},y.set(v,C)}}}function jC(r,o){ir.X(r,o);var c=yl;if(c&&r){var h=Wn(c).hoistableScripts,y=bl(r),v=h.get(y);v||(v=c.querySelector(su(y)),v||(r=g({src:r,async:!0},o),(o=js.get(y))&&Sg(r,o),v=c.createElement("script"),Kt(v),Rn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function IC(r,o){ir.M(r,o);var c=yl;if(c&&r){var h=Wn(c).hoistableScripts,y=bl(r),v=h.get(y);v||(v=c.querySelector(su(y)),v||(r=g({src:r,async:!0,type:"module"},o),(o=js.get(y))&&Sg(r,o),v=c.createElement("script"),Kt(v),Rn(v,"link",r),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(y,v))}}function __(r,o,c,h){var y=(y=ye.current)?Ch(y):null;if(!y)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=xl(c.href),c=Wn(y).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=xl(c.href);var v=Wn(y).hoistableStyles,C=v.get(r);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,C),(v=y.querySelector(nu(r)))&&!v._p&&(C.instance=v,C.state.loading=5),js.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},js.set(r,c),v||DC(y,r,c,C.state))),o&&h===null)throw Error(s(528,""));return C}if(o&&h!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=bl(c),c=Wn(y).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function xl(r){return'href="'+tn(r)+'"'}function nu(r){return'link[rel="stylesheet"]['+r+"]"}function w_(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function DC(r,o,c,h){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=r.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),Rn(o,"link",c),Kt(o),r.head.appendChild(o))}function bl(r){return'[src="'+tn(r)+'"]'}function su(r){return"script[async]"+r}function E_(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=r.querySelector('style[data-href~="'+tn(c.href)+'"]');if(h)return o.instance=h,Kt(h),h;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Kt(h),Rn(h,"style",y),kh(h,c.precedence,r),o.instance=h;case"stylesheet":y=xl(c.href);var v=r.querySelector(nu(y));if(v)return o.state.loading|=4,o.instance=v,Kt(v),v;h=w_(c),(y=js.get(y))&&Tg(h,y),v=(r.ownerDocument||r).createElement("link"),Kt(v);var C=v;return C._p=new Promise(function(D,H){C.onload=D,C.onerror=H}),Rn(v,"link",h),o.state.loading|=4,kh(v,c.precedence,r),o.instance=v;case"script":return v=bl(c.src),(y=r.querySelector(su(v)))?(o.instance=y,Kt(y),y):(h=c,(y=js.get(v))&&(h=g({},c),Sg(h,y)),r=r.ownerDocument||r,y=r.createElement("script"),Kt(y),Rn(y,"link",h),r.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,kh(h,c.precedence,r));return o.instance}function kh(r,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,v=y,C=0;C<h.length;C++){var D=h[C];if(D.dataset.precedence===o)v=D;else if(v!==y)break}v?v.parentNode.insertBefore(r,v.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Tg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Sg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Rh=null;function T_(r,o,c){if(Rh===null){var h=new Map,y=Rh=new Map;y.set(c,h)}else y=Rh,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(r))return h;for(h.set(r,null),c=c.getElementsByTagName(r),y=0;y<c.length;y++){var v=c[y];if(!(v[ka]||v[Yt]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(o)||"";C=r+C;var D=h.get(C);D?D.push(v):h.set(C,[v])}}return h}function S_(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function MC(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function N_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var iu=null;function OC(){}function PC(r,o,c){if(iu===null)throw Error(s(475));var h=iu;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=xl(c.href),v=r.querySelector(nu(y));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=jh.bind(h),r.then(h,h)),o.state.loading|=4,o.instance=v,Kt(v);return}v=r.ownerDocument||r,c=w_(c),(y=js.get(y))&&Tg(c,y),v=v.createElement("link"),Kt(v);var C=v;C._p=new Promise(function(D,H){C.onload=D,C.onerror=H}),Rn(v,"link",c),o.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=jh.bind(h),r.addEventListener("load",o),r.addEventListener("error",o))}}function LC(){if(iu===null)throw Error(s(475));var r=iu;return r.stylesheets&&r.count===0&&Ng(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&Ng(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function jh(){if(this.count--,this.count===0){if(this.stylesheets)Ng(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ih=null;function Ng(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ih=new Map,o.forEach(VC,r),Ih=null,jh.call(r))}function VC(r,o){if(!(o.state.loading&4)){var c=Ih.get(r);if(c)var h=c.get(null);else{c=new Map,Ih.set(r,c);for(var y=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var C=y[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),h=C)}h&&c.set(null,h)}y=o.instance,C=y.getAttribute("data-precedence"),v=c.get(C)||h,v===h&&c.set(null,y),c.set(C,y),this.count++,h=jh.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),v?v.parentNode.insertBefore(y,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(y,r.firstChild)),o.state.loading|=4}}var ru={$$typeof:M,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function zC(r,o,c,h,y,v,C,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.hiddenUpdates=Bs(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function A_(r,o,c,h,y,v,C,D,H,Z,oe,de){return r=new zC(r,o,c,C,D,H,Z,de),o=1,v===!0&&(o|=24),v=ds(3,null,null,o),r.current=v,v.stateNode=r,o=op(),o.refCount++,r.pooledCache=o,o.refCount++,v.memoizedState={element:h,isDehydrated:c,cache:o},dp(v),r}function C_(r){return r?(r=Xo,r):Xo}function k_(r,o,c,h,y,v){y=C_(y),h.context===null?h.context=y:h.pendingContext=y,h=Dr(o),h.payload={element:c},v=v===void 0?null:v,v!==null&&(h.callback=v),c=Mr(r,h,o),c!==null&&(gs(c,r,o),Oc(c,r,o))}function R_(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Ag(r,o){R_(r,o),(r=r.alternate)&&R_(r,o)}function j_(r){if(r.tag===13){var o=Ko(r,67108864);o!==null&&gs(o,r,67108864),Ag(r,67108864)}}var Dh=!0;function UC(r,o,c,h){var y=W.T;W.T=null;var v=ae.p;try{ae.p=2,Cg(r,o,c,h)}finally{ae.p=v,W.T=y}}function BC(r,o,c,h){var y=W.T;W.T=null;var v=ae.p;try{ae.p=8,Cg(r,o,c,h)}finally{ae.p=v,W.T=y}}function Cg(r,o,c,h){if(Dh){var y=kg(h);if(y===null)pg(r,o,h,Mh,c),D_(r,h);else if($C(y,r,o,c,h))h.stopPropagation();else if(D_(r,h),o&4&&-1<FC.indexOf(r)){for(;y!==null;){var v=ii(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=dt(v.pendingLanes);if(C!==0){var D=v;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var H=1<<31-nt(C);D.entanglements[1]|=H,C&=~H}xi(v),(Tt&6)===0&&(yh=Ne()+500,Jc(0))}}break;case 13:D=Ko(v,2),D!==null&&gs(D,v,2),bh(),Ag(v,2)}if(v=kg(h),v===null&&pg(r,o,h,Mh,c),v===y)break;y=v}y!==null&&h.stopPropagation()}else pg(r,o,h,null,c)}}function kg(r){return r=ws(r),Rg(r)}var Mh=null;function Rg(r){if(Mh=null,r=Pi(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Mh=r,null}function I_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case We:return 2;case ze:return 8;case _e:case tt:return 32;case Re:return 268435456;default:return 32}default:return 32}}var jg=!1,Wr=null,Yr=null,Kr=null,au=new Map,ou=new Map,Xr=[],FC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(r,o){switch(r){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":au.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(o.pointerId)}}function lu(r,o,c,h,y,v){return r===null||r.nativeEvent!==v?(r={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[y]},o!==null&&(o=ii(o),o!==null&&j_(o)),r):(r.eventSystemFlags|=h,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function $C(r,o,c,h,y){switch(o){case"focusin":return Wr=lu(Wr,r,o,c,h,y),!0;case"dragenter":return Yr=lu(Yr,r,o,c,h,y),!0;case"mouseover":return Kr=lu(Kr,r,o,c,h,y),!0;case"pointerover":var v=y.pointerId;return au.set(v,lu(au.get(v)||null,r,o,c,h,y)),!0;case"gotpointercapture":return v=y.pointerId,ou.set(v,lu(ou.get(v)||null,r,o,c,h,y)),!0}return!1}function M_(r){var o=Pi(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,jo(r.priority,function(){if(c.tag===13){var h=ps();h=ni(h);var y=Ko(c,h);y!==null&&gs(y,c,h),Ag(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Oh(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=kg(r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);Ui=h,c.target.dispatchEvent(h),Ui=null}else return o=ii(c),o!==null&&j_(o),r.blockedOn=c,!1;o.shift()}return!0}function O_(r,o,c){Oh(r)&&c.delete(o)}function HC(){jg=!1,Wr!==null&&Oh(Wr)&&(Wr=null),Yr!==null&&Oh(Yr)&&(Yr=null),Kr!==null&&Oh(Kr)&&(Kr=null),au.forEach(O_),ou.forEach(O_)}function Ph(r,o){r.blockedOn===o&&(r.blockedOn=null,jg||(jg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,HC)))}var Lh=null;function P_(r){Lh!==r&&(Lh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lh===r&&(Lh=null);for(var o=0;o<r.length;o+=3){var c=r[o],h=r[o+1],y=r[o+2];if(typeof h!="function"){if(Rg(h||c)===null)continue;break}var v=ii(c);v!==null&&(r.splice(o,3),o-=3,Rp(v,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function cu(r){function o(H){return Ph(H,r)}Wr!==null&&Ph(Wr,r),Yr!==null&&Ph(Yr,r),Kr!==null&&Ph(Kr,r),au.forEach(o),ou.forEach(o);for(var c=0;c<Xr.length;c++){var h=Xr[c];h.blockedOn===r&&(h.blockedOn=null)}for(;0<Xr.length&&(c=Xr[0],c.blockedOn===null);)M_(c),c.blockedOn===null&&Xr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],v=c[h+1],C=y[Gt]||null;if(typeof v=="function")C||P_(c);else if(C){var D=null;if(v&&v.hasAttribute("formAction")){if(y=v,C=v[Gt]||null)D=C.formAction;else if(Rg(y)!==null)continue}else D=C.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),P_(c)}}}function Ig(r){this._internalRoot=r}Vh.prototype.render=Ig.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,h=ps();k_(c,h,r,o,null,null)},Vh.prototype.unmount=Ig.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;k_(r.current,2,null,r,null,null),bh(),o[Et]=null}};function Vh(r){this._internalRoot=r}Vh.prototype.unstable_scheduleHydration=function(r){if(r){var o=si();r={blockedOn:null,target:r,priority:o};for(var c=0;c<Xr.length&&o!==0&&o<Xr[c].priority;c++);Xr.splice(c,0,r),c===0&&M_(r)}};var L_=e.version;if(L_!=="19.1.1")throw Error(s(527,L_,"19.1.1"));ae.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=d(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var GC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Xe=zh.inject(GC),Pe=zh}catch{}}return du.createRoot=function(r,o){if(!i(r))throw Error(s(299));var c=!1,h="",y=Zb,v=ev,C=tv,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=A_(r,1,!1,null,null,c,h,y,v,C,D,null),r[Et]=o.current,mg(r),new Ig(o)},du.hydrateRoot=function(r,o,c){if(!i(r))throw Error(s(299));var h=!1,y="",v=Zb,C=ev,D=tv,H=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(H=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),o=A_(r,1,!0,o,c??null,h,y,v,C,D,H,Z),o.context=C_(null),c=o.current,h=ps(),h=ni(h),y=Dr(h),y.callback=null,Mr(c,y,h),c=h,o.current.lanes=c,as(o,c),xi(o),r[Et]=o.current,mg(r),new Vh(o)},du.version="19.1.1",du}var Y_;function tk(){if(Y_)return Og.exports;Y_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Og.exports=ek(),Og.exports}var nk=tk();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K_="popstate";function sk(n={}){function e(i,a){let{pathname:l="/",search:u="",hash:d=""}=No(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),v0("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof a=="string"?a:zu(a))}function s(i,a){Ls(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return rk(e,t,s,n)}function Ut(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ls(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ik(){return Math.random().toString(36).substring(2,10)}function X_(n,e){return{usr:n.state,key:n.key,idx:e}}function v0(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:t,key:e&&e.key||s||ik()}}function zu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function No(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function rk(n,e,t,s={}){let{window:i=document.defaultView,v5Compat:a=!1}=s,l=i.history,u="POP",d=null,f=g();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function g(){return(l.state||{idx:null}).idx}function x(){u="POP";let T=g(),k=T==null?null:T-f;f=T,d&&d({action:u,location:w.location,delta:k})}function b(T,k){u="PUSH";let I=v0(w.location,T,k);t&&t(I,T),f=g()+1;let M=X_(I,f),z=w.createHref(I);try{l.pushState(M,"",z)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(z)}a&&d&&d({action:u,location:w.location,delta:1})}function E(T,k){u="REPLACE";let I=v0(w.location,T,k);t&&t(I,T),f=g();let M=X_(I,f),z=w.createHref(I);l.replaceState(M,"",z),a&&d&&d({action:u,location:w.location,delta:0})}function S(T){return ak(T)}let w={get action(){return u},get location(){return n(i,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(K_,x),d=T,()=>{i.removeEventListener(K_,x),d=null}},createHref(T){return e(i,T)},createURL:S,encodeLocation(T){let k=S(T);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:E,go(T){return l.go(T)}};return w}function ak(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:zu(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function mE(n,e,t="/"){return ok(n,e,t,!1)}function ok(n,e,t,s){let i=typeof e=="string"?No(e):e,a=pr(i.pathname||"/",t);if(a==null)return null;let l=pE(n);lk(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=bk(a);u=yk(l[d],f,s)}return u}function pE(n,e=[],t=[],s=""){let i=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Ut(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let f=hr([s,d.relativePath]),g=t.concat(d);a.children&&a.children.length>0&&(Ut(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),pE(a.children,e,g,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:pk(f,a.index),routesMeta:g})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let u of gE(a.path))i(a,l,u)}),e}function gE(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let l=gE(s.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function lk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gk(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var ck=/^:[\w-]+$/,uk=3,dk=2,hk=1,fk=10,mk=-2,Q_=n=>n==="*";function pk(n,e){let t=n.split("/"),s=t.length;return t.some(Q_)&&(s+=mk),e&&(s+=dk),t.filter(i=>!Q_(i)).reduce((i,a)=>i+(ck.test(a)?uk:a===""?hk:fk),s)}function gk(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function yk(n,e,t=!1){let{routesMeta:s}=n,i={},a="/",l=[];for(let u=0;u<s.length;++u){let d=s[u],f=u===s.length-1,g=a==="/"?e:e.slice(a.length)||"/",x=jf({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),b=d.route;if(!x&&f&&t&&!s[s.length-1].route.index&&(x=jf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:hr([a,x.pathname]),pathnameBase:Ek(hr([a,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(a=hr([a,x.pathnameBase]))}return l}function jf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=xk(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((f,{paramName:g,isOptional:x},b)=>{if(g==="*"){let S=u[b]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const E=u[b];return x&&!E?f[g]=void 0:f[g]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function xk(n,e=!1,t=!0){Ls(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(s.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function bk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ls(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function vk(n,e="/"){let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?No(n):n;return{pathname:t?t.startsWith("/")?t:_k(t,e):e,search:Tk(s),hash:Sk(i)}}function _k(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function zg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cy(n){let e=wk(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function uy(n,e,t,s=!1){let i;typeof n=="string"?i=No(n):(i={...n},Ut(!i.pathname||!i.pathname.includes("?"),zg("?","pathname","search",i)),Ut(!i.pathname||!i.pathname.includes("#"),zg("#","pathname","hash",i)),Ut(!i.search||!i.search.includes("#"),zg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let x=e.length-1;if(!s&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),x-=1;i.pathname=b.join("/")}u=x>=0?e[x]:"/"}let d=vk(i,u),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var hr=n=>n.join("/").replace(/\/\/+/g,"/"),Ek=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Tk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Sk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Nk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yE=["POST","PUT","PATCH","DELETE"];new Set(yE);var Ak=["GET",...yE];new Set(Ak);var Kl=F.createContext(null);Kl.displayName="DataRouter";var rm=F.createContext(null);rm.displayName="DataRouterState";F.createContext(!1);var xE=F.createContext({isTransitioning:!1});xE.displayName="ViewTransition";var Ck=F.createContext(new Map);Ck.displayName="Fetchers";var kk=F.createContext(null);kk.displayName="Await";var ti=F.createContext(null);ti.displayName="Navigation";var nd=F.createContext(null);nd.displayName="Location";var Vs=F.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var dy=F.createContext(null);dy.displayName="RouteError";function Rk(n,{relative:e}={}){Ut(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(ti),{hash:i,pathname:a,search:l}=id(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:hr([t,a])),s.createHref({pathname:u,search:l,hash:i})}function Xl(){return F.useContext(nd)!=null}function Di(){return Ut(Xl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(nd).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vE(n){F.useContext(ti).static||F.useLayoutEffect(n)}function sd(){let{isDataRoute:n}=F.useContext(Vs);return n?qk():jk()}function jk(){Ut(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Kl),{basename:e,navigator:t}=F.useContext(ti),{matches:s}=F.useContext(Vs),{pathname:i}=Di(),a=JSON.stringify(cy(s)),l=F.useRef(!1);return vE(()=>{l.current=!0}),F.useCallback((d,f={})=>{if(Ls(l.current,bE),!l.current)return;if(typeof d=="number"){t.go(d);return}let g=uy(d,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:hr([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,a,i,n])}var Ik=F.createContext(null);function Dk(n){let e=F.useContext(Vs).outlet;return e&&F.createElement(Ik.Provider,{value:n},e)}function Mk(){let{matches:n}=F.useContext(Vs),e=n[n.length-1];return e?e.params:{}}function id(n,{relative:e}={}){let{matches:t}=F.useContext(Vs),{pathname:s}=Di(),i=JSON.stringify(cy(t));return F.useMemo(()=>uy(n,JSON.parse(i),s,e==="path"),[n,i,s,e])}function Ok(n,e){return _E(n,e)}function _E(n,e,t,s){Ut(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(ti),{matches:a}=F.useContext(Vs),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let k=g&&g.path||"";wE(d,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=Di(),b;if(e){let k=typeof e=="string"?No(e):e;Ut(f==="/"||k.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=x;let E=b.pathname||"/",S=E;if(f!=="/"){let k=f.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=mE(n,{pathname:S});Ls(g||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ls(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Uk(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:hr([f,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:hr([f,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,s);return e&&T?F.createElement(nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function Pk(){let n=Gk(),e=Nk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,l)}var Lk=F.createElement(Pk,null),Vk=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Vs.Provider,{value:this.props.routeContext},F.createElement(dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zk({routeContext:n,match:e,children:t}){let s=F.useContext(Kl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Vs.Provider,{value:n},t)}function Uk(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t?.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Ut(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:x}=t,b=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let x,b=!1,E=null,S=null;t&&(x=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||Lk,l&&(u<0&&g===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===g&&(b=!0,S=f.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,g+1)),T=()=>{let k;return x?k=E:b?k=S:f.route.Component?k=F.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,F.createElement(zk,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:t!=null},children:k})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?F.createElement(Vk,{location:t.location,revalidation:t.revalidation,component:E,error:x,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}function hy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bk(n){let e=F.useContext(Kl);return Ut(e,hy(n)),e}function Fk(n){let e=F.useContext(rm);return Ut(e,hy(n)),e}function $k(n){let e=F.useContext(Vs);return Ut(e,hy(n)),e}function fy(n){let e=$k(n),t=e.matches[e.matches.length-1];return Ut(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Hk(){return fy("useRouteId")}function Gk(){let n=F.useContext(dy),e=Fk("useRouteError"),t=fy("useRouteError");return n!==void 0?n:e.errors?.[t]}function qk(){let{router:n}=Bk("useNavigate"),e=fy("useNavigate"),t=F.useRef(!1);return vE(()=>{t.current=!0}),F.useCallback(async(i,a={})=>{Ls(t.current,bE),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var J_={};function wE(n,e,t){!e&&!J_[n]&&(J_[n]=!0,Ls(!1,t))}F.memo(Wk);function Wk({routes:n,future:e,state:t}){return _E(n,void 0,t,e)}function bs({to:n,replace:e,state:t,relative:s}){Ut(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=F.useContext(ti);Ls(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Vs),{pathname:l}=Di(),u=sd(),d=uy(n,cy(a),l,s==="path"),f=JSON.stringify(d);return F.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:s})},[u,f,s,e,t]),null}function EE(n){return Dk(n.context)}function rn(n){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yk({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:i,static:a=!1}){Ut(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=No(t));let{pathname:d="/",search:f="",hash:g="",state:x=null,key:b="default"}=t,E=F.useMemo(()=>{let S=pr(d,l);return S==null?null:{location:{pathname:S,search:f,hash:g,state:x,key:b},navigationType:s}},[l,d,f,g,x,b,s]);return Ls(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:F.createElement(ti.Provider,{value:u},F.createElement(nd.Provider,{children:e,value:E}))}function Kk({children:n,location:e}){return Ok(_0(n),e)}function _0(n,e=[]){let t=[];return F.Children.forEach(n,(s,i)=>{if(!F.isValidElement(s))return;let a=[...e,i];if(s.type===F.Fragment){t.push.apply(t,_0(s.props.children,a));return}Ut(s.type===rn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=_0(s.props.children,a)),t.push(l)}),t}var mf="get",pf="application/x-www-form-urlencoded";function am(n){return n!=null&&typeof n.tagName=="string"}function Xk(n){return am(n)&&n.tagName.toLowerCase()==="button"}function Qk(n){return am(n)&&n.tagName.toLowerCase()==="form"}function Jk(n){return am(n)&&n.tagName.toLowerCase()==="input"}function Zk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eR(n,e){return n.button===0&&(!e||e==="_self")&&!Zk(n)}var Uh=null;function tR(){if(Uh===null)try{new FormData(document.createElement("form"),0),Uh=!1}catch{Uh=!0}return Uh}var nR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ug(n){return n!=null&&!nR.has(n)?(Ls(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):n}function sR(n,e){let t,s,i,a,l;if(Qk(n)){let u=n.getAttribute("action");s=u?pr(u,e):null,t=n.getAttribute("method")||mf,i=Ug(n.getAttribute("enctype"))||pf,a=new FormData(n)}else if(Xk(n)||Jk(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(s=d?pr(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||mf,i=Ug(n.getAttribute("formenctype"))||Ug(u.getAttribute("enctype"))||pf,a=new FormData(u,n),!tR()){let{name:f,type:g,value:x}=n;if(g==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,x)}}else{if(am(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mf,s=null,i=pf,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:s,method:t.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function my(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function iR(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function rR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oR(n,e,t){let s=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await rR(a,t);return l.links?l.links():[]}return[]}));return dR(s.flat(1).filter(aR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Z_(n,e,t,s,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{let g=s.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function lR(n,e,{includeHydrateFallback:t}={}){return cR(n.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function cR(n){return[...new Set(n)]}function uR(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function dR(n,e){let t=new Set;return new Set(e),n.reduce((s,i)=>{let a=JSON.stringify(uR(i));return t.has(a)||(t.add(a),s.push({key:a,link:i})),s},[])}function TE(){let n=F.useContext(Kl);return my(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hR(){let n=F.useContext(rm);return my(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var py=F.createContext(void 0);py.displayName="FrameworkContext";function SE(){let n=F.useContext(py);return my(n,"You must render this element inside a <HydratedRouter> element"),n}function fR(n,e){let t=F.useContext(py),[s,i]=F.useState(!1),[a,l]=F.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:x}=e,b=F.useRef(null);F.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let w=k=>{k.forEach(I=>{l(I.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[n]),F.useEffect(()=>{if(s){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[s]);let E=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,b,{}]:[a,b,{onFocus:hu(u,E),onBlur:hu(d,S),onMouseEnter:hu(f,E),onMouseLeave:hu(g,S),onTouchStart:hu(x,E)}]:[!1,b,{}]}function hu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function mR({page:n,...e}){let{router:t}=TE(),s=F.useMemo(()=>mE(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?F.createElement(gR,{page:n,matches:s,...e}):null}function pR(n){let{manifest:e,routeModules:t}=SE(),[s,i]=F.useState([]);return F.useEffect(()=>{let a=!1;return oR(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),s}function gR({page:n,matches:e,...t}){let s=Di(),{manifest:i,routeModules:a}=SE(),{basename:l}=TE(),{loaderData:u,matches:d}=hR(),f=F.useMemo(()=>Z_(n,e,d,i,s,"data"),[n,e,d,i,s]),g=F.useMemo(()=>Z_(n,e,d,i,s,"assets"),[n,e,d,i,s]),x=F.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let S=new Set,w=!1;if(e.forEach(k=>{let I=i.routes[k.route.id];!I||!I.hasLoader||(!f.some(M=>M.route.id===k.route.id)&&k.route.id in u&&a[k.route.id]?.shouldRevalidate||I.hasClientLoader?w=!0:S.add(k.route.id))}),S.size===0)return[];let T=iR(n,l,"data");return w&&S.size>0&&T.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[T.pathname+T.search]},[l,u,s,i,f,e,n,a]),b=F.useMemo(()=>lR(g,i),[g,i]),E=pR(g);return F.createElement(F.Fragment,null,x.map(S=>F.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),b.map(S=>F.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),E.map(({key:S,link:w})=>F.createElement("link",{key:S,...w})))}function yR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NE&&(window.__reactRouterVersion="7.7.1")}catch{}function xR({basename:n,children:e,window:t}){let s=F.useRef();s.current==null&&(s.current=sk({window:t,v5Compat:!0}));let i=s.current,[a,l]=F.useState({action:i.action,location:i.location}),u=F.useCallback(d=>{F.startTransition(()=>l(d))},[l]);return F.useLayoutEffect(()=>i.listen(u),[i,u]),F.createElement(Yk,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bo=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:g,viewTransition:x,...b},E){let{basename:S}=F.useContext(ti),w=typeof f=="string"&&AE.test(f),T,k=!1;if(typeof f=="string"&&w&&(T=f,NE))try{let j=new URL(window.location.href),P=f.startsWith("//")?new URL(j.protocol+f):new URL(f),V=pr(P.pathname,S);P.origin===j.origin&&V!=null?f=V+P.search+P.hash:k=!0}catch{Ls(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Rk(f,{relative:i}),[M,z,B]=fR(s,b),$=wR(f,{replace:l,state:u,target:d,preventScrollReset:g,relative:i,viewTransition:x});function A(j){e&&e(j),j.defaultPrevented||$(j)}let R=F.createElement("a",{...b,...B,href:T||I,onClick:k||a?e:A,ref:yR(E,z),target:d,"data-discover":!w&&t==="render"?"true":void 0});return M&&!w?F.createElement(F.Fragment,null,R,F.createElement(mR,{page:I})):R});bo.displayName="Link";var bR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...f},g){let x=id(l,{relative:f.relative}),b=Di(),E=F.useContext(rm),{navigator:S,basename:w}=F.useContext(ti),T=E!=null&&AR(x)&&u===!0,k=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,I=b.pathname,M=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(I=I.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&w&&(M=pr(M,w)||M);const z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let B=I===k||!i&&I.startsWith(k)&&I.charAt(z)==="/",$=M!=null&&(M===k||!i&&M.startsWith(k)&&M.charAt(k.length)==="/"),A={isActive:B,isPending:$,isTransitioning:T},R=B?e:void 0,j;typeof s=="function"?j=s(A):j=[s,B?"active":null,$?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(A):a;return F.createElement(bo,{...f,"aria-current":R,className:j,ref:g,style:P,to:l,viewTransition:u},typeof d=="function"?d(A):d)});bR.displayName="NavLink";var vR=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:i,state:a,method:l=mf,action:u,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:x,...b},E)=>{let S=SR(),w=NR(u,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&AE.test(u),I=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,B=z?.getAttribute("formmethod")||l;S(z||M.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:a,relative:f,preventScrollReset:g,viewTransition:x})};return F.createElement("form",{ref:E,method:T,action:w,onSubmit:s?d:I,...b,"data-discover":!k&&n==="render"?"true":void 0})});vR.displayName="Form";function _R(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CE(n){let e=F.useContext(Kl);return Ut(e,_R(n)),e}function wR(n,{target:e,replace:t,state:s,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=sd(),d=Di(),f=id(n,{relative:a});return F.useCallback(g=>{if(eR(g,e)){g.preventDefault();let x=t!==void 0?t:zu(d)===zu(f);u(n,{replace:x,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,f,t,s,e,n,i,a,l])}var ER=0,TR=()=>`__${String(++ER)}__`;function SR(){let{router:n}=CE("useSubmit"),{basename:e}=F.useContext(ti),t=Hk();return F.useCallback(async(s,i={})=>{let{action:a,method:l,encType:u,formData:d,body:f}=sR(s,e);if(i.navigate===!1){let g=i.fetcherKey||TR();await n.fetch(g,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function NR(n,{relative:e}={}){let{basename:t}=F.useContext(ti),s=F.useContext(Vs);Ut(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a={...id(n||".",{relative:e})},l=Di();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(g=>g==="")){u.delete("index"),d.filter(x=>x).forEach(x=>u.append("index",x));let g=u.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:hr([t,a.pathname])),zu(a)}function AR(n,{relative:e}={}){let t=F.useContext(xE);Ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=CE("useViewTransitionState"),i=id(n,{relative:e});if(!t.isTransitioning)return!1;let a=pr(t.currentLocation.pathname,s)||t.currentLocation.pathname,l=pr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return jf(i.pathname,l)!=null||jf(i.pathname,a)!=null}const CR=()=>m.jsx(EE,{}),kR=()=>{};var e1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let i=n.charCodeAt(s);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},RR=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const i=n[t++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[s++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[s++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=a>>2,x=(a&3)<<4|u>>4;let b=(u&15)<<2|f>>6,E=f&63;d||(E=64,l||(b=64)),s.push(t[g],t[x],t[b],t[E])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const x=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||f==null||x==null)throw new jR;const b=a<<2|u>>4;if(s.push(b),f!==64){const E=u<<4&240|f>>2;if(s.push(E),x!==64){const S=f<<6&192|x;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IR=function(n){const e=kE(n);return RE.encodeByteArray(e,!0)},If=function(n){return IR(n).replace(/\./g,"")},jE=function(n){try{return RE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=()=>DR().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof e1>"u")return;const n=e1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jE(n[1]);return e&&JSON.parse(e)},om=()=>{try{return kR()||MR()||OR()||PR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IE=n=>om()?.emulatorHosts?.[n],LR=n=>{const e=IE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},DE=()=>om()?.config,ME=n=>om()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[If(JSON.stringify(t)),If(JSON.stringify(l)),""].join(".")}const Cu={};function UR(){const n={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?n.emulator.push(e):n.prod.push(e);return n}function BR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let t1=!1;function PE(n,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||Cu[n]===e||Cu[n]||t1)return;Cu[n]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",a=UR().prod.length>0;function l(){const b=document.getElementById(s);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{t1=!0,l()},b}function g(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function x(){const b=BR(s),E=t("text"),S=document.getElementById(E)||document.createElement("span"),w=t("learnmore"),T=document.getElementById(w)||document.createElement("a"),k=t("preprendIcon"),I=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const M=b.element;u(M),g(T,w);const z=f();d(I,k),M.append(I,S,T,z),document.body.appendChild(M)}a?(S.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function $R(){const n=om()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WR(){const n=Bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function YR(){return!$R()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KR(){try{return typeof indexedDB=="object"}catch{return!1}}function XR(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="FirebaseError";class wr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=QR,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?JR(a,s):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new wr(i,u,s)}}function JR(n,e){return n.replace(ZR,(t,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const ZR=/\{\$([^}]+)}/g;function ej(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xa(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const i of t){if(!s.includes(i))return!1;const a=n[i],l=e[i];if(n1(a)&&n1(l)){if(!xa(a,l))return!1}else if(a!==l)return!1}for(const i of s)if(!t.includes(i))return!1;return!0}function n1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,a]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function vu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function tj(n,e){const t=new nj(n,e);return t.subscribe.bind(t)}class nj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let i;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");sj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:s},i.next===void 0&&(i.next=Bg),i.error===void 0&&(i.error=Bg),i.complete===void 0&&(i.complete=Bg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(n){return n&&n._delegate?n._delegate:n}class vo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new VR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aj(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});s.resolve(a)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);s===u&&l.resolve(i)}return i}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const i of s)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rj(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rj(n){return n===lo?void 0:n}function aj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ij(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(at||(at={}));const lj={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},cj=at.INFO,uj={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},dj=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),i=uj[e];if(i)console[i](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gy{constructor(e){this.name=e,this._logLevel=cj,this._logHandler=dj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const hj=(n,e)=>e.some(t=>n instanceof t);let s1,i1;function fj(){return s1||(s1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mj(){return i1||(i1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,w0=new WeakMap,VE=new WeakMap,Fg=new WeakMap,yy=new WeakMap;function pj(n){const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(ha(n.result)),i()},l=()=>{s(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&LE.set(t,n)}).catch(()=>{}),yy.set(e,n),e}function gj(n){if(w0.has(n))return;const e=new Promise((t,s)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{s(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});w0.set(n,e)}let E0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return w0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||VE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ha(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yj(n){E0=n(E0)}function xj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call($g(this),e,...t);return VE.set(s,e.sort?e.sort():[e]),ha(s)}:mj().includes(n)?function(...e){return n.apply($g(this),e),ha(LE.get(this))}:function(...e){return ha(n.apply($g(this),e))}}function bj(n){return typeof n=="function"?xj(n):(n instanceof IDBTransaction&&gj(n),hj(n,fj())?new Proxy(n,E0):n)}function ha(n){if(n instanceof IDBRequest)return pj(n);if(Fg.has(n))return Fg.get(n);const e=bj(n);return e!==n&&(Fg.set(n,e),yy.set(e,n)),e}const $g=n=>yy.get(n);function vj(n,e,{blocked:t,upgrade:s,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=ha(l);return s&&l.addEventListener("upgradeneeded",d=>{s(ha(l.result),d.oldVersion,d.newVersion,ha(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const _j=["get","getKey","getAll","getAllKeys","count"],wj=["put","add","delete","clear"],Hg=new Map;function r1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hg.get(e))return Hg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,i=wj.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(i||_j.includes(t)))return;const a=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return s&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return Hg.set(e,a),a}yj(n=>({...n,get:(e,t,s)=>r1(e,t)||n.get(e,t,s),has:(e,t)=>!!r1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Tj(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Tj(n){return n.getComponent()?.type==="VERSION"}const T0="@firebase/app",a1="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new gy("@firebase/app"),Sj="@firebase/app-compat",Nj="@firebase/analytics-compat",Aj="@firebase/analytics",Cj="@firebase/app-check-compat",kj="@firebase/app-check",Rj="@firebase/auth",jj="@firebase/auth-compat",Ij="@firebase/database",Dj="@firebase/data-connect",Mj="@firebase/database-compat",Oj="@firebase/functions",Pj="@firebase/functions-compat",Lj="@firebase/installations",Vj="@firebase/installations-compat",zj="@firebase/messaging",Uj="@firebase/messaging-compat",Bj="@firebase/performance",Fj="@firebase/performance-compat",$j="@firebase/remote-config",Hj="@firebase/remote-config-compat",Gj="@firebase/storage",qj="@firebase/storage-compat",Wj="@firebase/firestore",Yj="@firebase/ai",Kj="@firebase/firestore-compat",Xj="firebase",Qj="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="[DEFAULT]",Jj={[T0]:"fire-core",[Sj]:"fire-core-compat",[Aj]:"fire-analytics",[Nj]:"fire-analytics-compat",[kj]:"fire-app-check",[Cj]:"fire-app-check-compat",[Rj]:"fire-auth",[jj]:"fire-auth-compat",[Ij]:"fire-rtdb",[Dj]:"fire-data-connect",[Mj]:"fire-rtdb-compat",[Oj]:"fire-fn",[Pj]:"fire-fn-compat",[Lj]:"fire-iid",[Vj]:"fire-iid-compat",[zj]:"fire-fcm",[Uj]:"fire-fcm-compat",[Bj]:"fire-perf",[Fj]:"fire-perf-compat",[$j]:"fire-rc",[Hj]:"fire-rc-compat",[Gj]:"fire-gcs",[qj]:"fire-gcs-compat",[Wj]:"fire-fst",[Kj]:"fire-fst-compat",[Yj]:"fire-vertex","fire-js":"fire-js",[Xj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,Zj=new Map,N0=new Map;function o1(n,e){try{n.container.addComponent(e)}catch(t){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ll(n){const e=n.name;if(N0.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;N0.set(e,n);for(const t of Df.values())o1(t,n);for(const t of Zj.values())o1(t,n);return!0}function xy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ms(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new rd("app","Firebase",eI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=Qj;function zE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:S0,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw fa.create("bad-app-name",{appName:String(i)});if(t||(t=DE()),!t)throw fa.create("no-options");const a=Df.get(i);if(a){if(xa(t,a.options)&&xa(s,a.config))return a;throw fa.create("duplicate-app",{appName:i})}const l=new oj(i);for(const d of N0.values())l.addComponent(d);const u=new tI(t,s,l);return Df.set(i,u),u}function UE(n=S0){const e=Df.get(n);if(!e&&n===S0&&DE())return zE();if(!e)throw fa.create("no-app",{appName:n});return e}function ma(n,e,t){let s=Jj[n]??n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(l.join(" "));return}Ll(new vo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebase-heartbeat-database",sI=1,Uu="firebase-heartbeat-store";let Gg=null;function BE(){return Gg||(Gg=vj(nI,sI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fa.create("idb-open",{originalErrorMessage:n.message})})),Gg}async function iI(n){try{const t=(await BE()).transaction(Uu),s=await t.objectStore(Uu).get(FE(n));return await t.done,s}catch(e){if(e instanceof wr)gr.warn(e.message);else{const t=fa.create("idb-get",{originalErrorMessage:e?.message});gr.warn(t.message)}}}async function l1(n,e){try{const s=(await BE()).transaction(Uu,"readwrite");await s.objectStore(Uu).put(e,FE(n)),await s.done}catch(t){if(t instanceof wr)gr.warn(t.message);else{const s=fa.create("idb-set",{originalErrorMessage:t?.message});gr.warn(s.message)}}}function FE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=1024,aI=30;class oI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>aI){const i=uI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=c1(),{heartbeatsToSend:t,unsentEntries:s}=lI(this._heartbeatsCache.heartbeats),i=If(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return gr.warn(e),""}}}function c1(){return new Date().toISOString().substring(0,10)}function lI(n,e=rI){const t=[];let s=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),u1(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),u1(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class cI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KR()?XR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function u1(n){return If(JSON.stringify({version:2,heartbeats:n})).length}function uI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(n){Ll(new vo("platform-logger",e=>new Ej(e),"PRIVATE")),Ll(new vo("heartbeat",e=>new oI(e),"PRIVATE")),ma(T0,a1,n),ma(T0,a1,"esm2020"),ma("fire-js","")}dI("");function $E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hI=$E,HE=new rd("auth","Firebase",$E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new gy("@firebase/auth");function fI(n,...e){Mf.logLevel<=at.WARN&&Mf.warn(`Auth (${Jl}): ${n}`,...e)}function gf(n,...e){Mf.logLevel<=at.ERROR&&Mf.error(`Auth (${Jl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n,...e){throw by(n,...e)}function Si(n,...e){return by(n,...e)}function GE(n,e,t){const s={...hI(),[e]:t};return new rd("auth","Firebase",s).create(e,{appName:n.name})}function fr(n){return GE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function by(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return HE.create(n,...e)}function Ue(n,e,...t){if(!n)throw by(e,...t)}function cr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gf(e),new Error(e)}function yr(n,e){n||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof self<"u"&&self.location?.href||""}function mI(){return d1()==="http:"||d1()==="https:"}function d1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mI()||GR()||"connection"in navigator)?navigator.onLine:!0}function gI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=FR()||qR()}get(){return pI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n,e){yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bI=new od(3e4,6e4);function Na(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Er(n,e,t,s,i={}){return WE(n,i,async()=>{let a={},l={};s&&(e==="GET"?l=s:a={body:JSON.stringify(s)});const u=ad({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...a};return HR()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ql(n.emulatorConfig.host)&&(f.credentials="include"),qE.fetch()(await YE(n,n.config.apiHost,t,u),f)})}async function WE(n,e,t){n._canInitEmulator=!1;const s={...yI,...e};try{const i=new _I(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Bh(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Bh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Bh(n,"user-disabled",l);const g=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw GE(n,g,f);Js(n,g)}}catch(i){if(i instanceof wr)throw i;Js(n,"network-request-failed",{message:String(i)})}}async function ld(n,e,t,s,i={}){const a=await Er(n,e,t,s,i);return"mfaPendingCredential"in a&&Js(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function YE(n,e,t,s){const i=`${e}${t}?${s}`,a=n,l=a.config.emulator?vy(n.config,i):`${n.config.apiScheme}://${i}`;return xI.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function vI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),bI.get())})}}function Bh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const i=Si(n,e,s);return i.customData._tokenResponse=t,i}function h1(n){return n!==void 0&&n.enterprise!==void 0}class wI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EI(n,e){return Er(n,"GET","/v2/recaptchaConfig",Na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(n,e){return Er(n,"POST","/v1/accounts:delete",e)}async function Of(n,e){return Er(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SI(n,e=!1){const t=gn(n),s=await t.getIdToken(e),i=_y(s);Ue(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:s,authTime:ku(qg(i.auth_time)),issuedAtTime:ku(qg(i.iat)),expirationTime:ku(qg(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function qg(n){return Number(n)*1e3}function _y(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const i=jE(t);return i?JSON.parse(i):(gf("Failed to decode base64 JWT payload"),null)}catch(i){return gf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function f1(n){const e=_y(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof wr&&NI(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function NI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(n){const e=n.auth,t=await n.getIdToken(),s=await Vl(n,Of(e,{idToken:t}));Ue(s?.users.length,e,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?KE(i.providerUserInfo):[],l=kI(n.providerData,a),u=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!l?.length,f=u?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new C0(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function CI(n){const e=gn(n);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kI(n,e){return[...n.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function KE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(n,e){const t=await WE(n,{},async()=>{const s=ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=await YE(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:s};return n.emulatorConfig&&Ql(n.emulatorConfig.host)&&(d.credentials="include"),qE.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jI(n,e){return Er(n,"POST","/v2/accounts:revokeToken",Na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=f1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:i,expiresIn:a}=await RI(e,t);this.updateTokensAndExpiration(s,i,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:i,expirationTime:a}=t,l=new jl;return s&&(Ue(typeof s=="string","internal-error",{appName:e}),l.refreshToken=s),i&&(Ue(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ks{constructor({uid:e,auth:t,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new AI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new C0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SI(this,e)}reload(){return CI(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ks({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Pf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ms(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await Vl(this,TI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:x,emailVerified:b,isAnonymous:E,providerData:S,stsTokenManager:w}=t;Ue(x&&w,e,"internal-error");const T=jl.fromJSON(this.name,w);Ue(typeof x=="string",e,"internal-error"),Jr(s,e.name),Jr(i,e.name),Ue(typeof b=="boolean",e,"internal-error"),Ue(typeof E=="boolean",e,"internal-error"),Jr(a,e.name),Jr(l,e.name),Jr(u,e.name),Jr(d,e.name),Jr(f,e.name),Jr(g,e.name);const k=new Ks({uid:x,auth:e,email:i,emailVerified:b,displayName:s,isAnonymous:E,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:T,createdAt:f,lastLoginAt:g});return S&&Array.isArray(S)&&(k.providerData=S.map(I=>({...I}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,t,s=!1){const i=new jl;i.updateFromServerResponse(t);const a=new Ks({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Pf(a),a}static async _fromGetAccountInfoResponse(e,t,s){const i=t.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?KE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new jl;u.updateFromIdToken(s);const d=new Ks({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new C0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function ur(n){yr(n instanceof Function,"Expected a class definition");let e=m1.get(n);return e?(yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,m1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}XE.type="NONE";const p1=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(n,e,t){return`firebase:${n}:${e}:${t}`}class Il{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:i,name:a}=this.auth;this.fullUserKey=yf(this.userKey,i.apiKey,a),this.fullPersistenceKey=yf("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Of(this.auth,{idToken:e}).catch(()=>{});return t?Ks._fromGetAccountInfoResponse(this.auth,t,e):null}return Ks._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Il(ur(p1),e,s);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||ur(p1);const l=yf(s,e.config.apiKey,e.name);let u=null;for(const f of t)try{const g=await f._get(l);if(g){let x;if(typeof g=="string"){const b=await Of(e,{idToken:g}).catch(()=>{});if(!b)break;x=await Ks._fromGetAccountInfoResponse(e,b,g)}else x=Ks._fromJSON(e,g);f!==a&&(u=x),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Il(a,e,s):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Il(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nT(e))return"Blackberry";if(sT(e))return"Webos";if(JE(e))return"Safari";if((e.includes("chrome/")||ZE(e))&&!e.includes("edge/"))return"Chrome";if(tT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function QE(n=Bn()){return/firefox\//i.test(n)}function JE(n=Bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZE(n=Bn()){return/crios\//i.test(n)}function eT(n=Bn()){return/iemobile/i.test(n)}function tT(n=Bn()){return/android/i.test(n)}function nT(n=Bn()){return/blackberry/i.test(n)}function sT(n=Bn()){return/webos/i.test(n)}function wy(n=Bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function II(n=Bn()){return wy(n)&&!!window.navigator?.standalone}function DI(){return WR()&&document.documentMode===10}function iT(n=Bn()){return wy(n)||tT(n)||sT(n)||nT(n)||/windows phone/i.test(n)||eT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n,e=[]){let t;switch(n){case"Browser":t=g1(Bn());break;case"Worker":t=`${g1(Bn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});s.onAbort=t,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e={}){return Er(n,"GET","/v2/passwordPolicy",Na(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=6;class LI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??PI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t,s,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new MI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ur(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Of(this,{idToken:e}),s=await Ks._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ms(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=s?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ms(this.app))return Promise.reject(fr(this));const t=e?gn(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ms(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ms(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OI(this),t=new LI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rd("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await jI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ur(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,s,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ms(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ao(n){return gn(n)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=tj(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zI(n){lm=n}function aT(n){return lm.loadJS(n)}function UI(){return lm.recaptchaEnterpriseScript}function BI(){return lm.gapiScript}function FI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $I{constructor(){this.enterprise=new HI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const GI="recaptcha-enterprise",oT="NO_RECAPTCHA";class qI{constructor(e){this.type=GI,this.auth=Ao(e)}async verify(e="verify",t=!1){async function s(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{EI(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new wI(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function i(a,l,u){const d=window.grecaptcha;h1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(oT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $I().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{s(this.auth).then(u=>{if(!t&&h1(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=UI();d.length!==0&&(d+=u),aT(d).then(()=>{i(u,a,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function x1(n,e,t,s=!1,i=!1){const a=new qI(n);let l;if(i)l=oT;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return s?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function k0(n,e,t,s,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await x1(n,e,t,t==="getOobCode");return s(n,a)}else return s(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await x1(n,e,t,t==="getOobCode");return s(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n,e){const t=xy(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(xa(a,e??{}))return i;Js(i,"already-initialized")}return t.initialize({options:e})}function YI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ur);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function KI(n,e,t){const s=Ao(n);Ue(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,a=lT(e),{host:l,port:u}=XI(e),d=u===null?"":`:${u}`,f={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){Ue(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ue(xa(f,s.config.emulator)&&xa(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,Ql(l)?(OE(`${a}//${l}${d}`),PE("Auth",!0)):QI()}function lT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XI(n){const e=lT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const a=i[1];return{host:a,port:b1(s.substr(a.length+1))}}else{const[a,l]=s.split(":");return{host:a,port:b1(l)}}}function b1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function QI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,t){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function JI(n,e){return Er(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(n,e){return ld(n,"POST","/v1/accounts:signInWithPassword",Na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e){return ld(n,"POST","/v1/accounts:signInWithEmailLink",Na(n,e))}async function tD(n,e){return ld(n,"POST","/v1/accounts:signInWithEmailLink",Na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Ey{constructor(e,t,s,i=null){super("password",s),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Bu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Bu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k0(e,t,"signInWithPassword",ZI);case"emailLink":return eD(e,{email:this._email,oobCode:this._password});default:Js(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k0(e,s,"signUpPassword",JI);case"emailLink":return tD(e,{idToken:t,email:this._email,oobCode:this._password});default:Js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(n,e){return ld(n,"POST","/v1/accounts:signInWithIdp",Na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="http://localhost";class _o extends Ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Js("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...a}=t;if(!s||!i)return null;const l=new _o(s,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dl(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Dl(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dl(e,t)}buildRequest(){const e={requestUri:nD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ad(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iD(n){const e=bu(vu(n)).link,t=e?bu(vu(e)).deep_link_id:null,s=bu(vu(n)).deep_link_id;return(s?bu(vu(s)).link:null)||s||t||e||n}class Ty{constructor(e){const t=bu(vu(e)),s=t.apiKey??null,i=t.oobCode??null,a=sD(t.mode??null);Ue(s&&i&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=iD(e);try{return new Ty(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.providerId=Zl.PROVIDER_ID}static credential(e,t){return Bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ty.parseLink(t);return Ue(s,"argument-error"),Bu._fromEmailAndCode(e,s.code,s.tenantId)}}Zl.PROVIDER_ID="password";Zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends cT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends cd{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _o._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return sa.credential(t,s)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends cd{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends cd{constructor(){super("twitter.com")}static credential(e,t){return _o._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ra.credential(t,s)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(n,e){return ld(n,"POST","/v1/accounts:signUp",Na(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,i=!1){const a=await Ks._fromIdTokenResponse(e,s,i),l=v1(s);return new wo({user:a,providerId:l,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const i=v1(s);return new wo({user:e,providerId:i,_tokenResponse:s,operationType:t})}}function v1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends wr{constructor(e,t,s,i){super(t.code,t.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,i){return new Lf(e,t,s,i)}}function uT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(n,a,e,s):a})}async function aD(n,e,t=!1){const s=await Vl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(n,e,t=!1){const{auth:s}=n;if(Ms(s.app))return Promise.reject(fr(s));const i="reauthenticate";try{const a=await Vl(n,uT(s,i,e,n),t);Ue(a.idToken,s,"internal-error");const l=_y(a.idToken);Ue(l,s,"internal-error");const{sub:u}=l;return Ue(n.uid===u,s,"user-mismatch"),wo._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Js(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(n,e,t=!1){if(Ms(n.app))return Promise.reject(fr(n));const s="signIn",i=await uT(n,s,e),a=await wo._fromIdTokenResponse(n,s,i);return t||await n._updateCurrentUser(a.user),a}async function lD(n,e){return dT(Ao(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(n){const e=Ao(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cD(n,e,t){if(Ms(n.app))return Promise.reject(fr(n));const s=Ao(n),l=await k0(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&hT(n),d}),u=await wo._fromIdTokenResponse(s,"signIn",l);return await s._updateCurrentUser(u.user),u}function uD(n,e,t){return Ms(n.app)?Promise.reject(fr(n)):lD(gn(n),Zl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hT(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e){return Er(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=gn(n),a={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Vl(s,dD(s.auth,a));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;const u=s.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=s.displayName,u.photoURL=s.photoURL),await s._updateTokensIfNecessary(l)}function hD(n,e,t,s){return gn(n).onIdTokenChanged(e,t,s)}function fD(n,e,t){return gn(n).beforeAuthStateChanged(e,t)}function mD(n,e,t,s){return gn(n).onAuthStateChanged(e,t,s)}function pD(n){return gn(n).signOut()}const Vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e3,yD=10;class mT extends fT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),i=this.localCache[t];s!==i&&e(t,i,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const s=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(s);!t&&this.localCache[s]===l||this.notifyListeners(s,l)},a=this.storage.getItem(s);DI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yD):i()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const xD=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends fT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pT.type="SESSION";const gT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const s=new cm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,a)),d=await bD(u);t.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const f=Sy("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},s);l={messageChannel:i,onMessage(x){const b=x;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function _D(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function wD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ED(){return navigator?.serviceWorker?.controller||null}function TD(){return yT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebaseLocalStorageDb",SD=1,zf="firebaseLocalStorage",bT="fbase_key";class ud{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function um(n,e){return n.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function ND(){const n=indexedDB.deleteDatabase(xT);return new ud(n).toPromise()}function R0(){const n=indexedDB.open(xT,SD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(zf,{keyPath:bT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(zf)?e(s):(s.close(),await ND(),e(await R0()))})})}async function w1(n,e,t){const s=um(n,!0).put({[bT]:e,value:t});return new ud(s).toPromise()}async function AD(n,e){const t=um(n,!1).get(e),s=await new ud(t).toPromise();return s===void 0?null:s.value}function E1(n,e){const t=um(n,!0).delete(e);return new ud(t).toPromise()}const CD=800,kD=3;class vT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>kD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(TD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wD(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ED()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R0();return await w1(e,Vf,"1"),await E1(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>w1(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>AD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>E1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=um(i,!1).getAll();return new ud(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vT.type="LOCAL";const RD=vT;new od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n,e){return e?ur(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends Ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ID(n){return dT(n.auth,new Ny(n),n.bypassAuthState)}function DD(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),oD(t,new Ny(n),n.bypassAuthState)}async function MD(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),aD(t,new Ny(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t,s,i,a=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return MD;case"reauthViaPopup":case"reauthViaRedirect":return DD;default:Js(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new od(2e3,1e4);class kl extends _T{constructor(e,t,s,i,a){super(e,t,i,a),this.provider=s,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OD.get())};e()}}kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="pendingRedirect",xf=new Map;class LD extends _T{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=xf.get(this.auth._key());if(!e){try{const s=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}xf.set(this.auth._key(),e)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(n,e){const t=BD(e),s=UD(n);if(!await s._isAvailable())return!1;const i=await s._get(t)==="true";return await s._remove(t),i}function zD(n,e){xf.set(n._key(),e)}function UD(n){return ur(n._redirectPersistence)}function BD(n){return yf(PD,n.config.apiKey,n.name)}async function FD(n,e,t=!1){if(Ms(n.app))return Promise.reject(fr(n));const s=Ao(n),i=jD(s,e),l=await new LD(s,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=600*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!wT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Si(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$D&&this.cachedEventUids.clear(),this.cachedEventUids.has(T1(e))}saveEventToCache(e){this.cachedEventUids.add(T1(e)),this.lastProcessedEventTime=Date.now()}}function T1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function GD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,e={}){return Er(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YD=/^https?/;async function KD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qD(n);for(const t of e)try{if(XD(t))return}catch{}Js(n,"unauthorized-domain")}function XD(n){const e=A0(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===s}if(!YD.test(t))return!1;if(WD.test(n))return s===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new od(3e4,6e4);function S1(){const n=Ni().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function JD(n){return new Promise((e,t)=>{function s(){S1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S1(),t(Si(n,"network-request-failed"))},timeout:QD.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const i=FI("iframefcb");return Ni()[i]=()=>{gapi.load?s():t(Si(n,"network-request-failed"))},aT(`${BI()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw bf=null,e})}let bf=null;function ZD(n){return bf=bf||JD(n),bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new od(5e3,15e3),t5="__/auth/iframe",n5="emulator/auth/iframe",s5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r5(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vy(e,n5):`https://${n.config.authDomain}/${t5}`,s={apiKey:e.apiKey,appName:n.name,v:Jl},i=i5.get(n.config.apiHost);i&&(s.eid=i);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${ad(s).slice(1)}`}async function a5(n){const e=await ZD(n),t=Ni().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:r5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s5,dontclear:!0},s=>new Promise(async(i,a)=>{await s.restyle({setHideOnLeave:!1});const l=Si(n,"network-request-failed"),u=Ni().setTimeout(()=>{a(l)},e5.get());function d(){Ni().clearTimeout(u),i(s)}s.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l5=500,c5=600,u5="_blank",d5="http://localhost";class N1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h5(n,e,t,s=l5,i=c5){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-s)/2,0).toString();let u="";const d={...o5,width:s.toString(),height:i.toString(),top:a,left:l},f=Bn().toLowerCase();t&&(u=ZE(f)?u5:t),QE(f)&&(e=e||d5,d.scrollbars="yes");const g=Object.entries(d).reduce((b,[E,S])=>`${b}${E}=${S},`,"");if(II(f)&&u!=="_self")return f5(e||"",u),new N1(null);const x=window.open(e||"",u,g);Ue(x,n,"popup-blocked");try{x.focus()}catch{}return new N1(x)}function f5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="__/auth/handler",p5="emulator/auth/handler",g5=encodeURIComponent("fac");async function A1(n,e,t,s,i,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Jl,eventId:i};if(e instanceof cT){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",ej(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,x]of Object.entries({}))l[g]=x}if(e instanceof cd){const g=e.getScopes().filter(x=>x!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const d=await n._getAppCheckToken(),f=d?`#${g5}=${encodeURIComponent(d)}`:"";return`${y5(n)}?${ad(u).slice(1)}${f}`}function y5({config:n}){return n.emulator?vy(n,p5):`https://${n.authDomain}/${m5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="webStorageSupport";class x5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gT,this._completeRedirectFn=FD,this._overrideRedirectResult=zD}async _openPopup(e,t,s,i){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await A1(e,t,s,A0(),i);return h5(e,a,Sy())}async _openRedirect(e,t,s,i){await this._originValidation(e);const a=await A1(e,t,s,A0(),i);return _D(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(yr(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await a5(e),s=new HD(e);return t.register("authEvent",i=>(Ue(i?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wg,{type:Wg},i=>{const a=i?.[0]?.[Wg];a!==void 0&&t(!!a),Js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iT()||JE()||wy()}}const b5=x5;var C1="@firebase/auth",k1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w5(n){Ll(new vo("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=s.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(n)},f=new VI(s,i,a,d);return YI(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ll(new vo("auth-internal",e=>{const t=Ao(e.getProvider("auth").getImmediate());return(s=>new v5(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ma(C1,k1,_5(n)),ma(C1,k1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=300,T5=ME("authIdTokenMaxAge")||E5;let R1=null;const S5=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>T5)return;const i=t?.token;R1!==i&&(R1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function N5(n=UE()){const e=xy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=WI(n,{popupRedirectResolver:b5,persistence:[RD,xD,gT]}),s=ME("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const l=S5(a.toString());fD(t,l,()=>l(t.currentUser)),hD(t,u=>l(u))}}const i=IE("auth");return i&&KI(t,`http://${i}`),t}function A5(){return document.getElementsByTagName("head")?.[0]??document}zI({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=i=>{const a=Si("internal-error");a.customData=i,t(a)},s.type="text/javascript",s.charset="UTF-8",A5().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w5("Browser");var C5="firebase",k5="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma(C5,k5,"app");var j1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pa,ET;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function j(){}j.prototype=R.prototype,A.D=R.prototype,A.prototype=new j,A.prototype.constructor=A,A.C=function(P,V,U){for(var L=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)L[ge-2]=arguments[ge];return R.prototype[V].apply(P,L)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,R,j){j||(j=0);var P=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)P[V]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(V=0;16>V;++V)P[V]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=A.g[0],j=A.g[1],V=A.g[2];var U=A.g[3],L=R+(U^j&(V^U))+P[0]+3614090360&4294967295;R=j+(L<<7&4294967295|L>>>25),L=U+(V^R&(j^V))+P[1]+3905402710&4294967295,U=R+(L<<12&4294967295|L>>>20),L=V+(j^U&(R^j))+P[2]+606105819&4294967295,V=U+(L<<17&4294967295|L>>>15),L=j+(R^V&(U^R))+P[3]+3250441966&4294967295,j=V+(L<<22&4294967295|L>>>10),L=R+(U^j&(V^U))+P[4]+4118548399&4294967295,R=j+(L<<7&4294967295|L>>>25),L=U+(V^R&(j^V))+P[5]+1200080426&4294967295,U=R+(L<<12&4294967295|L>>>20),L=V+(j^U&(R^j))+P[6]+2821735955&4294967295,V=U+(L<<17&4294967295|L>>>15),L=j+(R^V&(U^R))+P[7]+4249261313&4294967295,j=V+(L<<22&4294967295|L>>>10),L=R+(U^j&(V^U))+P[8]+1770035416&4294967295,R=j+(L<<7&4294967295|L>>>25),L=U+(V^R&(j^V))+P[9]+2336552879&4294967295,U=R+(L<<12&4294967295|L>>>20),L=V+(j^U&(R^j))+P[10]+4294925233&4294967295,V=U+(L<<17&4294967295|L>>>15),L=j+(R^V&(U^R))+P[11]+2304563134&4294967295,j=V+(L<<22&4294967295|L>>>10),L=R+(U^j&(V^U))+P[12]+1804603682&4294967295,R=j+(L<<7&4294967295|L>>>25),L=U+(V^R&(j^V))+P[13]+4254626195&4294967295,U=R+(L<<12&4294967295|L>>>20),L=V+(j^U&(R^j))+P[14]+2792965006&4294967295,V=U+(L<<17&4294967295|L>>>15),L=j+(R^V&(U^R))+P[15]+1236535329&4294967295,j=V+(L<<22&4294967295|L>>>10),L=R+(V^U&(j^V))+P[1]+4129170786&4294967295,R=j+(L<<5&4294967295|L>>>27),L=U+(j^V&(R^j))+P[6]+3225465664&4294967295,U=R+(L<<9&4294967295|L>>>23),L=V+(R^j&(U^R))+P[11]+643717713&4294967295,V=U+(L<<14&4294967295|L>>>18),L=j+(U^R&(V^U))+P[0]+3921069994&4294967295,j=V+(L<<20&4294967295|L>>>12),L=R+(V^U&(j^V))+P[5]+3593408605&4294967295,R=j+(L<<5&4294967295|L>>>27),L=U+(j^V&(R^j))+P[10]+38016083&4294967295,U=R+(L<<9&4294967295|L>>>23),L=V+(R^j&(U^R))+P[15]+3634488961&4294967295,V=U+(L<<14&4294967295|L>>>18),L=j+(U^R&(V^U))+P[4]+3889429448&4294967295,j=V+(L<<20&4294967295|L>>>12),L=R+(V^U&(j^V))+P[9]+568446438&4294967295,R=j+(L<<5&4294967295|L>>>27),L=U+(j^V&(R^j))+P[14]+3275163606&4294967295,U=R+(L<<9&4294967295|L>>>23),L=V+(R^j&(U^R))+P[3]+4107603335&4294967295,V=U+(L<<14&4294967295|L>>>18),L=j+(U^R&(V^U))+P[8]+1163531501&4294967295,j=V+(L<<20&4294967295|L>>>12),L=R+(V^U&(j^V))+P[13]+2850285829&4294967295,R=j+(L<<5&4294967295|L>>>27),L=U+(j^V&(R^j))+P[2]+4243563512&4294967295,U=R+(L<<9&4294967295|L>>>23),L=V+(R^j&(U^R))+P[7]+1735328473&4294967295,V=U+(L<<14&4294967295|L>>>18),L=j+(U^R&(V^U))+P[12]+2368359562&4294967295,j=V+(L<<20&4294967295|L>>>12),L=R+(j^V^U)+P[5]+4294588738&4294967295,R=j+(L<<4&4294967295|L>>>28),L=U+(R^j^V)+P[8]+2272392833&4294967295,U=R+(L<<11&4294967295|L>>>21),L=V+(U^R^j)+P[11]+1839030562&4294967295,V=U+(L<<16&4294967295|L>>>16),L=j+(V^U^R)+P[14]+4259657740&4294967295,j=V+(L<<23&4294967295|L>>>9),L=R+(j^V^U)+P[1]+2763975236&4294967295,R=j+(L<<4&4294967295|L>>>28),L=U+(R^j^V)+P[4]+1272893353&4294967295,U=R+(L<<11&4294967295|L>>>21),L=V+(U^R^j)+P[7]+4139469664&4294967295,V=U+(L<<16&4294967295|L>>>16),L=j+(V^U^R)+P[10]+3200236656&4294967295,j=V+(L<<23&4294967295|L>>>9),L=R+(j^V^U)+P[13]+681279174&4294967295,R=j+(L<<4&4294967295|L>>>28),L=U+(R^j^V)+P[0]+3936430074&4294967295,U=R+(L<<11&4294967295|L>>>21),L=V+(U^R^j)+P[3]+3572445317&4294967295,V=U+(L<<16&4294967295|L>>>16),L=j+(V^U^R)+P[6]+76029189&4294967295,j=V+(L<<23&4294967295|L>>>9),L=R+(j^V^U)+P[9]+3654602809&4294967295,R=j+(L<<4&4294967295|L>>>28),L=U+(R^j^V)+P[12]+3873151461&4294967295,U=R+(L<<11&4294967295|L>>>21),L=V+(U^R^j)+P[15]+530742520&4294967295,V=U+(L<<16&4294967295|L>>>16),L=j+(V^U^R)+P[2]+3299628645&4294967295,j=V+(L<<23&4294967295|L>>>9),L=R+(V^(j|~U))+P[0]+4096336452&4294967295,R=j+(L<<6&4294967295|L>>>26),L=U+(j^(R|~V))+P[7]+1126891415&4294967295,U=R+(L<<10&4294967295|L>>>22),L=V+(R^(U|~j))+P[14]+2878612391&4294967295,V=U+(L<<15&4294967295|L>>>17),L=j+(U^(V|~R))+P[5]+4237533241&4294967295,j=V+(L<<21&4294967295|L>>>11),L=R+(V^(j|~U))+P[12]+1700485571&4294967295,R=j+(L<<6&4294967295|L>>>26),L=U+(j^(R|~V))+P[3]+2399980690&4294967295,U=R+(L<<10&4294967295|L>>>22),L=V+(R^(U|~j))+P[10]+4293915773&4294967295,V=U+(L<<15&4294967295|L>>>17),L=j+(U^(V|~R))+P[1]+2240044497&4294967295,j=V+(L<<21&4294967295|L>>>11),L=R+(V^(j|~U))+P[8]+1873313359&4294967295,R=j+(L<<6&4294967295|L>>>26),L=U+(j^(R|~V))+P[15]+4264355552&4294967295,U=R+(L<<10&4294967295|L>>>22),L=V+(R^(U|~j))+P[6]+2734768916&4294967295,V=U+(L<<15&4294967295|L>>>17),L=j+(U^(V|~R))+P[13]+1309151649&4294967295,j=V+(L<<21&4294967295|L>>>11),L=R+(V^(j|~U))+P[4]+4149444226&4294967295,R=j+(L<<6&4294967295|L>>>26),L=U+(j^(R|~V))+P[11]+3174756917&4294967295,U=R+(L<<10&4294967295|L>>>22),L=V+(R^(U|~j))+P[2]+718787259&4294967295,V=U+(L<<15&4294967295|L>>>17),L=j+(U^(V|~R))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(V+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+V&4294967295,A.g[3]=A.g[3]+U&4294967295}s.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var j=R-this.blockSize,P=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=j;)i(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<R;)if(P[V++]=A.charCodeAt(U++),V==this.blockSize){i(this,P),V=0;break}}else for(;U<R;)if(P[V++]=A[U++],V==this.blockSize){i(this,P),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var j=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=j&255,j/=256;for(this.u(A),A=Array(16),R=j=0;4>R;++R)for(var P=0;32>P;P+=8)A[j++]=this.g[R]>>>P&255;return A};function a(A,R){var j=u;return Object.prototype.hasOwnProperty.call(j,A)?j[A]:j[A]=R(A)}function l(A,R){this.h=R;for(var j=[],P=!0,V=A.length-1;0<=V;V--){var U=A[V]|0;P&&U==R||(j[V]=U,P=!1)}this.g=j}var u={};function d(A){return-128<=A&&128>A?a(A,function(R){return new l([R|0],0>R?-1:0)}):new l([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return x;if(0>A)return T(f(-A));for(var R=[],j=1,P=0;A>=j;P++)R[P]=A/j|0,j*=4294967296;return new l(R,0)}function g(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return T(g(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=f(Math.pow(R,8)),P=x,V=0;V<A.length;V+=8){var U=Math.min(8,A.length-V),L=parseInt(A.substring(V,V+U),R);8>U?(U=f(Math.pow(R,U)),P=P.j(U).add(f(L))):(P=P.j(j),P=P.add(f(L)))}return P}var x=d(0),b=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(w(this))return-T(this).m();for(var A=0,R=1,j=0;j<this.g.length;j++){var P=this.i(j);A+=(0<=P?P:4294967296+P)*R,R*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S(this))return"0";if(w(this))return"-"+T(this).toString(A);for(var R=f(Math.pow(A,6)),j=this,P="";;){var V=z(j,R).g;j=k(j,V.j(R));var U=((0<j.g.length?j.g[0]:j.h)>>>0).toString(A);if(j=V,S(j))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function S(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function w(A){return A.h==-1}n.l=function(A){return A=k(this,A),w(A)?-1:S(A)?0:1};function T(A){for(var R=A.g.length,j=[],P=0;P<R;P++)j[P]=~A.g[P];return new l(j,~A.h).add(b)}n.abs=function(){return w(this)?T(this):this},n.add=function(A){for(var R=Math.max(this.g.length,A.g.length),j=[],P=0,V=0;V<=R;V++){var U=P+(this.i(V)&65535)+(A.i(V)&65535),L=(U>>>16)+(this.i(V)>>>16)+(A.i(V)>>>16);P=L>>>16,U&=65535,L&=65535,j[V]=L<<16|U}return new l(j,j[j.length-1]&-2147483648?-1:0)};function k(A,R){return A.add(T(R))}n.j=function(A){if(S(this)||S(A))return x;if(w(this))return w(A)?T(this).j(T(A)):T(T(this).j(A));if(w(A))return T(this.j(T(A)));if(0>this.l(E)&&0>A.l(E))return f(this.m()*A.m());for(var R=this.g.length+A.g.length,j=[],P=0;P<2*R;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<A.g.length;V++){var U=this.i(P)>>>16,L=this.i(P)&65535,ge=A.i(V)>>>16,ue=A.i(V)&65535;j[2*P+2*V]+=L*ue,I(j,2*P+2*V),j[2*P+2*V+1]+=U*ue,I(j,2*P+2*V+1),j[2*P+2*V+1]+=L*ge,I(j,2*P+2*V+1),j[2*P+2*V+2]+=U*ge,I(j,2*P+2*V+2)}for(P=0;P<R;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=R;P<2*R;P++)j[P]=0;return new l(j,0)};function I(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function M(A,R){this.g=A,this.h=R}function z(A,R){if(S(R))throw Error("division by zero");if(S(A))return new M(x,x);if(w(A))return R=z(T(A),R),new M(T(R.g),T(R.h));if(w(R))return R=z(A,T(R)),new M(T(R.g),R.h);if(30<A.g.length){if(w(A)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var j=b,P=R;0>=P.l(A);)j=B(j),P=B(P);var V=$(j,1),U=$(P,1);for(P=$(P,2),j=$(j,2);!S(P);){var L=U.add(P);0>=L.l(A)&&(V=V.add(j),U=L),P=$(P,1),j=$(j,1)}return R=k(A,V.j(R)),new M(V,R)}for(V=x;0<=A.l(R);){for(j=Math.max(1,Math.floor(A.m()/R.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=f(j),L=U.j(R);w(L)||0<L.l(A);)j-=P,U=f(j),L=U.j(R);S(U)&&(U=b),V=V.add(U),A=k(A,L)}return new M(V,A)}n.A=function(A){return z(this,A).h},n.and=function(A){for(var R=Math.max(this.g.length,A.g.length),j=[],P=0;P<R;P++)j[P]=this.i(P)&A.i(P);return new l(j,this.h&A.h)},n.or=function(A){for(var R=Math.max(this.g.length,A.g.length),j=[],P=0;P<R;P++)j[P]=this.i(P)|A.i(P);return new l(j,this.h|A.h)},n.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),j=[],P=0;P<R;P++)j[P]=this.i(P)^A.i(P);return new l(j,this.h^A.h)};function B(A){for(var R=A.g.length+1,j=[],P=0;P<R;P++)j[P]=A.i(P)<<1|A.i(P-1)>>>31;return new l(j,A.h)}function $(A,R){var j=R>>5;R%=32;for(var P=A.g.length-j,V=[],U=0;U<P;U++)V[U]=0<R?A.i(U+j)>>>R|A.i(U+j+1)<<32-R:A.i(U+j);return new l(V,A.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ET=s,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,pa=l}).apply(typeof j1<"u"?j1:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TT,_u,ST,vf,j0,NT,AT,CT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,N){return p==Array.prototype||p==Object.prototype||(p[_]=N.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var _=0;_<p.length;++_){var N=p[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=t(this);function i(p,_){if(_)e:{var N=s;p=p.split(".");for(var O=0;O<p.length-1;O++){var Q=p[O];if(!(Q in N))break e;N=N[Q]}p=p[p.length-1],O=N[p],_=_(O),_!=O&&_!=null&&e(N,p,{configurable:!0,writable:!0,value:_})}}function a(p,_){p instanceof String&&(p+="");var N=0,O=!1,Q={next:function(){if(!O&&N<p.length){var ie=N++;return{value:_(ie,p[ie]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(p){return p||function(){return a(this,function(_,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function f(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,N){return p.call.apply(p.bind,arguments)}function x(p,_,N){if(!p)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),p.apply(_,Q)}}return function(){return p.apply(_,arguments)}}function b(p,_,N){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:x,b.apply(null,arguments)}function E(p,_){var N=Array.prototype.slice.call(arguments,1);return function(){var O=N.slice();return O.push.apply(O,arguments),p.apply(this,O)}}function S(p,_){function N(){}N.prototype=_.prototype,p.aa=_.prototype,p.prototype=new N,p.prototype.constructor=p,p.Qb=function(O,Q,ie){for(var ve=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)ve[mt-2]=arguments[mt];return _.prototype[Q].apply(O,ve)}}function w(p){const _=p.length;if(0<_){const N=Array(_);for(let O=0;O<_;O++)N[O]=p[O];return N}return[]}function T(p,_){for(let N=1;N<arguments.length;N++){const O=arguments[N];if(d(O)){const Q=p.length||0,ie=O.length||0;p.length=Q+ie;for(let ve=0;ve<ie;ve++)p[Q+ve]=O[ve]}else p.push(O)}}class k{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(p){return/^[\s\xa0]*$/.test(p)}function M(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function z(p){return z[" "](p),p}z[" "]=function(){};var B=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function $(p,_,N){for(const O in p)_.call(N,p[O],O,p)}function A(p,_){for(const N in p)_.call(void 0,p[N],N,p)}function R(p){const _={};for(const N in p)_[N]=p[N];return _}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,_){let N,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(N in O)p[N]=O[N];for(let ie=0;ie<j.length;ie++)N=j[ie],Object.prototype.hasOwnProperty.call(O,N)&&(p[N]=O[N])}}function V(p){var _=1;p=p.split(":");const N=[];for(;0<_&&p.length;)N.push(p.shift()),_--;return p.length&&N.push(p.join(":")),N}function U(p){u.setTimeout(()=>{throw p},0)}function L(){var p=Ae;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class ge{constructor(){this.h=this.g=null}add(_,N){const O=ue.get();O.set(_,N),this.h?this.h.next=O:this.g=O,this.h=O}}var ue=new k(()=>new W,p=>p.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,we=!1,Ae=new ge,G=()=>{const p=u.Promise.resolve(void 0);ae=()=>{p.then(ee)}};var ee=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(N){U(N)}var _=ue;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}we=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};u.addEventListener("test",N,_),u.removeEventListener("test",N,_)}catch{}return p}();function xe(p,_){if(re.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var N=this.type=p.type,O=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(B){e:{try{z(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else N=="mouseover"?_=p.fromElement:N=="mouseout"&&(_=p.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:ye[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&xe.aa.h.call(this)}}S(xe,re);var ye={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),be=0;function Ke(p,_,N,O,Q){this.listener=p,this.proxy=null,this.src=_,this.type=N,this.capture=!!O,this.ha=Q,this.key=++be,this.da=this.fa=!1}function qe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Me(p){this.src=p,this.g={},this.h=0}Me.prototype.add=function(p,_,N,O,Q){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var ve=ut(p,_,O,Q);return-1<ve?(_=p[ve],N||(_.fa=!1)):(_=new Ke(_,this.src,ie,!!O,Q),_.fa=N,p.push(_)),_};function Qe(p,_){var N=_.type;if(N in p.g){var O=p.g[N],Q=Array.prototype.indexOf.call(O,_,void 0),ie;(ie=0<=Q)&&Array.prototype.splice.call(O,Q,1),ie&&(qe(_),p.g[N].length==0&&(delete p.g[N],p.h--))}}function ut(p,_,N,O){for(var Q=0;Q<p.length;++Q){var ie=p[Q];if(!ie.da&&ie.listener==_&&ie.capture==!!N&&ie.ha==O)return Q}return-1}var q="closure_lm_"+(1e6*Math.random()|0),X={};function ne(p,_,N,O,Q){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)ne(p,_[ie],N,O,Q);return null}return N=It(N),p&&p[De]?p.K(_,N,f(O)?!!O.capture:!1,Q):Ne(p,_,N,!1,O,Q)}function Ne(p,_,N,O,Q,ie){if(!_)throw Error("Invalid event type");var ve=f(Q)?!!Q.capture:!!Q,mt=Re(p);if(mt||(p[q]=mt=new Me(p)),N=mt.add(_,N,O,ve,ie),N.proxy)return N;if(O=Oe(),N.proxy=O,O.src=p,O.listener=N,p.addEventListener)pe||(Q=ve),Q===void 0&&(Q=!1),p.addEventListener(_.toString(),O,Q);else if(p.attachEvent)p.attachEvent(_e(_.toString()),O);else if(p.addListener&&p.removeListener)p.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Oe(){function p(N){return _.call(p.src,p.listener,N)}const _=tt;return p}function We(p,_,N,O,Q){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)We(p,_[ie],N,O,Q);else O=f(O)?!!O.capture:!!O,N=It(N),p&&p[De]?(p=p.i,_=String(_).toString(),_ in p.g&&(ie=p.g[_],N=ut(ie,N,O,Q),-1<N&&(qe(ie[N]),Array.prototype.splice.call(ie,N,1),ie.length==0&&(delete p.g[_],p.h--)))):p&&(p=Re(p))&&(_=p.g[_.toString()],p=-1,_&&(p=ut(_,N,O,Q)),(N=-1<p?_[p]:null)&&ze(N))}function ze(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[De])Qe(_.i,p);else{var N=p.type,O=p.proxy;_.removeEventListener?_.removeEventListener(N,O,p.capture):_.detachEvent?_.detachEvent(_e(N),O):_.addListener&&_.removeListener&&_.removeListener(O),(N=Re(_))?(Qe(N,p),N.h==0&&(N.src=null,_[q]=null)):qe(p)}}}function _e(p){return p in X?X[p]:X[p]="on"+p}function tt(p,_){if(p.da)p=!0;else{_=new xe(_,this);var N=p.listener,O=p.ha||p.src;p.fa&&ze(p),p=N.call(O,_)}return p}function Re(p){return p=p[q],p instanceof Me?p:null}var ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(p){return typeof p=="function"?p:(p[ft]||(p[ft]=function(_){return p.handleEvent(_)}),p[ft])}function Xe(){fe.call(this),this.i=new Me(this),this.M=this,this.F=null}S(Xe,fe),Xe.prototype[De]=!0,Xe.prototype.removeEventListener=function(p,_,N,O){We(this,p,_,N,O)};function Pe(p,_){var N,O=p.F;if(O)for(N=[];O;O=O.F)N.push(O);if(p=p.M,O=_.type||_,typeof _=="string")_=new re(_,p);else if(_ instanceof re)_.target=_.target||p;else{var Q=_;_=new re(O,p),P(_,Q)}if(Q=!0,N)for(var ie=N.length-1;0<=ie;ie--){var ve=_.g=N[ie];Q=He(ve,O,!0,_)&&Q}if(ve=_.g=p,Q=He(ve,O,!0,_)&&Q,Q=He(ve,O,!1,_)&&Q,N)for(ie=0;ie<N.length;ie++)ve=_.g=N[ie],Q=He(ve,O,!1,_)&&Q}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var N=p.g[_],O=0;O<N.length;O++)qe(N[O]);delete p.g[_],p.h--}}this.F=null},Xe.prototype.K=function(p,_,N,O){return this.i.add(String(p),_,!1,N,O)},Xe.prototype.L=function(p,_,N,O){return this.i.add(String(p),_,!0,N,O)};function He(p,_,N,O){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,ie=0;ie<_.length;++ie){var ve=_[ie];if(ve&&!ve.da&&ve.capture==N){var mt=ve.listener,dn=ve.ha||ve.src;ve.fa&&Qe(p.i,ve),Q=mt.call(dn,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function nt(p,_,N){if(typeof p=="function")N&&(p=b(p,N));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(p,_||0)}function st(p){p.g=nt(()=>{p.g=null,p.i&&(p.i=!1,st(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Gn extends fe{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(p){fe.call(this),this.h=p,this.g={}}S(un,fe);var Bt=[];function Ft(p){$(p.g,function(_,N){this.g.hasOwnProperty(N)&&ze(_)},p),p.g={}}un.prototype.N=function(){un.aa.N.call(this),Ft(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=u.JSON.stringify,qn=u.JSON.parse,Fe=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function vs(){}vs.prototype.h=null;function Us(p){return p.h||(p.h=p.i())}function Tr(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function as(){re.call(this,"d")}S(as,re);function Sr(){re.call(this,"c")}S(Sr,re);var os={},Nr=null;function ni(){return Nr=Nr||new Xe}os.La="serverreachability";function Mi(p){re.call(this,os.La,p)}S(Mi,re);function si(p){const _=ni();Pe(_,new Mi(_))}os.STAT_EVENT="statevent";function jo(p,_){re.call(this,os.STAT_EVENT,p),this.stat=_}S(jo,re);function Dt(p){const _=ni();Pe(_,new jo(_,p))}os.Ma="timingevent";function Yt(p,_){re.call(this,os.Ma,p),this.size=_}S(Yt,re);function Gt(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},_)}function Et(){this.g=!0}Et.prototype.xa=function(){this.g=!1};function yn(p,_,N,O,Q,ie){p.info(function(){if(p.g)if(ie)for(var ve="",mt=ie.split("&"),dn=0;dn<mt.length;dn++){var pt=mt[dn].split("=");if(1<pt.length){var bn=pt[0];pt=pt[1];var hn=bn.split("_");ve=2<=hn.length&&hn[1]=="type"?ve+(bn+"="+pt+"&"):ve+(bn+"=redacted&")}}else ve=null;else ve=ie;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+_+`
`+N+`
`+ve})}function Oi(p,_,N,O,Q,ie,ve){p.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+_+`
`+N+`
`+ie+" "+ve})}function ls(p,_,N,O){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+ka(p,N)+(O?" "+O:"")})}function vd(p,_){p.info(function(){return"TIMEOUT: "+_})}Et.prototype.info=function(){};function ka(p,_){if(!p.g)return _;if(!_)return null;try{var N=JSON.parse(_);if(N){for(p=0;p<N.length;p++)if(Array.isArray(N[p])){var O=N[p];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var ie=Q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ve=1;ve<Q.length;ve++)Q[ve]=""}}}}return dt(N)}catch{return _}}var Ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ii;function ri(){}S(ri,vs),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},ii=new ri;function Wn(p,_,N,O){this.j=p,this.i=_,this.l=N,this.R=O||1,this.U=new un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var dc={},Io={};function Fs(p,_,N){p.L=1,p.v=Ma(cs(_)),p.m=N,p.P=!0,Li(p,null)}function Li(p,_){p.F=Date.now(),Ra(p),p.A=cs(p.v);var N=p.A,O=p.R;Array.isArray(O)||(O=[String(O)]),yc(N.i,"t",O),p.C=0,N=p.j.J,p.h=new Kt,p.g=Pd(p.j,N?_:null,!p.m),0<p.O&&(p.M=new Gn(b(p.Y,p,p.g),p.O)),_=p.U,N=p.g,O=p.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Bt[0]=Q.toString()),Q=Bt);for(var ie=0;ie<Q.length;ie++){var ve=ne(N,Q[ie],O||_.handleEvent,!1,_.h||_);if(!ve)break;_.g[ve.key]=ve}_=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),si(),yn(p.i,p.u,p.A,p.l,p.R,p.m)}Wn.prototype.ca=function(p){p=p.target;const _=this.M;_&&Ts(p)==3?_.j():this.Y(p)},Wn.prototype.Y=function(p){try{if(p==this.g)e:{const hn=Ts(this.g);var _=this.g.Ba();const Gi=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||Cd(this.g)))){this.J||hn!=4||_==7||(_==8||0>=Gi?si(3):si(2)),Cr(this);var N=this.g.Z();this.X=N;t:if(_d(this)){var O=Cd(this.g);p="";var Q=O.length,ie=Ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),ai(this);var ve="";break t}this.h.i=new u.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,p+=this.h.i.decode(O[_],{stream:!(ie&&_==Q-1)});O.length=0,this.h.g+=p,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=N==200,Oi(this.i,this.u,this.A,this.l,this.R,hn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,dn=this.g;if((mt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(mt)){var pt=mt;break t}}pt=null}if(N=pt)ls(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,N);else{this.o=!1,this.s=3,Dt(12),Nn(this),ai(this);break e}}if(this.P){N=!0;let An;for(;!this.J&&this.C<ve.length;)if(An=wd(this,ve),An==Io){hn==4&&(this.s=4,Dt(14),N=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(An==dc){this.s=4,Dt(15),ls(this.i,this.l,ve,"[Invalid Chunk]"),N=!1;break}else ls(this.i,this.l,An,null),ja(this,An);if(_d(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||ve.length!=0||this.h.h||(this.s=1,Dt(16),N=!1),this.o=this.o&&N,!N)ls(this.i,this.l,ve,"[Invalid Chunked Response]"),Nn(this),ai(this);else if(0<ve.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Fa(bn),bn.M=!0,Dt(11))}}else ls(this.i,this.l,ve,null),ja(this,ve);hn==4&&Nn(this),this.o&&!this.J&&(hn==4?Dd(this.j,this):(this.o=!1,Ra(this)))}else Bm(this.g),N==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Nn(this),ai(this)}}}catch{}finally{}};function _d(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function wd(p,_){var N=p.C,O=_.indexOf(`
`,N);return O==-1?Io:(N=Number(_.substring(N,O)),isNaN(N)?dc:(O+=1,O+N>_.length?Io:(_=_.slice(O,O+N),p.C=O+N,_)))}Wn.prototype.cancel=function(){this.J=!0,Nn(this)};function Ra(p){p.S=Date.now()+p.I,Ed(p,p.I)}function Ed(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Gt(b(p.ba,p),_)}function Cr(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Wn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(vd(this.i,this.A),this.L!=2&&(si(),Dt(17)),Nn(this),this.s=2,ai(this)):Ed(this,this.S-p)};function ai(p){p.j.G==0||p.J||Dd(p.j,p)}function Nn(p){Cr(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,Ft(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function ja(p,_){try{var N=p.j;if(N.G!=0&&(N.g==p||hc(N.h,p))){if(!p.K&&hc(N.h,p)&&N.G==3){try{var O=N.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<p.F)Ho(N),Fo(N);else break e;wc(N),Dt(18)}}else N.za=Q[1],0<N.za-N.T&&37500>Q[2]&&N.F&&N.v==0&&!N.C&&(N.C=Gt(b(N.Za,N),6e3));if(1>=Mo(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else Hi(N,11)}else if((p.K||N.g==p)&&Ho(N),!I(_))for(Q=N.Da.g.parse(_),_=0;_<Q.length;_++){let pt=Q[_];if(N.T=pt[0],pt=pt[1],N.G==2)if(pt[0]=="c"){N.K=pt[1],N.ia=pt[2];const bn=pt[3];bn!=null&&(N.la=bn,N.j.info("VER="+N.la));const hn=pt[4];hn!=null&&(N.Aa=hn,N.j.info("SVER="+N.Aa));const Gi=pt[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(O=1.5*Gi,N.L=O,N.j.info("backChannelRequestTimeoutMs_="+O)),O=N;const An=p.g;if(An){const fi=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var ie=O.h;ie.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Oo(ie,ie.h),ie.h=null))}if(O.D){const Tc=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Tc&&(O.ya=Tc,At(O.I,O.D,Tc))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-p.F,N.j.info("Handshake RTT: "+N.R+"ms")),O=N;var ve=p;if(O.qa=Od(O,O.J?O.ia:null,O.W),ve.K){Yn(O.h,ve);var mt=ve,dn=O.L;dn&&(mt.I=dn),mt.B&&(Cr(mt),Ra(mt)),O.g=ve}else jd(O);0<N.i.length&&$o(N)}else pt[0]!="stop"&&pt[0]!="close"||Hi(N,7);else N.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Hi(N,7):vc(N):pt[0]!="noop"&&N.l&&N.l.ta(pt),N.v=0)}}si(4)}catch{}}var Td=class{constructor(p,_){this.g=p,this.map=_}};function Vi(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Do(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Mo(p){return p.h?1:p.g?p.g.size:0}function hc(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Oo(p,_){p.g?p.g.add(_):p.h=_}function Yn(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}Vi.prototype.cancel=function(){if(this.i=fc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function fc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const N of p.g.values())_=_.concat(N.D);return _}return w(p.i)}function Lm(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var _=[],N=p.length,O=0;O<N;O++)_.push(p[O]);return _}_=[],N=0;for(O in p)_[N++]=p[O];return _}function Po(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var _=[];p=p.length;for(var N=0;N<p;N++)_.push(N);return _}_=[],N=0;for(const O in p)_[N++]=O;return _}}}function mc(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var N=Po(p),O=Lm(p),Q=O.length,ie=0;ie<Q;ie++)_.call(void 0,O[ie],N&&N[ie],p)}var Ia=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vm(p,_){if(p){p=p.split("&");for(var N=0;N<p.length;N++){var O=p[N].indexOf("="),Q=null;if(0<=O){var ie=p[N].substring(0,O);Q=p[N].substring(O+1)}else ie=p[N];_(ie,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function tn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof tn){this.h=p.h,Da(this,p.j),this.o=p.o,this.g=p.g,kr(this,p.s),this.l=p.l;var _=p.i,N=new Ui;N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),zi(this,N),this.m=p.m}else p&&(_=String(p).match(Ia))?(this.h=!1,Da(this,_[1]||"",!0),this.o=_s(_[2]||""),this.g=_s(_[3]||"",!0),kr(this,_[4]),this.l=_s(_[5]||"",!0),zi(this,_[6]||"",!0),this.m=_s(_[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}tn.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Oa(_,pc,!0),":");var N=this.g;return(N||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Oa(_,pc,!0),"@"),p.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&p.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(Oa(N,N.charAt(0)=="/"?zm:gc,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",Oa(N,Lo)),p.join("")};function cs(p){return new tn(p)}function Da(p,_,N){p.j=N?_s(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function kr(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function zi(p,_,N){_ instanceof Ui?(p.i=_,Nd(p.i,p.h)):(N||(_=Oa(_,Um)),p.i=new Ui(_,p.h))}function At(p,_,N){p.i.set(_,N)}function Ma(p){return At(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function _s(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Oa(p,_,N){return typeof p=="string"?(p=encodeURI(p).replace(_,Sd),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Sd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var pc=/[#\/\?@]/g,gc=/[#\?:]/g,zm=/[#\?]/g,Um=/[#\?@]/g,Lo=/#/g;function Ui(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function ws(p){p.g||(p.g=new Map,p.h=0,p.i&&Vm(p.i,function(_,N){p.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}n=Ui.prototype,n.add=function(p,_){ws(this),this.i=null,p=oi(this,p);var N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(_),this.h+=1,this};function Bi(p,_){ws(p),_=oi(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Fi(p,_){return ws(p),_=oi(p,_),p.g.has(_)}n.forEach=function(p,_){ws(this),this.g.forEach(function(N,O){N.forEach(function(Q){p.call(_,Q,O,this)},this)},this)},n.na=function(){ws(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),N=[];for(let O=0;O<_.length;O++){const Q=p[O];for(let ie=0;ie<Q.length;ie++)N.push(_[O])}return N},n.V=function(p){ws(this);let _=[];if(typeof p=="string")Fi(this,p)&&(_=_.concat(this.g.get(oi(this,p))));else{p=Array.from(this.g.values());for(let N=0;N<p.length;N++)_=_.concat(p[N])}return _},n.set=function(p,_){return ws(this),this.i=null,p=oi(this,p),Fi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},n.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function yc(p,_,N){Bi(p,_),0<N.length&&(p.i=null,p.g.set(oi(p,_),w(N)),p.h+=N.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var N=0;N<_.length;N++){var O=_[N];const ie=encodeURIComponent(String(O)),ve=this.V(O);for(O=0;O<ve.length;O++){var Q=ie;ve[O]!==""&&(Q+="="+encodeURIComponent(String(ve[O]))),p.push(Q)}}return this.i=p.join("&")};function oi(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Nd(p,_){_&&!p.j&&(ws(p),p.i=null,p.g.forEach(function(N,O){var Q=O.toLowerCase();O!=Q&&(Bi(this,O),yc(this,Q,N))},p)),p.j=_}function Pa(p,_){const N=new Et;if(u.Image){const O=new Image;O.onload=E(Es,N,"TestLoadImage: loaded",!0,_,O),O.onerror=E(Es,N,"TestLoadImage: error",!1,_,O),O.onabort=E(Es,N,"TestLoadImage: abort",!1,_,O),O.ontimeout=E(Es,N,"TestLoadImage: timeout",!1,_,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=p}else _(!1)}function $s(p,_){const N=new Et,O=new AbortController,Q=setTimeout(()=>{O.abort(),Es(N,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:O.signal}).then(ie=>{clearTimeout(Q),ie.ok?Es(N,"TestPingServer: ok",!0,_):Es(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Es(N,"TestPingServer: error",!1,_)})}function Es(p,_,N,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(N)}catch{}}function La(){this.g=new Fe}function li(p,_,N){const O=N||"";try{mc(p,function(Q,ie){let ve=Q;f(Q)&&(ve=dt(Q)),_.push(O+ie+"="+encodeURIComponent(ve))})}catch(Q){throw _.push(O+"type="+encodeURIComponent("_badmap")),Q}}function Rr(p){this.l=p.Ub||null,this.j=p.eb||!1}S(Rr,vs),Rr.prototype.g=function(){return new $i(this.l,this.j)},Rr.prototype.i=function(p){return function(){return p}}({});function $i(p,_){Xe.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S($i,Xe),n=$i.prototype,n.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,ui(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?ci(this):ui(this),this.readyState==3&&xc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,ci(this))},n.Qa=function(p){this.g&&(this.response=p,ci(this))},n.ga=function(){this.g&&ci(this)};function ci(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ui(p)}n.setRequestHeader=function(p,_){this.u.append(p,_)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=_.next();return p.join(`\r
`)};function ui(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function bc(p){let _="";return $(p,function(N,O){_+=O,_+=":",_+=N,_+=`\r
`}),_}function xn(p,_,N){e:{for(O in N){var O=!1;break e}O=!0}O||(N=bc(N),typeof p=="string"?N!=null&&encodeURIComponent(String(N)):At(p,_,N))}function _t(p){Xe.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(_t,Xe);var Vo=/^https?$/i,Va=["POST","PUT"];n=_t.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,_,N,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ii.g(),this.v=this.o?Us(this.o):Us(ii),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(ie){Ad(this,ie);return}if(p=N||"",N=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)N.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ie of O.keys())N.set(ie,O.get(ie));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Va,_,void 0))||O||Q||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ve]of N)this.g.setRequestHeader(ie,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){Ad(this,ie)}};function Ad(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,zo(p),di(p)}function zo(p){p.A||(p.A=!0,Pe(p,"complete"),Pe(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Pe(this,"complete"),Pe(this,"abort"),di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),_t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Uo(this):this.bb())},n.bb=function(){Uo(this)};function Uo(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Ts(p)!=4||p.Z()!=2)){if(p.u&&Ts(p)==4)nt(p.Ea,0,p);else if(Pe(p,"readystatechange"),Ts(p)==4){p.h=!1;try{const ve=p.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var O;if(O=ve===0){var Q=String(p.D).match(Ia)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),O=!Vo.test(Q?Q.toLowerCase():"")}N=O}if(N)Pe(p,"complete"),Pe(p,"success");else{p.m=6;try{var ie=2<Ts(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",zo(p)}}finally{di(p)}}}}function di(p,_){if(p.g){za(p);const N=p.g,O=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||Pe(p,"ready");try{N.onreadystatechange=O}catch{}}}function za(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Ts(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),qn(_)}};function Cd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Bm(p){const _={};p=(p.g&&2<=Ts(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<p.length;O++){if(I(p[O]))continue;var N=V(p[O]);const Q=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=_[Q]||[];_[Q]=ie,ie.push(N)}A(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(p,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||_}function Bo(p){this.Aa=0,this.i=[],this.j=new Et,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,p),this.cb=Ua("retryDelaySeedMs",1e4,p),this.Wa=Ua("forwardChannelMaxRetries",2,p),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(p&&p.concurrentRequestLimit),this.Da=new La,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bo.prototype,n.la=8,n.G=1,n.connect=function(p,_,N,O){Dt(0),this.W=p,this.H=_||{},N&&O!==void 0&&(this.H.OSID=N,this.H.OAID=O),this.F=this.X,this.I=Od(this,null,this.W),$o(this)};function vc(p){if(kd(p),p.G==3){var _=p.U++,N=cs(p.I);if(At(N,"SID",p.K),At(N,"RID",_),At(N,"TYPE","terminate"),Ba(p,N),_=new Wn(p,p.j,_),_.L=2,_.v=Ma(cs(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!N&&u.Image&&(new Image().src=_.v,N=!0),N||(_.g=Pd(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ra(_)}Md(p)}function Fo(p){p.g&&(Fa(p),p.g.cancel(),p.g=null)}function kd(p){Fo(p),p.u&&(u.clearTimeout(p.u),p.u=null),Ho(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function $o(p){if(!Do(p.h)&&!p.s){p.s=!0;var _=p.Ga;ae||G(),we||(ae(),we=!0),Ae.add(_,p),p.B=0}}function Fm(p,_){return Mo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Gt(b(p.Ga,p,_),Ec(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Q=new Wn(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=R(ie),P(ie,this.S)):ie=this.S),this.m!==null||this.O||(Q.H=ie,ie=null),this.P)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var O=this.i[N];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=Rd(this,Q,_),N=cs(this.I),At(N,"RID",p),At(N,"CVER",22),this.D&&At(N,"X-HTTP-Session-Id",this.D),Ba(this,N),ie&&(this.O?_="headers="+encodeURIComponent(String(bc(ie)))+"&"+_:this.m&&xn(N,this.m,ie)),Oo(this.h,Q),this.Ua&&At(N,"TYPE","init"),this.P?(At(N,"$req",_),At(N,"SID","null"),Q.T=!0,Fs(Q,N,null)):Fs(Q,N,_),this.G=2}}else this.G==3&&(p?_c(this,p):this.i.length==0||Do(this.h)||_c(this))};function _c(p,_){var N;_?N=_.l:N=p.U++;const O=cs(p.I);At(O,"SID",p.K),At(O,"RID",N),At(O,"AID",p.T),Ba(p,O),p.m&&p.o&&xn(O,p.m,p.o),N=new Wn(p,p.j,N,p.B+1),p.m===null&&(N.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Rd(p,N,1e3),N.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Oo(p.h,N),Fs(N,O,_)}function Ba(p,_){p.H&&$(p.H,function(N,O){At(_,O,N)}),p.l&&mc({},function(N,O){At(_,O,N)})}function Rd(p,_,N){N=Math.min(p.i.length,N);var O=p.l?b(p.l.Na,p.l,p):null;e:{var Q=p.i;let ie=-1;for(;;){const ve=["count="+N];ie==-1?0<N?(ie=Q[0].g,ve.push("ofs="+ie)):ie=0:ve.push("ofs="+ie);let mt=!0;for(let dn=0;dn<N;dn++){let pt=Q[dn].g;const bn=Q[dn].map;if(pt-=ie,0>pt)ie=Math.max(0,Q[dn].g-100),mt=!1;else try{li(bn,ve,"req"+pt+"_")}catch{O&&O(bn)}}if(mt){O=ve.join("&");break e}}}return p=p.i.splice(0,N),_.D=p,O}function jd(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;ae||G(),we||(ae(),we=!0),Ae.add(_,p),p.v=0}}function wc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Gt(b(p.Fa,p),Ec(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Id(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Gt(b(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Fo(this),Id(this))};function Fa(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Id(p){p.g=new Wn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=cs(p.qa);At(_,"RID","rpc"),At(_,"SID",p.K),At(_,"AID",p.T),At(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&At(_,"TO",p.ja),At(_,"TYPE","xmlhttp"),Ba(p,_),p.m&&p.o&&xn(_,p.m,p.o),p.L&&(p.g.I=p.L);var N=p.g;p=p.ia,N.L=1,N.v=Ma(cs(_)),N.m=null,N.P=!0,Li(N,p)}n.Za=function(){this.C!=null&&(this.C=null,Fo(this),wc(this),Dt(19))};function Ho(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Dd(p,_){var N=null;if(p.g==_){Ho(p),Fa(p),p.g=null;var O=2}else if(hc(p.h,_))N=_.D,Yn(p.h,_),O=1;else return;if(p.G!=0){if(_.o)if(O==1){N=_.m?_.m.length:0,_=Date.now()-_.F;var Q=p.B;O=ni(),Pe(O,new Yt(O,N)),$o(p)}else jd(p);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(O==1&&Fm(p,_)||O==2&&wc(p)))switch(N&&0<N.length&&(_=p.h,_.i=_.i.concat(N)),Q){case 1:Hi(p,5);break;case 4:Hi(p,10);break;case 3:Hi(p,6);break;default:Hi(p,2)}}}function Ec(p,_){let N=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(N*=2),N*_}function Hi(p,_){if(p.j.info("Error code "+_),_==2){var N=b(p.fb,p),O=p.Xa;const Q=!O;O=new tn(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Da(O,"https"),Ma(O),Q?Pa(O.toString(),N):$s(O.toString(),N)}else Dt(2);p.G=0,p.l&&p.l.sa(_),Md(p),kd(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Md(p){if(p.G=0,p.ka=[],p.l){const _=fc(p.h);(_.length!=0||p.i.length!=0)&&(T(p.ka,_),T(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function Od(p,_,N){var O=N instanceof tn?cs(N):new tn(N);if(O.g!="")_&&(O.g=_+"."+O.g),kr(O,O.s);else{var Q=u.location;O=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var ie=new tn(null);O&&Da(ie,O),_&&(ie.g=_),Q&&kr(ie,Q),N&&(ie.l=N),O=ie}return N=p.D,_=p.ya,N&&_&&At(O,N,_),At(O,"VER",p.la),Ba(p,O),O}function Pd(p,_,N){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new _t(new Rr({eb:N})):new _t(p.pa),_.Ha(p.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ld(){}n=Ld.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Go(){}Go.prototype.g=function(p,_){return new Kn(p,_)};function Kn(p,_){Xe.call(this),this.g=new Bo(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!I(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new hi(this)}S(Kn,Xe),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){vc(this.g)},Kn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.u&&(N={},N.__data__=dt(p),p=N);_.i.push(new Td(_.Ya++,p)),_.G==3&&$o(_)},Kn.prototype.N=function(){this.g.l=null,delete this.j,vc(this.g),delete this.g,Kn.aa.N.call(this)};function Vd(p){as.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const N in _){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}S(Vd,as);function zd(){Sr.call(this),this.status=1}S(zd,Sr);function hi(p){this.g=p}S(hi,Ld),hi.prototype.ua=function(){Pe(this.g,"a")},hi.prototype.ta=function(p){Pe(this.g,new Vd(p))},hi.prototype.sa=function(p){Pe(this.g,new zd)},hi.prototype.ra=function(){Pe(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,CT=function(){return new Go},AT=function(){return ni()},NT=os,j0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,vf=Ar,Pi.COMPLETE="complete",ST=Pi,Tr.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,_u=Tr,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,TT=_t}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const I1="@firebase/firestore",D1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new gy("@firebase/firestore");function Sl(){return Eo.logLevel}function Se(n,...e){if(Eo.logLevel<=at.DEBUG){const t=e.map(Ay);Eo.debug(`Firestore (${ec}): ${n}`,...t)}}function xr(n,...e){if(Eo.logLevel<=at.ERROR){const t=e.map(Ay);Eo.error(`Firestore (${ec}): ${n}`,...t)}}function zl(n,...e){if(Eo.logLevel<=at.WARN){const t=e.map(Ay);Eo.warn(`Firestore (${ec}): ${n}`,...t)}}function Ay(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,kT(n,s,t)}function kT(n,e,t){let s=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw xr(s),new Error(s)}function wt(n,e,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,n||kT(e,i,s)}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vn.UNAUTHENTICATED))}shutdown(){}}class j5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class I5{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wt(this.o===void 0,42304);let s=this.i;const i=d=>this.i!==s?(s=this.i,t(d)):Promise.resolve();let a=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new mr,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new mr)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wt(typeof s.accessToken=="string",31837,{l:s}),new RT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class D5{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M5{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new D5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ms(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wt(this.o===void 0,3512);const s=a=>{a.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const i=a=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new M1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=P5(40);for(let a=0;a<i.length;++a)s.length<20&&i[a]<t&&(s+=e.charAt(i[a]%62))}return s}}function ot(n,e){return n<e?-1:n>e?1:0}function I0(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const i=n.charAt(s),a=e.charAt(s);if(i!==a)return Yg(i)===Yg(a)?ot(i,a):Yg(i)?1:-1}return ot(n.length,e.length)}const L5=55296,V5=57343;function Yg(n){const e=n.charCodeAt(0);return e>=L5&&e<=V5}function Ul(n,e,t){return n.length===e.length&&n.every((s,i)=>t(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="__name__";class wi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Be(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let i=0;i<s;i++){const a=wi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return ot(e.length,t.length)}static compareSegments(e,t){const s=wi.isNumericId(e),i=wi.isNumericId(t);return s&&!i?-1:!s&&i?1:s&&i?wi.extractNumericId(e).compare(wi.extractNumericId(t)):I0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pa.fromString(e.substring(4,e.length-2))}}class Ot extends wi{construct(e,t,s){return new Ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Te(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(i=>i.length>0))}return new Ot(t)}static emptyPath(){return new Ot([])}}const z5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends wi{construct(e,t,s){return new In(e,t,s)}static isValidIdentifier(e){return z5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O1}static keyField(){return new In([O1])}static fromServerFormat(e){const t=[];let s="",i=0;const a=()=>{if(s.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Te(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Te(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(s+=u,i++):(a(),i++)}if(a(),l)throw new Te(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(t)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ot.fromString(e))}static fromName(e){return new Ie(Ot.fromString(e).popFirst(5))}static empty(){return new Ie(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e,t){if(!t)throw new Te(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U5(n,e,t,s){if(e===!0&&s===!0)throw new Te(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function P1(n){if(!Ie.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function L1(n){if(Ie.isDocumentKey(n))throw new Te(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function IT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function dm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function br(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dm(n);throw new Te(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(n,e){const t={typeString:n};return e&&(t.value=e),t}function dd(n,e){if(!IT(n))throw new Te(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const i=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const l=n[s];if(i&&typeof l!==i){t=`JSON field '${s}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${s}' field to equal '${a.value}'`;break}}if(t)throw new Te(ce.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=-62135596800,z1=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*z1);return new Vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<V1)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z1}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dd(e,Vt._jsonSchema))return new Vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-V1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vt._jsonSchemaVersion="firestore/timestamp/1.0",Vt._jsonSchema={type:ln("string",Vt._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Vt(0,0))}static max(){return new Ge(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;function B5(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(s===1e9?new Vt(t+1,0):new Vt(t,s));return new ba(i,Ie.empty(),e)}function F5(n){return new ba(n.readTime,n.key,Fu)}class ba{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ba(Ge.min(),Ie.empty(),Fu)}static max(){return new ba(Ge.max(),Ie.empty(),Fu)}}function $5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==H5)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((s,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(s,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,s)=>{t(e)})}static reject(e){return new he((t,s)=>{s(e)})}static waitFor(e){return new he((t,s)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},d=>s(d))}),l=!0,a===i&&t()})}static or(e){let t=he.resolve(!1);for(const s of e)t=t.next(i=>i?he.resolve(i):s());return t}static forEach(e,t){const s=[];return e.forEach((i,a)=>{s.push(t.call(this,i,a))}),this.waitFor(s)}static mapArray(e,t){return new he((s,i)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;t(e[f]).next(g=>{l[f]=g,++u,u===a&&s(l)},g=>i(g))}})}static doWhile(e,t){return new he((s,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):s()};a()})}}function q5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-1;function fm(n){return n==null}function Uf(n){return n===0&&1/n==-1/0}function W5(n){return typeof n=="number"&&Number.isInteger(n)&&!Uf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="";function Y5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U1(e)),e=K5(n.get(t),e);return U1(e)}function K5(n,e){let t=e;const s=n.length;for(let i=0;i<s;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case DT:t+="";break;default:t+=a}}return t}function U1(n){return n+DT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.comparator=e,this.root=t||jn.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return t+s.left.size;i<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $h(this.root,e,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $h(this.root,e,this.comparator,!0)}}class $h{constructor(e,t,s,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,t,s,i,a){this.key=e,this.value=t,this.color=s??jn.RED,this.left=i??jn.EMPTY,this.right=a??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,i,a){return new jn(e??this.key,t??this.value,s??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let i=this;const a=s(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,s),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return jn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,s,i,a){return this}insert(e,t,s){return new jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F1(this.data.getIterator())}getIteratorFrom(e){return new F1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=s.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pn(this.comparator);return t.data=e,t}}class F1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new xs([])}unionWith(e){let t=new pn(In.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ul(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new OT("Invalid base64 string: "+a):a}}(e);return new Dn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let i=0;i<t.length;i++)s[i]=t.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const X5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(n){if(wt(!!n,39018),typeof n=="string"){let e=0;const t=X5.exec(n);if(wt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Jt(n.seconds),nanos:Jt(n.nanos)}}function Jt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _a(n){return typeof n=="string"?Dn.fromBase64String(n):Dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="server_timestamp",LT="__type__",VT="__previous_value__",zT="__local_write_time__";function Ry(n){return(n?.mapValue?.fields||{})[LT]?.stringValue===PT}function mm(n){const e=n.mapValue.fields[VT];return Ry(e)?mm(e):e}function $u(n){const e=va(n.mapValue.fields[zT].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,t,s,i,a,l,u,d,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=g}}const Bf="(default)";class Hu{constructor(e,t){this.projectId=e,this.database=t||Bf}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="__type__",J5="__max__",Hh={mapValue:{}},BT="__vector__",Ff="value";function wa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ry(n)?4:e6(n)?9007199254740991:Z5(n)?10:11:Be(28295,{value:n})}function Ii(n,e){if(n===e)return!0;const t=wa(n);if(t!==wa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $u(n).isEqual($u(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=va(i.timestampValue),u=va(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return _a(i.bytesValue).isEqual(_a(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Jt(i.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Jt(i.integerValue)===Jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Jt(i.doubleValue),u=Jt(a.doubleValue);return l===u?Uf(l)===Uf(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Ul(n.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(B1(l)!==B1(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ii(l[d],u[d])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function Gu(n,e){return(n.values||[]).find(t=>Ii(t,e))!==void 0}function Bl(n,e){if(n===e)return 0;const t=wa(n),s=wa(e);if(t!==s)return ot(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Jt(a.integerValue||a.doubleValue),d=Jt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return $1(n.timestampValue,e.timestampValue);case 4:return $1($u(n),$u(e));case 5:return I0(n.stringValue,e.stringValue);case 6:return function(a,l){const u=_a(a),d=_a(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const g=ot(u[f],d[f]);if(g!==0)return g}return ot(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=ot(Jt(a.latitude),Jt(l.latitude));return u!==0?u:ot(Jt(a.longitude),Jt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return H1(n.arrayValue,e.arrayValue);case 10:return function(a,l){const u=a.fields||{},d=l.fields||{},f=u[Ff]?.arrayValue,g=d[Ff]?.arrayValue,x=ot(f?.values?.length||0,g?.values?.length||0);return x!==0?x:H1(f,g)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Hh.mapValue&&l===Hh.mapValue)return 0;if(a===Hh.mapValue)return 1;if(l===Hh.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=l.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let x=0;x<d.length&&x<g.length;++x){const b=I0(d[x],g[x]);if(b!==0)return b;const E=Bl(u[d[x]],f[g[x]]);if(E!==0)return E}return ot(d.length,g.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{he:t})}}function $1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ot(n,e);const t=va(n),s=va(e),i=ot(t.seconds,s.seconds);return i!==0?i:ot(t.nanos,s.nanos)}function H1(n,e){const t=n.values||[],s=e.values||[];for(let i=0;i<t.length&&i<s.length;++i){const a=Bl(t[i],s[i]);if(a)return a}return ot(t.length,s.length)}function Fl(n){return D0(n)}function D0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=va(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _a(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",i=!0;for(const a of t.values||[])i?i=!1:s+=",",s+=D0(a);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of s)a?a=!1:i+=",",i+=`${l}:${D0(t.fields[l])}`;return i+"}"}(n.mapValue):Be(61005,{value:n})}function _f(n){switch(wa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mm(n);return e?16+_f(e):16;case 5:return 2*n.stringValue.length;case 6:return _a(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,a)=>i+_f(a),0)}(n.arrayValue);case 10:case 11:return function(s){let i=0;return Aa(s.fields,(a,l)=>{i+=a.length+_f(l)}),i}(n.mapValue);default:throw Be(13486,{value:n})}}function G1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function M0(n){return!!n&&"integerValue"in n}function jy(n){return!!n&&"arrayValue"in n}function q1(n){return!!n&&"nullValue"in n}function W1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wf(n){return!!n&&"mapValue"in n}function Z5(n){return(n?.mapValue?.fields||{})[UT]?.stringValue===BT}function Ru(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ru(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ru(n.arrayValue.values[t]);return e}return{...n}}function e6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===J5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(t)}setAll(e){let t=In.emptyPath(),s={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,s,i),s={},i=[],t=u.popLast()}l?s[u.lastSegment()]=Ru(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,s,i)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=t.mapValue.fields[e.get(s)];wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,s){Aa(t,(i,a)=>e[i]=a);for(const i of s)delete e[i]}clone(){return new ns(Ru(this.value))}}function FT(n){const e=[];return Aa(n.fields,(t,s)=>{const i=new In([t]);if(wf(s)){const a=FT(s.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new xs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t,s,i,a,l,u){this.key=e,this.documentType=t,this.version=s,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new zn(e,0,Ge.min(),Ge.min(),Ge.min(),ns.empty(),0)}static newFoundDocument(e,t,s,i){return new zn(e,1,t,Ge.min(),s,i,0)}static newNoDocument(e,t){return new zn(e,2,t,Ge.min(),Ge.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,Ge.min(),Ge.min(),ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.position=e,this.inclusive=t}}function Y1(n,e,t){let s=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?s=Ie.comparator(Ie.fromName(l.referenceValue),t.key):s=Bl(l,t.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function K1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ii(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t="asc"){this.field=e,this.dir=t}}function t6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{}class on extends $T{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new s6(e,t,s):t==="array-contains"?new a6(e,s):t==="in"?new o6(e,s):t==="not-in"?new l6(e,s):t==="array-contains-any"?new c6(e,s):new on(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new i6(e,s):new r6(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bl(t,this.value)):t!==null&&wa(this.value)===wa(t)&&this.matchesComparison(Bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zs extends $T{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zs(e,t)}matches(e){return HT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HT(n){return n.op==="and"}function GT(n){return n6(n)&&HT(n)}function n6(n){for(const e of n.filters)if(e instanceof Zs)return!1;return!0}function O0(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+Fl(n.value);if(GT(n))return n.filters.map(e=>O0(e)).join(",");{const e=n.filters.map(t=>O0(t)).join(",");return`${n.op}(${e})`}}function qT(n,e){return n instanceof on?function(s,i){return i instanceof on&&s.op===i.op&&s.field.isEqual(i.field)&&Ii(s.value,i.value)}(n,e):n instanceof Zs?function(s,i){return i instanceof Zs&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((a,l,u)=>a&&qT(l,i.filters[u]),!0):!1}(n,e):void Be(19439)}function WT(n){return n instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${Fl(t.value)}`}(n):n instanceof Zs?function(t){return t.op.toString()+" {"+t.getFilters().map(WT).join(" ,")+"}"}(n):"Filter"}class s6 extends on{constructor(e,t,s){super(e,t,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class i6 extends on{constructor(e,t){super(e,"in",t),this.keys=YT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r6 extends on{constructor(e,t){super(e,"not-in",t),this.keys=YT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YT(n,e){return(e.arrayValue?.values||[]).map(t=>Ie.fromName(t.referenceValue))}class a6 extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jy(t)&&Gu(t.arrayValue,this.value)}}class o6 extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gu(this.value.arrayValue,t)}}class l6 extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gu(this.value.arrayValue,t)}}class c6 extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,t=null,s=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function X1(n,e=null,t=[],s=[],i=null,a=null,l=null){return new u6(n,e,t,s,i,a,l)}function Iy(n){const e=Ye(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>O0(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),fm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Fl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Fl(s)).join(",")),e.Te=t}return e.Te}function Dy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!K1(n.startAt,e.startAt)&&K1(n.endAt,e.endAt)}function P0(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t=null,s=[],i=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d6(n,e,t,s,i,a,l,u){return new hd(n,e,t,s,i,a,l,u)}function My(n){return new hd(n)}function Q1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KT(n){return n.collectionGroup!==null}function ju(n){const e=Ye(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new pn(In.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Hf(a,s))}),t.has(In.keyField().canonicalString())||e.Ie.push(new Hf(In.keyField(),s))}return e.Ie}function Ai(n){const e=Ye(n);return e.Ee||(e.Ee=h6(e,ju(n))),e.Ee}function h6(n,e){if(n.limitType==="F")return X1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Hf(i.field,a)});const t=n.endAt?new $f(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new $f(n.startAt.position,n.startAt.inclusive):null;return X1(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function L0(n,e){const t=n.filters.concat([e]);return new hd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function V0(n,e,t){return new hd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function pm(n,e){return Dy(Ai(n),Ai(e))&&n.limitType===e.limitType}function XT(n){return`${Iy(Ai(n))}|lt:${n.limitType}`}function Nl(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(i=>WT(i)).join(", ")}]`),fm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(i=>Fl(i)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(i=>Fl(i)).join(",")),`Target(${s})`}(Ai(n))}; limitType=${n.limitType})`}function gm(n,e){return e.isFoundDocument()&&function(s,i){const a=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):Ie.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(n,e)&&function(s,i){for(const a of ju(s))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(s,i){for(const a of s.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(s,i){return!(s.startAt&&!function(l,u,d){const f=Y1(l,u,d);return l.inclusive?f<=0:f<0}(s.startAt,ju(s),i)||s.endAt&&!function(l,u,d){const f=Y1(l,u,d);return l.inclusive?f>=0:f>0}(s.endAt,ju(s),i))}(n,e)}function f6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QT(n){return(e,t)=>{let s=!1;for(const i of ju(n)){const a=m6(i,e,t);if(a!==0)return a;s=s||i.field.isKeyField()}return 0}}function m6(n,e,t){const s=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(a,l,u){const d=l.data.field(a),f=u.data.field(a);return d!==null&&f!==null?Bl(d,f):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[i,a]of s)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[t]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(t,s)=>{for(const[i,a]of s)e(i,a)})}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new Ht(Ie.comparator);function vr(){return p6}const JT=new Ht(Ie.comparator);function wu(...n){let e=JT;for(const t of n)e=e.insert(t.key,t);return e}function ZT(n){let e=JT;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ho(){return Iu()}function eS(){return Iu()}function Iu(){return new Co(n=>n.toString(),(n,e)=>n.isEqual(e))}const g6=new Ht(Ie.comparator),y6=new pn(Ie.comparator);function ct(...n){let e=y6;for(const t of n)e=e.add(t);return e}const x6=new pn(ot);function b6(){return x6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uf(e)?"-0":e}}function tS(n){return{integerValue:""+n}}function nS(n,e){return W5(e)?tS(e):Oy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this._=void 0}}function v6(n,e,t){return n instanceof qu?function(i,a){const l={fields:{[LT]:{stringValue:PT},[zT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ry(a)&&(a=mm(a)),a&&(l.fields[VT]=a),{mapValue:l}}(t,e):n instanceof $l?iS(n,e):n instanceof Wu?rS(n,e):function(i,a){const l=sS(i,a),u=J1(l)+J1(i.Ae);return M0(l)&&M0(i.Ae)?tS(u):Oy(i.serializer,u)}(n,e)}function _6(n,e,t){return n instanceof $l?iS(n,e):n instanceof Wu?rS(n,e):t}function sS(n,e){return n instanceof Yu?function(s){return M0(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class qu extends ym{}class $l extends ym{constructor(e){super(),this.elements=e}}function iS(n,e){const t=aS(e);for(const s of n.elements)t.some(i=>Ii(i,s))||t.push(s);return{arrayValue:{values:t}}}class Wu extends ym{constructor(e){super(),this.elements=e}}function rS(n,e){let t=aS(e);for(const s of n.elements)t=t.filter(i=>!Ii(i,s));return{arrayValue:{values:t}}}class Yu extends ym{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function J1(n){return Jt(n.integerValue||n.doubleValue)}function aS(n){return jy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t){this.field=e,this.transform=t}}function w6(n,e){return n.field.isEqual(e.field)&&function(s,i){return s instanceof $l&&i instanceof $l||s instanceof Wu&&i instanceof Wu?Ul(s.elements,i.elements,Ii):s instanceof Yu&&i instanceof Yu?Ii(s.Ae,i.Ae):s instanceof qu&&i instanceof qu}(n.transform,e.transform)}class E6{constructor(e,t){this.version=e,this.transformResults=t}}class Ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xm{}function oS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cS(n.key,Ci.none()):new fd(n.key,n.data,Ci.none());{const t=n.data,s=ns.empty();let i=new pn(In.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?s.delete(a):s.set(a,l),i=i.add(a)}return new Ca(n.key,s,new xs(i.toArray()),Ci.none())}}function T6(n,e,t){n instanceof fd?function(i,a,l){const u=i.value.clone(),d=ew(i.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ca?function(i,a,l){if(!Ef(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=ew(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(lS(i)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Du(n,e,t,s){return n instanceof fd?function(a,l,u,d){if(!Ef(a.precondition,l))return u;const f=a.value.clone(),g=tw(a.fieldTransforms,d,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ca?function(a,l,u,d){if(!Ef(a.precondition,l))return u;const f=tw(a.fieldTransforms,d,l),g=l.data;return g.setAll(lS(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(x=>x.field))}(n,e,t,s):function(a,l,u){return Ef(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function S6(n,e){let t=null;for(const s of n.fieldTransforms){const i=e.data.field(s.field),a=sS(s.transform,i||null);a!=null&&(t===null&&(t=ns.empty()),t.set(s.field,a))}return t||null}function Z1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Ul(s,i,(a,l)=>w6(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fd extends xm{constructor(e,t,s,i=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ca extends xm{constructor(e,t,s,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function ew(n,e,t){const s=new Map;wt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);s.set(a.field,_6(l,u,t[i]))}return s}function tw(n,e,t){const s=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);s.set(i.field,v6(a,l,e))}return s}class cS extends xm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N6 extends xm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,t,s,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&T6(a,e,s[i])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Du(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Du(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=eS();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const d=oS(l,u);d!==null&&s.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ge.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ct())}isEqual(e){return this.batchId===e.batchId&&Ul(this.mutations,e.mutations,(t,s)=>Z1(t,s))&&Ul(this.baseMutations,e.baseMutations,(t,s)=>Z1(t,s))}}class Ly{constructor(e,t,s,i){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=i}static from(e,t,s){wt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return g6}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,s[l].version);return new Ly(e,t,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,yt;function R6(n){switch(n){case ce.OK:return Be(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function uS(n){if(n===void 0)return xr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case an.OK:return ce.OK;case an.CANCELLED:return ce.CANCELLED;case an.UNKNOWN:return ce.UNKNOWN;case an.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case an.INTERNAL:return ce.INTERNAL;case an.UNAVAILABLE:return ce.UNAVAILABLE;case an.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case an.NOT_FOUND:return ce.NOT_FOUND;case an.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case an.ABORTED:return ce.ABORTED;case an.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case an.DATA_LOSS:return ce.DATA_LOSS;default:return Be(39323,{code:n})}}(yt=an||(an={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new pa([4294967295,4294967295],0);function nw(n){const e=j6().encode(n),t=new ET;return t.update(e),new Uint8Array(t.digest())}function sw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new pa([t,s],0),new pa([i,a],0)]}class Vy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Eu(`Invalid padding: ${t}`);if(s<0)throw new Eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=pa.fromNumber(this.ge)}ye(e,t,s){let i=e.add(t.multiply(pa.fromNumber(s)));return i.compare(I6)===1&&(i=new pa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=nw(e),[s,i]=sw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(s,i,a);if(!this.we(l))return!1}return!0}static create(e,t,s){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Vy(a,i,t);return s.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const t=nw(e),[s,i]=sw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(s,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t,s,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const i=new Map;return i.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new bm(Ge.min(),i,new Ht(ot),vr(),ct())}}class md{constructor(e,t,s,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new md(s,t,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t,s,i){this.be=e,this.removedTargetIds=t,this.key=s,this.De=i}}class dS{constructor(e,t){this.targetId=e,this.Ce=t}}class hS{constructor(e,t,s=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=i}}class iw{constructor(){this.ve=0,this.Fe=rw(),this.Me=Dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),t=ct(),s=ct();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:s=s.add(i);break;default:Be(38017,{changeType:a})}}),new md(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=rw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class D6{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=Gh(),this.He=Gh(),this.Ye=new Ht(ot)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,s=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(P0(a))if(s===0){const l=new Ie(a.path);this.et(t,l,zn.newNoDocument(l,Ge.min()))}else wt(s===1,20013,{expectedCount:s});else{const l=this._t(t);if(l!==s){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=_a(s).toUint8Array()}catch(d){if(d instanceof OT)return zl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Vy(l,i,a)}catch(d){return zl(d instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let i=0;return s.forEach(a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((a,l)=>{const u=this.ot(l);if(u){if(a.current&&P0(u.target)){const d=new Ie(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,zn.newNoDocument(d,e))}a.Be&&(t.set(l,a.ke()),a.qe())}});let s=ct();this.He.forEach((a,l)=>{let u=!0;l.forEachWhile(d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(s=s.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const i=new bm(e,t,this.Ye,this.je,s);return this.je=vr(),this.Je=Gh(),this.He=Gh(),this.Ye=new Ht(ot),i}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new iw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new pn(ot),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new pn(ot),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iw),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Gh(){return new Ht(Ie.comparator)}function rw(){return new Ht(Ie.comparator)}const M6={asc:"ASCENDING",desc:"DESCENDING"},O6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P6={and:"AND",or:"OR"};class L6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function z0(n,e){return n.useProto3Json||fm(e)?e:{value:e}}function Gf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function V6(n,e){return Gf(n,e.toTimestamp())}function ki(n){return wt(!!n,49232),Ge.fromTimestamp(function(t){const s=va(t);return new Vt(s.seconds,s.nanos)}(n))}function zy(n,e){return U0(n,e).canonicalString()}function U0(n,e){const t=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mS(n){const e=Ot.fromString(n);return wt(bS(e),10190,{key:e.toString()}),e}function B0(n,e){return zy(n.databaseId,e.path)}function Kg(n,e){const t=mS(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(gS(t))}function pS(n,e){return zy(n.databaseId,e)}function z6(n){const e=mS(n);return e.length===4?Ot.emptyPath():gS(e)}function F0(n){return new Ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function gS(n){return wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function aw(n,e,t){return{name:B0(n,e),fields:t.value.mapValue.fields}}function U6(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Be(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,g){return f.useProto3Json?(wt(g===void 0||typeof g=="string",58123),Dn.fromBase64String(g||"")):(wt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Dn.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const g=f.code===void 0?ce.UNKNOWN:uS(f.code);return new Te(g,f.message||"")}(l);t=new hS(s,i,a,u||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Kg(n,s.document.name),a=ki(s.document.updateTime),l=s.document.createTime?ki(s.document.createTime):Ge.min(),u=new ns({mapValue:{fields:s.document.fields}}),d=zn.newFoundDocument(i,a,l,u),f=s.targetIds||[],g=s.removedTargetIds||[];t=new Tf(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Kg(n,s.document),a=s.readTime?ki(s.readTime):Ge.min(),l=zn.newNoDocument(i,a),u=s.removedTargetIds||[];t=new Tf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Kg(n,s.document),a=s.removedTargetIds||[];t=new Tf([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:a}=s,l=new k6(i,a),u=s.targetId;t=new dS(u,l)}}return t}function B6(n,e){let t;if(e instanceof fd)t={update:aw(n,e.key,e.value)};else if(e instanceof cS)t={delete:B0(n,e.key)};else if(e instanceof Ca)t={update:aw(n,e.key,e.data),updateMask:X6(e.fieldMask)};else{if(!(e instanceof N6))return Be(16599,{Vt:e.type});t={verify:B0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const u=l.transform;if(u instanceof qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof $l)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Yu)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Be(20930,{transform:l.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:V6(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(n,e.precondition)),t}function F6(n,e){return n&&n.length>0?(wt(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?ki(i.updateTime):ki(a);return l.isEqual(Ge.min())&&(l=ki(a)),new E6(l,i.transformResults||[])}(t,e))):[]}function $6(n,e){return{documents:[pS(n,e.path)]}}function H6(n,e){const t={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=pS(n,i);const a=function(f){if(f.length!==0)return xS(Zs.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(f){if(f.length!==0)return f.map(g=>function(b){return{field:Al(b.field),direction:W6(b.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=z0(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:t,parent:i}}function G6(n){let e=z6(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let i=null;if(s>0){wt(s===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(x){const b=yS(x);return b instanceof Zs&&GT(b)?b.getFilters():[b]}(t.where));let l=[];t.orderBy&&(l=function(x){return x.map(b=>function(S){return new Hf(Cl(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(b))}(t.orderBy));let u=null;t.limit&&(u=function(x){let b;return b=typeof x=="object"?x.value:x,fm(b)?null:b}(t.limit));let d=null;t.startAt&&(d=function(x){const b=!!x.before,E=x.values||[];return new $f(E,b)}(t.startAt));let f=null;return t.endAt&&(f=function(x){const b=!x.before,E=x.values||[];return new $f(E,b)}(t.endAt)),d6(e,i,l,a,u,"F",d,f)}function q6(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Cl(t.unaryFilter.field);return on.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Cl(t.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Cl(t.unaryFilter.field);return on.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Cl(t.unaryFilter.field);return on.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return on.create(Cl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Zs.create(t.compositeFilter.filters.map(s=>yS(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function W6(n){return M6[n]}function Y6(n){return O6[n]}function K6(n){return P6[n]}function Al(n){return{fieldPath:n.canonicalString()}}function Cl(n){return In.fromServerFormat(n.fieldPath)}function xS(n){return n instanceof on?function(t){if(t.op==="=="){if(W1(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NAN"}};if(q1(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(W1(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NAN"}};if(q1(t.value))return{unaryFilter:{field:Al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(t.field),op:Y6(t.op),value:t.value}}}(n):n instanceof Zs?function(t){const s=t.getFilters().map(i=>xS(i));return s.length===1?s[0]:{compositeFilter:{op:K6(t.op),filters:s}}}(n):Be(54877,{filter:n})}function X6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t,s,i,a=Ge.min(),l=Ge.min(),u=Dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.yt=e}}function J6(n){const e=G6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?V0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.Cn=new eM}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(ba.min())}updateCollectionGroup(e,t,s){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class eM{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t]||new pn(Ot.comparator),a=!i.has(s);return this.index[t]=i.add(s),a}has(e){const t=e.lastSegment(),s=e.popLast(),i=this.index[t];return i&&i.has(s)}getEntries(e){return(this.index[e]||new pn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class ts{static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(vS,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hl(0)}static cr(){return new Hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="LruGarbageCollector",tM=1048576;function cw([n,e],[t,s]){const i=ot(n,t);return i===0?ot(e,s):i}class nM{constructor(e){this.Ir=e,this.buffer=new pn(cw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();cw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sM{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Se(lw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nc(t)?Se(lw,"Ignoring IndexedDB error during garbage collection: ",t):await tc(t)}await this.Vr(3e5)})}}class iM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return he.resolve(hm.ce);const s=new nM(t);return this.mr.forEachTarget(e,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(ow)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ow):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,i,a,l,u,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(s=x,u=Date.now(),this.removeTargets(e,s,t))).next(x=>(a=x,d=Date.now(),this.removeOrphanedDocuments(e,s))).next(x=>(f=Date.now(),Sl()<=at.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${x} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}function rM(n,e){return new iM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.changes=new Co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?he.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t,s,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(s!==null&&Du(s.mutation,i,xs.empty(),Vt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ct()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ct()){const i=ho();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,s).next(a=>{let l=wu();return a.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const s=ho();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ct()))}populateOverlays(e,t,s){const i=[];return s.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,s,i){let a=vr();const l=Iu(),u=function(){return Iu()}();return t.forEach((d,f)=>{const g=s.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Ca)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Du(g.mutation,f,g.mutation.getFieldMask(),Vt.now())):l.set(f.key,xs.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,g)=>l.set(f,g)),t.forEach((f,g)=>u.set(f,new oM(g,l.get(f)??null))),u))}recalculateAndSaveOverlays(e,t){const s=Iu();let i=new Ht((l,u)=>l-u),a=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=s.get(d)||xs.empty();g=u.applyToLocalView(f,g),s.set(d,g);const x=(i.get(u.batchId)||ct()).add(d);i=i.insert(u.batchId,x)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,g=d.value,x=eS();g.forEach(b=>{if(!a.has(b)){const E=oS(t.get(b),s.get(b));E!==null&&x.set(b,E),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,x))}return he.waitFor(l)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,i){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,i):this.getDocumentsMatchingCollectionQuery(e,t,s,i)}getNextDocuments(e,t,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,i-a.size):he.resolve(ho());let u=Fu,d=a;return l.next(f=>he.forEach(f,(g,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),a.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next(b=>{d=d.insert(g,b)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,ct())).next(g=>({batchId:u,changes:ZT(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(s=>{let i=wu();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,s,i){const a=t.collectionGroup;let l=wu();return this.indexManager.getCollectionParents(e,a).next(u=>he.forEach(u,d=>{const f=function(x,b){return new hd(b,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,s,i).next(g=>{g.forEach((x,b)=>{l=l.insert(x,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a,i))).next(l=>{a.forEach((d,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,zn.newInvalidDocument(g)))});let u=wu();return l.forEach((d,f)=>{const g=a.get(d);g!==void 0&&Du(g.mutation,f,xs.empty(),Vt.now()),gm(t,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return he.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ki(i.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:J6(i.bundledQuery),readTime:ki(i.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.overlays=new Ht(Ie.comparator),this.qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ho();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&s.set(i,a)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((i,a)=>{this.St(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(s)),he.resolve()}getOverlaysForCollection(e,t,s){const i=ho(),a=t.length+1,l=new Ie(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>s&&i.set(d.getKey(),d)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,s,i){let a=new Ht((f,g)=>f-g);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>s){let g=a.get(f.largestBatchId);g===null&&(g=ho(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=ho(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=i)););return he.resolve(u)}St(e,t,s){const i=this.overlays.get(s.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(s.key,new C6(t,s));let a=this.qr.get(t);a===void 0&&(a=ct(),this.qr.set(t,a)),this.qr.set(t,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this.Qr=new pn(En.$r),this.Ur=new pn(En.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new En(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new En(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Ie(new Ot([])),s=new En(t,e),i=new En(t,e+1),a=[];return this.Ur.forEachInRange([s,i],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ie(new Ot([])),s=new En(t,e),i=new En(t,e+1);let a=ct();return this.Ur.forEachInRange([s,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new En(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class En{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ie.comparator(e.key,t.key)||ot(e.Yr,t.Yr)}static Kr(e,t){return ot(e.Yr,t.Yr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new pn(En.$r)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new A6(a,t,s,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new En(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,t){return he.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,i=this.ei(s),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?ky:this.tr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new En(t,0),i=new En(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,i],l=>{const u=this.Xr(l.Yr);a.push(u)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new pn(ot);return t.forEach(i=>{const a=new En(i,0),l=new En(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],u=>{s=s.add(u.Yr)})}),he.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,i=s.length+1;let a=s;Ie.isDocumentKey(a)||(a=a.child(""));const l=new En(new Ie(a),0);let u=new pn(ot);return this.Zr.forEachWhile(d=>{const f=d.key.path;return!!s.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Yr)),!0)},l),he.resolve(this.ti(u))}ti(e){const t=[];return e.forEach(s=>{const i=this.Xr(s);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){wt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return he.forEach(t.mutations,i=>{const a=new En(i.key,t.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new En(t,0),i=this.Zr.firstAfterOrEqual(s);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.ri=e,this.docs=function(){return new Ht(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,i=this.docs.get(s),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return he.resolve(s?s.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let s=vr();return t.forEach(i=>{const a=this.docs.get(i);s=s.insert(i,a?a.document.mutableCopy():zn.newInvalidDocument(i))}),he.resolve(s)}getDocumentsMatchingQuery(e,t,s,i){let a=vr();const l=t.path,u=new Ie(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||$5(F5(g),s)<=0||(i.has(g.key)||gm(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,t,s,i){Be(9500)}ii(e,t){return he.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new mM(this)}getSize(e){return he.resolve(this.size)}}class mM extends aM{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)}),he.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.persistence=e,this.si=new Co(t=>Iy(t),Dy),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new Uy,this.targetCount=0,this.ai=Hl.ur()}forEachTarget(e,t){return this.si.forEach((s,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),he.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Hl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Pr(t),he.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,s){let i=0;const a=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=t&&s.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),he.waitFor(a).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return he.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),he.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return he.resolve(s)}containsKey(e,t){return he.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t){this.ui={},this.overlays={},this.ci=new hm(0),this.li=!1,this.li=!0,this.hi=new dM,this.referenceDelegate=e(this),this.Pi=new pM(this),this.indexManager=new Z6,this.remoteDocumentCache=function(i){return new fM(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Q6(t),this.Ii=new cM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new hM(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){Se("MemoryPersistence","Starting transaction:",e);const i=new gM(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,t){return he.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class gM extends G5{constructor(e){super(),this.currentSequenceNumber=e}}class By{constructor(e){this.persistence=e,this.Ri=new Uy,this.Vi=null}static mi(e){return new By(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),he.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.fi,s=>{const i=Ie.fromPath(s);return this.gi(e,i).next(a=>{a||t.removeEntry(i,Ge.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class qf{constructor(e,t){this.persistence=e,this.pi=new Co(s=>Y5(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=rM(this,t)}static mi(e,t){return new qf(e,t)}Ei(){}di(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(i=>s+i))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return he.forEach(this.pi,(s,i)=>this.br(e,s,i).next(a=>a?he.resolve():t(i)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,t).next(u=>{u||(s++,a.removeEntry(l,Ge.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),he.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),he.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_f(e.data.value)),t}br(e,t,s){return he.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return he.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,t,s,i){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=i}static As(e,t){let s=ct(),i=ct();for(const a of t.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Fy(e,t.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return YR()?8:q5(Bn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,i){const a={result:null};return this.ys(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,t,i,s).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new yM;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)})}).next(()=>a.result)}bs(e,t,s,i){return s.documentReadCount<this.fs?(Sl()<=at.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",Nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),he.resolve()):(Sl()<=at.DEBUG&&Se("QueryEngine","Query:",Nl(t),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(Sl()<=at.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",Nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):he.resolve())}ys(e,t){if(Q1(t))return he.resolve(null);let s=Ai(t);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=V0(t,null,"F"),s=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const l=ct(...a);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,s).next(d=>{const f=this.Ds(t,u);return this.Cs(t,f,l,d.readTime)?this.ys(e,V0(t,null,"F")):this.vs(e,f,t,d)}))})))}ws(e,t,s,i){return Q1(t)||i.isEqual(Ge.min())?he.resolve(null):this.ps.getDocuments(e,s).next(a=>{const l=this.Ds(t,a);return this.Cs(t,l,s,i)?he.resolve(null):(Sl()<=at.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nl(t)),this.vs(e,l,t,B5(i,Fu)).next(u=>u))})}Ds(e,t){let s=new pn(QT(e));return t.forEach((i,a)=>{gm(e,a)&&(s=s.add(a))}),s}Cs(e,t,s,i){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,s){return Sl()<=at.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",Nl(t)),this.ps.getDocumentsMatchingQuery(e,t,ba.min(),s)}vs(e,t,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="LocalStore",bM=3e8;class vM{constructor(e,t,s,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ht(ot),this.xs=new Co(a=>Iy(a),Dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function _M(n,e,t,s){return new vM(n,e,t,s)}async function wS(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let i;return t.mutationQueue.getAllMutationBatches(s).next(a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(a=>{const l=[],u=[];let d=ct();for(const f of i){l.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of a){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(s,d).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function wM(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(u,d,f,g){const x=f.batch,b=x.keys();let E=he.resolve();return b.forEach(S=>{E=E.next(()=>g.getEntry(d,S)).next(w=>{const T=f.docVersions.get(S);wt(T!==null,48541),w.version.compareTo(T)<0&&(x.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),g.addEntry(w)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(d,x))}(t,s,e,a).next(()=>a.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(u){let d=ct();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(s,i))})}function ES(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function EM(n,e){const t=Ye(n),s=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const u=[];e.targetChanges.forEach((g,x)=>{const b=i.get(x);if(!b)return;u.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,x).next(()=>t.Pi.addMatchingKeys(a,g.addedDocuments,x)));let E=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?E=E.withResumeToken(Dn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,s)),i=i.insert(x,E),function(w,T,k){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=bM?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(b,E,g)&&u.push(t.Pi.updateTargetData(a,E))});let d=vr(),f=ct();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),u.push(TM(a,l,e.documentUpdates).next(g=>{d=g.ks,f=g.qs})),!s.isEqual(Ge.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next(x=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s));u.push(g)}return he.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(t.Ms=i,a))}function TM(n,e,t){let s=ct(),i=ct();return t.forEach(a=>s=s.add(a)),e.getEntries(n,s).next(a=>{let l=vr();return t.forEach((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ge.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Se($y,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{ks:l,qs:i}})}function SM(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ky),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function NM(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return t.Pi.getTargetData(s,e).next(a=>a?(i=a,he.resolve(i)):t.Pi.allocateTargetId(s).next(l=>(i=new aa(e,l,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=t.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function $0(n,e,t){const s=Ye(n),i=s.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",a,l=>s.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!nc(l))throw l;Se($y,`Failed to update sequence numbers for target ${e}: ${l}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function uw(n,e,t){const s=Ye(n);let i=Ge.min(),a=ct();return s.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,g){const x=Ye(d),b=x.xs.get(g);return b!==void 0?he.resolve(x.Ms.get(b)):x.Pi.getTargetData(f,g)}(s,l,Ai(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(l,u.targetId).next(d=>{a=d})}).next(()=>s.Fs.getDocumentsMatchingQuery(l,e,t?i:Ge.min(),t?a:ct())).next(u=>(AM(s,f6(e),u),{documents:u,Qs:a})))}function AM(n,e,t){let s=n.Os.get(e)||Ge.min();t.forEach((i,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),n.Os.set(e,s)}class dw{constructor(){this.activeTargetIds=b6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CM{constructor(){this.Mo=new dw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="ConnectivityMonitor";class fw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Se(hw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Se(hw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function H0(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="RestConnection",RM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===Bf?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,t,s,i,a){const l=H0(),u=this.zo(e,t.toUriEncodedString());Se(Xg,`Sending RPC '${e}' ${l}:`,u,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:f}=new URL(u),g=Ql(f);return this.Jo(e,u,d,s,g).then(x=>(Se(Xg,`Received RPC '${e}' ${l}: `,x),x),x=>{throw zl(Xg,`RPC '${e}' ${l} failed with error: `,x,"url: ",u,"request:",s),x})}Ho(e,t,s,i,a,l){return this.Go(e,t,s,i,a)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ec}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),s&&s.headers.forEach((i,a)=>e[a]=i)}zo(e,t){const s=RM[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class DM extends jM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,i,a){const l=H0();return new Promise((u,d)=>{const f=new TT;f.setWithCredentials(!0),f.listenOnce(ST.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case vf.NO_ERROR:const x=f.getResponseJson();Se(Pn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case vf.TIMEOUT:Se(Pn,`RPC '${e}' ${l} timed out`),d(new Te(ce.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const b=f.getStatus();if(Se(Pn,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E?.error;if(S&&S.status&&S.message){const w=function(k){const I=k.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(I)>=0?I:ce.UNKNOWN}(S.status);d(new Te(w,S.message))}else d(new Te(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Te(ce.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Se(Pn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);Se(Pn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",g,s,15)})}T_(e,t,s){const i=H0(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CT(),u=AT(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,s),d.encodeInitMessageHeaders=!0;const g=a.join("");Se(Pn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const x=l.createWebChannel(g,d);this.I_(x);let b=!1,E=!1;const S=new IM({Yo:T=>{E?Se(Pn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(b||(Se(Pn,`Opening RPC '${e}' stream ${i} transport.`),x.open(),b=!0),Se(Pn,`RPC '${e}' stream ${i} sending:`,T),x.send(T))},Zo:()=>x.close()}),w=(T,k,I)=>{T.listen(k,M=>{try{I(M)}catch(z){setTimeout(()=>{throw z},0)}})};return w(x,_u.EventType.OPEN,()=>{E||(Se(Pn,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),w(x,_u.EventType.CLOSE,()=>{E||(E=!0,Se(Pn,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(x))}),w(x,_u.EventType.ERROR,T=>{E||(E=!0,zl(Pn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),S.a_(new Te(ce.UNAVAILABLE,"The operation could not be completed")))}),w(x,_u.EventType.MESSAGE,T=>{if(!E){const k=T.data[0];wt(!!k,16349);const I=k,M=I?.error||I[0]?.error;if(M){Se(Pn,`RPC '${e}' stream ${i} received error:`,M);const z=M.status;let B=function(R){const j=an[R];if(j!==void 0)return uS(j)}(z),$=M.message;B===void 0&&(B=ce.INTERNAL,$="Unknown error status: "+z+" with message "+M.message),E=!0,S.a_(new Te(B,$)),x.close()}else Se(Pn,`RPC '${e}' stream ${i} received:`,k),S.u_(k)}}),w(u,NT.STAT_EVENT,T=>{T.stat===j0.PROXY?Se(Pn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===j0.NOPROXY&&Se(Pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(n){return new L6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,t,s=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-s);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="PersistentStream";class SS{constructor(e,t,s,i,a,l,u,d){this.Mi=e,this.S_=s,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===t&&this.G_(s,i)},s=>{e(()=>{const i=new Te(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Se(mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(Se(mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MM extends SS{constructor(e,t,s,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=U6(this.serializer,e),s=function(a){if(!("targetChange"in a))return Ge.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ge.min():l.readTime?ki(l.readTime):Ge.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=F0(this.serializer),t.addTarget=function(a,l){let u;const d=l.target;if(u=P0(d)?{documents:$6(a,d)}:{query:H6(a,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=fS(a,l.resumeToken);const f=z0(a,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ge.min())>0){u.readTime=Gf(a,l.snapshotVersion.toTimestamp());const f=z0(a,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const s=q6(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=F0(this.serializer),t.removeTarget=e,this.q_(t)}}class OM extends SS{constructor(e,t,s,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=F6(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=F0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>B6(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{}class LM extends PM{constructor(e,t,s,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,U0(t,s),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ce.UNKNOWN,a.toString())})}Ho(e,t,s,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,U0(t,s),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(ce.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class VM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xr(t),this.aa=!1):Se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class zM{constructor(e,t,s,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{s.enqueueAndForget(async()=>{ko(this)&&(Se(To,"Restarting streams for network reachability change."),await async function(d){const f=Ye(d);f.Ea.add(4),await pd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await _m(f)}(this))})}),this.Ra=new VM(s,i)}}async function _m(n){if(ko(n))for(const e of n.da)await e(!0)}async function pd(n){for(const e of n.da)await e(!1)}function NS(n,e){const t=Ye(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Wy(t)?qy(t):sc(t).O_()&&Gy(t,e))}function Hy(n,e){const t=Ye(n),s=sc(t);t.Ia.delete(e),s.O_()&&AS(t,e),t.Ia.size===0&&(s.O_()?s.L_():ko(t)&&t.Ra.set("Unknown"))}function Gy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sc(n).Y_(e)}function AS(n,e){n.Va.Ue(e),sc(n).Z_(e)}function qy(n){n.Va=new D6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),sc(n).start(),n.Ra.ua()}function Wy(n){return ko(n)&&!sc(n).x_()&&n.Ia.size>0}function ko(n){return Ye(n).Ea.size===0}function CS(n){n.Va=void 0}async function UM(n){n.Ra.set("Online")}async function BM(n){n.Ia.forEach((e,t)=>{Gy(n,e)})}async function FM(n,e){CS(n),Wy(n)?(n.Ra.ha(e),qy(n)):n.Ra.set("Unknown")}async function $M(n,e,t){if(n.Ra.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))}(n,e)}catch(s){Se(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wf(n,s)}else if(e instanceof Tf?n.Va.Ze(e):e instanceof dS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ge.min()))try{const s=await ES(n.localStore);t.compareTo(s)>=0&&await function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(Dn.EMPTY_BYTE_STRING,g.snapshotVersion)),AS(a,d);const x=new aa(g.target,d,f,g.sequenceNumber);Gy(a,x)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(s){Se(To,"Failed to raise snapshot:",s),await Wf(n,s)}}async function Wf(n,e,t){if(!nc(e))throw e;n.Ea.add(1),await pd(n),n.Ra.set("Offline"),t||(t=()=>ES(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(To,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await _m(n)})}function kS(n,e){return e().catch(t=>Wf(n,t,e))}async function wm(n){const e=Ye(n),t=Ea(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ky;for(;HM(e);)try{const i=await SM(e.localStore,s);if(i===null){e.Ta.length===0&&t.L_();break}s=i.batchId,GM(e,i)}catch(i){await Wf(e,i)}RS(e)&&jS(e)}function HM(n){return ko(n)&&n.Ta.length<10}function GM(n,e){n.Ta.push(e);const t=Ea(n);t.O_()&&t.X_&&t.ea(e.mutations)}function RS(n){return ko(n)&&!Ea(n).x_()&&n.Ta.length>0}function jS(n){Ea(n).start()}async function qM(n){Ea(n).ra()}async function WM(n){const e=Ea(n);for(const t of n.Ta)e.ea(t.mutations)}async function YM(n,e,t){const s=n.Ta.shift(),i=Ly.from(s,e,t);await kS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await wm(n)}async function KM(n,e){e&&Ea(n).X_&&await async function(s,i){if(function(l){return R6(l)&&l!==ce.ABORTED}(i.code)){const a=s.Ta.shift();Ea(s).B_(),await kS(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,i)),await wm(s)}}(n,e),RS(n)&&jS(n)}async function pw(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Se(To,"RemoteStore received new credentials");const s=ko(t);t.Ea.add(3),await pd(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _m(t)}async function XM(n,e){const t=Ye(n);e?(t.Ea.delete(2),await _m(t)):e||(t.Ea.add(2),await pd(t),t.Ra.set("Unknown"))}function sc(n){return n.ma||(n.ma=function(t,s,i){const a=Ye(t);return a.sa(),new MM(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:UM.bind(null,n),t_:BM.bind(null,n),r_:FM.bind(null,n),H_:$M.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Wy(n)?qy(n):n.Ra.set("Unknown")):(await n.ma.stop(),CS(n))})),n.ma}function Ea(n){return n.fa||(n.fa=function(t,s,i){const a=Ye(t);return a.sa(),new OM(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:qM.bind(null,n),r_:KM.bind(null,n),ta:WM.bind(null,n),na:YM.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await wm(n)):(await n.fa.stop(),n.Ta.length>0&&(Se(To,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t,s,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=i,this.removalCallback=a,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,i,a){const l=Date.now()+s,u=new Yy(e,t,l,i,a);return u.start(s),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(n,e){if(xr("AsyncQueue",`${e}: ${n}`),nc(n))return new Te(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ie.comparator(t.key,s.key):(t,s)=>Ie.comparator(t.key,s.key),this.keyedMap=wu(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=s.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ml;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.ga=new Ht(Ie.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Gl{constructor(e,t,s,i,a,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,s,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Gl(e,t,Ml.emptySet(t),l,s,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==s[i].type||!t[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JM{constructor(){this.queries=yw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const i=Ye(t),a=i.queries;i.queries=yw(),a.forEach((l,u)=>{for(const d of u.Sa)d.onError(s)})})(this,new Te(ce.ABORTED,"Firestore shutting down"))}}function yw(){return new Co(n=>XT(n),pm)}async function IS(n,e){const t=Ye(n);let s=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(s=2):(a=new QM,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Ky(l,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Xy(t)}async function DS(n,e){const t=Ye(n),s=e.query;let i=3;const a=t.queries.get(s);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function ZM(n,e){const t=Ye(n);let s=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(s=!0);l.wa=i}}s&&Xy(t)}function eO(n,e,t){const s=Ye(n),i=s.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);s.queries.delete(e)}function Xy(n){n.Ca.forEach(e=>{e.next()})}var G0,xw;(xw=G0||(G0={})).Ma="default",xw.Cache="cache";class MS{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==G0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.key=e}}class PS{constructor(e){this.key=e}}class tO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=QT(e),this.tu=new Ml(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new gw,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,x)=>{const b=i.get(g),E=gm(this.query,x)?x:null,S=!!b&&this.mutatedKeys.has(b.key),w=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let T=!1;b&&E?b.data.isEqual(E.data)?S!==w&&(s.track({type:3,doc:E}),T=!0):this.su(b,E)||(s.track({type:2,doc:E}),T=!0,(d&&this.eu(E,d)>0||f&&this.eu(E,f)<0)&&(u=!0)):!b&&E?(s.track({type:0,doc:E}),T=!0):b&&!E&&(s.track({type:1,doc:b}),T=!0,(d||f)&&(u=!0)),T&&(E?(l=l.add(E),a=w?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),s.track({type:1,doc:g})}return{tu:l,iu:s,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((g,x)=>function(E,S){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:T})}};return w(E)-w(S)}(g.type,x.type)||this.eu(g.doc,x.doc)),this.ou(s),i=i??!1;const u=t&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Gl(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new PS(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new OS(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=ct();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qy="SyncEngine";class nO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class sO{constructor(e){this.key=e,this.hu=!1}}class iO{constructor(e,t,s,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Co(u=>XT(u),pm),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(Ie.comparator),this.Au=new Map,this.Ru=new Uy,this.Vu={},this.mu=new Map,this.fu=Hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rO(n,e,t=!0){const s=FS(n);let i;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await LS(s,e,t,!0),i}async function aO(n,e){const t=FS(n);await LS(t,e,!0,!1)}async function LS(n,e,t,s){const i=await NM(n.localStore,Ai(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return s&&(u=await oO(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&NS(n.remoteStore,i),u}async function oO(n,e,t,s,i){n.pu=(x,b,E)=>async function(w,T,k,I){let M=T.view.ru(k);M.Cs&&(M=await uw(w.localStore,T.query,!1).then(({documents:A})=>T.view.ru(A,M)));const z=I&&I.targetChanges.get(T.targetId),B=I&&I.targetMismatches.get(T.targetId)!=null,$=T.view.applyChanges(M,w.isPrimaryClient,z,B);return vw(w,T.targetId,$.au),$.snapshot}(n,x,b,E);const a=await uw(n.localStore,e,!0),l=new tO(e,a.Qs),u=l.ru(a.documents),d=md.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,d);vw(n,t,f.au);const g=new nO(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function lO(n,e,t){const s=Ye(n),i=s.Tu.get(e),a=s.Iu.get(i.targetId);if(a.length>1)return s.Iu.set(i.targetId,a.filter(l=>!pm(l,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await $0(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),t&&Hy(s.remoteStore,i.targetId),q0(s,i.targetId)}).catch(tc)):(q0(s,i.targetId),await $0(s.localStore,i.targetId,!0))}async function cO(n,e){const t=Ye(n),s=t.Tu.get(e),i=t.Iu.get(s.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Hy(t.remoteStore,s.targetId))}async function uO(n,e,t){const s=yO(n);try{const i=await function(l,u){const d=Ye(l),f=Vt.now(),g=u.reduce((E,S)=>E.add(S.key),ct());let x,b;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=vr(),w=ct();return d.Ns.getEntries(E,g).next(T=>{S=T,S.forEach((k,I)=>{I.isValidDocument()||(w=w.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,S)).next(T=>{x=T;const k=[];for(const I of u){const M=S6(I,x.get(I.key).overlayedDocument);M!=null&&k.push(new Ca(I.key,M,FT(M.value.mapValue),Ci.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,k,u)}).next(T=>{b=T;const k=T.applyToLocalDocumentSet(x,w);return d.documentOverlayCache.saveOverlays(E,T.batchId,k)})}).then(()=>({batchId:b.batchId,changes:ZT(x)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Ht(ot)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f}(s,i.batchId,t),await gd(s,i.changes),await wm(s.remoteStore)}catch(i){const a=Ky(i,"Failed to persist write");t.reject(a)}}async function VS(n,e){const t=Ye(n);try{const s=await EM(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Au.get(a);l&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?wt(l.hu,14607):i.removedDocuments.size>0&&(wt(l.hu,42227),l.hu=!1))}),await gd(t,s,e)}catch(s){await tc(s)}}function bw(n,e,t){const s=Ye(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const i=[];s.Tu.forEach((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=Ye(l);d.onlineState=u;let f=!1;d.queries.forEach((g,x)=>{for(const b of x.Sa)b.va(u)&&(f=!0)}),f&&Xy(d)}(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dO(n,e,t){const s=Ye(n);s.sharedClientState.updateQueryState(e,"rejected",t);const i=s.Au.get(e),a=i&&i.key;if(a){let l=new Ht(Ie.comparator);l=l.insert(a,zn.newNoDocument(a,Ge.min()));const u=ct().add(a),d=new bm(Ge.min(),new Map,new Ht(ot),l,u);await VS(s,d),s.du=s.du.remove(a),s.Au.delete(e),Jy(s)}else await $0(s.localStore,e,!1).then(()=>q0(s,e,t)).catch(tc)}async function hO(n,e){const t=Ye(n),s=e.batch.batchId;try{const i=await wM(t.localStore,e);US(t,s,null),zS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gd(t,i)}catch(i){await tc(i)}}async function fO(n,e,t){const s=Ye(n);try{const i=await function(l,u){const d=Ye(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,u).next(x=>(wt(x!==null,37113),g=x.keys(),d.mutationQueue.removeMutationBatch(f,x))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(s.localStore,e);US(s,e,t),zS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gd(s,i)}catch(i){await tc(i)}}function zS(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function US(n,e,t){const s=Ye(n);let i=s.Vu[s.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function q0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(s=>{n.Ru.containsKey(s)||BS(n,s)})}function BS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Hy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Jy(n))}function vw(n,e,t){for(const s of t)s instanceof OS?(n.Ru.addReference(s.key,e),mO(n,s)):s instanceof PS?(Se(Qy,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||BS(n,s.key)):Be(19791,{wu:s})}function mO(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(Se(Qy,"New document in limbo: "+t),n.Eu.add(s),Jy(n))}function Jy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ie(Ot.fromString(e)),s=n.fu.next();n.Au.set(s,new sO(t)),n.du=n.du.insert(t,s),NS(n.remoteStore,new aa(Ai(My(t.path)),s,"TargetPurposeLimboResolution",hm.ce))}}async function gd(n,e,t){const s=Ye(n),i=[],a=[],l=[];s.Tu.isEmpty()||(s.Tu.forEach((u,d)=>{l.push(s.pu(d,e,t).then(f=>{if((f||t)&&s.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=Fy.As(d.targetId,f);a.push(g)}}))}),await Promise.all(l),s.Pu.H_(i),await async function(d,f){const g=Ye(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>he.forEach(f,b=>he.forEach(b.Es,E=>g.persistence.referenceDelegate.addReference(x,b.targetId,E)).next(()=>he.forEach(b.ds,E=>g.persistence.referenceDelegate.removeReference(x,b.targetId,E)))))}catch(x){if(!nc(x))throw x;Se($y,"Failed to update sequence numbers: "+x)}for(const x of f){const b=x.targetId;if(!x.fromCache){const E=g.Ms.get(b),S=E.snapshotVersion,w=E.withLastLimboFreeSnapshotVersion(S);g.Ms=g.Ms.insert(b,w)}}}(s.localStore,a))}async function pO(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Se(Qy,"User change. New user:",e.toKey());const s=await wS(t.localStore,e);t.currentUser=e,function(a,l){a.mu.forEach(u=>{u.forEach(d=>{d.reject(new Te(ce.CANCELLED,l))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gd(t,s.Ls)}}function gO(n,e){const t=Ye(n),s=t.Au.get(e);if(s&&s.hu)return ct().add(s.key);{let i=ct();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const u=t.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function FS(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dO.bind(null,e),e.Pu.H_=ZM.bind(null,e.eventManager),e.Pu.yu=eO.bind(null,e.eventManager),e}function yO(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fO.bind(null,e),e}class Yf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _M(this.persistence,new xM,e.initialUser,this.serializer)}Cu(e){return new _S(By.mi,this.serializer)}Du(e){return new CM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yf.provider={build:()=>new Yf};class xO extends Yf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wt(this.persistence.referenceDelegate instanceof qf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sM(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new _S(s=>qf.mi(s,t),this.serializer)}}class W0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,this.syncEngine),await XM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JM}()}createDatastore(e){const t=vm(e.databaseInfo.databaseId),s=function(a){return new DM(a)}(e.databaseInfo);return function(a,l,u,d){return new LM(a,l,u,d)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,i,a,l,u){return new zM(s,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>bw(this.syncEngine,t,0),function(){return fw.v()?new fw:new kM}())}createSyncEngine(e,t){return function(i,a,l,u,d,f,g){const x=new iO(i,a,l,u,d,f);return g&&(x.gu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ye(t);Se(To,"RemoteStore shutting down."),s.Ea.add(5),await pd(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}W0.provider={build:()=>new W0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="FirestoreClient";class bO{constructor(e,t,s,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=Cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async l=>{Se(Ta,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(Se(Ta,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ky(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Jg(n,e){n.asyncQueue.verifyOperationInProgress(),Se(Ta,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async i=>{s.isEqual(i)||(await wS(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function _w(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vO(n);Se(Ta,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>pw(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,i)=>pw(e.remoteStore,i)),n._onlineComponents=e}async function vO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(Ta,"Using user provided OfflineComponentProvider");try{await Jg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;zl("Error using user provided cache. Falling back to memory cache: "+t),await Jg(n,new Yf)}}else Se(Ta,"Using default OfflineComponentProvider"),await Jg(n,new xO(void 0));return n._offlineComponents}async function HS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(Ta,"Using user provided OnlineComponentProvider"),await _w(n,n._uninitializedComponentsProvider._online)):(Se(Ta,"Using default OnlineComponentProvider"),await _w(n,new W0))),n._onlineComponents}function _O(n){return HS(n).then(e=>e.syncEngine)}async function GS(n){const e=await HS(n),t=e.eventManager;return t.onListen=rO.bind(null,e.syncEngine),t.onUnlisten=lO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cO.bind(null,e.syncEngine),t}function wO(n,e,t={}){const s=new mr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,f){const g=new $S({next:b=>{g.Nu(),l.enqueueAndForget(()=>DS(a,x));const E=b.docs.has(u);!E&&b.fromCache?f.reject(new Te(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&d&&d.source==="server"?f.reject(new Te(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),x=new MS(My(u.path),g,{includeMetadataChanges:!0,qa:!0});return IS(a,x)}(await GS(n),n.asyncQueue,e,t,s)),s.promise}function EO(n,e,t={}){const s=new mr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,d,f){const g=new $S({next:b=>{g.Nu(),l.enqueueAndForget(()=>DS(a,x)),b.fromCache&&d.source==="server"?f.reject(new Te(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),x=new MS(u,g,{includeMetadataChanges:!0,qa:!0});return IS(a,x)}(await GS(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firestore.googleapis.com",Ew=!0;class Tw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WS,this.ssl=Ew}else this.host=e.host,this.ssl=e.ssl??Ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tM)throw new Te(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,t,s,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new R5;switch(s.type){case"firstParty":return new M5(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Te(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ww.get(t);s&&(Se("ComponentProvider","Removing Datastore"),ww.delete(t),s.terminate())}(this),Promise.resolve()}}function TO(n,e,t,s={}){n=br(n,Em);const i=Ql(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;i&&(OE(`https://${u}`),PE("Firestore",!0)),a.host!==WS&&a.host!==u&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:u,ssl:i,emulatorOptions:s};if(!xa(d,l)&&(n._setSettings(d),s.mockUserToken)){let f,g;if(typeof s.mockUserToken=="string")f=s.mockUserToken,g=Vn.MOCK_USER;else{f=zR(s.mockUserToken,n._app?.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new Te(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Vn(x)}n._authCredentials=new j5(new RT(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ic(this.firestore,e,this._query)}}class Zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(dd(t,Zt._jsonSchema))return new Zt(e,s||null,new Ie(Ot.fromString(t.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:ln("string",Zt._jsonSchemaVersion),referencePath:ln("string")};class ga extends ic{constructor(e,t,s){super(e,t,My(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Ie(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function YS(n,e,...t){if(n=gn(n),jT("collection","path",e),n instanceof Em){const s=Ot.fromString(e,...t);return L1(s),new ga(n,null,s)}{if(!(n instanceof Zt||n instanceof ga))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ot.fromString(e,...t));return L1(s),new ga(n.firestore,null,s)}}function Fn(n,e,...t){if(n=gn(n),arguments.length===1&&(e=Cy.newId()),jT("doc","path",e),n instanceof Em){const s=Ot.fromString(e,...t);return P1(s),new Zt(n,null,new Ie(s))}{if(!(n instanceof Zt||n instanceof ga))throw new Te(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ot.fromString(e,...t));return P1(s),new Zt(n.firestore,n instanceof ga?n.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="AsyncQueue";class Nw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TS(this,"async_queue_retry"),this._c=()=>{const s=Qg();s&&Se(Sw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Qg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nc(e))throw e;Se(Sw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,xr("INTERNAL UNHANDLED ERROR: ",Aw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Yy.createAndSchedule(this,e,t,s,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:Aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Aw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class yd extends Em{constructor(e,t,s,i){super(e,t,s,i),this.type="firestore",this._queue=new Nw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nw(e),this._firestoreClient=void 0,await e}}}function SO(n,e){const t=typeof n=="object"?n:UE(),s=typeof n=="string"?n:Bf,i=xy(t,"firestore").getImmediate({identifier:s});if(!i._initialized){const a=LR("firestore");a&&TO(i,...a)}return i}function Zy(n){if(n._terminated)throw new Te(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||NO(n),n._firestoreClient}function NO(n){const e=n._freezeSettings(),t=function(i,a,l,u){return new Q5(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,qS(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new bO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Os(Dn.fromBase64String(e))}catch(t){throw new Te(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Os(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Os._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dd(e,Os._jsonSchema))return Os.fromBase64String(e.bytes)}}Os._jsonSchemaVersion="firestore/bytes/1.0",Os._jsonSchema={type:ln("string",Os._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(e){if(dd(e,Ri._jsonSchema))return new Ri(e.latitude,e.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:ln("string",Ri._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dd(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ji(e.vectorValues);throw new Te(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:ln("string",ji._jsonSchemaVersion),vectorValues:ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=/^__.*__$/;class CO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new fd(e,this.data,t,this.fieldTransforms)}}class KS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:n})}}class Sm{constructor(e,t,s,i,a,l){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XS(this.Ac)&&AO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||vm(e)}Cc(e,t,s,i=!1){return new Sm({Ac:e,methodName:t,Dc:s,path:In.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ex(n){const e=n._freezeSettings(),t=vm(n._databaseId);return new kO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RO(n,e,t,s,i,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);ix("Data must be an object, but it was:",l,s);const u=QS(s,l);let d,f;if(a.merge)d=new xs(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const x of a.mergeFields){const b=Y0(e,x,t);if(!l.contains(b))throw new Te(ce.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);ZS(g,b)||g.push(b)}d=new xs(g),f=l.fieldTransforms.filter(x=>d.covers(x.field))}else d=null,f=l.fieldTransforms;return new CO(new ns(u),d,f)}class xd extends rc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}function jO(n,e,t){return new Sm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tx extends rc{_toFieldTransform(e){return new Py(e.path,new qu)}isEqual(e){return e instanceof tx}}class nx extends rc{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=jO(this,e,!0),s=this.vc.map(a=>ac(a,t)),i=new $l(s);return new Py(e.path,i)}isEqual(e){return e instanceof nx&&xa(this.vc,e.vc)}}class sx extends rc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Yu(e.serializer,nS(e.serializer,this.Fc));return new Py(e.path,t)}isEqual(e){return e instanceof sx&&this.Fc===e.Fc}}function IO(n,e,t,s){const i=n.Cc(1,e,t);ix("Data must be an object, but it was:",i,s);const a=[],l=ns.empty();Aa(s,(d,f)=>{const g=rx(e,d,t);f=gn(f);const x=i.yc(g);if(f instanceof xd)a.push(g);else{const b=ac(f,x);b!=null&&(a.push(g),l.set(g,b))}});const u=new xs(a);return new KS(l,u,i.fieldTransforms)}function DO(n,e,t,s,i,a){const l=n.Cc(1,e,t),u=[Y0(e,s,t)],d=[i];if(a.length%2!=0)throw new Te(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)u.push(Y0(e,a[b])),d.push(a[b+1]);const f=[],g=ns.empty();for(let b=u.length-1;b>=0;--b)if(!ZS(f,u[b])){const E=u[b];let S=d[b];S=gn(S);const w=l.yc(E);if(S instanceof xd)f.push(E);else{const T=ac(S,w);T!=null&&(f.push(E),g.set(E,T))}}const x=new xs(f);return new KS(g,x,l.fieldTransforms)}function MO(n,e,t,s=!1){return ac(t,n.Cc(s?4:3,e))}function ac(n,e){if(JS(n=gn(n)))return ix("Unsupported field value:",e,n),QS(n,e);if(n instanceof rc)return function(s,i){if(!XS(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,i){const a=[];let l=0;for(const u of s){let d=ac(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(n,e)}return function(s,i){if((s=gn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nS(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Vt.fromDate(s);return{timestampValue:Gf(i.serializer,a)}}if(s instanceof Vt){const a=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gf(i.serializer,a)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Os)return{bytesValue:fS(i.serializer,s._byteString)};if(s instanceof Zt){const a=i.databaseId,l=s.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zy(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof ji)return function(l,u){return{mapValue:{fields:{[UT]:{stringValue:BT},[Ff]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Oy(u.serializer,f)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${dm(s)}`)}(n,e)}function QS(n,e){const t={};return MT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,(s,i)=>{const a=ac(i,e.mc(s));a!=null&&(t[s]=a)}),{mapValue:{fields:t}}}function JS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vt||n instanceof Ri||n instanceof Os||n instanceof Zt||n instanceof rc||n instanceof ji)}function ix(n,e,t){if(!JS(t)||!IT(t)){const s=dm(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function Y0(n,e,t){if((e=gn(e))instanceof Tm)return e._internalPath;if(typeof e=="string")return rx(n,e);throw Kf("Field path arguments must be of type string or ",n,!1,void 0,t)}const OO=new RegExp("[~\\*/\\[\\]]");function rx(n,e,t){if(e.search(OO)>=0)throw Kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tm(...e.split("."))._internalPath}catch{throw Kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kf(n,e,t,s,i){const a=s&&!s.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${s}`),l&&(d+=` in document ${i}`),d+=")"),new Te(ce.INVALID_ARGUMENT,u+n+d)}function ZS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,t,s,i,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ax("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PO extends eN{data(){return super.data()}}function ax(n,e){return typeof e=="string"?rx(n,e):e instanceof Tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ox{}class VO extends ox{}function tN(n,e,...t){let s=[];e instanceof ox&&s.push(e),s=s.concat(t),function(a){const l=a.filter(d=>d instanceof lx).length,u=a.filter(d=>d instanceof Nm).length;if(l>1||l>0&&u>0)throw new Te(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)n=i._apply(n);return n}class Nm extends VO{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Nm(e,t,s)}_apply(e){const t=this._parse(e);return sN(e._query,t),new ic(e.firestore,e.converter,L0(e._query,t))}_parse(e){const t=ex(e.firestore);return function(a,l,u,d,f,g,x){let b;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){kw(x,g);const S=[];for(const w of x)S.push(Cw(d,a,w));b={arrayValue:{values:S}}}else b=Cw(d,a,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||kw(x,g),b=MO(u,l,x,g==="in"||g==="not-in");return on.create(f,g,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nN(n,e,t){const s=e,i=ax("where",n);return Nm._create(i,s,t)}class lx extends ox{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lx(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Zs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const d of u)sN(l,d),l=L0(l,d)}(e._query,t),new ic(e.firestore,e.converter,L0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Cw(n,e,t){if(typeof(t=gn(t))=="string"){if(t==="")throw new Te(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(e)&&t.indexOf("/")!==-1)throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ot.fromString(t));if(!Ie.isDocumentKey(s))throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return G1(n,new Ie(s))}if(t instanceof Zt)return G1(n,t._key);throw new Te(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(t)}.`)}function kw(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sN(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zO{convertValue(e,t="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Aa(e,(i,a)=>{s[i]=this.convertValue(a,t)}),s}convertVectorValue(e){const t=e.fields?.[Ff].arrayValue?.values?.map(s=>Jt(s.doubleValue));return new ji(t)}convertGeoPoint(e){return new Ri(Jt(e.latitude),Jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=mm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const t=va(e);return new Vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ot.fromString(e);wt(bS(s),9688,{name:e});const i=new Hu(s.get(1),s.get(3)),a=new Ie(s.popFirst(5));return i.isEqual(t)||xr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Tu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class go extends eN{constructor(e,t,s,i,a,l){super(e,t,s,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ax("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=go._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}go._jsonSchemaVersion="firestore/documentSnapshot/1.0",go._jsonSchema={type:ln("string",go._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Sf extends go{data(e={}){return super.data(e)}}class Ol{constructor(e,t,s,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Tu(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Sf(this._firestore,this._userDataWriter,s.key,s,new Tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Sf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new Sf(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:BO(u.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ol._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n){n=br(n,Zt);const e=br(n.firestore,yd);return wO(Zy(e),n._key).then(t=>FO(e,n,t))}Ol._jsonSchemaVersion="firestore/querySnapshot/1.0",Ol._jsonSchema={type:ln("string",Ol._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class iN extends zO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Os(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function rN(n){n=br(n,ic);const e=br(n.firestore,yd),t=Zy(e),s=new iN(e);return LO(n._query),EO(t,n._query).then(i=>new Ol(e,s,n,i))}function lc(n,e,t){n=br(n,Zt);const s=br(n.firestore,yd),i=UO(n.converter,e,t);return aN(s,[RO(ex(s),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ci.none())])}function Ws(n,e,t,...s){n=br(n,Zt);const i=br(n.firestore,yd),a=ex(i);let l;return l=typeof(e=gn(e))=="string"||e instanceof Tm?DO(a,"updateDoc",n._key,e,t,s):IO(a,"updateDoc",n._key,e),aN(i,[l.toMutation(n._key,Ci.exists(!0))])}function aN(n,e){return function(s,i){const a=new mr;return s.asyncQueue.enqueueAndForget(async()=>uO(await _O(s),i,a)),a.promise}(Zy(n),e)}function FO(n,e,t){const s=t.docs.get(e._key),i=new iN(n);return new go(n,i,e._key,s,new Tu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){return new xd("deleteField")}function _r(){return new tx("serverTimestamp")}function Nf(...n){return new nx("arrayUnion",n)}function Ln(n){return new sx("increment",n)}(function(e,t=!0){(function(i){ec=i})(Jl),Ll(new vo("firestore",(s,{instanceIdentifier:i,options:a})=>{const l=s.getProvider("app").getImmediate(),u=new yd(new I5(s.getProvider("auth-internal")),new O5(l,s.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(f.options.projectId,g)}(l,i),l);return a={useFetchStreams:t,...a},u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),ma(I1,D1,e),ma(I1,D1,"esm2020")})();const HO={apiKey:"AIzaSyDJC6o0mIkW4QVCuuJWsMAaZGu4HU7SHEE",authDomain:"pesstatszone.firebaseapp.com",projectId:"pesstatszone",storageBucket:"pesstatszone.firebasestorage.app",messagingSenderId:"1032826590191",appId:"1:1032826590191:web:787beb3a7e5f75cf9b5c1a"},oN=zE(HO),Wh=N5(oN),Sn=SO(oN);var Af={exports:{}},GO=Af.exports,Rw;function qO(){return Rw||(Rw=1,function(n){(function(e,t){n.exports=t(e)})(typeof V_>"u"?typeof window>"u"?GO:window:V_,function(e){if(typeof e>"u"&&typeof e.document>"u")return!1;var t,s,i,a,l,u=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,d='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',f={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},g={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},x={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},b={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},E={Show:"Show",Ask:"Ask",Prompt:"Prompt"},S={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},w={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},T={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},k={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},I={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},M=function(q){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+q+u)},z=function(q){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3",`
`+q+u)},B=function(q){return q||(q="head"),e.document[q]!==void 0||(M(`
Notiflix needs to be appended to the "<`+q+'>" element, but you called it before the "<'+q+'>" element has been created.'),!1)},$=function(q,X){if(!B("head"))return!1;if(q()!==null&&!e.document.getElementById(X)){var ne=e.document.createElement("style");ne.id=X,ne.innerHTML=q(),e.document.head.appendChild(ne)}},A=function(){var q={},X=!1,ne=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(X=arguments[0],ne++);for(var Ne=function(Oe){for(var We in Oe)Object.prototype.hasOwnProperty.call(Oe,We)&&(q[We]=X&&Object.prototype.toString.call(Oe[We])==="[object Object]"?A(q[We],Oe[We]):Oe[We])};ne<arguments.length;ne++)Ne(arguments[ne]);return q},R=function(q){var X=e.document.createElement("div");return X.innerHTML=q,X.textContent||X.innerText||""},j=function(q,X){q||(q="110px"),X||(X="#32c682");var ne='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+q+'" height="'+q+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ne},P=function(q,X){q||(q="110px"),X||(X="#ff5549");var ne='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+q+'" height="'+q+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ne},V=function(q,X){q||(q="110px"),X||(X="#eebf31");var ne='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+q+'" height="'+q+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ne},U=function(q,X){q||(q="110px"),X||(X="#26c0d3");var ne='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+q+'" height="'+q+'" fill="'+X+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ne},L=function(q,X){q||(q="60px"),X||(X="#32c682");var ne='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+X+'" width="'+q+'" height="'+q+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';return ne},ge=function(q,X){q||(q="60px"),X||(X="#32c682");var ne='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+X+'" width="'+q+'" height="'+q+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';return ne},ue=function(q,X){q||(q="60px"),X||(X="#32c682");var ne='<svg xmlns="http://www.w3.org/2000/svg" width="'+q+'" height="'+q+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+q+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+q+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+X+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';return ne},W=function(q,X){q||(q="60px"),X||(X="#32c682");var ne='<svg xmlns="http://www.w3.org/2000/svg" fill="'+X+'" width="'+q+'" height="'+q+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';return ne},ae=function(q,X){q||(q="60px"),X||(X="#32c682");var ne='<svg xmlns="http://www.w3.org/2000/svg" fill="'+X+'" width="'+q+'" height="'+q+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';return ne},we=function(q,X){q||(q="60px"),X||(X="#32c682");var ne='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+X+'" width="'+q+'" height="'+q+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';return ne},Ae=function(q,X,ne){q||(q="60px");var Ne='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+q+'" height="'+q+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+X+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+ne+'" stroke="'+ne+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>';return Ne},G=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},ee=0,fe=function(q,X,ne,Ne){if(!B("body"))return!1;t||ut.Notify.init({});var Oe=A(!0,t,{});if(typeof ne=="object"&&!Array.isArray(ne)||typeof Ne=="object"&&!Array.isArray(Ne)){var We={};typeof ne=="object"?We=ne:typeof Ne=="object"&&(We=Ne),t=A(!0,t,We)}var ze=t[q.toLocaleLowerCase("en")];ee++,typeof X!="string"&&(X="Notiflix "+q),t.plainText&&(X=R(X)),!t.plainText&&X.length>t.messageMaxLength&&(t=A(!0,t,{closeButton:!0,messageMaxLength:150}),X='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),X.length>t.messageMaxLength&&(X=X.substring(0,t.messageMaxLength)+"..."),t.fontAwesomeIconStyle==="shadow"&&(ze.fontAwesomeIconColor=ze.background),t.cssAnimation||(t.cssAnimationDuration=0);var _e=e.document.getElementById(g.wrapID)||e.document.createElement("div");if(_e.id=g.wrapID,_e.style.width=t.width,_e.style.zIndex=t.zindex,_e.style.opacity=t.opacity,t.position==="center-center"?(_e.style.left=t.distance,_e.style.top=t.distance,_e.style.right=t.distance,_e.style.bottom=t.distance,_e.style.margin="auto",_e.classList.add("nx-flex-center-center"),_e.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",_e.style.display="flex",_e.style.flexWrap="wrap",_e.style.flexDirection="column",_e.style.justifyContent="center",_e.style.alignItems="center",_e.style.pointerEvents="none"):t.position==="center-top"?(_e.style.left=t.distance,_e.style.right=t.distance,_e.style.top=t.distance,_e.style.bottom="auto",_e.style.margin="auto"):t.position==="center-bottom"?(_e.style.left=t.distance,_e.style.right=t.distance,_e.style.bottom=t.distance,_e.style.top="auto",_e.style.margin="auto"):t.position==="right-bottom"?(_e.style.right=t.distance,_e.style.bottom=t.distance,_e.style.top="auto",_e.style.left="auto"):t.position==="left-top"?(_e.style.left=t.distance,_e.style.top=t.distance,_e.style.right="auto",_e.style.bottom="auto"):t.position==="left-bottom"?(_e.style.left=t.distance,_e.style.bottom=t.distance,_e.style.top="auto",_e.style.right="auto"):(_e.style.right=t.distance,_e.style.top=t.distance,_e.style.left="auto",_e.style.bottom="auto"),t.backOverlay){var tt=e.document.getElementById(g.overlayID)||e.document.createElement("div");tt.id=g.overlayID,tt.style.width="100%",tt.style.height="100%",tt.style.position="fixed",tt.style.zIndex=t.zindex-1,tt.style.left=0,tt.style.top=0,tt.style.right=0,tt.style.bottom=0,tt.style.background=ze.backOverlayColor||t.backOverlayColor,tt.className=t.cssAnimation?"nx-with-animation":"",tt.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(g.overlayID)||e.document.body.appendChild(tt)}e.document.getElementById(g.wrapID)||e.document.body.appendChild(_e);var Re=e.document.createElement("div");Re.id=t.ID+"-"+ee,Re.className=t.className+" "+ze.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&typeof ne!="function"?"nx-with-close-button":"")+" "+(typeof ne=="function"?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),Re.style.fontSize=t.fontSize,Re.style.color=ze.textColor,Re.style.background=ze.background,Re.style.borderRadius=t.borderRadius,Re.style.pointerEvents="all",t.rtl&&(Re.setAttribute("dir","rtl"),Re.classList.add("nx-rtl-on")),Re.style.fontFamily='"'+t.fontFamily+'", '+d,t.cssAnimation&&(Re.style.animationDuration=t.cssAnimationDuration+"ms");var ft="";if(t.closeButton&&typeof ne!="function"&&(ft='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+ze.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),!t.useIcon)Re.innerHTML='<span class="nx-message">'+X+"</span>"+(t.closeButton?ft:"");else if(t.useFontAwesome)Re.innerHTML='<i style="color:'+ze.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+ze.fontAwesomeClassName+" "+(t.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+X+"</span>"+(t.closeButton?ft:"");else{var It="";q===f.Success?It='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ze.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':q===f.Failure?It='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ze.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':q===f.Warning?It='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ze.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':q===f.Info&&(It='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+ze.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),Re.innerHTML=It+'<span class="nx-message nx-with-icon">'+X+"</span>"+(t.closeButton?ft:"")}if(t.position==="left-bottom"||t.position==="right-bottom"){var Xe=e.document.getElementById(g.wrapID);Xe.insertBefore(Re,Xe.firstChild)}else e.document.getElementById(g.wrapID).appendChild(Re);var Pe=e.document.getElementById(Re.id);if(Pe){var He,nt,st=function(){Pe.classList.add("nx-remove");var Fe=e.document.getElementById(g.overlayID);Fe&&0>=_e.childElementCount&&Fe.classList.add("nx-remove"),clearTimeout(He)},Gn=function(){if(Pe&&Pe.parentNode!==null&&Pe.parentNode.removeChild(Pe),0>=_e.childElementCount&&_e.parentNode!==null){_e.parentNode.removeChild(_e);var Fe=e.document.getElementById(g.overlayID);Fe&&Fe.parentNode!==null&&Fe.parentNode.removeChild(Fe)}clearTimeout(nt)};if(t.closeButton&&typeof ne!="function"){var un=e.document.getElementById(Re.id).querySelector("span.nx-close-button");un.addEventListener("click",function(){st();var Fe=setTimeout(function(){Gn(),clearTimeout(Fe)},t.cssAnimationDuration)})}if((typeof ne=="function"||t.clickToClose)&&Pe.addEventListener("click",function(){typeof ne=="function"&&ne(),st();var Fe=setTimeout(function(){Gn(),clearTimeout(Fe)},t.cssAnimationDuration)}),!t.closeButton&&typeof ne!="function"){var Bt=function(){He=setTimeout(function(){st()},t.timeout),nt=setTimeout(function(){Gn()},t.timeout+t.cssAnimationDuration)};Bt(),t.pauseOnHover&&(Pe.addEventListener("mouseenter",function(){Pe.classList.add("nx-paused"),clearTimeout(He),clearTimeout(nt)}),Pe.addEventListener("mouseleave",function(){Pe.classList.remove("nx-paused"),Bt()}))}}if(t.showOnlyTheLastOne&&0<ee)for(var Ft,dt=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+ee+"])"),qn=0;qn<dt.length;qn++)Ft=dt[qn],Ft.parentNode!==null&&Ft.parentNode.removeChild(Ft);t=A(!0,t,Oe)},re=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},pe=function(q,X,ne,Ne,Oe,We){if(!B("body"))return!1;s||ut.Report.init({});var ze={};if(typeof Oe=="object"&&!Array.isArray(Oe)||typeof We=="object"&&!Array.isArray(We)){var _e={};typeof Oe=="object"?_e=Oe:typeof We=="object"&&(_e=We),ze=A(!0,s,{}),s=A(!0,s,_e)}var tt=s[q.toLocaleLowerCase("en")];typeof X!="string"&&(X="Notiflix "+q),typeof ne!="string"&&(q===x.Success?ne='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':q===x.Failure?ne='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':q===x.Warning?ne='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':q===x.Info&&(ne='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),typeof Ne!="string"&&(Ne="Okay"),s.plainText&&(X=R(X),ne=R(ne),Ne=R(Ne)),s.plainText||(X.length>s.titleMaxLength&&(X="Possible HTML Tags Error",ne='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',Ne="Okay"),ne.length>s.messageMaxLength&&(X="Possible HTML Tags Error",ne='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',Ne="Okay"),Ne.length>s.buttonMaxLength&&(X="Possible HTML Tags Error",ne='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',Ne="Okay")),X.length>s.titleMaxLength&&(X=X.substring(0,s.titleMaxLength)+"..."),ne.length>s.messageMaxLength&&(ne=ne.substring(0,s.messageMaxLength)+"..."),Ne.length>s.buttonMaxLength&&(Ne=Ne.substring(0,s.buttonMaxLength)+"..."),s.cssAnimation||(s.cssAnimationDuration=0);var Re=e.document.createElement("div");Re.id=b.ID,Re.className=s.className,Re.style.zIndex=s.zindex,Re.style.borderRadius=s.borderRadius,Re.style.fontFamily='"'+s.fontFamily+'", '+d,s.rtl&&(Re.setAttribute("dir","rtl"),Re.classList.add("nx-rtl-on")),Re.style.display="flex",Re.style.flexWrap="wrap",Re.style.flexDirection="column",Re.style.alignItems="center",Re.style.justifyContent="center";var ft="",It=s.backOverlayClickToClose===!0;s.backOverlay&&(ft='<div class="'+s.className+"-overlay"+(s.cssAnimation?" nx-with-animation":"")+(It?" nx-report-click-to-close":"")+'" style="background:'+(tt.backOverlayColor||s.backOverlayColor)+";animation-duration:"+s.cssAnimationDuration+'ms;"></div>');var Xe="";if(q===x.Success?Xe=j(s.svgSize,tt.svgColor):q===x.Failure?Xe=P(s.svgSize,tt.svgColor):q===x.Warning?Xe=V(s.svgSize,tt.svgColor):q===x.Info&&(Xe=U(s.svgSize,tt.svgColor)),Re.innerHTML=ft+'<div class="'+s.className+"-content"+(s.cssAnimation?" nx-with-animation ":"")+" nx-"+s.cssAnimationStyle+'" style="width:'+s.width+"; background:"+s.backgroundColor+"; animation-duration:"+s.cssAnimationDuration+'ms;"><div style="width:'+s.svgSize+"; height:"+s.svgSize+';" class="'+s.className+'-icon">'+Xe+'</div><h5 class="'+s.className+'-title" style="font-weight:500; font-size:'+s.titleFontSize+"; color:"+tt.titleColor+';">'+X+'</h5><p class="'+s.className+'-message" style="font-size:'+s.messageFontSize+"; color:"+tt.messageColor+';">'+ne+'</p><a id="NXReportButton" class="'+s.className+'-button" style="font-weight:500; font-size:'+s.buttonFontSize+"; background:"+tt.buttonBackground+"; color:"+tt.buttonColor+';">'+Ne+"</a></div>",!e.document.getElementById(Re.id)){e.document.body.appendChild(Re);var Pe=function(){var st=e.document.getElementById(Re.id);st.classList.add("nx-remove");var Gn=setTimeout(function(){st.parentNode!==null&&st.parentNode.removeChild(st),clearTimeout(Gn)},s.cssAnimationDuration)},He=e.document.getElementById("NXReportButton");if(He.addEventListener("click",function(){typeof Oe=="function"&&Oe(),Pe()}),ft&&It){var nt=e.document.querySelector(".nx-report-click-to-close");nt.addEventListener("click",function(){Pe()})}}s=A(!0,s,ze)},xe=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},ye=function(q,X,ne,Ne,Oe,We,ze,_e,tt){if(!B("body"))return!1;i||ut.Confirm.init({});var Re=A(!0,i,{});typeof tt!="object"||Array.isArray(tt)||(i=A(!0,i,tt)),typeof X!="string"&&(X="Notiflix Confirm"),typeof ne!="string"&&(ne="Do you agree with me?"),typeof Oe!="string"&&(Oe="Yes"),typeof We!="string"&&(We="No"),typeof ze!="function"&&(ze=void 0),typeof _e!="function"&&(_e=void 0),i.plainText&&(X=R(X),ne=R(ne),Oe=R(Oe),We=R(We)),i.plainText||(X.length>i.titleMaxLength&&(X="Possible HTML Tags Error",ne='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',Oe="Okay",We="..."),ne.length>i.messageMaxLength&&(X="Possible HTML Tags Error",ne='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',Oe="Okay",We="..."),(Oe.length||We.length)>i.buttonsMaxLength&&(X="Possible HTML Tags Error",ne='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',Oe="Okay",We="...")),X.length>i.titleMaxLength&&(X=X.substring(0,i.titleMaxLength)+"..."),ne.length>i.messageMaxLength&&(ne=ne.substring(0,i.messageMaxLength)+"..."),Oe.length>i.buttonsMaxLength&&(Oe=Oe.substring(0,i.buttonsMaxLength)+"..."),We.length>i.buttonsMaxLength&&(We=We.substring(0,i.buttonsMaxLength)+"..."),i.cssAnimation||(i.cssAnimationDuration=0);var ft=e.document.createElement("div");ft.id=S.ID,ft.className=i.className+(i.cssAnimation?" nx-with-animation nx-"+i.cssAnimationStyle:""),ft.style.zIndex=i.zindex,ft.style.padding=i.distance,i.rtl&&(ft.setAttribute("dir","rtl"),ft.classList.add("nx-rtl-on"));var It=typeof i.position=="string"?i.position.trim():"center";ft.classList.add("nx-position-"+It),ft.style.fontFamily='"'+i.fontFamily+'", '+d;var Xe="";i.backOverlay&&(Xe='<div class="'+i.className+"-overlay"+(i.cssAnimation?" nx-with-animation":"")+'" style="background:'+i.backOverlayColor+";animation-duration:"+i.cssAnimationDuration+'ms;"></div>');var Pe="";typeof ze=="function"&&(Pe='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+i.cancelButtonColor+";background:"+i.cancelButtonBackground+";font-size:"+i.buttonsFontSize+';">'+We+"</a>");var He="",nt=null,st=void 0;if(q===E.Ask||q===E.Prompt){nt=Ne||"";var Gn=q===E.Ask||200<nt.length?Math.ceil(1.5*nt.length):250,un=q===E.Prompt?'value="'+nt+'"':"";He='<div><input id="NXConfirmValidationInput" type="text" '+un+' maxlength="'+Gn+'" style="font-size:'+i.messageFontSize+";border-radius: "+i.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(ft.innerHTML=Xe+'<div class="'+i.className+'-content" style="width:'+i.width+"; background:"+i.backgroundColor+"; animation-duration:"+i.cssAnimationDuration+"ms; border-radius: "+i.borderRadius+';"><div class="'+i.className+'-head"><h5 style="color:'+i.titleColor+";font-size:"+i.titleFontSize+';">'+X+'</h5><div style="color:'+i.messageColor+";font-size:"+i.messageFontSize+';">'+ne+He+'</div></div><div class="'+i.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+(typeof ze=="function"?"":" nx-full")+'" style="color:'+i.okButtonColor+";background:"+i.okButtonBackground+";font-size:"+i.buttonsFontSize+';">'+Oe+"</a>"+Pe+"</div></div>",!e.document.getElementById(ft.id)){e.document.body.appendChild(ft);var Bt=e.document.getElementById(ft.id),Ft=e.document.getElementById("NXConfirmButtonOk"),dt=e.document.getElementById("NXConfirmValidationInput");if(dt&&(dt.focus(),dt.setSelectionRange(0,(dt.value||"").length),dt.addEventListener("keyup",function(Fe){var vs=Fe.target.value;if(q===E.Ask&&vs!==nt)Fe.preventDefault(),dt.classList.add("nx-validation-failure"),dt.classList.remove("nx-validation-success");else{q===E.Ask&&(dt.classList.remove("nx-validation-failure"),dt.classList.add("nx-validation-success"));var Us=(Fe.key||"").toLocaleLowerCase("en")==="enter"||Fe.keyCode===13;Us&&Ft.dispatchEvent(new Event("click"))}})),Ft.addEventListener("click",function(Fe){if(q===E.Ask&&nt&&dt){var vs=(dt.value||"").toString();if(vs!==nt)return dt.focus(),dt.classList.add("nx-validation-failure"),Fe.stopPropagation(),Fe.preventDefault(),Fe.returnValue=!1,Fe.cancelBubble=!0,!1;dt.classList.remove("nx-validation-failure")}typeof ze=="function"&&(q===E.Prompt&&dt&&(st=dt.value||""),ze(st)),Bt.classList.add("nx-remove");var Us=setTimeout(function(){Bt.parentNode!==null&&(Bt.parentNode.removeChild(Bt),clearTimeout(Us))},i.cssAnimationDuration)}),typeof ze=="function"){var qn=e.document.getElementById("NXConfirmButtonCancel");qn.addEventListener("click",function(){typeof _e=="function"&&(q===E.Prompt&&dt&&(st=dt.value||""),_e(st)),Bt.classList.add("nx-remove");var Fe=setTimeout(function(){Bt.parentNode!==null&&(Bt.parentNode.removeChild(Bt),clearTimeout(Fe))},i.cssAnimationDuration)})}}i=A(!0,i,Re)},De=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},be=function(q,X,ne,Ne,Oe){if(!B("body"))return!1;a||ut.Loading.init({});var We=A(!0,a,{});if(typeof X=="object"&&!Array.isArray(X)||typeof ne=="object"&&!Array.isArray(ne)){var ze={};typeof X=="object"?ze=X:typeof ne=="object"&&(ze=ne),a=A(!0,a,ze)}var _e="";if(typeof X=="string"&&0<X.length&&(_e=X),Ne){_e=_e.length>a.messageMaxLength?R(_e).toString().substring(0,a.messageMaxLength)+"...":R(_e).toString();var tt="";0<_e.length&&(tt='<p id="'+a.messageID+'" class="nx-loading-message" style="color:'+a.messageColor+";font-size:"+a.messageFontSize+';">'+_e+"</p>"),a.cssAnimation||(a.cssAnimationDuration=0);var Re="";if(q===w.Standard)Re=L(a.svgSize,a.svgColor);else if(q===w.Hourglass)Re=ge(a.svgSize,a.svgColor);else if(q===w.Circle)Re=ue(a.svgSize,a.svgColor);else if(q===w.Arrows)Re=W(a.svgSize,a.svgColor);else if(q===w.Dots)Re=ae(a.svgSize,a.svgColor);else if(q===w.Pulse)Re=we(a.svgSize,a.svgColor);else if(q===w.Custom&&a.customSvgCode!==null&&a.customSvgUrl===null)Re=a.customSvgCode||"";else if(q===w.Custom&&a.customSvgUrl!==null&&a.customSvgCode===null)Re='<img class="nx-custom-loading-icon" width="'+a.svgSize+'" height="'+a.svgSize+'" src="'+a.customSvgUrl+'" alt="Notiflix">';else{if(q===w.Custom&&(a.customSvgUrl===null||a.customSvgCode===null))return M('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;Re=Ae(a.svgSize,"#f8f8f8","#32c682")}var ft=parseInt((a.svgSize||"").replace(/[^0-9]/g,"")),It=e.innerWidth,Xe=ft>=It?It-40+"px":ft+"px",Pe='<div style="width:'+Xe+"; height:"+Xe+';" class="'+a.className+"-icon"+(0<_e.length?" nx-with-message":"")+'">'+Re+"</div>",He=e.document.createElement("div");if(He.id=T.ID,He.className=a.className+(a.cssAnimation?" nx-with-animation":"")+(a.clickToClose?" nx-loading-click-to-close":""),He.style.zIndex=a.zindex,He.style.background=a.backgroundColor,He.style.animationDuration=a.cssAnimationDuration+"ms",He.style.fontFamily='"'+a.fontFamily+'", '+d,He.style.display="flex",He.style.flexWrap="wrap",He.style.flexDirection="column",He.style.alignItems="center",He.style.justifyContent="center",a.rtl&&(He.setAttribute("dir","rtl"),He.classList.add("nx-rtl-on")),He.innerHTML=Pe+tt,!e.document.getElementById(He.id)&&(e.document.body.appendChild(He),a.clickToClose)){var nt=e.document.getElementById(He.id);nt.addEventListener("click",function(){He.classList.add("nx-remove");var un=setTimeout(function(){He.parentNode!==null&&(He.parentNode.removeChild(He),clearTimeout(un))},a.cssAnimationDuration)})}}else if(e.document.getElementById(T.ID))var st=e.document.getElementById(T.ID),Gn=setTimeout(function(){st.classList.add("nx-remove");var un=setTimeout(function(){st.parentNode!==null&&(st.parentNode.removeChild(st),clearTimeout(un))},a.cssAnimationDuration);clearTimeout(Gn)},Oe);a=A(!0,a,We)},Ke=function(q){typeof q!="string"&&(q="");var X=e.document.getElementById(T.ID);if(X)if(0<q.length){q=q.length>a.messageMaxLength?R(q).substring(0,a.messageMaxLength)+"...":R(q);var ne=X.getElementsByTagName("p")[0];if(ne)ne.innerHTML=q;else{var Ne=e.document.createElement("p");Ne.id=a.messageID,Ne.className="nx-loading-message nx-loading-message-new",Ne.style.color=a.messageColor,Ne.style.fontSize=a.messageFontSize,Ne.innerHTML=q,X.appendChild(Ne)}}else M("Where is the new message?")},qe=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},Me=0,Qe=function(q,X,ne,Ne,Oe,We){var ze;if(Array.isArray(ne)){if(1>ne.length)return M("Array of HTMLElements should contains at least one HTMLElement."),!1;ze=ne}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,ne)){if(1>ne.length)return M("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;ze=Array.prototype.slice.call(ne)}else{var _e=typeof ne!="string"||1>(ne||"").length||(ne||"").length===1&&((ne||"")[0]==="#"||(ne||"")[0]===".");if(_e)return M("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var tt=e.document.querySelectorAll(ne);if(1>tt.length)return M('You called the "Notiflix.Block..." function with "'+ne+'" selector, but there is no such element(s) in the document.'),!1;ze=tt}l||ut.Block.init({});var Re=A(!0,l,{});if(typeof Ne=="object"&&!Array.isArray(Ne)||typeof Oe=="object"&&!Array.isArray(Oe)){var ft={};typeof Ne=="object"?ft=Ne:typeof Oe=="object"&&(ft=Oe),l=A(!0,l,ft)}var It="";typeof Ne=="string"&&0<Ne.length&&(It=Ne),l.cssAnimation||(l.cssAnimationDuration=0);var Xe=I.className;typeof l.className=="string"&&(Xe=l.className.trim());var Pe=typeof l.querySelectorLimit=="number"?l.querySelectorLimit:200,He=(ze||[]).length>=Pe?Pe:ze.length,nt="nx-block-temporary-position";if(q){for(var st,Gn=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],un=0;un<He;un++)if(st=ze[un],st){if(-1<Gn.indexOf(st.tagName.toLocaleLowerCase("en")))break;var Bt=st.querySelectorAll("[id^="+I.ID+"]");if(1>Bt.length){var Ft="";X&&(X===k.Hourglass?Ft=ge(l.svgSize,l.svgColor):X===k.Circle?Ft=ue(l.svgSize,l.svgColor):X===k.Arrows?Ft=W(l.svgSize,l.svgColor):X===k.Dots?Ft=ae(l.svgSize,l.svgColor):X===k.Pulse?Ft=we(l.svgSize,l.svgColor):Ft=L(l.svgSize,l.svgColor));var dt='<span class="'+Xe+'-icon" style="width:'+l.svgSize+";height:"+l.svgSize+';">'+Ft+"</span>",qn="";0<It.length&&(It=It.length>l.messageMaxLength?R(It).substring(0,l.messageMaxLength)+"...":R(It),qn='<span style="font-size:'+l.messageFontSize+";color:"+l.messageColor+';" class="'+Xe+'-message">'+It+"</span>"),Me++;var Fe=e.document.createElement("div");Fe.id=I.ID+"-"+Me,Fe.className=Xe+(l.cssAnimation?" nx-with-animation":""),Fe.style.position=l.position,Fe.style.zIndex=l.zindex,Fe.style.background=l.backgroundColor,Fe.style.animationDuration=l.cssAnimationDuration+"ms",Fe.style.fontFamily='"'+l.fontFamily+'", '+d,Fe.style.display="flex",Fe.style.flexWrap="wrap",Fe.style.flexDirection="column",Fe.style.alignItems="center",Fe.style.justifyContent="center",l.rtl&&(Fe.setAttribute("dir","rtl"),Fe.classList.add("nx-rtl-on")),Fe.innerHTML=dt+qn;var vs=e.getComputedStyle(st).getPropertyValue("position"),Us=typeof vs=="string"?vs.toLocaleLowerCase("en"):"relative",Tr=Math.round(1.25*parseInt(l.svgSize))+40,Bs=st.offsetHeight||0,as="";Tr>Bs&&(as="min-height:"+Tr+"px;");var Sr="";Sr=st.getAttribute("id")?"#"+st.getAttribute("id"):st.classList[0]?"."+st.classList[0]:(st.tagName||"").toLocaleLowerCase("en");var os="",Nr=-1>=["absolute","relative","fixed","sticky"].indexOf(Us);if(Nr||0<as.length){if(!B("head"))return!1;Nr&&(os="position:relative!important;");var ni='<style id="Style-'+I.ID+"-"+Me+'">'+Sr+"."+nt+"{"+os+as+"}</style>",Mi=e.document.createRange();Mi.selectNode(e.document.head);var si=Mi.createContextualFragment(ni);e.document.head.appendChild(si),st.classList.add(nt)}st.appendChild(Fe)}}}else var jo=function(Et){var yn=setTimeout(function(){Et.parentNode!==null&&Et.parentNode.removeChild(Et);var Oi=Et.getAttribute("id"),ls=e.document.getElementById("Style-"+Oi);ls&&ls.parentNode!==null&&ls.parentNode.removeChild(ls),clearTimeout(yn)},l.cssAnimationDuration)},Dt=function(Et){if(Et&&0<Et.length)for(var yn,Oi=0;Oi<Et.length;Oi++)yn=Et[Oi],yn&&(yn.classList.add("nx-remove"),jo(yn));else z(typeof ne=="string"?'"Notiflix.Block.remove();" function called with "'+ne+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+ne+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Yt=function(Et){var yn=setTimeout(function(){Et.classList.remove(nt),clearTimeout(yn)},l.cssAnimationDuration+300)},Gt=setTimeout(function(){for(var Et,yn=0;yn<He;yn++)Et=ze[yn],Et&&(Yt(Et),Bt=Et.querySelectorAll("[id^="+I.ID+"]"),Dt(Bt));clearTimeout(Gt)},We);l=A(!0,l,Re)},ut={Notify:{init:function(q){t=A(!0,g,q),$(G,"NotiflixNotifyInternalCSS")},merge:function(q){return t?void(t=A(!0,t,q)):(M("You have to initialize the Notify module before call Merge function."),!1)},success:function(q,X,ne){fe(f.Success,q,X,ne)},failure:function(q,X,ne){fe(f.Failure,q,X,ne)},warning:function(q,X,ne){fe(f.Warning,q,X,ne)},info:function(q,X,ne){fe(f.Info,q,X,ne)}},Report:{init:function(q){s=A(!0,b,q),$(re,"NotiflixReportInternalCSS")},merge:function(q){return s?void(s=A(!0,s,q)):(M("You have to initialize the Report module before call Merge function."),!1)},success:function(q,X,ne,Ne,Oe){pe(x.Success,q,X,ne,Ne,Oe)},failure:function(q,X,ne,Ne,Oe){pe(x.Failure,q,X,ne,Ne,Oe)},warning:function(q,X,ne,Ne,Oe){pe(x.Warning,q,X,ne,Ne,Oe)},info:function(q,X,ne,Ne,Oe){pe(x.Info,q,X,ne,Ne,Oe)}},Confirm:{init:function(q){i=A(!0,S,q),$(xe,"NotiflixConfirmInternalCSS")},merge:function(q){return i?void(i=A(!0,i,q)):(M("You have to initialize the Confirm module before call Merge function."),!1)},show:function(q,X,ne,Ne,Oe,We,ze){ye(E.Show,q,X,null,ne,Ne,Oe,We,ze)},ask:function(q,X,ne,Ne,Oe,We,ze,_e){ye(E.Ask,q,X,ne,Ne,Oe,We,ze,_e)},prompt:function(q,X,ne,Ne,Oe,We,ze,_e){ye(E.Prompt,q,X,ne,Ne,Oe,We,ze,_e)}},Loading:{init:function(q){a=A(!0,T,q),$(De,"NotiflixLoadingInternalCSS")},merge:function(q){return a?void(a=A(!0,a,q)):(M("You have to initialize the Loading module before call Merge function."),!1)},standard:function(q,X){be(w.Standard,q,X,!0,0)},hourglass:function(q,X){be(w.Hourglass,q,X,!0,0)},circle:function(q,X){be(w.Circle,q,X,!0,0)},arrows:function(q,X){be(w.Arrows,q,X,!0,0)},dots:function(q,X){be(w.Dots,q,X,!0,0)},pulse:function(q,X){be(w.Pulse,q,X,!0,0)},custom:function(q,X){be(w.Custom,q,X,!0,0)},notiflix:function(q,X){be(w.Notiflix,q,X,!0,0)},remove:function(q){typeof q!="number"&&(q=0),be(null,null,null,!1,q)},change:function(q){Ke(q)}},Block:{init:function(q){l=A(!0,I,q),$(qe,"NotiflixBlockInternalCSS")},merge:function(q){return l?void(l=A(!0,l,q)):(M('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(q,X,ne){Qe(!0,k.Standard,q,X,ne)},hourglass:function(q,X,ne){Qe(!0,k.Hourglass,q,X,ne)},circle:function(q,X,ne){Qe(!0,k.Circle,q,X,ne)},arrows:function(q,X,ne){Qe(!0,k.Arrows,q,X,ne)},dots:function(q,X,ne){Qe(!0,k.Dots,q,X,ne)},pulse:function(q,X,ne){Qe(!0,k.Pulse,q,X,ne)},remove:function(q,X){typeof X!="number"&&(X=0),Qe(!1,null,q,null,null,X)}}};return typeof e.Notiflix=="object"?A(!0,e.Notiflix,{Notify:ut.Notify,Report:ut.Report,Confirm:ut.Confirm,Loading:ut.Loading,Block:ut.Block}):{Notify:ut.Notify,Report:ut.Report,Confirm:ut.Confirm,Loading:ut.Loading,Block:ut.Block}})}(Af)),Af.exports}var WO=qO();const me=fE(WO),YO={user:null,status:"loading",error:null},lN=F.createContext();function KO(n,e){switch(e.type){case"AUTH_INIT":return{...n,status:"loading"};case"AUTH_READY":return{...n,user:e.payload,status:e.payload?"authenticated":"idle",error:null};case"LOGIN_REQUEST":return{...n,status:"loading",error:null};case"LOGIN_SUCCESS":return{...n,user:e.payload,status:"authenticated"};case"LOGIN_FAILURE":return{...n,user:null,status:"error",error:e.payload};case"LOGOUT_SUCCESS":return{...n,user:null,status:"idle"};case"REGISTER_REQUEST":return{...n,status:"loading",error:null};case"REGISTER_SUCCESS":return{...n,user:e.payload,status:"authenticated"};case"REGISTER_FAILURE":return{...n,user:null,status:"error",error:e.payload};default:return n}}const XO=({children:n})=>{const[e,t]=F.useReducer(KO,YO);F.useEffect(()=>{t({type:"AUTH_INIT"});const l=mD(Wh,async u=>{if(!u){t({type:"AUTH_READY",payload:null});return}let d=u.displayName?.trim()||"";if(!d)try{const g=await getDoc(Fn(Sn,"users",u.uid)),x=g.exists()?(g.data()?.dtName||"").trim():"";if(x){d=x;try{await _1(u,{displayName:x})}catch{}}}catch{}d||(d=u.email?.split("@")[0]||"");const f={...u,displayName:d};t({type:"AUTH_READY",payload:f})});return()=>l()},[]);const s=async(l,u)=>{t({type:"LOGIN_REQUEST"});try{const d=await uD(Wh,l,u);t({type:"LOGIN_SUCCESS",payload:d.user}),me.Notify.success("Inicio de sesin exitoso")}catch(d){t({type:"LOGIN_FAILURE",payload:d}),me.Notify.failure("Error al iniciar sesin")}},i=async()=>{try{await pD(Wh),t({type:"LOGOUT_SUCCESS"}),me.Notify.success("Sesin cerrada")}catch(l){me.Notify.failure("Error al cerrar sesin"),console.error("Error al cerrar sesin:",l)}},a=async(l,u,d)=>{t({type:"REGISTER_REQUEST"});try{const f=await cD(Wh,l,u);await _1(f.user,{displayName:d}),await lc(Fn(Sn,"users",f.user.uid),{dtName:d,email:l,createdAt:_r()},{merge:!0}),t({type:"REGISTER_SUCCESS",payload:f.user}),me.Notify.success("Registro exitoso")}catch(f){t({type:"REGISTER_FAILURE",payload:"Error al registrar usuario"}),me.Notify.failure("Error al registrar usuario"),console.error("Error al registrar usuario:",f)}};return m.jsx(lN.Provider,{value:{user:e.user,loading:e.status==="loading",handleLogin:s,handleLogout:i,handleRegister:a,uid:e.user?.uid,isAuthenticated:e.status==="authenticated"},children:n})},cn=()=>F.useContext(lN),cx=(n={})=>{const[e,t]=F.useState(n);return{form:e,changed:({target:a})=>{const{name:l,value:u}=a;t({...e,[l]:u})},setValue:(a,l)=>{t(u=>({...u,[a]:l}))}}},QO=()=>{const{handleRegister:n}=cn(),{form:e,changed:t}=cx(),s=async i=>{i.preventDefault();let a=e;if(!a.email||!a.password||!a.nombre){me.Notify.failure("Por favor, completa todos los campos");return}if(a.password!==a.confirmPassword){me.Notify.failure("Las contraseas no coinciden");return}try{const l=await n(a.email,a.password,a.nombre)}catch(l){console.error("Error al registrar usuario:",l)}};return m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs("form",{onSubmit:s,children:[m.jsx("label",{htmlFor:"nombre",children:"Director Tcnico"}),m.jsx("input",{name:"nombre",className:"w-full border rounded p-2",type:"text",placeholder:"Nombre del DT",required:!0,onChange:t}),m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{name:"email",className:"w-full border rounded p-2",type:"email",placeholder:"Email",required:!0,onChange:t}),m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{name:"password",className:"w-full border rounded p-2",type:"password",placeholder:"Contrasea",required:!0,onChange:t}),m.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),m.jsx("input",{name:"confirmPassword",className:"w-full border rounded p-2",type:"password",placeholder:"Confirmar Contrasea",required:!0,onChange:t}),m.jsx("input",{className:"text-blue-600 hover:underline bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2",type:"submit",value:"Registrarse"})]})})},JO=()=>{const{form:n,changed:e}=cx(),{user:t,loading:s,handleLogin:i}=cn(),[a,l]=F.useState(!1),[u,d]=F.useState(!1),f=sd();F.useEffect(()=>{if(t&&!s)f("/partidos",{replace:!0});else return},[t,s,f]),F.useEffect(()=>(s&&me.Loading.circle("Cargando"),()=>{me.Loading.remove()}),[s]);const g=async b=>{b.preventDefault();let{email:E,password:S}=n;if(!E||!S){me.Notify.failure("Por favor, completa todos los campos");return}try{const w=await i(E,S)}catch(w){me.Notify.failure("Error al iniciar sesin"),console.error("Error al iniciar sesin:",w)}},x=()=>{l(!a)};return m.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Iniciar Sesin"}),m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs("form",{action:"",onSubmit:g,children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",name:"email",id:"email",onChange:e,className:"w-full border rounded p-2"}),m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{type:u?"text":"password",name:"password",id:"password",onChange:e,className:"w-full border rounded p-2"}),m.jsx("button",{type:"button",onClick:()=>d(!u),className:"text-sm text-blue-600 hover:text-red-600",children:u?"Ocultar Contrasea":"Ver Contrasea"}),m.jsx("input",{type:"submit",value:"Ingresar",className:"text-blue-600 hover:font-bold bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2"})]})}),m.jsx("button",{onClick:x,className:"text-2xl font-bold mb-4 mt-4 text-center hover:text-blue-600 hover:cursor-pointer",children:"Registrarse"}),a&&m.jsx(QO,{})]})},cN={fecha:"2018-07-01",bootstrapped:!0,rival:"",activeClub:"",torneoName:"",torneoYear:null,torneoDisplay:"",condition:"",torneosIndex:[],matches:[],rivalesIndex:[],captain:"",starters:[],substitutes:[],goleadoresActiveClub:[],goleadoresRivales:[],autogolesFavor:0,editingMatchId:null,editingClub:null,editingCreatedAt:null};function ZO(n,e){switch(e.type){case"ACTUALIZAR_CAMPO":return{...n,[e.campo]:e.valor};case"SET_FECHA":{const s=e.payload;return typeof s!="string"||s.trim()===""?n:{...n,fecha:s,bootstrapped:!0}}case"SET_RIVAL":{const s=e.payload;return typeof s!="string"||s.trim()===""?n:{...n,rival:s}}case"HYDRATE_FROM_FIREBASE":{const s=e.payload||{};return{...n,activeClub:s.activeClub??n.activeClub,torneosIndex:Array.isArray(s.torneosIndex)?s.torneosIndex:[],matches:Array.isArray(s.matches)?s.matches:n.matches,rivalesIndex:Array.isArray(s.rivalesIndex)?s.rivalesIndex:[],goleadoresActiveClub:Array.isArray(s.goleadoresActiveClub)?s.goleadoresActiveClub:n.goleadoresActiveClub}}case"SET_FORMACION":{const{captain:s,starters:i}=e.payload;return{...n,captain:s,starters:i}}case"SET_SUBS":const{substitutes:t}=e.payload;return{...n,substitutes:t};case"ADD_GOLEADOR":{const{name:s,activeClub:i}=e.payload;return n.goleadoresActiveClub.some(l=>l.name===s&&l.activeClub===i)?n:{...n,goleadoresActiveClub:[...n.goleadoresActiveClub,{name:s,activeClub:i,gol:!!e.payload.gol,doblete:!!e.payload.doblete,triplete:!!e.payload.triplete,hattrick:!!e.payload.hattrick,expulsion:!!e.payload.expulsion,isOwnGoal:!!e.payload.isOwnGoal}]}}case"TOGGLE_EVENT":{const{name:s,activeClub:i,event:a}=e.payload;return{...n,goleadoresActiveClub:n.goleadoresActiveClub.map(l=>l.name===s&&l.activeClub===i?{...l,[a]:!l[a]}:l)}}case"REMOVE_GOLEADOR":{const{name:s,activeClub:i}=e.payload;return{...n,goleadoresActiveClub:n.goleadoresActiveClub.filter(a=>!(a.name===s&&a.activeClub===i))}}case"RESET_FORM":return{...cN,activeClub:n.activeClub,torneosIndex:n.torneosIndex,matches:n.matches,rivalesIndex:n.rivalesIndex};case"OWN_GOAL_FAVOR_INC":return{...n,autogolesFavor:(n.autogolesFavor||0)+1};case"OWN_GOAL_FAVOR_DEC":return{...n,autogolesFavor:Math.max(0,(n.autogolesFavor||0)-1)};case"RIVAL_ADD":{const s=e.payload;return n.goleadoresRivales.some(a=>a.name===s.name&&a.club===s.club)?n:{...n,goleadoresRivales:[...n.goleadoresRivales,s]}}case"RIVAL_TOGGLE":{const{name:s,club:i,field:a}=e.payload;return{...n,goleadoresRivales:n.goleadoresRivales.map(l=>l.name===s&&l.club===i?{...l,[a]:!l[a]}:l)}}case"RIVAL_REMOVE":{const{name:s,club:i}=e.payload;return{...n,goleadoresRivales:n.goleadoresRivales.filter(a=>!(a.name===s&&a.club===i))}}case"LOAD_MATCH_FOR_EDIT":{const s=e.payload?.match;return s?{...n,editingMatchId:s.id,editingClub:s.club??null,editingCreatedAt:s.createdAt??null,fecha:s.fecha??"",captain:s.captain??"",condition:s.condition??"local",rival:s.rival??"",torneoName:s.torneoName??"",starters:Array.isArray(s.starters)?s.starters:[],substitutes:Array.isArray(s.substitutes)?s.substitutes:[],goleadoresActiveClub:Array.isArray(s.goleadoresActiveClub)?s.goleadoresActiveClub:[],goleadoresRivales:Array.isArray(s.goleadoresRivales)?s.goleadoresRivales:[],autogolesFavor:Number.isFinite(s.autogolesFavor)?s.autogolesFavor:0}:n}default:return n}}const uN=F.createContext(null);function rs(){const n=F.useContext(uN);if(!n)throw new Error("usePartido debe usarse dentro de <PartidoProvider>");return n}function e3({children:n}){const[e,t]=F.useReducer(ZO,cN),s=dr.useMemo(()=>({state:e,dispatch:t}),[e]);return m.jsx(uN.Provider,{value:s,children:n})}function Ee(n=""){return(n??"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const ux=async(n,e,t)=>{if(n)try{me.Loading.standard("Cargando datos...");const s=Fn(Sn,"users",n),i=await oc(s);if(i.exists()){const a=i.data(),{lineups:l,torneosIndex:u,rivalesIndex:d}=a||{},f=Ee(a?.activeClub),g=f?a?.lineups?.[f]?.matches||[]:[];e({type:"HYDRATE_FROM_FIREBASE",payload:{torneosIndex:u,rivalesIndex:d,matches:g}}),t&&l&&typeof l=="object"&&(t({type:"LINEUPS_SET_ALL",payload:{lineups:l}}),t({type:"SET_MANAGED_CLUBS",payload:{clubs:Object.keys(l)}}));const x=g.map(b=>b?.fecha).filter(Boolean).sort((b,E)=>new Date(b)-new Date(E)).at(-1);x&&(me.Notify.success("Info Sincronizado"),e({type:"ACTUALIZAR_CAMPO",campo:"fecha",valor:x}))}else console.warn("[Partido] no existe doc para uid:",n)}catch(s){console.error("Error al montar el formulario",s),me.Notify.failure("Error al cargar el formulario")}finally{me.Loading.remove()}},zs=(n,e,t)=>{F.useEffect(()=>{ux(n,e,t)},[n])},dx="LINEUP_RESET",yo="LINEUP_SET_SELECTED",dN="LINEUP_SET_CAPTAIN",hx="LINEUP_ADD_STARTER",hN="LINEUP_REMOVE_STARTER",fx="LINEUP_SAVE_LOCAL",mx="CLUB_RESET",t3="PLAYERS_ADD",fN="PLAYERS_REMOVE",mN="LINEUP_DELETE_LOCAL",Ku="SAVE_CLUB_NAME",Xu="CLUB_LOAD_FROM_ACTIVE",Am="LINEUPS_UPSERT_BUCKET",n3={captainName:null,starters:[],selectMode:"captain",selectedOption:"",lineups:{},activeClub:"",players:[],usedClub:!1,managedClubs:[]},pN=F.createContext();function Hn(){const n=F.useContext(pN);if(!n)throw new Error("useLineups debe usarse dentro de <LineupsProvider>");return n}function s3(n,e){switch(e.type){case mx:return{activeClub:"",players:[],lineups:{}};case dx:return{...n,captainName:null,starters:[],selectMode:"captain",selectedOption:""};case yo:return{...n,selectedOption:e.payload};case dN:{if(!e.payload||typeof e.payload.captain!="string")return n;const t=Ee(e.payload.captain);if(t===""||n.starters.length>=11&&!n.starters.includes(t))return n;const s=n.starters.includes(t)?n.starters:[...n.starters,t];return{...n,captainName:t,starters:s,selectMode:"starters",selectedOption:""}}case fx:{const t=Ee(n.activeClub??"");if(!t)return n;const i=n.lineups?.[t]??{label:t,players:[],formations:[]};if(!e.payload)return n;const{id:a,captain:l,starters:u,createdAt:d}=e.payload,f=Ee(l),g=Array.isArray(u)?u.map(Ee):[],x=d&&!Number.isNaN(new Date(d).getTime());if(!a||g.length!==11||!f||!x||!g.includes(f))return n;const b=Array.isArray(i.players)?[...i.players]:[];if(i.formations.some(k=>k.id===a))return n;const S=new Date(d).toISOString(),w={id:a,createdAt:S,captain:f,starters:[...g]},T={label:i.label||t,players:b,formations:[w,...i.formations]};return{...n,lineups:{...n.lineups,[t]:T},captainName:null,starters:[],selectMode:"captain",selectedOption:""}}case hx:{if(!e.payload||typeof e.payload.player!="string")return n;const t=Ee(e.payload.player);return t===""||n.starters.length>=11||n.starters.includes(t)?n:{...n,starters:[...n.starters,t],selectMode:"starters",selectedOption:""}}case hN:{if(!e.payload||typeof e.payload.player!="string")return n;const t=Ee(e.payload.player);if(t===""||!n.starters.includes(t))return n;const s=n.starters.filter(a=>a!==t),i=t===n.captainName;return{...n,captainName:i?null:n.captainName,starters:s,selectMode:i?"captain":n.selectMode,selectedOption:""}}case mN:{if(!e.payload||typeof e.payload.id!="string")return n;const t=Ee(n.activeClub??"");if(!t)return n;const s=n.lineups?.[t];if(!s)return n;const i=s.formations.length,a=s.formations.filter(l=>l.id!==e.payload.id);return a.length===i?n:{...n,lineups:{...n.lineups,[t]:{...s,formations:a}}}}case"SET_MANAGED_CLUBS":{const t=new Set,s=(e.payload?.clubs||[]).map(i=>Ee(i)).filter(i=>i&&!t.has(i)&&t.add(i));return{...n,managedClubs:s}}case"UPDATE_TORNEO_CONFIG":return{...n,lineups:{...n.lineups,[e.payload.clubKey]:{...n.lineups[e.payload.clubKey],torneosConfig:{...n.lineups[e.payload.clubKey].torneosConfig,[e.payload.torneo]:e.payload.settings}}}};case"LINEUPS_SET_ALL":{const t=e.payload?.lineups;return!t||typeof t!="object"?n:{...n,lineups:{...n.lineups,...t}}}case t3:{if(!e.payload||typeof e.payload.name!="string")return n;const t=Ee(e.payload.name);if(t==="")return n;const s=Ee(n.activeClub??"");if(!s)return n;const i=n.lineups?.[s]??{label:s,players:[],formations:[]},a=Array.isArray(i.players)?i.players:[];if(a.includes(t))return n;const l=[...a,t].sort((u,d)=>u.localeCompare(d,"es",{sensitivity:"base"}));return{...n,lineups:{...n.lineups,[s]:{...i,players:l}},players:l}}case fN:{const t=e.payload?.name??"",s=Ee(t);if(!s)return n;const i=n.players.filter(g=>g!==s),a=n.starters.filter(g=>g!==s),l=Ee(n.captainName)===s,u=Ee(n.activeClub??""),d=u?n.lineups?.[u]:null;let f=n.lineups;if(d){const g=d.players.filter(b=>b!==s),x=d.formations.filter(b=>{const E=Ee(b.captain)===s,S=Array.isArray(b.starters)&&b.starters.some(w=>w===s);return!(E||S)});f={...n.lineups,[u]:{...d,players:g,formations:x}}}return{...n,players:i,starters:a,captainName:l?null:n.captainName,selectMode:l?"captain":n.selectMode,lineups:f}}case Ku:{if(!e.payload||typeof e.payload.name!="string")return n;const t=Ee(e.payload.name);if(t==="")return n;const s=new Set([...n.managedClubs||[],t]);return{...n,activeClub:t,managedClubs:Array.from(s)}}case Xu:{const t=Ee(n.activeClub||""),s=n.lineups?.[t];return s?{...n,players:s.players,usedClub:!0}:{...n,usedClub:!1,captainName:null,starters:[],selectMode:"captain",selectedOption:"",players:[]}}case Am:{const{club:t,bucket:s}=e.payload||{};if(!t||!s)return n;const a={...n.lineups?.[t]??{},...s},l=Ee(n.activeClub??""),u=Ee(t);return{...n,lineups:{...n.lineups,[t]:a},...u===l&&a.players?{players:a.players}:null}}default:return n}}function i3({children:n}){const[e,t]=F.useReducer(s3,n3);return m.jsx(pN.Provider,{value:{state:e,dispatch:t},children:n})}const ke=n=>{if(n==null)return"";let e=Array.isArray(n)?n.join(" "):String(n);return e=e.trim(),e?e.split(/\s+/).map(i=>{const a=Ee(i);return a?a.charAt(0).toUpperCase()+a.slice(1):""}).filter(Boolean).join(" "):""};function r3(){const{user:n,handleLogout:e,uid:t,isAuthenticated:s}=cn(),i=Di(),[a,l]=F.useState(!1),[u,d]=F.useState(!1),{dispatch:f}=rs(),{dispatch:g}=Hn(),x=async()=>{t&&await ux(t,f)};F.useEffect(()=>{const I=()=>{const M=window.innerWidth,z=window.innerHeight;d(M<1024||z<432)};return I(),window.addEventListener("resize",I),window.addEventListener("orientationchange",I),()=>{window.removeEventListener("resize",I),window.removeEventListener("orientationchange",I)}},[]);const b=I=>i.pathname===I||i.pathname.startsWith(I+"/"),E=I=>`inline-flex items-center justify-center w-10 h-10 rounded-full transition-all duration-150 ${b(I)?"ring-3 ring-blue-900 ring-offset-2 ring-offset-white":"ring-0"}`,S=()=>"block px-2 py-2 rounded transition text-gray-700",w=()=>{me.Confirm.show("Reiniciar","Esto borrar el club activo, la formacin y el formulario del partido en esta sesin. Continuar?","S","No",async()=>{try{if(g({type:"CLUB_RESET"}),g({type:"LINEUP_RESET"}),f({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),f({type:"RESET_FORM"}),t){const I=Fn(Sn,"users",t);await lc(I,{activeClub:"",lineups:{},players:[],starters:[],useClub:!1},{merge:!0})}me.Notify.success("Listo: se reinici la sesin de trabajo.")}catch{me.Notify.failure("No se pudo reiniciar.")}},()=>{})},T=()=>{me.Confirm.show("Cerrar Sesin","Ests seguro de que quieres cerrar sesin?","S","No",async()=>{try{g({type:"CLUB_RESET"}),f({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),f({type:"RESET_FORM"}),await e()}catch{me.Notify.failure("No se pudo cerrar sesin correctamente");return}me.Notify.success("Sesin cerrada")},()=>{me.Notify.info("Sesin no cerrada")},{width:"300px",borderRadius:"8px",titleColor:"#333",messageColor:"#555",okButtonBackground:"#4CAF50",cancelButtonBackground:"#f44336"})},k=[{path:"/registrar-partido",label:""},{path:"/versus",label:""},{path:"/nextmatch",label:""},{path:"/temporadas",label:""},{path:"/ultimos-diez",label:""},{path:"/analisis",label:""},{path:"/graficos",label:""},{path:"/campeonatos",label:""},{path:"/partidos",label:""},{path:"/goleadores",label:""},{path:"/formacion",label:""},{path:"/palmares",label:""},{path:"/config",label:""}];return m.jsxs("nav",{className:"bg-white shadow-md w-full sticky top-0 z-50",children:[!u&&m.jsxs("div",{className:"max-w-6xl mx-auto px-1 py-3 flex items-center gap-2",children:[m.jsx("span",{className:"text-2xl font-bold text-blue-600 whitespace-nowrap cursor-pointer",onClick:x,children:" Pes Stats Zone"}),m.jsx("div",{className:"flex-1 flex justify-center min-w-0",children:m.jsx("div",{className:"flex items-center flex-nowrap overflow-x-auto",children:k.map(({path:I,label:M})=>m.jsx(bo,{to:I,className:`${S()} flex items-center text-xl`,children:m.jsx("span",{className:E(I),children:M})},I))})}),m.jsxs("div",{className:"flex items-center gap-2 flex-nowrap whitespace-nowrap",children:[n&&m.jsxs("div",{className:"flex flex-col items-center justify-center border p-2 rounded-lg",children:[m.jsx("label",{children:"Dt"}),m.jsx("span",{className:"text-gray-700 font-semibold max-w-[140px] truncate",children:ke(n.displayName)})]}),m.jsx("button",{onClick:w,className:"text-red-600 hover:uppercase hover:font-bold flex items-center gap-1",children:" Reiniciar"}),m.jsx("button",{onClick:()=>T(),className:"bg-red-400 text-white rounded-xl px-4 hover:bg-red-600 flex items-center gap-1",children:"Salir"})]})]}),u&&m.jsx("button",{type:"button",className:"fixed top-3 right-3 bg-white rounded-full shadow-md p-2 text-gray-700 text-2xl z-40",onClick:()=>l(!a),"aria-label":"Abrir men",style:{minWidth:"48px",minHeight:"48px"},children:""}),a&&u&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40 flex",onClick:()=>l(!1),children:m.jsxs("div",{className:"bg-white w-full h-full p-6 shadow-lg flex flex-col items-end overflow-y-auto max-h-screen",onClick:I=>I.stopPropagation(),children:[m.jsxs("div",{className:"mb-6 text-3xl font-bold text-blue-600 flex items-center gap-2 w-full justify-end",children:[" Pes Stats Zone",m.jsx("button",{className:"ml-2 text-gray-400 text-2xl",onClick:()=>l(!1),"aria-label":"Cerrar men",tabIndex:0,children:""})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-4",children:[k.map(({path:I,label:M})=>m.jsx(bo,{to:I,className:`${S()} flex items-center justify-center rounded-xl p-3 text-3xl`,onClick:()=>l(!1),"aria-label":I,title:I,children:m.jsx("span",{className:E(I),children:M})},I)),n&&m.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl p-3 border text-center",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"DT"}),m.jsx("span",{className:"text-sm font-semibold text-gray-800 break-words",children:ke(n.displayName)})]}),m.jsx("button",{onClick:()=>{l(!1),w()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:m.jsx("span",{className:"text-s mt-1",children:"Reiniciar"})}),m.jsx("button",{onClick:()=>{l(!1),T()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:m.jsx("span",{className:"text-s mt-1",children:"Salir"})}),m.jsx("div",{className:"flex flex-col items-center justify-center rounded-xl border text-center",children:m.jsx("span",{children:"Versin: 29"})})]})]})})]})}const a3=()=>{const{user:n,loading:e}=cn();return F.useEffect(()=>(e&&me.Loading.circle("Cargando"),()=>{me.Loading.remove()}),[e]),e?null:n?m.jsxs("div",{children:[m.jsx(r3,{}),m.jsx(EE,{})]}):m.jsx(bs,{to:"/",replace:!0})},o3=({value:n,onChange:e})=>m.jsxs("div",{children:[m.jsx("input",{type:"date",name:"fecha",value:n,onChange:e,className:"w-full border rounded p-2"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Fecha del Partido"})]}),l3=({value:n,onChange:e,onBlur:t,suggestions:s=[]})=>{const i=l=>(l??"").toString().trim().replace(/\s+/g," "),a=Array.from(new Map((s||[]).map(l=>i(l)).filter(Boolean).map(l=>{const u=ke(l);return[u.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim(),u]})).values()).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"}));return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Rival"}),m.jsx("input",{type:"text",name:"rival",value:n||"",onChange:e,onBlur:t,list:"sugerencias-rivales",placeholder:"Rival (nombre completo)",className:"w-full border rounded p-2",autoComplete:"off"}),m.jsx("datalist",{id:"sugerencias-rivales",children:(a||[]).slice().sort((l,u)=>ke(l).localeCompare(ke(u),"es",{sensitivity:"base"})).map(l=>m.jsx("option",{value:ke(l)},l))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un rival nuevo."})]})};function c3({value:n,onChange:e,onBlur:t,suggestions:s=[],matches:i=[]}){const a=u=>(u??"").toString().trim().toLowerCase(),l=F.useMemo(()=>{const u=new Map,d=Array.isArray(i)?i:Array.isArray(i?.matches)?i.matches:[];for(const g of d){const x=a(g?.torneoName);if(!x)continue;const b=Number(g?.updatedAt)||0;b>(u.get(x)||0)&&u.set(x,b)}const f=Array.from(new Set((s||[]).map(a))).filter(Boolean);return f.sort((g,x)=>{const b=u.get(g)||0,E=u.get(x)||0;return E!==b?E-b:g.localeCompare(x)}),f},[s,i]);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Torneo"}),m.jsx("input",{type:"text",name:"torneoName",value:n||"",onChange:e,onBlur:t,list:"torneos-list",placeholder:"Ej: Copa Argentina",className:"w-full border rounded p-2",autoComplete:"off"}),m.jsx("datalist",{id:"torneos-list",children:(l||[]).map(u=>m.jsx("option",{value:ke(u)},u))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un torneo nuevo."})]})}const u3=({formations:n=[],value:e,onChange:t,disabled:s})=>{const i=Array.isArray(n)?n:n&&typeof n=="object"?Object.values(n):[],a=Array.from(new Set(i.map(l=>l?.captain).filter(l=>typeof l=="string"&&l.trim()!=="")));return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Capitn"}),m.jsxs("select",{disabled:s,className:"w-full border rounded p-2",value:e||"",onChange:l=>t(l.target.value),children:[m.jsx("option",{value:"",children:"-- Eleg un capitn --"}),a.map(l=>m.jsx("option",{value:l,children:ke?ke(l):l},l))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg al Capitn de tu Equipo"})]})},d3=({players:n=[],starters:e=[],value:t=[],onChange:s,disabled:i})=>{const a=n.filter(u=>!e.includes(u)),l=u=>{const d=u.target.value;d&&(t.includes(d)||s([...t,d]))};return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Suplentes"}),m.jsxs("select",{disabled:i,className:"w-full border rounded p-2",onChange:l,defaultValue:"",name:"substitutes",children:[m.jsx("option",{value:"",children:"Lista de Suplentes"}),a.sort((u,d)=>u.localeCompare(d,"es",{sensitivity:"base"})).map(u=>m.jsx("option",{value:u,children:ke(u)},u))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los jugadores que ingresaron"}),m.jsx("ul",{className:"flex flex-wrap gap-2 mt-2",children:t.map(u=>m.jsxs("li",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-lg",children:[ke(u),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 pl-1",onClick:()=>s(t.filter(d=>d!==u)),children:""})]},u))})]})},h3=n=>e=>{const{name:t,value:s,type:i,checked:a}=e.target;n({type:"ACTUALIZAR_CAMPO",campo:t,valor:i==="checkbox"?a:s})},jw=(n,e,t)=>s=>{const i=(s.target.value||"").trim();if(!i){me.Notify.failure(t);return}const a=ke(i);a!==i&&n({type:"ACTUALIZAR_CAMPO",campo:e,valor:a})},f3=(n,e,t)=>s=>{const i=n?.[e]?.formations,l=(Array.isArray(i)?i:i&&typeof i=="object"?Object.values(i):[]).find(d=>(d?.captain||"")===s),u=Array.isArray(l?.starters)?l.starters:[];t({type:"SET_FORMACION",payload:{captain:s,starters:u}})},m3=({disabled:n,onClick:e})=>m.jsx("div",{children:m.jsx("button",{type:"button",disabled:n,className:"bg-green-500 text-white rounded w-full p-2 font-bold disabled:opacity-50 disabled:cursor-not-allowed",onClick:e,children:"Guardar"})}),p3=async({uid:n,matchState:e,activeClub:t,ownGoals:s,rivalGoals:i,condition:a,rivalName:l,autogolesFavor:u=0})=>{if(!n)throw new Error("UID no disponible; no se puede guardar.");if(!t)throw new Error("saveMatch: activeClub vaco");if(!Number.isFinite(s)||!Number.isFinite(i))throw new Error("saveMatch: ownGoals/rivalGoals invlidos");const{fecha:d,captain:f,starters:g,substitutes:x,goleadoresActiveClub:b,goleadoresRivales:E,editingMatchId:S,editingCreatedAt:w}=e||{},T=d?new Date(d).getFullYear():null,k=e?.torneoName?.trim()||"",I=k&&T?`${k} ${T}`:k||"",M=re=>(re??"").toString().trim().replace(/\s+/g," "),z=M(l);if(M(k),!d||!z)throw new Error("Faltan completar campos");const B=!!S,$=B&&S||crypto?.randomUUID&&crypto.randomUUID()||String(Date.now()),A=s>i?"ganado":s<i?"perdido":"empatado",R=A==="ganado"?3:A==="empatado"?1:0,j=s,P=i,V=j-P,U=a==="visitante"?`${z} ${P} - ${j} ${t}`:`${t} ${j} - ${P} ${z}`,L={id:$,fecha:d,captain:f,condition:a,rival:z,club:t,torneoName:k,torneoYear:T,torneoDisplay:I,createdAt:B?w??Date.now():Date.now(),updatedAt:Date.now(),starters:g,substitutes:x,goleadoresActiveClub:b||[],goleadoresRivales:E||[],final:A,points:R,golFavor:j,golContra:P,dfGol:V,resultMatch:U,autogolesFavor:u},ge=Fn(Sn,"users",n);await lc(ge,{torneosIndex:Nf(k.toLowerCase()),rivalesIndex:z?Nf(z.toLowerCase()):[]},{merge:!0});const ue=Ee?Ee(t):t;let W=null;if(B){const pe=(await oc(ge)).data()||{},xe=pe?.lineups?.[ue]?.matches&&Array.isArray(pe.lineups[ue].matches)?pe.lineups[ue].matches:[];W=xe.find(De=>De?.id===$)||null;const ye=W?xe.map(De=>De?.id===$?L:De):[...xe,L];await Ws(ge,{[`lineups.${ue}.matches`]:ye})}else await Ws(ge,{[`lineups.${ue}.matches`]:Nf(L)});const ae=re=>re?.isOwnGoal||re?.name==="__OG__",we=re=>(re?.gol?1:0)+(re?.doblete?2:0)+(re?.triplete||re?.hattrick?3:0),Ae=(re,pe)=>{const ye=(be=>(be||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,""))(re),De=(pe??"").toString().trim()||"s_a";return`${ye}_${De}`};if(!B){for(const be of e.goleadoresActiveClub||[]){if(ae(be))continue;const Ke=Ee(be.name||"");if(!Ke)continue;const qe=`lineups.${ue}.playersStats.${Ke}`,Me={},Qe=we(be);Qe>0&&(Me[`${qe}.goals`]=Ln(Qe)),be.doblete&&(Me[`${qe}.dobletes`]=Ln(1)),(be.triplete||be.hattrick)&&(Me[`${qe}.hatTricks`]=Ln(1)),be.expulsion&&(Me[`${qe}.expulsiones`]=Ln(1)),Object.keys(Me).length>0&&await Ws(ge,Me)}for(const be of e.goleadoresRivales||[]){if(ae(be))continue;const Ke=Ee(be.name||"");if(!Ke)continue;const qe=`lineups.${ue}.rivalsPlayers.${Ke}`,Me={};Me[`${qe}.matchesPlayed`]=Ln(1);const Qe=we(be);Qe>0&&(Me[`${qe}.goals`]=Ln(Qe)),be.doblete&&(Me[`${qe}.dobletes`]=Ln(1)),(be.triplete||be.hattrick)&&(Me[`${qe}.hatTricks`]=Ln(1)),be.expulsion&&(Me[`${qe}.expulsiones`]=Ln(1)),Object.keys(Me).length>0&&await Ws(ge,Me)}const re=Ae(k,T),pe=new Set((g||[]).map(be=>Ee(be)).filter(Boolean));f&&pe.add(Ee(f));const xe=new Set((x||[]).map(be=>Ee(be)).filter(be=>be&&!pe.has(be))),ye={},De=(be,{start:Ke=0,sub:qe=0})=>{if(!be)return;const Me=`lineups.${ue}.playersStats.${be}`,Qe=`${Me}.totals`,ut=`${Me}.byTournament.${re}`;ye[`${Qe}.matchesPlayed`]=Ln(1),ye[`${ut}.matchesPlayed`]=Ln(1),Ke&&(ye[`${Qe}.starts`]=Ln(1),ye[`${ut}.starts`]=Ln(1)),qe&&(ye[`${Qe}.subs`]=Ln(1),ye[`${ut}.subs`]=Ln(1))};return pe.forEach(be=>De(be,{start:1})),xe.forEach(be=>De(be,{sub:1})),Object.keys(ye).length>0&&(ye[`lineups.${ue}.updatedAt`]=_r(),await Ws(ge,ye)),{id:$}}if(!W)return{id:$};const G={},ee=(re,pe)=>{!pe||pe===0||(G[re]=Ln(pe))},fe=re=>{const pe=new Map;for(const xe of re||[]){if(ae(xe))continue;const ye=Ee(xe?.name||"");if(!ye)continue;const De=pe.get(ye)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0,matchesPlayed:0},be=we(xe);De.goals+=be,xe?.doblete&&(De.dobletes+=1),(xe?.triplete||xe?.hattrick)&&(De.hatTricks+=1),xe?.expulsion&&(De.expulsiones+=1),pe.set(ye,De)}return pe};{const re=fe(W.goleadoresActiveClub||[]),pe=fe(e.goleadoresActiveClub||[]),xe=new Set([...re.keys(),...pe.keys()]);for(const ye of xe){const De=re.get(ye)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},be=pe.get(ye)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Ke=`lineups.${ue}.playersStats.${ye}`;ee(`${Ke}.goals`,be.goals-De.goals),ee(`${Ke}.dobletes`,be.dobletes-De.dobletes),ee(`${Ke}.hatTricks`,be.hatTricks-De.hatTricks),ee(`${Ke}.expulsiones`,be.expulsiones-De.expulsiones)}}{const re=fe(W.goleadoresRivales||[]),pe=fe(e.goleadoresRivales||[]),xe=new Set([...re.keys(),...pe.keys()]),ye=Ke=>{const qe=new Map;for(const Me of Ke||[]){if(ae(Me))continue;const Qe=Ee(Me?.name||"");Qe&&qe.set(Qe,(qe.get(Qe)||0)+1)}return qe},De=ye(W.goleadoresRivales||[]),be=ye(e.goleadoresRivales||[]);for(const Ke of xe){const qe=re.get(Ke)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Me=pe.get(Ke)||{goals:0,dobletes:0,hatTricks:0,expulsiones:0},Qe=`lineups.${ue}.rivalsPlayers.${Ke}`;ee(`${Qe}.matchesPlayed`,(be.get(Ke)||0)-(De.get(Ke)||0)),ee(`${Qe}.goals`,Me.goals-qe.goals),ee(`${Qe}.dobletes`,Me.dobletes-qe.dobletes),ee(`${Qe}.hatTricks`,Me.hatTricks-qe.hatTricks),ee(`${Qe}.expulsiones`,Me.expulsiones-qe.expulsiones)}}{const re=Ke=>{const qe=Ee(Ke?.captain||""),Me=new Set((Ke?.starters||[]).map(q=>Ee(q)).filter(Boolean));qe&&Me.add(qe);const Qe=new Set((Ke?.substitutes||[]).map(q=>Ee(q)).filter(q=>q&&!Me.has(q))),ut=new Map;return Me.forEach(q=>ut.set(q,{start:1,sub:0})),Qe.forEach(q=>ut.set(q,{start:0,sub:1})),ut},pe=re(W),xe=re(e),ye=Ae(W.torneoName,W.torneoYear),De=Ae(k,T),be=new Set([...pe.keys(),...xe.keys()]);for(const Ke of be){const qe=pe.get(Ke)||{start:0,sub:0},Me=xe.get(Ke)||{start:0,sub:0},Qe=qe.start||qe.sub?1:0,ut=Me.start||Me.sub?1:0,q=`lineups.${ue}.playersStats.${Ke}`,X=`${q}.totals`;if(ee(`${X}.matchesPlayed`,ut-Qe),ee(`${X}.starts`,Me.start-qe.start),ee(`${X}.subs`,Me.sub-qe.sub),ye===De){const ne=`${q}.byTournament.${De}`;ee(`${ne}.matchesPlayed`,ut-Qe),ee(`${ne}.starts`,Me.start-qe.start),ee(`${ne}.subs`,Me.sub-qe.sub)}else{if(Qe){const ne=`${q}.byTournament.${ye}`;ee(`${ne}.matchesPlayed`,-1),qe.start&&ee(`${ne}.starts`,-1),qe.sub&&ee(`${ne}.subs`,-1)}if(ut){const ne=`${q}.byTournament.${De}`;ee(`${ne}.matchesPlayed`,1),Me.start&&ee(`${ne}.starts`,1),Me.sub&&ee(`${ne}.subs`,1)}}}}return Object.keys(G).length>0&&(G[`lineups.${ue}.updatedAt`]=_r(),await Ws(ge,G)),{id:$}},g3=async({uid:n,matchState:e,activeClub:t,matchDispatch:s,navigate:i})=>{if(!n){console.error("[handleSaveMatch] uid vaco; no se puede guardar."),me.Notify.failure("No hay usuario autenticado (uid vaco).");return}if(!t){console.warn("[handleSaveMatch] activeClub vaco; bloqueando guardado."),me.Notify.warning("Eleg un club antes de guardar el partido.");return}const a=w=>(w.gol?1:0)+(w.doblete?2:0)+(w.triplete||w.hattrick?3:0),l=(e?.goleadoresActiveClub||[]).filter(w=>w.activeClub===t),u=e?.goleadoresRivales||[],f=l.reduce((w,T)=>w+a(T),0)+(e?.autogolesFavor||0),g=u.reduce((w,T)=>w+a(T),0),x=e?.rival||"Rival",b=(e?.condition||e?.condicion||"neutro").toLowerCase();let E;b==="visitante"?E=`${x} ${g} - ${f} ${ke(t)}`:E=`${ke(t)} ${f} - ${g} ${x}`;const S={uid:n,activeClub:t,condition:b,ownGoals:f,ownGoalsFromOG:e?.autogolesFavor||0,rivalGoals:g,ownScorers:l?.length??0,rivalScorers:u?.length??0,rivalName:x};me.Confirm.show("Confirmar Resultado",E,"Confirmar","Volver",async()=>{try{me.Loading.standard("Guardando partido... "),await p3({uid:n,activeClub:t,matchState:e,ownGoals:f,rivalGoals:g,condition:b,rivalName:x,autogolesFavor:e?.autogolesFavor||0});const w=!!e?.editingMatchId;me.Notify.success(w?"Partido actualizado correctamente ":"Partido guardado correctamente "),s({type:"RESET_FORM"}),i("/partidos")}catch(w){const T={name:w?.name,code:w?.code,message:w?.message};console.error("[handleSaveMatch] Error al guardar",{...T,stack:w?.stack,context:S}),me.Report.failure("Error al guardar",[T.code?`Cdigo: ${T.code}`:"",T.name?`Tipo: ${T.name}`:"",T.message?`Mensaje: ${T.message}`:"",`Club: ${t} | ${f}-${g} vs ${x}`].filter(Boolean).join(`
`),"Cerrar")}finally{me.Loading.remove()}})},y3=({value:n,onChange:e})=>m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Donde se jug?"}),m.jsxs("div",{className:"flex flex-wrap gap-2 list-disc list-inside",children:[m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"local",checked:n==="local",onChange:e}),m.jsx("span",{className:"ml-2",children:"Local"})]}),m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"visitante",checked:n==="visitante",onChange:e}),m.jsx("span",{className:"ml-2",children:"Visitante"})]}),m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"neutro",checked:n==="neutro",onChange:e}),m.jsx("span",{className:"ml-2",children:"Neutro"})]})]})]}),x3=n=>e=>{n({type:"SET_SUBS",payload:{substitutes:e}})},b3=({state:n,dispatch:e,disabled:t})=>{const s=n.starters,i=n.substitutes,a=[...s,...i],l=n.activeClub,u=f=>{const g=f.target.value;if(g==="__OG__"){e({type:"ADD_GOLEADOR",payload:{name:"__OG__",activeClub:l,gol:!0,isOwnGoal:!0}}),f.target.value="";return}n.goleadoresActiveClub.some(b=>b.name===g&&b.activeClub===l)||e({type:"ADD_GOLEADOR",payload:{name:g,activeClub:l}})},d=n.goleadoresActiveClub.filter(f=>f.activeClub===l);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores e Incidencias"}),m.jsxs("select",{disabled:t,className:"w-full border rounded p-2",onChange:u,defaultValue:"",name:"incidents",children:[m.jsx("option",{value:"",children:"Lista de Jugadores"}),m.jsx("option",{value:"__OG__",children:" Gol en contra (rival)"}),a.sort((f,g)=>f.localeCompare(g,"es",{sensitivity:"base"})).map(f=>m.jsx("option",{value:f,children:ke(f)},f))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los goleadores o jugadores que sufrieron una expulsion"}),m.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...d].reverse().map(f=>{const g=f.isOwnGoal||f.name==="__OG__",x=g?"Gol en contra (rival)":ke(f.name);return m.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:x}),m.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[m.jsx("input",{type:"checkbox",className:"ml-4",checked:f.gol,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:f.name,activeClub:l,event:"gol"}})}),"Gol"]}),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>e({type:"REMOVE_GOLEADOR",payload:{name:f.name,activeClub:l}}),children:""})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[!g&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:f.doblete,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:f.name,activeClub:l,event:"doblete"}})}),"Doblete"]}),!g&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:f.triplete,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:f.name,activeClub:l,event:"triplete"}})}),"Hat Trick"]}),!g&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:f.expulsion,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:f.name,activeClub:l,event:"expulsion"}})}),"Expulsin"]})]})]},`${f.name}-${f.activeClub}`)})})]})},v3=({state:n,dispatch:e,disabled:t})=>{const{uid:s}=cn(),{state:i,dispatch:a}=rs(),{state:l,dispatch:u}=Hn();zs(s,a,u);const[d,f]=F.useState(null),g=Object.keys(l?.lineups||[]),[x,b]=F.useState(l?.activeClub||g[0]||""),E=Ee(x||""),S=E?l?.lineups?.[E]:null;F.useEffect(()=>{S&&Object.keys(S).length!==0&&f(S)},[S]);const w=Array.isArray(d?.matches)?d.matches:[],T=n.rival?.trim()||"",k=!!T&&!t,I=F.useMemo(()=>{const A=(n.goleadoresRivales||[]).map(P=>(P?.name||"").toString().trim()).filter(Boolean),R=Ee(T||""),j=(w||[]).filter(P=>Ee(P?.rival||"")===R).flatMap(P=>(P?.goleadoresRivales||[]).map(V=>(V?.name||"").toString().trim()).filter(Boolean));return Array.from(new Set([...j,...A])).sort((P,V)=>P.localeCompare(V,"es",{sensitivity:"base"}))},[n.goleadoresRivales,w,T]),[M,z]=F.useState(""),B=A=>{const R=(A||"").trim();!R||(n.goleadoresRivales||[]).some(P=>P.name===R&&P.club===T)||(e({type:"RIVAL_ADD",payload:{name:R,club:T,gol:!1,doblete:!1,triplete:!1,expulsion:!1}}),z(""))},$=F.useMemo(()=>(n.goleadoresRivales||[]).filter(A=>A.club===T),[n.goleadoresRivales,T]);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores Rivales"}),m.jsx("input",{type:"text",name:"rivalScorer",disabled:!k,placeholder:k?"Apellido (usa Rival como club)":"Completa Rival primero",list:"rival-players-list",className:"w-full border rounded p-2",autoComplete:"off",value:M,onChange:A=>{const R=A.target.value;I.includes(R)||z(R)},onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),B(M))},onInput:A=>{const R=A.currentTarget.value;I.includes(R)&&B(R)}}),m.jsx("datalist",{id:"rival-players-list",children:I.map(A=>m.jsx("option",{value:A},A))}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Escrib solo el ",m.jsx("b",{children:"Apellido"}),". El club se toma del campo ",m.jsx("b",{children:"Rival"}),"."]}),m.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...$].reverse().map(A=>m.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:ke(A.name)}),m.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[m.jsx("input",{type:"checkbox",className:"ml-4",checked:A.gol,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"gol"}})}),"Gol"]}),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>e({type:"RIVAL_REMOVE",payload:{name:A.name,club:A.club}}),children:""})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:A.doblete,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"doblete"}})}),"Doblete"]}),m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:A.triplete,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"triplete"}})}),"Triplete"]}),m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:A.expulsion,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:A.name,club:A.club,field:"expulsion"}})}),"Expulsin"]})]})]},`${A.name}-${A.club}`))})]})};function fu(n){return(n.gol?1:0)+(n.doblete?2:0)+(n.triplete||n.hattrick?3:0)}function Iw(n){const e=n?.filter(t=>t.expulsion||t.expulsado)||[];return e.length?e.map(t=>ke(t.name)):[]}const Yh=({items:n,tone:e="slate"})=>{if(!n||n===""||n.length===0)return m.jsx("span",{className:"text-slate-400",children:""});const t=e==="red"?"bg-red-50 text-red-700 ring-1 ring-red-200":"bg-slate-50 text-slate-700 ring-1 ring-slate-200";return m.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((s,i)=>m.jsx("span",{className:`px-2.5 py-1 rounded-full text-sm ${t}`,children:s},`${s}-${i}`))})};function _3(n){if(!n)return"";const e=String(n).trim(),t=e.split("T")[0];if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[s,i,a]=t.split("-");return`${a}/${i}/${s}`}if(/^\d{4}\/\d{2}\/\d{2}$/.test(t)){const[s,i,a]=t.split("/");return`${a}/${i}/${s}`}return/^\d{2}\/\d{2}\/\d{4}$/.test(t)?t:e}const Kh=({title:n,children:e})=>m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:n}),e]}),w3=({state:n,activeClub:e})=>{const t=n?.rival||"Rival",s=n?.torneoDisplay||n?.torneoName||n?.torneo||"",a=(n?.goleadoresActiveClub||[]).filter(j=>j.activeClub===e),l=n?.goleadoresRivales||[],u=a.reduce((j,P)=>j+fu(P),0),d=l.reduce((j,P)=>j+fu(P),0),f=(l||[]).filter(j=>j?.enContra||j?.autogol||j?.og||j?.ogContra).length,g=u+f,x=(n?.condition||n?.condicion||"neutro").toLowerCase(),b=x==="visitante",E=ke(e),S=b?t:E,w=b?E:t,T=b?d:g,k=b?g:d,I=m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/50 p-4",children:[m.jsx("div",{className:"text-center text-xl font-semibold text-slate-800",children:S}),m.jsx("div",{className:"my-2 text-center",children:m.jsxs("div",{className:"text-4xl font-bold tabular-nums text-slate-900",children:[T," - ",k]})}),m.jsx("div",{className:"text-center text-xl font-semibold text-slate-800",children:w})]}),M=(a||[]).filter(j=>fu(j)>0).map(j=>{const P=fu(j),V=j.isOwnGoal||j.name==="__OG__"?"Gol en contra":ke(j.name);return P>1?`${V} (${P})`:V}),z=(Array.isArray(l)?l:[]).filter(j=>!(j.expulsion||j.expulsado)).map(j=>{const P=fu(j),V=P>1?` (${P})`:"",U=j?.enContra||j?.autogol||j?.og||j?.ogContra?" (EC)":"";return`${ke(j.name)}${V}${U}`}),B=Iw(a),$=Iw(l),A=_3(n?.fecha||n?.date||n?.fechaPartido||""),R=n?.captain||n?.capitan||"";return m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm space-y-5",children:[m.jsxs("div",{className:"w-full grid grid-cols-2 gap-2",children:[m.jsxs("div",{className:"flex flex-col gap-2 items-start min-w-0",children:[s?m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:ke(s)}):null,A?m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-50 text-slate-700 ring-1 ring-slate-200",children:A}):null]}),m.jsxs("div",{className:"flex flex-col gap-2 items-end min-w-0",children:[m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:x!=="neutro"?x==="visitante"?"Visitante":"Local":"Neutro"}),R?m.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200",children:["Capitn: ",ke(R)]}):null]})]}),I,m.jsxs("div",{className:"grid grid-cols-2 gap-6 items-stretch",children:[m.jsx("div",{className:"h-full",children:m.jsx(Kh,{title:`Goleadores ${ke(e)}`,children:m.jsx(Yh,{items:M})})}),m.jsx("div",{className:"h-full",children:m.jsx(Kh,{title:`Goleadores ${t}`,children:m.jsx(Yh,{items:z})})})]}),m.jsxs("div",{className:"grid grid-cols-2  gap-6 items-stretch",children:[m.jsx("div",{className:"h-full",children:m.jsx(Kh,{title:`Expulsados ${ke(e)}`,children:m.jsx(Yh,{items:B,tone:"red"})})}),m.jsx("div",{className:"h-full",children:m.jsx(Kh,{title:`Expulsados ${t}`,children:m.jsx(Yh,{items:$,tone:"red"})})})]})]})},E3=({activeClub:n,matchState:e,matchDispatch:t})=>{F.useEffect(()=>{n&&e.activeClub!==n&&t({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:n})},[n,e.activeClub,t])},Dw=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn(),{activeClub:a,lineups:l}=s,{matchId:u}=Mk(),d=sd(),f=h3(t),g=f3(l,a,t),x=x3(t);E3({activeClub:a,matchState:e,matchDispatch:t});const b=s?.activeClub||e?.activeClub||"",E=Ee?Ee(b):b,S=s?.lineups?.[E]||{},w=(S.players?.length??0)>0,T=(S.formations?.length??0)>0,k=S.playersStats?Object.keys(S.playersStats).length>0:!1;return!E||!w&&!T&&!k?m.jsx(bs,{to:"/formacion",replace:!0}):(F.useEffect(()=>{if(u&&s.lineups){let I=null;Object.keys(s.lineups).forEach(M=>{if(I)return;const z=s.lineups[M].matches;if(z&&Array.isArray(z)){const B=z.find($=>$.id===u);B&&(I=B)}}),I?t({type:"LOAD_MATCH_FOR_EDIT",payload:{match:I}}):console.warn("No se encontr el match con ID:",u)}},[u,s.lineups,t]),m.jsxs("div",{className:"mt-6 max-w-md mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Registrar Partido"}),m.jsxs("form",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center",children:m.jsx("span",{className:"text-lg font-bold text-blue-700",children:e.activeClub?ke(e.activeClub):"Esperando Nombre del Club"})}),m.jsx(o3,{value:e.fecha,onChange:f}),m.jsx(l3,{value:e.rival,onChange:f,onBlur:jw(t,"rival","El campo Rival es Obligatorio"),suggestions:e.rivalesIndex}),m.jsx(c3,{value:e.torneoName,onChange:f,suggestions:e.torneosIndex,matches:e.matches,onBlur:jw(t,"torneoName","El campo Torneo es Obligatorio")}),m.jsx(y3,{value:e.condition,onChange:f}),m.jsx(u3,{disabled:e.substitutes.length>0,formations:l?.[a]?.formations||[],value:e.captain,onChange:g}),m.jsx(d3,{disabled:!e.captain,players:l?.[a]?.players||[],value:e.substitutes,onChange:x,starters:e.starters,substitutes:e.substitutes}),m.jsx(b3,{state:e,dispatch:t,disabled:!e.captain}),m.jsx(v3,{state:e,dispatch:t,disabled:!e.rival}),m.jsx(w3,{state:e,activeClub:e.activeClub}),m.jsx(m3,{disabled:!n||!e.fecha||!e.rival||!e.torneoName||!e.condition,onClick:I=>{I.preventDefault(),g3({uid:n,matchState:e,activeClub:a,matchDispatch:t,navigate:d})}})]})]}))},T3=(n=[])=>F.useMemo(()=>{const e=new Set;for(const t of n){const s=(t?.captain||"").trim();s&&e.add(s)}return Array.from(e)},[n]),Mw=n=>n==null?0:parseInt(n,10)||0,Xh=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),S3=(n=[])=>F.useMemo(()=>{const e={};for(const t of n){const s=t?.rivalName||t?.rival||t?.opponent||"Rival Desconocido",i=Mw(t?.golesPropios??t?.golFavor??t?.golesFavor??t?.gf),a=Mw(t?.golesRival??t?.golContra??t?.golesContra??t?.gc),l=t?.condition==="local"&&"local"||t?.condition==="visitante"&&"visitante"||"general",u=(t?.captain||"").trim();e[s]||(e[s]={general:Xh(),local:Xh(),visitante:Xh()});const d=i>a?"g":i===a?"e":"p",f=g=>{g.pj++,g[d]++,g.gf+=i,g.gc+=a};f(e[s].general),l!=="general"&&f(e[s][l]),u&&(e[s][u]||(e[s][u]=Xh()),f(e[s][u]))}return e},[n]),N3=(n,e,t,s)=>F.useMemo(()=>[...Object.entries(n)].sort((l,u)=>{if(t==="rival")return s==="asc"?l[0].localeCompare(u[0]):u[0].localeCompare(l[0]);const d=l[1]?.[e]??{},f=u[1]?.[e]??{},g=t==="df"?(d.gf??0)-(d.gc??0):t==="gp"?(d.g??0)-(d.p??0):d?.[t]??0,x=t==="df"?(f.gf??0)-(f.gc??0):t==="gp"?(f.g??0)-(f.p??0):f?.[t]??0;return s==="asc"?g-x:x-g}),[n,e,t,s]),A3=(n={})=>{const{g:e=0,e:t=0,p:s=0}=n;return e>=t&&e>s?"bg-green-100":s>e&&s>=t?"bg-red-100":e===s&&e>t||e===t&&e===s||t>=e&&t>=s?"bg-yellow-100":"bg-pink-100"},Ys=n=>{if(typeof n=="number"&&Number.isFinite(n))return Math.abs(n);if(typeof n=="string"){const e=n.trim(),t=Number(e.replace(",","."));return!Number.isNaN(t)&&e!==""?Math.abs(t):e.startsWith("-")?e.slice(1):e}return n};function C3(n=[]){const e=u=>String(u?.torneoName??"").trim(),t=u=>Ee(e(u)),s=F.useMemo(()=>{const u=new Map;let d=!1;for(const x of n){const b=e(x);if(!b){d=!0;continue}u.set(t(x),b)}const f=Array.from(u.entries()).map(([x,b])=>({value:x,label:b})).sort((x,b)=>x.label.localeCompare(b.label,"es",{sensitivity:"base"})),g=[{value:"__all",label:"Todos"}];return d&&g.push({value:"__none",label:"(Sin torneo)"}),[...g,...f]},[n]),[i,a]=F.useState("__all");F.useEffect(()=>{s.some(u=>u.value===i)||a("__all")},[s,i]);const l=F.useMemo(()=>i==="__all"?n:i==="__none"?n.filter(u=>!e(u)):n.filter(u=>t(u)===i),[n,i]);return{torneoSel:i,setTorneoSel:a,torneoOptions:s,matchesFiltrados:l}}const Cf=n=>typeof n=="string"&&n.trim()?ke(n):String(n??""),k3=n=>n==="general"?"General":n==="local"?"Local":n==="visitante"?"Visitante":Cf(n),R3=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),j3=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn();zs(n,t,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||[]),[d,f]=F.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},E=(b.players?.length??0)>0,S=(b.formations?.length??0)>0,w=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!E&&!S&&!w)return m.jsx(bs,{to:"/formacion",replace:!0});F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const T=Array.isArray(a?.matches)?a.matches:[],{torneoSel:k,setTorneoSel:I,torneoOptions:M,matchesFiltrados:z}=C3(T),B=z,[$,A]=F.useState("general"),[R,j]=F.useState("rival"),[P,V]=F.useState("asc"),U=T3(B),L=S3(B),ge=N3(L,$,R,P),ue=F.useMemo(()=>["general","local","visitante",...U],[U]);return m.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-center mt-4",children:" Estadsticas del Equipo"}),m.jsxs("div",{className:`\r
    mb-3\r
    grid grid-cols-2 gap-3\r
    items-end\r
    md:flex md:flex-wrap md:justify-center md:gap-x-6 md:gap-y-3\r
  `,children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Club"}),m.jsx("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:d,onChange:W=>f(W.target.value),children:u.map(W=>m.jsx("option",{value:W,children:Cf(W)},W))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"mbito"}),m.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:$,onChange:W=>A(W.target.value),children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"local",children:"Local"}),m.jsx("option",{value:"visitante",children:"Visitante"}),U.map(W=>m.jsx("option",{value:W,children:Cf(W)},W))]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Campo"}),m.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:R,onChange:W=>j(W.target.value),children:[m.jsx("option",{value:"rival",children:"Nombre"}),m.jsx("option",{value:"pj",children:"PJ"}),m.jsx("option",{value:"g",children:"G"}),m.jsx("option",{value:"e",children:"E"}),m.jsx("option",{value:"p",children:"P"}),m.jsx("option",{value:"gp",children:"G/P"}),m.jsx("option",{value:"gf",children:"GF"}),m.jsx("option",{value:"gc",children:"GC"}),m.jsx("option",{value:"df",children:"DF"})]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Orden"}),m.jsxs("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,value:P,onChange:W=>V(W.target.value),children:[m.jsx("option",{value:"asc",children:"Ascendente"}),m.jsx("option",{value:"desc",children:"Descendente"})]})]}),m.jsxs("div",{className:"col-span-2 text-center md:col-span-1",children:[m.jsx("label",{className:"text-sm font-medium block text-slate-700",children:"Campeonato"}),m.jsx("select",{className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
                 disabled:bg-slate-100 disabled:text-slate-500`,value:k,onChange:W=>I(W.target.value),disabled:M.length<=1,children:M.map(W=>m.jsx("option",{value:W.value,children:Cf(W.label)},W.value))})]})]}),m.jsx("div",{className:"max-h-[80vh] w-[100%] mx-auto overflow-auto border rounded",children:m.jsxs("table",{className:"min-w-full w-max table-auto text-[11px] md:text-sm border-collapse",children:[m.jsx("thead",{className:"bg-blue-200 sticky top-0 shadow-lg",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-2 py-2 min-w-[64px] w-[64px] text-left font-bold",children:"Rival"}),ue.map(W=>m.jsx("th",{className:"border px-2 py-1 text-center min-w-[110px]",children:k3(W)},W))]})}),m.jsx("tbody",{children:!Array.isArray(ge)||ge.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:1+ue.length,className:"border px-3 py-6 text-center text-gray-500 font-semibold",children:"Sin datos"})}):ge.map(([W,ae],we)=>{const Ae=typeof W=="string"?W.trim().replace(/\s+/g," "):String(W??"Sin Rival"),G=Ee(Ae)||`rival-${we}`,ee=m.jsxs("div",{style:{lineHeight:"1.2",padding:"4px 0"},children:[m.jsxs("span",{style:{fontWeight:"bold",color:"#666",fontSize:"0.85em"},children:[we+1," -"]}),m.jsx("br",{}),m.jsx("span",{style:{fontSize:"1em",textTransform:"capitalize"},children:Ae})]}),fe=we%2===0?"bg-white":"bg-gray-200",re=/\s/.test(Ae);return m.jsxs("tr",{className:fe,children:[m.jsx("td",{className:"border px-1 py-2 font-semibold text-left w-[64px] min-w-[64px]",children:m.jsx("div",{title:Ae,className:re?"block w-full whitespace-normal":"block w-full truncate",children:ee})}),ue.map(pe=>{const xe=ae[pe]||R3(),ye=xe.pj>0?A3(xe):fe,De=xe.gf-xe.gc,be=(xe.g??0)-(xe.p??0),Ke=be>0?"ring-emerald-500":be<0?"ring-rose-500":"ring-yellow-400";return xe.pj===0?m.jsx("td",{className:`border px-1 py-1 overflow-hidden text-center align-middle ${fe} min-w-[110px]`,children:m.jsx("span",{className:"text-xl font-black text-gray-900 leading-none",children:""})},pe):m.jsx("td",{className:`border px-1 py-1 overflow-hidden text-center align-top ${ye} min-w-[110px]`,children:m.jsxs("div",{className:"w-full leading-tight",children:[m.jsxs("div",{className:"text-[12px] text-gray-500 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[m.jsx("span",{children:"G"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"E"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"P"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"G/P"})]}),m.jsxs("div",{className:"font-bold tabular-nums grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[m.jsx("span",{children:xe.g}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:xe.e}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:xe.p}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{className:"justify-self-center",children:m.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${Ke} h-6 w-6 text-[10px] font-extrabold text-black`,title:`G/P = ${xe.g} - ${xe.p} = ${be}`,children:Ys(be)})})]}),m.jsxs("div",{className:"mt-0.5 text-[12px] text-gray-500 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[m.jsx("span",{children:"PJ"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"GF"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"GC"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"DF"})]}),m.jsxs("div",{className:"font-bold tabular-nums grid grid-cols-[1fr_auto_1fr_auto_1fr_auto_1fr] items-center whitespace-nowrap",children:[m.jsx("span",{children:xe.pj}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:xe.gf}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:xe.gc}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{className:"justify-self-center",children:m.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${De>0?"ring-emerald-500":De<0?"ring-rose-500":"ring-yellow-400"} h-6 w-6 text-[10px] font-extrabold text-black`,title:`DF = ${De}`,children:De>0?`${De}`:Ys(De)})})]})]})},pe)})]},G)})})]})})]})};function I3(n,e,t=""){const s=F.useRef(!1),[i,a]=F.useState(!1),l=u=>{if(u&&typeof u.toMillis=="function")return u.toMillis();const d=new Date(u).getTime();return Number.isFinite(d)?d:0};return F.useEffect(()=>{if(!n){a(!0);return}s.current||(async()=>{s.current=!0,me.Loading.circle("Cargando datos del club...");try{const u=await oc(Fn(Sn,"users",n));if(!u.exists())return;const d=u.data(),f=d?.lineups||{},g=Object.keys(f).map(Ee),x=Array.isArray(d?.managedClubs)?d.managedClubs.map(Ee).filter(M=>g.includes(M)):[],b=g.map(M=>[M,l(f[M]?.updatedAt)]).sort((M,z)=>z[1]-M[1]).map(([M])=>M),E=[...x,...b.filter(M=>!x.includes(M))];e({type:"SET_MANAGED_CLUBS",payload:{clubs:E}});let S="",w=0;const T=[];for(const[M,z]of Object.entries(f)){const B=Array.isArray(z.players)?z.players.map(Ee):[],$=z.formations?Object.entries(z.formations).map(([j,P])=>{const V=P?.createdAt&&typeof P.createdAt?.toDate=="function"?P.createdAt.toDate().toISOString():String(P?.createdAt||new Date().toISOString());return{id:j,createdAt:V,captain:Ee(P?.captain||""),starters:Array.isArray(P?.starters)?P.starters.map(Ee):[]}}).sort((j,P)=>new Date(P.createdAt)-new Date(j.createdAt)):[],A=Ee(M);T.push(A);const R=l(z?.updatedAt);R>w&&(w=R,S=A),e({type:"LINEUPS_UPSERT_BUCKET",payload:{club:A,bucket:{label:z.label??M,players:B,formations:$}}})}let k="";const I=d?.activeClub?Ee(d.activeClub):"";if(I&&T.includes(I))k=I;else if(x.length)for(let M=x.length-1;M>=0;M--){const z=x[M];if(T.includes(z)){k=z;break}}k||(k=S||""),k&&k!==t&&e({type:"SAVE_CLUB_NAME",payload:{name:k}})}catch{me.Notify.failure("Problemas al cargar la informacin de la nube")}finally{me.Loading.remove(),s.current=!1,a(!0)}})()},[n,e]),i}const D3=(n,e,t,s)=>{F.useEffect(()=>{if(!s)return;const i=Object.keys(n||{});if(!i.length||e)return;const a=i[0];t({type:Ku,payload:{name:a}}),t({type:Xu})},[n,e,t,s])},M3=(n,e,t)=>{F.useEffect(()=>{if(!n){t("");return}const s=e?.[n]?.label||n,i=ke(s);t(a=>a===i?a:i)},[n,e,t])},O3=(n,e,t,s)=>{const i=F.useRef({clubKey:null,playersJson:""});F.useEffect(()=>{if(!n){console.debug("[SYNC] skip: !uid");return}if(!e){console.debug("[SYNC] skip: !activeClub");return}const a=Ee(e);if(!a){console.debug("[SYNC] skip: !clubKey (normalizeName dio vaco)");return}if(!Array.isArray(s)){console.debug("[SYNC] skip: !Array.isArray(players)",{players:s});return}const l=[...new Set(s.map(Ee))];if(l.length===0){console.debug("[SYNC] skip: playersNorm vaco, no subo nada");return}const u=JSON.stringify(l),d=i.current;if(d.clubKey===a&&d.playersJson===u){console.debug("[SYNC] skip: mismo payload que el ltimo write");return}(async()=>{try{await Ws(Fn(Sn,"users",n),{[`lineups.${a}.players`]:l,[`lineups.${a}.updatedAt`]:_r()}),i.current={clubKey:a,playersJson:u},me.Notify.success("Plantel sincronizado")}catch(f){console.debug("[SYNC] FAIL",f),me.Notify.failure("No se pudo sincronizar el plantel")}})()},[n,e,s])},P3=(n,e)=>{F.useEffect(()=>{n||(e({type:mx}),e({type:Am,payload:{club:"",bucket:{}}}))},[n,e])},L3=({teamName:n})=>m.jsxs("div",{children:[" ",m.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[m.jsx("span",{className:"text-blue-700 underline",children:"Equipo del DT:"})," ",m.jsxs("span",{className:"block text-center text-3xl font-extrabold tracking-wide text-emerald-600 drop-shadow-sm -mt-8",children:[m.jsx("br",{}),ke(n)]})]})]}),V3=({value:n,onChange:e,onBlurSave:t,onConfirm:s,suggestions:i=[],disabled:a})=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:"teamName",children:"Nombre del Equipo"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("input",{type:"text",id:"teamName",value:n,onChange:l=>e(l.target.value),onBlur:t,disabled:a,onKeyDown:l=>{l.key==="Enter"&&(l.preventDefault(),s())},className:"w-full p-2 border rounded",list:"club-suggestions",placeholder:"Ej.: Newell's, Talleres CBA, Instituto"}),m.jsx("datalist",{id:"club-suggestions",children:(i||[]).map(({key:l,label:u})=>m.jsx("option",{value:u},l))}),m.jsx("button",{type:"button",className:"bg-blue-500 text-white rounded px-3",onClick:s,children:"Guardar Equipo"})]})]}),Ow=({name:n,activeClub:e,lineups:t,dispatch:s,setValue:i})=>{const a=Ee(e||""),l=Ee(n||"");if(!a||!l)return;if(l.length<2){me.Notify.failure("Nombre corto");return}const u=(t?.[a]?.players||[]).map(Ee);if(u.includes(l)){me.Notify.failure("Jugador repetido");return}s({type:"LINEUPS_UPSERT_BUCKET",payload:{club:a,bucket:{...t?.[a]||{},players:[...u,l]}}}),i?.("playerName",""),me.Notify.success("Jugador agregado")},z3=({form:n,changed:e,players:t=[],dispatch:s,setValue:i,activeClub:a,lineups:l})=>{const[u,d]=F.useState(n?.playerName||"");return F.useEffect(()=>{d(n?.playerName||"")},[n?.playerName]),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"playerName",children:"Jugadores"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("input",{type:"text",name:"playerName",id:"playerName",value:u,onChange:f=>{d(f.target.value),e?.(f)},className:"w-full p-2 border rounded",placeholder:"Aadir jugador",onKeyDown:f=>{f.key==="Enter"&&(f.preventDefault(),Ow({name:u,activeClub:a,lineups:l,dispatch:s,setValue:i}),d(""))}}),m.jsx("button",{type:"button",onClick:()=>Ow({name:u,activeClub:a,lineups:l,dispatch:s,setValue:i}),className:"bg-blue-500 text-white  rounded",children:"Aadir Jugador"})]})]})},U3=(n,e,t)=>{if(!n){me.Notify.failure("Que Equipo dirigs?");return}e(!0),t({type:dx})},gN="/PesStatsZone/assets/trash-KT9Z89de.png",B3=({players:n=[],selectedOption:e,dispatch:t,teamName:s,setShowForm:i,activeClub:a,uid:l})=>{if(!Array.isArray(n)||n.length===0)return null;const[u,d]=F.useState(!1);return m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex items-baseline justify-between",children:[m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Jugadores aadidos"}),m.jsx("button",{type:"button",className:`inline-flex h-10 w-10 items-center justify-center rounded-full border text-sm transition
              ${u?"bg-red-50 border-red-200 text-red-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,"aria-label":u?"Ocultar eliminar":"Mostrar eliminar",title:u?"Ocultar cruces":"Mostrar cruces",onClick:()=>d(f=>!f),children:""})]}),m.jsxs("span",{className:"text-sm text-gray-500",children:["Total: ",n.length]})]}),m.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-1.5",children:[...n].sort((f,g)=>f.localeCompare(g,"es",{sensitivity:"base"})).map(f=>m.jsxs("div",{className:"flex items-center justify-between rounded-md bg-gray-50 border border-gray-200 px-2 py-1.5 hover:bg-gray-100",children:[m.jsx("span",{className:"truncate text-gray-800",title:ke(f),children:ke(f)}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("button",{type:"button",className:"md:hidden text-gray-400 hover:text-gray-600  h-6 w-6","aria-label":"Ver nombre completo",onClick:()=>me.Notify.info(ke(f)),children:""}),u&&m.jsx("button",{type:"button","aria-label":`Eliminar ${ke(f)}`,title:"Eliminar",className:"inline-flex h-7 w-7 items-center justify-center rounded-full text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>{me.Confirm.show("Confirmar eliminacin",`Quers eliminar a ${ke(f)}?`,"S, eliminar","Cancelar",()=>{e===f&&t({type:yo,payload:""}),t({type:fN,payload:{name:f}}),me.Notify.success("Jugador eliminado")},()=>{})},children:m.jsx("img",{src:gN,alt:"Borrar Jugador",className:"h-6 w-6"})})]})]},f))}),m.jsx("button",{type:"button",onClick:()=>{U3(s,i,t),me.Notify.info("Nueva formacin")},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",children:"Nueva Formacin"})]})},F3=(n=[],e=[])=>F.useMemo(()=>{const t=Array.isArray(n)?n:[],s=Array.isArray(e)?e:[],i=t.filter(l=>!s.includes(l)).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"})),a=t.filter(l=>s.includes(l)).sort((l,u)=>l.localeCompare(u,"es",{sensitivity:"base"}));return{remaining:i,chosen:a}},[n,e]),$3=(n={},e="")=>{const t=n?.[e]||{};return[...Array.isArray(t.formations)?t.formations:[]].sort((a,l)=>new Date(l.createdAt)-new Date(a.createdAt))};async function H3({uid:n,teamName:e,lineups:t,dispatch:s}){const i=String(e||"").trim();if(!i)return me.Notify.failure("Qu equipo dirigs?");if(!n)return me.Notify.failure("No hay sesin.");const a=Ee(i),l=ke(i);s({type:Ku,payload:{name:a}});try{await lc(Fn(Sn,"users",n),{managedClubs:Nf(a),activeClub:a,lineups:{[a]:{label:l,players:t?.[a]?.players??[],formations:t?.[a]?.formations??[],playersStats:t?.[a]?.playersStats??{},rivalsPlayers:t?.[a]?.rivalsPlayers??{},matches:t?.[a]?.matches??[],updatedAt:_r()}}},{merge:!0});const u=await oc(Fn(Sn,"users",n)),f=(u.exists()?u.data():null)?.lineups?.[a];if(f){const g=f?.formations?Object.entries(f.formations).map(([x,b])=>({id:x,...b})).sort((x,b)=>new Date(b.createdAt)-new Date(x.createdAt)):[];s({type:Am,payload:{club:a,bucket:{label:f.label??l,players:f.players??[],formations:g,playersStats:f.playersStats??{},rivalsPlayers:f.rivalsPlayers??{},matches:f.matches??[]}}})}s({type:Xu}),me.Notify.success("Club guardado/activado")}catch(u){console.error(u),me.Notify.failure("No se pudo guardar el club en la nube")}}const Pw=(n,e,t,s)=>{if(!n){me.Notify.failure("Eleg un capitn");return}const i=Ee(n);if(!e.includes(i)){me.Notify.failure("Capitn invlido");return}if(t.length>=11&&!t.includes(i)){me.Notify.warning("Equipo Titular Completo");return}s({type:dN,payload:{captain:i}}),me.Notify.success(`Capitn: ${ke(i)}`)},G3=({showForm:n,selectMode:e,players:t=[],selectedOption:s="",starters:i=[],dispatch:a})=>n&&e==="captain"&&Array.isArray(t)&&t.length>0?m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Arm tu Formacin Inicial"}),m.jsxs("select",{value:s,onChange:u=>a({type:yo,payload:u.target.value}),onKeyDown:u=>{u.key==="Enter"&&(u.preventDefault(),Pw(s,t,i,a))},className:"border w-full",disabled:!Array.isArray(t)||t.length===0,children:[m.jsx("option",{value:"",children:"Seleccionar Capitn"}),[...Array.isArray(t)?t:[]].sort((u,d)=>u.localeCompare(d,"es",{sensitivity:"base"})).map(u=>m.jsx("option",{value:u,children:ke(u)},u))]}),m.jsx("button",{type:"button",onClick:()=>Pw(s,t,i,a),className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:!Array.isArray(t)||t.length===0||!s,children:"Confirmar Capitn"})]}):null,q3=(n,e,t)=>{const s=Ee(n||"");if(s){if(e.length>=11){me.Notify.warning("Ya hay 11");return}if(e.includes(s)){me.Notify.warning("Ya est en titulares");return}t({type:hx,payload:{player:s}}),t({type:yo,payload:""}),me.Notify.success("Titular agregado")}},W3=(n,e,t)=>{const s=Ee(n);if(!s){me.Notify.failure("Eleg un jugador");return}if(e.length>=11){me.Notify.warning("Ya hay 11");return}if(e.includes(s)){me.Notify.warning("Ya est en titulares");return}t({type:hx,payload:{player:s}}),me.Notify.success("Titular agregado")},Y3=({selectedOption:n="",players:e=[],starters:t=[],remaining:s=[],chosen:i=[],dispatch:a})=>m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4 underline",children:"Arma tu Formacin Inicial"}),m.jsxs("select",{value:n,onChange:l=>{const u=l.target.value;a({type:yo,payload:u}),q3(u,t,a)&&a({type:yo,payload:""})},className:"border w-full",disabled:e.length===0||t.length>=11,children:[m.jsx("option",{value:"",children:"Eleg un titular"}),[...s].map(l=>m.jsx("option",{value:l,children:ke(l)},l)),m.jsx("option",{disabled:!0,value:"",children:" Ya elegidos "}),i.map(l=>m.jsx("option",{value:l,disabled:!0,children:ke(l)},l))]}),m.jsx("button",{type:"button",onClick:()=>{W3(n,t,a)&&a({type:yo,payload:""})},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:t.length>=11||n==="",children:"Agregar Jugador Titular"})]}),K3=async({starters:n=[],captainName:e="",activeClub:t="",teamName:s="",players:i=[],uid:a="",dispatch:l,setShowForm:u})=>{if(!Array.isArray(n)||n.length!==11)return me.Notify.failure("Debs elegir exactamente 11 titulares."),!1;if(!e){me.Notify.failure("Eleg un capitn.");return}if(!n.includes(e)){me.Notify.failure("El capitn debe estar entre los 11 titulares.");return}if(!t&&!s){me.Notify.failure("Guard el nombre del equipo antes de guardar la formacin.");return}if(!a){me.Notify.failure("No hay sesin.");return}const d=crypto&&crypto.randomUUID?crypto.randomUUID():String(Date.now()),f=Ee(t||s),g=new Date().toISOString(),x=e,b=[...n];if(!f){me.Notify.failure("Falta el nombre del equipo.");return}l({type:fx,payload:{id:d,name:s,captain:e,starters:b,createdAt:new Date,players:[...i]}});try{await Ws(Fn(Sn,"users",a),{[`lineups.${f}.formations.${d}`]:{createdAt:g,captain:x,starters:b},[`lineups.${f}.players`]:[...new Set(i.map(Ee))],[`lineups.${f}.updatedAt`]:_r()}),u(!1),me.Notify.success("Equipo guardado")}catch(E){console.error(E),me.Notify.failure("No se pudo guardar la formacin en la nube")}},X3=({captainName:n,starters:e=[],dispatch:t,activeClub:s,teamName:i,players:a=[],uid:l,setShowForm:u})=>{const d=!!n,f=Array.isArray(e)&&e.length>0;return m.jsxs("div",{children:[d&&m.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",children:[m.jsx("strong",{children:"Capitn:"})," ",ke(n)]}),f&&m.jsxs("div",{children:[m.jsx("h1",{children:`Titulares (${e.length}/11)`}),m.jsx("ul",{className:"list-disc pl-5 grid grid-cols-3 gap-x-6 gap-y-2 mb-2",children:[...e].sort((g,x)=>g.localeCompare(x,"es",{sensitivity:"base"})).map(g=>m.jsxs("li",{className:"text-gray-700 flex items-center",children:[m.jsx("button",{type:"button",onClick:()=>{t({type:hN,payload:{player:g}}),me.Notify.success("Jugador eliminado"),g===n&&me.Notify.info("Capitn eliminado. Volv a elegir un capitn.")},className:"mr-2","aria-label":`Eliminar ${ke(g)}`,title:"Eliminar",children:""}),m.jsx("span",{children:ke(g)})]},g))}),m.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2 mt-2",onClick:()=>K3({starters:e,captainName:n,activeClub:s,teamName:i,players:a,uid:l,dispatch:t,setShowForm:u}),disabled:e.length!==11||!n,children:"Guardar Titulares"})]})]})},Q3=(n,e,t,s,i)=>{const a=Ee(e||t);!s||!a||me.Confirm.show("Confirmar eliminacin","Seguro que quers eliminar esta formacin?","S, eliminar","Cancelar",async()=>{i({type:mN,payload:{id:n.id}}),me.Notify.success("Formacin eliminada");const l=Ee(e||t);if(!(!s||!l))try{await Ws(Fn(Sn,"users",s),{[`lineups.${l}.formations.${n.id}`]:$O(),[`lineups.${l}.updatedAt`]:_r()})}catch(u){console.error(u),me.Notify.failure("No se pudo eliminar en la nube")}},()=>{})},J3=(n,e,t)=>{me.Confirm.show("Nuevos Horizontes","Te vas a un nuevo Club??","S, ya firme contrato","no, apret sin querer",()=>{n(!1),e({type:dx}),e({type:mx}),t("")},()=>{})},K0=n=>String(n?.id??n?.key??n?.codigo??n?._id??n?.createdAt??""),Z3=(n,e=[])=>n&&e.find(t=>K0(t)===n)||null,e4=(n,e=[],t)=>{if(!n)return!1;const s=Array.isArray(n.starters)?n.starters:[];if(s.length!==e.length)return!0;const i=[...s].sort().join("|"),a=[...e].sort().join("|"),l=(n.captain??"")!==(t??"");return i!==a||l},t4=async({formationId:n,starters:e,captainName:t,activeClub:s,teamName:i,players:a,uid:l,dispatch:u,setShowForm:d,createdAt:f})=>{if(!n)return me.Notify.failure("No hay formacin seleccionada para actualizar."),!1;if(!Array.isArray(e)||e.length!==11)return me.Notify.failure("Debs elegir exactamente 11 titulares."),!1;if(!t)return me.Notify.failure("Eleg un capitn."),!1;if(!e.includes(t))return me.Notify.failure("El capitn debe estar entre los 11 titulares."),!1;if(!s&&!i)return me.Notify.failure("Guard el nombre del equipo antes de actualizar la formacin."),!1;if(!l)return me.Notify.failure("No hay sesin."),!1;const g=Ee(s||i);if(!g)return me.Notify.failure("Falta el nombre del equipo."),!1;const x=t,b=[...e];u?.({type:fx,payload:{id:n,name:i,captain:t,starters:b,...f?{createdAt:f}:{},players:[...a]}});try{return await Ws(Fn(Sn,"users",l),{[`lineups.${g}.formations.${n}.captain`]:x,[`lineups.${g}.formations.${n}.starters`]:b,[`lineups.${g}.formations.${n}.updatedAt`]:_r(),[`lineups.${g}.players`]:[...new Set(a.map(Ee))],[`lineups.${g}.updatedAt`]:_r()}),d?.(!1),me.Notify.success("Formacin actualizada"),!0}catch(E){return console.error(E),me.Notify.failure("No se pudo actualizar la formacin en la nube"),!1}},n4=({ordered:n=[],players:e=[],activeClub:t,teamName:s,uid:i,dispatch:a,setShowForm:l,setTeamName:u})=>{if(!Array.isArray(n)||n.length===0)return null;const[d,f]=F.useState(!1),[g,x]=F.useState(null),[b,E]=F.useState([]),[S,w]=F.useState(null),T=F.useMemo(()=>Z3(g,n),[g,n]),k=F.useMemo(()=>e4(T,b,S),[T,b,S]),I=!!(d&&g&&k&&b.length===11),M=()=>{x(null),E([]),w(null)},z=()=>{f(V=>{const U=!V;return U||M(),U})},B=V=>{const U=K0(V);if(!U)return;const L=Array.isArray(V.starters)?V.starters:[];x(U),E([...L]),w(V.captain??L[0]??null)},$=V=>{E(U=>U.filter(L=>L!==V)),w(U=>U===V?null:U)},A=V=>typeof V=="string"?V:String(V?.id??V?.key??V?.codigo??V?.name??V?.nombre??""),R=V=>typeof V=="string"?V:String(V?.id??V?.key??V?.codigo??V?.name??V?.nombre??""),j=new Set(b.map(R)),P=e.map(A).filter(V=>V&&!j.has(V)).sort((V,U)=>V.localeCompare(U,"es",{sensitivity:"base"}));return m.jsx("div",{children:m.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-2",children:[m.jsxs("div",{className:"flex items-baseline gap-2",children:[m.jsx("h1",{className:"text-xl font-semibold text-green-700 mb-2 underline",children:"Formaciones"}),m.jsx("button",{type:"button",className:`inline-flex h-10 w-10 items-center justify-center rounded-full border text-sm transition
              ${d?"bg-red-50 border-red-200 text-red-700":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"}`,"aria-label":d?"Salir de edicin":"Editar formaciones",title:d?"Salir de edicin":"Editar formaciones",onClick:z,children:""})]}),n.map(V=>{const U=K0(V),L=d&&U&&U===g,ue=[...L?b:Array.isArray(V.starters)?V.starters:[]].sort((Ae,G)=>Ae.localeCompare(G,"es",{sensitivity:"base"})),W=ue.slice(0,4),ae=ue.slice(4,8),we=ue.slice(8,11);return m.jsxs("div",{className:`space-y-2 rounded-lg ${L?"ring-2 ring-red-200 p-2":""}`,children:[m.jsx("div",{role:d?"button":void 0,tabIndex:d?0:void 0,className:`${d?"cursor-pointer":""}`,onClick:()=>{d&&B(V)},onKeyDown:Ae=>{d&&(Ae.key==="Enter"||Ae.key===" ")&&B(V)},children:m.jsx("div",{className:"grid md:grid-cols-3 gap-1 md:gap-2",children:[W,ae,we].map((Ae,G)=>m.jsxs("ul",{className:"bg-gray-50 rounded-lg p-1 shadow-inner space-y-1",children:[Ae.map(ee=>m.jsx("li",{className:`px-2 py-1.5 rounded text-left leading-tight ${ee===V.captain?"bg-yellow-50 border-l-4 border-yellow-400 font-medium text-yellow-900":"hover:bg-gray-100 text-gray-800"}`,children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsx("span",{className:"truncate",children:ke(ee)}),L&&m.jsx("button",{type:"button",className:"shrink-0 inline-flex h-8 w-8 items-center justify-center rounded-full hover:bg-red-50",onClick:fe=>{fe.stopPropagation(),window.confirm(`Quitar a ${ke(ee)} de esta formacin?`)&&$(ee)},children:m.jsx("img",{src:gN,alt:"",className:"h-5 w-5",draggable:!1})})]})},ee)),G===2&&m.jsxs("li",{className:"flex justify-center items-center gap-2 mt-2",children:[L&&m.jsx("button",{type:"button",className:`px-3 py-2 rounded text-sm font-semibold ${I?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,onClick:ee=>{ee.stopPropagation(),I&&t4({formationId:g,starters:b,captainName:S,activeClub:t,teamName:s,players:e,uid:i,dispatch:a,setShowForm:l})},disabled:!I,title:I?"Actualizar":"Tens que tener 11 jugadores para guardar",children:"Actualizar"}),m.jsx("button",{type:"button","aria-label":"Eliminar formacin",className:"w-9 h-9 rounded-full bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 text-lg font-bold flex items-center justify-center shadow",onClick:ee=>{ee.stopPropagation(),Q3(V,t,s,i,a)},children:""})]})]},G))})}),L&&b.length<11&&m.jsxs("div",{className:"mt-3",children:[m.jsxs("select",{value:"",onChange:Ae=>{const G=Ae.target.value;G&&E(ee=>[...ee,G])},className:"border p-2 rounded w-full",children:[m.jsx("option",{value:"",children:"Seleccionar jugador..."}),P.map(Ae=>m.jsx("option",{value:Ae,children:ke(Ae)},Ae))]}),m.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Te faltan ",11-b.length," jugador(es)"]})]}),m.jsx("hr",{})]},U)}),m.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2",onClick:()=>J3(l,a,u),children:"Nuevo Club para Dirigir"})]})})};function s4(n=[],e={}){return F.useMemo(()=>{const t=new Map;for(const s of Array.isArray(n)?n:[]){const i=Ee(s);i&&t.set(i,ke(i))}for(const s of Object.keys(e||{})){const i=Ee(s);if(!i)continue;const a=e[i]?.label||i;t.set(i,ke(a))}return[...t.entries()].map(([s,i])=>({key:s,label:i})).sort((s,i)=>s.label.localeCompare(i.label,"es",{sensitivity:"base"}))},[n,e])}const i4=async({uid:n,teamName:e,lineups:t,dispatch:s})=>{const i=(e||"").trim();if(!i)return;const a=Ee(i);if(!a)return;if(t?.[a]){s({type:Ku,payload:{name:a}}),s({type:Xu}),me.Notify.success("Equipo cargado desde memoria local");return}if(!n){me.Notify.info("No hay sesin para buscar en la nube");return}try{const u=await oc(Fn(Sn,"users",n));if(!u.exists()){me.Notify.info("No se encontraron datos guardados de ese club");return}const f=u.data()?.lineups?.[a];if(!f){me.Notify.info("No se encontraron datos guardados de ese club");return}const g=f.formations?Object.entries(f.formations).map(([x,b])=>({id:x,...b})).sort((x,b)=>new Date(b.createdAt)-new Date(x.createdAt)):[];s({type:Am,payload:{club:a,bucket:{label:f.label??i,players:f.players??[],formations:g,playersStats:f.playersStats??{},rivalsPlayers:f.rivalsPlayers??{},matches:f.matches??[]}}}),s({type:Ku,payload:{name:a}}),s({type:Xu}),me.Notify.success("Equipo cargado desde la nube")}catch(u){console.error(u),me.Notify.failure("No se pudo recuperar el equipo de la nube")}},r4=()=>{const{form:n,changed:e,setValue:t}=cx(),{uid:s}=cn(),[i,a]=F.useState(n.teamName||""),[l,u]=F.useState(n.playerName||""),d={...n,playerName:l},f=L=>{L?.target?.name==="playerName"&&u(L.target.value),e(L)},g=(L,ge)=>{L==="playerName"&&u(ge??""),t(L,ge)},{state:x,dispatch:b}=Hn(),{captainName:E="",activeClub:S="",starters:w=[],selectMode:T="captain",selectedOption:k="",lineups:I={},players:M=[]}=x??{},z=Ee(S||""),B=I?.[z]?.players||[],[$,A]=F.useState(!1),R=I3(s,b,x.activeClub,x.managedClubs);D3(I,S,b,R),M3(S,I,a);const j=$3(I,S),{remaining:P,chosen:V}=F3(B,w);O3(s,S,I,B),P3(s,b);const U=s4(x?.managedClubs,I);return m.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:m.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[m.jsx("div",{className:"space-y-2",children:m.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[m.jsx(L3,{teamName:i}),m.jsx(V3,{value:i,onChange:a,onBlurSave:()=>i4({uid:s,teamName:i,lineups:I,dispatch:b}),onConfirm:()=>H3({uid:s,teamName:i,lineups:I,dispatch:b}),disabled:B.length>0,suggestions:U}),m.jsx(z3,{activeClub:S,lineups:I,form:d,changed:f,players:B,dispatch:b,setValue:g}),m.jsx(B3,{players:B,selectedOption:k,dispatch:b,teamName:i,activeClub:S,uid:s,setShowForm:A})]})}),m.jsx("div",{className:"space-y-2",children:$?m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs(m.Fragment,{children:[m.jsx(G3,{showForm:$,selectMode:T,players:B,selectedOption:k,starters:w,dispatch:b}),T==="starters"&&B.length>0&&m.jsx(Y3,{selectedOption:k,players:B,starters:w,dispatch:b,remaining:P,chosen:V}),m.jsx(X3,{captainName:E,players:B,starters:w,dispatch:b,activeClub:S,teamName:i,uid:s,setShowForm:A})]})}):B.length!==0?m.jsxs("div",{className:"hidden lg:block text-xs text-gray-500",children:["Toc ",m.jsx("strong",{children:"Nueva formacin"})," para empezar a armar el equipo."]}):null}),m.jsx("div",{className:"space-y-2",children:j.length>0&&m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6",children:m.jsx(n4,{ordered:j,activeClub:S,teamName:i,uid:s,dispatch:b,setShowForm:A,setTeamName:a,players:B})})})]})})},lt=n=>typeof n=="string"&&n.trim()?ke(n):String(n??""),X0=(n="")=>n.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),Lw=n=>(n||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),a4=(n,e)=>{if(!n||!e)return"anual";const t=Lw(X0(e));for(const[s,i]of Object.entries(n||{}))if(Lw(X0(s))===t)return(i?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"};function Cm({torneoName:n,torneoYear:e,fecha:t,torneosConfig:s}){const i=X0(n||"").trim()||"Sin torneo",a=a4(s,i),l=t?typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)?new Date(`${t}T00:00:00`):new Date(t):null,u=Number(e)||l&&l.getFullYear()||0;if(a==="europeo"){if(l&&Number.isFinite(l.getTime())){const d=l.getFullYear(),g=l.getMonth()+1>=7?d:d-1;return`${i} ${g}-${g+1}`}return u?`${i} ${u-1}-${u}`:`${i}`}return u?`${i} ${u}`:l&&Number.isFinite(l.getTime())?`${i} ${l.getFullYear()}`:`${i}`}function Zg(){return{pj:0,g:0,e:0,p:0,gf:0,gc:0}}function e0(n,{esLocal:e,gf:t,gc:s}){const i=t>s?"g":t<s?"p":"e";n.pj+=1,n[i]+=1,n.gf+=t,n.gc+=s}function vl(n){const{g:e=0,e:t=0,p:s=0}=n||{};return e>=t&&e>s?"bg-green-100":s>e&&s>=t?"bg-red-100":t>=e&&t>=s?"bg-yellow-100":"bg-pink-100"}function _l({gf:n=0,gc:e=0}){return(n||0)-(e||0)}function Qh(n){const e=n.g*3+n.e,t=n.pj*3,s=t>0?Math.round(e/t*100):"0.00";return{puntos:e,efectividad:s,posibles:t}}function o4({match:n,uid:e,clubKey:t,onDone:s}){if(!n?.id){me.Notify.failure("No se encontr el ID del partido.");return}me.Confirm.show("Borrar Partido",`Ests seguro de borrar el partido de ${n.condition} vs ${lt(n.rival||"")}?`,"S","No",async()=>{try{const i=Fn(Sn,"users",e),l=(await oc(i)).data()||{},u=t||n.club,f=(l?.lineups?.[u]?.matches||[]).filter(g=>g?.id!==n.id);await Ws(i,{[`lineups.${u}.matches`]:f}),me.Notify.success("Partido borrado con xito."),typeof s=="function"&&s()}catch(i){console.error(i),me.Notify.failure("No se pudo borrar el partido.")}},()=>me.Notify.info("El partido no se borr"))}const l4=(n,e={})=>F.useMemo(()=>{const t={};for(const s of n){const i=Cm({torneoName:s.torneoName,torneoYear:s.torneoYear,fecha:s.fecha,torneosConfig:e});t[i]||(t[i]={general:Zg(),local:Zg(),visitante:Zg()});const a=Number(s.golFavor)||0,l=Number(s.golContra)||0,u=String(s.condition||"").trim().toLowerCase(),d=u==="local",f=u==="visitante";e0(t[i].general,{esLocal:d,gf:a,gc:l}),d?e0(t[i].local,{esLocal:!0,gf:a,gc:l}):f&&e0(t[i].visitante,{esLocal:!1,gf:a,gc:l})}return t},[n]),Vw=n=>{if(!n)return 0;if(typeof n=="number")return n;if(typeof n=="string"){const e=Date.parse(n);return Number.isFinite(e)?e:0}if(typeof n=="object"){if(typeof n.toDate=="function"){const e=n.toDate();return e instanceof Date?e.getTime():0}if(typeof n.seconds=="number")return n.seconds*1e3}return 0},c4=(n,e,t=[],s={})=>F.useMemo(()=>{const i=u=>{const d=String(u).match(/(\d{4})(?:-(\d{4}))?$/);return d?parseInt(d[2]||d[1],10):0},a=new Map;(t||[]).forEach(u=>{const d=Cm({torneoName:u?.torneoName,torneoYear:u?.torneoYear,fecha:u?.fecha,torneosConfig:s}),f=Math.max(Vw(u?.createdAt),Vw(u?.fecha));if(!f)return;const g=a.get(d)||0;f>g&&a.set(d,f)});const l=Object.keys(n||{});return l.sort((u,d)=>{const f=i(u),g=i(d);if(f!==g)return e==="asc"?f-g:g-f;const x=a.get(u)||0,b=a.get(d)||0;return x!==b?e==="asc"?x-b:b-x:u.localeCompare(d)}),l},[n,e,t,s]),Is=({value:n=0,title:e="",showPlus:t=!1})=>{const s=Number(n||0),i=s>0?"ring-emerald-600":s<0?"ring-rose-600":"ring-yellow-500",a=t&&s>0?`${s}`:`${s}`;return m.jsx("span",{className:`mx-auto inline-flex items-center justify-center rounded-full bg-white ring-2 ${i}
        h-6 w-6 md:h-7 md:w-7 text-[10px] md:text-[11px] font-extrabold text-black tabular-nums`,title:e,children:Ys(a)})},u4=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn();zs(n,t,i);const a=Object.keys(s?.lineups||[]),[l,u]=F.useState(s?.activeClub||a[0]||""),d=Ee(l||""),f=d?s?.lineups?.[d]:null,g=Array.isArray(f?.matches)?f.matches:[],[x,b]=F.useState("desc"),E=f?.torneosConfig||{},S=l4(g,E),w=c4(S,x,g,E),T=s?.lineups?.[d]||{},k=(T.players?.length??0)>0,I=(T.formations?.length??0)>0,M=T.playersStats?Object.keys(T.playersStats).length>0:!1;return s?.lineups&&Object.keys(s.lineups).length>0?!d||!k&&!I&&!M?m.jsx(bs,{to:"/formacion",replace:!0}):m.jsxs("div",{className:"p-1 max-w-screen-2xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[m.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:" Campeonatos"}),m.jsx(bo,{to:"/campeonatos/ajustes",className:"p-2 rounded-full hover:bg-slate-200 transition-all border border-slate-200 shadow-sm bg-white flex items-center justify-center",title:"Configuracin de Campeonatos",children:m.jsx("span",{className:"text-xl leading-none",children:""})})]}),m.jsxs("div",{className:"mb-4 flex flex-wrap items-end justify-center gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:l,onChange:B=>u(B.target.value),"aria-label":"Seleccionar club",children:a.map(B=>m.jsx("option",{value:B,children:lt(B)},B))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Orden"}),m.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:x,onChange:B=>b(B.target.value),"aria-label":"Ordenar campeonatos",children:[m.jsx("option",{value:"desc",children:"Ms nuevos primero"}),m.jsx("option",{value:"asc",children:"Ms viejos primero"})]})]})]}),m.jsx("div",{className:"lg:hidden max-h-[75vh] overflow-auto rounded-2xl border border-slate-200 bg-white shadow-sm w-full",children:m.jsx("div",{className:"flex justify-center p-2",children:m.jsxs("table",{className:"w-max text-[12px] md:text-sm border-separate border-spacing-px bg-white",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 text-left border-b border-slate-200 w-[40px]",children:"Campeonato"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"Pts / Efec."})]})}),m.jsxs("tbody",{children:[w.map(B=>{const $=S?.[B];if(!$)return null;const A=_l($.general),R=_l($.local),j=_l($.visitante),P=Number($.general?.g||0)-Number($.general?.p||0),V=Number($.local?.g||0)-Number($.local?.p||0),U=Number($.visitante?.g||0)-Number($.visitante?.p||0),L=vl($.general),ge=vl($.local),ue=vl($.visitante),{puntos:W,efectividad:ae,posibles:we}=Qh($.general),{puntos:Ae,efectividad:G,posibles:ee}=Qh($.local),{puntos:fe,efectividad:re,posibles:pe}=Qh($.visitante);return m.jsxs(dr.Fragment,{children:[m.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-center text-slate-800",children:lt(B)}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.g}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.e}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.p}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:m.jsx(Is,{value:P,title:`G/P = ${$.general.g} - ${$.general.p} = ${P}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:$.general.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${L}`,children:m.jsx(Is,{value:A,showPlus:!0,title:`DG = ${A}`})}),m.jsxs("td",{className:`px-2 py-1 text-center ${L}`,children:[W," / ",we," ",ae,"%"]})]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-right text-[10px] uppercase tracking-wide text-slate-600",children:"LOCAL"}),m.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.g}),m.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.e}),m.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.p}),m.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:m.jsx(Is,{value:V,title:`G/P = ${$.local.g} - ${$.local.p} = ${V}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:$.local.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${ge}`,children:m.jsx(Is,{value:R,showPlus:!0,title:`DG = ${R}`})}),m.jsxs("td",{className:`px-2 py-1 text-center ${ge}`,children:[Ae," / ",ee," ",G,"%"]})]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-right text-[10px] uppercase tracking-wide text-slate-600",children:"VISITANTE"}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:$.visitante.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:$.visitante.g}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:$.visitante.e}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:$.visitante.p}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:m.jsx(Is,{value:U,title:`G/P = ${$.visitante.g} - ${$.visitante.p} = ${U}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:$.visitante.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:$.visitante.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:m.jsx(Is,{value:j,showPlus:!0,title:`DG = ${j}`})}),m.jsxs("td",{className:`px-2 py-1 text-center ${ue}`,children:[fe," / ",pe," ",re,"%"]})]})]},B)}),w.length===0&&m.jsx("tr",{children:m.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:10,children:"No hay partidos cargados para este club."})})]})]})})}),m.jsx("div",{className:"hidden lg:block max-h-[75vh] overflow-auto rounded-2xl border border-slate-200 bg-white shadow-sm p-2",children:m.jsxs("table",{className:"mx-auto w-max table-auto text-[11px] md:text-sm border-collapse",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Campeonato"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),m.jsx("th",{className:"px-2 py-2 text-left border-b  border-r border-slate-300",children:"Pts / Efec."}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b  border-r border-slate-300",children:"DG L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G/P V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG V"})]})}),m.jsxs("tbody",{children:[w.map((B,$)=>{const A=S?.[B];if(!A)return null;const R=$%2===0?"bg-white":"bg-slate-50",j=_l(A.general),P=_l(A.local),V=_l(A.visitante),U=Number(A.general?.g||0)-Number(A.general?.p||0),L=Number(A.local?.g||0)-Number(A.local?.p||0),ge=Number(A.visitante?.g||0)-Number(A.visitante?.p||0),ue=vl(A.general),W=vl(A.local),ae=vl(A.visitante),{puntos:we,efectividad:Ae,posibles:G}=Qh(A.general);return m.jsxs("tr",{className:`${R} border-t border-slate-100 hover:bg-slate-100/70 transition-colors`,children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:lt(B)}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:A.general.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:A.general.g}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:A.general.e}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:A.general.p}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:m.jsx(Is,{value:U,title:`G/P = ${A.general.g} - ${A.general.p} = ${U}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:A.general.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:A.general.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${ue}`,children:m.jsx(Is,{value:j,showPlus:!0,title:`DG = ${j}`})}),m.jsxs("td",{className:`px-2 py-1 text-left ${ue} border-r border-slate-200`,children:[we,"/",G," - ",Ae,"%"]}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.g}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.e}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.p}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:m.jsx(Is,{value:L,title:`G/P = ${A.local.g} - ${A.local.p} = ${L}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${W}`,children:A.local.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${W} border-r border-slate-200`,children:m.jsx(Is,{value:P,showPlus:!0,title:`DG = ${P}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.g}),m.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.e}),m.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.p}),m.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:m.jsx(Is,{value:ge,title:`G/P = ${A.visitante.g} - ${A.visitante.p} = ${ge}`})}),m.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:A.visitante.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${ae}`,children:m.jsx(Is,{value:V,showPlus:!0,title:`DG = ${V}`})})]},B)}),w.length===0&&m.jsx("tr",{children:m.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:26,children:"No hay partidos cargados para este club."})})]})]})})]}):m.jsx("div",{className:"p-6 text-center text-slate-500",children:"Cargando datos..."})},oa=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0}),Q0=()=>({General:oa(),Local:oa(),Visitante:oa(),Neutral:oa()});function Jh(n,e){n.pj+=1;const t=Number(e.golFavor||0),s=Number(e.golContra||0);n.gf+=t,n.gc+=s,t>s?n.g+=1:t===s?n.e+=1:n.p+=1,n.dif=n.gf-n.gc}function zw(n,e){Jh(n.General,e);const t=String(e?.condition||"").trim().toLowerCase();t==="local"?Jh(n.Local,e):t==="visitante"?Jh(n.Visitante,e):(t==="neutro"||t==="neutral")&&Jh(n.Neutral,e)}function d4(n,e={}){const t=(x="")=>x.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),s=x=>(x||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=(x,b)=>{if(!x||!b)return"anual";const E=s(t(b));for(const[S,w]of Object.entries(x))if(s(t(S))===E)return(w?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"},a=(x,b)=>{const E=new Date(x?.fecha);if(!Number.isFinite(E.getTime()))return"N/A";const S=E.getFullYear(),w=E.getMonth()+1;if(b==="europeo"){const T=w>=7?S:S-1;return`${T}-${T+1}`}return String(S)},l=x=>{const b=x?.createdAt;if(typeof b=="number")return b;if(b&&typeof b.toMillis=="function")return b.toMillis();if(b&&typeof b.seconds=="number")return b.seconds*1e3;if(x?.fecha){const E=new Date(x.fecha);if(Number.isFinite(E.getTime()))return E.getTime()}return 0},u=new Map;for(const x of n||[]){const b=(x?.captain||"").trim();u.has(b)||u.set(b,{captain:b,total:Q0(),byTournament:{},tourneyMaxTs:{}});const E=u.get(b);zw(E.total,x);const S=x?.torneoDisplay||"Sin torneo",w=t(S),T=i(e,w),k=a(x,T),I=`${w} ${k}`;E.byTournament[I]||(E.byTournament[I]=Q0()),zw(E.byTournament[I],x);const M=l(x);E.tourneyMaxTs[I]=Math.max(E.tourneyMaxTs[I]||0,M)}const d=[...u.values()].sort((x,b)=>x.captain.localeCompare(b.captain)),f=new Map;d.forEach(x=>{Object.entries(x.tourneyMaxTs).forEach(([b,E])=>{f.set(b,Math.max(f.get(b)||0,E))})});const g=[...f.entries()].sort((x,b)=>b[1]-x[1]).map(([x])=>x);return{captains:d,tournamentsOrdered:g}}const Uw=({title:n,rows:e,colorize:t=!0})=>{const s=["General","Local","Visitante","Neutral"];function i({g:f=0,e:g=0,p:x=0}){return t?f>=g&&f>x?"bg-green-100":x>f&&x>=g?"bg-red-100":f===x&&f>g||f===g&&f===x||g>=f&&g>=x?"bg-yellow-100":"bg-gray-100":""}const a=({children:f,bg:g})=>m.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${g}`,children:f}),l=({g:f=0,e:g=0,pj:x=0,rowBg:b=""})=>{const E=Number(f||0),S=Number(g||0),w=Number(x||0),T=E*3+S*1,k=w*3,I=k>0?Math.round(T/k*100):0;return m.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${b}`,children:m.jsxs("div",{className:"flex flex-col items-center leading-none",children:[m.jsxs("span",{className:"text-[10px] font-extrabold tabular-nums text-black",children:[T," / ",k]}),m.jsxs("span",{className:"mt-0.5 text-[9px] tabular-nums text-slate-600",children:[I,"%"]})]})})},u=({value:f=0,rowBg:g=""})=>{const x=Number(f||0),b=x>0?"ring-green-400":x<0?"ring-red-400":"ring-yellow-400";return m.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${g}`,children:m.jsx("span",{className:`mx-auto inline-flex items-center justify-center rounded-full w-7 h-7 bg-white ring-2 ${b} text-[10px] font-extrabold text-black`,title:`DIF: ${x}`,children:Ys(x)})})},d=({g:f=0,p:g=0,rowBg:x=""})=>{const b=Number(f||0)-Number(g||0),E=b>0?"border-green-400 ring-green-300":b<0?"border-red-400 ring-red-300":"border-yellow-400 ring-yellow-300",S=b>0?"text-green-700":b<0?"text-red-700":"text-amber-800";return m.jsx("td",{className:`px-1 py-1 border-b border-gray-100 text-center ${x}`,children:m.jsx("span",{className:`mx-auto inline-flex items-center rounded-full bg-white px-2 py-1 text-[10px] font-extrabold
          border ring-2 ${E}`,title:`G/P = ${f} - ${g} = ${b}`,children:m.jsx("span",{className:`tabular-nums ${S}`,children:Ys(b)})})})};return m.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden mt-3",children:[m.jsx("div",{className:"bg-blue-50 px-2 py-1 font-semibold text-sm text-center",children:ke(n)}),m.jsxs("table",{className:"w-full text-xs border-separate border-spacing-px bg-white",children:[m.jsx("thead",{className:"bg-blue-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"Tipo"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"Pj"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"G"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"E"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"P"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"G/P"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"GF"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"GC"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"DIF"}),m.jsx("th",{className:"px-2 py-1 text-left border-b border-gray-300",children:"PTS/EFEC"})]})}),m.jsx("tbody",{children:s.map((f,g)=>{const x=e[f]||{pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0},b=i(x);return m.jsxs("tr",{className:g%2===0?"bg-white":"bg-gray-100",children:[m.jsx("td",{className:"px-2 py-1 border-b border-gray-100",children:f}),m.jsx(a,{bg:b,children:x.pj}),m.jsx(a,{bg:b,children:x.g}),m.jsx(a,{bg:b,children:x.e}),m.jsx(a,{bg:b,children:x.p}),m.jsx(d,{g:x.g,p:x.p,rowBg:b}),m.jsx(a,{bg:b,children:x.gf}),m.jsx(a,{bg:b,children:x.gc}),m.jsx(u,{value:x.dif,rowBg:b}),m.jsx(l,{g:x.g,e:x.e,pj:x.pj,rowBg:b})]},f)})})]})]})},h4=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn();zs(n,t,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||{}),[d,f]=F.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null;F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const b=Array.isArray(a?.matches)?a.matches:[],E=s?.lineups?.[g]||{},S=(E.players?.length??0)>0,w=(E.formations?.length??0)>0,T=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!g||!S&&!w&&!T)return m.jsx(bs,{to:"/formacion",replace:!0});const k=a?.torneosConfig||{},{captains:I,tournamentsOrdered:M}=F.useMemo(()=>d4(b,k),[b,a?.torneosConfig]),z=A=>({General:A?.General||oa(),Local:A?.Local||oa(),Visitante:A?.Visitante||oa(),Neutral:A?.Neutral||oa()}),B=d,$=I.filter(A=>(A?.total?.General?.pj??0)>0);return m.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-evenly gap-1 mb-2 mt-2",children:[m.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 flex flex-col gap-0 leading-none",children:[m.jsx("span",{children:" Anlisis"}),m.jsx("span",{className:"mt-1 inline-flex w-fit items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-600",children:" Resumen"})]}),m.jsxs("label",{className:"w-full max-w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{value:B,onChange:A=>f(A.target.value),disabled:u.length<=1,className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-1 text-sm text-slate-800 shadow-sm\r
        focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
        disabled:bg-slate-100 disabled:text-slate-500`,children:u.map(A=>m.jsx("option",{value:A,children:ke(A)},A))})]})]}),m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[m.jsx("h2",{className:"text-sm font-extrabold tracking-wide text-slate-800 uppercase",children:"Totales Generales"}),m.jsx("span",{className:"text-xs text-slate-500",children:$.length?`${$.length} capitanes`:""})]}),m.jsx("div",{className:"p-2",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("div",{className:"flex flex-col gap-3 mx-auto w-max sm:flex-row sm:flex-nowrap sm:justify-center",children:[$.map(A=>m.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:m.jsx(Uw,{title:A.captain,rows:z(A.total)})},`total-${A.captain}`)),!$.length&&m.jsx("div",{className:"text-slate-500 text-sm px-2 py-4",children:" Sin partidos "})]})})})]}),m.jsx("div",{className:"mt-2 space-y-6 ",children:M.map(A=>m.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[m.jsx("div",{className:"px-2 py-2 border-b border-slate-200",children:m.jsx("h3",{className:"text-sm font-extrabold tracking-wide text-slate-800 uppercase text-center",children:A})}),m.jsx("div",{className:"p-2",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"flex flex-col gap-3 mx-auto w-max sm:flex-row sm:flex-nowrap sm:justify-center",children:$.map(R=>{const j=R.byTournament[A]||Q0();return(j?.General?.pj??0)===0?null:m.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:m.jsx(Uw,{title:R.captain,rows:z(j)})},`${A}-${R.captain}`)})})})})]},A))})]})},Ti=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,df:0}),fo=()=>({General:Ti(),Local:Ti(),Visitante:Ti(),Neutral:Ti()}),ta=["PJ","G","E","P","G/P","GF","GC","DF","PTS/EFEC"];function Zr(n,e,t){n.pj+=1,e>t?n.g+=1:e===t?n.e+=1:n.p+=1,n.gf+=e,n.gc+=t,n.df=n.gf-n.gc}function yN(n={}){const{g:e=0,e:t=0,p:s=0}=n;return e>=t&&e>s?"bg-green-100":s>e&&s>=t?"bg-red-100":e===s&&e>t||e===t&&e===s||t>=e&&t>=s?"bg-yellow-100":"bg-pink-100"}const f4=n=>n>0?"ring-green-400":n<0?"ring-red-400":"ring-yellow-400",xN=(n,e)=>m.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${f4(n)} h-6 w-6 text-[10px] font-extrabold text-black`,title:e,children:n}),m4=n=>xN(n,`G/P = ${n}`),p4=n=>xN(n,`DF = ${n}`),g4=n=>{const e=Number(n?.g??0),t=Number(n?.e??0),s=Number(n?.pj??0),i=e*3+t*1,a=s*3,l=a>0?Math.round(i/a*100):0;return{obtenidos:i,posibles:a,efec:l}},y4=n=>m.jsxs("div",{className:"leading-tight",children:[m.jsxs("div",{className:"font-semibold",children:[n?.obtenidos??0," / ",n?.posibles??0]}),m.jsxs("div",{className:"text-[10px] opacity-80",children:[n?.efec??0,"%"]})]}),x4=(n,e=[])=>{const t={General:n?.General??Ti(),Local:n?.Local??Ti(),Neutral:n?.Neutral??Ti(),Visitante:n?.Visitante??Ti()},s=[];for(const i of e){const a=t[i]??Ti(),l=(a.g??0)-(a.p??0),u=g4(a);s.push(a.pj,a.g,a.e,a.p,l,a.gf,a.gc,a.df,u)}return s.map((i,a)=>{const l=a%9,u=Math.floor(a/9),d=e[u],f=t[d]??Ti(),g=yN(f);return m.jsx("td",{className:`border px-2 py-1 text-center ${g}`,children:l===4?m4(i):l===7?p4(i):l===8?y4(i):i},`${d}-${a}`)})},Bw=({etiquetas:n,sufijos:e=["",""]})=>m.jsx(m.Fragment,{children:n.flatMap((t,s)=>ta.map(i=>m.jsxs("th",{className:"border px-2 py-1 text-center",children:[i,e[s]]},`${t}-${i}`)))}),Zh=({triple:n,orden:e})=>m.jsx(m.Fragment,{children:x4(n,e)}),bN=(n=[],e="anual")=>F.useMemo(()=>{const t={},s=new Set;for(const l of n){if(!l?.fecha)continue;const u=new Date(l.fecha);let d="N/A";if(Number.isFinite(u.getTime()))if(e==="europeo"){const E=u.getFullYear(),w=u.getMonth()+1>=7?E:E-1;d=`${w}-${w+1}`}else d=String(u.getFullYear());const f=(l?.captain||"").trim();s.add(f),t[d]||(t[d]={general:fo(),capitanes:{}}),t[d].capitanes[f]||(t[d].capitanes[f]=fo());const g=Number(l.golFavor||0),x=Number(l.golContra||0),b=String(l.condition||"").trim().toLowerCase();Zr(t[d].general.General,g,x),b==="local"?Zr(t[d].general.Local,g,x):b==="visitante"?Zr(t[d].general.Visitante,g,x):(b==="neutral"||b==="neutro"||b==="neutro/neutral")&&(t[d].general.Neutral||(t[d].general.Neutral=fo().General),Zr(t[d].general.Neutral,g,x)),Zr(t[d].capitanes[f].General,g,x),b==="local"?Zr(t[d].capitanes[f].Local,g,x):b==="visitante"?Zr(t[d].capitanes[f].Visitante,g,x):(b==="neutral"||b==="neutro"||b==="neutro/neutral")&&(t[d].capitanes[f].Neutral||(t[d].capitanes[f].Neutral=fo().General),Zr(t[d].capitanes[f].Neutral,g,x))}const i=Object.keys(t).sort((l,u)=>{const d=parseInt(l.split("-")[0],10),f=parseInt(u.split("-")[0],10);return d-f}),a=[...s].sort((l,u)=>l.localeCompare(u));return{temporadasOrdenadas:i,resumenPorTemporada:t,captainsOrdenados:a}},[n]),b4={PJ:"pj",G:"g",E:"e",P:"p",GF:"gf",GC:"gc",DF:"df","PTS/EFEC":"ptsEfec"},v4=n=>n>0?"ring-green-400":n<0?"ring-red-400":"ring-yellow-400",Fw=({value:n,title:e})=>{const t=typeof n=="number"?Math.abs(n):n;return m.jsx("span",{className:`inline-flex items-center justify-center rounded-full bg-white ring-2 ${v4(n)} h-6 w-6 text-[10px] font-extrabold text-black`,title:e,children:t})},ea=(n={})=>ta.map((e,t)=>{const i=yN(n),a=t===0?"":" border-2 border-white/70";let l=0;if(e==="G/P"){const u=n?.g??0,d=n?.p??0;l=u-d}else if(e==="PTS/EFEC"){const u=Number(n?.g??0),d=Number(n?.e??0),f=Number(n?.pj??0),g=u*3+d*1,x=f*3,b=x>0?Math.round(g/x*100):0;l={obtenidos:g,posibles:x,efec:b}}else{const u=b4[e];l=n?.[u]??0}return m.jsx("td",{className:`px-2 py-1 text-center ${i}${a}`,children:e==="G/P"?m.jsx(Fw,{value:l,title:`G/P = ${n?.g??0} - ${n?.p??0} = ${l}`}):e==="DF"?m.jsx(Fw,{value:l,title:`DF = ${l}`}):e==="PTS/EFEC"?m.jsxs("div",{className:"flex flex-col items-center leading-none",children:[m.jsxs("span",{className:"text-[10px] font-bold tabular-nums",children:[l.obtenidos," / ",l.posibles]}),m.jsxs("span",{className:"text-[9px] text-slate-600 tabular-nums",children:[l.efec,"%"]})]}):l},e)}),vN=({clubKey:n,bucket:e,year:t,matchesForYear:s,mode:i="anual"})=>{const[a,l]=F.useState(null);F.useEffect(()=>{e&&Object.keys(e).length!==0&&l(e)},[e]);const u=s,{temporadasOrdenadas:d,resumenPorTemporada:f,captainsOrdenados:g}=bN(u,i),x=[...d||[]].sort((T,k)=>{const I=String(T).match(/\d{4}/g)||[],M=String(k).match(/\d{4}/g)||[],z=I.length?Math.max(...I.map(Number)):-1/0;return(M.length?Math.max(...M.map(Number)):-1/0)-z});String(t).match(/\d{4}/g)||String(t);const b=e?.clubName?e.clubName:ke(n),E="w-[60px] max-w-[60px]",S=`px-1.5 py-2 ${E} text-left border-b border-slate-200`,w=`px-1.5 py-1 ${E} text-left text-[10px] uppercase tracking-wide text-slate-600 whitespace-nowrap`;return m.jsx("div",{className:"m-2 space-y-3",children:x.map(T=>{const k=f[T];if(!k)return null;const I=Array.isArray(g)?g:[],M=k.general||fo();return m.jsxs(dr.Fragment,{children:[m.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-evenly sm:gap-6",children:m.jsx("div",{className:"lg:hidden max-h-full overflow-auto overflow-x-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[m.jsxs("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:[m.jsx("tr",{children:m.jsxs("th",{className:"px-2 py-2 w-[76px] max-w-[76px] text-center border-b border-slate-200",colSpan:10,children:[T,"  ",b]})}),m.jsxs("tr",{children:[m.jsx("th",{className:S,children:"Bloque"}),ta.map(z=>m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:z},`head-${z}`))]})]}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:`px-1.5 py-1.5 ${E} font-semibold text-left text-slate-800 whitespace-nowrap`,children:"General"}),ea(M.General)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:w,children:"Local"}),ea(M.Local)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:w,children:"Visitante"}),ea(M.Visitante)]}),(M?.Neutral?.pj??0)>0?m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:w,children:"Neutral"}),ea(M.Neutral)]}):null,I.map(z=>{const B=k.capitanes?.[z]||fo();return m.jsxs(dr.Fragment,{children:[m.jsxs("tr",{className:"border-t border-slate-200 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:`px-1.5 py-1.5 ${E} font-semibold text-left text-slate-800 whitespace-nowrap truncate`,title:ke(z),children:ke(z)}),ea(B.General)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Local"}),ea(B.Local)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Visitante"}),ea(B.Visitante)]}),(B?.Neutral?.pj??0)>0?m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-2 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Neutral"}),ea(B.Neutral)]}):null]},`${T}-${z}`)})]})]})})}),m.jsx("div",{className:"hidden lg:block max-h-[75vh] overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"mx-auto w-full min-w-[860px] text-[11px] md:text-sm border-collapse",children:[m.jsxs("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:[m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 w-28 whitespace-nowrap text-left border-b border-slate-200",children:"Temporada"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",colSpan:ta.length*2,children:b})]}),m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200"}),ta.map(z=>m.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:z},`G-${z}`)),ta.map(z=>m.jsxs("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:[z," N"]},`N-${z}`))]})]}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"bg-white border-t border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 font-semibold text-center",children:T}),m.jsx(Zh,{triple:k.general,orden:["General","Neutral"]})]}),m.jsxs("tr",{className:"bg-slate-50",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Condicin"}),ta.map(z=>m.jsxs("th",{className:"border border-black px-2 py-1 text-center text-[12px]",children:[z," L"]},`L-${z}`)),ta.map(z=>m.jsxs("th",{className:"border border-black px-2 py-1 text-center text-[12px]",children:[z," V"]},`V-${z}`))]}),m.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Totales"}),m.jsx(Zh,{triple:k.general,orden:["Local","Visitante"]})]}),I.map(z=>{const B=k.capitanes?.[z]||fo();return m.jsxs(dr.Fragment,{children:[m.jsxs("tr",{className:"bg-slate-100 border-t border-slate-200",children:[m.jsx("td",{className:"border-r border-slate-200 font-semibold px-2 py-1 text-left",children:ke(z)}),m.jsx(Bw,{etiquetas:["General","Neutral"],sufijos:[""," N"]})]}),m.jsxs("tr",{className:"bg-white hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),m.jsx(Zh,{triple:B,orden:["General","Neutral"]})]}),m.jsxs("tr",{className:"bg-slate-50",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-[10px] uppercase text-slate-600",children:"Condicin"}),m.jsx(Bw,{etiquetas:["Local","Visitante"],sufijos:[" L"," V"]})]}),m.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),m.jsx(Zh,{triple:B,orden:["Local","Visitante"]})]})]},`${T}-${z}`)})]})]})})]},`${n}-${T}`)})})},_4=(n={})=>{const e=Object.keys(n||{});return F.useMemo(()=>{const t=[];for(const s of e){const i=n?.[s],a=Array.isArray(i?.matches)?i.matches:[];if(!a.length)continue;const l=new Map;for(const u of a){const d=new Date(u?.fecha);if(!Number.isFinite(d.getTime()))continue;const f=String(d.getFullYear());l.has(f)||l.set(f,[]),l.get(f).push(u)}for(const[u,d]of l.entries())t.push({clubKey:s,year:u,bucket:i,matchesForYear:d})}return t.sort((s,i)=>Number(i.year)-Number(s.year)),t},[e.join("|"),n])},w4=(n=[])=>F.useMemo(()=>n.map(e=>({id:e.id,fecha:e.fecha,rival:e.rival,golesFavor:e.golFavor??0,golesContra:e.golContra??0,equipo:(e.captain||"").toLowerCase(),esLocal:String(e.condition||"").trim().toLowerCase()==="local"})),[n]);function E4(n){const e=new Date(n),t=e.getFullYear(),i=e.getMonth()+1>=7?t:t-1;return`${i}-${i+1}`}function T4(n,e,t){const s=new Map;for(const a of n){const l=E4(a.fecha);s.has(l)||s.set(l,[]),s.get(l).push(a)}return Array.from(s.keys()).sort((a,l)=>{const u=parseInt(a.split("-")[0],10);return parseInt(l.split("-")[0],10)-u}).map(a=>({seasonKey:a,clubKey:e,bucket:t,matchesForSeason:s.get(a)}))}const S4=({lineups:n={}})=>{const e=F.useMemo(()=>{const t=[],s=Object.keys(n||{});for(const i of s){const a=n?.[i],l=Array.isArray(a?.matches)?a.matches:[];if(!l.length)continue;const u=T4(l,i,a);for(const d of u)t.push(d)}return t.sort((i,a)=>{const l=parseInt(String(i.seasonKey).split("-")[0],10);return parseInt(String(a.seasonKey).split("-")[0],10)-l}),t},[n]);return m.jsx(m.Fragment,{children:e.map(t=>m.jsx(vN,{clubKey:t.clubKey,bucket:t.bucket,year:t.seasonKey,matchesForYear:t.matchesForSeason,mode:"europeo"},`${t.seasonKey}-${t.clubKey}`))})},N4=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn();zs(n,t,i);const[a,l]=F.useState(null),[u,d]=F.useState("anual"),f=s?.lineups||{},g=_4(f);if(!Object.keys(f).some(k=>{const I=f?.[k]||{},M=(I.players?.length??0)>0,z=(I.formations?.length??0)>0,B=I.playersStats?Object.keys(I.playersStats).length>0:!1;return M||z||B}))return m.jsx(bs,{to:"/formacion",replace:!0});const E=Array.isArray(a?.matches)?a.matches:[],{temporadasOrdenadas:S,resumenPorTemporada:w,captainsOrdenados:T}=bN(E);return[...S||[]].sort((k,I)=>{const M=String(k).match(/\d{4}/g)||[],z=String(I).match(/\d{4}/g)||[],B=M.length?Math.max(...M.map(Number)):-1/0;return(z.length?Math.max(...z.map(Number)):-1/0)-B}),m.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[m.jsxs("div",{className:"mb-3",children:[m.jsx("h1",{className:"text-2xl font-bold text-center",children:" Temporadas"}),m.jsxs("div",{className:"mt-3 flex justify-center gap-3",children:[m.jsx("button",{type:"button",onClick:()=>d("anual"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",u==="anual"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Anual"}),m.jsx("button",{type:"button",onClick:()=>d("europeo"),className:["px-4 py-2 rounded-full text-sm font-semibold border transition shadow-sm","focus:outline-none focus:ring-2 focus:ring-black/10 active:scale-[0.98]",u==="europeo"?"bg-black text-white border-black":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"].join(" "),children:"Europeo"})]})]}),m.jsx("hr",{className:"border-gray-200"}),u==="anual"&&g.map(k=>m.jsx(vN,{clubKey:k.clubKey,bucket:k.bucket,year:k.year,matchesForYear:k.matchesForYear},`${k.year}-${k.clubKey}`)),u==="europeo"&&m.jsx(S4,{lineups:f})]})},A4=({matches:n,bucket:e})=>{const t=e?.torneosConfig||{},s=d=>String(d||"").replace(/\s+\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,"").trim(),i=(d,f)=>{const g=/\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,x=String(d||"").match(g);return x?x[0].replace(/\s+/g,""):f??null},a=d=>{if(!d)return 0;const f=!!(d.triplete||d.hattrick);return f&&d.doblete&&d.gol?6:f&&d.doblete?5:f&&d.gol?4:f?3:d.doblete?2:d.gol?1:0},l=F.useMemo(()=>{const d={};return n.forEach(f=>{const{torneoDisplay:g,torneoName:x,torneoYear:b,goleadoresActiveClub:E,starters:S,substitutes:w}=f||{},T=x||s(g)||"Torneo",k=Cm({torneoName:T,torneoYear:b,fecha:f?.fecha||f?.createdAt,torneosConfig:t}),I=i(k,b?String(b):null),M=`${T}__${I||"NA"}`,z=k;d[M]||(d[M]={label:z,year:I||b,jugadores:{},lastPlayed:0});const B=Date.parse(f?.fecha)||Number(f?.updatedAt)||Number(f?.createdAt)||0;B>d[M].lastPlayed&&(d[M].lastPlayed=B);const $=Array.isArray(S)?S:[],A=Array.isArray(w)?w:[];[...new Set([...$,...A].map(P=>(P??"").toString().trim()).filter(Boolean))].forEach(P=>{const V=P.toLowerCase();d[M].jugadores[V]||(d[M].jugadores[V]={nombre:lt(P),pj:0,goles:0,x2:0,x3:0}),d[M].jugadores[V].pj+=1}),(Array.isArray(E)?E:[]).forEach(P=>{if(!P)return;const U=(P.pretty??P.prettyName??P.displayName??P.nombre??P.name??"").toString().trim();if(!U||P.isOwnGoal===!0||U==="__og__")return;const L=U.toLowerCase();d[M].jugadores[L]||(d[M].jugadores[L]={nombre:lt(U),pj:0,goles:0,x2:0,x3:0});const ge=d[M].jugadores[L],ue=a(P);ge.goles+=ue,ue===2&&(ge.x2+=1),ue===3&&(ge.x3+=1),ue===4&&(ge.x3+=1),ue===5&&(ge.x3+=1,ge.x2+=1),ue===6&&(ge.x3+=2)})}),Object.values(d).sort((f,g)=>{if(g.lastPlayed!==f.lastPlayed)return g.lastPlayed-f.lastPlayed;const x=parseInt(String(f.year||"").slice(0,4),10)||0;return(parseInt(String(g.year||"").slice(0,4),10)||0)-x||f.label.localeCompare(g.label)})},[n,t]),u=(d,f)=>f?(d/f).toFixed(2):"0.00";return!n||!n.length?m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."}):m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores por campeonato"}),l.map(d=>{const f=Object.values(d.jugadores).filter(w=>w.goles>0).sort((w,T)=>T.goles-w.goles||w.nombre.localeCompare(T.nombre)),g=f.reduce((w,T)=>w+(T.goles||0),0),x=f.reduce((w,T)=>w+(T.x2||0),0),b=f.reduce((w,T)=>w+(T.x3||0),0),E=f.reduce((w,T)=>{const k=Number(T.pj||0),I=Number(T.goles||0);return w+(k>0?I/k:0)},0),S=f.length>0?(E/f.length).toFixed(2):"0.00";return m.jsxs("div",{className:"mb-6 border border-slate-200 rounded-lg bg-white shadow-sm p-3",children:[m.jsx("h3",{className:"text-base font-semibold mb-3 text-center underline",children:d.label}),m.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:m.jsxs("table",{className:"table-auto border-collapse border mx-auto w-full md:w-max",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"PJ"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Prom."}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"})]})}),m.jsxs("tbody",{children:[f.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"border px-2 py-2 text-center text-slate-500",children:"No hubo goles en este campeonato."})}),f.map((w,T)=>m.jsxs("tr",{className:"odd:bg-white even:bg-slate-100 hover:bg-slate-100 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",children:T+1}),m.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:w.nombre}),m.jsx("td",{className:"border px-2 py-1 text-center",children:w.pj}),m.jsx("td",{className:"border px-2 py-1 text-center",children:w.goles}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u(w.goles,w.pj)}),m.jsx("td",{className:"border px-2 py-1 text-center",children:w.x2}),m.jsx("td",{className:"border px-2 py-1 text-center",children:w.x3})]},w.nombre)),f.length>0&&m.jsxs("tr",{className:"bg-slate-200 font-bold",children:[m.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),m.jsx("td",{className:"border px-2 py-2 text-center",children:g}),m.jsx("td",{className:"border px-2 py-2 text-center",children:S}),m.jsx("td",{className:"border px-2 py-2 text-center",children:x}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b})]})]})]})})]},d.label)})]})},C4=({matches:n})=>{const e=Array.isArray(n)?n:[],[t,s]=F.useState("general"),[i,a]=F.useState("goles"),[l,u]=F.useState("desc"),d=F.useMemo(()=>{const b={},E=I=>{if(!I)return 0;const M=!!(I.triplete||I.hattrick);return M&&I.doblete&&I.gol?6:M&&I.doblete?5:M&&I.gol?4:M?3:I.doblete?2:I.gol?1:0},S=I=>I?String(I).toLowerCase().includes("__og__"):!1;e.forEach(I=>{let M=(I?.condition||"").toString().toLowerCase();M||(I?.local===!0?M="local":I?.local===!1&&(M="visitante"));const z=["general"];M==="local"?z.push("local"):M==="visitante"?z.push("visitante"):(M==="neutral"||M==="neutro")&&z.push("neutro");const B=Array.isArray(I?.goleadoresActiveClub)?I.goleadoresActiveClub:[],$={};[...Array.isArray(I?.starters)?I.starters:[],...Array.isArray(I?.substitutes)?I.substitutes:[]].forEach(R=>{const j=R?.toString().trim();!j||S(j)||(b[j]||(b[j]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),$[j]||($[j]=new Set),z.forEach(P=>$[j].add(P)))}),B.forEach(R=>{const j=(R?.name||R?.nombre||"").toString().trim();if(!j||S(j))return;const P=E(R);P&&(b[j]||(b[j]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),z.forEach(V=>{b[j][V].goles+=P,P===2&&(b[j][V].x2+=1),P===3&&(b[j][V].x3+=1),P===4&&(b[j][V].x3+=1),P===5&&(b[j][V].x3+=1,b[j][V].x2+=1),P===6&&(b[j][V].x3+=2)}))}),Object.entries($).forEach(([R,j])=>{j.forEach(P=>{b[R][P].pj+=1})})});const w=I=>{const M=I.pj||0,z=I.goles||0;return{...I,pj:M,goles:z,x2:I.x2||0,x3:I.x3||0,prom:M>0?z/M:0}};return Object.entries(b).map(([I,M])=>({nombre:I,general:w(M.general),local:w(M.local),visitante:w(M.visitante),neutro:w(M.neutro)})).filter(I=>(I[t]?.goles??0)>0).sort((I,M)=>{const z=I.nombre.toLowerCase(),B=M.nombre.toLowerCase();if(i==="nombre")return l==="asc"?z.localeCompare(B):B.localeCompare(z);const $=t,A=I[$]?.[i]??0,R=M[$]?.[i]??0,j=l==="asc"?A-R:R-A;return j!==0?j:z.localeCompare(B)})},[e,t,i,l]),f=b=>!b||Number.isNaN(b)?"0.00":b.toFixed(2);if(!e.length)return m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."});const g=b=>{switch(b){case"local":return"bg-emerald-50";case"visitante":return"bg-amber-50";default:return"bg-sky-50"}},x="bg-slate-200/60";return m.jsxs("div",{className:"mt-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Capocannonieri"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end text-sm justify-center",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"mbito"}),m.jsxs("select",{value:t,onChange:b=>s(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"local",children:"Local"}),m.jsx("option",{value:"visitante",children:"Visitante"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Campo"}),m.jsxs("select",{value:i,onChange:b=>a(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"nombre",children:"Nombre"}),m.jsx("option",{value:"pj",children:"PJ"}),m.jsx("option",{value:"goles",children:"Goles"}),m.jsx("option",{value:"x2",children:"x2"}),m.jsx("option",{value:"x3",children:"x3"}),m.jsx("option",{value:"prom",children:"Promedio"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),m.jsxs("select",{value:l,onChange:b=>u(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"asc",children:"Ascendente"}),m.jsx("option",{value:"desc",children:"Descendente"})]})]})]}),m.jsx("div",{className:"sm:hidden max-h-[80vh] overflow-auto border rounded",children:m.jsxs("table",{className:"w-full border-collapse text-[11px] tabular-nums",children:[m.jsx("thead",{className:"sticky top-0 z-20 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-2 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"PJ"}),m.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"G"}),m.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"x2"}),m.jsx("th",{className:"border px-2 py-2 text-center w-12",children:"x3"}),m.jsx("th",{className:"border px-2 py-2 text-center w-16",children:"Prom"})]})}),m.jsx("tbody",{children:d.map((b,E)=>m.jsxs(dr.Fragment,{children:[m.jsxs("tr",{className:"bg-white",children:[m.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",rowSpan:3,children:E+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold",children:m.jsx("div",{className:"font-bold underline text-[12px] leading-tight truncate max-w-[180px]",title:lt(b.nombre),children:lt(b.nombre)})}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f(b.general.prom)})]}),m.jsxs("tr",{className:g("local"),children:[m.jsx("td",{className:"border px-2 py-2 text-left",children:m.jsx("div",{className:"font-semibold",children:"Local"})}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="pj"?x:""}`,children:b.local.pj}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="goles"?x:""}`,children:b.local.goles}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="x2"?x:""}`,children:b.local.x2}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="x3"?x:""}`,children:b.local.x3}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="local"&&i==="prom"?x:""}`,children:f(b.local.prom)})]}),m.jsxs("tr",{className:g("visitante"),children:[m.jsx("td",{className:"border px-2 py-2 text-left",children:m.jsx("div",{className:"font-semibold",children:"Visitante"})}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="pj"?x:""}`,children:b.visitante.pj}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="goles"?x:""}`,children:b.visitante.goles}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="x2"?x:""}`,children:b.visitante.x2}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="x3"?x:""}`,children:b.visitante.x3}),m.jsx("td",{className:`border px-2 py-2 text-center ${t==="visitante"&&i==="prom"?x:""}`,children:f(b.visitante.prom)})]})]},b.nombre))})]})}),m.jsx("div",{className:"hidden sm:block max-h-[80vh] overflow-auto",children:m.jsxs("table",{className:"table-fixed border-collapse mx-auto min-w-[680px] md:min-w-[780px] text-[11px] md:text-sm tabular-nums",children:[m.jsxs("thead",{className:"sticky top-0 z-20",children:[m.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[m.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-center sticky left-0 bg-slate-100 z-20 w-10",children:"#"}),m.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-left sticky left-10 bg-slate-100 z-20 w-28 sm:w-20 md:w-20 lg:w-20 overflow-hidden",children:"Jugador"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"General"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Local"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Visitante"})]}),m.jsxs("tr",{className:"bg-slate-50 text-slate-600 text-[10px] md:text-xs",children:[["PJ","G","x2","x3","P"].map((b,E)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`gen-${E}`)),["PJ","G","x2","x3","P"].map((b,E)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`loc-${E}`)),["PJ","G","x2","x3","P"].map((b,E)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`vis-${E}`))]})]}),m.jsx("tbody",{children:d.map((b,E)=>m.jsxs("tr",{className:"even:bg-slate-200 hover:bg-slate-100/70 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center sticky left-0 bg-white z-10 w-10",children:E+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold sticky left-10 bg-white z-10 w-28 sm:w-20 md:w-20 lg:w-20 max-w-[112px] sm:max-w-[128px] md:max-w-[80px] lg:max-w-[160px] whitespace-nowrap overflow-hidden text-ellipsis",children:lt(b.nombre)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f(b.general.prom)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f(b.local.prom)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f(b.visitante.prom)})]},b.nombre))})]})})]})},k4=({matches:n})=>{const e=F.useMemo(()=>{const a={};return n.forEach(l=>{const u=Array.isArray(l.goleadoresRivales)?l.goleadoresRivales:[],d=f=>{if(!f)return 0;const g=!!(f.triplete||f.hattrick);return g&&f.doblete&&f.gol?6:g&&f.doblete?5:g&&f.gol?4:g?3:f.doblete?2:f.gol?1:0};u.forEach(f=>{if(!f)return;const g=f.name?.toString().trim(),x=f.club?.toString().trim()||"";if(!g)return;const b=g.toLowerCase();if(f.isOwnGoal===!0||!!!(f.gol||f.doblete||f.triplete)||b.includes("__og__")||b.includes("en contra"))return;const S=`${g.toLowerCase()}|${x.toLowerCase()}`;a[S]||(a[S]={nombre:g,club:x,goles:0,x2:0,x3:0,expulsiones:0});const w=a[S],T=d(f);T<=0||(w.goles+=T,T===2&&(w.x2+=1),T===3&&(w.x3+=1),T===4&&(w.x3+=1),T===5&&(w.x3+=1,w.x2+=1),T===6&&(w.x3+=2))})}),Object.values(a).map(l=>{const u=lt(l.nombre),d=l.club?lt(l.club):"";return{...l,nombrePretty:u,clubPretty:d}}).sort((l,u)=>u.goles-l.goles||l.clubPretty.localeCompare(u.clubPretty,"es",{sensitivity:"base"})||l.nombrePretty.localeCompare(u.nombrePretty,"es",{sensitivity:"base"}))},[n]);if(!n||!n.length)return m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."});if(!e.length)return m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No se registraron goles rivales."});const t=e.reduce((a,l)=>a+(l.goles||0),0),s=e.reduce((a,l)=>a+(l.x2||0),0),i=e.reduce((a,l)=>a+(l.x3||0),0);return m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores rivales (Villanos)"}),m.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:m.jsxs("table",{className:"table-auto border-collapse border mx-auto ",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-1 text-left",children:"Club"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"})]})}),m.jsxs("tbody",{children:[e.map((a,l)=>m.jsxs("tr",{className:"odd:bg-white even:bg-slate-100 hover:bg-slate-100 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center font-bold align-middle",children:l+1}),m.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:a.nombrePretty}),m.jsx("td",{className:"border px-2 py-1 text-left",children:a.clubPretty||""}),m.jsx("td",{className:"border px-2 py-1 text-center",children:a.goles}),m.jsx("td",{className:"border px-2 py-1 text-center",children:a.x2}),m.jsx("td",{className:"border px-2 py-1 text-center",children:a.x3})]},`${a.nombre}-${a.club}`)),m.jsxs("tr",{children:[m.jsx("td",{className:"border px-2 py-1 text-right text-black font-bold ",colSpan:3,children:"TOTALES"}),m.jsx("td",{className:"border px-2 py-1 text-center ",children:t}),m.jsx("td",{className:"border px-2 py-2 text-center",children:s}),m.jsx("td",{className:"border px-2 py-2 text-center",children:i})]})]})]})})]})},R4=({matches:n=[]})=>{const e=F.useMemo(()=>{const t=new Map;return(Array.isArray(n)?n:[]).forEach(s=>{(Array.isArray(s?.goleadoresActiveClub)?s.goleadoresActiveClub:[]).forEach(a=>{if(!a||!!!a.expulsion)return;const u=(a.name||a.nombre||"").trim();u&&t.set(u,(t.get(u)||0)+1)})}),Array.from(t.entries()).map(([s,i])=>({nombre:s,expulsiones:i})).sort((s,i)=>i.expulsiones-s.expulsiones||s.nombre.localeCompare(i.nombre))},[n]);return e.length?m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:" Expulsados"}),m.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:m.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),m.jsx("tbody",{children:e.map((t,s)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:s+1}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:lt(t.nombre)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:t.expulsiones})]},t.nombre))})]})})]}):m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin expulsados "})},j4=({matches:n=[]})=>{const e=F.useMemo(()=>{const t=new Map;return(Array.isArray(n)?n:[]).forEach(s=>{(Array.isArray(s?.goleadoresRivales)?s.goleadoresRivales:[]).forEach(a=>{if(!a||!!!a.expulsion)return;const u=(a.name||a.nombre||"").trim(),d=(a.club||a.equipo||a.rival||"").trim();if(!u)return;const f=`${u}||${d}`;t.set(f,(t.get(f)||0)+1)})}),Array.from(t.entries()).map(([s,i])=>{const[a,l]=s.split("||");return{nombre:a,club:l,expulsiones:i}}).sort((s,i)=>i.expulsiones-s.expulsiones||s.club.localeCompare(i.club,"es",{sensitivity:"base"})||s.nombre.localeCompare(i.nombre,"es",{sensitivity:"base"}))},[n]);return e.length?m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:" Carniceros"}),m.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:m.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Club"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),m.jsx("tbody",{children:e.map((t,s)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:s+1}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:lt(t.nombre)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:lt(t.club)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:t.expulsiones})]},t.nombre))})]})})]}):m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin Carniceros "})},t0=n=>n===0?{bg:"bg-amber-50",icon:"",isTop3:!0}:n===1?{bg:"bg-slate-50",icon:"",isTop3:!0}:n===2?{bg:"bg-orange-50/40",icon:"",isTop3:!0}:{bg:"bg-white",icon:`${n+1}`,isTop3:!1},I4=({playersStats:n={},topN:e=7,mode:t="horizontal",className:s="",years:i=[],data:a=null,showHomeAway:l=!1})=>{const u=k=>{if(!k)return 0;const I=!!(k.triplete||k.hattrick);return I&&k.doblete&&k.gol?6:I&&k.doblete?5:I&&k.gol?4:I?3:k.doblete?2:k.gol?1:0},d=k=>{const I=k?.torneoYear??k?.tournamentYear??k?.year??k?.anio;if(I!=null)return String(I);const M=k?.torneoKey||k?.tournamentKey||k?.torneo||k?.competitionKey||"",z=String(M).match(/(\d{4})/);return z?z[1]:null},f=dr.useMemo(()=>{const k=a?.matches;if(!Array.isArray(k)||k.length===0)return null;const I=new Set((i||[]).map(String)),M={},z={},B={},$=A=>String(A||"").toLowerCase().trim();for(const A of k){const R=d(A);if(I.size>0&&(!R||!I.has(String(R))))continue;const j=$(A?.condition),P=Array.isArray(A?.goleadoresActiveClub)?A.goleadoresActiveClub:[];for(const V of P){if(V?.isOwnGoal)continue;const U=V?.name,L=u(V);!U||L<=0||(M[U]=(M[U]||0)+L,j==="local"&&(z[U]=(z[U]||0)+L),j==="visitante"&&(B[U]=(B[U]||0)+L))}}return{all:M,local:z,visitante:B}},[a,i]);[...Object.keys(n||{}),...f?.all?Object.keys(f.all):[]];const g=(k,I)=>Object.entries(k||{}).map(([M,z])=>({name:M,goals:z})).filter(M=>M.goals>0).sort((M,z)=>{const B=z.goals-M.goals;return B!==0?B:M.name.toLowerCase().localeCompare(z.name.toLowerCase())}).slice(0,I),x=f?g(f.all,e):[],b=Math.floor(e/2),E=f?g(f.local,b):[],S=f?g(f.visitante,b):[];if(x.length===0)return null;const w=i?.length?[...new Set(i.map(String))].sort().join(" / "):"",T=({title:k,list:I})=>{const M=(I||[]).reduce((z,B)=>z+(B.goals||0),0);return m.jsxs("div",{className:"w-max rounded-lg border border-slate-200 bg-white shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-3 py-2 border-b border-slate-200 text-[10px] font-semibold tracking-wide text-center uppercase text-slate-800 bg-sky-50",children:k}),m.jsx("table",{className:"w-full text-[11px] border-collapse",children:m.jsxs("tbody",{children:[!I||I.length===0?m.jsx("tr",{children:m.jsx("td",{className:"px-3 py-3 text-center text-slate-500",colSpan:3,children:"Sin goles"})}):I.map((z,B)=>m.jsxs("tr",{className:"border-b border-slate-100",children:[m.jsx("td",{className:"px-2 py-2 text-center align-middle w-12",children:m.jsx("span",{className:"inline-flex items-center justify-center w-9 rounded-full bg-slate-50 ring-1 ring-slate-200 text-base leading-none",children:t0(B).icon})}),m.jsx("td",{className:"px-2 py-2 text-left",children:m.jsx("div",{className:"text-[12px] font-medium text-slate-800",children:lt(z.name)})}),m.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-bold text-slate-900 w-12",children:z.goals})]},z.name)),(I||[]).length>0&&m.jsxs("tr",{className:"bg-slate-50 border-t border-slate-200",children:[m.jsx("td",{className:"px-2 py-2 text-center font-semibold text-slate-700",colSpan:2,children:"Total"}),m.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-extrabold text-slate-900",children:M})]})]})})]})};if(t==="vertical"){const k=i?.length?[...new Set(i.map(String))].sort().join(" / "):"";return m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold mb-2 text-center",children:" Goleadores del Ao "}),m.jsxs("div",{className:`${s} flex items-start justify-center gap-3`,children:[m.jsx(T,{title:`Goleadores ${k}`,list:x}),l&&m.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[m.jsx(T,{title:`Local ${k}`,list:E}),m.jsx(T,{title:`Visitante ${k}`,list:S})]})]})]})}return m.jsx("div",{className:`mt-4 ${s} md:hidden sm:hidden lg:block`,children:m.jsxs("div",{className:"w-full",children:[m.jsx("div",{className:"mb-2",children:m.jsxs("div",{className:"w-full text-center text-[15px] font-semibold tracking-wide uppercase text-slate-800",children:["Goleadores ",w]})}),m.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-400 bg-white",children:m.jsx("table",{className:"w-full min-w-max text-[11px] border-collapse",children:m.jsxs("tbody",{children:[m.jsx("tr",{className:"bg-sky-50 border-b border-slate-400",children:x.map((k,I)=>{const{icon:M}=t0(I),z=I===x.length-1;return m.jsx("td",{className:"px-3 py-2 text-center whitespace-nowrap font-semibold text-slate-700"+(z?"":" border-r border-white/70"),children:M},`r-${k.name}`)})}),m.jsx("tr",{className:"border-b border-slate-100",children:x.map((k,I)=>{const M=I===x.length-1;return m.jsx("td",{className:"px-2 py-2 text-center whitespace-nowrap tabular-nums font-bold text-slate-900 text-lg"+(M?"":" border-r border-slate-100"),children:k.goals},`g-${k.name}`)})}),m.jsx("tr",{children:x.map((k,I)=>{const{bg:M,isTop3:z}=t0(I),B=I===x.length-1;return m.jsx("td",{className:`px-2 py-2 text-center whitespace-nowrap text-sm ${M} `+(z?"font-semibold text-slate-800":"text-slate-700")+(B?"":" border-r border-slate-100"),children:lt(k.name)},`n-${k.name}`)})})]})})})]})})},D4=["gol","doblete","triplete","hattrick"];function la(n){return String(n??"").trim().toLowerCase()}function M4(n){return!n||typeof n!="object"?!1:D4.some(e=>n[e]===!0)}function $w(n){const e=Array.isArray(n?.starters)?n.starters:[],t=Array.isArray(n?.substitutes)?n.substitutes:[];return new Set([...e,...t].map(la).filter(Boolean))}function Hw(n,e){const t=Array.isArray(n?.goleadoresActiveClub)?n.goleadoresActiveClub:[],s=new Set;for(const i of t){const a=la(i?.name);if(!a)continue;const l=i?.activeClub?la(i.activeClub):null;l&&e&&l!==e||M4(i)&&s.add(a)}return s}function n0({matchesSorted:n,playersActive:e,clubLower:t,mode:s}){const i=s==="all"?n:n.filter(l=>la(l?.condition)===s),a=[];for(const l of e){let u=-1;for(let x=0;x<i.length;x++){const b=i[x];if(!$w(b).has(l))continue;Hw(b,t).has(l)&&(u=x)}if(u===-1)continue;let d=0,f=null;for(let x=u+1;x<i.length;x++){const b=i[x];if(!$w(b).has(l))continue;if(Hw(b,t).has(l)){d=0,f=null,u=x;continue}d+=1,f=b}if(d<3)continue;const g=i[u];a.push({player:l,drought:d,rival:g?.rival??"",rivalUltimoSinGol:f?.rival??""})}return a.sort((l,u)=>u.drought-l.drought),a}function s0({title:n,rows:e}){const[t,s]=F.useState(null);return m.jsxs("div",{className:"rounded-lg border border-slate-200 overflow-hidden bg-white",children:[m.jsx("div",{className:"bg-slate-50 px-2 py-1 border-b border-slate-200",children:m.jsx("h2",{className:"text-[14px] text-center font-semibold",children:n})}),e.length===0?m.jsx("div",{className:"px-2 py-2 text-[11px] opacity-70",children:"No hay jugadores con racha negativa para mostrar."}):m.jsxs("table",{className:"w-full table-fixed text-[11px]",children:[m.jsx("thead",{className:"bg-slate-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-1 w-max text-left",children:"Jugador"}),m.jsx("th",{className:"px-2 py-1 w-[30px] text-left",children:"Racha"}),m.jsx("th",{className:"px-2 py-1 w-max",children:"Rival"})]})}),m.jsx("tbody",{children:e.map(i=>m.jsxs("tr",{className:"border-t",children:[m.jsx("td",{className:"px-2 py-1 capitalize truncate whitespace-nowrap",children:i.player}),m.jsx("td",{className:" text-center px-2 py-1 font-semibold whitespace-nowrap bg-amber-100",children:i.drought}),m.jsx("td",{className:"px-2 py-1",children:m.jsx("button",{type:"button",onClick:()=>s(t===`${i.player}-${n}`?null:`${i.player}-${n}`),className:"block w-full text-left "+(t===`${i.player}-${n}`?"whitespace-normal break-words":"truncate whitespace-nowrap"),title:i.rival,children:i.rival})})]},`${i.player}-${n}`))})]})]})}const O4=({data:n})=>{const e=F.useMemo(()=>{const t=n??{},s=la(t?.label)||la(t?.matches?.[0]?.club)||"",i=(Array.isArray(t?.players)?t.players:[]).map(la).filter(Boolean),a=new Set(i),u=[...(Array.isArray(t?.matches)?t.matches:[]).filter(x=>la(x?.club)===s)].sort((x,b)=>(x?.createdAt??0)-(b?.createdAt??0)),d=n0({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"all"}),f=n0({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"local"}),g=n0({matchesSorted:u,playersActive:[...a],clubLower:s,mode:"visitante"});return{clubLower:s,rowsAll:d,rowsLocal:f,rowsVisitante:g}},[n]);return m.jsxs("div",{className:"p-2",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Racha de Sequa Goleadora"}),m.jsxs("div",{className:"mt-1 text-sm opacity-70",children:["Club: ",m.jsx("span",{className:"capitalize",children:e.clubLower})]}),m.jsxs("div",{className:"flex items-start justify-center gap-3",children:[m.jsx(s0,{title:"General",rows:e.rowsAll}),m.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[m.jsx(s0,{title:"Local",rows:e.rowsLocal}),m.jsx(s0,{title:"Visitante",rows:e.rowsVisitante})]})]})]})},P4=[{value:"nombre",label:"Nombre"},{value:"pj",label:"PJ"},{value:"goles",label:"Goles"},{value:"x2",label:"x2"},{value:"x3",label:"x3"},{value:"prom",label:"Promedio"}],L4=[{value:"asc",label:"Ascendente"},{value:"desc",label:"Descendente"}],V4=({ambito:n,ordenCampo:e,setOrdenCampo:t,ordenDireccion:s,setOrdenDireccion:i,goleadoresOrdenados:a})=>{const l=g=>!g||Number.isNaN(g)?"0.00":Number(g).toFixed(2),u="bg-slate-200/60",d=n==="general"?"General":n==="local"?"Local":"Visitante",f=dr.useMemo(()=>{const g=a||[],x=g.reduce((T,k)=>T+(k?.[n]?.goles||0),0),b=g.reduce((T,k)=>T+(k?.[n]?.x2||0),0),E=g.reduce((T,k)=>T+(k?.[n]?.x3||0),0),S=g.reduce((T,k)=>T+(k?.[n]?.prom||0),0),w=g.length?S/g.length:0;return{totalGoles:x,totalx2:b,totalx3:E,promProms:Number(w).toFixed(2)}},[a,n]);return a?.length?m.jsxs("div",{className:"mt-1",children:[m.jsxs("div",{className:"mb-2 flex flex-wrap items-end justify-center gap-3",children:[m.jsxs("label",{className:"w-max max-w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Campo"}),m.jsx("select",{value:e,onChange:g=>t(g.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
              focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:P4.map(g=>m.jsx("option",{value:g.value,children:g.label},g.value))})]}),m.jsxs("label",{className:"w-full max-w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Orden"}),m.jsx("select",{value:s,onChange:g=>i(g.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
              focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:L4.map(g=>m.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),m.jsx("div",{className:"sm:hidden max-h-[80vh] overflow-auto border rounded",children:m.jsxs("table",{className:"w-full border-collapse text-[11px] tabular-nums",children:[m.jsx("thead",{className:"sticky top-0 z-20 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-2 py-2 text-center w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-2 text-left",children:"Jugador"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="pj"?u:""}`,children:"PJ"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="goles"?u:""}`,children:"G"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="x2"?u:""}`,children:"x2"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="x3"?u:""}`,children:"x3"}),m.jsx("th",{className:`border px-2 py-2 text-center w-16 ${e==="prom"?u:""}`,children:"Prom"})]})}),m.jsxs("tbody",{children:[a.map((g,x)=>{const b=g?.[n]||{};return m.jsxs("tr",{className:"odd:bg-white even:bg-slate-100/60 active:bg-slate-400/60 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center font-bold",children:x+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold",children:m.jsx("div",{className:"font-bold text-[14px] leading-tight truncate max-w-[180px]",title:lt(g.nombre),children:lt(g.nombre)})}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.pj??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.goles??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.x2??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.x3??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:l(b.prom??0)})]},g.nombre)}),a.length>0&&m.jsxs("tr",{className:"bg-slate-200 font-bold",children:[m.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalGoles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalx2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalx3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.promProms})]})]})]})}),m.jsx("div",{className:"hidden sm:block max-h-[80vh] overflow-auto",children:m.jsxs("table",{className:"table-fixed border-collapse mx-auto min-w-[520px] md:min-w-[620px] text-[11px] md:text-sm tabular-nums",children:[m.jsx("thead",{className:"sticky top-0 z-20",children:m.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[m.jsx("th",{className:"border px-2 py-2 text-center sticky left-0 bg-slate-100 z-20 w-10",children:"#"}),m.jsx("th",{className:"border px-2 py-2 text-left sticky left-10 bg-slate-100 z-20 w-40",children:"Jugador"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="pj"?u:""}`,children:"PJ"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="goles"?u:""}`,children:"G"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="x2"?u:""}`,children:"x2"}),m.jsx("th",{className:`border px-2 py-2 text-center w-12 ${e==="x3"?u:""}`,children:"x3"}),m.jsx("th",{className:`border px-2 py-2 text-center w-16 ${e==="prom"?u:""}`,children:"P"})]})}),m.jsxs("tbody",{children:[a.map((g,x)=>{const b=g?.[n]||{};return m.jsxs("tr",{className:"even:bg-slate-200 hover:bg-slate-100/70 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center sticky left-0 bg-white z-10 w-10",children:x+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold sticky left-10 bg-white z-10 w-40 max-w-[220px] whitespace-nowrap overflow-hidden text-ellipsis",children:lt(g.nombre)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.pj??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.goles??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.x2??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.x3??0}),m.jsx("td",{className:"border px-2 py-2 text-center",children:l(b.prom??0)})]},g.nombre)}),a.length>0&&m.jsxs("tr",{className:"bg-slate-200 font-bold",children:[m.jsx("td",{className:"border px-2 py-2 text-right",colSpan:3,children:"TOTALES"}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalGoles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalx2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.totalx3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:f.promProms})]})]})]})}),m.jsxs("div",{className:"mt-2 text-center text-xs text-slate-500",children:["Vista: ",m.jsx("span",{className:"font-semibold",children:d})]})]}):m.jsxs("p",{className:"text-center text-sm text-slate-500 mt-4",children:["No hay goleadores para ",d,"."]})},Gw={campo:"goles",dir:"desc"},z4=({scope:n,matches:e})=>{const t=Array.isArray(e)?e:[],[s,i]=F.useState(Gw.campo),[a,l]=F.useState(Gw.dir),u=F.useMemo(()=>{const d={},f=S=>{if(!S)return 0;const w=!!(S.triplete||S.hattrick);return w&&S.doblete&&S.gol?6:w&&S.doblete?5:w&&S.gol?4:w||S.doblete&&S.gol?3:S.doblete?2:S.gol?1:0},g=S=>S?String(S).toLowerCase().includes("__og__"):!1;t.forEach(S=>{let w=(S?.condition||"").toString().toLowerCase();w||(S?.local===!0?w="local":S?.local===!1&&(w="visitante"));const T=["general"];w==="local"?T.push("local"):w==="visitante"?T.push("visitante"):(w==="neutral"||w==="neutro")&&T.push("neutro");const k=[...Array.isArray(S?.starters)?S.starters:[],...Array.isArray(S?.substitutes)?S.substitutes:[]],I={};k.forEach(z=>{const B=z?.toString().trim();!B||g(B)||(d[B]||(d[B]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),I[B]||(I[B]=new Set),T.forEach($=>I[B].add($)))}),(Array.isArray(S?.goleadoresActiveClub)?S.goleadoresActiveClub:[]).forEach(z=>{const B=(z?.name||z?.nombre||"").toString().trim();if(!B||g(B))return;const $=f(z);$&&(d[B]||(d[B]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),T.forEach(A=>{d[B][A].goles+=$,$===2&&(d[B][A].x2+=1),$===3&&(d[B][A].x3+=1),$===4&&(d[B][A].x3+=1),$===5&&(d[B][A].x3+=1,d[B][A].x2+=1),$===6&&(d[B][A].x3+=2)}))}),Object.entries(I).forEach(([z,B])=>{B.forEach($=>{d[z][$].pj+=1})})});const x=S=>{const w=S.pj||0,T=S.goles||0;return{...S,pj:w,goles:T,x2:S.x2||0,x3:S.x3||0,prom:w>0?T/w:0}};return Object.entries(d).map(([S,w])=>({nombre:S,general:x(w.general),local:x(w.local),visitante:x(w.visitante),neutro:x(w.neutro)})).filter(S=>(S?.[n]?.goles??0)>0).sort((S,w)=>{const T=S.nombre.toLowerCase(),k=w.nombre.toLowerCase();if(s==="nombre")return a==="asc"?T.localeCompare(k):k.localeCompare(T);const I=S?.[n]?.[s]??0,M=w?.[n]?.[s]??0,z=a==="asc"?I-M:M-I;return z!==0?z:T.localeCompare(k)})},[t,n,s,a]);return t.length?m.jsx(V4,{ambito:n,ordenCampo:s,setOrdenCampo:i,ordenDireccion:a,setOrdenDireccion:l,goleadoresOrdenados:u}):m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."})},U4=({matches:n})=>{const[e,t]=F.useState("general");return m.jsxs("div",{className:"mt-2",children:[m.jsx("h2",{className:"text-3xl font-bold mb-2 text-center",children:" Top Scorer"}),m.jsx("div",{className:"mb-1 flex justify-center gap-2",children:["general","local","visitante"].map(s=>m.jsx("button",{type:"button",onClick:()=>t(s),className:`rounded-xl border px-3 py-2 text-sm shadow-sm transition w-full
        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
        ${e===s?"bg-blue-600 text-white border-blue-700":"bg-white text-slate-800 border-slate-300 hover:bg-slate-50"}`,children:s==="general"?"General":s==="local"?"Local":"Visitante"},s))}),m.jsx(z4,{scope:e,matches:n})]})},J0=n=>n===0?{bg:"bg-emerald-50",icon:"",isTop3:!0}:n===1?{bg:"bg-slate-50",icon:"",isTop3:!0}:n===2?{bg:"bg-orange-50/40",icon:"",isTop3:!0}:{bg:"bg-white",icon:`${n+1}`,isTop3:!1},B4=n=>{if(!n)return 0;const e=!!(n.triplete||n.hattrick);return e&&n.doblete&&n.gol?6:e&&n.doblete?5:e&&n.gol?4:e?3:n.doblete?2:n.gol?1:0},F4=n=>{const e=n?.fecha||n?.createdAt;if(e){const s=typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)?new Date(`${e}T00:00:00`):new Date(e);if(!Number.isNaN(s.getTime())){const i=s.getFullYear();return s.getMonth()+1>=7?`${i}-${i+1}`:`${i-1}-${i}`}}const t=n?.torneoYear??n?.tournamentYear??n?.year??n?.anio;return t!=null?String(t):null},i0=(n,e)=>Object.entries(n||{}).map(([t,s])=>({name:t,goals:s})).filter(t=>t.goals>0).sort((t,s)=>{const i=s.goals-t.goals;return i!==0?i:t.name.toLowerCase().localeCompare(s.name.toLowerCase())}).slice(0,e),r0=({title:n,list:e})=>{const t=(e||[]).reduce((s,i)=>s+(i.goals||0),0);return m.jsxs("div",{className:"w-max rounded-lg border border-slate-200 bg-white shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-3 py-2 border-b border-slate-200 text-[10px] font-semibold tracking-wide text-center uppercase text-slate-800 bg-emerald-50",children:n}),m.jsx("table",{className:"w-full text-[11px] border-collapse",children:m.jsxs("tbody",{children:[!e||e.length===0?m.jsx("tr",{children:m.jsx("td",{className:"px-3 py-3 text-center text-slate-500",colSpan:3,children:"Sin goles"})}):e.map((s,i)=>m.jsxs("tr",{className:"border-b border-slate-100",children:[m.jsx("td",{className:"px-2 py-2 text-center align-middle w-12",children:m.jsx("span",{className:"inline-flex items-center justify-center w-9 rounded-full bg-slate-50 ring-1 ring-slate-200 text-base leading-none",children:J0(i).icon})}),m.jsx("td",{className:"px-2 py-2 text-left",children:m.jsx("div",{className:"text-[12px] font-medium text-slate-800",children:lt(s.name)})}),m.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-bold text-slate-900 w-12",children:s.goals})]},s.name)),(e||[]).length>0&&m.jsxs("tr",{className:"bg-slate-50 border-t border-slate-200",children:[m.jsx("td",{className:"px-2 py-2 text-center font-semibold text-slate-700",colSpan:2,children:"Total"}),m.jsx("td",{className:"px-2 py-2 text-right tabular-nums font-extrabold text-slate-900",children:t})]})]})})]})},$4=({playersStats:n={},topN:e=15,mode:t="vertical",className:s="",years:i=[],data:a=null,showHomeAway:l=!1})=>{const u=dr.useMemo(()=>{const E=a?.matches;if(!Array.isArray(E)||E.length===0)return null;const S=new Set((i||[]).map(String)),w={},T={},k={},I=M=>String(M||"").toLowerCase().trim();for(const M of E){const z=F4(M);if(S.size>0&&(!z||!S.has(String(z))))continue;const B=I(M?.condition),$=Array.isArray(M?.goleadoresActiveClub)?M.goleadoresActiveClub:[];for(const A of $){if(A?.isOwnGoal)continue;const R=A?.name,j=B4(A);!R||j<=0||(w[R]=(w[R]||0)+j,B==="local"&&(T[R]=(T[R]||0)+j),B==="visitante"&&(k[R]=(k[R]||0)+j))}}return{all:w,local:T,visitante:k}},[a,i]),d=u?i0(u.all,e):[],f=Math.floor(e/2),g=u?i0(u.local,f):[],x=u?i0(u.visitante,f):[];if(d.length===0)return null;const b=i?.length?[...new Set(i.map(String))].sort((E,S)=>parseInt(E.slice(0,4),10)-parseInt(S.slice(0,4),10)).join(" / "):"";return t==="vertical"?m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold mb-1 text-center",children:" Goleadores de la Temporada"}),m.jsxs("div",{className:`${s} flex items-start justify-center gap-3`,children:[m.jsx(r0,{title:`General ${b}`,list:d}),l&&m.jsxs("div",{className:"flex flex-col gap-1 w-max",children:[m.jsx(r0,{title:`Local ${b}`,list:g}),m.jsx(r0,{title:`Visitante ${b}`,list:x})]})]})]}):m.jsxs("div",{className:`mt-4 ${s}`,children:[m.jsxs("div",{className:"w-full text-center text-[15px] font-semibold tracking-wide uppercase text-slate-800",children:["Temporada ",b]}),m.jsx("div",{className:"text-center text-[11px] text-slate-500 mb-2",children:"01/07  30/06"}),m.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-300 bg-white",children:m.jsx("table",{className:"w-full min-w-max text-[11px] border-collapse",children:m.jsxs("tbody",{children:[m.jsx("tr",{className:"bg-emerald-50 border-b border-slate-200",children:d.map((E,S)=>m.jsx("td",{className:"px-3 py-2 text-center font-semibold text-slate-700",children:J0(S).icon},`r-${E.name}`))}),m.jsx("tr",{className:"border-b border-slate-100",children:d.map(E=>m.jsx("td",{className:"px-2 py-2 text-center tabular-nums font-bold text-slate-900 text-lg",children:E.goals},`g-${E.name}`))}),m.jsx("tr",{children:d.map((E,S)=>{const{bg:w,isTop3:T}=J0(S);return m.jsx("td",{className:`px-2 py-2 text-center whitespace-nowrap text-sm ${w} ${T?"font-semibold text-slate-800":"text-slate-700"}`,children:lt(E.name)},`n-${E.name}`)})})]})})})]})},H4=n=>{const e=n?.fecha||n?.createdAt;if(e){const t=typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)?new Date(`${e}T00:00:00`):new Date(e);if(!Number.isNaN(t.getTime())){const s=t.getFullYear();return t.getMonth()+1>=7?`${s}-${s+1}`:`${s-1}-${s}`}}return null},G4=n=>n?String(n).replace(/_/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,e=>e.toUpperCase()):"",q4=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn();zs(n,t,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||[]),[d,f]=F.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},E=(b.players?.length??0)>0,S=(b.formations?.length??0)>0,w=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!E&&!S&&!w)return m.jsx(bs,{to:"/formacion",replace:!0});F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const T=Array.isArray(a?.matches)?a.matches:[],[k,I]=F.useState("scorers"),M=Array.from(new Set(T.map($=>$?.torneoYear??$?.tournamentYear??$?.year??$?.anio).filter($=>$!=null).map(String))).sort(),z=Array.from(new Set(T.map(H4).filter(Boolean))).sort(($,A)=>parseInt(A.slice(0,4),10)-parseInt($.slice(0,4),10)),B=[{value:"scorers",label:"Scorers"},{value:"campeonatos",label:"Campeonato"},{value:"ao",label:"Ao"},{value:"europa",label:"Ao Europeo"},{value:"racha",label:"Rachas de Sequa Goleadora"},{value:"villanos",label:"Villanos"},{value:"carniceros",label:"Carniceros"},{value:"expulsados",label:"Expulsados"},{value:"goleadores",label:"Goleadores"}];return m.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[m.jsx("h1",{className:"text-center text-3xl mt-2 ",children:" Scorers"}),m.jsxs("div",{className:"mb-1 flex items-end justify-center gap-2",children:[m.jsxs("label",{className:"w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{value:d,onChange:$=>f($.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:u.map($=>m.jsx("option",{value:$,children:G4($)},$))})]}),m.jsxs("label",{className:"w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Vista"}),m.jsx("select",{value:k,onChange:$=>I($.target.value),className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-800 shadow-sm\r
                 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:B.map($=>m.jsx("option",{value:$.value,children:$.label},$.value))})]})]}),k==="scorers"&&m.jsx(U4,{matches:T}),k==="goleadores"&&m.jsx(C4,{matches:T}),k==="campeonatos"&&m.jsx(A4,{matches:T,bucket:x}),k==="europa"&&m.jsx("div",{className:"flex flex-col gap-4",children:z.map($=>m.jsx($4,{mode:"vertical",topN:15,years:[$],data:a,showHomeAway:!0},$))}),k==="villanos"&&m.jsx(k4,{matches:T}),k==="expulsados"&&m.jsx(R4,{matches:T}),k==="carniceros"&&m.jsx(j4,{matches:T}),k==="racha"&&m.jsx(O4,{data:a}),k==="ao"&&m.jsx("div",{className:"flex flex-col gap-4",children:M.slice().sort(($,A)=>A-$).map($=>m.jsx(I4,{mode:"vertical",topN:15,years:[$],data:a,showHomeAway:!0},$))})]})},W4=n=>{const e="inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] md:text-xs font-semibold border";switch(n){case"campeon":return`${e} bg-emerald-50 text-emerald-700 border-emerald-200`;case"subcampeon":return`${e} bg-amber-50 text-amber-700 border-amber-200`;case"3ro":case"tercero":return`${e} bg-sky-50 text-sky-700 border-sky-200`;default:return`${e} bg-slate-50 text-slate-700 border-slate-200`}},Y4=n=>{const e=t=>typeof t=="number"?t:parseInt(String(t),10);return[...n].sort((t,s)=>{const i=e(t),a=e(s),l=Number.isNaN(i),u=Number.isNaN(a);return l&&u?String(t).localeCompare(String(s)):l?1:u?-1:a-i})},K4=()=>{const{uid:n}=cn(),[e,t]=F.useState([]),[s,i]=F.useState(!0),{state:a,dispatch:l}=rs(),{state:u,dispatch:d}=Hn();zs(n,l,d);const[f,g]=F.useState(null),x=Object.keys(u?.lineups||[]),[b,E]=F.useState(u?.activeClub||x[0]||""),S=Ee(b||""),w=S?u?.lineups?.[S]:null,T=u?.lineups?.[S]||{},k=(T.players?.length??0)>0,I=(T.formations?.length??0)>0,M=T.playersStats?Object.keys(T.playersStats).length>0:!1;if(!S||!k&&!I&&!M)return m.jsx(bs,{to:"/formacion",replace:!0});F.useEffect(()=>{w&&Object.keys(w).length!==0&&g(w)},[w]),F.useEffect(()=>{if(!n){t([]),i(!1);return}(async()=>{try{i(!0);const $=YS(Sn,"palmares"),A=tN($,nN("uid","==",n)),j=(await rN(A)).docs.map(P=>({id:P.id,...P.data()}));t(j)}catch($){console.error("Error cargando palmars:",$),t([])}finally{i(!1)}})()},[n]);const z=F.useMemo(()=>{if(!e.length)return[];const B=new Map;return e.forEach(A=>{const R=A.year??"Sin ao";B.has(R)||B.set(R,[]),B.get(R).push(A)}),Y4(Array.from(B.keys())).map(A=>{const R=B.get(A)||[];return R.sort((j,P)=>String(j.torneoDisplay||"").localeCompare(String(P.torneoDisplay||""))),{year:A,campeonatos:R}})},[e]);return m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:" Palmars"}),s&&m.jsx("div",{className:"text-center text-sm text-slate-500 mt-6",children:"Cargando palmars..."}),!s&&!e.length&&m.jsxs("div",{className:"text-center text-sm text-slate-500 mt-6",children:["Todava no guardaste resultados de campeonatos.",m.jsx("br",{}),"Us la pantalla ",m.jsx("span",{className:"font-semibold",children:"Campeonatos"})," ","para marcar la posicin final en cada torneo."]}),!s&&z.map(({year:B,campeonatos:$})=>m.jsxs("section",{className:"mb-6",children:[m.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"w-8 h-px bg-slate-300 md:w-12"}),m.jsx("h2",{className:"text-sm md:text-base font-semibold text-slate-700",children:Number.isNaN(parseInt(String(B),10))?String(B):B}),m.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),m.jsx("div",{className:"space-y-2",children:$.map(A=>m.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-baseline justify-between gap-3 px-3 py-2 rounded-lg bg-white border border-slate-100 shadow-sm",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[12px] md:text-sm font-medium text-slate-900",children:A.torneoDisplay||"Sin nombre"}),A.clubName&&m.jsx("span",{className:"text-[10px] md:text-xs text-slate-500",children:ke(A.clubName)}),A.matchesCount!=null&&m.jsxs("span",{className:"text-[10px] text-slate-400 mt-0.5",children:[A.matchesCount," partido",A.matchesCount===1?"":"s"]})]}),m.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:A.resultado&&m.jsx("span",{className:W4(A.resultado),children:A.resultadoLabel||A.resultado})})]},A.id))})]},B))]})},_N=[{value:"",label:"Sin definir"},{value:"campeon",label:"Campen"},{value:"subcampeon",label:"Sub Campen"},{value:"3ro",label:"Tercero"},{value:"4to",label:"Cuarto"},{value:"5to",label:"Quinto"},{value:"6to",label:"Sexto"},{value:"7mo",label:"Sptimo"},{value:"8vo",label:"Octavo"},{value:"9no",label:"Noveno"},{value:"10mo",label:"Dcimo"},{value:"lejos",label:"Lejos"},{value:"fase de grupos",label:"Fase de Grupos"},{value:"16 avos de final",label:"16 avos de Final"},{value:"32 avos de final",label:"32 avos de Final"},{value:"octavos de final",label:"Octavos de Final"},{value:"cuartos de final",label:"Cuartos de Final"},{value:"semi Final",label:"Semi Final"}],wN=n=>{const e=n?.fecha||n?.createdAt;if(!e)return"";const t=typeof e=="string"?new Date(`${e}T00:00:00`):new Date(e);if(Number.isNaN(t.getTime()))return"";const s=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0");return`${s}/${i}`},EN=n=>{switch(n){case"ganado":return"bg-emerald-100 text-emerald-800 font-semibold";case"empatado":return"bg-amber-100 text-amber-800 font-semibold";case"perdido":return"bg-rose-100 text-rose-800 font-semibold";default:return"bg-slate-100 text-slate-700"}},X4=n=>String(n??"").trim(),Q4=n=>n?.isOwnGoal===!0||X4(n?.name).toLowerCase()==="__og__",Xf=n=>Q4(n)?"En contra":lt(n?.name),TN=n=>{if(!n)return 0;const e=!!(n.triplete||n.hattrick);return e&&n.doblete&&n.gol?6:e&&n.doblete?5:e&&n.gol?4:e?3:n.doblete?2:n.gol?1:0},SN=n=>{const t=(Array.isArray(n.goleadoresActiveClub)?n.goleadoresActiveClub:[]).map(s=>{const i=TN(s);return!s.name||i<=0?null:i===1?`${Xf(s)}`:`${Xf(s)} (${i})`}).filter(Boolean);return t.length?t.join(", "):""},NN=n=>{const t=(Array.isArray(n.goleadoresRivales)?n.goleadoresRivales:[]).map(s=>{const i=TN(s);return!s.name||i<=0?null:i===1?`${Xf(s)}`:`${Xf(s)} (${i})`}).filter(Boolean);return t.length?t.join(", "):""},qw=n=>String(n??"").trim().toLowerCase().replace(/\s+/g," "),Ww=(n,e={})=>{const t=n?.torneoName||n?.torneo||n?.torneoDisplay||"Sin torneo",s=Cm({torneoName:t,torneoYear:n?.torneoYear,fecha:n?.fecha||n?.createdAt,torneosConfig:e}),i=/\b(19|20)\d{2}(?:\s*[-]\s*(19|20)\d{2})?\b$/,a=String(s).match(i),l=a?a[0].replace(/\s+/g,""):null;return{base:l?String(s).replace(a[0],"").trim():String(s).trim(),season:l}},AN=n=>{if(n?.year)return n.year;if(!n||!Array.isArray(n.matches)||!n.matches.length)return null;const e=Array.from(new Set(n.matches.map(t=>t.torneoYear).filter(t=>t!=null)));return e.length?e[0]:null},J4=({duplicadosPorFecha:n,prettySafe:e,getCampTitleFromMatch:t})=>n?.length?m.jsxs("div",{className:"mx-auto mb-4 max-w-3xl rounded-xl border border-amber-300 bg-amber-50 p-3 text-amber-900 shadow-sm",children:[m.jsxs("div",{className:"font-semibold text-sm",children:[" Hay ",n.length," fecha",n.length!==1?"s":""," con 2+ partidos cargados"]}),m.jsx("div",{className:"mt-2 space-y-2 text-[12px]",children:n.map(([s,i])=>m.jsxs("div",{className:"rounded-lg border border-amber-200 bg-white/60 p-2",children:[m.jsxs("div",{className:"font-semibold tabular-nums",children:["Fecha: ",s]}),m.jsx("ul",{className:"mt-1 list-disc pl-5 space-y-1",children:i.map(a=>m.jsxs("li",{children:[m.jsx("span",{className:"font-medium",children:e(a.resultMatch||"Sin resultado")}),"  ","vs ",e(a.rival||"Sin rival"),"  ",m.jsx("span",{className:"text-slate-700",children:t(a)})]},a.id||`${a.fecha}-${a.rival}-${a.resultMatch}`))})]},s))})]}):null,Z4=({m:n,nroJuego:e,prettySafe:t,onEdit:s,onDelete:i})=>m.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden bg-white",children:[m.jsxs("div",{className:"flex items-center justify-start gap-2 px-3 py-2 bg-slate-100",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] tabular-nums",children:wN(n)}),m.jsx("span",{className:"text-slate-900 text-[10px]",children:n.captain?t(n.captain):""})]}),m.jsxs("div",{className:"text-[12px] flex flex-col",children:[m.jsxs("span",{className:"text-slate-700 text-left pl-10",children:["Fecha: ",e]}),m.jsx("span",{className:"w-max px-2 py-0.5 rounded-full text-[12px] whitespace-nowrap "+EN(n.final),children:t(n.resultMatch||"")})]}),m.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[m.jsx("button",{type:"button",className:"cursor-pointer disabled:opacity-40",disabled:!n.id,title:"Editar partido",onClick:()=>s(n),children:m.jsx("img",{src:"pencil.png",alt:"Editar",className:"h-6 w-6"})}),m.jsx("button",{type:"button",onClick:()=>i(n),className:"cursor-pointer",title:"Borrar partido",children:m.jsx("img",{src:"bas.png",alt:"Borrar",className:"h-6 w-6"})})]})]}),m.jsxs("div",{className:"px-3 py-2 text-[12px] bg-white",children:[m.jsxs("div",{className:"flex items-center justify-between px-1 text-[10px] uppercase tracking-wide text-slate-500",children:[m.jsxs("span",{className:"flex-1 text-center",children:["Goles ",n.club]}),m.jsxs("span",{className:"flex-1 text-center",children:["Goles ",n.rival]})]}),m.jsxs("div",{className:"mt-1 flex items-start justify-between px-4",children:[m.jsx("span",{className:"flex-1 text-center text-slate-800 break-words",children:SN(n)}),m.jsx("span",{className:"flex-1 text-center text-slate-800 break-words",children:NN(n)})]})]})]}),eP=({m:n,prettySafe:e,onEdit:t,onDelete:s})=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:wN(n)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:m.jsx("span",{className:"inline-block px-2 py-0.5 rounded-full text-[12px] whitespace-nowrap "+EN(n.final),children:e(n.resultMatch||"")})}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center",children:m.jsx("button",{type:"button",className:"cursor-pointer",disabled:!n.id,title:"Editar partido",onClick:()=>t(n),children:m.jsx("img",{src:"pencil.png",alt:"Editar",className:"inline-block h-6 w-6"})})}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:n.captain?e(n.captain):""}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:SN(n)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left",children:NN(n)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center",children:m.jsx("button",{type:"button",onClick:()=>s(n),className:"inline-flex items-center justify-center cursor-pointer",title:"Borrar partido",children:m.jsx("img",{src:"bas.png",alt:"Borrar",className:"inline-block h-6 w-6"})})})]},n.id||`${n.fecha}-${n.rival}-${n.resultMatch}`),tP=async({uid:n,clubKey:e,camp:t,value:s})=>{if(!n||!t||!s)return;const i=AN(t),a=t.matches?.length||0,u=_N.find(x=>x.value===s)?.label||"",d=t.matches[0]||{},f=d.club||d.activeClubName||d.activeClub||e||"Sin club",g={uid:n,clubKey:e,clubName:f,torneoDisplay:t.nombre,resultado:s,resultadoLabel:u,matchesCount:a,year:i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const x=String(f).replace(/\s+/g,"_"),b=String(t.nombre).replace(/\s+/g,"_"),S=`${n}_${x}_${b}_${i??"NA"}`,w=Fn(Sn,"palmares",S);await lc(w,g,{merge:!0}),me.Notify.success("Palmars guardado")}catch(x){me.Notify.failure("Error al guardar palmars"),console.log("error: ",x)}},nP=({matches:n=[],torneosConfig:e={},clubKey:t,uid:s,onRefresh:i})=>{const a=sd(),[l,u]=F.useState({}),d=S=>{const w=S?.fecha||S?.createdAt;if(!w)return null;if(typeof w=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(w))return w;const T=new Date(w);if(Number.isNaN(T.getTime()))return null;const k=T.getFullYear(),I=String(T.getMonth()+1).padStart(2,"0"),M=String(T.getDate()).padStart(2,"0");return`${k}-${I}-${M}`},f=S=>{const{base:w,season:T}=Ww(S,e);return`${lt(w)}${T?` ${T}`:""}`},g=F.useMemo(()=>{if(!Array.isArray(n)||!n.length)return[];const S=new Map;return n.forEach(w=>{const T=d(w);T&&(S.has(T)||S.set(T,[]),S.get(T).push(w))}),Array.from(S.entries()).filter(([,w])=>w.length>1).sort(([w],[T])=>w.localeCompare(T))},[n]),x=F.useMemo(()=>{if(!Array.isArray(n))return[];const S=new Map;n.forEach(T=>{const{base:k,season:I}=Ww(T,e),M=`${qw(k)}__${I??"NA"}`;S.has(M)||S.set(M,{key:M,nombre:k,year:I??null,matches:[],lastDate:null});const z=S.get(M);z.matches.push(T);const B=new Date(T.fecha||T.createdAt||0);(!z.lastDate||B>z.lastDate)&&(z.lastDate=B)});const w=Array.from(S.values());return w.forEach(T=>{T.matches.sort((k,I)=>{const M=new Date(k.fecha||k.createdAt||0).getTime();return new Date(I.fecha||I.createdAt||0).getTime()-M})}),w.sort((T,k)=>{const I=T.lastDate?T.lastDate.getTime():0;return(k.lastDate?k.lastDate.getTime():0)-I}),w},[n,e]);F.useEffect(()=>{(async()=>{if(s&&!(!x||!x.length))try{const w=new Set(x.map(z=>z.key)),T=YS(Sn,"palmares"),k=tN(T,nN("uid","==",s)),I=await rN(k),M={};I.forEach(z=>{const B=z.data(),$=B.resultado,A=qw(B.torneoDisplay),R=B.year??null,j=`${A}__${R??"NA"}`;w.has(j)&&typeof $=="string"&&(M[j]=$)}),u(z=>({...z,...M}))}catch(w){console.error("Error cargando palmars:",w)}})()},[s,x]);const b=async(S,w)=>{const T=S.key;u(k=>({...k,[T]:w}));try{await tP({uid:s,clubKey:t,camp:S,value:w})}catch(k){console.error("Error guardando en palmares:",k)}};if(!n.length)return null;const E=S=>{o4({match:S,uid:s,clubKey:t,onDone:async()=>{typeof i=="function"&&await i()}})};return m.jsxs("div",{className:"mt-4",children:[m.jsx(J4,{duplicadosPorFecha:g,prettySafe:lt,getCampTitleFromMatch:f}),x.map(S=>{const w=S.key,T=l[w]||"",k=S.year??AN(S),I=`${lt(S.nombre)}${k?` ${k}`:""}`;return m.jsx("div",{className:"mb-6 flex justify-center",children:m.jsxs("div",{className:"border border-slate-200 rounded-lg bg-white shadow-sm w-max",children:[m.jsxs("div",{className:"flex items-center flex-row justify-between gap-3 px-3 py-2 border-b border-slate-200 bg-slate-100 rounded-t-lg",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("h3",{className:"font-semibold text-sm lg:text-base text-slate-800 truncate",children:I}),m.jsxs("p",{className:"text-[11px] text-slate-500",children:[S.matches.length," partido",S.matches.length!==1?"s":""," jugado",S.matches.length!==1?"s":""," en este campeonato."]})]}),m.jsxs("div",{className:"text-[11px] md:text-sm shrink-0 md:flex md:items-center md:gap-2",children:[m.jsx("label",{className:"font-medium whitespace-nowrap mr-2",children:"Resultado:"}),m.jsx("select",{className:"border border-slate-300 rounded px-2 py-1 text-[11px] md:text-sm bg-white",value:T,onChange:M=>b(S,M.target.value),children:_N.map(M=>m.jsx("option",{value:M.value,children:M.label},M.value))})]})]}),m.jsx("div",{className:"sm:hidden space-y-1",children:S.matches.map((M,z)=>{const B=S.matches.length-z;return m.jsx(Z4,{m:M,nroJuego:B,prettySafe:lt,onEdit:$=>a(`/editar-partido/${$.id}`),onDelete:E},M.id||`${M.fecha}-${M.rival}-${M.resultMatch}`)})}),m.jsx("div",{className:"hidden sm:block overflow-x-auto",children:m.jsxs("table",{className:"w-full table-fixed border-collapse text-[11px] lg:text-xs lg:w-max lg:min-w-[980px] lg:table-auto",children:[m.jsx("thead",{className:"bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center whitespace-nowrap w-12",children:"Fecha"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Resultado"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-10 whitespace-nowrap",children:m.jsx("img",{src:"pencil.png",alt:"Editar",className:"inline-block h-5 w-5 opacity-60"})}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap w-24",children:"Capitn"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Goleadores Propios"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left whitespace-nowrap",children:"Goles del Rival"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-10 whitespace-nowrap",children:m.jsx("img",{src:"bas.png",alt:"Borrar",className:"inline-block h-5 w-5 opacity-60"})})]})}),m.jsx("tbody",{children:S.matches.map(M=>m.jsx(eP,{m:M,prettySafe:lt,onEdit:z=>a(`/editar-partido/${z.id}`),onDelete:E},M.id||`${M.fecha}-${M.rival}-${M.resultMatch}`))})]})})]})},w)})]})},sP=()=>{const{uid:n}=cn(),{dispatch:e}=rs(),{state:t,dispatch:s}=Hn();zs(n,e,s);const i=async()=>{n&&await ux(n,e,s)},a=Object.keys(t?.lineups||{}),[l,u]=F.useState(t?.activeClub||a[0]||""),d=Ee(l||""),f=d?t?.lineups?.[d]:null,g=Array.isArray(f?.matches)?f.matches:[],x=f?.torneosConfig||{};return m.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4 text-center",children:" Detalle de Partidos por Campeonato"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end justify-center",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:l,onChange:b=>u(b.target.value),children:a.map(b=>m.jsx("option",{value:b,children:ke(b)},b))})]}),m.jsx("button",{type:"button",className:"border px-3 py-1 rounded text-sm",onClick:i,children:" Refrescar"})]}),m.jsx(nP,{matches:g,clubKey:d,uid:n,onRefresh:i,torneosConfig:x})]})},iP=n=>{const e=String(n??"").trim();if(!e)return"";const t=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(t)return`${t[3]}-${t[2]}-${t[1]}`;const s=Date.parse(e);if(!Number.isFinite(s))return e;const i=new Date(s),a=String(i.getDate()).padStart(2,"0"),l=String(i.getMonth()+1).padStart(2,"0"),u=i.getFullYear();return`${a}-${l}-${u}`};function rP(n){const e=parseInt(n.golesFavor)||0,t=parseInt(n.golesContra)||0;return e>t?"bg-green-400":e===t?"bg-yellow-400":"bg-red-400"}const aP=({children:n})=>m.jsx("h2",{className:"font-semibold text-sm whitespace-nowrap",children:n}),oP=({lista:n=[]})=>{const[e,t]=F.useState(null);return n.length?m.jsx("div",{className:"w-full",children:m.jsx("div",{className:"w-full flex gap-1",children:n.map((s,i)=>{const a=s.id??`${s.fecha}-${s.rival}-${i}`,l=e===a,u=String(s.rival||"").trim()||"",d=s.esLocal===!0?"Local":"Visitante",f=s.golesFavor,g=s.golesContra;return m.jsxs("div",{className:"flex-1 basis-0 min-w-0 flex flex-col items-center relative",children:[m.jsxs("button",{type:"button",onClick:()=>t(l?null:a),className:"w-full min-w-0 flex flex-col items-center text-center",title:u,children:[m.jsx("span",{className:"w-full min-w-0 text-[9px] leading-none text-slate-500 truncate whitespace-nowrap",children:u}),m.jsx("span",{className:`mt-1 block w-5 h-5 md:w-6 md:h-6 rounded-full ${rP(s)}`,title:`${s.fecha} vs ${u}: ${f}-${g}`})]}),l&&m.jsxs("div",{className:`mt-1 w-max rounded-lg border border-slate-200 bg-white\r
               p-2 py-1 text-[10px] text-slate-700 shadow-sm relative`,children:[m.jsxs("div",{className:"font-semibold leading-tight",children:[i+1," - ",u]}),m.jsx("div",{className:"mt-0.5 text-[9px] text-slate-600",children:d}),m.jsxs("div",{className:"mt-0.5 tabular-nums",children:[m.jsx("span",{className:"text-slate-500",children:"GF:"})," ",m.jsx("span",{className:"font-semibold",children:f})," ",m.jsx("span",{className:"text-slate-400",children:""})," ",m.jsx("span",{className:"text-slate-500",children:"GC:"})," ",m.jsx("span",{className:"font-semibold",children:g})]}),m.jsx("div",{className:"mt-0.5 flex items-center justify-between gap-2",children:m.jsx("div",{className:"text-[9px] text-slate-500",title:s.fecha,children:iP(s.fecha)})})]})]},a)})})}):m.jsx("span",{className:"text-xs text-gray-400",children:"Sin partidos"})},wl=({icon:n,title:e,list:t})=>m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[260px_1fr] gap-2 items-start sm:items-center",children:[m.jsx(aP,{children:m.jsxs("span",{className:"inline-flex items-center gap-5",children:[m.jsx("span",{children:n}),m.jsx("span",{children:e})]})}),m.jsx(oP,{lista:t})]}),lP=({partidos:n=[],fixedCaptains:e})=>{const{partidosOrdenados:t,ultimos10General:s,ultimos10Local:i,ultimos10Visitante:a,capitanes:l,ultimos10PorCapitan:u}=F.useMemo(()=>{const d=[...n||[]].sort((T,k)=>new Date(k.fecha)-new Date(T.fecha)),f=T=>T.slice(0,10),g=f(d),x=f(d.filter(T=>!!T.esLocal)),b=f(d.filter(T=>!T.esLocal)),S=(Array.isArray(e)&&e.length?e.map(T=>T.toLowerCase()):[...new Set(d.map(T=>(T.equipo||"").toLowerCase()).filter(Boolean))]).map(T=>{const k=d.findIndex(I=>(I.equipo||"").toLowerCase()===T);return{cap:T,lastIndex:k}}).filter(T=>T.lastIndex!==-1&&T.lastIndex<10).sort((T,k)=>T.lastIndex-k.lastIndex).map(T=>T.cap),w=Object.fromEntries(S.map(T=>{const k=d.filter(I=>(I.equipo||"").toLowerCase()===T);return[T,{general:f(k),local:f(k.filter(I=>!!I.esLocal)),visitante:f(k.filter(I=>!I.esLocal))}]}));return{partidosOrdenados:d,ultimos10General:g,ultimos10Local:x,ultimos10Visitante:b,capitanes:S,ultimos10PorCapitan:w}},[n,e]);return t.length?m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"rounded-xl border bg-white p-2 shadow-sm",children:m.jsxs("div",{className:"space-y-2",children:[m.jsx(wl,{icon:"",title:"ltimos 10 Resultados (General)",list:s}),m.jsx(wl,{icon:"",title:"ltimos 10 Resultados (Local)",list:i}),m.jsx(wl,{icon:"",title:"ltimos 10 Resultados (Visitante)",list:a})]})}),m.jsx("div",{className:"space-y-4",children:l.map(d=>m.jsxs("div",{className:"rounded-xl border bg-white p-4 shadow-sm",children:[m.jsxs("div",{className:"mb-2 text-sm font-semibold text-slate-700",children:[" ltimos 10 con ",ke(d)]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(wl,{icon:"",title:"General",list:u[d]?.general||[]}),m.jsx(wl,{icon:"",title:"Local",list:u[d]?.local||[]}),m.jsx(wl,{icon:"",title:"Visitante",list:u[d]?.visitante||[]})]})]},d))})]}):m.jsx("p",{className:"text-center text-gray-500 mt-4",children:"No hay partidos para mostrar."})},cP=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn();zs(n,t,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||{}),[d,f]=F.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null,b=s?.lineups?.[g]||{},E=(b.players?.length??0)>0,S=(b.formations?.length??0)>0,w=b.playersStats?Object.keys(b.playersStats).length>0:!1;if(!g||!E&&!S&&!w)return m.jsx(bs,{to:"/formacion",replace:!0});if(F.useEffect(()=>{!d&&u.length&&f(s?.activeClub||u[0])},[u,s?.activeClub,d]),!u.length)return m.jsx("p",{className:"text-center text-slate-500 mt-4",children:"Cargando clubes..."});F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const T=Array.isArray(a?.matches)?a.matches:[],k=w4(T);return m.jsxs("div",{className:"p-2 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-evenly gap-1 mb-2 mt-2",children:[m.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900 flex flex-col gap-0 leading-none",children:[m.jsx("span",{children:"ltimos 10"}),m.jsx("span",{className:"mt-1 inline-flex w-fit items-center rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-600",children:" Racha"})]}),m.jsxs("label",{className:"w-full max-w-[220px]",children:[m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{value:d,onChange:I=>f(I.target.value),disabled:u.length<=1,className:`mt-1 w-full rounded-xl border border-slate-300 bg-white px-3 py-1 text-sm text-slate-800 shadow-sm\r
      focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500\r
      disabled:bg-slate-100 disabled:text-slate-500`,children:u.map(I=>m.jsx("option",{value:I,children:ke(I)},I))})]})]}),m.jsx(lP,{partidos:k})]})};function uP(){const{pathname:n}=Di();return F.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[n]),null}const dP=()=>{const n=F.useRef([]);return F.useEffect(()=>{const t=console.log;return console.log=(...s)=>{n.current.push(s.map(i=>typeof i=="object"?JSON.stringify(i,null,2):i).join(" ")),t.apply(console,s)},()=>{console.log=t}},[]),{downloadLogs:()=>{const t=new Blob([n.current.join(`
`)],{type:"text/plain"}),s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=`console-logs-${new Date().getTime()}.txt`,i.click(),URL.revokeObjectURL(s)}}};function CN(n=[]){return[...n].sort((e,t)=>{const s=new Date(e?.fecha??0).getTime(),i=new Date(t?.fecha??0).getTime();return s!==i?s-i:(e?.createdAt??0)-(t?.createdAt??0)})}function hP(n=[]){return Array.from(new Set(n.map(e=>e?.torneoYear).filter(Boolean))).sort((e,t)=>e-t)}function fP(n=[]){const e=new Set(n.map(t=>t?.torneoDisplay||t?.torneoName).filter(Boolean));return Array.from(e).sort((t,s)=>t.localeCompare(s))}function mP(n=[]){const e=new Map;for(const t of n){const s=t?.captain;s&&e.set(s,(e.get(s)??0)+1)}return[...e.entries()].sort((t,s)=>s[1]-t[1]).slice(0,2).map(([t])=>t)}function pP(n,e,t){const s=CN(n),i=Array.isArray(e)?e:[e,t],a=Array.from(new Set((i||[]).filter(Boolean)));let l=0,u=0;const d=Object.fromEntries(a.map(z=>[z,0])),f=Object.fromEntries(a.map(z=>[z,0])),g=[],x=[],b=Object.fromEntries(a.map(z=>[z,[]]));s.forEach((z,B)=>{const $=Number(z?.points??0),A=z?.captain;g.push(String(B+1)),l+=$,u+=1,x.push(l),A&&d[A]!=null&&(d[A]+=$,f[A]+=1);for(const R of a)b[R].push(d[R])});const E=u*3,S=E/2,w=Object.fromEntries(a.map(z=>[z,(f[z]||0)*3])),T=Object.fromEntries(a.map(z=>[z,(w[z]||0)/2])),k=Array(g.length).fill(S),I=["#0ea5e9","#f97316","#a855f7","#14b8a6","#eab308","#ef4444","#6366f1","#10b981"],M=[{_kind:"unificado",label:"Unificado",data:x,borderColor:"#22c55e",borderWidth:3,pointRadius:0,tension:.35},{_kind:"mitadU",label:"Mitad Unificado",data:k,borderColor:"#94a3b8",borderWidth:2,pointRadius:0,borderDash:[4,6],tension:0}];return a.forEach((z,B)=>{M.push({_kind:`cap:${z}`,label:ke(z),data:b[z],borderColor:I[B%I.length],borderWidth:2.2,pointRadius:0,tension:.35}),M.push({_kind:`mitad:${z}`,label:`Mitad ${ke(z)}`,data:Array(g.length).fill(T[z]),borderColor:I[B%I.length],borderWidth:2,pointRadius:0,borderDash:[6,4],tension:0})}),{labels:g,yMax:E,meta:{posiblesU:E,posiblesByCaptain:w,gamesByCaptain:f},datasets:M}}function gP(n,{view:e,breakdown:t,selectedYear:s,selectedTournament:i,torneosConfig:a,capA:l,capB:u}={}){return F.useMemo(()=>{const d=Array.isArray(n)?n:[],f=CN(d),g=(U="")=>U.toString().replace(/\b(19|20)\d{2}\s*[-]\s*(19|20)\d{2}\b/g,"").replace(/\b(19|20)\d{2}\b/g,"").replace(/\s{2,}/g," ").trim(),x=U=>(U||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),b=U=>{if(!a||!U)return"anual";const L=x(g(U));for(const[ge,ue]of Object.entries(a||{}))if(x(g(ge))===L)return(ue?.formato??"").toString().trim().toLowerCase()==="europeo"?"europeo":"anual";return"anual"},E=U=>{const L=new Date(U);if(!Number.isFinite(L.getTime()))return null;const ge=L.getFullYear(),W=L.getMonth()+1>=7?ge:ge-1;return`${W}-${W+1}`},S=f.filter(U=>{const L=U?.torneoDisplay||U?.torneoName||"";return b(L)==="europeo"}),w=t==="euroYear",T=t==="euroTournament",k=w?Array.from(new Set(S.map(U=>E(U?.fecha)).filter(Boolean))).sort((U,L)=>Number(L.split("-")[0])-Number(U.split("-")[0])):hP(f),I=T?Array.from(new Set(S.map(U=>{const L=U?.torneoDisplay||U?.torneoName||"Sin torneo",ge=g(L),ue=E(U?.fecha);return ue?`${ge} ${ue}`:ge}).filter(Boolean))).sort((U,L)=>{const ge=U.match(/(19|20)\d{2}-(19|20)\d{2}/)?.[0],ue=L.match(/(19|20)\d{2}-(19|20)\d{2}/)?.[0];if(ge&&ue){const W=Number(ge.split("-")[0]),ae=Number(ue.split("-")[0]);if(W!==ae)return ae-W}return String(U).localeCompare(String(L))}):fP(f),[M,z]=mP(f),B=l||M||"",$=u||z||"";let A=f;t==="year"&&s&&(A=f.filter(U=>Number(U?.torneoYear)===Number(s))),t==="euroYear"&&s&&(A=S.filter(U=>E(U?.fecha)===s)),t==="tournament"&&i&&(A=f.filter(U=>(U?.torneoDisplay||U?.torneoName)===i)),t==="euroTournament"&&i&&(A=S.filter(U=>{const L=U?.torneoDisplay||U?.torneoName||"Sin torneo",ge=g(L),ue=E(U?.fecha);return(ue?`${ge} ${ue}`:ge)===i}));const R=(()=>{const U=new Set,L=[];for(let ge=A.length-1;ge>=0;ge--){const ue=A[ge]?.captain;!ue||U.has(ue)||(U.add(ue),L.push(ue))}return L})(),j=pP(A,R),P=e==="general"?j.datasets.filter(U=>U._kind==="unificado"||U._kind==="mitadU"):j.datasets.filter(U=>String(U._kind||"").startsWith("cap:")||String(U._kind||"").startsWith("mitad:")),V=e==="general"?j.meta.posiblesU:Math.max(0,...Object.values(j.meta.posiblesByCaptain||{}));return{years:k,tournaments:I,captainA:B,captainB:$,chartData:{labels:j.labels,datasets:P},yMax:V,meta:j.meta}},[n,e,t,s,i,a,l,u])}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bd(n){return n+.5|0}const ca=(n,e,t)=>Math.max(Math.min(n,t),e);function Su(n){return ca(bd(n*2.55),0,255)}function ya(n){return ca(bd(n*255),0,255)}function lr(n){return ca(bd(n/2.55)/100,0,1)}function Yw(n){return ca(bd(n*100),0,100)}const Ds={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Z0=[..."0123456789ABCDEF"],yP=n=>Z0[n&15],xP=n=>Z0[(n&240)>>4]+Z0[n&15],ef=n=>(n&240)>>4===(n&15),bP=n=>ef(n.r)&&ef(n.g)&&ef(n.b)&&ef(n.a);function vP(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ds[n[1]]*17,g:255&Ds[n[2]]*17,b:255&Ds[n[3]]*17,a:e===5?Ds[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ds[n[1]]<<4|Ds[n[2]],g:Ds[n[3]]<<4|Ds[n[4]],b:Ds[n[5]]<<4|Ds[n[6]],a:e===9?Ds[n[7]]<<4|Ds[n[8]]:255})),t}const _P=(n,e)=>n<255?e(n):"";function wP(n){var e=bP(n)?yP:xP;return n?"#"+e(n.r)+e(n.g)+e(n.b)+_P(n.a,e):void 0}const EP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kN(n,e,t){const s=e*Math.min(t,1-t),i=(a,l=(a+n/30)%12)=>t-s*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function TP(n,e,t){const s=(i,a=(i+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[s(5),s(3),s(1)]}function SP(n,e,t){const s=kN(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)s[i]*=1-e-t,s[i]+=e;return s}function NP(n,e,t,s,i){return n===i?(e-t)/s+(e<t?6:0):e===i?(t-n)/s+2:(n-e)/s+4}function px(n){const t=n.r/255,s=n.g/255,i=n.b/255,a=Math.max(t,s,i),l=Math.min(t,s,i),u=(a+l)/2;let d,f,g;return a!==l&&(g=a-l,f=u>.5?g/(2-a-l):g/(a+l),d=NP(t,s,i,g,a),d=d*60+.5),[d|0,f||0,u]}function gx(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(ya)}function yx(n,e,t){return gx(kN,n,e,t)}function AP(n,e,t){return gx(SP,n,e,t)}function CP(n,e,t){return gx(TP,n,e,t)}function RN(n){return(n%360+360)%360}function kP(n){const e=EP.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?Su(+e[5]):ya(+e[5]));const i=RN(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?s=AP(i,a,l):e[1]==="hsv"?s=CP(i,a,l):s=yx(i,a,l),{r:s[0],g:s[1],b:s[2],a:t}}function RP(n,e){var t=px(n);t[0]=RN(t[0]+e),t=yx(t),n.r=t[0],n.g=t[1],n.b=t[2]}function jP(n){if(!n)return;const e=px(n),t=e[0],s=Yw(e[1]),i=Yw(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${i}%, ${lr(n.a)})`:`hsl(${t}, ${s}%, ${i}%)`}const Kw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Xw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function IP(){const n={},e=Object.keys(Xw),t=Object.keys(Kw);let s,i,a,l,u;for(s=0;s<e.length;s++){for(l=u=e[s],i=0;i<t.length;i++)a=t[i],u=u.replace(a,Kw[a]);a=parseInt(Xw[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let tf;function DP(n){tf||(tf=IP(),tf.transparent=[0,0,0,0]);const e=tf[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const MP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function OP(n){const e=MP.exec(n);let t=255,s,i,a;if(e){if(e[7]!==s){const l=+e[7];t=e[8]?Su(l):ca(l*255,0,255)}return s=+e[1],i=+e[3],a=+e[5],s=255&(e[2]?Su(s):ca(s,0,255)),i=255&(e[4]?Su(i):ca(i,0,255)),a=255&(e[6]?Su(a):ca(a,0,255)),{r:s,g:i,b:a,a:t}}}function PP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${lr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const a0=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,El=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function LP(n,e,t){const s=El(lr(n.r)),i=El(lr(n.g)),a=El(lr(n.b));return{r:ya(a0(s+t*(El(lr(e.r))-s))),g:ya(a0(i+t*(El(lr(e.g))-i))),b:ya(a0(a+t*(El(lr(e.b))-a))),a:n.a+t*(e.a-n.a)}}function nf(n,e,t){if(n){let s=px(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=yx(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function jN(n,e){return n&&Object.assign(e||{},n)}function Qw(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ya(n[3]))):(e=jN(n,{r:0,g:0,b:0,a:1}),e.a=ya(e.a)),e}function VP(n){return n.charAt(0)==="r"?OP(n):kP(n)}class Qu{constructor(e){if(e instanceof Qu)return e;const t=typeof e;let s;t==="object"?s=Qw(e):t==="string"&&(s=vP(e)||DP(e)||VP(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=jN(this._rgb);return e&&(e.a=lr(e.a)),e}set rgb(e){this._rgb=Qw(e)}rgbString(){return this._valid?PP(this._rgb):void 0}hexString(){return this._valid?wP(this._rgb):void 0}hslString(){return this._valid?jP(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,i=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,d=s.a-i.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;a=1-f,s.r=255&f*s.r+a*i.r+.5,s.g=255&f*s.g+a*i.g+.5,s.b=255&f*s.b+a*i.b+.5,s.a=l*s.a+(1-l)*i.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=LP(this._rgb,e._rgb,t)),this}clone(){return new Qu(this.rgb)}alpha(e){return this._rgb.a=ya(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=bd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return nf(this._rgb,2,e),this}darken(e){return nf(this._rgb,2,-e),this}saturate(e){return nf(this._rgb,1,e),this}desaturate(e){return nf(this._rgb,1,-e),this}rotate(e){return RP(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function rr(){}const zP=(()=>{let n=0;return()=>n++})();function Pt(n){return n==null}function Tn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function xt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function $n(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function bi(n,e){return $n(n)?n:e}function ht(n,e){return typeof n>"u"?e:n}const UP=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Lt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Nt(n,e,t,s){let i,a,l;if(Tn(n))for(a=n.length,i=0;i<a;i++)e.call(t,n[i],i);else if(xt(n))for(l=Object.keys(n),a=l.length,i=0;i<a;i++)e.call(t,n[l[i]],l[i])}function Qf(n,e){let t,s,i,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(i=n[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Jf(n){if(Tn(n))return n.map(Jf);if(xt(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let i=0;for(;i<s;++i)e[t[i]]=Jf(n[t[i]]);return e}return n}function IN(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function BP(n,e,t,s){if(!IN(n))return;const i=e[n],a=t[n];xt(i)&&xt(a)?Ju(i,a,s):e[n]=Jf(a)}function Ju(n,e,t){const s=Tn(e)?e:[e],i=s.length;if(!xt(n))return n;t=t||{};const a=t.merger||BP;let l;for(let u=0;u<i;++u){if(l=s[u],!xt(l))continue;const d=Object.keys(l);for(let f=0,g=d.length;f<g;++f)a(d[f],n,l,t)}return n}function Mu(n,e){return Ju(n,e,{merger:FP})}function FP(n,e,t){if(!IN(n))return;const s=e[n],i=t[n];xt(s)&&xt(i)?Mu(s,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Jf(i))}const Jw={"":n=>n,x:n=>n.x,y:n=>n.y};function $P(n){const e=n.split("."),t=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function HP(n){const e=$P(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function Zf(n,e){return(Jw[e]||(Jw[e]=HP(e)))(n)}function xx(n){return n.charAt(0).toUpperCase()+n.slice(1)}const em=n=>typeof n<"u",Sa=n=>typeof n=="function",Zw=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function GP(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Un=Math.PI,Qs=2*Un,qP=Qs+Un,tm=Number.POSITIVE_INFINITY,WP=Un/180,Xs=Un/2,io=Un/4,e2=Un*2/3,DN=Math.log10,ql=Math.sign;function Ou(n,e,t){return Math.abs(n-e)<t}function t2(n){const e=Math.round(n);n=Ou(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(DN(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function YP(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function KP(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Zu(n){return!KP(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function XP(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function QP(n,e,t){let s,i,a;for(s=0,i=n.length;s<i;s++)a=n[s][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function mo(n){return n*(Un/180)}function JP(n){return n*(180/Un)}function n2(n){if(!$n(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function ZP(n,e){const t=e.x-n.x,s=e.y-n.y,i=Math.sqrt(t*t+s*s);let a=Math.atan2(s,t);return a<-.5*Un&&(a+=Qs),{angle:a,distance:i}}function ey(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function eL(n,e){return(n-e+qP)%Qs-Un}function Ei(n){return(n%Qs+Qs)%Qs}function MN(n,e,t,s){const i=Ei(n),a=Ei(e),l=Ei(t),u=Ei(a-i),d=Ei(l-i),f=Ei(i-a),g=Ei(i-l);return i===a||i===l||s&&a===l||u>d&&f<g}function Ps(n,e,t){return Math.max(e,Math.min(t,n))}function tL(n){return Ps(n,-32768,32767)}function Rl(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function bx(n,e,t){t=t||(l=>n[l]<e);let s=n.length-1,i=0,a;for(;s-i>1;)a=i+s>>1,t(a)?i=a:s=a;return{lo:i,hi:s}}const po=(n,e,t,s)=>bx(n,t,s?i=>{const a=n[i][e];return a<t||a===t&&n[i+1][e]===t}:i=>n[i][e]<t),nL=(n,e,t)=>bx(n,t,s=>n[s][e]>=t);function sL(n,e,t){let s=0,i=n.length;for(;s<i&&n[s]<e;)s++;for(;i>s&&n[i-1]>t;)i--;return s>0||i<n.length?n.slice(s,i):n}const ON=["push","pop","shift","splice","unshift"];function iL(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ON.forEach(t=>{const s="_onData"+xx(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...a)}),l}})})}function s2(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(ON.forEach(a=>{delete n[a]}),delete n._chartjs)}function rL(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const PN=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function LN(n,e){let t=[],s=!1;return function(...i){t=i,s||(s=!0,PN.call(window,()=>{s=!1,n.apply(e,t)}))}}function aL(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const VN=n=>n==="start"?"left":n==="end"?"right":"center",ys=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,oL=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function lL(n,e,t){const s=e.length;let i=0,a=s;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:x,max:b,minDefined:E,maxDefined:S}=l.getUserBounds();if(E){if(i=Math.min(po(d,g,x).lo,t?s:po(e,g,l.getPixelForValue(x)).lo),f){const w=d.slice(0,i+1).reverse().findIndex(T=>!Pt(T[u.axis]));i-=Math.max(0,w)}i=Ps(i,0,s-1)}if(S){let w=Math.max(po(d,l.axis,b,!0).hi+1,t?0:po(e,g,l.getPixelForValue(b),!0).hi+1);if(f){const T=d.slice(w-1).findIndex(k=>!Pt(k[u.axis]));w+=Math.max(0,T)}a=Ps(w,i,s)-i}else a=s-i}return{start:i,count:a}}function cL(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=i,!0;const a=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,i),a}const sf=n=>n===0||n===1,i2=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Qs/t)),r2=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Qs/t)+1,Pu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Xs)+1,easeOutSine:n=>Math.sin(n*Xs),easeInOutSine:n=>-.5*(Math.cos(Un*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>sf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>sf(n)?n:i2(n,.075,.3),easeOutElastic:n=>sf(n)?n:r2(n,.075,.3),easeInOutElastic(n){return sf(n)?n:n<.5?.5*i2(n*2,.1125,.45):.5+.5*r2(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Pu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Pu.easeInBounce(n*2)*.5:Pu.easeOutBounce(n*2-1)*.5+.5};function vx(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function a2(n){return vx(n)?n:new Qu(n)}function o0(n){return vx(n)?n:new Qu(n).saturate(.5).darken(.1).hexString()}const uL=["x","y","borderWidth","radius","tension"],dL=["color","borderColor","backgroundColor"];function hL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:dL},numbers:{type:"number",properties:uL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function fL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const o2=new Map;function mL(n,e){e=e||{};const t=n+JSON.stringify(e);let s=o2.get(t);return s||(s=new Intl.NumberFormat(n,e),o2.set(t,s)),s}function zN(n,e,t){return mL(e,t).format(n)}const pL={values(n){return Tn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let i,a=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),a=gL(n,t)}const l=DN(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),zN(n,s,d)}};function gL(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var UN={formatters:pL};function yL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:UN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const So=Object.create(null),ty=Object.create(null);function Lu(n,e){if(!e)return n;const t=e.split(".");for(let s=0,i=t.length;s<i;++s){const a=t[s];n=n[a]||(n[a]=Object.create(null))}return n}function l0(n,e,t){return typeof e=="string"?Ju(Lu(n,e),t):Ju(Lu(n,""),e)}class xL{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>o0(i.backgroundColor),this.hoverBorderColor=(s,i)=>o0(i.borderColor),this.hoverColor=(s,i)=>o0(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return l0(this,e,t)}get(e){return Lu(this,e)}describe(e,t){return l0(ty,e,t)}override(e,t){return l0(So,e,t)}route(e,t,s,i){const a=Lu(this,e),l=Lu(this,s),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[u],f=l[i];return xt(d)?Object.assign({},f,d):ht(d,f)},set(d){this[u]=d}}})}apply(e){e.forEach(t=>t(this))}}var en=new xL({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hL,fL,yL]);function bL(n){return!n||Pt(n.size)||Pt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function l2(n,e,t,s,i){let a=e[i];return a||(a=e[i]=n.measureText(i).width,t.push(i)),a>s&&(s=a),s}function ro(n,e,t){const s=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*s)/s+i}function c2(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function ny(n,e,t,s){BN(n,e,t,s,null)}function BN(n,e,t,s,i){let a,l,u,d,f,g,x,b;const E=e.pointStyle,S=e.rotation,w=e.radius;let T=(S||0)*WP;if(E&&typeof E=="object"&&(a=E.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(T),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),E){default:i?n.ellipse(t,s,i/2,w,0,0,Qs):n.arc(t,s,w,0,Qs),n.closePath();break;case"triangle":g=i?i/2:w,n.moveTo(t+Math.sin(T)*g,s-Math.cos(T)*w),T+=e2,n.lineTo(t+Math.sin(T)*g,s-Math.cos(T)*w),T+=e2,n.lineTo(t+Math.sin(T)*g,s-Math.cos(T)*w),n.closePath();break;case"rectRounded":f=w*.516,d=w-f,l=Math.cos(T+io)*d,x=Math.cos(T+io)*(i?i/2-f:d),u=Math.sin(T+io)*d,b=Math.sin(T+io)*(i?i/2-f:d),n.arc(t-x,s-u,f,T-Un,T-Xs),n.arc(t+b,s-l,f,T-Xs,T),n.arc(t+x,s+u,f,T,T+Xs),n.arc(t-b,s+l,f,T+Xs,T+Un),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*w,g=i?i/2:d,n.rect(t-g,s-d,2*g,2*d);break}T+=io;case"rectRot":x=Math.cos(T)*(i?i/2:w),l=Math.cos(T)*w,u=Math.sin(T)*w,b=Math.sin(T)*(i?i/2:w),n.moveTo(t-x,s-u),n.lineTo(t+b,s-l),n.lineTo(t+x,s+u),n.lineTo(t-b,s+l),n.closePath();break;case"crossRot":T+=io;case"cross":x=Math.cos(T)*(i?i/2:w),l=Math.cos(T)*w,u=Math.sin(T)*w,b=Math.sin(T)*(i?i/2:w),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l);break;case"star":x=Math.cos(T)*(i?i/2:w),l=Math.cos(T)*w,u=Math.sin(T)*w,b=Math.sin(T)*(i?i/2:w),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l),T+=io,x=Math.cos(T)*(i?i/2:w),l=Math.cos(T)*w,u=Math.sin(T)*w,b=Math.sin(T)*(i?i/2:w),n.moveTo(t-x,s-u),n.lineTo(t+x,s+u),n.moveTo(t+b,s-l),n.lineTo(t-b,s+l);break;case"line":l=i?i/2:Math.cos(T)*w,u=Math.sin(T)*w,n.moveTo(t-l,s-u),n.lineTo(t+l,s+u);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(T)*(i?i/2:w),s+Math.sin(T)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ed(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function km(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Rm(n){n.restore()}function vL(n,e,t,s,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else i==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function _L(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function wL(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Pt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function EL(n,e,t,s,i){if(i.strikethrough||i.underline){const a=n.measureText(s),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,d=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,g=i.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function TL(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function nm(n,e,t,s,i,a={}){const l=Tn(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(n.save(),n.font=i.string,wL(n,a),d=0;d<l.length;++d)f=l[d],a.backdrop&&TL(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Pt(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,s,a.maxWidth)),n.fillText(f,t,s,a.maxWidth),EL(n,t,s,f,a),s+=Number(i.lineHeight);n.restore()}function sy(n,e){const{x:t,y:s,w:i,h:a,radius:l}=e;n.arc(t+l.topLeft,s+l.topLeft,l.topLeft,1.5*Un,Un,!0),n.lineTo(t,s+a-l.bottomLeft),n.arc(t+l.bottomLeft,s+a-l.bottomLeft,l.bottomLeft,Un,Xs,!0),n.lineTo(t+i-l.bottomRight,s+a),n.arc(t+i-l.bottomRight,s+a-l.bottomRight,l.bottomRight,Xs,0,!0),n.lineTo(t+i,s+l.topRight),n.arc(t+i-l.topRight,s+l.topRight,l.topRight,0,-Xs,!0),n.lineTo(t+l.topLeft,s)}const SL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AL(n,e){const t=(""+n).match(SL);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const CL=n=>+n||0;function FN(n,e){const t={},s=xt(e),i=s?Object.keys(e):e,a=xt(n)?s?l=>ht(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=CL(a(l));return t}function kL(n){return FN(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Vu(n){return FN(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ei(n){const e=kL(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function is(n,e){n=n||{},e=e||en.font;let t=ht(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=ht(n.style,e.style);s&&!(""+s).match(NL)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:ht(n.family,e.family),lineHeight:AL(ht(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:ht(n.weight,e.weight),string:""};return i.string=bL(i),i}function rf(n,e,t,s){let i,a,l;for(i=0,a=n.length;i<a;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function RL(n,e,t){const{min:s,max:i}=n,a=UP(e,(i-s)/2),l=(u,d)=>t&&u===0?0:u+d;return{min:l(s,-Math.abs(a)),max:l(i,a)}}function Ro(n,e){return Object.assign(Object.create(n),e)}function _x(n,e=[""],t,s,i=()=>n[0]){const a=t||n;typeof s>"u"&&(s=qN("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:s,_getTarget:i,override:u=>_x([u,...n],e,a,s)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return HN(u,d,()=>VL(d,e,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return d2(u).includes(d)},ownKeys(u){return d2(u)},set(u,d,f){const g=u._storage||(u._storage=i());return u[d]=g[d]=f,delete u._keys,!0}})}function Wl(n,e,t,s){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:$N(n,s),setContext:a=>Wl(n,a,t,s),override:a=>Wl(n.override(a),e,t,s)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return HN(a,l,()=>IL(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function $N(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:s,isScriptable:Sa(t)?t:()=>t,isIndexable:Sa(s)?s:()=>s}}const jL=(n,e)=>n?n+xx(e):e,wx=(n,e)=>xt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function HN(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function IL(n,e,t){const{_proxy:s,_context:i,_subProxy:a,_descriptors:l}=n;let u=s[e];return Sa(u)&&l.isScriptable(e)&&(u=DL(e,u,n,t)),Tn(u)&&u.length&&(u=ML(e,u,n,l.isIndexable)),wx(e,u)&&(u=Wl(u,i,a&&a[e],l)),u}function DL(n,e,t,s){const{_proxy:i,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=e(a,l||s);return u.delete(n),wx(n,d)&&(d=Ex(i._scopes,i,n,d)),d}function ML(n,e,t,s){const{_proxy:i,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&s(n))return e[a.index%e.length];if(xt(e[0])){const d=e,f=i._scopes.filter(g=>g!==d);e=[];for(const g of d){const x=Ex(f,i,n,g);e.push(Wl(x,a,l&&l[n],u))}}return e}function GN(n,e,t){return Sa(n)?n(e,t):n}const OL=(n,e)=>n===!0?e:typeof n=="string"?Zf(e,n):void 0;function PL(n,e,t,s,i){for(const a of e){const l=OL(t,a);if(l){n.add(l);const u=GN(l._fallback,t,i);if(typeof u<"u"&&u!==t&&u!==s)return u}else if(l===!1&&typeof s<"u"&&t!==s)return null}return!1}function Ex(n,e,t,s){const i=e._rootScopes,a=GN(e._fallback,t,s),l=[...n,...i],u=new Set;u.add(s);let d=u2(u,l,t,a||t,s);return d===null||typeof a<"u"&&a!==t&&(d=u2(u,l,a,d,s),d===null)?!1:_x(Array.from(u),[""],i,a,()=>LL(e,t,s))}function u2(n,e,t,s,i){for(;t;)t=PL(n,e,t,s,i);return t}function LL(n,e,t){const s=n._getTarget();e in s||(s[e]={});const i=s[e];return Tn(i)&&xt(t)?t:i||{}}function VL(n,e,t,s){let i;for(const a of e)if(i=qN(jL(a,n),t),typeof i<"u")return wx(n,i)?Ex(t,s,n,i):i}function qN(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function d2(n){let e=n._keys;return e||(e=n._keys=zL(n._scopes)),e}function zL(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const UL=Number.EPSILON||1e-14,Yl=(n,e)=>e<n.length&&!n[e].skip&&n[e],WN=n=>n==="x"?"y":"x";function BL(n,e,t,s){const i=n.skip?e:n,a=e,l=t.skip?e:t,u=ey(a,i),d=ey(l,a);let f=u/(u+d),g=d/(u+d);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const x=s*f,b=s*g;return{previous:{x:a.x-x*(l.x-i.x),y:a.y-x*(l.y-i.y)},next:{x:a.x+b*(l.x-i.x),y:a.y+b*(l.y-i.y)}}}function FL(n,e,t){const s=n.length;let i,a,l,u,d,f=Yl(n,0);for(let g=0;g<s-1;++g)if(d=f,f=Yl(n,g+1),!(!d||!f)){if(Ou(e[g],0,UL)){t[g]=t[g+1]=0;continue}i=t[g]/e[g],a=t[g+1]/e[g],u=Math.pow(i,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),t[g]=i*l*e[g],t[g+1]=a*l*e[g])}}function $L(n,e,t="x"){const s=WN(t),i=n.length;let a,l,u,d=Yl(n,0);for(let f=0;f<i;++f){if(l=u,u=d,d=Yl(n,f+1),!u)continue;const g=u[t],x=u[s];l&&(a=(g-l[t])/3,u[`cp1${t}`]=g-a,u[`cp1${s}`]=x-a*e[f]),d&&(a=(d[t]-g)/3,u[`cp2${t}`]=g+a,u[`cp2${s}`]=x+a*e[f])}}function HL(n,e="x"){const t=WN(e),s=n.length,i=Array(s).fill(0),a=Array(s);let l,u,d,f=Yl(n,0);for(l=0;l<s;++l)if(u=d,d=f,f=Yl(n,l+1),!!d){if(f){const g=f[e]-d[e];i[l]=g!==0?(f[t]-d[t])/g:0}a[l]=u?f?ql(i[l-1])!==ql(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}FL(n,i,a),$L(n,a,e)}function af(n,e,t){return Math.max(Math.min(n,t),e)}function GL(n,e){let t,s,i,a,l,u=ed(n[0],e);for(t=0,s=n.length;t<s;++t)l=a,a=u,u=t<s-1&&ed(n[t+1],e),a&&(i=n[t],l&&(i.cp1x=af(i.cp1x,e.left,e.right),i.cp1y=af(i.cp1y,e.top,e.bottom)),u&&(i.cp2x=af(i.cp2x,e.left,e.right),i.cp2y=af(i.cp2y,e.top,e.bottom)))}function qL(n,e,t,s,i){let a,l,u,d;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")HL(n,i);else{let f=s?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],d=BL(f,u,n[Math.min(a+1,l-(s?0:1))%l],e.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}e.capBezierPoints&&GL(n,t)}function Tx(){return typeof window<"u"&&typeof document<"u"}function Sx(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function sm(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const jm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function WL(n,e){return jm(n).getPropertyValue(e)}const YL=["top","right","bottom","left"];function xo(n,e,t){const s={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=YL[i];s[a]=parseFloat(n[e+"-"+a+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const KL=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function XL(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:i,offsetY:a}=s;let l=!1,u,d;if(KL(i,a,n.target))u=i,d=a;else{const f=e.getBoundingClientRect();u=s.clientX-f.left,d=s.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function co(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,i=jm(t),a=i.boxSizing==="border-box",l=xo(i,"padding"),u=xo(i,"border","width"),{x:d,y:f,box:g}=XL(n,t),x=l.left+(g&&u.left),b=l.top+(g&&u.top);let{width:E,height:S}=e;return a&&(E-=l.width+u.width,S-=l.height+u.height),{x:Math.round((d-x)/E*t.width/s),y:Math.round((f-b)/S*t.height/s)}}function QL(n,e,t){let s,i;if(e===void 0||t===void 0){const a=n&&Sx(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=jm(a),d=xo(u,"border","width"),f=xo(u,"padding");e=l.width-f.width-d.width,t=l.height-f.height-d.height,s=sm(u.maxWidth,a,"clientWidth"),i=sm(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:s||tm,maxHeight:i||tm}}const ua=n=>Math.round(n*10)/10;function JL(n,e,t,s){const i=jm(n),a=xo(i,"margin"),l=sm(i.maxWidth,n,"clientWidth")||tm,u=sm(i.maxHeight,n,"clientHeight")||tm,d=QL(n,e,t);let{width:f,height:g}=d;if(i.boxSizing==="content-box"){const b=xo(i,"border","width"),E=xo(i,"padding");f-=E.width+b.width,g-=E.height+b.height}return f=Math.max(0,f-a.width),g=Math.max(0,s?f/s:g-a.height),f=ua(Math.min(f,l,d.maxWidth)),g=ua(Math.min(g,u,d.maxHeight)),f&&!g&&(g=ua(f/2)),(e!==void 0||t!==void 0)&&s&&d.height&&g>d.height&&(g=d.height,f=ua(Math.floor(g*s))),{width:f,height:g}}function h2(n,e,t){const s=e||1,i=ua(n.height*s),a=ua(n.width*s);n.height=ua(n.height),n.width=ua(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||l.height!==i||l.width!==a?(n.currentDevicePixelRatio=s,l.height=i,l.width=a,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const ZL=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Tx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function f2(n,e){const t=WL(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function uo(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function e9(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function t9(n,e,t,s){const i={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},l=uo(n,i,t),u=uo(i,a,t),d=uo(a,e,t),f=uo(l,u,t),g=uo(u,d,t);return uo(f,g,t)}const n9=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},s9=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Pl(n,e,t){return n?n9(e,t):s9()}function YN(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function KN(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function XN(n){return n==="angle"?{between:MN,compare:eL,normalize:Ei}:{between:Rl,compare:(e,t)=>e-t,normalize:e=>e}}function m2({start:n,end:e,count:t,loop:s,style:i}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:i}}function i9(n,e,t){const{property:s,start:i,end:a}=t,{between:l,normalize:u}=XN(s),d=e.length;let{start:f,end:g,loop:x}=n,b,E;if(x){for(f+=d,g+=d,b=0,E=d;b<E&&l(u(e[f%d][s]),i,a);++b)f--,g--;f%=d,g%=d}return g<f&&(g+=d),{start:f,end:g,loop:x,style:n.style}}function QN(n,e,t){if(!t)return[n];const{property:s,start:i,end:a}=t,l=e.length,{compare:u,between:d,normalize:f}=XN(s),{start:g,end:x,loop:b,style:E}=i9(n,e,t),S=[];let w=!1,T=null,k,I,M;const z=()=>d(i,M,k)&&u(i,M)!==0,B=()=>u(a,k)===0||d(a,M,k),$=()=>w||z(),A=()=>!w||B();for(let R=g,j=g;R<=x;++R)I=e[R%l],!I.skip&&(k=f(I[s]),k!==M&&(w=d(k,i,a),T===null&&$()&&(T=u(k,i)===0?R:j),T!==null&&A()&&(S.push(m2({start:T,end:R,loop:b,count:l,style:E})),T=null),j=R,M=k));return T!==null&&S.push(m2({start:T,end:x,loop:b,count:l,style:E})),S}function JN(n,e){const t=[],s=n.segments;for(let i=0;i<s.length;i++){const a=QN(s[i],n.points,e);a.length&&t.push(...a)}return t}function r9(n,e,t,s){let i=0,a=e-1;if(t&&!s)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(a+=i);a>i&&n[a%e].skip;)a--;return a%=e,{start:i,end:a}}function a9(n,e,t,s){const i=n.length,a=[];let l=e,u=n[e],d;for(d=e+1;d<=t;++d){const f=n[d%i];f.skip||f.stop?u.skip||(s=!1,a.push({start:e%i,end:(d-1)%i,loop:s}),e=l=f.stop?d:null):(l=d,u.skip&&(e=d)),u=f}return l!==null&&a.push({start:e%i,end:l%i,loop:s}),a}function o9(n,e){const t=n.points,s=n.options.spanGaps,i=t.length;if(!i)return[];const a=!!n._loop,{start:l,end:u}=r9(t,i,a,s);if(s===!0)return p2(n,[{start:l,end:u,loop:a}],t,e);const d=u<l?u+i:u,f=!!n._fullLoop&&l===0&&u===i-1;return p2(n,a9(t,l,d,f),t,e)}function p2(n,e,t,s){return!s||!s.setContext||!t?e:l9(n,e,t,s)}function l9(n,e,t,s){const i=n._chart.getContext(),a=g2(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=t.length,f=[];let g=a,x=e[0].start,b=x;function E(S,w,T,k){const I=u?-1:1;if(S!==w){for(S+=d;t[S%d].skip;)S-=I;for(;t[w%d].skip;)w+=I;S%d!==w%d&&(f.push({start:S%d,end:w%d,loop:T,style:k}),g=k,x=w%d)}}for(const S of e){x=u?x:S.start;let w=t[x%d],T;for(b=x+1;b<=S.end;b++){const k=t[b%d];T=g2(s.setContext(Ro(i,{type:"segment",p0:w,p1:k,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:l}))),c9(T,g)&&E(x,b-1,S.loop,g),w=k,g=T}x<b-1&&E(x,b-1,S.loop,g)}return f}function g2(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function c9(n,e){if(!e)return!1;const t=[],s=function(i,a){return vx(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,s)!==JSON.stringify(e,s)}function of(n,e,t){return n.options.clip?n[t]:e[t]}function u9(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:of(t,e,"left"),right:of(t,e,"right"),top:of(s,e,"top"),bottom:of(s,e,"bottom")}:e}function ZN(n,e){const t=e._clip;if(t.disabled)return!1;const s=u9(e,n.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class d9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,i){const a=t.listeners[i],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(s-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=PN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const a=s.items;let l=a.length-1,u=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,s,e,"progress")),a.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ar=new d9;const y2="transparent",h9={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=a2(n||y2),i=s.valid&&a2(e||y2);return i&&i.valid?i.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class f9{constructor(e,t,s,i){const a=t[s];i=rf([e.to,i,a,e.from]);const l=rf([e.from,a,i]);this._active=!0,this._fn=e.fn||h9[e.type||typeof l],this._easing=Pu[e.easing]||Pu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const i=this._target[this._prop],a=s-this._start,l=this._duration-a;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=rf([e.to,t,i,e.from]),this._from=rf([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,i=this._prop,a=this._from,l=this._loop,u=this._to;let d;if(this._active=a!==u&&(l||t<s),!this._active){this._target[i]=u,this._notify(!0);return}if(t<0){this._target[i]=a;return}d=t/s%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[i]=this._fn(a,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][t]()}}class eA{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!xt(e))return;const t=Object.keys(en.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!xt(a))return;const l={};for(const u of t)l[u]=a[u];(Tn(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!s.has(u))&&s.set(u,l)})})}_animateOptions(e,t){const s=t.options,i=p9(e,s);if(!i)return[];const a=this._createAnimations(i,s);return s.$shared&&m9(e.options.$animations,s).then(()=>{e.options=s},()=>{}),a}_createAnimations(e,t){const s=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const g=t[f];let x=a[f];const b=s.get(f);if(x)if(b&&x.active()){x.update(b,g,u);continue}else x.cancel();if(!b||!b.duration){e[f]=g;continue}a[f]=x=new f9(b,e,f,g),i.push(x)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return ar.add(this._chart,s),!0}}function m9(n,e){const t=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const a=n[s[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function p9(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function x2(n,e){const t=n&&n.options||{},s=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:s?a:i,end:s?i:a}}function g9(n,e,t){if(t===!1)return!1;const s=x2(n,t),i=x2(e,t);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function y9(n){let e,t,s,i;return xt(n)?(e=n.top,t=n.right,s=n.bottom,i=n.left):e=t=s=i=n,{top:e,right:t,bottom:s,left:i,disabled:n===!1}}function tA(n,e){const t=[],s=n._getSortedDatasetMetas(e);let i,a;for(i=0,a=s.length;i<a;++i)t.push(s[i].index);return t}function b2(n,e,t,s={}){const i=n.keys,a=s.mode==="single";let l,u,d,f;if(e===null)return;let g=!1;for(l=0,u=i.length;l<u;++l){if(d=+i[l],d===t){if(g=!0,s.all)continue;break}f=n.values[d],$n(f)&&(a||e===0||ql(e)===ql(f))&&(e+=f)}return!g&&!s.all?0:e}function x9(n,e){const{iScale:t,vScale:s}=e,i=t.axis==="x"?"x":"y",a=s.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,g;for(d=0,f=l.length;d<f;++d)g=l[d],u[d]={[i]:g,[a]:n[g]};return u}function c0(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function b9(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function v9(n){const{min:e,max:t,minDefined:s,maxDefined:i}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function _9(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function v2(n,e,t,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const a=n[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function _2(n,e){const{chart:t,_cachedMeta:s}=n,i=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=s,d=a.axis,f=l.axis,g=b9(a,l,s),x=e.length;let b;for(let E=0;E<x;++E){const S=e[E],{[d]:w,[f]:T}=S,k=S._stacks||(S._stacks={});b=k[f]=_9(i,g,w),b[u]=T,b._top=v2(b,l,!0,s.type),b._bottom=v2(b,l,!1,s.type);const I=b._visualValues||(b._visualValues={});I[u]=T}}function u0(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function w9(n,e){return Ro(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function E9(n,e,t){return Ro(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function mu(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const i of e){const a=i._stacks;if(!a||a[s]===void 0||a[s][t]===void 0)return;delete a[s][t],a[s]._visualValues!==void 0&&a[s]._visualValues[t]!==void 0&&delete a[s]._visualValues[t]}}}const d0=n=>n==="reset"||n==="none",w2=(n,e)=>e?n:Object.assign({},n),T9=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:tA(t,!0),values:null};class nA{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=c0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&mu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),i=(x,b,E,S)=>x==="x"?b:x==="r"?S:E,a=t.xAxisID=ht(s.xAxisID,u0(e,"x")),l=t.yAxisID=ht(s.yAxisID,u0(e,"y")),u=t.rAxisID=ht(s.rAxisID,u0(e,"r")),d=t.indexAxis,f=t.iAxisID=i(d,a,l,u),g=t.vAxisID=i(d,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&s2(this._data,this),e._stacked&&mu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(xt(t)){const i=this._cachedMeta;this._data=x9(t,i)}else if(s!==t){if(s){s2(s,this);const i=this._cachedMeta;mu(i),i._parsed=[]}t&&Object.isExtensible(t)&&iL(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=c0(t.vScale,t),t.stack!==s.stack&&(i=!0,mu(t),t.stack=s.stack),this._resyncElements(e),(i||a!==t._stacked)&&(_2(this,t._parsed),t._stacked=c0(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:i}=this,{iScale:a,_stacked:l}=s,u=a.axis;let d=e===0&&t===i.length?!0:s._sorted,f=e>0&&s._parsed[e-1],g,x,b;if(this._parsing===!1)s._parsed=i,s._sorted=!0,b=i;else{Tn(i[e])?b=this.parseArrayData(s,i,e,t):xt(i[e])?b=this.parseObjectData(s,i,e,t):b=this.parsePrimitiveData(s,i,e,t);const E=()=>x[u]===null||f&&x[u]<f[u];for(g=0;g<t;++g)s._parsed[g+e]=x=b[g],d&&(E()&&(d=!1),f=x);s._sorted=d}l&&_2(this,b)}parsePrimitiveData(e,t,s,i){const{iScale:a,vScale:l}=e,u=a.axis,d=l.axis,f=a.getLabels(),g=a===l,x=new Array(i);let b,E,S;for(b=0,E=i;b<E;++b)S=b+s,x[b]={[u]:g||a.parse(f[S],S),[d]:l.parse(t[S],S)};return x}parseArrayData(e,t,s,i){const{xScale:a,yScale:l}=e,u=new Array(i);let d,f,g,x;for(d=0,f=i;d<f;++d)g=d+s,x=t[g],u[d]={x:a.parse(x[0],g),y:l.parse(x[1],g)};return u}parseObjectData(e,t,s,i){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(i);let g,x,b,E;for(g=0,x=i;g<x;++g)b=g+s,E=t[b],f[g]={x:a.parse(Zf(E,u),b),y:l.parse(Zf(E,d),b)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const i=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:tA(i,!0),values:t._stacks[e.axis]._visualValues};return b2(u,l,a.index,{mode:s})}updateRangeFromParsed(e,t,s,i){const a=s[t.axis];let l=a===null?NaN:a;const u=i&&s._stacks[t.axis];i&&u&&(i.values=u,l=b2(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const s=this._cachedMeta,i=s._parsed,a=s._sorted&&e===s.iScale,l=i.length,u=this._getOtherScale(e),d=T9(t,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=v9(u);let b,E;function S(){E=i[b];const w=E[u.axis];return!$n(E[e.axis])||g>w||x<w}for(b=0;b<l&&!(!S()&&(this.updateRangeFromParsed(f,e,E,d),a));++b);if(a){for(b=l-1;b>=0;--b)if(!S()){this.updateRangeFromParsed(f,e,E,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i][e.axis],$n(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:s?""+s.getLabelForValue(a[s.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=y9(ht(this.options.clip,g9(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,i=s.data||[],a=t.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let g;for(s.dataset&&s.dataset.draw(e,a,u,d),g=u;g<u+d;++g){const x=i[g];x.hidden||(x.active&&f?l.push(x):x.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=E9(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=w9(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=s,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const i=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],d=this.enableOptionSharing&&em(s);if(u)return w2(u,d);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),x=i?[`${e}Hover`,"hover",e,""]:[e,""],b=f.getOptionScopes(this.getDataset(),g),E=Object.keys(en.elements[e]),S=()=>this.getContext(s,i,t),w=f.resolveNamedOptions(b,E,S,x);return w.$shared&&(w.$shared=d,a[l]=Object.freeze(w2(w,d))),w}_resolveAnimations(e,t,s){const i=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let d;if(i.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,t),b=g.getOptionScopes(this.getDataset(),x);d=g.createResolver(b,this.getContext(e,s,t))}const f=new eA(i,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||d0(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(s),l=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,s),{sharedOptions:a,includeOptions:l}}updateElement(e,t,s,i){d0(i)?Object.assign(e,s):this._resolveAnimations(t,i).update(e,s)}updateSharedOptions(e,t,s){e&&!d0(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,s,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const i=s.length,a=t.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,s=!0){const i=this._cachedMeta,a=i.data,l=e+t;let u;const d=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(d(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&d(i._parsed),this.parse(e,t),s&&this.updateElements(a,e,t,"reset")}updateElements(e,t,s,i){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,t);s._stacked&&mu(s,i)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,i]=e;this[t](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class S9 extends nA{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:i=[],_dataset:a}=t,l=this.chart._animationsDisabled;let{start:u,count:d}=lL(t,i,l);this._drawStart=u,this._drawCount=d,cL(t)&&(u=0,d=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=i;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:f},e),this.updateElements(i,u,d,e)}updateElements(e,t,s,i){const a=i==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(t,i),b=l.axis,E=u.axis,{spanGaps:S,segment:w}=this.options,T=Zu(S)?S:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||i==="none",I=t+s,M=e.length;let z=t>0&&this.getParsed(t-1);for(let B=0;B<M;++B){const $=e[B],A=k?$:{};if(B<t||B>=I){A.skip=!0;continue}const R=this.getParsed(B),j=Pt(R[E]),P=A[b]=l.getPixelForValue(R[b],B),V=A[E]=a||j?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,R,d):R[E],B);A.skip=isNaN(P)||isNaN(V)||j,A.stop=B>0&&Math.abs(R[b]-z[b])>T,w&&(A.parsed=R,A.raw=f.data[B]),x&&(A.options=g||this.resolveDataElementOptions(B,$.active?"active":i)),k||this.updateElement($,B,A,i),z=R}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ao(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Nx{static override(e){Object.assign(Nx.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ao()}parse(){return ao()}format(){return ao()}add(){return ao()}diff(){return ao()}startOf(){return ao()}endOf(){return ao()}}var N9={_date:Nx};function A9(n,e,t,s){const{controller:i,data:a,_sorted:l}=n,u=i._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?nL:po;if(s){if(i._sharedOptions){const g=a[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const b=f(a,e,t-x),E=f(a,e,t+x);return{lo:b.lo,hi:E.hi}}}}else{const g=f(a,e,t);if(d){const{vScale:x}=i._cachedMeta,{_parsed:b}=n,E=b.slice(0,g.lo+1).reverse().findIndex(w=>!Pt(w[x.axis]));g.lo-=Math.max(0,E);const S=b.slice(g.hi).findIndex(w=>!Pt(w[x.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:a.length-1}}function Im(n,e,t,s,i){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,d=a.length;u<d;++u){const{index:f,data:g}=a[u],{lo:x,hi:b}=A9(a[u],e,l,i);for(let E=x;E<=b;++E){const S=g[E];S.skip||s(S,f,E)}}}function C9(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,i){const a=e?Math.abs(s.x-i.x):0,l=t?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function h0(n,e,t,s,i){const a=[];return!i&&!n.isPointInArea(e)||Im(n,t,e,function(u,d,f){!i&&!ed(u,n.chartArea,0)||u.inRange(e.x,e.y,s)&&a.push({element:u,datasetIndex:d,index:f})},!0),a}function k9(n,e,t,s){let i=[];function a(l,u,d){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],s),{angle:x}=ZP(l,{x:e.x,y:e.y});MN(x,f,g)&&i.push({element:l,datasetIndex:u,index:d})}return Im(n,t,e,a),i}function R9(n,e,t,s,i,a){let l=[];const u=C9(t);let d=Number.POSITIVE_INFINITY;function f(g,x,b){const E=g.inRange(e.x,e.y,i);if(s&&!E)return;const S=g.getCenterPoint(i);if(!(!!a||n.isPointInArea(S))&&!E)return;const T=u(e,S);T<d?(l=[{element:g,datasetIndex:x,index:b}],d=T):T===d&&l.push({element:g,datasetIndex:x,index:b})}return Im(n,t,e,f),l}function f0(n,e,t,s,i,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!s?k9(n,e,t,i):R9(n,e,t,s,i,a)}function E2(n,e,t,s,i){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Im(n,t,e,(d,f,g)=>{d[l]&&d[l](e[t],i)&&(a.push({element:d,datasetIndex:f,index:g}),u=u||d.inRange(e.x,e.y,i))}),s&&!u?[]:a}var j9={modes:{index(n,e,t,s){const i=co(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?h0(n,i,a,s,l):f0(n,i,a,!1,s,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,x=f.data[g];x&&!x.skip&&d.push({element:x,datasetIndex:f.index,index:g})}),d):[]},dataset(n,e,t,s){const i=co(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?h0(n,i,a,s,l):f0(n,i,a,!1,s,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:d,index:g})}return u},point(n,e,t,s){const i=co(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return h0(n,i,a,s,l)},nearest(n,e,t,s){const i=co(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return f0(n,i,a,t.intersect,s,l)},x(n,e,t,s){const i=co(e,n);return E2(n,i,"x",t.intersect,s)},y(n,e,t,s){const i=co(e,n);return E2(n,i,"y",t.intersect,s)}}};const sA=["left","top","right","bottom"];function pu(n,e){return n.filter(t=>t.pos===e)}function T2(n,e){return n.filter(t=>sA.indexOf(t.pos)===-1&&t.box.axis===e)}function gu(n,e){return n.sort((t,s)=>{const i=e?s:t,a=e?t:s;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function I9(n){const e=[];let t,s,i,a,l,u;for(t=0,s=(n||[]).length;t<s;++t)i=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:u});return e}function D9(n){const e={};for(const t of n){const{stack:s,pos:i,stackWeight:a}=t;if(!s||!sA.includes(i))continue;const l=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function M9(n,e){const t=D9(n),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:d}=u.box,f=t[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*s:d&&e.availableWidth,u.height=i):(u.width=s,u.height=g?g*i:d&&e.availableHeight)}return t}function O9(n){const e=I9(n),t=gu(e.filter(f=>f.box.fullSize),!0),s=gu(pu(e,"left"),!0),i=gu(pu(e,"right")),a=gu(pu(e,"top"),!0),l=gu(pu(e,"bottom")),u=T2(e,"x"),d=T2(e,"y");return{fullSize:t,leftAndTop:s.concat(a),rightAndBottom:i.concat(d).concat(l).concat(u),chartArea:pu(e,"chartArea"),vertical:s.concat(i).concat(d),horizontal:a.concat(l).concat(u)}}function S2(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function iA(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function P9(n,e,t,s){const{pos:i,box:a}=t,l=n.maxPadding;if(!xt(i)){t.size&&(n[i]-=t.size);const x=s[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?a.height:a.width),t.size=x.size/x.count,n[i]+=t.size}a.getPadding&&iA(l,a.getPadding());const u=Math.max(0,e.outerWidth-S2(l,n,"left","right")),d=Math.max(0,e.outerHeight-S2(l,n,"top","bottom")),f=u!==n.w,g=d!==n.h;return n.w=u,n.h=d,t.horizontal?{same:f,other:g}:{same:g,other:f}}function L9(n){const e=n.maxPadding;function t(s){const i=Math.max(e[s]-n[s],0);return n[s]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function V9(n,e){const t=e.maxPadding;function s(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return s(n?["left","right"]:["top","bottom"])}function Nu(n,e,t,s){const i=[];let a,l,u,d,f,g;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],d=u.box,d.update(u.width||e.w,u.height||e.h,V9(u.horizontal,e));const{same:x,other:b}=P9(e,t,u,s);f|=x&&i.length,g=g||b,d.fullSize||i.push(u)}return f&&Nu(i,e,t,s)||g}function lf(n,e,t,s,i){n.top=t,n.left=e,n.right=e+s,n.bottom=t+i,n.width=s,n.height=i}function N2(n,e,t,s){const i=t.padding;let{x:a,y:l}=e;for(const u of n){const d=u.box,f=s[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const x=e.w*g,b=f.size||d.height;em(f.start)&&(l=f.start),d.fullSize?lf(d,i.left,l,t.outerWidth-i.right-i.left,b):lf(d,e.left+f.placed,l,x,b),f.start=l,f.placed+=x,l=d.bottom}else{const x=e.h*g,b=f.size||d.width;em(f.start)&&(a=f.start),d.fullSize?lf(d,a,i.top,b,t.outerHeight-i.bottom-i.top):lf(d,a,e.top+f.placed,b,x),f.start=a,f.placed+=x,a=d.right}}e.x=a,e.y=l}var da={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const i=ei(n.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(t-i.height,0),u=O9(n.boxes),d=u.vertical,f=u.horizontal;Nt(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const g=d.reduce((w,T)=>T.box.options&&T.box.options.display===!1?w:w+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),b=Object.assign({},i);iA(b,ei(s));const E=Object.assign({maxPadding:b,w:a,h:l,x:i.left,y:i.top},i),S=M9(d.concat(f),x);Nu(u.fullSize,E,x,S),Nu(d,E,x,S),Nu(f,E,x,S)&&Nu(d,E,x,S),L9(E),N2(u.leftAndTop,E,x,S),E.x+=E.w,E.y+=E.h,N2(u.rightAndBottom,E,x,S),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Nt(u.chartArea,w=>{const T=w.box;Object.assign(T,n.chartArea),T.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class rA{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,i){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):s)}}isAttached(e){return!0}updateConfig(e){}}class z9 extends rA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const kf="$chartjs",U9={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},A2=n=>n===null||n==="";function B9(n,e){const t=n.style,s=n.getAttribute("height"),i=n.getAttribute("width");if(n[kf]={initial:{height:s,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",A2(i)){const a=f2(n,"width");a!==void 0&&(n.width=a)}if(A2(s))if(n.style.height==="")n.height=n.width/(e||2);else{const a=f2(n,"height");a!==void 0&&(n.height=a)}return n}const aA=ZL?{passive:!0}:!1;function F9(n,e,t){n&&n.addEventListener(e,t,aA)}function $9(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,aA)}function H9(n,e){const t=U9[n.type]||n.type,{x:s,y:i}=co(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:i!==void 0?i:null}}function im(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function G9(n,e,t){const s=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||im(u.addedNodes,s),l=l&&!im(u.removedNodes,s);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function q9(n,e,t){const s=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||im(u.removedNodes,s),l=l&&!im(u.addedNodes,s);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const td=new Map;let C2=0;function oA(){const n=window.devicePixelRatio;n!==C2&&(C2=n,td.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function W9(n,e){td.size||window.addEventListener("resize",oA),td.set(n,e)}function Y9(n){td.delete(n),td.size||window.removeEventListener("resize",oA)}function K9(n,e,t){const s=n.canvas,i=s&&Sx(s);if(!i)return;const a=LN((u,d)=>{const f=i.clientWidth;t(u,d),f<i.clientWidth&&t()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,g=d.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(i),W9(n,a),l}function m0(n,e,t){t&&t.disconnect(),e==="resize"&&Y9(n)}function X9(n,e,t){const s=n.canvas,i=LN(a=>{n.ctx!==null&&t(H9(a,n))},n);return F9(s,e,i),i}class Q9 extends rA{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(B9(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[kf])return!1;const s=t[kf].initial;["height","width"].forEach(a=>{const l=s[a];Pt(l)?t.removeAttribute(a):t.setAttribute(a,l)});const i=s.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[kf],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:G9,detach:q9,resize:K9}[t]||X9;i[t]=l(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),i=s[t];if(!i)return;({attach:m0,detach:m0,resize:m0}[t]||$9)(e,t,i),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,i){return JL(e,t,s,i)}isAttached(e){const t=e&&Sx(e);return!!(t&&t.isConnected)}}function J9(n){return!Tx()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?z9:Q9}class cc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return Zu(this.x)&&Zu(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const i={};return e.forEach(a=>{i[a]=s[a]&&s[a].active()?s[a]._to:this[a]}),i}}function Z9(n,e){const t=n.options.ticks,s=eV(n),i=Math.min(t.maxTicksLimit||s,s),a=t.major.enabled?nV(e):[],l=a.length,u=a[0],d=a[l-1],f=[];if(l>i)return sV(e,f,a,l/i),f;const g=tV(a,e,i);if(l>0){let x,b;const E=l>1?Math.round((d-u)/(l-1)):null;for(cf(e,f,g,Pt(E)?0:u-E,u),x=0,b=l-1;x<b;x++)cf(e,f,g,a[x],a[x+1]);return cf(e,f,g,d,Pt(E)?e.length:d+E),f}return cf(e,f,g),f}function eV(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(s,i))}function tV(n,e,t){const s=iV(n),i=e.length/t;if(!s)return Math.max(i,1);const a=YP(s);for(let l=0,u=a.length-1;l<u;l++){const d=a[l];if(d>i)return d}return Math.max(i,1)}function nV(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function sV(n,e,t,s){let i=0,a=t[0],l;for(s=Math.ceil(s),l=0;l<n.length;l++)l===a&&(e.push(n[l]),i++,a=t[i*s])}function cf(n,e,t,s,i){const a=ht(s,0),l=Math.min(ht(i,n.length),n.length);let u=0,d,f,g;for(t=Math.ceil(t),i&&(d=i-s,t=d/Math.floor(d/t)),g=a;g<0;)u++,g=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===g&&(e.push(n[f]),u++,g=Math.round(a+u*t))}function iV(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const rV=n=>n==="left"?"right":n==="right"?"left":n,k2=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,R2=(n,e)=>Math.min(e||n,n);function j2(n,e){const t=[],s=n.length/e,i=n.length;let a=0;for(;a<i;a+=s)t.push(n[Math.floor(a)]);return t}function aV(n,e,t){const s=n.ticks.length,i=Math.min(e,s-1),a=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(i),f;if(!(t&&(s===1?f=Math.max(d-a,l-d):e===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(i-1))/2,d+=i<e?f:-f,d<a-u||d>l+u)))return d}function oV(n,e){Nt(n,t=>{const s=t.gc,i=s.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[s[a]];s.splice(0,i)}})}function yu(n){return n.drawTicks?n.tickLength:0}function I2(n,e){if(!n.display)return 0;const t=is(n.font,e),s=ei(n.padding);return(Tn(n.text)?n.text.length:1)*t.lineHeight+s.height}function lV(n,e){return Ro(n,{scale:e,type:"scale"})}function cV(n,e,t){return Ro(n,{tick:t,index:e,type:"tick"})}function uV(n,e,t){let s=VN(n);return(t&&e!=="right"||!t&&e==="right")&&(s=rV(s)),s}function dV(n,e,t,s){const{top:i,left:a,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:g}=d;let x=0,b,E,S;const w=l-i,T=u-a;if(n.isHorizontal()){if(E=ys(s,a,u),xt(t)){const k=Object.keys(t)[0],I=t[k];S=g[k].getPixelForValue(I)+w-e}else t==="center"?S=(f.bottom+f.top)/2+w-e:S=k2(n,t,e);b=u-a}else{if(xt(t)){const k=Object.keys(t)[0],I=t[k];E=g[k].getPixelForValue(I)-T+e}else t==="center"?E=(f.left+f.right)/2-T+e:E=k2(n,t,e);S=ys(s,l,i),x=t==="left"?-Xs:Xs}return{titleX:E,titleY:S,maxWidth:b,rotation:x}}class uc extends cc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:i}=this;return e=bi(e,Number.POSITIVE_INFINITY),t=bi(t,Number.NEGATIVE_INFINITY),s=bi(s,Number.POSITIVE_INFINITY),i=bi(i,Number.NEGATIVE_INFINITY),{min:bi(e,s),max:bi(t,i),minDefined:$n(e),maxDefined:$n(t)}}getMinMax(e){let{min:t,max:s,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:t,max:s};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),a||(s=Math.max(s,l.max));return t=a&&t>s?s:t,s=i&&t>s?t:s,{min:bi(t,bi(s,t)),max:bi(s,bi(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lt(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:i,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=RL(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?j2(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Z9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lt(this.options.afterUpdate,[this])}beforeSetDimensions(){Lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,i,a;for(s=0,i=e.length;s<i;s++)a=e[s],a.label=Lt(t.callback,[a.value,s,e],this)}afterTickToLabelConversion(){Lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=R2(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let l=i,u,d,f;if(!this._isVisible()||!t.display||i>=a||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),x=g.widest.width,b=g.highest.height,E=Ps(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/s:E/(s-1),x+6>u&&(u=E/(s-(e.offset?.5:1)),d=this.maxHeight-yu(e.grid)-t.padding-I2(e.title,this.chart.options.font),f=Math.sqrt(x*x+b*b),l=JP(Math.min(Math.asin(Ps((g.highest.height+6)/u,-1,1)),Math.asin(Ps(d/f,-1,1))-Math.asin(Ps(b/f,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:i,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=I2(i,t.options.font);if(u?(e.width=this.maxWidth,e.height=yu(a)+d):(e.height=this.maxHeight,e.width=yu(a)+d),s.display&&this.ticks.length){const{first:f,last:g,widest:x,highest:b}=this._getLabelSizes(),E=s.padding*2,S=mo(this.labelRotation),w=Math.cos(S),T=Math.sin(S);if(u){const k=s.mirror?0:T*x.width+w*b.height;e.height=Math.min(this.maxHeight,e.height+k+E)}else{const k=s.mirror?0:w*x.width+T*b.height;e.width=Math.min(this.maxWidth,e.width+k+E)}this._calculatePadding(f,g,T,w)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,i){const{ticks:{align:a,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,E=0;d?f?(b=i*e.width,E=s*t.height):(b=s*e.height,E=i*t.width):a==="start"?E=t.width:a==="end"?b=e.width:a!=="inner"&&(b=e.width/2,E=t.width/2),this.paddingLeft=Math.max((b-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((E-x+l)*this.width/(this.width-x),0)}else{let g=t.height/2,x=e.height/2;a==="start"?(g=0,x=e.height):a==="end"&&(g=t.height,x=0),this.paddingTop=g+l,this.paddingBottom=x+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Pt(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=j2(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:i,_longestTextCache:a}=this,l=[],u=[],d=Math.floor(t/R2(t,s));let f=0,g=0,x,b,E,S,w,T,k,I,M,z,B;for(x=0;x<t;x+=d){if(S=e[x].label,w=this._resolveTickFontOptions(x),i.font=T=w.string,k=a[T]=a[T]||{data:{},gc:[]},I=w.lineHeight,M=z=0,!Pt(S)&&!Tn(S))M=l2(i,k.data,k.gc,M,S),z=I;else if(Tn(S))for(b=0,E=S.length;b<E;++b)B=S[b],!Pt(B)&&!Tn(B)&&(M=l2(i,k.data,k.gc,M,B),z+=I);l.push(M),u.push(z),f=Math.max(M,f),g=Math.max(z,g)}oV(a,t);const $=l.indexOf(f),A=u.indexOf(g),R=j=>({width:l[j]||0,height:u[j]||0});return{first:R(0),last:R(t-1),widest:R($),highest:R(A),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return tL(this._alignToPixels?ro(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=cV(this.getContext(),e,s))}return this.$context||(this.$context=lV(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=mo(this.labelRotation),s=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*s>u*i?u/s:d/i:d*i<u*s?d/s:u/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,i=this.options,{grid:a,position:l,border:u}=i,d=a.offset,f=this.isHorizontal(),x=this.ticks.length+(d?1:0),b=yu(a),E=[],S=u.setContext(this.getContext()),w=S.display?S.width:0,T=w/2,k=function(W){return ro(s,W,w)};let I,M,z,B,$,A,R,j,P,V,U,L;if(l==="top")I=k(this.bottom),A=this.bottom-b,j=I-T,V=k(e.top)+T,L=e.bottom;else if(l==="bottom")I=k(this.top),V=e.top,L=k(e.bottom)-T,A=I+T,j=this.top+b;else if(l==="left")I=k(this.right),$=this.right-b,R=I-T,P=k(e.left)+T,U=e.right;else if(l==="right")I=k(this.left),P=e.left,U=k(e.right)-T,$=I+T,R=this.left+b;else if(t==="x"){if(l==="center")I=k((e.top+e.bottom)/2+.5);else if(xt(l)){const W=Object.keys(l)[0],ae=l[W];I=k(this.chart.scales[W].getPixelForValue(ae))}V=e.top,L=e.bottom,A=I+T,j=A+b}else if(t==="y"){if(l==="center")I=k((e.left+e.right)/2);else if(xt(l)){const W=Object.keys(l)[0],ae=l[W];I=k(this.chart.scales[W].getPixelForValue(ae))}$=I-T,R=$-b,P=e.left,U=e.right}const ge=ht(i.ticks.maxTicksLimit,x),ue=Math.max(1,Math.ceil(x/ge));for(M=0;M<x;M+=ue){const W=this.getContext(M),ae=a.setContext(W),we=u.setContext(W),Ae=ae.lineWidth,G=ae.color,ee=we.dash||[],fe=we.dashOffset,re=ae.tickWidth,pe=ae.tickColor,xe=ae.tickBorderDash||[],ye=ae.tickBorderDashOffset;z=aV(this,M,d),z!==void 0&&(B=ro(s,z,Ae),f?$=R=P=U=B:A=j=V=L=B,E.push({tx1:$,ty1:A,tx2:R,ty2:j,x1:P,y1:V,x2:U,y2:L,width:Ae,color:G,borderDash:ee,borderDashOffset:fe,tickWidth:re,tickColor:pe,tickBorderDash:xe,tickBorderDashOffset:ye}))}return this._ticksLength=x,this._borderValue=I,E}_computeLabelItems(e){const t=this.axis,s=this.options,{position:i,ticks:a}=s,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:g,mirror:x}=a,b=yu(s.grid),E=b+g,S=x?-g:E,w=-mo(this.labelRotation),T=[];let k,I,M,z,B,$,A,R,j,P,V,U,L="middle";if(i==="top")$=this.bottom-S,A=this._getXAxisLabelAlignment();else if(i==="bottom")$=this.top+S,A=this._getXAxisLabelAlignment();else if(i==="left"){const ue=this._getYAxisLabelAlignment(b);A=ue.textAlign,B=ue.x}else if(i==="right"){const ue=this._getYAxisLabelAlignment(b);A=ue.textAlign,B=ue.x}else if(t==="x"){if(i==="center")$=(e.top+e.bottom)/2+E;else if(xt(i)){const ue=Object.keys(i)[0],W=i[ue];$=this.chart.scales[ue].getPixelForValue(W)+E}A=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")B=(e.left+e.right)/2-E;else if(xt(i)){const ue=Object.keys(i)[0],W=i[ue];B=this.chart.scales[ue].getPixelForValue(W)}A=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(d==="start"?L="top":d==="end"&&(L="bottom"));const ge=this._getLabelSizes();for(k=0,I=u.length;k<I;++k){M=u[k],z=M.label;const ue=a.setContext(this.getContext(k));R=this.getPixelForTick(k)+a.labelOffset,j=this._resolveTickFontOptions(k),P=j.lineHeight,V=Tn(z)?z.length:1;const W=V/2,ae=ue.color,we=ue.textStrokeColor,Ae=ue.textStrokeWidth;let G=A;l?(B=R,A==="inner"&&(k===I-1?G=this.options.reverse?"left":"right":k===0?G=this.options.reverse?"right":"left":G="center"),i==="top"?f==="near"||w!==0?U=-V*P+P/2:f==="center"?U=-ge.highest.height/2-W*P+P:U=-ge.highest.height+P/2:f==="near"||w!==0?U=P/2:f==="center"?U=ge.highest.height/2-W*P:U=ge.highest.height-V*P,x&&(U*=-1),w!==0&&!ue.showLabelBackdrop&&(B+=P/2*Math.sin(w))):($=R,U=(1-V)*P/2);let ee;if(ue.showLabelBackdrop){const fe=ei(ue.backdropPadding),re=ge.heights[k],pe=ge.widths[k];let xe=U-fe.top,ye=0-fe.left;switch(L){case"middle":xe-=re/2;break;case"bottom":xe-=re;break}switch(A){case"center":ye-=pe/2;break;case"right":ye-=pe;break;case"inner":k===I-1?ye-=pe:k>0&&(ye-=pe/2);break}ee={left:ye,top:xe,width:pe+fe.width,height:re+fe.height,color:ue.backdropColor}}T.push({label:z,font:j,textOffset:U,options:{rotation:w,color:ae,strokeColor:we,strokeWidth:Ae,textAlign:G,textBaseline:L,translation:[B,$],backdrop:ee}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-mo(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,d=l.widest.width;let f,g;return t==="left"?i?(g=this.right+a,s==="near"?f="left":s==="center"?(f="center",g+=d/2):(f="right",g+=d)):(g=this.right-u,s==="near"?f="right":s==="center"?(f="center",g-=d/2):(f="left",g=this.left)):t==="right"?i?(g=this.left+a,s==="near"?f="right":s==="center"?(f="center",g-=d/2):(f="left",g-=d)):(g=this.left+u,s==="near"?f="left":s==="center"?(f="center",g+=d/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:i,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,i,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(d,f,g)=>{!g.width||!g.color||(s.save(),s.lineWidth=g.width,s.strokeStyle=g.color,s.setLineDash(g.borderDash||[]),s.lineDashOffset=g.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(t.display)for(a=0,l=i.length;a<l;++a){const d=i[a];t.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:i}}=this,a=s.setContext(this.getContext()),l=s.display?a.width:0;if(!l)return;const u=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,g,x,b;this.isHorizontal()?(f=ro(e,this.left,l)-l/2,g=ro(e,this.right,u)+u/2,x=b=d):(x=ro(e,this.top,l)-l/2,b=ro(e,this.bottom,u)+u/2,f=g=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,x),t.lineTo(g,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&km(s,i);const a=this.getLabelItems(e);for(const l of a){const u=l.options,d=l.font,f=l.label,g=l.textOffset;nm(s,f,0,g,d,u)}i&&Rm(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:i}}=this;if(!s.display)return;const a=is(s.font),l=ei(s.padding),u=s.align;let d=a.lineHeight/2;t==="bottom"||t==="center"||xt(t)?(d+=l.bottom,Tn(s.text)&&(d+=a.lineHeight*(s.text.length-1))):d+=l.top;const{titleX:f,titleY:g,maxWidth:x,rotation:b}=dV(this,d,t,u);nm(e,s.text,0,0,a,{color:s.color,maxWidth:x,rotation:b,textAlign:uV(u,t,i),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=ht(e.grid&&e.grid.z,-1),i=ht(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==uc.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:s,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[s]===this.id&&(!e||u.type===e)&&i.push(u)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return is(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class uf{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;mV(t)&&(s=this.register(t));const i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,hV(e,l,s),this.override&&en.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,i=this.scope;s in t&&delete t[s],i&&s in en[i]&&(delete en[i][s],this.override&&delete So[s])}}function hV(n,e,t){const s=Ju(Object.create(null),[t?en.get(t):{},en.get(e),n.defaults]);en.set(e,s),n.defaultRoutes&&fV(e,n.defaultRoutes),n.descriptors&&en.describe(e,n.descriptors)}function fV(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),i=s.pop(),a=[n].concat(s).join("."),l=e[t].split("."),u=l.pop(),d=l.join(".");en.route(a,i,d,u)})}function mV(n){return"id"in n&&"defaults"in n}class pV{constructor(){this.controllers=new uf(nA,"datasets",!0),this.elements=new uf(cc,"elements"),this.plugins=new uf(Object,"plugins"),this.scales=new uf(uc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(i=>{const a=s||this._getRegistryForType(i);s||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Nt(i,l=>{const u=s||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,s){const i=xx(e);Lt(s["before"+i],[],s),t[e](s),Lt(s["after"+i],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var _i=new pV;class gV{constructor(){this._init=void 0}notify(e,t,s,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,t,s);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,s,i){i=i||{};for(const a of e){const l=a.plugin,u=l[s],d=[t,i,a.options];if(Lt(u,d,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,i=ht(s.options&&s.options.plugins,{}),a=yV(s);return i===!1&&!t?[]:bV(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,i=(a,l)=>a.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(i(t,s),e,"stop"),this._notify(i(s,t),e,"start")}}function yV(n){const e={},t=[],s=Object.keys(_i.plugins.items);for(let a=0;a<s.length;a++)t.push(_i.getPlugin(s[a]));const i=n.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function xV(n,e){return!e&&n===!1?null:n===!0?{}:n}function bV(n,{plugins:e,localIds:t},s,i){const a=[],l=n.getContext();for(const u of e){const d=u.id,f=xV(s[d],i);f!==null&&a.push({plugin:u,options:vV(n.config,{plugin:u,local:t[d]},f,l)})}return a}function vV(n,{plugin:e,local:t},s,i){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(s,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iy(n,e){const t=en.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function _V(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function wV(n,e){return n===e?"_index_":"_value_"}function D2(n){if(n==="x"||n==="y"||n==="r")return n}function EV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ry(n,...e){if(D2(n))return n;for(const t of e){const s=t.axis||EV(t.position)||n.length>1&&D2(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function M2(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function TV(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return M2(n,"x",t[0])||M2(n,"y",t[0])}return{}}function SV(n,e){const t=So[n.type]||{scales:{}},s=e.scales||{},i=iy(n.type,e),a=Object.create(null);return Object.keys(s).forEach(l=>{const u=s[l];if(!xt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=ry(l,u,TV(l,n),en.scales[u.type]),f=wV(d,i),g=t.scales||{};a[l]=Mu(Object.create(null),[{axis:d},u,g[d],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||iy(u,e),g=(So[u]||{}).scales||{};Object.keys(g).forEach(x=>{const b=_V(x,d),E=l[b+"AxisID"]||b;a[E]=a[E]||Object.create(null),Mu(a[E],[{axis:b},s[E],g[x]])})}),Object.keys(a).forEach(l=>{const u=a[l];Mu(u,[en.scales[u.type],en.scale])}),a}function lA(n){const e=n.options||(n.options={});e.plugins=ht(e.plugins,{}),e.scales=SV(n,e)}function cA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NV(n){return n=n||{},n.data=cA(n.data),lA(n),n}const O2=new Map,uA=new Set;function df(n,e){let t=O2.get(n);return t||(t=e(),O2.set(n,t),uA.add(t)),t}const xu=(n,e,t)=>{const s=Zf(e,t);s!==void 0&&n.add(s)};let AV=class{constructor(e){this._config=NV(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=cA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),lA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return df(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return df(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return df(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return df(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let i=s.get(e);return(!i||t)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,t,s){const{options:i,type:a}=this,l=this._cachedScopes(e,s),u=l.get(t);if(u)return u;const d=new Set;t.forEach(g=>{e&&(d.add(e),g.forEach(x=>xu(d,e,x))),g.forEach(x=>xu(d,i,x)),g.forEach(x=>xu(d,So[a]||{},x)),g.forEach(x=>xu(d,en,x)),g.forEach(x=>xu(d,ty,x))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),uA.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,So[t]||{},en.datasets[t]||{},{type:t},en,ty]}resolveNamedOptions(e,t,s,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=P2(this._resolverCache,e,i);let d=l;if(kV(l,t)){a.$shared=!1,s=Sa(s)?s():s;const f=this.createResolver(e,s,u);d=Wl(l,s,f)}for(const f of t)a[f]=d[f];return a}createResolver(e,t,s=[""],i){const{resolver:a}=P2(this._resolverCache,e,s);return xt(t)?Wl(a,t,void 0,i):a}};function P2(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const i=t.join();let a=s.get(i);return a||(a={resolver:_x(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},s.set(i,a)),a}const CV=n=>xt(n)&&Object.getOwnPropertyNames(n).some(e=>Sa(n[e]));function kV(n,e){const{isScriptable:t,isIndexable:s}=$N(n);for(const i of e){const a=t(i),l=s(i),u=(l||a)&&n[i];if(a&&(Sa(u)||CV(u))||l&&Tn(u))return!0}return!1}var RV="4.5.1";const jV=["top","bottom","left","right","chartArea"];function L2(n,e){return n==="top"||n==="bottom"||jV.indexOf(n)===-1&&e==="x"}function V2(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function z2(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Lt(t&&t.onComplete,[n],e)}function IV(n){const e=n.chart,t=e.options.animation;Lt(t&&t.onProgress,[n],e)}function dA(n){return Tx()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Rf={},U2=n=>{const e=dA(n);return Object.values(Rf).filter(t=>t.canvas===e).pop()};function DV(n,e,t){const s=Object.keys(n);for(const i of s){const a=+i;if(a>=e){const l=n[i];delete n[i],(t>0||a>e)&&(n[a+t]=l)}}}function MV(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}let Dm=class{static defaults=en;static instances=Rf;static overrides=So;static registry=_i;static version=RV;static getChart=U2;static register(...e){_i.add(...e),B2()}static unregister(...e){_i.remove(...e),B2()}constructor(e,t){const s=this.config=new AV(t),i=dA(e),a=U2(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||J9(i)),this.platform.updateConfig(s);const u=this.platform.acquireContext(i,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,g=d&&d.width;if(this.id=zP(),this.ctx=u,this.canvas=d,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aL(x=>this.update(x),l.resizeDelay||0),this._dataChanges=[],Rf[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}ar.listen(this,"complete",z2),ar.listen(this,"progress",IV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:i,_aspectRatio:a}=this;return Pt(e)?t&&a?a:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():h2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return c2(this.canvas,this.ctx),this}stop(){return ar.stop(this),this}resize(e,t){ar.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,i=this.canvas,a=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,a),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,h2(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Lt(s.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Nt(t,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,i=Object.keys(s).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],d=ry(l,u),f=d==="r",g=d==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Nt(a,l=>{const u=l.options,d=u.id,f=ry(d,u),g=ht(u.type,l.dtype);(u.position===void 0||L2(u.position,f)!==L2(l.dposition))&&(u.position=l.dposition),i[d]=!0;let x=null;if(d in s&&s[d].type===g)x=s[d];else{const b=_i.getScale(g);x=new b({id:d,type:g,ctx:this.ctx,chart:this}),s[x.id]=x}x.init(u,e)}),Nt(i,(l,u)=>{l||delete s[u]}),Nt(s,l=>{da.configure(this,l,l.options),da.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((i,a)=>i.index-a.index),s>t){for(let i=t;i<s;++i)this._destroyDatasetMeta(i);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(V2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,i)=>{t.filter(a=>a===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=t.length;s<i;s++){const a=t[s];let l=this.getDatasetMeta(s);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(s),l=this.getDatasetMeta(s)),l.type=u,l.indexAxis=a.indexAxis||iy(u,this.options),l.order=a.order||0,l.index=s,l.label=""+a.label,l.visible=this.isDatasetVisible(s),l.controller)l.controller.updateIndex(s),l.controller.linkScales();else{const d=_i.getController(u),{datasetElementType:f,dataElementType:g}=en.datasets[u];Object.assign(d,{dataElementType:_i.getElement(g),datasetElementType:f&&_i.getElement(f)}),l.controller=new d(this,s),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:x}=this.getDatasetMeta(f),b=!i&&a.indexOf(x)===-1;x.buildOrUpdateElements(b),l=Math.max(+x.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),i||Nt(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(V2("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Nt(this.scales,e=>{da.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Zw(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:a}of t){const l=s==="_removeElements"?-a:a;DV(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),i=s(0);for(let a=1;a<t;a++)if(!Zw(i,s(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;da.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Nt(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Sa(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ar.has(this)?this.attached&&!ar.running(this)&&ar.start(this):(this.draw(),z2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];(!e||l.visible)&&s.push(l)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=ZN(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&km(t,i),e.controller.draw(),i&&Rm(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ed(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,i){const a=j9.modes[t];return typeof a=="function"?a(this,e,s,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let i=s.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Ro(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const i=s?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);em(t)?(a.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(a,{visible:s}),this.update(u=>u.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ar.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),c2(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Rf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},i=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Nt(this.options.events,a=>s(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},i=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{i("attach",u),this.attached=!0,this.resize(),s("resize",a),s("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),s("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Nt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Nt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const i=s?"set":"remove";let a,l,u,d;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Qf(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const i=this.options.hover,a=(d,f)=>d.filter(g=>!f.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),l=a(t,e),u=s?e:a(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const a=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(a||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:i=[],options:a}=this,l=t,u=this._getActiveElements(e,i,s,l),d=GP(e),f=MV(e,this._lastEvent,s,d);s&&(this._lastEvent=null,Lt(a.onHover,[e,u,this],this),d&&Lt(a.onClick,[e,u,this],this));const g=!Qf(u,i);return(g||t)&&(this._active=u,this._updateHoverStyles(u,i,t)),this._lastEvent=f,g}_getActiveElements(e,t,s,i){if(e.type==="mouseout")return[];if(!s)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}};function B2(){return Nt(Dm.instances,n=>n._plugins.invalidate())}function hA(n,e,t=e){n.lineCap=ht(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ht(t.borderDash,e.borderDash)),n.lineDashOffset=ht(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ht(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ht(t.borderWidth,e.borderWidth),n.strokeStyle=ht(t.borderColor,e.borderColor)}function OV(n,e,t){n.lineTo(t.x,t.y)}function PV(n){return n.stepped?vL:n.tension||n.cubicInterpolationMode==="monotone"?_L:OV}function fA(n,e,t={}){const s=n.length,{start:i=0,end:a=s-1}=t,{start:l,end:u}=e,d=Math.max(i,l),f=Math.min(a,u),g=i<l&&a<l||i>u&&a>u;return{count:s,start:d,loop:e.loop,ilen:f<d&&!g?s+f-d:f-d}}function LV(n,e,t,s){const{points:i,options:a}=e,{count:l,start:u,loop:d,ilen:f}=fA(i,t,s),g=PV(a);let{move:x=!0,reverse:b}=s||{},E,S,w;for(E=0;E<=f;++E)S=i[(u+(b?f-E:E))%l],!S.skip&&(x?(n.moveTo(S.x,S.y),x=!1):g(n,w,S,b,a.stepped),w=S);return d&&(S=i[(u+(b?f:0))%l],g(n,w,S,b,a.stepped)),!!d}function VV(n,e,t,s){const i=e.points,{count:a,start:l,ilen:u}=fA(i,t,s),{move:d=!0,reverse:f}=s||{};let g=0,x=0,b,E,S,w,T,k;const I=z=>(l+(f?u-z:z))%a,M=()=>{w!==T&&(n.lineTo(g,T),n.lineTo(g,w),n.lineTo(g,k))};for(d&&(E=i[I(0)],n.moveTo(E.x,E.y)),b=0;b<=u;++b){if(E=i[I(b)],E.skip)continue;const z=E.x,B=E.y,$=z|0;$===S?(B<w?w=B:B>T&&(T=B),g=(x*g+z)/++x):(M(),n.lineTo(z,B),S=$,x=0,w=T=B),k=B}M()}function ay(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?VV:LV}function zV(n){return n.stepped?e9:n.tension||n.cubicInterpolationMode==="monotone"?t9:uo}function UV(n,e,t,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,s)&&i.closePath()),hA(n,e.options),n.stroke(i)}function BV(n,e,t,s){const{segments:i,options:a}=e,l=ay(e);for(const u of i)hA(n,a,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const FV=typeof Path2D=="function";function $V(n,e,t,s){FV&&!e.options.segment?UV(n,e,t,s):BV(n,e,t,s)}class Mm extends cc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;qL(this._points,s,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=o9(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,i=e[t],a=this.points,l=JN(this,{property:t,start:i,end:i});if(!l.length)return;const u=[],d=zV(s);let f,g;for(f=0,g=l.length;f<g;++f){const{start:x,end:b}=l[f],E=a[x],S=a[b];if(E===S){u.push(E);continue}const w=Math.abs((i-E[t])/(S[t]-E[t])),T=d(E,S,w,s.stepped);T[t]=e[t],u.push(T)}return u.length===1?u[0]:u}pathSegment(e,t,s){return ay(this)(e,this,t,s)}path(e,t,s){const i=this.segments,a=ay(this);let l=this._loop;t=t||0,s=s||this.points.length-t;for(const u of i)l&=a(e,this,u,{start:t,end:t+s-1});return!!l}draw(e,t,s,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),$V(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function F2(n,e,t,s){const i=n.options,{[t]:a}=n.getProps([t],s);return Math.abs(e-a)<i.radius+i.hitRadius}class HV extends cc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(e-a,2)+Math.pow(t-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return F2(this,e,"x",t)}inYRange(e,t){return F2(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!ed(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,ny(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function GV(n,e,t){const s=n.segments,i=n.points,a=e.points,l=[];for(const u of s){let{start:d,end:f}=u;f=Om(d,f,i);const g=oy(t,i[d],i[f],u.loop);if(!e.segments){l.push({source:u,target:g,start:i[d],end:i[f]});continue}const x=JN(e,g);for(const b of x){const E=oy(t,a[b.start],a[b.end],b.loop),S=QN(u,i,E);for(const w of S)l.push({source:w,target:b,start:{[t]:$2(g,E,"start",Math.max)},end:{[t]:$2(g,E,"end",Math.min)}})}}return l}function oy(n,e,t,s){if(s)return;let i=e[n],a=t[n];return n==="angle"&&(i=Ei(i),a=Ei(a)),{property:n,start:i,end:a}}function qV(n,e){const{x:t=null,y:s=null}=n||{},i=e.points,a=[];return e.segments.forEach(({start:l,end:u})=>{u=Om(l,u,i);const d=i[l],f=i[u];s!==null?(a.push({x:d.x,y:s}),a.push({x:f.x,y:s})):t!==null&&(a.push({x:t,y:d.y}),a.push({x:t,y:f.y}))}),a}function Om(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function $2(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function mA(n,e){let t=[],s=!1;return Tn(n)?(s=!0,t=n):t=qV(n,e),t.length?new Mm({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function H2(n){return n&&n.fill!==!1}function WV(n,e,t){let i=n[e].fill;const a=[e];let l;if(!t)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!$n(i))return i;if(l=n[i],!l)return!1;if(l.visible)return i;a.push(i),i=l.fill}return!1}function YV(n,e,t){const s=JV(n);if(xt(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return $n(i)&&Math.floor(i)===i?KV(s[0],e,i,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function KV(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function XV(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:xt(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function QV(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:xt(n)?s=n.value:s=e.getBaseValue(),s}function JV(n){const e=n.options,t=e.fill;let s=ht(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function ZV(n){const{scale:e,index:t,line:s}=n,i=[],a=s.segments,l=s.points,u=e8(e,t);u.push(mA({x:null,y:e.bottom},s));for(let d=0;d<a.length;d++){const f=a[d];for(let g=f.start;g<=f.end;g++)t8(i,l[g],u)}return new Mm({points:i,options:{}})}function e8(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const a=s[i];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function t8(n,e,t){const s=[];for(let i=0;i<t.length;i++){const a=t[i],{first:l,last:u,point:d}=n8(a,e,"x");if(!(!d||l&&u)){if(l)s.unshift(d);else if(n.push(d),!u)break}}n.push(...s)}function n8(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const i=s[t],a=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<a.length;f++){const g=a[f],x=l[g.start][t],b=l[g.end][t];if(Rl(i,x,b)){u=i===x,d=i===b;break}}return{first:u,last:d,point:s}}class pA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:i,y:a,radius:l}=this;return t=t||{start:0,end:Qs},e.arc(i,a,l,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:i}=this,a=e.angle;return{x:t+Math.cos(a)*i,y:s+Math.sin(a)*i,angle:a}}}function s8(n){const{chart:e,fill:t,line:s}=n;if($n(t))return i8(e,t);if(t==="stack")return ZV(n);if(t==="shape")return!0;const i=r8(n);return i instanceof pA?i:mA(i,s)}function i8(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function r8(n){return(n.scale||{}).getPointPositionForValue?o8(n):a8(n)}function a8(n){const{scale:e={},fill:t}=n,s=XV(t,e);if($n(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function o8(n){const{scale:e,fill:t}=n,s=e.options,i=e.getLabels().length,a=s.reverse?e.max:e.min,l=QV(t,e,a),u=[];if(s.grid.circular){const d=e.getPointPositionForValue(0,a);return new pA({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<i;++d)u.push(e.getPointPositionForValue(d,l));return u}function p0(n,e,t){const s=s8(e),{chart:i,index:a,line:l,scale:u,axis:d}=e,f=l.options,g=f.fill,x=f.backgroundColor,{above:b=x,below:E=x}=g||{},S=i.getDatasetMeta(a),w=ZN(i,S);s&&l.points.length&&(km(n,t),l8(n,{line:l,target:s,above:b,below:E,area:t,scale:u,axis:d,clip:w}),Rm(n))}function l8(n,e){const{line:t,target:s,above:i,below:a,area:l,scale:u,clip:d}=e,f=t._loop?"angle":e.axis;n.save();let g=a;a!==i&&(f==="x"?(G2(n,s,l.top),g0(n,{line:t,target:s,color:i,scale:u,property:f,clip:d}),n.restore(),n.save(),G2(n,s,l.bottom)):f==="y"&&(q2(n,s,l.left),g0(n,{line:t,target:s,color:a,scale:u,property:f,clip:d}),n.restore(),n.save(),q2(n,s,l.right),g=i)),g0(n,{line:t,target:s,color:g,scale:u,property:f,clip:d}),n.restore()}function G2(n,e,t){const{segments:s,points:i}=e;let a=!0,l=!1;n.beginPath();for(const u of s){const{start:d,end:f}=u,g=i[d],x=i[Om(d,f,i)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(x.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function q2(n,e,t){const{segments:s,points:i}=e;let a=!0,l=!1;n.beginPath();for(const u of s){const{start:d,end:f}=u,g=i[d],x=i[Om(d,f,i)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(t,g.y),n.lineTo(g.x,g.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(t,x.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function g0(n,e){const{line:t,target:s,property:i,color:a,scale:l,clip:u}=e,d=GV(t,s,i);for(const{source:f,target:g,start:x,end:b}of d){const{style:{backgroundColor:E=a}={}}=f,S=s!==!0;n.save(),n.fillStyle=E,c8(n,l,u,S&&oy(i,x,b)),n.beginPath();const w=!!t.pathSegment(n,f);let T;if(S){w?n.closePath():W2(n,s,b,i);const k=!!s.pathSegment(n,g,{move:w,reverse:!0});T=w&&k,T||W2(n,s,x,i)}n.closePath(),n.fill(T?"evenodd":"nonzero"),n.restore()}}function c8(n,e,t,s){const i=e.chart.chartArea,{property:a,start:l,end:u}=s||{};if(a==="x"||a==="y"){let d,f,g,x;a==="x"?(d=l,f=i.top,g=u,x=i.bottom):(d=i.left,f=l,g=i.right,x=u),n.beginPath(),t&&(d=Math.max(d,t.left),g=Math.min(g,t.right),f=Math.max(f,t.top),x=Math.min(x,t.bottom)),n.rect(d,f,g-d,x-f),n.clip()}}function W2(n,e,t,s){const i=e.interpolate(t,s);i&&n.lineTo(i.x,i.y)}var u8={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,i=[];let a,l,u,d;for(l=0;l<s;++l)a=n.getDatasetMeta(l),u=a.dataset,d=null,u&&u.options&&u instanceof Mm&&(d={visible:n.isDatasetVisible(l),index:l,fill:YV(u,l,s),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=d,i.push(d);for(l=0;l<s;++l)d=i[l],!(!d||d.fill===!1)&&(d.fill=WV(i,l,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=i.length-1;l>=0;--l){const u=i[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),s&&u.fill&&p0(n.ctx,u,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const a=s[i].$filler;H2(a)&&p0(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!H2(s)||t.drawTime!=="beforeDatasetDraw"||p0(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Y2=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},d8=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class K2 extends cc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Lt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=is(s.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=Y2(s,a);let f,g;t.font=i.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,u,d)+10):(g=this.maxHeight,f=this._fitCols(l,i,u,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,i){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],g=i+u;let x=e;a.textAlign="left",a.textBaseline="middle";let b=-1,E=-g;return this.legendItems.forEach((S,w)=>{const T=s+t/2+a.measureText(S.text).width;(w===0||f[f.length-1]+T+2*u>l)&&(x+=g,f[f.length-(w>0?0:1)]=0,E+=g,b++),d[w]={left:0,top:E,row:b,width:T,height:i},f[f.length-1]+=T+u}),x}_fitCols(e,t,s,i){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let x=u,b=0,E=0,S=0,w=0;return this.legendItems.forEach((T,k)=>{const{itemWidth:I,itemHeight:M}=h8(s,t,a,T,i);k>0&&E+M+2*u>g&&(x+=b+u,f.push({width:b,height:E}),S+=b+u,w++,b=E=0),d[k]={left:S,top:E,col:w,width:I,height:M},b=Math.max(b,I),E+=M+u}),x+=b,f.push({width:b,height:E}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:i},rtl:a}}=this,l=Pl(a,this.left,this.width);if(this.isHorizontal()){let u=0,d=ys(s,this.left+i,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,d=ys(s,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+e+i,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+i}else{let u=0,d=ys(s,this.top+e+i,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,d=ys(s,this.top+e+i,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+i,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;km(e,this),this._draw(),Rm(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:i}=this,{align:a,labels:l}=e,u=en.color,d=Pl(e.rtl,this.left,this.width),f=is(l.font),{padding:g}=l,x=f.size,b=x/2;let E;this.drawTitle(),i.textAlign=d.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:S,boxHeight:w,itemHeight:T}=Y2(l,x),k=function($,A,R){if(isNaN(S)||S<=0||isNaN(w)||w<0)return;i.save();const j=ht(R.lineWidth,1);if(i.fillStyle=ht(R.fillStyle,u),i.lineCap=ht(R.lineCap,"butt"),i.lineDashOffset=ht(R.lineDashOffset,0),i.lineJoin=ht(R.lineJoin,"miter"),i.lineWidth=j,i.strokeStyle=ht(R.strokeStyle,u),i.setLineDash(ht(R.lineDash,[])),l.usePointStyle){const P={radius:w*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:j},V=d.xPlus($,S/2),U=A+b;BN(i,P,V,U,l.pointStyleWidth&&S)}else{const P=A+Math.max((x-w)/2,0),V=d.leftForLtr($,S),U=Vu(R.borderRadius);i.beginPath(),Object.values(U).some(L=>L!==0)?sy(i,{x:V,y:P,w:S,h:w,radius:U}):i.rect(V,P,S,w),i.fill(),j!==0&&i.stroke()}i.restore()},I=function($,A,R){nm(i,R.text,$,A+T/2,f,{strikethrough:R.hidden,textAlign:d.textAlign(R.textAlign)})},M=this.isHorizontal(),z=this._computeTitleHeight();M?E={x:ys(a,this.left+g,this.right-s[0]),y:this.top+g+z,line:0}:E={x:this.left+g,y:ys(a,this.top+z+g,this.bottom-t[0].height),line:0},YN(this.ctx,e.textDirection);const B=T+g;this.legendItems.forEach(($,A)=>{i.strokeStyle=$.fontColor,i.fillStyle=$.fontColor;const R=i.measureText($.text).width,j=d.textAlign($.textAlign||($.textAlign=l.textAlign)),P=S+b+R;let V=E.x,U=E.y;d.setWidth(this.width),M?A>0&&V+P+g>this.right&&(U=E.y+=B,E.line++,V=E.x=ys(a,this.left+g,this.right-s[E.line])):A>0&&U+B>this.bottom&&(V=E.x=V+t[E.line].width+g,E.line++,U=E.y=ys(a,this.top+z+g,this.bottom-t[E.line].height));const L=d.x(V);if(k(L,U,$),V=oL(j,V+S+b,M?V+P:this.right,e.rtl),I(d.x(V),U,$),M)E.x+=P+g;else if(typeof $.text!="string"){const ge=f.lineHeight;E.y+=gA($,ge)+g}else E.y+=B}),KN(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=is(t.font),i=ei(t.padding);if(!t.display)return;const a=Pl(e.rtl,this.left,this.width),l=this.ctx,u=t.position,d=s.size/2,f=i.top+d;let g,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+f,x=ys(e.align,x,this.right-b);else{const S=this.columnSizes.reduce((w,T)=>Math.max(w,T.height),0);g=f+ys(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const E=ys(u,x,x+b);l.textAlign=a.textAlign(VN(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=s.string,nm(l,t.text,E,g,s)}_computeTitleHeight(){const e=this.options.title,t=is(e.font),s=ei(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,i,a;if(Rl(e,this.left,this.right)&&Rl(t,this.top,this.bottom)){for(a=this.legendHitBoxes,s=0;s<a.length;++s)if(i=a[s],Rl(e,i.left,i.left+i.width)&&Rl(t,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!p8(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=d8(i,s);i&&!a&&Lt(t.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!a&&Lt(t.onHover,[e,s,this],this)}else s&&Lt(t.onClick,[e,s,this],this)}}function h8(n,e,t,s,i){const a=f8(s,n,e,t),l=m8(i,s,e.lineHeight);return{itemWidth:a,itemHeight:l}}function f8(n,e,t,s){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+s.measureText(i).width}function m8(n,e,t){let s=n;return typeof e.text!="string"&&(s=gA(e,t)),s}function gA(n,e){const t=n.text?n.text.length:0;return e*t}function p8(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var g8={id:"legend",_element:K2,start(n,e,t){const s=n.legend=new K2({ctx:n.ctx,options:t,chart:n});da.configure(n,s,t),da.addBox(n,s)},stop(n){da.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;da.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,i=t.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:i,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),g=ei(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const Au={average(n){if(!n.length)return!1;let e,t,s=new Set,i=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();s.add(d.x),i+=d.y,++a}}return a===0||s.size===0?!1:{x:[...s].reduce((u,d)=>u+d)/s.size,y:i/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,i=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const d=n[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),g=ey(e,f);g<i&&(i=g,u=d)}}if(u){const d=u.tooltipPosition();t=d.x,s=d.y}return{x:t,y:s}}};function vi(n,e){return e&&(Tn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function or(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function y8(n,e){const{element:t,datasetIndex:s,index:i}=e,a=n.getDatasetMeta(s).controller,{label:l,value:u}=a.getLabelAndValue(i);return{chart:n,label:l,parsed:a.getParsed(i),raw:n.data.datasets[s].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:s,element:t}}function X2(n,e){const t=n.chart.ctx,{body:s,footer:i,title:a}=n,{boxWidth:l,boxHeight:u}=e,d=is(e.bodyFont),f=is(e.titleFont),g=is(e.footerFont),x=a.length,b=i.length,E=s.length,S=ei(e.padding);let w=S.height,T=0,k=s.reduce((z,B)=>z+B.before.length+B.lines.length+B.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,x&&(w+=x*f.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),k){const z=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;w+=E*z+(k-E)*d.lineHeight+(k-1)*e.bodySpacing}b&&(w+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let I=0;const M=function(z){T=Math.max(T,t.measureText(z).width+I)};return t.save(),t.font=f.string,Nt(n.title,M),t.font=d.string,Nt(n.beforeBody.concat(n.afterBody),M),I=e.displayColors?l+2+e.boxPadding:0,Nt(s,z=>{Nt(z.before,M),Nt(z.lines,M),Nt(z.after,M)}),I=0,t.font=g.string,Nt(n.footer,M),t.restore(),T+=S.width,{width:T,height:w}}function x8(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function b8(n,e,t,s){const{x:i,width:a}=s,l=t.caretSize+t.caretPadding;if(n==="left"&&i+a+l>e.width||n==="right"&&i-a-l<0)return!0}function v8(n,e,t,s){const{x:i,width:a}=t,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return s==="center"?f=i<=(u+d)/2?"left":"right":i<=a/2?f="left":i>=l-a/2&&(f="right"),b8(f,n,e,t)&&(f="center"),f}function Q2(n,e,t){const s=t.yAlign||e.yAlign||x8(n,t);return{xAlign:t.xAlign||e.xAlign||v8(n,e,t,s),yAlign:s}}function _8(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function w8(n,e,t){let{y:s,height:i}=n;return e==="top"?s+=t:e==="bottom"?s-=i+t:s-=i/2,s}function J2(n,e,t,s){const{caretSize:i,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:d}=t,f=i+a,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:E}=Vu(l);let S=_8(e,u);const w=w8(e,d,f);return d==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(g,b)+i:u==="right"&&(S+=Math.max(x,E)+i),{x:Ps(S,0,s.width-e.width),y:Ps(w,0,s.height-e.height)}}function hf(n,e,t){const s=ei(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function Z2(n){return vi([],or(n))}function E8(n,e,t){return Ro(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function eE(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const yA={beforeTitle:rr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:rr,beforeBody:rr,beforeLabel:rr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Pt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:rr,afterBody:rr,beforeFooter:rr,footer:rr,afterFooter:rr};function es(n,e,t,s){const i=n[e].call(t,s);return typeof i>"u"?yA[e].call(t,s):i}class tE extends cc{static positioners=Au;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&t.options.animation&&s.animations,a=new eA(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=E8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,i=es(s,"beforeTitle",this,e),a=es(s,"title",this,e),l=es(s,"afterTitle",this,e);let u=[];return u=vi(u,or(i)),u=vi(u,or(a)),u=vi(u,or(l)),u}getBeforeBody(e,t){return Z2(es(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,i=[];return Nt(e,a=>{const l={before:[],lines:[],after:[]},u=eE(s,a);vi(l.before,or(es(u,"beforeLabel",this,a))),vi(l.lines,es(u,"label",this,a)),vi(l.after,or(es(u,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(e,t){return Z2(es(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,i=es(s,"beforeFooter",this,e),a=es(s,"footer",this,e),l=es(s,"afterFooter",this,e);let u=[];return u=vi(u,or(i)),u=vi(u,or(a)),u=vi(u,or(l)),u}_createItems(e){const t=this._active,s=this.chart.data,i=[],a=[],l=[];let u=[],d,f;for(d=0,f=t.length;d<f;++d)u.push(y8(this.chart,t[d]));return e.filter&&(u=u.filter((g,x,b)=>e.filter(g,x,b,s))),e.itemSort&&(u=u.sort((g,x)=>e.itemSort(g,x,s))),Nt(u,g=>{const x=eE(e.callbacks,g);i.push(es(x,"labelColor",this,g)),a.push(es(x,"labelPointStyle",this,g)),l.push(es(x,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const s=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=Au[s.position].call(this,i,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const d=this._size=X2(this,s),f=Object.assign({},u,d),g=Q2(this.chart,s,f),x=J2(s,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:x.x,y:x.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,i){const a=this.getCaretPosition(e,s,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,s){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:u}=s,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:x}=Vu(u),{x:b,y:E}=e,{width:S,height:w}=t;let T,k,I,M,z,B;return a==="center"?(z=E+w/2,i==="left"?(T=b,k=T-l,M=z+l,B=z-l):(T=b+S,k=T+l,M=z-l,B=z+l),I=T):(i==="left"?k=b+Math.max(d,g)+l:i==="right"?k=b+S-Math.max(f,x)-l:k=this.caretX,a==="top"?(M=E,z=M-l,T=k-l,I=k+l):(M=E+w,z=M+l,T=k+l,I=k-l),B=M),{x1:T,x2:k,x3:I,y1:M,y2:z,y3:B}}drawTitle(e,t,s){const i=this.title,a=i.length;let l,u,d;if(a){const f=Pl(s.rtl,this.x,this.width);for(e.x=hf(this,s.titleAlign,s),t.textAlign=f.textAlign(s.titleAlign),t.textBaseline="middle",l=is(s.titleFont),u=s.titleSpacing,t.fillStyle=s.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(i[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===a&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,t,s,i,a){const l=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:d,boxWidth:f}=a,g=is(a.bodyFont),x=hf(this,"left",a),b=i.x(x),E=d<g.lineHeight?(g.lineHeight-d)/2:0,S=t.y+E;if(a.usePointStyle){const w={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},T=i.leftForLtr(b,f)+f/2,k=S+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ny(e,w,T,k),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,ny(e,w,T,k)}else{e.lineWidth=xt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const w=i.leftForLtr(b,f),T=i.leftForLtr(i.xPlus(b,1),f-2),k=Vu(l.borderRadius);Object.values(k).some(I=>I!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,sy(e,{x:w,y:S,w:f,h:d,radius:k}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),sy(e,{x:T,y:S+1,w:f-2,h:d-2,radius:k}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(w,S,f,d),e.strokeRect(w,S,f,d),e.fillStyle=l.backgroundColor,e.fillRect(T,S+1,f-2,d-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:g}=s,x=is(s.bodyFont);let b=x.lineHeight,E=0;const S=Pl(s.rtl,this.x,this.width),w=function(R){t.fillText(R,S.x(e.x+E),e.y+b/2),e.y+=b+a},T=S.textAlign(l);let k,I,M,z,B,$,A;for(t.textAlign=l,t.textBaseline="middle",t.font=x.string,e.x=hf(this,T,s),t.fillStyle=s.bodyColor,Nt(this.beforeBody,w),E=u&&T!=="right"?l==="center"?f/2+g:f+2+g:0,z=0,$=i.length;z<$;++z){for(k=i[z],I=this.labelTextColors[z],t.fillStyle=I,Nt(k.before,w),M=k.lines,u&&M.length&&(this._drawColorBox(t,e,z,S,s),b=Math.max(x.lineHeight,d)),B=0,A=M.length;B<A;++B)w(M[B]),b=x.lineHeight;Nt(k.after,w)}E=0,b=x.lineHeight,Nt(this.afterBody,w),e.y-=a}drawFooter(e,t,s){const i=this.footer,a=i.length;let l,u;if(a){const d=Pl(s.rtl,this.x,this.width);for(e.x=hf(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=d.textAlign(s.footerAlign),t.textBaseline="middle",l=is(s.footerFont),t.fillStyle=s.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(i[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,t,s,i){const{xAlign:a,yAlign:l}=this,{x:u,y:d}=e,{width:f,height:g}=s,{topLeft:x,topRight:b,bottomLeft:E,bottomRight:S}=Vu(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(u+x,d),l==="top"&&this.drawCaret(e,t,s,i),t.lineTo(u+f-b,d),t.quadraticCurveTo(u+f,d,u+f,d+b),l==="center"&&a==="right"&&this.drawCaret(e,t,s,i),t.lineTo(u+f,d+g-S),t.quadraticCurveTo(u+f,d+g,u+f-S,d+g),l==="bottom"&&this.drawCaret(e,t,s,i),t.lineTo(u+E,d+g),t.quadraticCurveTo(u,d+g,u,d+g-E),l==="center"&&a==="left"&&this.drawCaret(e,t,s,i),t.lineTo(u,d+x),t.quadraticCurveTo(u,d,u+x,d),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,i=s&&s.x,a=s&&s.y;if(i||a){const l=Au[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=X2(this,e),d=Object.assign({},l,this._size),f=Q2(t,e,d),g=J2(e,d,f,t);(i._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=ei(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(a,e,i,t),YN(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),KN(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,i=e.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),a=!Qf(s,i),l=this._positionChanged(i,t);(a||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,s),u=this._positionChanged(l,e),d=t||!Qf(l,a)||u;return d&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,s,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,s);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:s,caretY:i,options:a}=this,l=Au[a.position].call(this,e,t);return l!==!1&&(s!==l.x||i!==l.y)}}var T8={id:"tooltip",_element:tE,positioners:Au,afterInit(n,e,t){t&&(n.tooltip=new tE({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const S8=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function N8(n,e,t,s){const i=n.indexOf(e);if(i===-1)return S8(n,e,t,s);const a=n.lastIndexOf(e);return i!==a?t:i}const A8=(n,e)=>n===null?null:Ps(Math.round(n),0,e);function nE(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class C8 extends uc{static id="category";static defaults={ticks:{callback:nE}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:i,label:a}of t)s[i]===a&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Pt(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:N8(s,e,ht(t,e),this._addedLabels),A8(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,i=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){return nE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function k8(n,e){const t=[],{bounds:i,step:a,min:l,max:u,precision:d,count:f,maxTicks:g,maxDigits:x,includeBounds:b}=n,E=a||1,S=g-1,{min:w,max:T}=e,k=!Pt(l),I=!Pt(u),M=!Pt(f),z=(T-w)/(x+1);let B=t2((T-w)/S/E)*E,$,A,R,j;if(B<1e-14&&!k&&!I)return[{value:w},{value:T}];j=Math.ceil(T/B)-Math.floor(w/B),j>S&&(B=t2(j*B/S/E)*E),Pt(d)||($=Math.pow(10,d),B=Math.ceil(B*$)/$),i==="ticks"?(A=Math.floor(w/B)*B,R=Math.ceil(T/B)*B):(A=w,R=T),k&&I&&a&&XP((u-l)/a,B/1e3)?(j=Math.round(Math.min((u-l)/B,g)),B=(u-l)/j,A=l,R=u):M?(A=k?l:A,R=I?u:R,j=f-1,B=(R-A)/j):(j=(R-A)/B,Ou(j,Math.round(j),B/1e3)?j=Math.round(j):j=Math.ceil(j));const P=Math.max(n2(B),n2(A));$=Math.pow(10,Pt(d)?P:d),A=Math.round(A*$)/$,R=Math.round(R*$)/$;let V=0;for(k&&(b&&A!==l?(t.push({value:l}),A<l&&V++,Ou(Math.round((A+V*B)*$)/$,l,sE(l,z,n))&&V++):A<l&&V++);V<j;++V){const U=Math.round((A+V*B)*$)/$;if(I&&U>u)break;t.push({value:U})}return I&&b&&R!==u?t.length&&Ou(t[t.length-1].value,u,sE(u,z,n))?t[t.length-1].value=u:t.push({value:u}):(!I||R===u)&&t.push({value:R}),t}function sE(n,e,{horizontal:t,minRotation:s}){const i=mo(s),a=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class R8 extends uc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Pt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:i,max:a}=this;const l=d=>i=t?i:d,u=d=>a=s?a:d;if(e){const d=ql(i),f=ql(a);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(i===a){let d=a===0?1:Math.abs(a*.05);u(a+d),e||l(i-d)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=k8(i,a);return e.bounds==="ticks"&&QP(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-t)/Math.max(e.length-1,1)/2;t-=i,s+=i}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return zN(e,this.chart.options.locale,this.options.ticks.format)}}class j8 extends R8{static id="linear";static defaults={ticks:{callback:UN.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=$n(e)?e:0,this.max=$n(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=mo(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Pm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ss=Object.keys(Pm);function iE(n,e){return n-e}function rE(n,e){if(Pt(e))return null;const t=n._adapter,{parser:s,round:i,isoWeekday:a}=n._parseOpts;let l=e;return typeof s=="function"&&(l=s(l)),$n(l)||(l=typeof s=="string"?t.parse(l,s):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Zu(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,i)),+l)}function aE(n,e,t,s){const i=ss.length;for(let a=ss.indexOf(n);a<i-1;++a){const l=Pm[ss[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=s)return ss[a]}return ss[i-1]}function I8(n,e,t,s,i){for(let a=ss.length-1;a>=ss.indexOf(t);a--){const l=ss[a];if(Pm[l].common&&n._adapter.diff(i,s,l)>=e-1)return l}return ss[t?ss.indexOf(t):0]}function D8(n){for(let e=ss.indexOf(n)+1,t=ss.length;e<t;++e)if(Pm[ss[e]].common)return ss[e]}function oE(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:i}=bx(t,e),a=t[s]>=e?t[s]:t[i];n[a]=!0}}function M8(n,e,t,s){const i=n._adapter,a=+i.startOf(e[0].value,s),l=e[e.length-1].value;let u,d;for(u=a;u<=l;u=+i.add(u,1,s))d=t[u],d>=0&&(e[d].major=!0);return e}function lE(n,e,t){const s=[],i={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],i[u]=l,s.push({value:u,major:!1});return a===0||!t?s:M8(n,s,i,t)}class cE extends uc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),i=this._adapter=new N9._date(e.adapters.date);i.init(t),Mu(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:rE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),i=$n(i)&&!isNaN(i)?i:+t.startOf(Date.now(),s),a=$n(a)&&!isNaN(a)?a:+t.endOf(Date.now(),s)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,u=sL(i,a,l);return this._unit=t.unit||(s.autoSkip?aE(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):I8(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:D8(this._unit),this.initOffsets(i),e.reverse&&u.reverse(),lE(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?s=a:s=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Ps(t,0,l),s=Ps(s,0,l),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,i=this.options,a=i.time,l=a.unit||aE(a.minUnit,t,s,this._getLabelCapacity(t)),u=ht(i.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,f=Zu(d)||d===!0,g={};let x=t,b,E;if(f&&(x=+e.startOf(x,"isoWeek",d)),x=+e.startOf(x,f?"day":l),e.diff(s,t,l)>1e5*u)throw new Error(t+" and "+s+" are too far apart with stepSize of "+u+" "+l);const S=i.ticks.source==="data"&&this.getDataTimestamps();for(b=x,E=0;b<s;b=+e.add(b,u,l),E++)oE(g,b,S);return(b===s||i.bounds==="ticks"||E===1)&&oE(g,b,S),Object.keys(g).sort(iE).map(w=>+w)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,a=this._unit,l=t||i[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,s,i){const a=this.options,l=a.ticks.callback;if(l)return Lt(l,[e,t,s],this);const u=a.time.displayFormats,d=this._unit,f=this._majorUnit,g=d&&u[d],x=f&&u[f],b=s[t],E=f&&x&&b&&b.major;return this._adapter.format(e,i||(E?x:g))}generateTickLabels(e){let t,s,i;for(t=0,s=e.length;t<s;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,i=mo(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),l=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:s*a+u*l,h:s*l+u*a}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,i=s[t.unit]||s.millisecond,a=this._tickFormatFunction(e,0,lE(this,[e],this._majorUnit),i),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,s=i.length;t<s;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const i=this.getLabels();for(t=0,s=i.length;t<s;++t)e.push(rE(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return rL(e.sort(iE))}}function ff(n,e,t){let s=0,i=n.length-1,a,l,u,d;t?(e>=n[s].pos&&e<=n[i].pos&&({lo:s,hi:i}=po(n,"pos",e)),{pos:a,time:u}=n[s],{pos:l,time:d}=n[i]):(e>=n[s].time&&e<=n[i].time&&({lo:s,hi:i}=po(n,"time",e)),{time:a,pos:u}=n[s],{time:l,pos:d}=n[i]);const f=l-a;return f?u+(d-u)*(e-a)/f:u}class _z extends cE{static id="timeseries";static defaults=cE.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ff(t,this.min),this._tableRange=ff(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,i=[],a=[];let l,u,d,f,g;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=s&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(l=0,u=i.length;l<u;++l)g=i[l+1],d=i[l-1],f=i[l],Math.round((g+d)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(ff(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return ff(this._table,s*this._tableRange+this._minPos,!0)}}const xA="label";function uE(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function O8(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function bA(n,e){n.labels=e}function vA(n,e,t=xA){const s=[];n.datasets=e.map(i=>{const a=n.datasets.find(l=>l[t]===i[t]);return!a||!i.data||s.includes(a)?{...i}:(s.push(a),Object.assign(a,i),a)})}function P8(n,e=xA){const t={labels:[],datasets:[]};return bA(t,n.labels),vA(t,n.datasets,e),t}function L8(n,e){const{height:t=150,width:s=300,redraw:i=!1,datasetIdKey:a,type:l,data:u,options:d,plugins:f=[],fallbackContent:g,updateMode:x,...b}=n,E=F.useRef(null),S=F.useRef(null),w=()=>{E.current&&(S.current=new Dm(E.current,{type:l,data:P8(u,a),options:d&&{...d},plugins:f}),uE(e,S.current))},T=()=>{uE(e,null),S.current&&(S.current.destroy(),S.current=null)};return F.useEffect(()=>{!i&&S.current&&d&&O8(S.current,d)},[i,d]),F.useEffect(()=>{!i&&S.current&&bA(S.current.config.data,u.labels)},[i,u.labels]),F.useEffect(()=>{!i&&S.current&&u.datasets&&vA(S.current.config.data,u.datasets,a)},[i,u.datasets]),F.useEffect(()=>{S.current&&(i?(T(),setTimeout(w)):S.current.update(x))},[i,d,u.labels,u.datasets,x]),F.useEffect(()=>{S.current&&(T(),setTimeout(w))},[l]),F.useEffect(()=>(w(),()=>T()),[]),m.jsx("canvas",{ref:E,role:"img",height:t,width:s,...b,children:g})}const V8=F.forwardRef(L8);function z8(n,e){return Dm.register(e),F.forwardRef((t,s)=>m.jsx(V8,{...t,ref:s,type:n}))}const U8=z8("line",S9);Dm.register(C8,j8,HV,Mm,T8,g8,u8);function B8({chartData:n,yMax:e}){const t={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{boxWidth:10,boxHeight:10,usePointStyle:!0,padding:14}},tooltip:{callbacks:{title:s=>`Partido ${s?.[0]?.label??""}`}}},scales:{x:{grid:{display:!0,drawBorder:!1},ticks:{autoSkip:!0,maxTicksLimit:6,maxRotation:0,minRotation:0}},y:{min:0,max:e||0,ticks:{precision:0},grid:{drawBorder:!1}}}};return m.jsx("div",{className:["w-full rounded-2xl border border-slate-200 bg-white shadow-sm","p-2 sm:p-4","h-[18rem] sm:h-[22rem] md:h-96"].join(" "),children:m.jsx(U8,{data:n,options:t})})}function F8({breakdown:n,setBreakdown:e,years:t,selectedYear:s,setSelectedYear:i,tournaments:a,selectedTournament:l,setSelectedTournament:u}){const d=n==="year"||n==="euroYear",f=n==="tournament"||n==="euroTournament",g=n==="euroYear"?"Eleg temporada":"Eleg ao";return m.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-3",children:[m.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm",value:n,onChange:x=>e(x.target.value),children:[m.jsx("option",{value:"all",children:"Completo"}),m.jsx("option",{value:"year",children:"Por ao"}),m.jsx("option",{value:"tournament",children:"Por campeonato"}),m.jsx("option",{value:"euroYear",children:"Calendario europeo (por temporada)"}),m.jsx("option",{value:"euroTournament",children:"Calendario europeo (por campeonato)"})]}),m.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm disabled:opacity-50",value:s??"",onChange:x=>i(x.target.value||null),disabled:!d,children:[m.jsx("option",{value:"",children:g}),t.map(x=>m.jsx("option",{value:x,children:x},x))]}),m.jsxs("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm disabled:opacity-50",value:l??"",onChange:x=>u(x.target.value||null),disabled:!f,children:[m.jsx("option",{value:"",children:"Eleg campeonato"}),a.map(x=>m.jsx("option",{value:x,children:x},x))]})]})}function $8({value:n,onChange:e}){const t=(s,i)=>m.jsx("button",{onClick:()=>e(s),className:["flex-1 rounded-xl px-3 py-2 text-sm font-semibold transition",n===s?"bg-slate-900 text-white shadow":"bg-white text-slate-700 hover:bg-slate-50"].join(" "),children:i},s);return m.jsxs("div",{className:"mx-auto flex w-full max-w-md gap-2 rounded-2xl border border-slate-200 bg-slate-100 p-2",children:[t("general","General"),t("capitanes","Capitanes")]})}const H8=()=>{dP();const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn();zs(n,t,i);const[a,l]=F.useState(null),u=Object.keys(s?.lineups||{}),[d,f]=F.useState(s?.activeClub||u[0]||""),g=Ee(d||""),x=g?s?.lineups?.[g]:null;F.useEffect(()=>{x&&Object.keys(x).length!==0&&l(x)},[x]);const b=Array.isArray(a?.matches)?a.matches:[],E=a?.torneosConfig||{},S=s?.lineups?.[g]||{},w=(S.players?.length??0)>0,T=(S.formations?.length??0)>0,k=S.playersStats?Object.keys(S.playersStats).length>0:!1,[I,M]=F.useState("general"),[z,B]=F.useState("all"),[$,A]=F.useState(null),[R,j]=F.useState(null);if(!g||!w&&!T&&!k)return m.jsx(bs,{to:"/formacion",replace:!0});const P=d,{years:V,tournaments:U,chartData:L,yMax:ge,captainA:ue,captainB:W}=gP(b,{view:I,breakdown:z,selectedYear:$,selectedTournament:R,torneosConfig:E});return m.jsxs("div",{className:"p-2 max-w-7xl mx-auto",children:[" ",m.jsx("h1",{className:"text-center text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:" Grficos "}),u.length>1&&m.jsxs("div",{className:"flex items-center justify-center gap-2 sm:justify-self-end sm:justify-end",children:[m.jsx("span",{className:"text-sm text-slate-600",children:"Club:"}),m.jsx("select",{className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:P,onChange:ae=>f(ae.target.value),children:u.map(ae=>m.jsx("option",{value:ae,children:ke(ae)},ae))})]}),m.jsxs("div",{className:"mt-4 space-y-3",children:[m.jsx($8,{value:I,onChange:M}),m.jsx(F8,{breakdown:z,setBreakdown:ae=>{B(ae),A(null),j(null)},years:V,selectedYear:$,setSelectedYear:A,tournaments:U,selectedTournament:R,setSelectedTournament:j}),m.jsx(B8,{chartData:L,yMax:ge})]})]})};function G8(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}G8(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);const q8=()=>{const{uid:n}=cn(),{state:e,dispatch:t}=rs(),{state:s,dispatch:i}=Hn();zs(n,t,i);const a=Object.keys(s?.lineups||[]),[l,u]=F.useState(s?.activeClub||a[0]||""),d=Ee(l||""),f=d?s?.lineups?.[d]:null,g=Array.isArray(f?.matches)?f.matches:[],x=F.useMemo(()=>{if(!g)return[];const T=g.map(k=>k.torneoName);return[...new Set(T)].sort()},[g]),[b,E]=F.useState({}),S=(T,k,I)=>{E(M=>({...M,[T]:{...M[T],[k]:I}}))},w=async T=>{const k=b?.[T]?.formato||f?.torneosConfig?.[T]?.formato||"anual";try{const I=Fn(Sn,"users",n);await lc(I,{lineups:{[d]:{torneosConfig:{[T]:{formato:k}}}}},{merge:!0}),i({type:"UPDATE_TORNEO_CONFIG",payload:{clubKey:d,torneo:T,settings:{formato:k}}}),me.Notify.success("Configuracin guardada!")}catch(I){console.error("Error al guardar:",I),me.Notify.error("No se pudo guardar la configuracin")}};return m.jsxs("div",{className:"p-2 max-w-4xl mx-auto mb-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[m.jsx("h1",{className:"text-xl font-bold text-slate-800",children:" Configuracin"}),m.jsx(bo,{to:"/campeonatos",className:"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm font-medium transition-all",children:"Volver"})]}),m.jsx("div",{className:"overflow-hidden bg-white rounded-2xl border border-slate-200 shadow-sm",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"hidden md:table-header-group bg-slate-50 border-b border-slate-200",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Campeonato"}),m.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Formato"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase",children:"Accin"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100",children:x.length>0?x.map(T=>m.jsxs("tr",{className:"flex flex-col md:table-row hover:bg-slate-50/50 transition-colors",children:[m.jsx("td",{className:"px-4 py-3 md:py-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-lg md:text-base",children:""}),m.jsx("span",{className:"font-bold md:font-medium text-slate-800 truncate",children:T})]})}),m.jsxs("td",{className:"px-4 py-2 md:py-4",children:[m.jsx("label",{className:"block md:hidden text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Formato"}),m.jsxs("select",{className:"w-full md:w-auto text-sm border-slate-200 rounded-lg focus:ring-sky-500 bg-slate-50/50 py-1.5",value:b[T]?.formato||f?.torneosConfig?.[T]?.formato||"anual",onChange:k=>S(T,"formato",k.target.value),children:[m.jsx("option",{value:"anual",children:"Enero - Diciembre (Anual)"}),m.jsx("option",{value:"europeo",children:"Julio - Junio (Europeo)"})]})]}),m.jsx("td",{className:"px-4 py-4 md:py-4 text-center",children:m.jsx("button",{className:"w-full md:w-auto bg-sky-600 hover:bg-sky-700 text-white px-5 py-2 md:py-1.5 rounded-xl text-sm font-semibold shadow-sm shadow-sky-100 transition-all active:scale-95",onClick:()=>w(T),children:"Guardar"})})]},T)):m.jsx("tr",{children:m.jsx("td",{colSpan:"4",className:"p-10 text-center text-slate-400 text-sm",children:"No hay torneos registrados."})})})]})})]})};function W8(){const{state:n}=Hn(),e=n?.lineups&&Object.keys(n.lineups).length>0,t=Object.keys(n?.lineups||{}),s=n?.activeClub||"";return{lineupState:n,hasLineupsLoaded:e,clubs:t,activeClub:s}}const Y8=n=>F.useMemo(()=>{const e=new Set;for(const t of n||[]){const s=String(t?.rival??"").trim();s&&e.add(s)}return Array.from(e).sort((t,s)=>t.localeCompare(s,"es"))},[n]),K8=(n,e)=>F.useMemo(()=>{const t=Array.isArray(n)?n:[];return e?t.filter(s=>String(s?.rival??"").trim()===e):t},[n,e]),X8=n=>F.useMemo(()=>(Array.isArray(n)?n:[]).slice().sort((t,s)=>new Date(s?.fecha??0)-new Date(t?.fecha??0)),[n]),Q8=n=>{if(!n)return"";try{const[e,t,s]=String(n).split("-").map(Number);return!e||!t||!s?n:new Date(e,t-1,s).toLocaleDateString("es-AR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return n}},Ax=n=>{const e=String(n?.final??"").toLowerCase();if(e.includes("gan"))return"GANADO";if(e.includes("perd"))return"PERDIDO";if(e.includes("emp"))return"EMPATADO";const t=Number(n?.golFavor??0),s=Number(n?.golContra??0);return t>s?"GANADO":t<s?"PERDIDO":"EMPATADO"},J8=n=>n==="GANADO"?"border-emerald-200 bg-emerald-50 text-emerald-700":n==="PERDIDO"?"border-rose-200 bg-rose-50 text-rose-700":"border-slate-200 bg-slate-50 text-slate-700",Z8=n=>{const e=String(n??"").toLowerCase();return e.includes("loc")?"Local":e.includes("vis")?"Visitante":lt(n)},ez=n=>{if(!n)return 0;const e=!!(n.triplete||n.hattrick);return e&&n.doblete&&n.gol?6:e&&n.doblete?5:e&&n.gol?4:e?3:n.doblete?2:n.gol?1:0},dE=n=>{if(!Array.isArray(n)||n.length===0)return"";if(typeof n[0]=="string"){const t=n.map(s=>String(s).trim()).filter(Boolean).map(s=>s==="__OG__"?"En Contra":s);return t.length?t.join("  "):""}const e=n.map(t=>{if(!t)return null;const s=String(t?.name??"").trim();if(!s)return null;const i=s==="__OG__",a=i?"En Contra":s;let l=ez(t);Number.isFinite(t?.goles)&&(l=t.goles),Number.isFinite(t?.goals)&&(l=t.goals);const u=t?.isOwnGoal||i?" En Contra":"",d=i?"":u,f=!i&&l>=2?` (${l})`:"";return`${a}${f}${d}`}).filter(Boolean);return e.length?e.join("  "):""},Tl=n=>{const e=Number(n??0);return e>0?"text-emerald-700":e<0?"text-rose-700":"text-slate-700"},oo=n=>{const e=Number(n??0);return e>0?"bg-emerald-50 border-emerald-200":e<0?"bg-rose-50 border-rose-200":"bg-slate-50 border-slate-200"},tz=(n,e)=>{const t=String(n?.torneoName||"").trim(),s=String(n?.torneoDisplay||"").trim(),i=n?.fecha,a=t||s||"";if((e?.[a]?.formato||e?.[t]?.formato)!=="europeo"){if(s)return s;const x=Number(n?.torneoYear);return Number.isFinite(x)?`${a} ${x}`:a}if(!i)return a;const u=new Date(i);if(Number.isNaN(u.getTime()))return a;const d=u.getFullYear(),f=u.getMonth()+1;let g;return f>=7?g=d:g=d-1,`${a} ${g} - ${g+1}`},nz=n=>{const e=Number(n?.golFavor??0),t=Number(n?.golContra??0);return String(n?.condition??"").toLowerCase().includes("vis")?{left:t,right:e}:{left:e,right:t}},y0=n=>{const e=Ax(n);return e==="GANADO"?"border-emerald-400":e==="PERDIDO"?"border-red-400":"border-amber-400"},sz=n=>{if(!n)return 0;if(typeof n=="object"){const s=!!(n.triplete||n.hattrick);return s&&n.doblete&&n.gol?6:s&&n.doblete?5:s&&n.gol?4:s?3:n.doblete?2:n.gol?1:0}const e=String(n).trim(),t=e.match(/\((\d+)\)/);return t?Number(t[1])||1:e?1:0},iz=n=>n?typeof n=="object"?String(n.name??"").trim():String(n).trim():"",rz=n=>{const e=Array.isArray(n?.starters)?n.starters:[],t=Array.isArray(n?.subs)?n.subs:[],s=a=>a?typeof a=="string"?a:typeof a=="object"?String(a?.name??a?.player??"").trim():String(a).trim():"",i=[...e,...t].map(s).filter(Boolean);return Array.from(new Set(i.map(a=>Ee(a))))},x0=()=>({total:0,g:0,e:0,p:0,gp:0,gf:0,gc:0,dif:0}),b0=(n,e)=>{n.total+=1;const t=Ax(e);t==="GANADO"?n.g+=1:t==="PERDIDO"?n.p+=1:n.e+=1,n.gf+=Number(e?.golFavor??0),n.gc+=Number(e?.golContra??0),n.gp=n.g-n.p,n.dif=n.gf-n.gc},_A=n=>String(n?.condition??"").trim().toLowerCase(),az=n=>_A(n)==="local",oz=n=>_A(n)==="visitante",lz=n=>F.useMemo(()=>{const e=Array.isArray(n)?n:[],t=x0(),s=x0(),i=x0();for(const a of e)b0(t,a),az(a)?b0(s,a):oz(a)&&b0(i,a);return{...t,local:s,visitante:i}},[n]),wA=(n,e)=>{const t=new Map;return(n??[]).forEach(s=>{const i=e(s);if(!Array.isArray(i)||i.length===0)return;const a=new Set;i.forEach(l=>{const u=iz(l);if(!u)return;const d=u.toLowerCase(),f=t.get(d)??{name:u,pj:0,g:0,x2:0,x3:0};f.g+=sz(l),typeof l=="object"&&(l.doblete&&(f.x2+=1),(l.triplete||l.hattrick)&&(f.x3+=1)),t.set(d,f),a.add(d)}),a.forEach(l=>{const u=t.get(l);u&&(u.pj+=1)})}),Array.from(t.values()).sort((s,i)=>i.g-s.g||i.x3-s.x3||i.x2-s.x2||s.name.localeCompare(i.name))},cz=n=>F.useMemo(()=>wA(n,e=>e?.goleadoresActiveClub??[]),[n]),uz=n=>F.useMemo(()=>wA(n,e=>e?.goleadoresRivales??[]),[n]),hE=({title:n,rows:e,hidePJ:t=!1})=>{const s=Array.isArray(e)?e:[];return m.jsxs("div",{className:"min-w-0 rounded-2xl border border-slate-200 bg-white mt-1",children:[m.jsx("div",{className:"m-1 text-center text-sm font-semibold text-slate-700     overflow-hidden text-ellipsis whitespace-nowrap p-1",children:n}),m.jsx("div",{className:"overflow-hidden rounded-xl border border-slate-200 m-1",children:m.jsxs("table",{className:"w-full text-sm table-fixed",children:[m.jsxs("colgroup",{children:[m.jsx("col",{className:t?"w-[64%]":"w-[52%]"}),!t&&m.jsx("col",{className:"w-[12%]"}),m.jsx("col",{className:"w-[12%]"}),m.jsx("col",{className:"w-[12%]"}),m.jsx("col",{className:"w-[12%]"})]}),m.jsx("thead",{className:"bg-slate-50 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 text-left",children:"Jugador"}),!t&&m.jsx("th",{className:"px-2 py-2 text-center",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center",children:"x2"}),m.jsx("th",{className:"px-2 py-2 text-center",children:"x3"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-200",children:s.length?s.map(i=>{const a=i?.name?.trim()==="__OG__"?"En Contra":ke(i?.name??"");return m.jsxs("tr",{children:[m.jsx("td",{className:"px-2 py-2 text-slate-800",children:m.jsx("div",{className:"min-w-0 overflow-hidden text-ellipsis whitespace-nowrap",title:a,children:m.jsx("span",{children:a})})}),!t&&m.jsx("td",{className:"px-2 py-2 text-center",children:i.pj}),m.jsx("td",{className:"px-2 py-2 text-center font-bold",children:i.g}),m.jsx("td",{className:"px-2 py-2 text-center",children:i.x2}),m.jsx("td",{className:"px-2 py-2 text-center",children:i.x3})]},i.name)}):m.jsx("tr",{children:m.jsx("td",{colSpan:t?4:5,className:"px-3 py-3 text-slate-500",children:""})})})]})})]})},dz=(n=[])=>F.useMemo(()=>{const e=new Map;return n.forEach(t=>{rz(t).forEach(i=>{e.set(i,(e.get(i)??0)+1)})}),e},[n]),hz=(n=[],e)=>F.useMemo(()=>(n??[]).map(t=>{const s=Ee(t?.name),i=e.get(s)??0;return{...t,pj:i}}),[n,e]),fz=()=>{const{hasLineupsLoaded:n,clubs:e,activeClub:t,lineupState:s}=W8();if(!n)return m.jsx("div",{className:"p-6 text-center text-slate-500",children:"Cargando datos..."});const[i,a]=F.useState(t);if(F.useEffect(()=>{i||(t?a(t):e.length&&a(e[0]))},[i,t,e]),!i)return m.jsx(bs,{to:"/formacion",replace:!0});const l=Ee(i),u=s?.lineups?.[l]||null,d=Array.isArray(u?.matches)?u.matches:[],f=u?.torneosConfig||{},[g,x]=F.useState("");F.useEffect(()=>{x("")},[l]);const b=Y8(d),E=K8(d,g),S=X8(E),w=lz(E),T=cz(S),k=uz(S),I=dz(E),M=hz(T,I);return m.jsxs("div",{className:"p-2 max-w-screen-2xl mx-auto",children:[m.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:m.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-slate-900",children:" NextMatch"})}),m.jsxs("div",{className:"mb-2 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Club"}),m.jsx("select",{className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:i,onChange:z=>a(z.target.value),children:e.map(z=>m.jsx("option",{value:z,children:lt(z)},z))})]}),m.jsxs("div",{className:"text-left sm:text-right",children:[m.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700 sm:text-right",children:"Rival"}),m.jsxs("select",{className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-sky-200",value:g,onChange:z=>x(z.target.value),children:[m.jsx("option",{value:"",children:"Todos"}),b.map(z=>m.jsx("option",{value:z,children:lt(z)},z))]})]})]}),g?m.jsx("div",{className:"m-1 rounded-2xl bg-white p-2 text-center",children:m.jsx("div",{className:`rounded-2xl border px-4 py-3 text-xl font-extrabold tracking-tight text-slate-900 ${oo(w.gp)}`,children:lt(g)})}):null,m.jsxs("div",{className:"w-full rounded-2xl border border-slate-200 bg-slate-50 p-1",children:[m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-1",children:[m.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:[m.jsx("div",{children:"PJ"}),m.jsx("div",{children:"G"}),m.jsx("div",{children:"E"}),m.jsx("div",{children:"P"}),m.jsx("div",{children:"G/P"}),m.jsx("div",{children:"GF"}),m.jsx("div",{children:"GC"}),m.jsx("div",{children:"DIF"})]}),m.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-bold text-slate-900",children:[m.jsx("div",{className:"rounded-xl border px-2 py-1 text-center",children:w.total}),m.jsx("div",{className:"rounded-xl border px-2 py-1 text-center",children:w.g}),m.jsx("div",{className:"rounded-xl border px-2 py-1 text-center",children:w.e}),m.jsx("div",{className:"rounded-xl border px-2 py-1 text-center",children:w.p}),m.jsx("div",{className:`rounded-xl border px-2 py-1 ${oo(w.gp)} ${Tl(w.gp)}`,children:Ys(w.gp)}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.gf}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.gc}),m.jsx("div",{className:`rounded-xl border px-2 py-1 ${oo(w.dif)} ${Tl(w.dif)}`,children:Ys(w.dif)})]}),m.jsx("div",{className:"mt-1 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:"General"})]}),m.jsxs("div",{className:"mt-1 grid gap-2 sm:grid-cols-2",children:[m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-1",children:[m.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:[m.jsx("div",{children:"PJ"}),m.jsx("div",{children:"G"}),m.jsx("div",{children:"E"}),m.jsx("div",{children:"P"}),m.jsx("div",{children:"G/P"}),m.jsx("div",{children:"GF"}),m.jsx("div",{children:"GC"}),m.jsx("div",{children:"DIF"})]}),m.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-bold text-slate-900",children:[m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.total}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.g}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.e}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.p}),m.jsx("div",{className:`rounded-xl border px-2 py-1 ${oo(w.local.gp)} ${Tl(w.local.gp)}`,children:Ys(w.local.gp)}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.gf}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.local.gc}),m.jsx("div",{className:`rounded-xl border px-2 py-1 ${oo(w.local.dif)} ${Tl(w.local.dif)}`,children:Ys(w.local.dif)})]}),m.jsx("div",{className:"mt-1 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:"Local"})]}),m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-1",children:[m.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:[m.jsx("div",{children:"PJ"}),m.jsx("div",{children:"G"}),m.jsx("div",{children:"E"}),m.jsx("div",{children:"P"}),m.jsx("div",{children:"G/P"}),m.jsx("div",{children:"GF"}),m.jsx("div",{children:"GC"}),m.jsx("div",{children:"DIF"})]}),m.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-bold text-slate-900",children:[m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.total}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.g}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.e}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.p}),m.jsx("div",{className:`rounded-xl border px-2 py-1 ${oo(w.visitante.gp)} ${Tl(w.visitante.gp)}`,children:Ys(w.visitante.gp)}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.gf}),m.jsx("div",{className:"rounded-xl border px-2 py-1",children:w.visitante.gc}),m.jsx("div",{className:`rounded-xl border px-2 py-1 ${oo(w.visitante.dif)} ${Tl(w.visitante.dif)}`,children:Ys(w.visitante.dif)})]}),m.jsx("div",{className:"mt-1 text-center text-[10px] font-semibold uppercase tracking-wide text-slate-500",children:"Visitante"})]})]})]})]}),g&&m.jsxs("div",{className:"mb-1 grid grid-cols-2 gap-2",children:[m.jsx("div",{className:"min-w-0",children:m.jsx(hE,{title:lt(t),rows:M})}),m.jsx("div",{className:"min-w-0",children:m.jsx(hE,{title:lt(g),rows:k,hidePJ:!0})})]}),S.length===0?m.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-center text-slate-500 shadow-sm",children:"No hay partidos para mostrar."}):m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:S.map(z=>{const B=Ax(z),{left:$,right:A}=nz(z);return m.jsxs("div",{className:`rounded-2xl border bg-white p-4 shadow-sm ${y0(z)}`,children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-600",children:[m.jsx("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1",children:tz(z,f)}),m.jsx("span",{className:"rounded-full border border-slate-200 bg-white px-2.5 py-1",children:Q8(z?.fecha)}),m.jsx("span",{className:`rounded-full border bg-white px-2.5 py-1 ${y0(z)}`,children:Z8(z?.condition)}),m.jsxs("span",{className:"rounded-full border border-slate-200 bg-slate-50 px-2.5 py-1",children:[m.jsx("span",{className:"font-semibold text-slate-500",children:"Captain:"})," ",m.jsx("span",{className:"font-semibold text-slate-800",children:lt(z?.captain)})]})]}),g?null:m.jsx("div",{className:"mt-2 flex items-center justify-center",children:m.jsx("div",{className:"truncate text-base font-extrabold tracking-wide text-slate-900 sm:text-lg",children:lt(z?.rival)})})]}),m.jsxs("div",{className:"shrink-0 rounded-xl border px-3 py-2 text-center "+J8(B),children:[m.jsx("div",{className:"text-xs font-semibold",children:B}),m.jsxs("div",{className:"text-lg font-extrabold tracking-tight",children:[$," - ",A]})]})]}),m.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[m.jsxs("div",{className:"text-xs font-semibold text-slate-500",children:["Goleadores ",lt(z?.club)]}),m.jsx("div",{className:"text-slate-800",children:ke(dE(z?.goleadoresActiveClub))})]}),m.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[m.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Goleadores rival"}),m.jsx("div",{className:"text-slate-800",children:dE(z?.goleadoresRivales)})]})]}),m.jsx("div",{className:"flex flex-wrap gap-2 pt-1 text-center",children:z?.resultMatch?m.jsx("span",{className:`w-full rounded-xl border bg-white px-3 py-2 text-xs text-slate-600 ${y0(z)}`,children:ke(z.resultMatch)}):null})]},z?.id??`${z?.fecha}-${z?.rival}-${z?.createdAt??""}`)})})]})},mz=()=>{const{uid:n,user:e}=cn();return m.jsxs("div",{className:"p-2 max-w-4xl mx-auto mb-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[m.jsx("h1",{className:"text-xl font-bold text-slate-800",children:" Configuracin"}),m.jsx(bo,{to:"/campeonatos",className:"px-4 py-2 rounded-xl bg-slate-100 hover:bg-slate-200 text-slate-600 text-sm font-medium transition-all",children:"Volver"})]}),m.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm",children:[m.jsxs("div",{children:[m.jsx("b",{children:"UID:"})," ",n]}),m.jsxs("div",{children:[m.jsx("b",{children:"Email:"})," ",e?.email||"-"]}),m.jsxs("div",{children:[m.jsx("b",{children:"Nombre:"})," ",e?.displayName||"-"]})]})]})};function pz(){const{uid:n}=cn(),{dispatch:e}=rs(),{dispatch:t}=Hn();return zs(n,e,t),null}function gz(){const{uid:n}=cn();return n?m.jsx(bs,{to:"/versus",replace:!0}):m.jsx(JO,{})}const yz=()=>m.jsxs(xR,{children:[m.jsx(uP,{}),m.jsxs(Kk,{children:[m.jsx(rn,{element:m.jsx(CR,{}),children:m.jsx(rn,{path:"/",element:m.jsx(gz,{})})}),m.jsxs(rn,{element:m.jsxs(m.Fragment,{children:[m.jsx(pz,{}),m.jsx(a3,{})]}),children:[m.jsx(rn,{path:"/registrar-partido",element:m.jsx(Dw,{})}),m.jsx(rn,{path:"/editar-partido/:matchId",element:m.jsx(Dw,{})}),m.jsx(rn,{path:"/nextmatch",element:m.jsx(fz,{})}),m.jsx(rn,{path:"/formacion",element:m.jsx(r4,{})}),m.jsx(rn,{path:"/versus",element:m.jsx(j3,{})}),m.jsx(rn,{path:"/campeonatos",element:m.jsx(u4,{})}),m.jsx(rn,{path:"/campeonatos/ajustes",element:m.jsx(q8,{})}),m.jsx(rn,{path:"/partidos",element:m.jsx(sP,{})}),m.jsx(rn,{path:"/ultimos-diez",element:m.jsx(cP,{})}),m.jsx(rn,{path:"/analisis",element:m.jsx(h4,{})}),m.jsx(rn,{path:"/graficos",element:m.jsx(H8,{})}),m.jsx(rn,{path:"/temporadas",element:m.jsx(N4,{})}),m.jsx(rn,{path:"/goleadores",element:m.jsx(q4,{})}),m.jsx(rn,{path:"/palmares",element:m.jsx(K4,{})}),m.jsx(rn,{path:"/config",element:m.jsx(mz,{})})]}),m.jsx(rn,{path:"*",element:m.jsx(bs,{to:"/",replace:!0})})]})]});me.Notify.init({position:"center-bottom",distance:"20px",timeout:3e3,clickToClose:!0,fontSize:"16px",width:"280px"});nk.createRoot(document.getElementById("root")).render(m.jsx(F.StrictMode,{children:m.jsx(XO,{children:m.jsx(i3,{children:m.jsx(e3,{children:m.jsx(yz,{})})})})}));
