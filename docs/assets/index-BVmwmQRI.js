(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var $x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Om={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function OT(){if(Xx)return ic;Xx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:u,ref:o!==void 0?o:null,props:l}}return ic.Fragment=e,ic.jsx=t,ic.jsxs=t,ic}var Yx;function jT(){return Yx||(Yx=1,Om.exports=OT()),Om.exports}var m=jT(),jm={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function MT(){if(Kx)return qe;Kx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,V={};function I(L,te,de){this.props=L,this.context=te,this.refs=V,this.updater=de||k}I.prototype.isReactComponent={},I.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},I.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function M(){}M.prototype=I.prototype;function z(L,te,de){this.props=L,this.context=te,this.refs=V,this.updater=de||k}var G=z.prototype=new M;G.constructor=z,U(G,I.prototype),G.isPureReactComponent=!0;var ne=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function N(L,te,de,fe,we,He){return de=He.ref,{$$typeof:r,type:L,key:te,ref:de!==void 0?de:null,props:He}}function A(L,te){return N(L.type,te,void 0,void 0,void 0,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function R(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return te[de]})}var D=/\/+/g;function q(L,te){return typeof L=="object"&&L!==null&&L.key!=null?R(""+L.key):te.toString(36)}function O(){}function nt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(O,O):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ct(L,te,de,fe,we){var He=typeof L;(He==="undefined"||He==="boolean")&&(L=null);var ke=!1;if(L===null)ke=!0;else switch(He){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(L.$$typeof){case r:case e:ke=!0;break;case b:return ke=L._init,ct(ke(L._payload),te,de,fe,we)}}if(ke)return we=we(L),ke=fe===""?"."+q(L,0):fe,ne(we)?(de="",ke!=null&&(de=ke.replace(D,"$&/")+"/"),ct(we,te,de,"",function(nr){return nr})):we!=null&&(C(we)&&(we=A(we,de+(we.key==null||L&&L.key===we.key?"":(""+we.key).replace(D,"$&/")+"/")+ke)),te.push(we)),1;ke=0;var Ht=fe===""?".":fe+":";if(ne(L))for(var Je=0;Je<L.length;Je++)fe=L[Je],He=Ht+q(fe,Je),ke+=ct(fe,te,de,He,we);else if(Je=E(L),typeof Je=="function")for(L=Je.call(L),Je=0;!(fe=L.next()).done;)fe=fe.value,He=Ht+q(fe,Je++),ke+=ct(fe,te,de,He,we);else if(He==="object"){if(typeof L.then=="function")return ct(nt(L),te,de,fe,we);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ke}function W(L,te,de){if(L==null)return L;var fe=[],we=0;return ct(L,fe,"","",function(He){return te.call(de,He,we++)}),fe}function me(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ve(){}return qe.Children={map:W,forEach:function(L,te,de){W(L,function(){te.apply(this,arguments)},de)},count:function(L){var te=0;return W(L,function(){te++}),te},toArray:function(L){return W(L,function(te){return te})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},qe.Component=I,qe.Fragment=t,qe.Profiler=o,qe.PureComponent=z,qe.StrictMode=a,qe.Suspense=y,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,qe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return re.H.useMemoCache(L)}},qe.cache=function(L){return function(){return L.apply(null,arguments)}},qe.cloneElement=function(L,te,de){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=U({},L.props),we=L.key,He=void 0;if(te!=null)for(ke in te.ref!==void 0&&(He=void 0),te.key!==void 0&&(we=""+te.key),te)!ce.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(fe[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)fe.children=de;else if(1<ke){for(var Ht=Array(ke),Je=0;Je<ke;Je++)Ht[Je]=arguments[Je+2];fe.children=Ht}return N(L.type,we,void 0,void 0,He,fe)},qe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},qe.createElement=function(L,te,de){var fe,we={},He=null;if(te!=null)for(fe in te.key!==void 0&&(He=""+te.key),te)ce.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(we[fe]=te[fe]);var ke=arguments.length-2;if(ke===1)we.children=de;else if(1<ke){for(var Ht=Array(ke),Je=0;Je<ke;Je++)Ht[Je]=arguments[Je+2];we.children=Ht}if(L&&L.defaultProps)for(fe in ke=L.defaultProps,ke)we[fe]===void 0&&(we[fe]=ke[fe]);return N(L,He,void 0,void 0,null,we)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(L){return{$$typeof:h,render:L}},qe.isValidElement=C,qe.lazy=function(L){return{$$typeof:b,_payload:{_status:-1,_result:L},_init:me}},qe.memo=function(L,te){return{$$typeof:g,type:L,compare:te===void 0?null:te}},qe.startTransition=function(L){var te=re.T,de={};re.T=de;try{var fe=L(),we=re.S;we!==null&&we(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Ve,ue)}catch(He){ue(He)}finally{re.T=te}},qe.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},qe.use=function(L){return re.H.use(L)},qe.useActionState=function(L,te,de){return re.H.useActionState(L,te,de)},qe.useCallback=function(L,te){return re.H.useCallback(L,te)},qe.useContext=function(L){return re.H.useContext(L)},qe.useDebugValue=function(){},qe.useDeferredValue=function(L,te){return re.H.useDeferredValue(L,te)},qe.useEffect=function(L,te,de){var fe=re.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(L,te)},qe.useId=function(){return re.H.useId()},qe.useImperativeHandle=function(L,te,de){return re.H.useImperativeHandle(L,te,de)},qe.useInsertionEffect=function(L,te){return re.H.useInsertionEffect(L,te)},qe.useLayoutEffect=function(L,te){return re.H.useLayoutEffect(L,te)},qe.useMemo=function(L,te){return re.H.useMemo(L,te)},qe.useOptimistic=function(L,te){return re.H.useOptimistic(L,te)},qe.useReducer=function(L,te,de){return re.H.useReducer(L,te,de)},qe.useRef=function(L){return re.H.useRef(L)},qe.useState=function(L){return re.H.useState(L)},qe.useSyncExternalStore=function(L,te,de){return re.H.useSyncExternalStore(L,te,de)},qe.useTransition=function(){return re.H.useTransition()},qe.version="19.1.1",qe}var Qx;function Ip(){return Qx||(Qx=1,jm.exports=MT()),jm.exports}var F=Ip();const $f=Wv(F);var Mm={exports:{}},ac={},Lm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function LT(){return Wx||(Wx=1,function(r){function e(W,me){var ue=W.length;W.push(me);e:for(;0<ue;){var Ve=ue-1>>>1,L=W[Ve];if(0<o(L,me))W[Ve]=me,W[ue]=L,ue=Ve;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var me=W[0],ue=W.pop();if(ue!==me){W[0]=ue;e:for(var Ve=0,L=W.length,te=L>>>1;Ve<te;){var de=2*(Ve+1)-1,fe=W[de],we=de+1,He=W[we];if(0>o(fe,ue))we<L&&0>o(He,fe)?(W[Ve]=He,W[we]=ue,Ve=we):(W[Ve]=fe,W[de]=ue,Ve=de);else if(we<L&&0>o(He,ue))W[Ve]=He,W[we]=ue,Ve=we;else break e}}return me}function o(W,me){var ue=W.sortIndex-me.sortIndex;return ue!==0?ue:W.id-me.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var y=[],g=[],b=1,w=null,E=3,k=!1,U=!1,V=!1,I=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ne(W){for(var me=t(g);me!==null;){if(me.callback===null)a(g);else if(me.startTime<=W)a(g),me.sortIndex=me.expirationTime,e(y,me);else break;me=t(g)}}function re(W){if(V=!1,ne(W),!U)if(t(y)!==null)U=!0,ce||(ce=!0,q());else{var me=t(g);me!==null&&ct(re,me.startTime-W)}}var ce=!1,N=-1,A=5,C=-1;function R(){return I?!0:!(r.unstable_now()-C<A)}function D(){if(I=!1,ce){var W=r.unstable_now();C=W;var me=!0;try{e:{U=!1,V&&(V=!1,z(N),N=-1),k=!0;var ue=E;try{t:{for(ne(W),w=t(y);w!==null&&!(w.expirationTime>W&&R());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,E=w.priorityLevel;var L=Ve(w.expirationTime<=W);if(W=r.unstable_now(),typeof L=="function"){w.callback=L,ne(W),me=!0;break t}w===t(y)&&a(y),ne(W)}else a(y);w=t(y)}if(w!==null)me=!0;else{var te=t(g);te!==null&&ct(re,te.startTime-W),me=!1}}break e}finally{w=null,E=ue,k=!1}me=void 0}}finally{me?q():ce=!1}}}var q;if(typeof G=="function")q=function(){G(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,nt=O.port2;O.port1.onmessage=D,q=function(){nt.postMessage(null)}}else q=function(){M(D,0)};function ct(W,me){N=M(function(){W(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(W){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ue=E;E=me;try{return W()}finally{E=ue}},r.unstable_requestPaint=function(){I=!0},r.unstable_runWithPriority=function(W,me){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=E;E=W;try{return me()}finally{E=ue}},r.unstable_scheduleCallback=function(W,me,ue){var Ve=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ve+ue:Ve):ue=Ve,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ue+L,W={id:b++,callback:me,priorityLevel:W,startTime:ue,expirationTime:L,sortIndex:-1},ue>Ve?(W.sortIndex=ue,e(g,W),t(y)===null&&W===t(g)&&(V?(z(N),N=-1):V=!0,ct(re,ue-Ve))):(W.sortIndex=L,e(y,W),U||k||(U=!0,ce||(ce=!0,q()))),W},r.unstable_shouldYield=R,r.unstable_wrapCallback=function(W){var me=E;return function(){var ue=E;E=me;try{return W.apply(this,arguments)}finally{E=ue}}}}(Pm)),Pm}var Jx;function PT(){return Jx||(Jx=1,Lm.exports=LT()),Lm.exports}var Vm={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function VT(){if(Zx)return wn;Zx=1;var r=Ip();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(y,g,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:g,implementation:b}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,wn.createPortal=function(y,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(y,g,null,b)},wn.flushSync=function(y){var g=u.T,b=a.p;try{if(u.T=null,a.p=2,y)return y()}finally{u.T=g,a.p=b,a.d.f()}},wn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},wn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},wn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var b=g.as,w=h(b,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:k}):b==="script"&&a.d.X(y,{crossOrigin:w,integrity:E,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=h(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},wn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,w=h(b,g.crossOrigin);a.d.L(y,b,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wn.preloadModule=function(y,g){if(typeof y=="string")if(g){var b=h(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},wn.requestFormReset=function(y){a.d.r(y)},wn.unstable_batchedUpdates=function(y,g){return y(g)},wn.useFormState=function(y,g,b){return u.H.useFormState(y,g,b)},wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var eb;function UT(){if(eb)return Vm.exports;eb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vm.exports=VT(),Vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function zT(){if(tb)return ac;tb=1;var r=PT(),e=Ip(),t=UT();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(a(188))}function y(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,c=i;;){var d=s.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===s)return h(d),n;if(p===c)return h(d),i;p=p.sibling}throw Error(a(188))}if(s.return!==c.return)s=d,c=p;else{for(var _=!1,T=d.child;T;){if(T===s){_=!0,s=d,c=p;break}if(T===c){_=!0,c=d,s=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===s){_=!0,s=p,c=d;break}if(T===c){_=!0,c=p,s=d;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==c)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function nt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case I:return"Profiler";case V:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case G:return(n.displayName||"Context")+".Provider";case z:return(n._context.displayName||"Context")+".Consumer";case ne:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return i=n.displayName||null,i!==null?i:nt(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return nt(n(i))}catch{}}return null}var ct=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ve=[],L=-1;function te(n){return{current:n}}function de(n){0>L||(n.current=Ve[L],Ve[L]=null,L--)}function fe(n,i){L++,Ve[L]=n.current,n.current=i}var we=te(null),He=te(null),ke=te(null),Ht=te(null);function Je(n,i){switch(fe(ke,i),fe(He,n),fe(we,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?vx(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=vx(i),n=_x(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(we),fe(we,n)}function nr(){de(we),de(He),de(ke)}function kr(n){n.memoizedState!==null&&fe(Ht,n);var i=we.current,s=_x(i,n.type);i!==s&&(fe(He,n),fe(we,s))}function Fn(n){He.current===n&&(de(we),de(He)),Ht.current===n&&(de(Ht),Zl._currentValue=ue)}var Nn=Object.prototype.hasOwnProperty,Rt=r.unstable_scheduleCallback,P=r.unstable_cancelCallback,$=r.unstable_shouldYield,ee=r.unstable_requestPaint,be=r.unstable_now,Ae=r.unstable_getCurrentPriorityLevel,ze=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,ge=r.unstable_NormalPriority,Xe=r.unstable_LowPriority,Ee=r.unstable_IdlePriority,it=r.log,wt=r.unstable_setDisableYieldValue,Fe=null,Ne=null;function Pe(n){if(typeof it=="function"&&wt(n),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Fe,n)}catch{}}var Ye=Math.clz32?Math.clz32:Wt,Ke=Math.log,Cn=Math.LN2;function Wt(n){return n>>>=0,n===0?32:31-(Ke(n)/Cn|0)|0}var kt=256,It=4194304;function rt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Rn(n,i,s){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=c&134217727;return T!==0?(c=T&~p,c!==0?d=rt(c):(_&=T,_!==0?d=rt(_):s||(s=T&~n,s!==0&&(d=rt(s))))):(T=c&~p,T!==0?d=rt(T):_!==0?d=rt(_):s||(s=c&~n,s!==0&&(d=rt(s)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,s=i&-i,p>=s||p===32&&(s&4194048)!==0)?i:d}function Me(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function rr(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(){var n=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),n}function Gi(){var n=It;return It<<=1,(It&62914560)===0&&(It=4194304),n}function xr(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function qn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $i(n,i,s,c,d,p){var _=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var T=n.entanglements,j=n.expirationTimes,K=n.hiddenUpdates;for(s=_&~s;0<s;){var ie=31-Ye(s),oe=1<<ie;T[ie]=0,j[ie]=-1;var Q=K[ie];if(Q!==null)for(K[ie]=null,ie=0;ie<Q.length;ie++){var J=Q[ie];J!==null&&(J.lane&=-536870913)}s&=~oe}c!==0&&Hn(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~i))}function Hn(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-Ye(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|s&4194090}function Xi(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var c=31-Ye(s),d=1<<c;d&i|n[c]&i&&(n[c]|=i),s&=~d}}function Ir(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function si(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dr(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:zx(n.type))}function js(n,i){var s=me.p;try{return me.p=n,i()}finally{me.p=s}}var Et=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Et,jt="__reactProps$"+Et,mt="__reactContainer$"+Et,an="__reactEvents$"+Et,oi="__reactListeners$"+Et,Gn="__reactHandles$"+Et,Wc="__reactResources$"+Et,Ga="__reactMarker$"+Et;function Yi(n){delete n[Pt],delete n[jt],delete n[an],delete n[oi],delete n[Gn]}function li(n){var i=n[Pt];if(i)return i;for(var s=n.parentNode;s;){if(i=s[mt]||s[Pt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Sx(n);n!==null;){if(s=n[Pt])return s;n=Sx(n)}return i}n=s,s=n.parentNode}return null}function Or(n){if(n=n[Pt]||n[mt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function jr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function kn(n){var i=n[Wc];return i||(i=n[Wc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Vt(n){n[Ga]=!0}var al=new Set,Ms={};function br(n,i){ci(n,i),ci(n+"Capture",i)}function ci(n,i){for(Ms[n]=i,n=0;n<i.length;n++)al.add(i[n])}var Jc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},$a={};function eu(n){return Nn.call($a,n)?!0:Nn.call(Zc,n)?!1:Jc.test(n)?$a[n]=!0:(Zc[n]=!0,!1)}function Ki(n,i,s){if(eu(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Mr(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function dn(n,i,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+c)}}var Xa,tu;function ui(n){if(Xa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Xa=i&&i[1]||"",tu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+n+tu}var Ls=!1;function Ps(n,i){if(!n||Ls)return"";Ls=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var Q=J}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(J){Q=J}n.call(oe.prototype)}}else{try{throw Error()}catch(J){Q=J}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),_=p[0],T=p[1];if(_&&T){var j=_.split(`
`),K=T.split(`
`);for(d=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(c===j.length||d===K.length)for(c=j.length-1,d=K.length-1;1<=c&&0<=d&&j[c]!==K[d];)d--;for(;1<=c&&0<=d;c--,d--)if(j[c]!==K[d]){if(c!==1||d!==1)do if(c--,d--,0>d||j[c]!==K[d]){var ie=`
`+j[c].replace(" at new "," at ");return n.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",n.displayName)),ie}while(1<=c&&0<=d);break}}}finally{Ls=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?ui(s):""}function sl(n){switch(n.tag){case 26:case 27:case 5:return ui(n.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Ps(n.type,!1);case 11:return Ps(n.type.render,!1);case 1:return Ps(n.type,!0);case 31:return ui("Activity");default:return""}}function Vs(n){try{var i="";do i+=sl(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function In(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ol(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Pd(n){var i=ol(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Us(n){n._valueTracker||(n._valueTracker=Pd(n))}function ll(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return n&&(c=ol(n)?n.checked?"true":"false":n.value),n=c,n!==s?(i.setValue(n),!0):!1}function Ya(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vd=/[\n"\\]/g;function Gt(n){return n.replace(Vd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $n(n,i,s,c,d,p,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+In(i)):n.value!==""+In(i)&&(n.value=""+In(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Qi(n,_,In(i)):s!=null?Qi(n,_,In(s)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+In(T):n.removeAttribute("name")}function Ka(n,i,s,c,d,p,_,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+In(s):"",i=i!=null?""+In(i):s,T||i===n.value||(n.value=i),n.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=T?n.checked:!!c,n.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Qi(n,i,s){i==="number"&&Ya(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function fi(n,i,s,c){if(n=n.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<n.length;s++)d=i.hasOwnProperty("$"+n[s].value),n[s].selected!==d&&(n[s].selected=d),d&&c&&(n[s].defaultSelected=!0)}else{for(s=""+In(s),i=null,d=0;d<n.length;d++){if(n[d].value===s){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function yt(n,i,s){if(i!=null&&(i=""+In(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+In(s):""}function Qa(n,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(a(92));if(ct(c)){if(1<c.length)throw Error(a(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=In(i),n.defaultValue=s,c=n.textContent,c===s&&c!==""&&c!==null&&(n.value=c)}function ir(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nu(n,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,s):typeof s!="number"||s===0||Wa.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function cl(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&s[d]!==c&&nu(n,d,c)}else for(var p in i)i.hasOwnProperty(p)&&nu(n,p,i[p])}function ul(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ud=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(n){return zd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var di=null;function ar(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hi=null,mi=null;function fl(n){var i=Or(n);if(i&&(n=i.stateNode)){var s=n[jt]||null;e:switch(n=i.stateNode,i.type){case"input":if($n(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==n&&c.form===n.form){var d=c[jt]||null;if(!d)throw Error(a(90));$n(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===n.form&&ll(c)}break e;case"textarea":yt(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&fi(n,!!s.multiple,i,!1)}}}var Lr=!1;function ru(n,i,s){if(Lr)return n(i,s);Lr=!0;try{var c=n(i);return c}finally{if(Lr=!1,(hi!==null||mi!==null)&&(Qu(),hi&&(i=hi,n=mi,mi=hi=null,fl(i),n)))for(i=0;i<n.length;i++)fl(n[i])}}function Ja(n,i){var s=n.stateNode;if(s===null)return null;var c=s[jt]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sr=!1;if(vr)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){sr=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{sr=!1}var Pr=null,Wi=null,pi=null;function dl(){if(pi)return pi;var n,i=Wi,s=i.length,c,d="value"in Pr?Pr.value:Pr.textContent,p=d.length;for(n=0;n<s&&i[n]===d[n];n++);var _=s-n;for(c=1;c<=_&&i[s-c]===d[p-c];c++);return pi=d.slice(n,1<c?1-c:void 0)}function Vr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ur(){return!0}function hl(){return!1}function sn(n){function i(s,c,d,p,_){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(s=n[T],this[T]=s?s(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ur:hl,this.isPropagationStopped=hl,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),i}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=sn(dt),es=b({},dt,{view:0,detail:0}),iu=sn(es),Fs,qs,zr,ts=b({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==zr&&(zr&&n.type==="mousemove"?(Fs=n.screenX-zr.screenX,qs=n.screenY-zr.screenY):qs=Fs=0,zr=n),Fs)},movementY:function(n){return"movementY"in n?n.movementY:qs}}),or=sn(ts),au=b({},ts,{dataTransfer:0}),Bd=sn(au),ns=b({},es,{relatedTarget:0}),Hs=sn(ns),ml=b({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=sn(ml),su=b({},dt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$s=sn(su),Fd=b({},dt,{data:0}),pl=sn(Fd),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=lu[n])?!!i[n]:!1}function is(){return gl}var cu=b({},es,{key:function(n){if(n.key){var i=rs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Vr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ou[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(n){return n.type==="keypress"?Vr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Vr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xs=sn(cu),uu=b({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yl=sn(uu),gi=b({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),fu=sn(gi),du=b({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=sn(du),mu=b({},ts,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=sn(mu),Dn=b({},dt,{newState:0,oldState:0}),pu=sn(Dn),gu=[9,13,27,32],Br=vr&&"CompositionEvent"in window,f=null;vr&&"documentMode"in document&&(f=document.documentMode);var x=vr&&"TextEvent"in window&&!f,v=vr&&(!Br||f&&8<f&&11>=f),S=" ",X=!1;function Z(n,i){switch(n){case"keyup":return gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var at=!1;function Jt(n,i){switch(n){case"compositionend":return pe(i);case"keypress":return i.which!==32?null:(X=!0,S);case"textInput":return n=i.data,n===S&&X?null:n;default:return null}}function st(n,i){if(at)return n==="compositionend"||!Br&&Z(n,i)?(n=dl(),pi=Wi=Pr=null,at=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!on[n.type]:i==="textarea"}function yi(n,i,s,c){hi?mi?mi.push(c):mi=[c]:hi=c,i=nf(i,"onChange"),0<i.length&&(s=new Bs("onChange","change",null,s,c),n.push({event:s,listeners:i}))}var hn=null,Fr=null;function xl(n){px(n,0)}function yu(n){var i=jr(n);if(ll(i))return n}function Lg(n,i){if(n==="change")return i}var Pg=!1;if(vr){var qd;if(vr){var Hd="oninput"in document;if(!Hd){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Hd=typeof Vg.oninput=="function"}qd=Hd}else qd=!1;Pg=qd&&(!document.documentMode||9<document.documentMode)}function Ug(){hn&&(hn.detachEvent("onpropertychange",zg),Fr=hn=null)}function zg(n){if(n.propertyName==="value"&&yu(Fr)){var i=[];yi(i,Fr,n,ar(n)),ru(xl,i)}}function cE(n,i,s){n==="focusin"?(Ug(),hn=i,Fr=s,hn.attachEvent("onpropertychange",zg)):n==="focusout"&&Ug()}function uE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yu(Fr)}function fE(n,i){if(n==="click")return yu(i)}function dE(n,i){if(n==="input"||n==="change")return yu(i)}function hE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Xn=typeof Object.is=="function"?Object.is:hE;function bl(n,i){if(Xn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!Nn.call(i,d)||!Xn(n[d],i[d]))return!1}return!0}function Bg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Fg(n,i){var s=Bg(n);n=0;for(var c;s;){if(s.nodeType===3){if(c=n+s.textContent.length,n<=i&&c>=i)return{node:s,offset:i-n};n=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Bg(s)}}function qg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?qg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ya(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Ya(n.document)}return i}function Gd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var mE=vr&&"documentMode"in document&&11>=document.documentMode,Ks=null,$d=null,vl=null,Xd=!1;function Gg(n,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xd||Ks==null||Ks!==Ya(c)||(c=Ks,"selectionStart"in c&&Gd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),vl&&bl(vl,c)||(vl=c,c=nf($d,"onSelect"),0<c.length&&(i=new Bs("onSelect","select",null,i,s),n.push({event:i,listeners:c}),i.target=Ks)))}function as(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Qs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Yd={},$g={};vr&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ss(n){if(Yd[n])return Yd[n];if(!Qs[n])return n;var i=Qs[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in $g)return Yd[n]=i[s];return n}var Xg=ss("animationend"),Yg=ss("animationiteration"),Kg=ss("animationstart"),pE=ss("transitionrun"),gE=ss("transitionstart"),yE=ss("transitioncancel"),Qg=ss("transitionend"),Wg=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function _r(n,i){Wg.set(n,i),br(i,[n])}var Jg=new WeakMap;function lr(n,i){if(typeof n=="object"&&n!==null){var s=Jg.get(n);return s!==void 0?s:(i={value:n,source:i,stack:Vs(i)},Jg.set(n,i),i)}return{value:n,source:i,stack:Vs(i)}}var cr=[],Ws=0,Qd=0;function xu(){for(var n=Ws,i=Qd=Ws=0;i<n;){var s=cr[i];cr[i++]=null;var c=cr[i];cr[i++]=null;var d=cr[i];cr[i++]=null;var p=cr[i];if(cr[i++]=null,c!==null&&d!==null){var _=c.pending;_===null?d.next=d:(d.next=_.next,_.next=d),c.pending=d}p!==0&&Zg(s,d,p)}}function bu(n,i,s,c){cr[Ws++]=n,cr[Ws++]=i,cr[Ws++]=s,cr[Ws++]=c,Qd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Wd(n,i,s,c){return bu(n,i,s,c),vu(n)}function Js(n,i){return bu(n,null,null,i),vu(n)}function Zg(n,i,s){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s);for(var d=!1,p=n.return;p!==null;)p.childLanes|=s,c=p.alternate,c!==null&&(c.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&i!==null&&(d=31-Ye(s),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[i]:c.push(i),i.lane=s|536870912),p):null}function vu(n){if(50<Gl)throw Gl=0,rm=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Zs={};function xE(n,i,s,c){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(n,i,s,c){return new xE(n,i,s,c)}function Jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xi(n,i){var s=n.alternate;return s===null?(s=Yn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function ey(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function _u(n,i,s,c,d,p){var _=0;if(c=n,typeof n=="function")Jd(n)&&(_=1);else if(typeof n=="string")_=vT(n,s,we.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Yn(31,s,i,d),n.elementType=C,n.lanes=p,n;case U:return os(s.children,d,p,i);case V:_=8,d|=24;break;case I:return n=Yn(12,s,i,d|2),n.elementType=I,n.lanes=p,n;case re:return n=Yn(13,s,i,d),n.elementType=re,n.lanes=p,n;case ce:return n=Yn(19,s,i,d),n.elementType=ce,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:case G:_=10;break e;case z:_=9;break e;case ne:_=11;break e;case N:_=14;break e;case A:_=16,c=null;break e}_=29,s=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=Yn(_,s,i,d),i.elementType=n,i.type=c,i.lanes=p,i}function os(n,i,s,c){return n=Yn(7,n,c,i),n.lanes=s,n}function Zd(n,i,s){return n=Yn(6,n,null,i),n.lanes=s,n}function eh(n,i,s){return i=Yn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var eo=[],to=0,wu=null,Eu=0,ur=[],fr=0,ls=null,bi=1,vi="";function cs(n,i){eo[to++]=Eu,eo[to++]=wu,wu=n,Eu=i}function ty(n,i,s){ur[fr++]=bi,ur[fr++]=vi,ur[fr++]=ls,ls=n;var c=bi;n=vi;var d=32-Ye(c)-1;c&=~(1<<d),s+=1;var p=32-Ye(i)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,bi=1<<32-Ye(i)+d|s<<d|c,vi=p+n}else bi=1<<p|s<<d|c,vi=n}function th(n){n.return!==null&&(cs(n,1),ty(n,1,0))}function nh(n){for(;n===wu;)wu=eo[--to],eo[to]=null,Eu=eo[--to],eo[to]=null;for(;n===ls;)ls=ur[--fr],ur[fr]=null,vi=ur[--fr],ur[fr]=null,bi=ur[--fr],ur[fr]=null}var On=null,Mt=null,ft=!1,us=null,qr=!1,rh=Error(a(519));function fs(n){var i=Error(a(418,""));throw El(lr(i,n)),rh}function ny(n){var i=n.stateNode,s=n.type,c=n.memoizedProps;switch(i[Pt]=n,i[jt]=c,s){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(s=0;s<Xl.length;s++)We(Xl[s],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),Ka(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Us(i);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),Qa(i,c.value,c.defaultValue,c.children),Us(i)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||bx(i.textContent,s)?(c.popover!=null&&(We("beforetoggle",i),We("toggle",i)),c.onScroll!=null&&We("scroll",i),c.onScrollEnd!=null&&We("scrollend",i),c.onClick!=null&&(i.onclick=rf),i=!0):i=!1,i||fs(n)}function ry(n){for(On=n.return;On;)switch(On.tag){case 5:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:On=On.return}}function _l(n){if(n!==On)return!1;if(!ft)return ry(n),ft=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||bm(n.type,n.memoizedProps)),s=!s),s&&Mt&&fs(n),ry(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){Mt=Er(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}Mt=null}}else i===27?(i=Mt,ha(n.type)?(n=Em,Em=null,Mt=n):Mt=i):Mt=On?Er(n.stateNode.nextSibling):null;return!0}function wl(){Mt=On=null,ft=!1}function iy(){var n=us;return n!==null&&(Vn===null?Vn=n:Vn.push.apply(Vn,n),us=null),n}function El(n){us===null?us=[n]:us.push(n)}var ih=te(null),ds=null,_i=null;function Ji(n,i,s){fe(ih,i._currentValue),i._currentValue=s}function wi(n){n._currentValue=ih.current,de(ih)}function ah(n,i,s){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===s)break;n=n.return}}function sh(n,i,s,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var _=d.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=d;for(var j=0;j<i.length;j++)if(T.context===i[j]){p.lanes|=s,T=p.alternate,T!==null&&(T.lanes|=s),ah(p.return,s,n),c||(_=null);break e}p=T.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(a(341));_.lanes|=s,p=_.alternate,p!==null&&(p.lanes|=s),ah(_,s,n),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===n){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Tl(n,i,s,c){n=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=d.type;Xn(d.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(d===Ht.current){if(_=d.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Zl):n=[Zl])}d=d.return}n!==null&&sh(i,n,s,c),i.flags|=262144}function Tu(n){for(n=n.firstContext;n!==null;){if(!Xn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function hs(n){ds=n,_i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _n(n){return ay(ds,n)}function Su(n,i){return ds===null&&hs(n),ay(n,i)}function ay(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},_i===null){if(n===null)throw Error(a(308));_i=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else _i=_i.next=i;return s}var bE=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},vE=r.unstable_scheduleCallback,_E=r.unstable_NormalPriority,en={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new bE,data:new Map,refCount:0}}function Sl(n){n.refCount--,n.refCount===0&&vE(_E,function(){n.controller.abort()})}var Al=null,lh=0,no=0,ro=null;function wE(n,i){if(Al===null){var s=Al=[];lh=0,no=um(),ro={status:"pending",value:void 0,then:function(c){s.push(c)}}}return lh++,i.then(sy,sy),i}function sy(){if(--lh===0&&Al!==null){ro!==null&&(ro.status="fulfilled");var n=Al;Al=null,no=0,ro=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function EE(n,i){var s=[],c={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),c}var oy=W.S;W.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wE(n,i),oy!==null&&oy(n,i)};var ms=te(null);function ch(){var n=ms.current;return n!==null?n:Tt.pooledCache}function Au(n,i){i===null?fe(ms,ms.current):fe(ms,i.pool)}function ly(){var n=ch();return n===null?null:{parent:en._currentValue,pool:n}}var Nl=Error(a(460)),cy=Error(a(474)),Nu=Error(a(542)),uh={then:function(){}};function uy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cu(){}function fy(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Cu,Cu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,hy(n),n;default:if(typeof i.status=="string")i.then(Cu,Cu);else{if(n=Tt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,hy(n),n}throw Cl=i,Nl}}var Cl=null;function dy(){if(Cl===null)throw Error(a(459));var n=Cl;return Cl=null,n}function hy(n){if(n===Nl||n===Nu)throw Error(a(483))}var Zi=!1;function fh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ea(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ta(n,i,s){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(pt&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=vu(n),Zg(n,null,s),i}return bu(n,c,i,s),vu(n)}function Rl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,s|=c,i.lanes=s,Xi(n,s)}}function hh(n,i){var s=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?d=p=_:p=p.next=_,s=s.next}while(s!==null);p===null?d=p=i:p=p.next=i}else d=p=i;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var mh=!1;function kl(){if(mh){var n=ro;if(n!==null)throw n}}function Il(n,i,s,c){mh=!1;var d=n.updateQueue;Zi=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var j=T,K=j.next;j.next=null,_===null?p=K:_.next=K,_=j;var ie=n.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==_&&(T===null?ie.firstBaseUpdate=K:T.next=K,ie.lastBaseUpdate=j))}if(p!==null){var oe=d.baseState;_=0,ie=K=j=null,T=p;do{var Q=T.lane&-536870913,J=Q!==T.lane;if(J?(ot&Q)===Q:(c&Q)===Q){Q!==0&&Q===no&&(mh=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Le=n,Ce=T;Q=i;var vt=s;switch(Ce.tag){case 1:if(Le=Ce.payload,typeof Le=="function"){oe=Le.call(vt,oe,Q);break e}oe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ce.payload,Q=typeof Le=="function"?Le.call(vt,oe,Q):Le,Q==null)break e;oe=b({},oe,Q);break e;case 2:Zi=!0}}Q=T.callback,Q!==null&&(n.flags|=64,J&&(n.flags|=8192),J=d.callbacks,J===null?d.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(K=ie=J,j=oe):ie=ie.next=J,_|=Q;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;J=T,T=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);ie===null&&(j=oe),d.baseState=j,d.firstBaseUpdate=K,d.lastBaseUpdate=ie,p===null&&(d.shared.lanes=0),ca|=_,n.lanes=_,n.memoizedState=oe}}function my(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function py(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)my(s[n],i)}var io=te(null),Ru=te(0);function gy(n,i){n=Ri,fe(Ru,n),fe(io,i),Ri=n|i.baseLanes}function ph(){fe(Ru,Ri),fe(io,io.current)}function gh(){Ri=Ru.current,de(io),de(Ru)}var na=0,Ge=null,xt=null,$t=null,ku=!1,ao=!1,ps=!1,Iu=0,Dl=0,so=null,TE=0;function Ut(){throw Error(a(321))}function yh(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Xn(n[s],i[s]))return!1;return!0}function xh(n,i,s,c,d,p){return na=p,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=n===null||n.memoizedState===null?Zy:e0,ps=!1,p=s(c,d),ps=!1,ao&&(p=xy(i,s,c,d)),yy(n),p}function yy(n){W.H=Pu;var i=xt!==null&&xt.next!==null;if(na=0,$t=xt=Ge=null,ku=!1,Dl=0,so=null,i)throw Error(a(300));n===null||ln||(n=n.dependencies,n!==null&&Tu(n)&&(ln=!0))}function xy(n,i,s,c){Ge=n;var d=0;do{if(ao&&(so=null),Dl=0,ao=!1,25<=d)throw Error(a(301));if(d+=1,$t=xt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=IE,p=i(s,c)}while(ao);return p}function SE(){var n=W.H,i=n.useState()[0];return i=typeof i.then=="function"?Ol(i):i,n=n.useState()[0],(xt!==null?xt.memoizedState:null)!==n&&(Ge.flags|=1024),i}function bh(){var n=Iu!==0;return Iu=0,n}function vh(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function _h(n){if(ku){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ku=!1}na=0,$t=xt=Ge=null,ao=!1,Dl=Iu=0,so=null}function Ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ge.memoizedState=$t=n:$t=$t.next=n,$t}function Xt(){if(xt===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=xt.next;var i=$t===null?Ge.memoizedState:$t.next;if(i!==null)$t=i,xt=n;else{if(n===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));xt=n,n={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},$t===null?Ge.memoizedState=$t=n:$t=$t.next=n}return $t}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(n){var i=Dl;return Dl+=1,so===null&&(so=[]),n=fy(so,n,i),i=Ge,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Zy:e0),n}function Du(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ol(n);if(n.$$typeof===G)return _n(n)}throw Error(a(438,String(n)))}function Eh(n){var i=null,s=Ge.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=Ge.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=wh(),Ge.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),c=0;c<n;c++)s[c]=R;return i.index++,s}function Ei(n,i){return typeof i=="function"?i(n):i}function Ou(n){var i=Xt();return Th(i,xt,n)}function Th(n,i,s){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=s;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}i.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{i=d.next;var T=_=null,j=null,K=i,ie=!1;do{var oe=K.lane&-536870913;if(oe!==K.lane?(ot&oe)===oe:(na&oe)===oe){var Q=K.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),oe===no&&(ie=!0);else if((na&Q)===Q){K=K.next,Q===no&&(ie=!0);continue}else oe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(T=j=oe,_=p):j=j.next=oe,Ge.lanes|=Q,ca|=Q;oe=K.action,ps&&s(p,oe),p=K.hasEagerState?K.eagerState:s(p,oe)}else Q={lane:oe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(T=j=Q,_=p):j=j.next=Q,Ge.lanes|=oe,ca|=oe;K=K.next}while(K!==null&&K!==i);if(j===null?_=p:j.next=T,!Xn(p,n.memoizedState)&&(ln=!0,ie&&(s=ro,s!==null)))throw s;n.memoizedState=p,n.baseState=_,n.baseQueue=j,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Sh(n){var i=Xt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var c=s.dispatch,d=s.pending,p=i.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do p=n(p,_.action),_=_.next;while(_!==d);Xn(p,i.memoizedState)||(ln=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,c]}function by(n,i,s){var c=Ge,d=Xt(),p=ft;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!Xn((xt||d).memoizedState,s);_&&(d.memoizedState=s,ln=!0),d=d.queue;var T=wy.bind(null,c,d,n);if(jl(2048,8,T,[n]),d.getSnapshot!==i||_||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,oo(9,ju(),_y.bind(null,c,d,s,i),null),Tt===null)throw Error(a(349));p||(na&124)!==0||vy(c,i,s)}return s}function vy(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ge.updateQueue,i===null?(i=wh(),Ge.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function _y(n,i,s,c){i.value=s,i.getSnapshot=c,Ey(i)&&Ty(n)}function wy(n,i,s){return s(function(){Ey(i)&&Ty(n)})}function Ey(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Xn(n,s)}catch{return!0}}function Ty(n){var i=Js(n,2);i!==null&&Zn(i,n,2)}function Ah(n){var i=Ln();if(typeof n=="function"){var s=n;if(n=s(),ps){Pe(!0);try{s()}finally{Pe(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},i}function Sy(n,i,s,c){return n.baseState=s,Th(n,xt,typeof c=="function"?c:Ei)}function AE(n,i,s,c,d){if(Lu(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};W.T!==null?s(!0):p.isTransition=!1,c(p),s=i.pending,s===null?(p.next=i.pending=p,Ay(i,p)):(p.next=s.next,i.pending=s.next=p)}}function Ay(n,i){var s=i.action,c=i.payload,d=n.state;if(i.isTransition){var p=W.T,_={};W.T=_;try{var T=s(d,c),j=W.S;j!==null&&j(_,T),Ny(n,i,T)}catch(K){Nh(n,i,K)}finally{W.T=p}}else try{p=s(d,c),Ny(n,i,p)}catch(K){Nh(n,i,K)}}function Ny(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Cy(n,i,c)},function(c){return Nh(n,i,c)}):Cy(n,i,s)}function Cy(n,i,s){i.status="fulfilled",i.value=s,Ry(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Ay(n,s)))}function Nh(n,i,s){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,Ry(i),i=i.next;while(i!==c)}n.action=null}function Ry(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ky(n,i){return i}function Iy(n,i){if(ft){var s=Tt.formState;if(s!==null){e:{var c=Ge;if(ft){if(Mt){t:{for(var d=Mt,p=qr;d.nodeType!==8;){if(!p){d=null;break t}if(d=Er(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Mt=Er(d.nextSibling),c=d.data==="F!";break e}}fs(c)}c=!1}c&&(i=s[0])}}return s=Ln(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:i},s.queue=c,s=Qy.bind(null,Ge,c),c.dispatch=s,c=Ah(!1),p=Dh.bind(null,Ge,!1,c.queue),c=Ln(),d={state:i,dispatch:null,action:n,pending:null},c.queue=d,s=AE.bind(null,Ge,d,p,s),d.dispatch=s,c.memoizedState=n,[i,s,!1]}function Dy(n){var i=Xt();return Oy(i,xt,n)}function Oy(n,i,s){if(i=Th(n,i,ky)[0],n=Ou(Ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ol(i)}catch(_){throw _===Nl?Nu:_}else c=i;i=Xt();var d=i.queue,p=d.dispatch;return s!==i.memoizedState&&(Ge.flags|=2048,oo(9,ju(),NE.bind(null,d,s),null)),[c,p,n]}function NE(n,i){n.action=i}function jy(n){var i=Xt(),s=xt;if(s!==null)return Oy(i,s,n);Xt(),i=i.memoizedState,s=Xt();var c=s.queue.dispatch;return s.memoizedState=n,[i,c,!1]}function oo(n,i,s,c){return n={tag:n,create:s,deps:c,inst:i,next:null},i=Ge.updateQueue,i===null&&(i=wh(),Ge.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(c=s.next,s.next=n,n.next=c,i.lastEffect=n),n}function ju(){return{destroy:void 0,resource:void 0}}function My(){return Xt().memoizedState}function Mu(n,i,s,c){var d=Ln();c=c===void 0?null:c,Ge.flags|=n,d.memoizedState=oo(1|i,ju(),s,c)}function jl(n,i,s,c){var d=Xt();c=c===void 0?null:c;var p=d.memoizedState.inst;xt!==null&&c!==null&&yh(c,xt.memoizedState.deps)?d.memoizedState=oo(i,p,s,c):(Ge.flags|=n,d.memoizedState=oo(1|i,p,s,c))}function Ly(n,i){Mu(8390656,8,n,i)}function Py(n,i){jl(2048,8,n,i)}function Vy(n,i){return jl(4,2,n,i)}function Uy(n,i){return jl(4,4,n,i)}function zy(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function By(n,i,s){s=s!=null?s.concat([n]):null,jl(4,4,zy.bind(null,i,n),s)}function Ch(){}function Fy(n,i){var s=Xt();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&yh(i,c[1])?c[0]:(s.memoizedState=[n,i],n)}function qy(n,i){var s=Xt();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&yh(i,c[1]))return c[0];if(c=n(),ps){Pe(!0);try{n()}finally{Pe(!1)}}return s.memoizedState=[c,i],c}function Rh(n,i,s){return s===void 0||(na&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=$0(),Ge.lanes|=n,ca|=n,s)}function Hy(n,i,s,c){return Xn(s,i)?s:io.current!==null?(n=Rh(n,s,c),Xn(n,i)||(ln=!0),n):(na&42)===0?(ln=!0,n.memoizedState=s):(n=$0(),Ge.lanes|=n,ca|=n,i)}function Gy(n,i,s,c,d){var p=me.p;me.p=p!==0&&8>p?p:8;var _=W.T,T={};W.T=T,Dh(n,!1,i,s);try{var j=d(),K=W.S;if(K!==null&&K(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ie=EE(j,c);Ml(n,i,ie,Jn(n))}else Ml(n,i,c,Jn(n))}catch(oe){Ml(n,i,{then:function(){},status:"rejected",reason:oe},Jn())}finally{me.p=p,W.T=_}}function CE(){}function kh(n,i,s,c){if(n.tag!==5)throw Error(a(476));var d=$y(n).queue;Gy(n,d,i,ue,s===null?CE:function(){return Xy(n),s(c)})}function $y(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Xy(n){var i=$y(n).next.queue;Ml(n,i,{},Jn())}function Ih(){return _n(Zl)}function Yy(){return Xt().memoizedState}function Ky(){return Xt().memoizedState}function RE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Jn();n=ea(s);var c=ta(i,n,s);c!==null&&(Zn(c,i,s),Rl(c,i,s)),i={cache:oh()},n.payload=i;return}i=i.return}}function kE(n,i,s){var c=Jn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(n)?Wy(i,s):(s=Wd(n,i,s,c),s!==null&&(Zn(s,n,c),Jy(s,i,c)))}function Qy(n,i,s){var c=Jn();Ml(n,i,s,c)}function Ml(n,i,s,c){var d={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(n))Wy(i,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,T=p(_,s);if(d.hasEagerState=!0,d.eagerState=T,Xn(T,_))return bu(n,i,d,0),Tt===null&&xu(),!1}catch{}finally{}if(s=Wd(n,i,d,c),s!==null)return Zn(s,n,c),Jy(s,i,c),!0}return!1}function Dh(n,i,s,c){if(c={lane:2,revertLane:um(),action:c,hasEagerState:!1,eagerState:null,next:null},Lu(n)){if(i)throw Error(a(479))}else i=Wd(n,s,c,2),i!==null&&Zn(i,n,2)}function Lu(n){var i=n.alternate;return n===Ge||i!==null&&i===Ge}function Wy(n,i){ao=ku=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Jy(n,i,s){if((s&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,s|=c,i.lanes=s,Xi(n,s)}}var Pu={readContext:_n,use:Du,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},Zy={readContext:_n,use:Du,useCallback:function(n,i){return Ln().memoizedState=[n,i===void 0?null:i],n},useContext:_n,useEffect:Ly,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Mu(4194308,4,zy.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Mu(4194308,4,n,i)},useInsertionEffect:function(n,i){Mu(4,2,n,i)},useMemo:function(n,i){var s=Ln();i=i===void 0?null:i;var c=n();if(ps){Pe(!0);try{n()}finally{Pe(!1)}}return s.memoizedState=[c,i],c},useReducer:function(n,i,s){var c=Ln();if(s!==void 0){var d=s(i);if(ps){Pe(!0);try{s(i)}finally{Pe(!1)}}}else d=i;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=kE.bind(null,Ge,n),[c.memoizedState,n]},useRef:function(n){var i=Ln();return n={current:n},i.memoizedState=n},useState:function(n){n=Ah(n);var i=n.queue,s=Qy.bind(null,Ge,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:Ch,useDeferredValue:function(n,i){var s=Ln();return Rh(s,n,i)},useTransition:function(){var n=Ah(!1);return n=Gy.bind(null,Ge,n.queue,!0,!1),Ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var c=Ge,d=Ln();if(ft){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Tt===null)throw Error(a(349));(ot&124)!==0||vy(c,i,s)}d.memoizedState=s;var p={value:s,getSnapshot:i};return d.queue=p,Ly(wy.bind(null,c,p,n),[n]),c.flags|=2048,oo(9,ju(),_y.bind(null,c,p,s,i),null),s},useId:function(){var n=Ln(),i=Tt.identifierPrefix;if(ft){var s=vi,c=bi;s=(c&~(1<<32-Ye(c)-1)).toString(32)+s,i=""+i+"R"+s,s=Iu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=TE++,i=""+i+"r"+s.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Ih,useFormState:Iy,useActionState:Iy,useOptimistic:function(n){var i=Ln();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Dh.bind(null,Ge,!0,s),s.dispatch=i,[n,i]},useMemoCache:Eh,useCacheRefresh:function(){return Ln().memoizedState=RE.bind(null,Ge)}},e0={readContext:_n,use:Du,useCallback:Fy,useContext:_n,useEffect:Py,useImperativeHandle:By,useInsertionEffect:Vy,useLayoutEffect:Uy,useMemo:qy,useReducer:Ou,useRef:My,useState:function(){return Ou(Ei)},useDebugValue:Ch,useDeferredValue:function(n,i){var s=Xt();return Hy(s,xt.memoizedState,n,i)},useTransition:function(){var n=Ou(Ei)[0],i=Xt().memoizedState;return[typeof n=="boolean"?n:Ol(n),i]},useSyncExternalStore:by,useId:Yy,useHostTransitionStatus:Ih,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,i){var s=Xt();return Sy(s,xt,n,i)},useMemoCache:Eh,useCacheRefresh:Ky},IE={readContext:_n,use:Du,useCallback:Fy,useContext:_n,useEffect:Py,useImperativeHandle:By,useInsertionEffect:Vy,useLayoutEffect:Uy,useMemo:qy,useReducer:Sh,useRef:My,useState:function(){return Sh(Ei)},useDebugValue:Ch,useDeferredValue:function(n,i){var s=Xt();return xt===null?Rh(s,n,i):Hy(s,xt.memoizedState,n,i)},useTransition:function(){var n=Sh(Ei)[0],i=Xt().memoizedState;return[typeof n=="boolean"?n:Ol(n),i]},useSyncExternalStore:by,useId:Yy,useHostTransitionStatus:Ih,useFormState:jy,useActionState:jy,useOptimistic:function(n,i){var s=Xt();return xt!==null?Sy(s,xt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:Ky},lo=null,Ll=0;function Vu(n){var i=Ll;return Ll+=1,lo===null&&(lo=[]),fy(lo,n,i)}function Pl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Uu(n,i){throw i.$$typeof===w?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function t0(n){var i=n._init;return i(n._payload)}function n0(n){function i(H,B){if(n){var Y=H.deletions;Y===null?(H.deletions=[B],H.flags|=16):Y.push(B)}}function s(H,B){if(!n)return null;for(;B!==null;)i(H,B),B=B.sibling;return null}function c(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function d(H,B){return H=xi(H,B),H.index=0,H.sibling=null,H}function p(H,B,Y){return H.index=Y,n?(Y=H.alternate,Y!==null?(Y=Y.index,Y<B?(H.flags|=67108866,B):Y):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function _(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function T(H,B,Y,ae){return B===null||B.tag!==6?(B=Zd(Y,H.mode,ae),B.return=H,B):(B=d(B,Y),B.return=H,B)}function j(H,B,Y,ae){var ve=Y.type;return ve===U?ie(H,B,Y.props.children,ae,Y.key):B!==null&&(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&t0(ve)===B.type)?(B=d(B,Y.props),Pl(B,Y),B.return=H,B):(B=_u(Y.type,Y.key,Y.props,null,H.mode,ae),Pl(B,Y),B.return=H,B)}function K(H,B,Y,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=eh(Y,H.mode,ae),B.return=H,B):(B=d(B,Y.children||[]),B.return=H,B)}function ie(H,B,Y,ae,ve){return B===null||B.tag!==7?(B=os(Y,H.mode,ae,ve),B.return=H,B):(B=d(B,Y),B.return=H,B)}function oe(H,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Zd(""+B,H.mode,Y),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return Y=_u(B.type,B.key,B.props,null,H.mode,Y),Pl(Y,B),Y.return=H,Y;case k:return B=eh(B,H.mode,Y),B.return=H,B;case A:var ae=B._init;return B=ae(B._payload),oe(H,B,Y)}if(ct(B)||q(B))return B=os(B,H.mode,Y,null),B.return=H,B;if(typeof B.then=="function")return oe(H,Vu(B),Y);if(B.$$typeof===G)return oe(H,Su(H,B),Y);Uu(H,B)}return null}function Q(H,B,Y,ae){var ve=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:T(H,B,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===ve?j(H,B,Y,ae):null;case k:return Y.key===ve?K(H,B,Y,ae):null;case A:return ve=Y._init,Y=ve(Y._payload),Q(H,B,Y,ae)}if(ct(Y)||q(Y))return ve!==null?null:ie(H,B,Y,ae,null);if(typeof Y.then=="function")return Q(H,B,Vu(Y),ae);if(Y.$$typeof===G)return Q(H,B,Su(H,Y),ae);Uu(H,Y)}return null}function J(H,B,Y,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return H=H.get(Y)||null,T(B,H,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return H=H.get(ae.key===null?Y:ae.key)||null,j(B,H,ae,ve);case k:return H=H.get(ae.key===null?Y:ae.key)||null,K(B,H,ae,ve);case A:var $e=ae._init;return ae=$e(ae._payload),J(H,B,Y,ae,ve)}if(ct(ae)||q(ae))return H=H.get(Y)||null,ie(B,H,ae,ve,null);if(typeof ae.then=="function")return J(H,B,Y,Vu(ae),ve);if(ae.$$typeof===G)return J(H,B,Y,Su(B,ae),ve);Uu(B,ae)}return null}function Le(H,B,Y,ae){for(var ve=null,$e=null,Te=B,Ie=B=0,un=null;Te!==null&&Ie<Y.length;Ie++){Te.index>Ie?(un=Te,Te=null):un=Te.sibling;var ut=Q(H,Te,Y[Ie],ae);if(ut===null){Te===null&&(Te=un);break}n&&Te&&ut.alternate===null&&i(H,Te),B=p(ut,B,Ie),$e===null?ve=ut:$e.sibling=ut,$e=ut,Te=un}if(Ie===Y.length)return s(H,Te),ft&&cs(H,Ie),ve;if(Te===null){for(;Ie<Y.length;Ie++)Te=oe(H,Y[Ie],ae),Te!==null&&(B=p(Te,B,Ie),$e===null?ve=Te:$e.sibling=Te,$e=Te);return ft&&cs(H,Ie),ve}for(Te=c(Te);Ie<Y.length;Ie++)un=J(Te,H,Ie,Y[Ie],ae),un!==null&&(n&&un.alternate!==null&&Te.delete(un.key===null?Ie:un.key),B=p(un,B,Ie),$e===null?ve=un:$e.sibling=un,$e=un);return n&&Te.forEach(function(xa){return i(H,xa)}),ft&&cs(H,Ie),ve}function Ce(H,B,Y,ae){if(Y==null)throw Error(a(151));for(var ve=null,$e=null,Te=B,Ie=B=0,un=null,ut=Y.next();Te!==null&&!ut.done;Ie++,ut=Y.next()){Te.index>Ie?(un=Te,Te=null):un=Te.sibling;var xa=Q(H,Te,ut.value,ae);if(xa===null){Te===null&&(Te=un);break}n&&Te&&xa.alternate===null&&i(H,Te),B=p(xa,B,Ie),$e===null?ve=xa:$e.sibling=xa,$e=xa,Te=un}if(ut.done)return s(H,Te),ft&&cs(H,Ie),ve;if(Te===null){for(;!ut.done;Ie++,ut=Y.next())ut=oe(H,ut.value,ae),ut!==null&&(B=p(ut,B,Ie),$e===null?ve=ut:$e.sibling=ut,$e=ut);return ft&&cs(H,Ie),ve}for(Te=c(Te);!ut.done;Ie++,ut=Y.next())ut=J(Te,H,Ie,ut.value,ae),ut!==null&&(n&&ut.alternate!==null&&Te.delete(ut.key===null?Ie:ut.key),B=p(ut,B,Ie),$e===null?ve=ut:$e.sibling=ut,$e=ut);return n&&Te.forEach(function(DT){return i(H,DT)}),ft&&cs(H,Ie),ve}function vt(H,B,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===U&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var ve=Y.key;B!==null;){if(B.key===ve){if(ve=Y.type,ve===U){if(B.tag===7){s(H,B.sibling),ae=d(B,Y.props.children),ae.return=H,H=ae;break e}}else if(B.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&t0(ve)===B.type){s(H,B.sibling),ae=d(B,Y.props),Pl(ae,Y),ae.return=H,H=ae;break e}s(H,B);break}else i(H,B);B=B.sibling}Y.type===U?(ae=os(Y.props.children,H.mode,ae,Y.key),ae.return=H,H=ae):(ae=_u(Y.type,Y.key,Y.props,null,H.mode,ae),Pl(ae,Y),ae.return=H,H=ae)}return _(H);case k:e:{for(ve=Y.key;B!==null;){if(B.key===ve)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){s(H,B.sibling),ae=d(B,Y.children||[]),ae.return=H,H=ae;break e}else{s(H,B);break}else i(H,B);B=B.sibling}ae=eh(Y,H.mode,ae),ae.return=H,H=ae}return _(H);case A:return ve=Y._init,Y=ve(Y._payload),vt(H,B,Y,ae)}if(ct(Y))return Le(H,B,Y,ae);if(q(Y)){if(ve=q(Y),typeof ve!="function")throw Error(a(150));return Y=ve.call(Y),Ce(H,B,Y,ae)}if(typeof Y.then=="function")return vt(H,B,Vu(Y),ae);if(Y.$$typeof===G)return vt(H,B,Su(H,Y),ae);Uu(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(s(H,B.sibling),ae=d(B,Y),ae.return=H,H=ae):(s(H,B),ae=Zd(Y,H.mode,ae),ae.return=H,H=ae),_(H)):s(H,B)}return function(H,B,Y,ae){try{Ll=0;var ve=vt(H,B,Y,ae);return lo=null,ve}catch(Te){if(Te===Nl||Te===Nu)throw Te;var $e=Yn(29,Te,null,H.mode);return $e.lanes=ae,$e.return=H,$e}finally{}}}var co=n0(!0),r0=n0(!1),dr=te(null),Hr=null;function ra(n){var i=n.alternate;fe(tn,tn.current&1),fe(dr,n),Hr===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(Hr=n)}function i0(n){if(n.tag===22){if(fe(tn,tn.current),fe(dr,n),Hr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Hr=n)}}else ia()}function ia(){fe(tn,tn.current),fe(dr,dr.current)}function Ti(n){de(dr),Hr===n&&(Hr=null),de(tn)}var tn=te(0);function zu(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||wm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Oh(n,i,s,c){i=n.memoizedState,s=s(c,i),s=s==null?i:b({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var jh={enqueueSetState:function(n,i,s){n=n._reactInternals;var c=Jn(),d=ea(c);d.payload=i,s!=null&&(d.callback=s),i=ta(n,d,c),i!==null&&(Zn(i,n,c),Rl(i,n,c))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var c=Jn(),d=ea(c);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=ta(n,d,c),i!==null&&(Zn(i,n,c),Rl(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Jn(),c=ea(s);c.tag=2,i!=null&&(c.callback=i),i=ta(n,c,s),i!==null&&(Zn(i,n,s),Rl(i,n,s))}};function a0(n,i,s,c,d,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,_):i.prototype&&i.prototype.isPureReactComponent?!bl(s,c)||!bl(d,p):!0}function s0(n,i,s,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==n&&jh.enqueueReplaceState(i,i.state,null)}function gs(n,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(n=n.defaultProps){s===i&&(s=b({},s));for(var d in n)s[d]===void 0&&(s[d]=n[d])}return s}var Bu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function o0(n){Bu(n)}function l0(n){console.error(n)}function c0(n){Bu(n)}function Fu(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function u0(n,i,s){try{var c=n.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mh(n,i,s){return s=ea(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(n,i)},s}function f0(n){return n=ea(n),n.tag=3,n}function d0(n,i,s,c){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){u0(i,s,c)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){u0(i,s,c),typeof d!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function DE(n,i,s,c,d){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&Tl(i,s,d,!0),s=dr.current,s!==null){switch(s.tag){case 13:return Hr===null?am():s.alternate===null&&Lt===0&&(Lt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,c===uh?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),om(n,c,d)),!1;case 22:return s.flags|=65536,c===uh?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),om(n,c,d)),!1}throw Error(a(435,s.tag))}return om(n,c,d),am(),!1}if(ft)return i=dr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==rh&&(n=Error(a(422),{cause:c}),El(lr(n,s)))):(c!==rh&&(i=Error(a(423),{cause:c}),El(lr(i,s))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=lr(c,s),d=Mh(n.stateNode,c,d),hh(n,d),Lt!==4&&(Lt=2)),!1;var p=Error(a(520),{cause:c});if(p=lr(p,s),Hl===null?Hl=[p]:Hl.push(p),Lt!==4&&(Lt=2),i===null)return!0;c=lr(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=d&-d,s.lanes|=n,n=Mh(s.stateNode,c,n),hh(s,n),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ua===null||!ua.has(p))))return s.flags|=65536,d&=-d,s.lanes|=d,d=f0(d),d0(d,n,s,c),hh(s,d),!1}s=s.return}while(s!==null);return!1}var h0=Error(a(461)),ln=!1;function mn(n,i,s,c){i.child=n===null?r0(i,null,s,c):co(i,n.child,s,c)}function m0(n,i,s,c,d){s=s.render;var p=i.ref;if("ref"in c){var _={};for(var T in c)T!=="ref"&&(_[T]=c[T])}else _=c;return hs(i),c=xh(n,i,s,_,p,d),T=bh(),n!==null&&!ln?(vh(n,i,d),Si(n,i,d)):(ft&&T&&th(i),i.flags|=1,mn(n,i,c,d),i.child)}function p0(n,i,s,c,d){if(n===null){var p=s.type;return typeof p=="function"&&!Jd(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,g0(n,i,p,c,d)):(n=_u(s.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!qh(n,d)){var _=p.memoizedProps;if(s=s.compare,s=s!==null?s:bl,s(_,c)&&n.ref===i.ref)return Si(n,i,d)}return i.flags|=1,n=xi(p,c),n.ref=i.ref,n.return=i,i.child=n}function g0(n,i,s,c,d){if(n!==null){var p=n.memoizedProps;if(bl(p,c)&&n.ref===i.ref)if(ln=!1,i.pendingProps=c=p,qh(n,d))(n.flags&131072)!==0&&(ln=!0);else return i.lanes=n.lanes,Si(n,i,d)}return Lh(n,i,s,c,d)}function y0(n,i,s){var c=i.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=p!==null?p.baseLanes|s:s,n!==null){for(d=i.child=n.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~c}else i.childLanes=0,i.child=null;return x0(n,i,c,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Au(i,p!==null?p.cachePool:null),p!==null?gy(i,p):ph(),i0(i);else return i.lanes=i.childLanes=536870912,x0(n,i,p!==null?p.baseLanes|s:s,s)}else p!==null?(Au(i,p.cachePool),gy(i,p),ia(),i.memoizedState=null):(n!==null&&Au(i,null),ph(),ia());return mn(n,i,d,s),i.child}function x0(n,i,s,c){var d=ch();return d=d===null?null:{parent:en._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},n!==null&&Au(i,null),ph(),i0(i),n!==null&&Tl(n,i,c,!0),null}function qu(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function Lh(n,i,s,c,d){return hs(i),s=xh(n,i,s,c,void 0,d),c=bh(),n!==null&&!ln?(vh(n,i,d),Si(n,i,d)):(ft&&c&&th(i),i.flags|=1,mn(n,i,s,d),i.child)}function b0(n,i,s,c,d,p){return hs(i),i.updateQueue=null,s=xy(i,c,s,d),yy(n),c=bh(),n!==null&&!ln?(vh(n,i,p),Si(n,i,p)):(ft&&c&&th(i),i.flags|=1,mn(n,i,s,p),i.child)}function v0(n,i,s,c,d){if(hs(i),i.stateNode===null){var p=Zs,_=s.contextType;typeof _=="object"&&_!==null&&(p=_n(_)),p=new s(c,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jh,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=c,p.state=i.memoizedState,p.refs={},fh(i),_=s.contextType,p.context=typeof _=="object"&&_!==null?_n(_):Zs,p.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Oh(i,s,_,c),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&jh.enqueueReplaceState(p,p.state,null),Il(i,c,p,d),kl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){p=i.stateNode;var T=i.memoizedProps,j=gs(s,T);p.props=j;var K=p.context,ie=s.contextType;_=Zs,typeof ie=="object"&&ie!==null&&(_=_n(ie));var oe=s.getDerivedStateFromProps;ie=typeof oe=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ie||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||K!==_)&&s0(i,p,c,_),Zi=!1;var Q=i.memoizedState;p.state=Q,Il(i,c,p,d),kl(),K=i.memoizedState,T||Q!==K||Zi?(typeof oe=="function"&&(Oh(i,s,oe,c),K=i.memoizedState),(j=Zi||a0(i,s,j,c,Q,K,_))?(ie||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=K),p.props=c,p.state=K,p.context=_,c=j):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{p=i.stateNode,dh(n,i),_=i.memoizedProps,ie=gs(s,_),p.props=ie,oe=i.pendingProps,Q=p.context,K=s.contextType,j=Zs,typeof K=="object"&&K!==null&&(j=_n(K)),T=s.getDerivedStateFromProps,(K=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==oe||Q!==j)&&s0(i,p,c,j),Zi=!1,Q=i.memoizedState,p.state=Q,Il(i,c,p,d),kl();var J=i.memoizedState;_!==oe||Q!==J||Zi||n!==null&&n.dependencies!==null&&Tu(n.dependencies)?(typeof T=="function"&&(Oh(i,s,T,c),J=i.memoizedState),(ie=Zi||a0(i,s,ie,c,Q,J,j)||n!==null&&n.dependencies!==null&&Tu(n.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,J,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,J,j)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=J),p.props=c,p.state=J,p.context=j,c=ie):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),c=!1)}return p=c,qu(n,i),c=(i.flags&128)!==0,p||c?(p=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&c?(i.child=co(i,n.child,null,d),i.child=co(i,null,s,d)):mn(n,i,s,d),i.memoizedState=p.state,n=i.child):n=Si(n,i,d),n}function _0(n,i,s,c){return wl(),i.flags|=256,mn(n,i,s,c),i.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(n){return{baseLanes:n,cachePool:ly()}}function Uh(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=hr),n}function w0(n,i,s){var c=i.pendingProps,d=!1,p=(i.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(tn.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(ft){if(d?ra(i):ia(),ft){var T=Mt,j;if(j=T){e:{for(j=T,T=qr;j.nodeType!==8;){if(!T){T=null;break e}if(j=Er(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(i.memoizedState={dehydrated:T,treeContext:ls!==null?{id:bi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},j=Yn(18,null,null,0),j.stateNode=T,j.return=i,i.child=j,On=i,Mt=null,j=!0):j=!1}j||fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return wm(T)?i.lanes=32:i.lanes=536870912,null;Ti(i)}return T=c.children,c=c.fallback,d?(ia(),d=i.mode,T=Hu({mode:"hidden",children:T},d),c=os(c,d,s,null),T.return=i,c.return=i,T.sibling=c,i.child=T,d=i.child,d.memoizedState=Vh(s),d.childLanes=Uh(n,_,s),i.memoizedState=Ph,c):(ra(i),zh(i,T))}if(j=n.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(p)i.flags&256?(ra(i),i.flags&=-257,i=Bh(n,i,s)):i.memoizedState!==null?(ia(),i.child=n.child,i.flags|=128,i=null):(ia(),d=c.fallback,T=i.mode,c=Hu({mode:"visible",children:c.children},T),d=os(d,T,s,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,co(i,n.child,null,s),c=i.child,c.memoizedState=Vh(s),c.childLanes=Uh(n,_,s),i.memoizedState=Ph,i=d);else if(ra(i),wm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var K=_.dgst;_=K,c=Error(a(419)),c.stack="",c.digest=_,El({value:c,source:null,stack:null}),i=Bh(n,i,s)}else if(ln||Tl(n,i,s,!1),_=(s&n.childLanes)!==0,ln||_){if(_=Tt,_!==null&&(c=s&-s,c=(c&42)!==0?1:Ir(c),c=(c&(_.suspendedLanes|s))!==0?0:c,c!==0&&c!==j.retryLane))throw j.retryLane=c,Js(n,c),Zn(_,n,c),h0;T.data==="$?"||am(),i=Bh(n,i,s)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=j.treeContext,Mt=Er(T.nextSibling),On=i,ft=!0,us=null,qr=!1,n!==null&&(ur[fr++]=bi,ur[fr++]=vi,ur[fr++]=ls,bi=n.id,vi=n.overflow,ls=i),i=zh(i,c.children),i.flags|=4096);return i}return d?(ia(),d=c.fallback,T=i.mode,j=n.child,K=j.sibling,c=xi(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,K!==null?d=xi(K,d):(d=os(d,T,s,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,T=n.child.memoizedState,T===null?T=Vh(s):(j=T.cachePool,j!==null?(K=en._currentValue,j=j.parent!==K?{parent:K,pool:K}:j):j=ly(),T={baseLanes:T.baseLanes|s,cachePool:j}),d.memoizedState=T,d.childLanes=Uh(n,_,s),i.memoizedState=Ph,c):(ra(i),s=n.child,n=s.sibling,s=xi(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=s,i.memoizedState=null,s)}function zh(n,i){return i=Hu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Hu(n,i){return n=Yn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Bh(n,i,s){return co(i,n.child,null,s),n=zh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function E0(n,i,s){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ah(n.return,i,s)}function Fh(n,i,s,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=s,p.tailMode=d)}function T0(n,i,s){var c=i.pendingProps,d=c.revealOrder,p=c.tail;if(mn(n,i,c.children,s),c=tn.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&E0(n,s,i);else if(n.tag===19)E0(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(fe(tn,c),d){case"forwards":for(s=i.child,d=null;s!==null;)n=s.alternate,n!==null&&zu(n)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),Fh(i,!1,d,s,p);break;case"backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&zu(n)===null){i.child=d;break}n=d.sibling,d.sibling=s,s=d,d=n}Fh(i,!0,s,null,p);break;case"together":Fh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Si(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),ca|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Tl(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=xi(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=xi(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function qh(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Tu(n)))}function OE(n,i,s){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),Ji(i,en,n.memoizedState.cache),wl();break;case 27:case 5:kr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ra(i),i.flags|=128,null):(s&i.child.childLanes)!==0?w0(n,i,s):(ra(i),n=Si(n,i,s),n!==null?n.sibling:null);ra(i);break;case 19:var d=(n.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(Tl(n,i,s,!1),c=(s&i.childLanes)!==0),d){if(c)return T0(n,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),fe(tn,tn.current),c)break;return null;case 22:case 23:return i.lanes=0,y0(n,i,s);case 24:Ji(i,en,n.memoizedState.cache)}return Si(n,i,s)}function S0(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)ln=!0;else{if(!qh(n,s)&&(i.flags&128)===0)return ln=!1,OE(n,i,s);ln=(n.flags&131072)!==0}else ln=!1,ft&&(i.flags&1048576)!==0&&ty(i,Eu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")Jd(c)?(n=gs(c,n),i.tag=1,i=v0(null,i,c,n,s)):(i.tag=0,i=Lh(null,i,c,n,s));else{if(c!=null){if(d=c.$$typeof,d===ne){i.tag=11,i=m0(null,i,c,n,s);break e}else if(d===N){i.tag=14,i=p0(null,i,c,n,s);break e}}throw i=nt(c)||c,Error(a(306,i,""))}}return i;case 0:return Lh(n,i,i.type,i.pendingProps,s);case 1:return c=i.type,d=gs(c,i.pendingProps),v0(n,i,c,d,s);case 3:e:{if(Je(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var p=i.memoizedState;d=p.element,dh(n,i),Il(i,c,null,s);var _=i.memoizedState;if(c=_.cache,Ji(i,en,c),c!==p.cache&&sh(i,[en],s,!0),kl(),c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=_0(n,i,c,s);break e}else if(c!==d){d=lr(Error(a(424)),i),El(d),i=_0(n,i,c,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Mt=Er(n.firstChild),On=i,ft=!0,us=null,qr=!0,s=r0(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wl(),c===d){i=Si(n,i,s);break e}mn(n,i,c,s)}i=i.child}return i;case 26:return qu(n,i),n===null?(s=Rx(i.type,null,i.pendingProps,null))?i.memoizedState=s:ft||(s=i.type,n=i.pendingProps,c=af(ke.current).createElement(s),c[Pt]=i,c[jt]=n,gn(c,s,n),Vt(c),i.stateNode=c):i.memoizedState=Rx(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return kr(i),n===null&&ft&&(c=i.stateNode=Ax(i.type,i.pendingProps,ke.current),On=i,qr=!0,d=Mt,ha(i.type)?(Em=d,Mt=Er(c.firstChild)):Mt=d),mn(n,i,i.pendingProps.children,s),qu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ft&&((d=c=Mt)&&(c=oT(c,i.type,i.pendingProps,qr),c!==null?(i.stateNode=c,On=i,Mt=Er(c.firstChild),qr=!1,d=!0):d=!1),d||fs(i)),kr(i),d=i.type,p=i.pendingProps,_=n!==null?n.memoizedProps:null,c=p.children,bm(d,p)?c=null:_!==null&&bm(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=xh(n,i,SE,null,null,s),Zl._currentValue=d),qu(n,i),mn(n,i,c,s),i.child;case 6:return n===null&&ft&&((n=s=Mt)&&(s=lT(s,i.pendingProps,qr),s!==null?(i.stateNode=s,On=i,Mt=null,n=!0):n=!1),n||fs(i)),null;case 13:return w0(n,i,s);case 4:return Je(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=co(i,null,c,s):mn(n,i,c,s),i.child;case 11:return m0(n,i,i.type,i.pendingProps,s);case 7:return mn(n,i,i.pendingProps,s),i.child;case 8:return mn(n,i,i.pendingProps.children,s),i.child;case 12:return mn(n,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,Ji(i,i.type,c.value),mn(n,i,c.children,s),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,hs(i),d=_n(d),c=c(d),i.flags|=1,mn(n,i,c,s),i.child;case 14:return p0(n,i,i.type,i.pendingProps,s);case 15:return g0(n,i,i.type,i.pendingProps,s);case 19:return T0(n,i,s);case 31:return c=i.pendingProps,s=i.mode,c={mode:c.mode,children:c.children},n===null?(s=Hu(c,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=xi(n.child,c),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return y0(n,i,s);case 24:return hs(i),c=_n(en),n===null?(d=ch(),d===null&&(d=Tt,p=oh(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=s),d=p),i.memoizedState={parent:c,cache:d},fh(i),Ji(i,en,d)):((n.lanes&s)!==0&&(dh(n,i),Il(i,null,null,s),kl()),d=n.memoizedState,p=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ji(i,en,c)):(c=p.cache,Ji(i,en,c),c!==d.cache&&sh(i,[en],s,!0))),mn(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ai(n){n.flags|=4}function A0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!jx(i)){if(i=dr.current,i!==null&&((ot&4194048)===ot?Hr!==null:(ot&62914560)!==ot&&(ot&536870912)===0||i!==Hr))throw Cl=uh,cy;n.flags|=8192}}function Gu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Gi():536870912,n.lanes|=i,mo|=i)}function Vl(n,i){if(!ft)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,c=0;if(i)for(var d=n.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=s,i}function jE(n,i,s){var c=i.pendingProps;switch(nh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return s=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),wi(en),nr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(_l(i)?Ai(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,iy())),Dt(i),null;case 26:return s=i.memoizedState,n===null?(Ai(i),s!==null?(Dt(i),A0(i,s)):(Dt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Ai(i),Dt(i),A0(i,s)):(Dt(i),i.flags&=-16777217):(n.memoizedProps!==c&&Ai(i),Dt(i),i.flags&=-16777217),null;case 27:Fn(i),s=ke.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Ai(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}n=we.current,_l(i)?ny(i):(n=Ax(d,c,s),i.stateNode=n,Ai(i))}return Dt(i),null;case 5:if(Fn(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Ai(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Dt(i),null}if(n=we.current,_l(i))ny(i);else{switch(d=af(ke.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?d.createElement(s,{is:c.is}):d.createElement(s)}}n[Pt]=i,n[jt]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(gn(n,s,c),s){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ai(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Ai(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=ke.current,_l(i)){if(n=i.stateNode,s=i.memoizedProps,c=null,d=On,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[Pt]=i,n=!!(n.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||bx(n.nodeValue,s)),n||fs(i)}else n=af(n).createTextNode(c),n[Pt]=i,i.stateNode=n}return Dt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=_l(i),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(a(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Pt]=i}else wl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),d=!1}else d=iy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ti(i),i):(Ti(i),null)}if(Ti(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=c!==null,n=n!==null&&n.memoizedState!==null,s){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Gu(i,i.updateQueue),Dt(i),null;case 4:return nr(),n===null&&mm(i.stateNode.containerInfo),Dt(i),null;case 10:return wi(i.type),Dt(i),null;case 19:if(de(tn),d=i.memoizedState,d===null)return Dt(i),null;if(c=(i.flags&128)!==0,p=d.rendering,p===null)if(c)Vl(d,!1);else{if(Lt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=zu(n),p!==null){for(i.flags|=128,Vl(d,!1),n=p.updateQueue,i.updateQueue=n,Gu(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)ey(s,n),s=s.sibling;return fe(tn,tn.current&1|2),i.child}n=n.sibling}d.tail!==null&&be()>Yu&&(i.flags|=128,c=!0,Vl(d,!1),i.lanes=4194304)}else{if(!c)if(n=zu(p),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,Gu(i,n),Vl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!ft)return Dt(i),null}else 2*be()-d.renderingStartTime>Yu&&s!==536870912&&(i.flags|=128,c=!0,Vl(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(n=d.last,n!==null?n.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=be(),i.sibling=null,n=tn.current,fe(tn,c?n&1|2:n&1),i):(Dt(i),null);case 22:case 23:return Ti(i),gh(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),s=i.updateQueue,s!==null&&Gu(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),n!==null&&de(ms),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),wi(en),Dt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ME(n,i){switch(nh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return wi(en),nr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Fn(i),null;case 13:if(Ti(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));wl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return de(tn),null;case 4:return nr(),null;case 10:return wi(i.type),null;case 22:case 23:return Ti(i),gh(),n!==null&&de(ms),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return wi(en),null;case 25:return null;default:return null}}function N0(n,i){switch(nh(i),i.tag){case 3:wi(en),nr();break;case 26:case 27:case 5:Fn(i);break;case 4:nr();break;case 13:Ti(i);break;case 19:de(tn);break;case 10:wi(i.type);break;case 22:case 23:Ti(i),gh(),n!==null&&de(ms);break;case 24:wi(en)}}function Ul(n,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var d=c.next;s=d;do{if((s.tag&n)===n){c=void 0;var p=s.create,_=s.inst;c=p(),_.destroy=c}s=s.next}while(s!==d)}}catch(T){_t(i,i.return,T)}}function aa(n,i,s){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var _=c.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,d=i;var j=s,K=T;try{K()}catch(ie){_t(d,j,ie)}}}c=c.next}while(c!==p)}}catch(ie){_t(i,i.return,ie)}}function C0(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{py(i,s)}catch(c){_t(n,n.return,c)}}}function R0(n,i,s){s.props=gs(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(c){_t(n,i,c)}}function zl(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof s=="function"?n.refCleanup=s(c):s.current=c}}catch(d){_t(n,i,d)}}function Gr(n,i){var s=n.ref,c=n.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(d){_t(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){_t(n,i,d)}else s.current=null}function k0(n){var i=n.type,s=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(d){_t(n,n.return,d)}}function Hh(n,i,s){try{var c=n.stateNode;nT(c,n.type,s,i),c[jt]=i}catch(d){_t(n,n.return,d)}}function I0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ha(n.type)||n.tag===4}function Gh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||I0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ha(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $h(n,i,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=rf));else if(c!==4&&(c===27&&ha(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for($h(n,i,s),n=n.sibling;n!==null;)$h(n,i,s),n=n.sibling}function $u(n,i,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(c!==4&&(c===27&&ha(n.type)&&(s=n.stateNode),n=n.child,n!==null))for($u(n,i,s),n=n.sibling;n!==null;)$u(n,i,s),n=n.sibling}function D0(n){var i=n.stateNode,s=n.memoizedProps;try{for(var c=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);gn(i,c,s),i[Pt]=n,i[jt]=s}catch(p){_t(n,n.return,p)}}var Ni=!1,zt=!1,Xh=!1,O0=typeof WeakSet=="function"?WeakSet:Set,cn=null;function LE(n,i){if(n=n.containerInfo,ym=ff,n=Hg(n),Gd(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var _=0,T=-1,j=-1,K=0,ie=0,oe=n,Q=null;t:for(;;){for(var J;oe!==s||d!==0&&oe.nodeType!==3||(T=_+d),oe!==p||c!==0&&oe.nodeType!==3||(j=_+c),oe.nodeType===3&&(_+=oe.nodeValue.length),(J=oe.firstChild)!==null;)Q=oe,oe=J;for(;;){if(oe===n)break t;if(Q===s&&++K===d&&(T=_),Q===p&&++ie===c&&(j=_),(J=oe.nextSibling)!==null)break;oe=Q,Q=oe.parentNode}oe=J}s=T===-1||j===-1?null:{start:T,end:j}}else s=null}s=s||{start:0,end:0}}else s=null;for(xm={focusedElem:n,selectionRange:s},ff=!1,cn=i;cn!==null;)if(i=cn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,cn=n;else for(;cn!==null;){switch(i=cn,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=i,d=p.memoizedProps,p=p.memoizedState,c=s.stateNode;try{var Le=gs(s.type,d,s.elementType===s.type);n=c.getSnapshotBeforeUpdate(Le,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ce){_t(s,s.return,Ce)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)_m(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_m(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,cn=n;break}cn=i.return}}function j0(n,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:sa(n,s),c&4&&Ul(5,s);break;case 1:if(sa(n,s),c&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(_){_t(s,s.return,_)}else{var d=gs(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){_t(s,s.return,_)}}c&64&&C0(s),c&512&&zl(s,s.return);break;case 3:if(sa(n,s),c&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{py(n,i)}catch(_){_t(s,s.return,_)}}break;case 27:i===null&&c&4&&D0(s);case 26:case 5:sa(n,s),i===null&&c&4&&k0(s),c&512&&zl(s,s.return);break;case 12:sa(n,s);break;case 13:sa(n,s),c&4&&P0(n,s),c&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=GE.bind(null,s),cT(n,s))));break;case 22:if(c=s.memoizedState!==null||Ni,!c){i=i!==null&&i.memoizedState!==null||zt,d=Ni;var p=zt;Ni=c,(zt=i)&&!p?oa(n,s,(s.subtreeFlags&8772)!==0):sa(n,s),Ni=d,zt=p}break;case 30:break;default:sa(n,s)}}function M0(n){var i=n.alternate;i!==null&&(n.alternate=null,M0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Yi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,Pn=!1;function Ci(n,i,s){for(s=s.child;s!==null;)L0(n,i,s),s=s.sibling}function L0(n,i,s){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Fe,s)}catch{}switch(s.tag){case 26:zt||Gr(s,i),Ci(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:zt||Gr(s,i);var c=Nt,d=Pn;ha(s.type)&&(Nt=s.stateNode,Pn=!1),Ci(n,i,s),Kl(s.stateNode),Nt=c,Pn=d;break;case 5:zt||Gr(s,i);case 6:if(c=Nt,d=Pn,Nt=null,Ci(n,i,s),Nt=c,Pn=d,Nt!==null)if(Pn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(s.stateNode)}catch(p){_t(s,i,p)}else try{Nt.removeChild(s.stateNode)}catch(p){_t(s,i,p)}break;case 18:Nt!==null&&(Pn?(n=Nt,Tx(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),rc(n)):Tx(Nt,s.stateNode));break;case 4:c=Nt,d=Pn,Nt=s.stateNode.containerInfo,Pn=!0,Ci(n,i,s),Nt=c,Pn=d;break;case 0:case 11:case 14:case 15:zt||aa(2,s,i),zt||aa(4,s,i),Ci(n,i,s);break;case 1:zt||(Gr(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&R0(s,i,c)),Ci(n,i,s);break;case 21:Ci(n,i,s);break;case 22:zt=(c=zt)||s.memoizedState!==null,Ci(n,i,s),zt=c;break;default:Ci(n,i,s)}}function P0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{rc(n)}catch(s){_t(i,i.return,s)}}function PE(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new O0),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new O0),i;default:throw Error(a(435,n.tag))}}function Yh(n,i){var s=PE(n);i.forEach(function(c){var d=$E.bind(null,n,c);s.has(c)||(s.add(c),c.then(d,d))})}function Kn(n,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c],p=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ha(T.type)){Nt=T.stateNode,Pn=!1;break e}break;case 5:Nt=T.stateNode,Pn=!1;break e;case 3:case 4:Nt=T.stateNode.containerInfo,Pn=!0;break e}T=T.return}if(Nt===null)throw Error(a(160));L0(p,_,d),Nt=null,Pn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)V0(i,n),i=i.sibling}var wr=null;function V0(n,i){var s=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kn(i,n),Qn(n),c&4&&(aa(3,n,n.return),Ul(3,n),aa(5,n,n.return));break;case 1:Kn(i,n),Qn(n),c&512&&(zt||s===null||Gr(s,s.return)),c&64&&Ni&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var d=wr;if(Kn(i,n),Qn(n),c&512&&(zt||s===null||Gr(s,s.return)),c&4){var p=s!==null?s.memoizedState:null;if(c=n.memoizedState,s===null)if(c===null)if(n.stateNode===null){e:{c=n.type,s=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ga]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),gn(p,c,s),p[Pt]=n,Vt(p),c=p;break e;case"link":var _=Dx("link","href",d).get(c+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(p=_[T],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break t}}p=d.createElement(c),gn(p,c,s),d.head.appendChild(p);break;case"meta":if(_=Dx("meta","content",d).get(c+(s.content||""))){for(T=0;T<_.length;T++)if(p=_[T],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break t}}p=d.createElement(c),gn(p,c,s),d.head.appendChild(p);break;default:throw Error(a(468,c))}p[Pt]=n,Vt(p),c=p}n.stateNode=c}else Ox(d,n.type,n.stateNode);else n.stateNode=Ix(d,c,n.memoizedProps);else p!==c?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,c===null?Ox(d,n.type,n.stateNode):Ix(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Hh(n,n.memoizedProps,s.memoizedProps)}break;case 27:Kn(i,n),Qn(n),c&512&&(zt||s===null||Gr(s,s.return)),s!==null&&c&4&&Hh(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Kn(i,n),Qn(n),c&512&&(zt||s===null||Gr(s,s.return)),n.flags&32){d=n.stateNode;try{ir(d,"")}catch(J){_t(n,n.return,J)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Hh(n,d,s!==null?s.memoizedProps:d)),c&1024&&(Xh=!0);break;case 6:if(Kn(i,n),Qn(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,s=n.stateNode;try{s.nodeValue=c}catch(J){_t(n,n.return,J)}}break;case 3:if(lf=null,d=wr,wr=sf(i.containerInfo),Kn(i,n),wr=d,Qn(n),c&4&&s!==null&&s.memoizedState.isDehydrated)try{rc(i.containerInfo)}catch(J){_t(n,n.return,J)}Xh&&(Xh=!1,U0(n));break;case 4:c=wr,wr=sf(n.stateNode.containerInfo),Kn(i,n),Qn(n),wr=c;break;case 12:Kn(i,n),Qn(n);break;case 13:Kn(i,n),Qn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(em=be()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yh(n,c)));break;case 22:d=n.memoizedState!==null;var j=s!==null&&s.memoizedState!==null,K=Ni,ie=zt;if(Ni=K||d,zt=ie||j,Kn(i,n),zt=ie,Ni=K,Qn(n),c&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(s===null||j||Ni||zt||ys(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){j=s=i;try{if(p=j.stateNode,d)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=j.stateNode;var oe=j.memoizedProps.style,Q=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(J){_t(j,j.return,J)}}}else if(i.tag===6){if(s===null){j=i;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(J){_t(j,j.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Yh(n,s))));break;case 19:Kn(i,n),Qn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yh(n,c)));break;case 30:break;case 21:break;default:Kn(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{for(var s,c=n.return;c!==null;){if(I0(c)){s=c;break}c=c.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,p=Gh(n);$u(n,p,d);break;case 5:var _=s.stateNode;s.flags&32&&(ir(_,""),s.flags&=-33);var T=Gh(n);$u(n,T,_);break;case 3:case 4:var j=s.stateNode.containerInfo,K=Gh(n);$h(n,K,j);break;default:throw Error(a(161))}}catch(ie){_t(n,n.return,ie)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function U0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;U0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function sa(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)j0(n,i.alternate,i),i=i.sibling}function ys(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:aa(4,i,i.return),ys(i);break;case 1:Gr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&R0(i,i.return,s),ys(i);break;case 27:Kl(i.stateNode);case 26:case 5:Gr(i,i.return),ys(i);break;case 22:i.memoizedState===null&&ys(i);break;case 30:ys(i);break;default:ys(i)}n=n.sibling}}function oa(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=n,p=i,_=p.flags;switch(p.tag){case 0:case 11:case 15:oa(d,p,s),Ul(4,p);break;case 1:if(oa(d,p,s),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){_t(c,c.return,K)}if(c=p,d=c.updateQueue,d!==null){var T=c.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)my(j[d],T)}catch(K){_t(c,c.return,K)}}s&&_&64&&C0(p),zl(p,p.return);break;case 27:D0(p);case 26:case 5:oa(d,p,s),s&&c===null&&_&4&&k0(p),zl(p,p.return);break;case 12:oa(d,p,s);break;case 13:oa(d,p,s),s&&_&4&&P0(d,p);break;case 22:p.memoizedState===null&&oa(d,p,s),zl(p,p.return);break;case 30:break;default:oa(d,p,s)}i=i.sibling}}function Kh(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Sl(s))}function Qh(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Sl(n))}function $r(n,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z0(n,i,s,c),i=i.sibling}function z0(n,i,s,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:$r(n,i,s,c),d&2048&&Ul(9,i);break;case 1:$r(n,i,s,c);break;case 3:$r(n,i,s,c),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Sl(n)));break;case 12:if(d&2048){$r(n,i,s,c),n=i.stateNode;try{var p=i.memoizedProps,_=p.id,T=p.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){_t(i,i.return,j)}}else $r(n,i,s,c);break;case 13:$r(n,i,s,c);break;case 23:break;case 22:p=i.stateNode,_=i.alternate,i.memoizedState!==null?p._visibility&2?$r(n,i,s,c):Bl(n,i):p._visibility&2?$r(n,i,s,c):(p._visibility|=2,uo(n,i,s,c,(i.subtreeFlags&10256)!==0)),d&2048&&Kh(_,i);break;case 24:$r(n,i,s,c),d&2048&&Qh(i.alternate,i);break;default:$r(n,i,s,c)}}function uo(n,i,s,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,_=i,T=s,j=c,K=_.flags;switch(_.tag){case 0:case 11:case 15:uo(p,_,T,j,d),Ul(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?uo(p,_,T,j,d):Bl(p,_):(ie._visibility|=2,uo(p,_,T,j,d)),d&&K&2048&&Kh(_.alternate,_);break;case 24:uo(p,_,T,j,d),d&&K&2048&&Qh(_.alternate,_);break;default:uo(p,_,T,j,d)}i=i.sibling}}function Bl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,c=i,d=c.flags;switch(c.tag){case 22:Bl(s,c),d&2048&&Kh(c.alternate,c);break;case 24:Bl(s,c),d&2048&&Qh(c.alternate,c);break;default:Bl(s,c)}i=i.sibling}}var Fl=8192;function fo(n){if(n.subtreeFlags&Fl)for(n=n.child;n!==null;)B0(n),n=n.sibling}function B0(n){switch(n.tag){case 26:fo(n),n.flags&Fl&&n.memoizedState!==null&&wT(wr,n.memoizedState,n.memoizedProps);break;case 5:fo(n);break;case 3:case 4:var i=wr;wr=sf(n.stateNode.containerInfo),fo(n),wr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Fl,Fl=16777216,fo(n),Fl=i):fo(n));break;default:fo(n)}}function F0(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ql(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];cn=c,H0(c,n)}F0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q0(n),n=n.sibling}function q0(n){switch(n.tag){case 0:case 11:case 15:ql(n),n.flags&2048&&aa(9,n,n.return);break;case 3:ql(n);break;case 12:ql(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Xu(n)):ql(n);break;default:ql(n)}}function Xu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];cn=c,H0(c,n)}F0(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:aa(8,i,i.return),Xu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Xu(i));break;default:Xu(i)}n=n.sibling}}function H0(n,i){for(;cn!==null;){var s=cn;switch(s.tag){case 0:case 11:case 15:aa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Sl(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,cn=c;else e:for(s=n;cn!==null;){c=cn;var d=c.sibling,p=c.return;if(M0(c),c===s){cn=null;break e}if(d!==null){d.return=p,cn=d;break e}cn=p}}}var VE={getCacheForType:function(n){var i=_n(en),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},UE=typeof WeakMap=="function"?WeakMap:Map,pt=0,Tt=null,Qe=null,ot=0,gt=0,Wn=null,la=!1,ho=!1,Wh=!1,Ri=0,Lt=0,ca=0,xs=0,Jh=0,hr=0,mo=0,Hl=null,Vn=null,Zh=!1,em=0,Yu=1/0,Ku=null,ua=null,pn=0,fa=null,po=null,go=0,tm=0,nm=null,G0=null,Gl=0,rm=null;function Jn(){if((pt&2)!==0&&ot!==0)return ot&-ot;if(W.T!==null){var n=no;return n!==0?n:um()}return Dr()}function $0(){hr===0&&(hr=(ot&536870912)===0||ft?yr():536870912);var n=dr.current;return n!==null&&(n.flags|=32),hr}function Zn(n,i,s){(n===Tt&&(gt===2||gt===9)||n.cancelPendingCommit!==null)&&(yo(n,0),da(n,ot,hr,!1)),qn(n,s),((pt&2)===0||n!==Tt)&&(n===Tt&&((pt&2)===0&&(xs|=s),Lt===4&&da(n,ot,hr,!1)),Xr(n))}function X0(n,i,s){if((pt&6)!==0)throw Error(a(327));var c=!s&&(i&124)===0&&(i&n.expiredLanes)===0||Me(n,i),d=c?FE(n,i):sm(n,i,!0),p=c;do{if(d===0){ho&&!c&&da(n,i,0,!1);break}else{if(s=n.current.alternate,p&&!zE(s)){d=sm(n,i,!1),p=!1;continue}if(d===2){if(p=i,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;d=Hl;var j=T.current.memoizedState.isDehydrated;if(j&&(yo(T,_).flags|=256),_=sm(T,_,!1),_!==2){if(Wh&&!j){T.errorRecoveryDisabledLanes|=p,xs|=p,d=4;break e}p=Vn,Vn=d,p!==null&&(Vn===null?Vn=p:Vn.push.apply(Vn,p))}d=_}if(p=!1,d!==2)continue}}if(d===1){yo(n,0),da(n,i,0,!0);break}e:{switch(c=n,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:da(c,i,hr,!la);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(d=em+300-be(),10<d)){if(da(c,i,hr,!la),Rn(c,0,!0)!==0)break e;c.timeoutHandle=wx(Y0.bind(null,c,s,Vn,Ku,Zh,i,hr,xs,mo,la,p,2,-0,0),d);break e}Y0(c,s,Vn,Ku,Zh,i,hr,xs,mo,la,p,0,-0,0)}}break}while(!0);Xr(n)}function Y0(n,i,s,c,d,p,_,T,j,K,ie,oe,Q,J){if(n.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:_T},B0(i),oe=ET(),oe!==null)){n.cancelPendingCommit=oe(tx.bind(null,n,i,p,s,c,d,_,T,j,ie,1,Q,J)),da(n,p,_,!K);return}tx(n,i,p,s,c,d,_,T,j)}function zE(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var d=s[c],p=d.getSnapshot;d=d.value;try{if(!Xn(p(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function da(n,i,s,c){i&=~Jh,i&=~xs,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var d=i;0<d;){var p=31-Ye(d),_=1<<p;c[p]=-1,d&=~_}s!==0&&Hn(n,s,i)}function Qu(){return(pt&6)===0?($l(0),!1):!0}function im(){if(Qe!==null){if(gt===0)var n=Qe.return;else n=Qe,_i=ds=null,_h(n),lo=null,Ll=0,n=Qe;for(;n!==null;)N0(n.alternate,n),n=n.return;Qe=null}}function yo(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,iT(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),im(),Tt=n,Qe=s=xi(n.current,null),ot=i,gt=0,Wn=null,la=!1,ho=Me(n,i),Wh=!1,mo=hr=Jh=xs=ca=Lt=0,Vn=Hl=null,Zh=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var d=31-Ye(c),p=1<<d;i|=n[d],c&=~p}return Ri=i,xu(),s}function K0(n,i){Ge=null,W.H=Pu,i===Nl||i===Nu?(i=dy(),gt=3):i===cy?(i=dy(),gt=4):gt=i===h0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Wn=i,Qe===null&&(Lt=1,Fu(n,lr(i,n.current)))}function Q0(){var n=W.H;return W.H=Pu,n===null?Pu:n}function W0(){var n=W.A;return W.A=VE,n}function am(){Lt=4,la||(ot&4194048)!==ot&&dr.current!==null||(ho=!0),(ca&134217727)===0&&(xs&134217727)===0||Tt===null||da(Tt,ot,hr,!1)}function sm(n,i,s){var c=pt;pt|=2;var d=Q0(),p=W0();(Tt!==n||ot!==i)&&(Ku=null,yo(n,i)),i=!1;var _=Lt;e:do try{if(gt!==0&&Qe!==null){var T=Qe,j=Wn;switch(gt){case 8:im(),_=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(i=!0);var K=gt;if(gt=0,Wn=null,xo(n,T,j,K),s&&ho){_=0;break e}break;default:K=gt,gt=0,Wn=null,xo(n,T,j,K)}}BE(),_=Lt;break}catch(ie){K0(n,ie)}while(!0);return i&&n.shellSuspendCounter++,_i=ds=null,pt=c,W.H=d,W.A=p,Qe===null&&(Tt=null,ot=0,xu()),_}function BE(){for(;Qe!==null;)J0(Qe)}function FE(n,i){var s=pt;pt|=2;var c=Q0(),d=W0();Tt!==n||ot!==i?(Ku=null,Yu=be()+500,yo(n,i)):ho=Me(n,i);e:do try{if(gt!==0&&Qe!==null){i=Qe;var p=Wn;t:switch(gt){case 1:gt=0,Wn=null,xo(n,i,p,1);break;case 2:case 9:if(uy(p)){gt=0,Wn=null,Z0(i);break}i=function(){gt!==2&&gt!==9||Tt!==n||(gt=7),Xr(n)},p.then(i,i);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:uy(p)?(gt=0,Wn=null,Z0(i)):(gt=0,Wn=null,xo(n,i,p,7));break;case 5:var _=null;switch(Qe.tag){case 26:_=Qe.memoizedState;case 5:case 27:var T=Qe;if(!_||jx(_)){gt=0,Wn=null;var j=T.sibling;if(j!==null)Qe=j;else{var K=T.return;K!==null?(Qe=K,Wu(K)):Qe=null}break t}}gt=0,Wn=null,xo(n,i,p,5);break;case 6:gt=0,Wn=null,xo(n,i,p,6);break;case 8:im(),Lt=6;break e;default:throw Error(a(462))}}qE();break}catch(ie){K0(n,ie)}while(!0);return _i=ds=null,W.H=c,W.A=d,pt=s,Qe!==null?0:(Tt=null,ot=0,xu(),Lt)}function qE(){for(;Qe!==null&&!$();)J0(Qe)}function J0(n){var i=S0(n.alternate,n,Ri);n.memoizedProps=n.pendingProps,i===null?Wu(n):Qe=i}function Z0(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=b0(s,i,i.pendingProps,i.type,void 0,ot);break;case 11:i=b0(s,i,i.pendingProps,i.type.render,i.ref,ot);break;case 5:_h(i);default:N0(s,i),i=Qe=ey(i,Ri),i=S0(s,i,Ri)}n.memoizedProps=n.pendingProps,i===null?Wu(n):Qe=i}function xo(n,i,s,c){_i=ds=null,_h(i),lo=null,Ll=0;var d=i.return;try{if(DE(n,d,i,s,ot)){Lt=1,Fu(n,lr(s,n.current)),Qe=null;return}}catch(p){if(d!==null)throw Qe=d,p;Lt=1,Fu(n,lr(s,n.current)),Qe=null;return}i.flags&32768?(ft||c===1?n=!0:ho||(ot&536870912)!==0?n=!1:(la=n=!0,(c===2||c===9||c===3||c===6)&&(c=dr.current,c!==null&&c.tag===13&&(c.flags|=16384))),ex(i,n)):Wu(i)}function Wu(n){var i=n;do{if((i.flags&32768)!==0){ex(i,la);return}n=i.return;var s=jE(i.alternate,i,Ri);if(s!==null){Qe=s;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=n}while(i!==null);Lt===0&&(Lt=5)}function ex(n,i){do{var s=ME(n.alternate,n);if(s!==null){s.flags&=32767,Qe=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Qe=n;return}Qe=n=s}while(n!==null);Lt=6,Qe=null}function tx(n,i,s,c,d,p,_,T,j){n.cancelPendingCommit=null;do Ju();while(pn!==0);if((pt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=Qd,$i(n,s,p,_,T,j),n===Tt&&(Qe=Tt=null,ot=0),po=i,fa=n,go=s,tm=p,nm=d,G0=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,XE(ge,function(){return sx(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,d=me.p,me.p=2,_=pt,pt|=4;try{LE(n,i,s)}finally{pt=_,me.p=d,W.T=c}}pn=1,nx(),rx(),ix()}}function nx(){if(pn===1){pn=0;var n=fa,i=po,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var c=me.p;me.p=2;var d=pt;pt|=4;try{V0(i,n);var p=xm,_=Hg(n.containerInfo),T=p.focusedElem,j=p.selectionRange;if(_!==T&&T&&T.ownerDocument&&qg(T.ownerDocument.documentElement,T)){if(j!==null&&Gd(T)){var K=j.start,ie=j.end;if(ie===void 0&&(ie=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(ie,T.value.length);else{var oe=T.ownerDocument||document,Q=oe&&oe.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),Le=T.textContent.length,Ce=Math.min(j.start,Le),vt=j.end===void 0?Ce:Math.min(j.end,Le);!J.extend&&Ce>vt&&(_=vt,vt=Ce,Ce=_);var H=Fg(T,Ce),B=Fg(T,vt);if(H&&B&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==B.node||J.focusOffset!==B.offset)){var Y=oe.createRange();Y.setStart(H.node,H.offset),J.removeAllRanges(),Ce>vt?(J.addRange(Y),J.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),J.addRange(Y))}}}}for(oe=[],J=T;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var ae=oe[T];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}ff=!!ym,xm=ym=null}finally{pt=d,me.p=c,W.T=s}}n.current=i,pn=2}}function rx(){if(pn===2){pn=0;var n=fa,i=po,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var c=me.p;me.p=2;var d=pt;pt|=4;try{j0(n,i.alternate,i)}finally{pt=d,me.p=c,W.T=s}}pn=3}}function ix(){if(pn===4||pn===3){pn=0,ee();var n=fa,i=po,s=go,c=G0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?pn=5:(pn=0,po=fa=null,ax(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ua=null),si(s),i=i.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Fe,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=W.T,d=me.p,me.p=2,W.T=null;try{for(var p=n.onRecoverableError,_=0;_<c.length;_++){var T=c[_];p(T.value,{componentStack:T.stack})}}finally{W.T=i,me.p=d}}(go&3)!==0&&Ju(),Xr(n),d=n.pendingLanes,(s&4194090)!==0&&(d&42)!==0?n===rm?Gl++:(Gl=0,rm=n):Gl=0,$l(0)}}function ax(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Sl(i)))}function Ju(n){return nx(),rx(),ix(),sx()}function sx(){if(pn!==5)return!1;var n=fa,i=tm;tm=0;var s=si(go),c=W.T,d=me.p;try{me.p=32>s?32:s,W.T=null,s=nm,nm=null;var p=fa,_=go;if(pn=0,po=fa=null,go=0,(pt&6)!==0)throw Error(a(331));var T=pt;if(pt|=4,q0(p.current),z0(p,p.current,_,s),pt=T,$l(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Fe,p)}catch{}return!0}finally{me.p=d,W.T=c,ax(n,i)}}function ox(n,i,s){i=lr(s,i),i=Mh(n.stateNode,i,2),n=ta(n,i,2),n!==null&&(qn(n,2),Xr(n))}function _t(n,i,s){if(n.tag===3)ox(n,n,s);else for(;i!==null;){if(i.tag===3){ox(i,n,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ua===null||!ua.has(c))){n=lr(s,n),s=f0(2),c=ta(i,s,2),c!==null&&(d0(s,c,i,n),qn(c,2),Xr(c));break}}i=i.return}}function om(n,i,s){var c=n.pingCache;if(c===null){c=n.pingCache=new UE;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(s)||(Wh=!0,d.add(s),n=HE.bind(null,n,i,s),i.then(n,n))}function HE(n,i,s){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Tt===n&&(ot&s)===s&&(Lt===4||Lt===3&&(ot&62914560)===ot&&300>be()-em?(pt&2)===0&&yo(n,0):Jh|=s,mo===ot&&(mo=0)),Xr(n)}function lx(n,i){i===0&&(i=Gi()),n=Js(n,i),n!==null&&(qn(n,i),Xr(n))}function GE(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),lx(n,s)}function $E(n,i){var s=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),lx(n,s)}function XE(n,i){return Rt(n,i)}var Zu=null,bo=null,lm=!1,ef=!1,cm=!1,bs=0;function Xr(n){n!==bo&&n.next===null&&(bo===null?Zu=bo=n:bo=bo.next=n),ef=!0,lm||(lm=!0,KE())}function $l(n,i){if(!cm&&ef){cm=!0;do for(var s=!1,c=Zu;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var _=c.suspendedLanes,T=c.pingedLanes;p=(1<<31-Ye(42|n)+1)-1,p&=d&~(_&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,dx(c,p))}else p=ot,p=Rn(c,c===Tt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Me(c,p)||(s=!0,dx(c,p));c=c.next}while(s);cm=!1}}function YE(){cx()}function cx(){ef=lm=!1;var n=0;bs!==0&&(rT()&&(n=bs),bs=0);for(var i=be(),s=null,c=Zu;c!==null;){var d=c.next,p=ux(c,i);p===0?(c.next=null,s===null?Zu=d:s.next=d,d===null&&(bo=s)):(s=c,(n!==0||(p&3)!==0)&&(ef=!0)),c=d}$l(n)}function ux(n,i){for(var s=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-Ye(p),T=1<<_,j=d[_];j===-1?((T&s)===0||(T&c)!==0)&&(d[_]=rr(T,i)):j<=i&&(n.expiredLanes|=T),p&=~T}if(i=Tt,s=ot,s=Rn(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,s===0||n===i&&(gt===2||gt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&P(c),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Me(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(c!==null&&P(c),si(s)){case 2:case 8:s=De;break;case 32:s=ge;break;case 268435456:s=Ee;break;default:s=ge}return c=fx.bind(null,n),s=Rt(s,c),n.callbackPriority=i,n.callbackNode=s,i}return c!==null&&c!==null&&P(c),n.callbackPriority=2,n.callbackNode=null,2}function fx(n,i){if(pn!==0&&pn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Ju()&&n.callbackNode!==s)return null;var c=ot;return c=Rn(n,n===Tt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(X0(n,c,i),ux(n,be()),n.callbackNode!=null&&n.callbackNode===s?fx.bind(null,n):null)}function dx(n,i){if(Ju())return null;X0(n,i,!0)}function KE(){aT(function(){(pt&6)!==0?Rt(ze,YE):cx()})}function um(){return bs===0&&(bs=yr()),bs}function hx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:zs(""+n)}function mx(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function QE(n,i,s,c,d){if(i==="submit"&&s&&s.stateNode===d){var p=hx((d[jt]||null).action),_=c.submitter;_&&(i=(i=_[jt]||null)?hx(i.formAction):_.getAttribute("formAction"),i!==null&&(p=i,_=null));var T=new Bs("action","action",null,c,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bs!==0){var j=_?mx(d,_):new FormData(d);kh(s,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(T.preventDefault(),j=_?mx(d,_):new FormData(d),kh(s,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var fm=0;fm<Kd.length;fm++){var dm=Kd[fm],WE=dm.toLowerCase(),JE=dm[0].toUpperCase()+dm.slice(1);_r(WE,"on"+JE)}_r(Xg,"onAnimationEnd"),_r(Yg,"onAnimationIteration"),_r(Kg,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(pE,"onTransitionRun"),_r(gE,"onTransitionStart"),_r(yE,"onTransitionCancel"),_r(Qg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function px(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var c=n[s],d=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var _=c.length-1;0<=_;_--){var T=c[_],j=T.instance,K=T.currentTarget;if(T=T.listener,j!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=K;try{p(d)}catch(ie){Bu(ie)}d.currentTarget=null,p=j}else for(_=0;_<c.length;_++){if(T=c[_],j=T.instance,K=T.currentTarget,T=T.listener,j!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=K;try{p(d)}catch(ie){Bu(ie)}d.currentTarget=null,p=j}}}}function We(n,i){var s=i[an];s===void 0&&(s=i[an]=new Set);var c=n+"__bubble";s.has(c)||(gx(i,n,2,!1),s.add(c))}function hm(n,i,s){var c=0;i&&(c|=4),gx(s,n,c,i)}var tf="_reactListening"+Math.random().toString(36).slice(2);function mm(n){if(!n[tf]){n[tf]=!0,al.forEach(function(s){s!=="selectionchange"&&(ZE.has(s)||hm(s,!1,n),hm(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[tf]||(i[tf]=!0,hm("selectionchange",!1,i))}}function gx(n,i,s,c){switch(zx(i)){case 2:var d=AT;break;case 8:d=NT;break;default:d=Cm}s=d.bind(null,i,s,n),d=void 0,!sr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,s,{capture:!0,passive:d}):n.addEventListener(i,s,!0):d!==void 0?n.addEventListener(i,s,{passive:d}):n.addEventListener(i,s,!1)}function pm(n,i,s,c,d){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var T=c.stateNode.containerInfo;if(T===d)break;if(_===4)for(_=c.return;_!==null;){var j=_.tag;if((j===3||j===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;T!==null;){if(_=li(T),_===null)return;if(j=_.tag,j===5||j===6||j===26||j===27){c=p=_;continue e}T=T.parentNode}}c=c.return}ru(function(){var K=p,ie=ar(s),oe=[];e:{var Q=Wg.get(n);if(Q!==void 0){var J=Bs,Le=n;switch(n){case"keypress":if(Vr(s)===0)break e;case"keydown":case"keyup":J=Xs;break;case"focusin":Le="focus",J=Hs;break;case"focusout":Le="blur",J=Hs;break;case"beforeblur":case"afterblur":J=Hs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=fu;break;case Xg:case Yg:case Kg:J=Gs;break;case Qg:J=hu;break;case"scroll":case"scrollend":J=iu;break;case"wheel":J=Ys;break;case"copy":case"cut":case"paste":J=$s;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=yl;break;case"toggle":case"beforetoggle":J=pu}var Ce=(i&4)!==0,vt=!Ce&&(n==="scroll"||n==="scrollend"),H=Ce?Q!==null?Q+"Capture":null:Q;Ce=[];for(var B=K,Y;B!==null;){var ae=B;if(Y=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Y===null||H===null||(ae=Ja(B,H),ae!=null&&Ce.push(Yl(B,ae,Y))),vt)break;B=B.return}0<Ce.length&&(Q=new J(Q,Le,null,s,ie),oe.push({event:Q,listeners:Ce}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Q&&s!==di&&(Le=s.relatedTarget||s.fromElement)&&(li(Le)||Le[mt]))break e;if((J||Q)&&(Q=ie.window===ie?ie:(Q=ie.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(Le=s.relatedTarget||s.toElement,J=K,Le=Le?li(Le):null,Le!==null&&(vt=l(Le),Ce=Le.tag,Le!==vt||Ce!==5&&Ce!==27&&Ce!==6)&&(Le=null)):(J=null,Le=K),J!==Le)){if(Ce=or,ae="onMouseLeave",H="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=yl,ae="onPointerLeave",H="onPointerEnter",B="pointer"),vt=J==null?Q:jr(J),Y=Le==null?Q:jr(Le),Q=new Ce(ae,B+"leave",J,s,ie),Q.target=vt,Q.relatedTarget=Y,ae=null,li(ie)===K&&(Ce=new Ce(H,B+"enter",Le,s,ie),Ce.target=Y,Ce.relatedTarget=vt,ae=Ce),vt=ae,J&&Le)t:{for(Ce=J,H=Le,B=0,Y=Ce;Y;Y=vo(Y))B++;for(Y=0,ae=H;ae;ae=vo(ae))Y++;for(;0<B-Y;)Ce=vo(Ce),B--;for(;0<Y-B;)H=vo(H),Y--;for(;B--;){if(Ce===H||H!==null&&Ce===H.alternate)break t;Ce=vo(Ce),H=vo(H)}Ce=null}else Ce=null;J!==null&&yx(oe,Q,J,Ce,!1),Le!==null&&vt!==null&&yx(oe,vt,Le,Ce,!0)}}e:{if(Q=K?jr(K):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var ve=Lg;else if(Zt(Q))if(Pg)ve=dE;else{ve=uE;var $e=cE}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&ul(K.elementType)&&(ve=Lg):ve=fE;if(ve&&(ve=ve(n,K))){yi(oe,ve,s,ie);break e}$e&&$e(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Qi(Q,"number",Q.value)}switch($e=K?jr(K):window,n){case"focusin":(Zt($e)||$e.contentEditable==="true")&&(Ks=$e,$d=K,vl=null);break;case"focusout":vl=$d=Ks=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,Gg(oe,s,ie);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":Gg(oe,s,ie)}var Te;if(Br)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else at?Z(n,s)&&(Ie="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(v&&s.locale!=="ko"&&(at||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&at&&(Te=dl()):(Pr=ie,Wi="value"in Pr?Pr.value:Pr.textContent,at=!0)),$e=nf(K,Ie),0<$e.length&&(Ie=new pl(Ie,n,null,s,ie),oe.push({event:Ie,listeners:$e}),Te?Ie.data=Te:(Te=pe(s),Te!==null&&(Ie.data=Te)))),(Te=x?Jt(n,s):st(n,s))&&(Ie=nf(K,"onBeforeInput"),0<Ie.length&&($e=new pl("onBeforeInput","beforeinput",null,s,ie),oe.push({event:$e,listeners:Ie}),$e.data=Te)),QE(oe,n,K,s,ie)}px(oe,i)})}function Yl(n,i,s){return{instance:n,listener:i,currentTarget:s}}function nf(n,i){for(var s=i+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ja(n,s),d!=null&&c.unshift(Yl(n,d,p)),d=Ja(n,i),d!=null&&c.push(Yl(n,d,p))),n.tag===3)return c;n=n.return}return[]}function vo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function yx(n,i,s,c,d){for(var p=i._reactName,_=[];s!==null&&s!==c;){var T=s,j=T.alternate,K=T.stateNode;if(T=T.tag,j!==null&&j===c)break;T!==5&&T!==26&&T!==27||K===null||(j=K,d?(K=Ja(s,p),K!=null&&_.unshift(Yl(s,K,j))):d||(K=Ja(s,p),K!=null&&_.push(Yl(s,K,j)))),s=s.return}_.length!==0&&n.push({event:i,listeners:_})}var eT=/\r\n?/g,tT=/\u0000|\uFFFD/g;function xx(n){return(typeof n=="string"?n:""+n).replace(eT,`
`).replace(tT,"")}function bx(n,i){return i=xx(i),xx(n)===i}function rf(){}function bt(n,i,s,c,d,p){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ir(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ir(n,""+c);break;case"className":Mr(n,"class",c);break;case"tabIndex":Mr(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(n,s,c);break;case"style":cl(n,c,p);break;case"data":if(i!=="object"){Mr(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=zs(""+c),n.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&bt(n,i,"name",d.name,d,null),bt(n,i,"formEncType",d.formEncType,d,null),bt(n,i,"formMethod",d.formMethod,d,null),bt(n,i,"formTarget",d.formTarget,d,null)):(bt(n,i,"encType",d.encType,d,null),bt(n,i,"method",d.method,d,null),bt(n,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=zs(""+c),n.setAttribute(s,c);break;case"onClick":c!=null&&(n.onclick=rf);break;case"onScroll":c!=null&&We("scroll",n);break;case"onScrollEnd":c!=null&&We("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}s=zs(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""+c):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":c===!0?n.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,c):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(s,c):n.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(s):n.setAttribute(s,c);break;case"popover":We("beforetoggle",n),We("toggle",n),Ki(n,"popover",c);break;case"xlinkActuate":dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ki(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ud.get(s)||s,Ki(n,s,c))}}function gm(n,i,s,c,d,p){switch(s){case"style":cl(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof c=="string"?ir(n,c):(typeof c=="number"||typeof c=="bigint")&&ir(n,""+c);break;case"onScroll":c!=null&&We("scroll",n);break;case"onScrollEnd":c!=null&&We("scrollend",n);break;case"onClick":c!=null&&(n.onclick=rf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),p=n[jt]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(i,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,c,d);break e}s in n?n[s]=c:c===!0?n.setAttribute(s,""):Ki(n,s,c)}}}function gn(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",n),We("load",n);var c=!1,d=!1,p;for(p in s)if(s.hasOwnProperty(p)){var _=s[p];if(_!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:bt(n,i,p,_,s,null)}}d&&bt(n,i,"srcSet",s.srcSet,s,null),c&&bt(n,i,"src",s.src,s,null);return;case"input":We("invalid",n);var T=p=_=d=null,j=null,K=null;for(c in s)if(s.hasOwnProperty(c)){var ie=s[c];if(ie!=null)switch(c){case"name":d=ie;break;case"type":_=ie;break;case"checked":j=ie;break;case"defaultChecked":K=ie;break;case"value":p=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,i));break;default:bt(n,i,c,ie,s,null)}}Ka(n,p,T,j,K,_,d,!1),Us(n);return;case"select":We("invalid",n),c=_=p=null;for(d in s)if(s.hasOwnProperty(d)&&(T=s[d],T!=null))switch(d){case"value":p=T;break;case"defaultValue":_=T;break;case"multiple":c=T;default:bt(n,i,d,T,s,null)}i=p,s=_,n.multiple=!!c,i!=null?fi(n,!!c,i,!1):s!=null&&fi(n,!!c,s,!0);return;case"textarea":We("invalid",n),p=d=c=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":c=T;break;case"defaultValue":d=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:bt(n,i,_,T,s,null)}Qa(n,c,d,p),Us(n);return;case"option":for(j in s)if(s.hasOwnProperty(j)&&(c=s[j],c!=null))switch(j){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:bt(n,i,j,c,s,null)}return;case"dialog":We("beforetoggle",n),We("toggle",n),We("cancel",n),We("close",n);break;case"iframe":case"object":We("load",n);break;case"video":case"audio":for(c=0;c<Xl.length;c++)We(Xl[c],n);break;case"image":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"embed":case"source":case"link":We("error",n),We("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(c=s[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:bt(n,i,K,c,s,null)}return;default:if(ul(i)){for(ie in s)s.hasOwnProperty(ie)&&(c=s[ie],c!==void 0&&gm(n,i,ie,c,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(c=s[T],c!=null&&bt(n,i,T,c,s,null))}function nT(n,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,_=null,T=null,j=null,K=null,ie=null;for(J in s){var oe=s[J];if(s.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=oe;default:c.hasOwnProperty(J)||bt(n,i,J,null,c,oe)}}for(var Q in c){var J=c[Q];if(oe=s[Q],c.hasOwnProperty(Q)&&(J!=null||oe!=null))switch(Q){case"type":p=J;break;case"name":d=J;break;case"checked":K=J;break;case"defaultChecked":ie=J;break;case"value":_=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==oe&&bt(n,i,Q,J,c,oe)}}$n(n,_,T,j,K,ie,p,d);return;case"select":J=_=T=Q=null;for(p in s)if(j=s[p],s.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":J=j;default:c.hasOwnProperty(p)||bt(n,i,p,null,c,j)}for(d in c)if(p=c[d],j=s[d],c.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":Q=p;break;case"defaultValue":T=p;break;case"multiple":_=p;default:p!==j&&bt(n,i,d,p,c,j)}i=T,s=_,c=J,Q!=null?fi(n,!!s,Q,!1):!!c!=!!s&&(i!=null?fi(n,!!s,i,!0):fi(n,!!s,s?[]:"",!1));return;case"textarea":J=Q=null;for(T in s)if(d=s[T],s.hasOwnProperty(T)&&d!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:bt(n,i,T,null,c,d)}for(_ in c)if(d=c[_],p=s[_],c.hasOwnProperty(_)&&(d!=null||p!=null))switch(_){case"value":Q=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&bt(n,i,_,d,c,p)}yt(n,Q,J);return;case"option":for(var Le in s)if(Q=s[Le],s.hasOwnProperty(Le)&&Q!=null&&!c.hasOwnProperty(Le))switch(Le){case"selected":n.selected=!1;break;default:bt(n,i,Le,null,c,Q)}for(j in c)if(Q=c[j],J=s[j],c.hasOwnProperty(j)&&Q!==J&&(Q!=null||J!=null))switch(j){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:bt(n,i,j,Q,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)Q=s[Ce],s.hasOwnProperty(Ce)&&Q!=null&&!c.hasOwnProperty(Ce)&&bt(n,i,Ce,null,c,Q);for(K in c)if(Q=c[K],J=s[K],c.hasOwnProperty(K)&&Q!==J&&(Q!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:bt(n,i,K,Q,c,J)}return;default:if(ul(i)){for(var vt in s)Q=s[vt],s.hasOwnProperty(vt)&&Q!==void 0&&!c.hasOwnProperty(vt)&&gm(n,i,vt,void 0,c,Q);for(ie in c)Q=c[ie],J=s[ie],!c.hasOwnProperty(ie)||Q===J||Q===void 0&&J===void 0||gm(n,i,ie,Q,c,J);return}}for(var H in s)Q=s[H],s.hasOwnProperty(H)&&Q!=null&&!c.hasOwnProperty(H)&&bt(n,i,H,null,c,Q);for(oe in c)Q=c[oe],J=s[oe],!c.hasOwnProperty(oe)||Q===J||Q==null&&J==null||bt(n,i,oe,Q,c,J)}var ym=null,xm=null;function af(n){return n.nodeType===9?n:n.ownerDocument}function vx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _x(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function bm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function rT(){var n=window.event;return n&&n.type==="popstate"?n===vm?!1:(vm=n,!0):(vm=null,!1)}var wx=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,Ex=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ex<"u"?function(n){return Ex.resolve(null).then(n).catch(sT)}:wx;function sT(n){setTimeout(function(){throw n})}function ha(n){return n==="head"}function Tx(n,i){var s=i,c=0,d=0;do{var p=s.nextSibling;if(n.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"){if(0<c&&8>c){s=c;var _=n.ownerDocument;if(s&1&&Kl(_.documentElement),s&2&&Kl(_.body),s&4)for(s=_.head,Kl(s),_=s.firstChild;_;){var T=_.nextSibling,j=_.nodeName;_[Ga]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(d===0){n.removeChild(p),rc(i);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:c=s.charCodeAt(0)-48;else c=0;s=p}while(s);rc(i)}function _m(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_m(s),Yi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function oT(n,i,s,c){for(;n.nodeType===1;){var d=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Ga])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Er(n.nextSibling),n===null)break}return null}function lT(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Er(n.nextSibling),n===null))return null;return n}function wm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function cT(n,i){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Er(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Em=null;function Sx(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function Ax(n,i,s){switch(i=af(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Kl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Yi(n)}var mr=new Map,Nx=new Set;function sf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ki=me.d;me.d={f:uT,r:fT,D:dT,C:hT,L:mT,m:pT,X:yT,S:gT,M:xT};function uT(){var n=ki.f(),i=Qu();return n||i}function fT(n){var i=Or(n);i!==null&&i.tag===5&&i.type==="form"?Xy(i):ki.r(n)}var _o=typeof document>"u"?null:document;function Cx(n,i,s){var c=_o;if(c&&typeof i=="string"&&i){var d=Gt(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Nx.has(d)||(Nx.add(d),n={rel:n,crossOrigin:s,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),gn(i,"link",n),Vt(i),c.head.appendChild(i)))}}function dT(n){ki.D(n),Cx("dns-prefetch",n,null)}function hT(n,i){ki.C(n,i),Cx("preconnect",n,i)}function mT(n,i,s){ki.L(n,i,s);var c=_o;if(c&&n&&i){var d='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Gt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Gt(s.imageSizes)+'"]')):d+='[href="'+Gt(n)+'"]';var p=d;switch(i){case"style":p=wo(n);break;case"script":p=Eo(n)}mr.has(p)||(n=b({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),mr.set(p,n),c.querySelector(d)!==null||i==="style"&&c.querySelector(Ql(p))||i==="script"&&c.querySelector(Wl(p))||(i=c.createElement("link"),gn(i,"link",n),Vt(i),c.head.appendChild(i)))}}function pT(n,i){ki.m(n,i);var s=_o;if(s&&n){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Gt(c)+'"][href="'+Gt(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Eo(n)}if(!mr.has(p)&&(n=b({rel:"modulepreload",href:n},i),mr.set(p,n),s.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Wl(p)))return}c=s.createElement("link"),gn(c,"link",n),Vt(c),s.head.appendChild(c)}}}function gT(n,i,s){ki.S(n,i,s);var c=_o;if(c&&n){var d=kn(c).hoistableStyles,p=wo(n);i=i||"default";var _=d.get(p);if(!_){var T={loading:0,preload:null};if(_=c.querySelector(Ql(p)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},s),(s=mr.get(p))&&Tm(n,s);var j=_=c.createElement("link");Vt(j),gn(j,"link",n),j._p=new Promise(function(K,ie){j.onload=K,j.onerror=ie}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,of(_,i,c)}_={type:"stylesheet",instance:_,count:1,state:T},d.set(p,_)}}}function yT(n,i){ki.X(n,i);var s=_o;if(s&&n){var c=kn(s).hoistableScripts,d=Eo(n),p=c.get(d);p||(p=s.querySelector(Wl(d)),p||(n=b({src:n,async:!0},i),(i=mr.get(d))&&Sm(n,i),p=s.createElement("script"),Vt(p),gn(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function xT(n,i){ki.M(n,i);var s=_o;if(s&&n){var c=kn(s).hoistableScripts,d=Eo(n),p=c.get(d);p||(p=s.querySelector(Wl(d)),p||(n=b({src:n,async:!0,type:"module"},i),(i=mr.get(d))&&Sm(n,i),p=s.createElement("script"),Vt(p),gn(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Rx(n,i,s,c){var d=(d=ke.current)?sf(d):null;if(!d)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=wo(s.href),s=kn(d).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=wo(s.href);var p=kn(d).hoistableStyles,_=p.get(n);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=d.querySelector(Ql(n)))&&!p._p&&(_.instance=p,_.state.loading=5),mr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},mr.set(n,s),p||bT(d,n,s,_.state))),i&&c===null)throw Error(a(528,""));return _}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Eo(s),s=kn(d).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function wo(n){return'href="'+Gt(n)+'"'}function Ql(n){return'link[rel="stylesheet"]['+n+"]"}function kx(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function bT(n,i,s,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),gn(i,"link",s),Vt(i),n.head.appendChild(i))}function Eo(n){return'[src="'+Gt(n)+'"]'}function Wl(n){return"script[async]"+n}function Ix(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Gt(s.href)+'"]');if(c)return i.instance=c,Vt(c),c;var d=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Vt(c),gn(c,"style",d),of(c,s.precedence,n),i.instance=c;case"stylesheet":d=wo(s.href);var p=n.querySelector(Ql(d));if(p)return i.state.loading|=4,i.instance=p,Vt(p),p;c=kx(s),(d=mr.get(d))&&Tm(c,d),p=(n.ownerDocument||n).createElement("link"),Vt(p);var _=p;return _._p=new Promise(function(T,j){_.onload=T,_.onerror=j}),gn(p,"link",c),i.state.loading|=4,of(p,s.precedence,n),i.instance=p;case"script":return p=Eo(s.src),(d=n.querySelector(Wl(p)))?(i.instance=d,Vt(d),d):(c=s,(d=mr.get(p))&&(c=b({},s),Sm(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),Vt(d),gn(d,"link",c),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,of(c,s.precedence,n));return i.instance}function of(n,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,_=0;_<c.length;_++){var T=c[_];if(T.dataset.precedence===i)p=T;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Tm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Sm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var lf=null;function Dx(n,i,s){if(lf===null){var c=new Map,d=lf=new Map;d.set(s,c)}else d=lf,c=d.get(s),c||(c=new Map,d.set(s,c));if(c.has(n))return c;for(c.set(n,null),s=s.getElementsByTagName(n),d=0;d<s.length;d++){var p=s[d];if(!(p[Ga]||p[Pt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(i)||"";_=n+_;var T=c.get(_);T?T.push(p):c.set(_,[p])}}return c}function Ox(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function vT(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function jx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Jl=null;function _T(){}function wT(n,i,s){if(Jl===null)throw Error(a(475));var c=Jl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=wo(s.href),p=n.querySelector(Ql(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=cf.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=p,Vt(p);return}p=n.ownerDocument||n,s=kx(s),(d=mr.get(d))&&Tm(s,d),p=p.createElement("link"),Vt(p);var _=p;_._p=new Promise(function(T,j){_.onload=T,_.onerror=j}),gn(p,"link",s),i.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=cf.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function ET(){if(Jl===null)throw Error(a(475));var n=Jl;return n.stylesheets&&n.count===0&&Am(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Am(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function cf(){if(this.count--,this.count===0){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uf=null;function Am(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uf=new Map,i.forEach(TT,n),uf=null,cf.call(n))}function TT(n,i){if(!(i.state.loading&4)){var s=uf.get(n);if(s)var c=s.get(null);else{s=new Map,uf.set(n,s);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var _=d[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),c=_)}c&&s.set(null,c)}d=i.instance,_=d.getAttribute("data-precedence"),p=s.get(_)||c,p===c&&s.set(null,d),s.set(_,d),this.count++,c=cf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var Zl={$$typeof:G,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function ST(n,i,s,c,d,p,_,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Mx(n,i,s,c,d,p,_,T,j,K,ie,oe){return n=new ST(n,i,s,_,T,j,K,oe),i=1,p===!0&&(i|=24),p=Yn(3,null,null,i),n.current=p,p.stateNode=n,i=oh(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:c,isDehydrated:s,cache:i},fh(p),n}function Lx(n){return n?(n=Zs,n):Zs}function Px(n,i,s,c,d,p){d=Lx(d),c.context===null?c.context=d:c.pendingContext=d,c=ea(i),c.payload={element:s},p=p===void 0?null:p,p!==null&&(c.callback=p),s=ta(n,c,i),s!==null&&(Zn(s,n,i),Rl(s,n,i))}function Vx(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function Nm(n,i){Vx(n,i),(n=n.alternate)&&Vx(n,i)}function Ux(n){if(n.tag===13){var i=Js(n,67108864);i!==null&&Zn(i,n,67108864),Nm(n,67108864)}}var ff=!0;function AT(n,i,s,c){var d=W.T;W.T=null;var p=me.p;try{me.p=2,Cm(n,i,s,c)}finally{me.p=p,W.T=d}}function NT(n,i,s,c){var d=W.T;W.T=null;var p=me.p;try{me.p=8,Cm(n,i,s,c)}finally{me.p=p,W.T=d}}function Cm(n,i,s,c){if(ff){var d=Rm(c);if(d===null)pm(n,i,c,df,s),Bx(n,c);else if(RT(d,n,i,s,c))c.stopPropagation();else if(Bx(n,c),i&4&&-1<CT.indexOf(n)){for(;d!==null;){var p=Or(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=rt(p.pendingLanes);if(_!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var j=1<<31-Ye(_);T.entanglements[1]|=j,_&=~j}Xr(p),(pt&6)===0&&(Yu=be()+500,$l(0))}}break;case 13:T=Js(p,2),T!==null&&Zn(T,p,2),Qu(),Nm(p,2)}if(p=Rm(c),p===null&&pm(n,i,c,df,s),p===d)break;d=p}d!==null&&c.stopPropagation()}else pm(n,i,c,null,s)}}function Rm(n){return n=ar(n),km(n)}var df=null;function km(n){if(df=null,n=li(n),n!==null){var i=l(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=u(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return df=n,null}function zx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case ze:return 2;case De:return 8;case ge:case Xe:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var Im=!1,ma=null,pa=null,ga=null,ec=new Map,tc=new Map,ya=[],CT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bx(n,i){switch(n){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":ec.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(i.pointerId)}}function nc(n,i,s,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},i!==null&&(i=Or(i),i!==null&&Ux(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function RT(n,i,s,c,d){switch(i){case"focusin":return ma=nc(ma,n,i,s,c,d),!0;case"dragenter":return pa=nc(pa,n,i,s,c,d),!0;case"mouseover":return ga=nc(ga,n,i,s,c,d),!0;case"pointerover":var p=d.pointerId;return ec.set(p,nc(ec.get(p)||null,n,i,s,c,d)),!0;case"gotpointercapture":return p=d.pointerId,tc.set(p,nc(tc.get(p)||null,n,i,s,c,d)),!0}return!1}function Fx(n){var i=li(n.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=u(s),i!==null){n.blockedOn=i,js(n.priority,function(){if(s.tag===13){var c=Jn();c=Ir(c);var d=Js(s,c);d!==null&&Zn(d,s,c),Nm(s,c)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hf(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Rm(n.nativeEvent);if(s===null){s=n.nativeEvent;var c=new s.constructor(s.type,s);di=c,s.target.dispatchEvent(c),di=null}else return i=Or(s),i!==null&&Ux(i),n.blockedOn=s,!1;i.shift()}return!0}function qx(n,i,s){hf(n)&&s.delete(i)}function kT(){Im=!1,ma!==null&&hf(ma)&&(ma=null),pa!==null&&hf(pa)&&(pa=null),ga!==null&&hf(ga)&&(ga=null),ec.forEach(qx),tc.forEach(qx)}function mf(n,i){n.blockedOn===i&&(n.blockedOn=null,Im||(Im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kT)))}var pf=null;function Hx(n){pf!==n&&(pf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pf===n&&(pf=null);for(var i=0;i<n.length;i+=3){var s=n[i],c=n[i+1],d=n[i+2];if(typeof c!="function"){if(km(c||s)===null)continue;break}var p=Or(s);p!==null&&(n.splice(i,3),i-=3,kh(p,{pending:!0,data:d,method:s.method,action:c},c,d))}}))}function rc(n){function i(j){return mf(j,n)}ma!==null&&mf(ma,n),pa!==null&&mf(pa,n),ga!==null&&mf(ga,n),ec.forEach(i),tc.forEach(i);for(var s=0;s<ya.length;s++){var c=ya[s];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ya.length&&(s=ya[0],s.blockedOn===null);)Fx(s),s.blockedOn===null&&ya.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var d=s[c],p=s[c+1],_=d[jt]||null;if(typeof p=="function")_||Hx(s);else if(_){var T=null;if(p&&p.hasAttribute("formAction")){if(d=p,_=p[jt]||null)T=_.formAction;else if(km(d)!==null)continue}else T=_.action;typeof T=="function"?s[c+1]=T:(s.splice(c,3),c-=3),Hx(s)}}}function Dm(n){this._internalRoot=n}gf.prototype.render=Dm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,c=Jn();Px(s,c,n,i,null,null)},gf.prototype.unmount=Dm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Px(n.current,2,null,n,null,null),Qu(),i[mt]=null}};function gf(n){this._internalRoot=n}gf.prototype.unstable_scheduleHydration=function(n){if(n){var i=Dr();n={blockedOn:null,target:n,priority:i};for(var s=0;s<ya.length&&i!==0&&i<ya[s].priority;s++);ya.splice(s,0,n),s===0&&Fx(n)}};var Gx=e.version;if(Gx!=="19.1.1")throw Error(a(527,Gx,"19.1.1"));me.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=y(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var IT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Fe=yf.inject(IT),Ne=yf}catch{}}return ac.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,c="",d=o0,p=l0,_=c0,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Mx(n,1,!1,null,null,s,c,d,p,_,T,null),n[mt]=i.current,mm(n),new Dm(i)},ac.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var c=!1,d="",p=o0,_=l0,T=c0,j=null,K=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks),s.formState!==void 0&&(K=s.formState)),i=Mx(n,1,!0,i,s??null,c,d,p,_,T,j,K),i.context=Lx(null),s=i.current,c=Jn(),c=Ir(c),d=ea(c),d.callback=null,ta(s,d,c),s=c,i.current.lanes=s,qn(i,s),Xr(i),n[mt]=i.current,mm(n),new gf(i)},ac.version="19.1.1",ac}var nb;function BT(){if(nb)return Mm.exports;nb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=zT(),Mm.exports}var FT=BT();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rb="popstate";function qT(r={}){function e(a,o){let{pathname:l,search:u,hash:h}=a.location;return ep("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:vc(o)}return GT(e,t,null,r)}function Ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Sr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HT(){return Math.random().toString(36).substring(2,10)}function ib(r,e){return{usr:r.state,key:r.key,idx:e}}function ep(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:t,key:e&&e.key||a||HT()}}function vc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Go(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function GT(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,h="POP",y=null,g=b();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function b(){return(u.state||{idx:null}).idx}function w(){h="POP";let I=b(),M=I==null?null:I-g;g=I,y&&y({action:h,location:V.location,delta:M})}function E(I,M){h="PUSH";let z=ep(V.location,I,M);g=b()+1;let G=ib(z,g),ne=V.createHref(z);try{u.pushState(G,"",ne)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ne)}l&&y&&y({action:h,location:V.location,delta:1})}function k(I,M){h="REPLACE";let z=ep(V.location,I,M);g=b();let G=ib(z,g),ne=V.createHref(z);u.replaceState(G,"",ne),l&&y&&y({action:h,location:V.location,delta:0})}function U(I){return $T(I)}let V={get action(){return h},get location(){return r(o,u)},listen(I){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(rb,w),y=I,()=>{o.removeEventListener(rb,w),y=null}},createHref(I){return e(o,I)},createURL:U,encodeLocation(I){let M=U(I);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:k,go(I){return u.go(I)}};return V}function $T(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:vc(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function Jv(r,e,t="/"){return XT(r,e,t,!1)}function XT(r,e,t,a){let o=typeof e=="string"?Go(e):e,l=Li(o.pathname||"/",t);if(l==null)return null;let u=Zv(r);YT(u);let h=null;for(let y=0;h==null&&y<u.length;++y){let g=a2(l);h=r2(u[y],g,a)}return h}function Zv(r,e=[],t=[],a=""){let o=(l,u,h)=>{let y={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};y.relativePath.startsWith("/")&&(Ct(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length));let g=Oi([a,y.relativePath]),b=t.concat(y);l.children&&l.children.length>0&&(Ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Zv(l.children,e,b,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:t2(g,l.index),routesMeta:b})};return r.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let h of e_(l.path))o(l,u,h)}),e}function e_(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=e_(a.join("/")),h=[];return h.push(...u.map(y=>y===""?l:[l,y].join("/"))),o&&h.push(...u),h.map(y=>r.startsWith("/")&&y===""?"/":y)}function YT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:n2(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var KT=/^:[\w-]+$/,QT=3,WT=2,JT=1,ZT=10,e2=-2,ab=r=>r==="*";function t2(r,e){let t=r.split("/"),a=t.length;return t.some(ab)&&(a+=e2),e&&(a+=WT),t.filter(o=>!ab(o)).reduce((o,l)=>o+(KT.test(l)?QT:l===""?JT:ZT),a)}function n2(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function r2(r,e,t=!1){let{routesMeta:a}=r,o={},l="/",u=[];for(let h=0;h<a.length;++h){let y=a[h],g=h===a.length-1,b=l==="/"?e:e.slice(l.length)||"/",w=Xf({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},b),E=y.route;if(!w&&g&&t&&!a[a.length-1].route.index&&(w=Xf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Oi([l,w.pathname]),pathnameBase:c2(Oi([l,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(l=Oi([l,w.pathnameBase]))}return u}function Xf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=i2(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((g,{paramName:b,isOptional:w},E)=>{if(b==="*"){let U=h[E]||"";u=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const k=h[E];return w&&!k?g[b]=void 0:g[b]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:r}}function i2(r,e=!1,t=!0){Sr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,y)=>(a.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function a2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Li(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function s2(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?Go(r):r;return{pathname:t?t.startsWith("/")?t:o2(t,e):e,search:u2(a),hash:f2(o)}}function o2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Um(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l2(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Dp(r){let e=l2(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function Op(r,e,t,a=!1){let o;typeof r=="string"?o=Go(r):(o={...r},Ct(!o.pathname||!o.pathname.includes("?"),Um("?","pathname","search",o)),Ct(!o.pathname||!o.pathname.includes("#"),Um("#","pathname","hash",o)),Ct(!o.search||!o.search.includes("#"),Um("#","search","hash",o)));let l=r===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!a&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;o.pathname=E.join("/")}h=w>=0?e[w]:"/"}let y=s2(o,h),g=u&&u!=="/"&&u.endsWith("/"),b=(l||u===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(g||b)&&(y.pathname+="/"),y}var Oi=r=>r.join("/").replace(/\/\/+/g,"/"),c2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),u2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,f2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function d2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var t_=["POST","PUT","PATCH","DELETE"];new Set(t_);var h2=["GET",...t_];new Set(h2);var $o=F.createContext(null);$o.displayName="DataRouter";var hd=F.createContext(null);hd.displayName="DataRouterState";F.createContext(!1);var n_=F.createContext({isTransitioning:!1});n_.displayName="ViewTransition";var m2=F.createContext(new Map);m2.displayName="Fetchers";var p2=F.createContext(null);p2.displayName="Await";var Cr=F.createContext(null);Cr.displayName="Navigation";var Dc=F.createContext(null);Dc.displayName="Location";var Rr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var jp=F.createContext(null);jp.displayName="RouteError";function g2(r,{relative:e}={}){Ct(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=F.useContext(Cr),{hash:o,pathname:l,search:u}=Oc(r,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Oi([t,l])),a.createHref({pathname:h,search:u,hash:o})}function Xo(){return F.useContext(Dc)!=null}function Fi(){return Ct(Xo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Dc).location}var r_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i_(r){F.useContext(Cr).static||F.useLayoutEffect(r)}function md(){let{isDataRoute:r}=F.useContext(Rr);return r?I2():y2()}function y2(){Ct(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext($o),{basename:e,navigator:t}=F.useContext(Cr),{matches:a}=F.useContext(Rr),{pathname:o}=Fi(),l=JSON.stringify(Dp(a)),u=F.useRef(!1);return i_(()=>{u.current=!0}),F.useCallback((y,g={})=>{if(Sr(u.current,r_),!u.current)return;if(typeof y=="number"){t.go(y);return}let b=Op(y,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Oi([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,l,o,r])}var x2=F.createContext(null);function b2(r){let e=F.useContext(Rr).outlet;return e&&F.createElement(x2.Provider,{value:r},e)}function Oc(r,{relative:e}={}){let{matches:t}=F.useContext(Rr),{pathname:a}=Fi(),o=JSON.stringify(Dp(t));return F.useMemo(()=>Op(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function v2(r,e){return a_(r,e)}function a_(r,e,t,a){Ct(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(Cr),{matches:l}=F.useContext(Rr),u=l[l.length-1],h=u?u.params:{},y=u?u.pathname:"/",g=u?u.pathnameBase:"/",b=u&&u.route;{let M=b&&b.path||"";s_(y,!b||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=Fi(),E;if(e){let M=typeof e=="string"?Go(e):e;Ct(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),E=M}else E=w;let k=E.pathname||"/",U=k;if(g!=="/"){let M=g.replace(/^\//,"").split("/");U="/"+k.replace(/^\//,"").split("/").slice(M.length).join("/")}let V=Jv(r,{pathname:U});Sr(b||V!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Sr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=S2(V&&V.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:Oi([g,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Oi([g,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,a);return e&&I?F.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},I):I}function _2(){let r=k2(),e=d2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,u)}var w2=F.createElement(_2,null),E2=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(Rr.Provider,{value:this.props.routeContext},F.createElement(jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T2({routeContext:r,match:e,children:t}){let a=F.useContext($o);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Rr.Provider,{value:r},t)}function S2(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t?.errors;if(l!=null){let y=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let u=!1,h=-1;if(t)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=y),g.route.id){let{loaderData:b,errors:w}=t,E=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((y,g,b)=>{let w,E=!1,k=null,U=null;t&&(w=l&&g.route.id?l[g.route.id]:void 0,k=g.route.errorElement||w2,u&&(h<0&&b===0?(s_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,U=null):h===b&&(E=!0,U=g.route.hydrateFallbackElement||null)));let V=e.concat(o.slice(0,b+1)),I=()=>{let M;return w?M=k:E?M=U:g.route.Component?M=F.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=y,F.createElement(T2,{match:g,routeContext:{outlet:y,matches:V,isDataRoute:t!=null},children:M})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?F.createElement(E2,{location:t.location,revalidation:t.revalidation,component:k,error:w,children:I(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):I()},null)}function Mp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A2(r){let e=F.useContext($o);return Ct(e,Mp(r)),e}function N2(r){let e=F.useContext(hd);return Ct(e,Mp(r)),e}function C2(r){let e=F.useContext(Rr);return Ct(e,Mp(r)),e}function Lp(r){let e=C2(r),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function R2(){return Lp("useRouteId")}function k2(){let r=F.useContext(jp),e=N2("useRouteError"),t=Lp("useRouteError");return r!==void 0?r:e.errors?.[t]}function I2(){let{router:r}=A2("useNavigate"),e=Lp("useNavigate"),t=F.useRef(!1);return i_(()=>{t.current=!0}),F.useCallback(async(o,l={})=>{Sr(t.current,r_),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var sb={};function s_(r,e,t){!e&&!sb[r]&&(sb[r]=!0,Sr(!1,t))}F.memo(D2);function D2({routes:r,future:e,state:t}){return a_(r,void 0,t,e)}function Ba({to:r,replace:e,state:t,relative:a}){Ct(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Cr);Sr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(Rr),{pathname:u}=Fi(),h=md(),y=Op(r,Dp(l),u,a==="path"),g=JSON.stringify(y);return F.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:a})},[h,g,a,e,t]),null}function o_(r){return b2(r.context)}function er(r){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O2({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1}){Ct(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:u,navigator:o,static:l,future:{}}),[u,o,l]);typeof t=="string"&&(t=Go(t));let{pathname:y="/",search:g="",hash:b="",state:w=null,key:E="default"}=t,k=F.useMemo(()=>{let U=Li(y,u);return U==null?null:{location:{pathname:U,search:g,hash:b,state:w,key:E},navigationType:a}},[u,y,g,b,w,E,a]);return Sr(k!=null,`<Router basename="${u}"> is not able to match the URL "${y}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:F.createElement(Cr.Provider,{value:h},F.createElement(Dc.Provider,{children:e,value:k}))}function j2({children:r,location:e}){return v2(tp(r),e)}function tp(r,e=[]){let t=[];return F.Children.forEach(r,(a,o)=>{if(!F.isValidElement(a))return;let l=[...e,o];if(a.type===F.Fragment){t.push.apply(t,tp(a.props.children,l));return}Ct(a.type===er,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=tp(a.props.children,l)),t.push(u)}),t}var Df="get",Of="application/x-www-form-urlencoded";function pd(r){return r!=null&&typeof r.tagName=="string"}function M2(r){return pd(r)&&r.tagName.toLowerCase()==="button"}function L2(r){return pd(r)&&r.tagName.toLowerCase()==="form"}function P2(r){return pd(r)&&r.tagName.toLowerCase()==="input"}function V2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function U2(r,e){return r.button===0&&(!e||e==="_self")&&!V2(r)}var xf=null;function z2(){if(xf===null)try{new FormData(document.createElement("form"),0),xf=!1}catch{xf=!0}return xf}var B2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(r){return r!=null&&!B2.has(r)?(Sr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):r}function F2(r,e){let t,a,o,l,u;if(L2(r)){let h=r.getAttribute("action");a=h?Li(h,e):null,t=r.getAttribute("method")||Df,o=zm(r.getAttribute("enctype"))||Of,l=new FormData(r)}else if(M2(r)||P2(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||h.getAttribute("action");if(a=y?Li(y,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||Df,o=zm(r.getAttribute("formenctype"))||zm(h.getAttribute("enctype"))||Of,l=new FormData(h,r),!z2()){let{name:g,type:b,value:w}=r;if(b==="image"){let E=g?`${g}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else g&&l.append(g,w)}}else{if(pd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Df,a=null,o=Of,u=r}return l&&o==="text/plain"&&(u=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function q2(r,e,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&Li(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function H2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $2(r,e,t){let a=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await H2(l,t);return u.links?u.links():[]}return[]}));return Q2(a.flat(1).filter(G2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ob(r,e,t,a,o,l){let u=(y,g)=>t[g]?y.route.id!==t[g].route.id:!0,h=(y,g)=>t[g].pathname!==y.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==y.params["*"];return l==="assets"?e.filter((y,g)=>u(y,g)||h(y,g)):l==="data"?e.filter((y,g)=>{let b=a.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(u(y,g)||h(y,g))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function X2(r,e,{includeHydrateFallback:t}={}){return Y2(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Y2(r){return[...new Set(r)]}function K2(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function Q2(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let l=JSON.stringify(K2(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}function l_(){let r=F.useContext($o);return Pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function W2(){let r=F.useContext(hd);return Pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Vp=F.createContext(void 0);Vp.displayName="FrameworkContext";function c_(){let r=F.useContext(Vp);return Pp(r,"You must render this element inside a <HydratedRouter> element"),r}function J2(r,e){let t=F.useContext(Vp),[a,o]=F.useState(!1),[l,u]=F.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:g,onMouseLeave:b,onTouchStart:w}=e,E=F.useRef(null);F.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let V=M=>{M.forEach(z=>{u(z.isIntersecting)})},I=new IntersectionObserver(V,{threshold:.5});return E.current&&I.observe(E.current),()=>{I.disconnect()}}},[r]),F.useEffect(()=>{if(a){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[a]);let k=()=>{o(!0)},U=()=>{o(!1),u(!1)};return t?r!=="intent"?[l,E,{}]:[l,E,{onFocus:sc(h,k),onBlur:sc(y,U),onMouseEnter:sc(g,k),onMouseLeave:sc(b,U),onTouchStart:sc(w,k)}]:[!1,E,{}]}function sc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Z2({page:r,...e}){let{router:t}=l_(),a=F.useMemo(()=>Jv(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?F.createElement(tS,{page:r,matches:a,...e}):null}function eS(r){let{manifest:e,routeModules:t}=c_(),[a,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return $2(r,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[r,e,t]),a}function tS({page:r,matches:e,...t}){let a=Fi(),{manifest:o,routeModules:l}=c_(),{basename:u}=l_(),{loaderData:h,matches:y}=W2(),g=F.useMemo(()=>ob(r,e,y,o,a,"data"),[r,e,y,o,a]),b=F.useMemo(()=>ob(r,e,y,o,a,"assets"),[r,e,y,o,a]),w=F.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let U=new Set,V=!1;if(e.forEach(M=>{let z=o.routes[M.route.id];!z||!z.hasLoader||(!g.some(G=>G.route.id===M.route.id)&&M.route.id in h&&l[M.route.id]?.shouldRevalidate||z.hasClientLoader?V=!0:U.add(M.route.id))}),U.size===0)return[];let I=q2(r,u,"data");return V&&U.size>0&&I.searchParams.set("_routes",e.filter(M=>U.has(M.route.id)).map(M=>M.route.id).join(",")),[I.pathname+I.search]},[u,h,a,o,g,e,r,l]),E=F.useMemo(()=>X2(b,o),[b,o]),k=eS(b);return F.createElement(F.Fragment,null,w.map(U=>F.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),E.map(U=>F.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),k.map(({key:U,link:V})=>F.createElement("link",{key:U,...V})))}function nS(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u_&&(window.__reactRouterVersion="7.7.1")}catch{}function rS({basename:r,children:e,window:t}){let a=F.useRef();a.current==null&&(a.current=qT({window:t,v5Compat:!0}));let o=a.current,[l,u]=F.useState({action:o.action,location:o.location}),h=F.useCallback(y=>{F.startTransition(()=>u(y))},[u]);return F.useLayoutEffect(()=>o.listen(h),[o,h]),F.createElement(O2,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var f_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yf=F.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:u,state:h,target:y,to:g,preventScrollReset:b,viewTransition:w,...E},k){let{basename:U}=F.useContext(Cr),V=typeof g=="string"&&f_.test(g),I,M=!1;if(typeof g=="string"&&V&&(I=g,u_))try{let C=new URL(window.location.href),R=g.startsWith("//")?new URL(C.protocol+g):new URL(g),D=Li(R.pathname,U);R.origin===C.origin&&D!=null?g=D+R.search+R.hash:M=!0}catch{Sr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=g2(g,{relative:o}),[G,ne,re]=J2(a,E),ce=oS(g,{replace:u,state:h,target:y,preventScrollReset:b,relative:o,viewTransition:w});function N(C){e&&e(C),C.defaultPrevented||ce(C)}let A=F.createElement("a",{...E,...re,href:I||z,onClick:M||l?e:N,ref:nS(k,ne),target:y,"data-discover":!V&&t==="render"?"true":void 0});return G&&!V?F.createElement(F.Fragment,null,A,F.createElement(Z2,{page:z})):A});Yf.displayName="Link";var iS=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:u,viewTransition:h,children:y,...g},b){let w=Oc(u,{relative:g.relative}),E=Fi(),k=F.useContext(hd),{navigator:U,basename:V}=F.useContext(Cr),I=k!=null&&dS(w)&&h===!0,M=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,z=E.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(z=z.toLowerCase(),G=G?G.toLowerCase():null,M=M.toLowerCase()),G&&V&&(G=Li(G,V)||G);const ne=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let re=z===M||!o&&z.startsWith(M)&&z.charAt(ne)==="/",ce=G!=null&&(G===M||!o&&G.startsWith(M)&&G.charAt(M.length)==="/"),N={isActive:re,isPending:ce,isTransitioning:I},A=re?e:void 0,C;typeof a=="function"?C=a(N):C=[a,re?"active":null,ce?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(N):l;return F.createElement(Yf,{...g,"aria-current":A,className:C,ref:b,style:R,to:u,viewTransition:h},typeof y=="function"?y(N):y)});iS.displayName="NavLink";var aS=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:u=Df,action:h,onSubmit:y,relative:g,preventScrollReset:b,viewTransition:w,...E},k)=>{let U=uS(),V=fS(h,{relative:g}),I=u.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&f_.test(h),z=G=>{if(y&&y(G),G.defaultPrevented)return;G.preventDefault();let ne=G.nativeEvent.submitter,re=ne?.getAttribute("formmethod")||u;U(ne||G.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:l,relative:g,preventScrollReset:b,viewTransition:w})};return F.createElement("form",{ref:k,method:I,action:V,onSubmit:a?y:z,...E,"data-discover":!M&&r==="render"?"true":void 0})});aS.displayName="Form";function sS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d_(r){let e=F.useContext($o);return Ct(e,sS(r)),e}function oS(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:u}={}){let h=md(),y=Fi(),g=Oc(r,{relative:l});return F.useCallback(b=>{if(U2(b,e)){b.preventDefault();let w=t!==void 0?t:vc(y)===vc(g);h(r,{replace:w,state:a,preventScrollReset:o,relative:l,viewTransition:u})}},[y,h,g,t,a,e,r,o,l,u])}var lS=0,cS=()=>`__${String(++lS)}__`;function uS(){let{router:r}=d_("useSubmit"),{basename:e}=F.useContext(Cr),t=R2();return F.useCallback(async(a,o={})=>{let{action:l,method:u,encType:h,formData:y,body:g}=F2(a,e);if(o.navigate===!1){let b=o.fetcherKey||cS();await r.fetch(b,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function fS(r,{relative:e}={}){let{basename:t}=F.useContext(Cr),a=F.useContext(Rr);Ct(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Oc(r||".",{relative:e})},u=Fi();if(r==null){l.search=u.search;let h=new URLSearchParams(l.search),y=h.getAll("index");if(y.some(b=>b==="")){h.delete("index"),y.filter(w=>w).forEach(w=>h.append("index",w));let b=h.toString();l.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Oi([t,l.pathname])),vc(l)}function dS(r,{relative:e}={}){let t=F.useContext(n_);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=d_("useViewTransitionState"),o=Oc(r,{relative:e});if(!t.isTransitioning)return!1;let l=Li(t.currentLocation.pathname,a)||t.currentLocation.pathname,u=Li(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Xf(o.pathname,u)!=null||Xf(o.pathname,l)!=null}const hS=()=>m.jsx(o_,{}),mS=()=>{};var lb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},pS=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],h=r[t++],y=((o&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const l=r[t++],u=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},m_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,h=u?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,b=l>>2,w=(l&3)<<4|h>>4;let E=(h&15)<<2|g>>6,k=g&63;y||(k=64,u||(E=64)),a.push(t[b],t[w],t[E],t[k])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(h_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const w=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||h==null||g==null||w==null)throw new gS;const E=l<<2|h>>4;if(a.push(E),g!==64){const k=h<<4&240|g>>2;if(a.push(k),w!==64){const U=g<<6&192|w;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yS=function(r){const e=h_(r);return m_.encodeByteArray(e,!0)},Kf=function(r){return yS(r).replace(/\./g,"")},p_=function(r){try{return m_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=()=>xS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof lb>"u")return;const r=lb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_S=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&p_(r[1]);return e&&JSON.parse(e)},gd=()=>{try{return mS()||bS()||vS()||_S()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},g_=r=>gd()?.emulatorHosts?.[r],wS=r=>{const e=g_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},y_=()=>gd()?.config,x_=r=>gd()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kf(JSON.stringify(t)),Kf(JSON.stringify(u)),""].join(".")}const mc={};function SS(){const r={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?r.emulator.push(e):r.prod.push(e);return r}function AS(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let cb=!1;function v_(r,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||mc[r]===e||mc[r]||cb)return;mc[r]=e;function t(E){return`__firebase__banner__${E}`}const a="__firebase__banner",l=SS().prod.length>0;function u(){const E=document.getElementById(a);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function y(E,k){E.setAttribute("width","24"),E.setAttribute("id",k),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{cb=!0,u()},E}function b(E,k){E.setAttribute("id",k),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=AS(a),k=t("text"),U=document.getElementById(k)||document.createElement("span"),V=t("learnmore"),I=document.getElementById(V)||document.createElement("a"),M=t("preprendIcon"),z=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;h(G),b(I,V);const ne=g();y(z,M),G.append(z,U,I,ne),document.body.appendChild(G)}l?(U.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function CS(){const r=gd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const r=An();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OS(){return!CS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class qi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=LS,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?PS(l,a):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new qi(o,h,a)}}function PS(r,e){return r.replace(VS,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const VS=/\{\$([^}]+)}/g;function US(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ja(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=r[o],u=e[o];if(ub(l)&&ub(u)){if(!ja(l,u))return!1}else if(l!==u)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function ub(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function lc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,l]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function cc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function zS(r,e){const t=new BS(r,e);return t.subscribe.bind(t)}class BS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");FS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=Bm),o.error===void 0&&(o.error=Bm),o.complete===void 0&&(o.complete=Bm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class As{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new ES;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GS(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);a===h&&u.resolve(o)}return o}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:HS(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(r){return r===vs?void 0:r}function GS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ze||(Ze={}));const XS={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},YS=Ze.INFO,KS={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},QS=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=KS[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Up{constructor(e){this.name=e,this._logLevel=YS,this._logHandler=QS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const WS=(r,e)=>e.some(t=>r instanceof t);let fb,db;function JS(){return fb||(fb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return db||(db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const __=new WeakMap,np=new WeakMap,w_=new WeakMap,Fm=new WeakMap,zp=new WeakMap;function eA(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Ra(r.result)),o()},u=()=>{a(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&__.set(t,r)}).catch(()=>{}),zp.set(e,r),e}function tA(r){if(np.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});np.set(r,e)}let rp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||w_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ra(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nA(r){rp=r(rp)}function rA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(qm(this),e,...t);return w_.set(a,e.sort?e.sort():[e]),Ra(a)}:ZS().includes(r)?function(...e){return r.apply(qm(this),e),Ra(__.get(this))}:function(...e){return Ra(r.apply(qm(this),e))}}function iA(r){return typeof r=="function"?rA(r):(r instanceof IDBTransaction&&tA(r),WS(r,JS())?new Proxy(r,rp):r)}function Ra(r){if(r instanceof IDBRequest)return eA(r);if(Fm.has(r))return Fm.get(r);const e=iA(r);return e!==r&&(Fm.set(r,e),zp.set(e,r)),e}const qm=r=>zp.get(r);function aA(r,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),h=Ra(u);return a&&u.addEventListener("upgradeneeded",y=>{a(Ra(u.result),y.oldVersion,y.newVersion,Ra(u.transaction),y)}),t&&u.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),h.then(y=>{l&&y.addEventListener("close",()=>l()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const sA=["get","getKey","getAll","getAllKeys","count"],oA=["put","add","delete","clear"],Hm=new Map;function hb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=oA.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||sA.includes(t)))return;const l=async function(u,...h){const y=this.transaction(u,o?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),o&&y.done]))[0]};return Hm.set(e,l),l}nA(r=>({...r,get:(e,t,a)=>hb(e,t)||r.get(e,t,a),has:(e,t)=>!!hb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cA(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function cA(r){return r.getComponent()?.type==="VERSION"}const ip="@firebase/app",mb="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Up("@firebase/app"),uA="@firebase/app-compat",fA="@firebase/analytics-compat",dA="@firebase/analytics",hA="@firebase/app-check-compat",mA="@firebase/app-check",pA="@firebase/auth",gA="@firebase/auth-compat",yA="@firebase/database",xA="@firebase/data-connect",bA="@firebase/database-compat",vA="@firebase/functions",_A="@firebase/functions-compat",wA="@firebase/installations",EA="@firebase/installations-compat",TA="@firebase/messaging",SA="@firebase/messaging-compat",AA="@firebase/performance",NA="@firebase/performance-compat",CA="@firebase/remote-config",RA="@firebase/remote-config-compat",kA="@firebase/storage",IA="@firebase/storage-compat",DA="@firebase/firestore",OA="@firebase/ai",jA="@firebase/firestore-compat",MA="firebase",LA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",PA={[ip]:"fire-core",[uA]:"fire-core-compat",[dA]:"fire-analytics",[fA]:"fire-analytics-compat",[mA]:"fire-app-check",[hA]:"fire-app-check-compat",[pA]:"fire-auth",[gA]:"fire-auth-compat",[yA]:"fire-rtdb",[xA]:"fire-data-connect",[bA]:"fire-rtdb-compat",[vA]:"fire-fn",[_A]:"fire-fn-compat",[wA]:"fire-iid",[EA]:"fire-iid-compat",[TA]:"fire-fcm",[SA]:"fire-fcm-compat",[AA]:"fire-perf",[NA]:"fire-perf-compat",[CA]:"fire-rc",[RA]:"fire-rc-compat",[kA]:"fire-gcs",[IA]:"fire-gcs-compat",[DA]:"fire-fst",[jA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[MA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new Map,VA=new Map,sp=new Map;function pb(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Lo(r){const e=r.name;if(sp.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,r);for(const t of Qf.values())pb(t,r);for(const t of VA.values())pb(t,r);return!0}function Bp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function pr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new jc("app","Firebase",UA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=LA;function E_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a={name:ap,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ka.create("bad-app-name",{appName:String(o)});if(t||(t=y_()),!t)throw ka.create("no-options");const l=Qf.get(o);if(l){if(ja(t,l.options)&&ja(a,l.config))return l;throw ka.create("duplicate-app",{appName:o})}const u=new $S(o);for(const y of sp.values())u.addComponent(y);const h=new zA(t,a,u);return Qf.set(o,h),h}function T_(r=ap){const e=Qf.get(r);if(!e&&r===ap&&y_())return E_();if(!e)throw ka.create("no-app",{appName:r});return e}function Ia(r,e,t){let a=PA[r]??r;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(u.join(" "));return}Lo(new As(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebase-heartbeat-database",FA=1,_c="firebase-heartbeat-store";let Gm=null;function S_(){return Gm||(Gm=aA(BA,FA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_c)}catch(t){console.warn(t)}}}}).catch(r=>{throw ka.create("idb-open",{originalErrorMessage:r.message})})),Gm}async function qA(r){try{const t=(await S_()).transaction(_c),a=await t.objectStore(_c).get(A_(r));return await t.done,a}catch(e){if(e instanceof qi)Pi.warn(e.message);else{const t=ka.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function gb(r,e){try{const a=(await S_()).transaction(_c,"readwrite");await a.objectStore(_c).put(e,A_(r)),await a.done}catch(t){if(t instanceof qi)Pi.warn(t.message);else{const a=ka.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(a.message)}}}function A_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,GA=30;class $A{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YA(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>GA){const o=KA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=yb(),{heartbeatsToSend:t,unsentEntries:a}=XA(this._heartbeatsCache.heartbeats),o=Kf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pi.warn(e),""}}}function yb(){return new Date().toISOString().substring(0,10)}function XA(r,e=HA){const t=[];let a=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),xb(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),xb(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class YA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await qA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return gb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function xb(r){return Kf(JSON.stringify({version:2,heartbeats:r})).length}function KA(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r){Lo(new As("platform-logger",e=>new lA(e),"PRIVATE")),Lo(new As("heartbeat",e=>new $A(e),"PRIVATE")),Ia(ip,mb,r),Ia(ip,mb,"esm2020"),Ia("fire-js","")}QA("");function N_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WA=N_,C_=new jc("auth","Firebase",N_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=new Up("@firebase/auth");function JA(r,...e){Wf.logLevel<=Ze.WARN&&Wf.warn(`Auth (${Ko}): ${r}`,...e)}function jf(r,...e){Wf.logLevel<=Ze.ERROR&&Wf.error(`Auth (${Ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,...e){throw Fp(r,...e)}function Qr(r,...e){return Fp(r,...e)}function R_(r,e,t){const a={...WA(),[e]:t};return new jc("auth","Firebase",a).create(e,{appName:r.name})}function ji(r){return R_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fp(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return C_.create(r,...e)}function Oe(r,e,...t){if(!r)throw Fp(e,...t)}function Ii(r){const e="INTERNAL ASSERTION FAILED: "+r;throw jf(e),new Error(e)}function Vi(r,e){r||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){return typeof self<"u"&&self.location?.href||""}function ZA(){return bb()==="http:"||bb()==="https:"}function bb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZA()||kS()||"connection"in navigator)?navigator.onLine:!0}function tN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=NS()||IS()}get(){return eN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,e){Vi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iN=new Lc(3e4,6e4);function Fa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Hi(r,e,t,a,o={}){return I_(r,o,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const h=Mc({key:r.config.apiKey,...u}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...l};return RS()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Yo(r.emulatorConfig.host)&&(g.credentials="include"),k_.fetch()(await D_(r,r.config.apiHost,t,h),g)})}async function I_(r,e,t){r._canInitEmulator=!1;const a={...nN,...e};try{const o=new sN(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw bf(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[y,g]=h.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(r,"credential-already-in-use",u);if(y==="EMAIL_EXISTS")throw bf(r,"email-already-in-use",u);if(y==="USER_DISABLED")throw bf(r,"user-disabled",u);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw R_(r,b,g);Ar(r,b)}}catch(o){if(o instanceof qi)throw o;Ar(r,"network-request-failed",{message:String(o)})}}async function Pc(r,e,t,a,o={}){const l=await Hi(r,e,t,a,o);return"mfaPendingCredential"in l&&Ar(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function D_(r,e,t,a){const o=`${e}${t}?${a}`,l=r,u=l.config.emulator?qp(r.config,o):`${r.config.apiScheme}://${o}`;return rN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function aN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Qr(this.auth,"network-request-failed")),iN.get())})}}function bf(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Qr(r,e,a);return o.customData._tokenResponse=t,o}function vb(r){return r!==void 0&&r.enterprise!==void 0}class oN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lN(r,e){return Hi(r,"GET","/v2/recaptchaConfig",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(r,e){return Hi(r,"POST","/v1/accounts:delete",e)}async function Jf(r,e){return Hi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uN(r,e=!1){const t=rn(r),a=await t.getIdToken(e),o=Hp(a);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:a,authTime:pc($m(o.auth_time)),issuedAtTime:pc($m(o.iat)),expirationTime:pc($m(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $m(r){return Number(r)*1e3}function Hp(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const o=p_(t);return o?JSON.parse(o):(jf("Failed to decode base64 JWT payload"),null)}catch(o){return jf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _b(r){const e=Hp(r);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof qi&&fN(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function fN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pc(this.lastLoginAt),this.creationTime=pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(r){const e=r.auth,t=await r.getIdToken(),a=await Po(r,Jf(e,{idToken:t}));Oe(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?O_(o.providerUserInfo):[],u=mN(r.providerData,l),h=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!u?.length,g=h?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function hN(r){const e=rn(r);await Zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mN(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function O_(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(r,e){const t=await I_(r,{},async()=>{const a=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await D_(r,o,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:h,body:a};return r.emulatorConfig&&Yo(r.emulatorConfig.host)&&(y.credentials="include"),k_.fetch()(u,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gN(r,e){return Hi(r,"POST","/v2/accounts:revokeToken",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_b(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=_b(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await pN(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,u=new Io;return a&&(Oe(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),o&&(Oe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Oe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(r,e){Oe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:t,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new dN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uN(this,e)}reload(){return hN(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Zf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await Po(this,cN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,y=t._redirectEventId??void 0,g=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:k,providerData:U,stsTokenManager:V}=t;Oe(w&&V,e,"internal-error");const I=Io.fromJSON(this.name,V);Oe(typeof w=="string",e,"internal-error"),ba(a,e.name),ba(o,e.name),Oe(typeof E=="boolean",e,"internal-error"),Oe(typeof k=="boolean",e,"internal-error"),ba(l,e.name),ba(u,e.name),ba(h,e.name),ba(y,e.name),ba(g,e.name),ba(b,e.name);const M=new Tr({uid:w,auth:e,email:o,emailVerified:E,displayName:a,isAnonymous:k,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:I,createdAt:g,lastLoginAt:b});return U&&Array.isArray(U)&&(M.providerData=U.map(z=>({...z}))),y&&(M._redirectEventId=y),M}static async _fromIdTokenResponse(e,t,a=!1){const o=new Io;o.updateFromServerResponse(t);const l=new Tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zf(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?O_(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,h=new Io;h.updateFromIdToken(a);const y=new Tr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=new Map;function Di(r){Vi(r instanceof Function,"Expected a class definition");let e=wb.get(r);return e?(Vi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,wb.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}j_.type="NONE";const Eb=j_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(r,e,t){return`firebase:${r}:${e}:${t}`}class Do{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Mf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Mf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jf(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Do(Di(Eb),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Di(Eb);const u=Mf(a,e.config.apiKey,e.name);let h=null;for(const g of t)try{const b=await g._get(u);if(b){let w;if(typeof b=="string"){const E=await Jf(e,{idToken:b}).catch(()=>{});if(!E)break;w=await Tr._fromGetAccountInfoResponse(e,E,b)}else w=Tr._fromJSON(e,b);g!==l&&(h=w),l=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new Do(l,e,a):(l=y[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Do(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z_(e))return"Blackberry";if(B_(e))return"Webos";if(L_(e))return"Safari";if((e.includes("chrome/")||P_(e))&&!e.includes("edge/"))return"Chrome";if(U_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if(a?.length===2)return a[1]}return"Other"}function M_(r=An()){return/firefox\//i.test(r)}function L_(r=An()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P_(r=An()){return/crios\//i.test(r)}function V_(r=An()){return/iemobile/i.test(r)}function U_(r=An()){return/android/i.test(r)}function z_(r=An()){return/blackberry/i.test(r)}function B_(r=An()){return/webos/i.test(r)}function Gp(r=An()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yN(r=An()){return Gp(r)&&!!window.navigator?.standalone}function xN(){return DS()&&document.documentMode===10}function F_(r=An()){return Gp(r)||U_(r)||B_(r)||z_(r)||/windows phone/i.test(r)||V_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r,e=[]){let t;switch(r){case"Browser":t=Tb(An());break;case"Worker":t=`${Tb(An())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((u,h)=>{try{const y=e(l);u(y)}catch(y){h(y)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,e={}){return Hi(r,"GET","/v2/passwordPolicy",Fa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=6;class wN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_N,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new bN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jf(this,{idToken:e}),a=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=a?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(a=h.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(ji(this));const t=e?rn(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vN(this),t=new wN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await gN(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,a,o);return()=>{u=!0,y()}}else{const y=e.addObserver(t);return()=>{u=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Is(r){return rn(r)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=zS(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TN(r){yd=r}function H_(r){return yd.loadJS(r)}function SN(){return yd.recaptchaEnterpriseScript}function AN(){return yd.gapiScript}function NN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class CN{constructor(){this.enterprise=new RN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const kN="recaptcha-enterprise",G_="NO_RECAPTCHA";class IN{constructor(e){this.type=kN,this.auth=Is(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{lN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new oN(y);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(y=>{h(y)})})}function o(l,u,h){const y=window.grecaptcha;vb(y)?y.enterprise.ready(()=>{y.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(G_)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CN().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(h=>{if(!t&&vb(window.grecaptcha))o(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let y=SN();y.length!==0&&(y+=h),H_(y).then(()=>{o(h,l,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function Ab(r,e,t,a=!1,o=!1){const l=new IN(r);let u;if(o)u=G_;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const y=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const y=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return a?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function cp(r,e,t,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ab(r,e,t,t==="getOobCode");return a(r,l)}else return a(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ab(r,e,t,t==="getOobCode");return a(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r,e){const t=Bp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ja(l,e??{}))return o;Ar(o,"already-initialized")}return t.initialize({options:e})}function ON(r,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function jN(r,e,t){const a=Is(r);Oe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=$_(e),{host:u,port:h}=MN(e),y=h===null?"":`:${h}`,g={url:`${l}//${u}${y}/`},b=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Oe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Oe(ja(g,a.config.emulator)&&ja(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Yo(u)?(b_(`${l}//${u}${y}`),v_("Auth",!0)):LN()}function $_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MN(r){const e=$_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:Nb(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:Nb(u)}}}function Nb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function PN(r,e){return Hi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(r,e){return Pc(r,"POST","/v1/accounts:signInWithPassword",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,e){return Pc(r,"POST","/v1/accounts:signInWithEmailLink",Fa(r,e))}async function zN(r,e){return Pc(r,"POST","/v1/accounts:signInWithEmailLink",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends $p{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new wc(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new wc(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cp(e,t,"signInWithPassword",VN);case"emailLink":return UN(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cp(e,a,"signUpPassword",PN);case"emailLink":return zN(e,{idToken:t,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,e){return Pc(r,"POST","/v1/accounts:signInWithIdp",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="http://localhost";class Ns extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...l}=t;if(!a||!o)return null;const u=new Ns(a,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Oo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Oo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oo(e,t)}buildRequest(){const e={requestUri:BN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qN(r){const e=lc(cc(r)).link,t=e?lc(cc(e)).deep_link_id:null,a=lc(cc(r)).deep_link_id;return(a?lc(cc(a)).link:null)||a||t||e||r}class Xp{constructor(e){const t=lc(cc(e)),a=t.apiKey??null,o=t.oobCode??null,l=FN(t.mode??null);Oe(a&&o&&l,"argument-error"),this.apiKey=a,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=qN(e);try{return new Xp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,t){return wc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Xp.parseLink(t);return Oe(a,"argument-error"),wc._fromEmailAndCode(e,a.code,a.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends X_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Vc{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ns._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Ea.credential(t,a)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Vc{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Vc{constructor(){super("twitter.com")}static credential(e,t){return Ns._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Sa.credential(t,a)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(r,e){return Pc(r,"POST","/v1/accounts:signUp",Fa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await Tr._fromIdTokenResponse(e,a,o),u=Cb(a);return new Cs({user:l,providerId:u,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=Cb(a);return new Cs({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function Cb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends qi{constructor(e,t,a,o){super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new ed(e,t,a,o)}}function Y_(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(r,l,e,a):l})}async function GN(r,e,t=!1){const a=await Po(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Cs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(r,e,t=!1){const{auth:a}=r;if(pr(a.app))return Promise.reject(ji(a));const o="reauthenticate";try{const l=await Po(r,Y_(a,o,e,r),t);Oe(l.idToken,a,"internal-error");const u=Hp(l.idToken);Oe(u,a,"internal-error");const{sub:h}=u;return Oe(r.uid===h,a,"user-mismatch"),Cs._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ar(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K_(r,e,t=!1){if(pr(r.app))return Promise.reject(ji(r));const a="signIn",o=await Y_(r,a,e),l=await Cs._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(l.user),l}async function XN(r,e){return K_(Is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_(r){const e=Is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YN(r,e,t){if(pr(r.app))return Promise.reject(ji(r));const a=Is(r),u=await cp(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HN).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Q_(r),y}),h=await Cs._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(h.user),h}function KN(r,e,t){return pr(r.app)?Promise.reject(ji(r)):XN(rn(r),Qo.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Q_(r),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(r,e){return Hi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const a=rn(r),l={idToken:await a.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Po(a,QN(a.auth,l));a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null;const h=a.providerData.find(({providerId:y})=>y==="password");h&&(h.displayName=a.displayName,h.photoURL=a.photoURL),await a._updateTokensIfNecessary(u)}function WN(r,e,t,a){return rn(r).onIdTokenChanged(e,t,a)}function JN(r,e,t){return rn(r).beforeAuthStateChanged(e,t)}function ZN(r,e,t,a){return rn(r).onAuthStateChanged(e,t,a)}function eC(r){return rn(r).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1e3,nC=10;class J_ extends W_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,y)=>{this.notifyListeners(u,y)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(a);!t&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);xN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nC):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},tC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}J_.type="LOCAL";const rC=J_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends W_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Z_.type="SESSION";const e1=Z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new xd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const h=Array.from(u).map(async g=>g(t.origin,l)),y=await iC(h);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((h,y)=>{const g=Yp("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);u={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(b),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function sC(r){Wr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function oC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){return navigator?.serviceWorker?.controller||null}function cC(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",uC=1,nd="firebaseLocalStorage",r1="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bd(r,e){return r.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function fC(){const r=indexedDB.deleteDatabase(n1);return new Uc(r).toPromise()}function up(){const r=indexedDB.open(n1,uC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(nd,{keyPath:r1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(nd)?e(a):(a.close(),await fC(),e(await up()))})})}async function kb(r,e,t){const a=bd(r,!0).put({[r1]:e,value:t});return new Uc(a).toPromise()}async function dC(r,e){const t=bd(r,!1).get(e),a=await new Uc(t).toPromise();return a===void 0?null:a.value}function Ib(r,e){const t=bd(r,!0).delete(e);return new Uc(t).toPromise()}const hC=800,mC=3;class i1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await up(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>mC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(cC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oC(),!this.activeServiceWorker)return;this.sender=new aC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await up();return await kb(e,td,"1"),await Ib(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>kb(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>dC(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ib(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=bd(o,!1).getAll();return new Uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i1.type="LOCAL";const pC=i1;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r,e){return e?Di(e):(Oe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends $p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yC(r){return K_(r.auth,new Kp(r),r.bypassAuthState)}function xC(r){const{auth:e,user:t}=r;return Oe(t,e,"internal-error"),$N(t,new Kp(r),r.bypassAuthState)}async function bC(r){const{auth:e,user:t}=r;return Oe(t,e,"internal-error"),GN(t,new Kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const y={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yC;case"linkViaPopup":case"linkViaRedirect":return bC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:Ar(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Lc(2e3,1e4);class ko extends a1{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="pendingRedirect",Lf=new Map;class wC extends a1{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const a=await EC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EC(r,e){const t=AC(e),a=SC(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function TC(r,e){Lf.set(r._key(),e)}function SC(r){return Di(r._redirectPersistence)}function AC(r){return Mf(_C,r.config.apiKey,r.name)}async function NC(r,e,t=!1){if(pr(r.app))return Promise.reject(ji(r));const a=Is(r),o=gC(a,e),u=await new wC(a,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=600*1e3;class RC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!s1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Qr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(e))}saveEventToCache(e){this.cachedEventUids.add(Db(e)),this.lastProcessedEventTime=Date.now()}}function Db(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function s1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function kC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,e={}){return Hi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OC=/^https?/;async function jC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await IC(r);for(const t of e)try{if(MC(t))return}catch{}Ar(r,"unauthorized-domain")}function MC(r){const e=op(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===a}if(!OC.test(t))return!1;if(DC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Lc(3e4,6e4);function Ob(){const r=Wr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function PC(r){return new Promise((e,t)=>{function a(){Ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ob(),t(Qr(r,"network-request-failed"))},timeout:LC.get()})}if(Wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wr().gapi?.load)a();else{const o=NN("iframefcb");return Wr()[o]=()=>{gapi.load?a():t(Qr(r,"network-request-failed"))},H_(`${AN()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function VC(r){return Pf=Pf||PC(r),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Lc(5e3,15e3),zC="__/auth/iframe",BC="emulator/auth/iframe",FC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HC(r){const e=r.config;Oe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?qp(e,BC):`https://${r.config.authDomain}/${zC}`,a={apiKey:e.apiKey,appName:r.name,v:Ko},o=qC.get(r.config.apiHost);o&&(a.eid=o);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Mc(a).slice(1)}`}async function GC(r){const e=await VC(r),t=Wr().gapi;return Oe(t,r,"internal-error"),e.open({where:document.body,url:HC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FC,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const u=Qr(r,"network-request-failed"),h=Wr().setTimeout(()=>{l(u)},UC.get());function y(){Wr().clearTimeout(h),o(a)}a.ping(y).then(y,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XC=500,YC=600,KC="_blank",QC="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WC(r,e,t,a=XC,o=YC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let h="";const y={...$C,width:a.toString(),height:o.toString(),top:l,left:u},g=An().toLowerCase();t&&(h=P_(g)?KC:t),M_(g)&&(e=e||QC,y.scrollbars="yes");const b=Object.entries(y).reduce((E,[k,U])=>`${E}${k}=${U},`,"");if(yN(g)&&h!=="_self")return JC(e||"",h),new jb(null);const w=window.open(e||"",h,b);Oe(w,r,"popup-blocked");try{w.focus()}catch{}return new jb(w)}function JC(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="__/auth/handler",eR="emulator/auth/handler",tR=encodeURIComponent("fac");async function Mb(r,e,t,a,o,l){Oe(r.config.authDomain,r,"auth-domain-config-required"),Oe(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:Ko,eventId:o};if(e instanceof X_){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",US(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))u[b]=w}if(e instanceof Vc){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(u.scopes=b.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const b of Object.keys(h))h[b]===void 0&&delete h[b];const y=await r._getAppCheckToken(),g=y?`#${tR}=${encodeURIComponent(y)}`:"";return`${nR(r)}?${Mc(h).slice(1)}${g}`}function nR({config:r}){return r.emulator?qp(r,eR):`https://${r.authDomain}/${ZC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class rR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=NC,this._overrideRedirectResult=TC}async _openPopup(e,t,a,o){Vi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Mb(e,t,a,op(),o);return WC(e,l,Yp())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await Mb(e,t,a,op(),o);return sC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Vi(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await GC(e),a=new RC(e);return t.register("authEvent",o=>(Oe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xm,{type:Xm},o=>{const l=o?.[0]?.[Xm];l!==void 0&&t(!!l),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return F_()||L_()||Gp()}}const iR=rR;var Lb="@firebase/auth",Pb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oR(r){Lo(new As("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=a.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q_(r)},g=new EN(a,o,l,y);return ON(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Lo(new As("auth-internal",e=>{const t=Is(e.getProvider("auth").getImmediate());return(a=>new aR(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(Lb,Pb,sR(r)),Ia(Lb,Pb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=300,cR=x_("authIdTokenMaxAge")||lR;let Vb=null;const uR=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>cR)return;const o=t?.token;Vb!==o&&(Vb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fR(r=T_()){const e=Bp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=DN(r,{popupRedirectResolver:iR,persistence:[pC,rC,e1]}),a=x_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=uR(l.toString());JN(t,u,()=>u(t.currentUser)),WN(t,h=>u(h))}}const o=g_("auth");return o&&jN(t,`http://${o}`),t}function dR(){return document.getElementsByTagName("head")?.[0]??document}TN({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const l=Qr("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",dR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oR("Browser");var hR="firebase",mR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia(hR,mR,"app");var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,o1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function C(){}C.prototype=A.prototype,N.D=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(R,D,q){for(var O=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)O[nt-2]=arguments[nt];return A.prototype[D].apply(R,O)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,C){C||(C=0);var R=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)R[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;16>D;++D)R[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],D=N.g[2];var q=N.g[3],O=A+(q^C&(D^q))+R[0]+3614090360&4294967295;A=C+(O<<7&4294967295|O>>>25),O=q+(D^A&(C^D))+R[1]+3905402710&4294967295,q=A+(O<<12&4294967295|O>>>20),O=D+(C^q&(A^C))+R[2]+606105819&4294967295,D=q+(O<<17&4294967295|O>>>15),O=C+(A^D&(q^A))+R[3]+3250441966&4294967295,C=D+(O<<22&4294967295|O>>>10),O=A+(q^C&(D^q))+R[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=q+(D^A&(C^D))+R[5]+1200080426&4294967295,q=A+(O<<12&4294967295|O>>>20),O=D+(C^q&(A^C))+R[6]+2821735955&4294967295,D=q+(O<<17&4294967295|O>>>15),O=C+(A^D&(q^A))+R[7]+4249261313&4294967295,C=D+(O<<22&4294967295|O>>>10),O=A+(q^C&(D^q))+R[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=q+(D^A&(C^D))+R[9]+2336552879&4294967295,q=A+(O<<12&4294967295|O>>>20),O=D+(C^q&(A^C))+R[10]+4294925233&4294967295,D=q+(O<<17&4294967295|O>>>15),O=C+(A^D&(q^A))+R[11]+2304563134&4294967295,C=D+(O<<22&4294967295|O>>>10),O=A+(q^C&(D^q))+R[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=q+(D^A&(C^D))+R[13]+4254626195&4294967295,q=A+(O<<12&4294967295|O>>>20),O=D+(C^q&(A^C))+R[14]+2792965006&4294967295,D=q+(O<<17&4294967295|O>>>15),O=C+(A^D&(q^A))+R[15]+1236535329&4294967295,C=D+(O<<22&4294967295|O>>>10),O=A+(D^q&(C^D))+R[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=q+(C^D&(A^C))+R[6]+3225465664&4294967295,q=A+(O<<9&4294967295|O>>>23),O=D+(A^C&(q^A))+R[11]+643717713&4294967295,D=q+(O<<14&4294967295|O>>>18),O=C+(q^A&(D^q))+R[0]+3921069994&4294967295,C=D+(O<<20&4294967295|O>>>12),O=A+(D^q&(C^D))+R[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=q+(C^D&(A^C))+R[10]+38016083&4294967295,q=A+(O<<9&4294967295|O>>>23),O=D+(A^C&(q^A))+R[15]+3634488961&4294967295,D=q+(O<<14&4294967295|O>>>18),O=C+(q^A&(D^q))+R[4]+3889429448&4294967295,C=D+(O<<20&4294967295|O>>>12),O=A+(D^q&(C^D))+R[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=q+(C^D&(A^C))+R[14]+3275163606&4294967295,q=A+(O<<9&4294967295|O>>>23),O=D+(A^C&(q^A))+R[3]+4107603335&4294967295,D=q+(O<<14&4294967295|O>>>18),O=C+(q^A&(D^q))+R[8]+1163531501&4294967295,C=D+(O<<20&4294967295|O>>>12),O=A+(D^q&(C^D))+R[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=q+(C^D&(A^C))+R[2]+4243563512&4294967295,q=A+(O<<9&4294967295|O>>>23),O=D+(A^C&(q^A))+R[7]+1735328473&4294967295,D=q+(O<<14&4294967295|O>>>18),O=C+(q^A&(D^q))+R[12]+2368359562&4294967295,C=D+(O<<20&4294967295|O>>>12),O=A+(C^D^q)+R[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=q+(A^C^D)+R[8]+2272392833&4294967295,q=A+(O<<11&4294967295|O>>>21),O=D+(q^A^C)+R[11]+1839030562&4294967295,D=q+(O<<16&4294967295|O>>>16),O=C+(D^q^A)+R[14]+4259657740&4294967295,C=D+(O<<23&4294967295|O>>>9),O=A+(C^D^q)+R[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=q+(A^C^D)+R[4]+1272893353&4294967295,q=A+(O<<11&4294967295|O>>>21),O=D+(q^A^C)+R[7]+4139469664&4294967295,D=q+(O<<16&4294967295|O>>>16),O=C+(D^q^A)+R[10]+3200236656&4294967295,C=D+(O<<23&4294967295|O>>>9),O=A+(C^D^q)+R[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=q+(A^C^D)+R[0]+3936430074&4294967295,q=A+(O<<11&4294967295|O>>>21),O=D+(q^A^C)+R[3]+3572445317&4294967295,D=q+(O<<16&4294967295|O>>>16),O=C+(D^q^A)+R[6]+76029189&4294967295,C=D+(O<<23&4294967295|O>>>9),O=A+(C^D^q)+R[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=q+(A^C^D)+R[12]+3873151461&4294967295,q=A+(O<<11&4294967295|O>>>21),O=D+(q^A^C)+R[15]+530742520&4294967295,D=q+(O<<16&4294967295|O>>>16),O=C+(D^q^A)+R[2]+3299628645&4294967295,C=D+(O<<23&4294967295|O>>>9),O=A+(D^(C|~q))+R[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=q+(C^(A|~D))+R[7]+1126891415&4294967295,q=A+(O<<10&4294967295|O>>>22),O=D+(A^(q|~C))+R[14]+2878612391&4294967295,D=q+(O<<15&4294967295|O>>>17),O=C+(q^(D|~A))+R[5]+4237533241&4294967295,C=D+(O<<21&4294967295|O>>>11),O=A+(D^(C|~q))+R[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=q+(C^(A|~D))+R[3]+2399980690&4294967295,q=A+(O<<10&4294967295|O>>>22),O=D+(A^(q|~C))+R[10]+4293915773&4294967295,D=q+(O<<15&4294967295|O>>>17),O=C+(q^(D|~A))+R[1]+2240044497&4294967295,C=D+(O<<21&4294967295|O>>>11),O=A+(D^(C|~q))+R[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=q+(C^(A|~D))+R[15]+4264355552&4294967295,q=A+(O<<10&4294967295|O>>>22),O=D+(A^(q|~C))+R[6]+2734768916&4294967295,D=q+(O<<15&4294967295|O>>>17),O=C+(q^(D|~A))+R[13]+1309151649&4294967295,C=D+(O<<21&4294967295|O>>>11),O=A+(D^(C|~q))+R[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=q+(C^(A|~D))+R[11]+3174756917&4294967295,q=A+(O<<10&4294967295|O>>>22),O=D+(A^(q|~C))+R[2]+718787259&4294967295,D=q+(O<<15&4294967295|O>>>17),O=C+(q^(D|~A))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+q&4294967295}a.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var C=A-this.blockSize,R=this.B,D=this.h,q=0;q<A;){if(D==0)for(;q<=C;)o(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<A;)if(R[D++]=N.charCodeAt(q++),D==this.blockSize){o(this,R),D=0;break}}else for(;q<A;)if(R[D++]=N[q++],D==this.blockSize){o(this,R),D=0;break}}this.h=D,this.o+=A},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var C=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=C&255,C/=256;for(this.u(N),N=Array(16),A=C=0;4>A;++A)for(var R=0;32>R;R+=8)N[C++]=this.g[A]>>>R&255;return N};function l(N,A){var C=h;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function u(N,A){this.h=A;for(var C=[],R=!0,D=N.length-1;0<=D;D--){var q=N[D]|0;R&&q==A||(C[D]=q,R=!1)}this.g=C}var h={};function y(N){return-128<=N&&128>N?l(N,function(A){return new u([A|0],0>A?-1:0)}):new u([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return I(g(-N));for(var A=[],C=1,R=0;N>=C;R++)A[R]=N/C|0,C*=4294967296;return new u(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return I(b(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(A,8)),R=w,D=0;D<N.length;D+=8){var q=Math.min(8,N.length-D),O=parseInt(N.substring(D,D+q),A);8>q?(q=g(Math.pow(A,q)),R=R.j(q).add(g(O))):(R=R.j(C),R=R.add(g(O)))}return R}var w=y(0),E=y(1),k=y(16777216);r=u.prototype,r.m=function(){if(V(this))return-I(this).m();for(var N=0,A=1,C=0;C<this.g.length;C++){var R=this.i(C);N+=(0<=R?R:4294967296+R)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(V(this))return"-"+I(this).toString(N);for(var A=g(Math.pow(N,6)),C=this,R="";;){var D=ne(C,A).g;C=M(C,D.j(A));var q=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=D,U(C))return q+R;for(;6>q.length;)q="0"+q;R=q+R}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function V(N){return N.h==-1}r.l=function(N){return N=M(this,N),V(N)?-1:U(N)?0:1};function I(N){for(var A=N.g.length,C=[],R=0;R<A;R++)C[R]=~N.g[R];return new u(C,~N.h).add(E)}r.abs=function(){return V(this)?I(this):this},r.add=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],R=0,D=0;D<=A;D++){var q=R+(this.i(D)&65535)+(N.i(D)&65535),O=(q>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);R=O>>>16,q&=65535,O&=65535,C[D]=O<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function M(N,A){return N.add(I(A))}r.j=function(N){if(U(this)||U(N))return w;if(V(this))return V(N)?I(this).j(I(N)):I(I(this).j(N));if(V(N))return I(this.j(I(N)));if(0>this.l(k)&&0>N.l(k))return g(this.m()*N.m());for(var A=this.g.length+N.g.length,C=[],R=0;R<2*A;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<N.g.length;D++){var q=this.i(R)>>>16,O=this.i(R)&65535,nt=N.i(D)>>>16,ct=N.i(D)&65535;C[2*R+2*D]+=O*ct,z(C,2*R+2*D),C[2*R+2*D+1]+=q*ct,z(C,2*R+2*D+1),C[2*R+2*D+1]+=O*nt,z(C,2*R+2*D+1),C[2*R+2*D+2]+=q*nt,z(C,2*R+2*D+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new u(C,0)};function z(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function G(N,A){this.g=N,this.h=A}function ne(N,A){if(U(A))throw Error("division by zero");if(U(N))return new G(w,w);if(V(N))return A=ne(I(N),A),new G(I(A.g),I(A.h));if(V(A))return A=ne(N,I(A)),new G(I(A.g),A.h);if(30<N.g.length){if(V(N)||V(A))throw Error("slowDivide_ only works with positive integers.");for(var C=E,R=A;0>=R.l(N);)C=re(C),R=re(R);var D=ce(C,1),q=ce(R,1);for(R=ce(R,2),C=ce(C,2);!U(R);){var O=q.add(R);0>=O.l(N)&&(D=D.add(C),q=O),R=ce(R,1),C=ce(C,1)}return A=M(N,D.j(A)),new G(D,A)}for(D=w;0<=N.l(A);){for(C=Math.max(1,Math.floor(N.m()/A.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),q=g(C),O=q.j(A);V(O)||0<O.l(N);)C-=R,q=g(C),O=q.j(A);U(q)&&(q=E),D=D.add(q),N=M(N,O)}return new G(D,N)}r.A=function(N){return ne(this,N).h},r.and=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)&N.i(R);return new u(C,this.h&N.h)},r.or=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)|N.i(R);return new u(C,this.h|N.h)},r.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),C=[],R=0;R<A;R++)C[R]=this.i(R)^N.i(R);return new u(C,this.h^N.h)};function re(N){for(var A=N.g.length+1,C=[],R=0;R<A;R++)C[R]=N.i(R)<<1|N.i(R-1)>>>31;return new u(C,N.h)}function ce(N,A){var C=A>>5;A%=32;for(var R=N.g.length-C,D=[],q=0;q<R;q++)D[q]=0<A?N.i(q+C)>>>A|N.i(q+C+1)<<32-A:N.i(q+C);return new u(D,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,o1=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=b,Da=u}).apply(typeof Ub<"u"?Ub:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l1,uc,c1,Vf,fp,u1,f1,d1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,v){return f==Array.prototype||f==Object.prototype||(f[x]=v.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var x=0;x<f.length;++x){var v=f[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=t(this);function o(f,x){if(x)e:{var v=a;f=f.split(".");for(var S=0;S<f.length-1;S++){var X=f[S];if(!(X in v))break e;v=v[X]}f=f[f.length-1],S=v[f],x=x(S),x!=S&&x!=null&&e(v,f,{configurable:!0,writable:!0,value:x})}}function l(f,x){f instanceof String&&(f+="");var v=0,S=!1,X={next:function(){if(!S&&v<f.length){var Z=v++;return{value:x(Z,f[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(f){return f||function(){return l(this,function(x,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function y(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function g(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function b(f,x,v){return f.call.apply(f.bind,arguments)}function w(f,x,v){if(!f)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,S),f.apply(x,X)}}return function(){return f.apply(x,arguments)}}function E(f,x,v){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,E.apply(null,arguments)}function k(f,x){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function U(f,x){function v(){}v.prototype=x.prototype,f.aa=x.prototype,f.prototype=new v,f.prototype.constructor=f,f.Qb=function(S,X,Z){for(var pe=Array(arguments.length-2),at=2;at<arguments.length;at++)pe[at-2]=arguments[at];return x.prototype[X].apply(S,pe)}}function V(f){const x=f.length;if(0<x){const v=Array(x);for(let S=0;S<x;S++)v[S]=f[S];return v}return[]}function I(f,x){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(y(S)){const X=f.length||0,Z=S.length||0;f.length=X+Z;for(let pe=0;pe<Z;pe++)f[X+pe]=S[pe]}else f.push(S)}}class M{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function z(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ne(f){return ne[" "](f),f}ne[" "]=function(){};var re=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ce(f,x,v){for(const S in f)x.call(v,f[S],S,f)}function N(f,x){for(const v in f)x.call(void 0,f[v],v,f)}function A(f){const x={};for(const v in f)x[v]=f[v];return x}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,x){let v,S;for(let X=1;X<arguments.length;X++){S=arguments[X];for(v in S)f[v]=S[v];for(let Z=0;Z<C.length;Z++)v=C[Z],Object.prototype.hasOwnProperty.call(S,v)&&(f[v]=S[v])}}function D(f){var x=1;f=f.split(":");const v=[];for(;0<x&&f.length;)v.push(f.shift()),x--;return f.length&&v.push(f.join(":")),v}function q(f){h.setTimeout(()=>{throw f},0)}function O(){var f=Ve;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class nt{constructor(){this.h=this.g=null}add(x,v){const S=ct.get();S.set(x,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ct=new M(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ue=!1,Ve=new nt,L=()=>{const f=h.Promise.resolve(void 0);me=()=>{f.then(te)}};var te=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(v){q(v)}var x=ct;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}ue=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const v=()=>{};h.addEventListener("test",v,x),h.removeEventListener("test",v,x)}catch{}return f}();function He(f,x){if(fe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var v=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(re){e:{try{ne(x.nodeName);var X=!0;break e}catch{}X=!1}X||(x=null)}}else v=="mouseover"?x=f.fromElement:v=="mouseout"&&(x=f.toElement);this.relatedTarget=x,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ke[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&He.aa.h.call(this)}}U(He,fe);var ke={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),Je=0;function nr(f,x,v,S,X){this.listener=f,this.proxy=null,this.src=x,this.type=v,this.capture=!!S,this.ha=X,this.key=++Je,this.da=this.fa=!1}function kr(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Fn(f){this.src=f,this.g={},this.h=0}Fn.prototype.add=function(f,x,v,S,X){var Z=f.toString();f=this.g[Z],f||(f=this.g[Z]=[],this.h++);var pe=Rt(f,x,S,X);return-1<pe?(x=f[pe],v||(x.fa=!1)):(x=new nr(x,this.src,Z,!!S,X),x.fa=v,f.push(x)),x};function Nn(f,x){var v=x.type;if(v in f.g){var S=f.g[v],X=Array.prototype.indexOf.call(S,x,void 0),Z;(Z=0<=X)&&Array.prototype.splice.call(S,X,1),Z&&(kr(x),f.g[v].length==0&&(delete f.g[v],f.h--))}}function Rt(f,x,v,S){for(var X=0;X<f.length;++X){var Z=f[X];if(!Z.da&&Z.listener==x&&Z.capture==!!v&&Z.ha==S)return X}return-1}var P="closure_lm_"+(1e6*Math.random()|0),$={};function ee(f,x,v,S,X){if(Array.isArray(x)){for(var Z=0;Z<x.length;Z++)ee(f,x[Z],v,S,X);return null}return v=wt(v),f&&f[Ht]?f.K(x,v,g(S)?!!S.capture:!1,X):be(f,x,v,!1,S,X)}function be(f,x,v,S,X,Z){if(!x)throw Error("Invalid event type");var pe=g(X)?!!X.capture:!!X,at=Ee(f);if(at||(f[P]=at=new Fn(f)),v=at.add(x,v,S,pe,Z),v.proxy)return v;if(S=Ae(),v.proxy=S,S.src=f,S.listener=v,f.addEventListener)we||(X=pe),X===void 0&&(X=!1),f.addEventListener(x.toString(),S,X);else if(f.attachEvent)f.attachEvent(ge(x.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ae(){function f(v){return x.call(f.src,f.listener,v)}const x=Xe;return f}function ze(f,x,v,S,X){if(Array.isArray(x))for(var Z=0;Z<x.length;Z++)ze(f,x[Z],v,S,X);else S=g(S)?!!S.capture:!!S,v=wt(v),f&&f[Ht]?(f=f.i,x=String(x).toString(),x in f.g&&(Z=f.g[x],v=Rt(Z,v,S,X),-1<v&&(kr(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete f.g[x],f.h--)))):f&&(f=Ee(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Rt(x,v,S,X)),(v=-1<f?x[f]:null)&&De(v))}function De(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Ht])Nn(x.i,f);else{var v=f.type,S=f.proxy;x.removeEventListener?x.removeEventListener(v,S,f.capture):x.detachEvent?x.detachEvent(ge(v),S):x.addListener&&x.removeListener&&x.removeListener(S),(v=Ee(x))?(Nn(v,f),v.h==0&&(v.src=null,x[P]=null)):kr(f)}}}function ge(f){return f in $?$[f]:$[f]="on"+f}function Xe(f,x){if(f.da)f=!0;else{x=new He(x,this);var v=f.listener,S=f.ha||f.src;f.fa&&De(f),f=v.call(S,x)}return f}function Ee(f){return f=f[P],f instanceof Fn?f:null}var it="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(f){return typeof f=="function"?f:(f[it]||(f[it]=function(x){return f.handleEvent(x)}),f[it])}function Fe(){de.call(this),this.i=new Fn(this),this.M=this,this.F=null}U(Fe,de),Fe.prototype[Ht]=!0,Fe.prototype.removeEventListener=function(f,x,v,S){ze(this,f,x,v,S)};function Ne(f,x){var v,S=f.F;if(S)for(v=[];S;S=S.F)v.push(S);if(f=f.M,S=x.type||x,typeof x=="string")x=new fe(x,f);else if(x instanceof fe)x.target=x.target||f;else{var X=x;x=new fe(S,f),R(x,X)}if(X=!0,v)for(var Z=v.length-1;0<=Z;Z--){var pe=x.g=v[Z];X=Pe(pe,S,!0,x)&&X}if(pe=x.g=f,X=Pe(pe,S,!0,x)&&X,X=Pe(pe,S,!1,x)&&X,v)for(Z=0;Z<v.length;Z++)pe=x.g=v[Z],X=Pe(pe,S,!1,x)&&X}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var v=f.g[x],S=0;S<v.length;S++)kr(v[S]);delete f.g[x],f.h--}}this.F=null},Fe.prototype.K=function(f,x,v,S){return this.i.add(String(f),x,!1,v,S)},Fe.prototype.L=function(f,x,v,S){return this.i.add(String(f),x,!0,v,S)};function Pe(f,x,v,S){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var X=!0,Z=0;Z<x.length;++Z){var pe=x[Z];if(pe&&!pe.da&&pe.capture==v){var at=pe.listener,Jt=pe.ha||pe.src;pe.fa&&Nn(f.i,pe),X=at.call(Jt,S)!==!1&&X}}return X&&!S.defaultPrevented}function Ye(f,x,v){if(typeof f=="function")v&&(f=E(f,v));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:h.setTimeout(f,x||0)}function Ke(f){f.g=Ye(()=>{f.g=null,f.i&&(f.i=!1,Ke(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Cn extends de{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(f){de.call(this),this.h=f,this.g={}}U(Wt,de);var kt=[];function It(f){ce(f.g,function(x,v){this.g.hasOwnProperty(v)&&De(x)},f),f.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),It(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=h.JSON.stringify,Rn=h.JSON.parse,Me=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function rr(){}rr.prototype.h=null;function yr(f){return f.h||(f.h=f.i())}function Gi(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){fe.call(this,"d")}U(qn,fe);function $i(){fe.call(this,"c")}U($i,fe);var Hn={},Xi=null;function Ir(){return Xi=Xi||new Fe}Hn.La="serverreachability";function si(f){fe.call(this,Hn.La,f)}U(si,fe);function Dr(f){const x=Ir();Ne(x,new si(x))}Hn.STAT_EVENT="statevent";function js(f,x){fe.call(this,Hn.STAT_EVENT,f),this.stat=x}U(js,fe);function Et(f){const x=Ir();Ne(x,new js(x,f))}Hn.Ma="timingevent";function Pt(f,x){fe.call(this,Hn.Ma,f),this.size=x}U(Pt,fe);function jt(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},x)}function mt(){this.g=!0}mt.prototype.xa=function(){this.g=!1};function an(f,x,v,S,X,Z){f.info(function(){if(f.g)if(Z)for(var pe="",at=Z.split("&"),Jt=0;Jt<at.length;Jt++){var st=at[Jt].split("=");if(1<st.length){var on=st[0];st=st[1];var Zt=on.split("_");pe=2<=Zt.length&&Zt[1]=="type"?pe+(on+"="+st+"&"):pe+(on+"=redacted&")}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+S+") [attempt "+X+"]: "+x+`
`+v+`
`+pe})}function oi(f,x,v,S,X,Z,pe){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+X+"]: "+x+`
`+v+`
`+Z+" "+pe})}function Gn(f,x,v,S){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ga(f,v)+(S?" "+S:"")})}function Wc(f,x){f.info(function(){return"TIMEOUT: "+x})}mt.prototype.info=function(){};function Ga(f,x){if(!f.g)return x;if(!x)return null;try{var v=JSON.parse(x);if(v){for(f=0;f<v.length;f++)if(Array.isArray(v[f])){var S=v[f];if(!(2>S.length)){var X=S[1];if(Array.isArray(X)&&!(1>X.length)){var Z=X[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var pe=1;pe<X.length;pe++)X[pe]=""}}}}return rt(v)}catch{return x}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function jr(){}U(jr,rr),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},Or=new jr;function kn(f,x,v,S){this.j=f,this.i=x,this.l=v,this.R=S||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var al={},Ms={};function br(f,x,v){f.L=1,f.v=Qa($n(x)),f.m=v,f.P=!0,ci(f,null)}function ci(f,x){f.F=Date.now(),$a(f),f.A=$n(f.v);var v=f.A,S=f.R;Array.isArray(S)||(S=[String(S)]),fl(v.i,"t",S),f.C=0,v=f.j.J,f.h=new Vt,f.g=hu(f.j,v?x:null,!f.m),0<f.O&&(f.M=new Cn(E(f.Y,f,f.g),f.O)),x=f.U,v=f.g,S=f.ca;var X="readystatechange";Array.isArray(X)||(X&&(kt[0]=X.toString()),X=kt);for(var Z=0;Z<X.length;Z++){var pe=ee(v,X[Z],S||x.handleEvent,!1,x.h||x);if(!pe)break;x.g[pe.key]=pe}x=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),Dr(),an(f.i,f.u,f.A,f.l,f.R,f.m)}kn.prototype.ca=function(f){f=f.target;const x=this.M;x&&or(f)==3?x.j():this.Y(f)},kn.prototype.Y=function(f){try{if(f==this.g)e:{const Zt=or(this.g);var x=this.g.Ba();const yi=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Zt!=4||x==7||(x==8||0>=yi?Dr(3):Dr(2)),Ki(this);var v=this.g.Z();this.X=v;t:if(Jc(this)){var S=au(this.g);f="";var X=S.length,Z=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Mr(this);var pe="";break t}this.h.i=new h.TextDecoder}for(x=0;x<X;x++)this.h.h=!0,f+=this.h.i.decode(S[x],{stream:!(Z&&x==X-1)});S.length=0,this.h.g+=f,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=v==200,oi(this.i,this.u,this.A,this.l,this.R,Zt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Jt=this.g;if((at=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(at)){var st=at;break t}}st=null}if(v=st)Gn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,v);else{this.o=!1,this.s=3,Et(12),dn(this),Mr(this);break e}}if(this.P){v=!0;let hn;for(;!this.J&&this.C<pe.length;)if(hn=Zc(this,pe),hn==Ms){Zt==4&&(this.s=4,Et(14),v=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==al){this.s=4,Et(15),Gn(this.i,this.l,pe,"[Invalid Chunk]"),v=!1;break}else Gn(this.i,this.l,hn,null),Xa(this,hn);if(Jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||pe.length!=0||this.h.h||(this.s=1,Et(16),v=!1),this.o=this.o&&v,!v)Gn(this.i,this.l,pe,"[Invalid Chunked Response]"),dn(this),Mr(this);else if(0<pe.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),is(on),on.M=!0,Et(11))}}else Gn(this.i,this.l,pe,null),Xa(this,pe);Zt==4&&dn(this),this.o&&!this.J&&(Zt==4?uu(this.j,this):(this.o=!1,$a(this)))}else Bd(this.g),v==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),dn(this),Mr(this)}}}catch{}finally{}};function Jc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Zc(f,x){var v=f.C,S=x.indexOf(`
`,v);return S==-1?Ms:(v=Number(x.substring(v,S)),isNaN(v)?al:(S+=1,S+v>x.length?Ms:(x=x.slice(S,S+v),f.C=S+v,x)))}kn.prototype.cancel=function(){this.J=!0,dn(this)};function $a(f){f.S=Date.now()+f.I,eu(f,f.I)}function eu(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=jt(E(f.ba,f),x)}function Ki(f){f.B&&(h.clearTimeout(f.B),f.B=null)}kn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Wc(this.i,this.A),this.L!=2&&(Dr(),Et(17)),dn(this),this.s=2,Mr(this)):eu(this,this.S-f)};function Mr(f){f.j.G==0||f.J||uu(f.j,f)}function dn(f){Ki(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,It(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function Xa(f,x){try{var v=f.j;if(v.G!=0&&(v.g==f||sl(v.h,f))){if(!f.K&&sl(v.h,f)&&v.G==3){try{var S=v.Da.g.parse(x)}catch{S=null}if(Array.isArray(S)&&S.length==3){var X=S;if(X[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<f.F)Xs(v),Gs(v);else break e;gl(v),Et(18)}}else v.za=X[1],0<v.za-v.T&&37500>X[2]&&v.F&&v.v==0&&!v.C&&(v.C=jt(E(v.Za,v),6e3));if(1>=Ps(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else gi(v,11)}else if((f.K||v.g==f)&&Xs(v),!z(x))for(X=v.Da.g.parse(x),x=0;x<X.length;x++){let st=X[x];if(v.T=st[0],st=st[1],v.G==2)if(st[0]=="c"){v.K=st[1],v.ia=st[2];const on=st[3];on!=null&&(v.la=on,v.j.info("VER="+v.la));const Zt=st[4];Zt!=null&&(v.Aa=Zt,v.j.info("SVER="+v.Aa));const yi=st[5];yi!=null&&typeof yi=="number"&&0<yi&&(S=1.5*yi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const hn=f.g;if(hn){const Fr=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var Z=S.h;Z.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Vs(Z,Z.h),Z.h=null))}if(S.D){const xl=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(S.ya=xl,yt(S.I,S.D,xl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-f.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var pe=f;if(S.qa=du(S,S.J?S.ia:null,S.W),pe.K){In(S.h,pe);var at=pe,Jt=S.L;Jt&&(at.I=Jt),at.B&&(Ki(at),$a(at)),S.g=pe}else lu(S);0<v.i.length&&$s(v)}else st[0]!="stop"&&st[0]!="close"||gi(v,7);else v.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?gi(v,7):ml(v):st[0]!="noop"&&v.l&&v.l.ta(st),v.v=0)}}Dr(4)}catch{}}var tu=class{constructor(f,x){this.g=f,this.map=x}};function ui(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ps(f){return f.h?1:f.g?f.g.size:0}function sl(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Vs(f,x){f.g?f.g.add(x):f.h=x}function In(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}ui.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ol(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const v of f.g.values())x=x.concat(v.D);return x}return V(f.i)}function Pd(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var x=[],v=f.length,S=0;S<v;S++)x.push(f[S]);return x}x=[],v=0;for(S in f)x[v++]=f[S];return x}function Us(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var x=[];f=f.length;for(var v=0;v<f;v++)x.push(v);return x}x=[],v=0;for(const S in f)x[v++]=S;return x}}}function ll(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var v=Us(f),S=Pd(f),X=S.length,Z=0;Z<X;Z++)x.call(void 0,S[Z],v&&v[Z],f)}var Ya=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vd(f,x){if(f){f=f.split("&");for(var v=0;v<f.length;v++){var S=f[v].indexOf("="),X=null;if(0<=S){var Z=f[v].substring(0,S);X=f[v].substring(S+1)}else Z=f[v];x(Z,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Gt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Gt){this.h=f.h,Ka(this,f.j),this.o=f.o,this.g=f.g,Qi(this,f.s),this.l=f.l;var x=f.i,v=new di;v.i=x.i,x.g&&(v.g=new Map(x.g),v.h=x.h),fi(this,v),this.m=f.m}else f&&(x=String(f).match(Ya))?(this.h=!1,Ka(this,x[1]||"",!0),this.o=ir(x[2]||""),this.g=ir(x[3]||"",!0),Qi(this,x[4]),this.l=ir(x[5]||"",!0),fi(this,x[6]||"",!0),this.m=ir(x[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Gt.prototype.toString=function(){var f=[],x=this.j;x&&f.push(Wa(x,cl,!0),":");var v=this.g;return(v||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Wa(x,cl,!0),"@"),f.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&f.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&f.push("/"),f.push(Wa(v,v.charAt(0)=="/"?Ud:ul,!0))),(v=this.i.toString())&&f.push("?",v),(v=this.m)&&f.push("#",Wa(v,zs)),f.join("")};function $n(f){return new Gt(f)}function Ka(f,x,v){f.j=v?ir(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Qi(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function fi(f,x,v){x instanceof di?(f.i=x,ru(f.i,f.h)):(v||(x=Wa(x,zd)),f.i=new di(x,f.h))}function yt(f,x,v){f.i.set(x,v)}function Qa(f){return yt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ir(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Wa(f,x,v){return typeof f=="string"?(f=encodeURI(f).replace(x,nu),v&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function nu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var cl=/[#\/\?@]/g,ul=/[#\?:]/g,Ud=/[#\?]/g,zd=/[#\?@]/g,zs=/#/g;function di(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function ar(f){f.g||(f.g=new Map,f.h=0,f.i&&Vd(f.i,function(x,v){f.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}r=di.prototype,r.add=function(f,x){ar(this),this.i=null,f=Lr(this,f);var v=this.g.get(f);return v||this.g.set(f,v=[]),v.push(x),this.h+=1,this};function hi(f,x){ar(f),x=Lr(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function mi(f,x){return ar(f),x=Lr(f,x),f.g.has(x)}r.forEach=function(f,x){ar(this),this.g.forEach(function(v,S){v.forEach(function(X){f.call(x,X,S,this)},this)},this)},r.na=function(){ar(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),v=[];for(let S=0;S<x.length;S++){const X=f[S];for(let Z=0;Z<X.length;Z++)v.push(x[S])}return v},r.V=function(f){ar(this);let x=[];if(typeof f=="string")mi(this,f)&&(x=x.concat(this.g.get(Lr(this,f))));else{f=Array.from(this.g.values());for(let v=0;v<f.length;v++)x=x.concat(f[v])}return x},r.set=function(f,x){return ar(this),this.i=null,f=Lr(this,f),mi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},r.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function fl(f,x,v){hi(f,x),0<v.length&&(f.i=null,f.g.set(Lr(f,x),V(v)),f.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var v=0;v<x.length;v++){var S=x[v];const Z=encodeURIComponent(String(S)),pe=this.V(S);for(S=0;S<pe.length;S++){var X=Z;pe[S]!==""&&(X+="="+encodeURIComponent(String(pe[S]))),f.push(X)}}return this.i=f.join("&")};function Lr(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function ru(f,x){x&&!f.j&&(ar(f),f.i=null,f.g.forEach(function(v,S){var X=S.toLowerCase();S!=X&&(hi(this,S),fl(this,X,v))},f)),f.j=x}function Ja(f,x){const v=new mt;if(h.Image){const S=new Image;S.onload=k(sr,v,"TestLoadImage: loaded",!0,x,S),S.onerror=k(sr,v,"TestLoadImage: error",!1,x,S),S.onabort=k(sr,v,"TestLoadImage: abort",!1,x,S),S.ontimeout=k(sr,v,"TestLoadImage: timeout",!1,x,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else x(!1)}function vr(f,x){const v=new mt,S=new AbortController,X=setTimeout(()=>{S.abort(),sr(v,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:S.signal}).then(Z=>{clearTimeout(X),Z.ok?sr(v,"TestPingServer: ok",!0,x):sr(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(X),sr(v,"TestPingServer: error",!1,x)})}function sr(f,x,v,S,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),S(v)}catch{}}function Za(){this.g=new Me}function Pr(f,x,v){const S=v||"";try{ll(f,function(X,Z){let pe=X;g(X)&&(pe=rt(X)),x.push(S+Z+"="+encodeURIComponent(pe))})}catch(X){throw x.push(S+"type="+encodeURIComponent("_badmap")),X}}function Wi(f){this.l=f.Ub||null,this.j=f.eb||!1}U(Wi,rr),Wi.prototype.g=function(){return new pi(this.l,this.j)},Wi.prototype.i=function(f){return function(){return f}}({});function pi(f,x){Fe.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(pi,Fe),r=pi.prototype,r.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,Ur(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||h).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Vr(this):Ur(this),this.readyState==3&&dl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Vr(this))},r.Qa=function(f){this.g&&(this.response=f,Vr(this))},r.ga=function(){this.g&&Vr(this)};function Vr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ur(f)}r.setRequestHeader=function(f,x){this.u.append(f,x)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,f.push(v[0]+": "+v[1]),v=x.next();return f.join(`\r
`)};function Ur(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function hl(f){let x="";return ce(f,function(v,S){x+=S,x+=":",x+=v,x+=`\r
`}),x}function sn(f,x,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=hl(v),typeof f=="string"?v!=null&&encodeURIComponent(String(v)):yt(f,x,v))}function dt(f){Fe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(dt,Fe);var Bs=/^https?$/i,es=["POST","PUT"];r=dt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,x,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?yr(this.o):yr(Or),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(Z){iu(this,Z);return}if(f=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var X in S)v.set(X,S[X]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())v.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),X=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(es,x,void 0))||S||X||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of v)this.g.setRequestHeader(Z,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ts(this),this.u=!0,this.g.send(f),this.u=!1}catch(Z){iu(this,Z)}};function iu(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,Fs(f),zr(f)}function Fs(f){f.A||(f.A=!0,Ne(f,"complete"),Ne(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ne(this,"complete"),Ne(this,"abort"),zr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qs(this):this.bb())},r.bb=function(){qs(this)};function qs(f){if(f.h&&typeof u<"u"&&(!f.v[1]||or(f)!=4||f.Z()!=2)){if(f.u&&or(f)==4)Ye(f.Ea,0,f);else if(Ne(f,"readystatechange"),or(f)==4){f.h=!1;try{const pe=f.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var S;if(S=pe===0){var X=String(f.D).match(Ya)[1]||null;!X&&h.self&&h.self.location&&(X=h.self.location.protocol.slice(0,-1)),S=!Bs.test(X?X.toLowerCase():"")}v=S}if(v)Ne(f,"complete"),Ne(f,"success");else{f.m=6;try{var Z=2<or(f)?f.g.statusText:""}catch{Z=""}f.l=Z+" ["+f.Z()+"]",Fs(f)}}finally{zr(f)}}}}function zr(f,x){if(f.g){ts(f);const v=f.g,S=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||Ne(f,"ready");try{v.onreadystatechange=S}catch{}}}function ts(f){f.I&&(h.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function or(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Rn(x)}};function au(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Bd(f){const x={};f=(f.g&&2<=or(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(z(f[S]))continue;var v=D(f[S]);const X=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=x[X]||[];x[X]=Z,Z.push(v)}N(x,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(f,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[f]||x}function Hs(f){this.Aa=0,this.i=[],this.j=new mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,f),this.cb=ns("retryDelaySeedMs",1e4,f),this.Wa=ns("forwardChannelMaxRetries",2,f),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(f&&f.concurrentRequestLimit),this.Da=new Za,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Hs.prototype,r.la=8,r.G=1,r.connect=function(f,x,v,S){Et(0),this.W=f,this.H=x||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=du(this,null,this.W),$s(this)};function ml(f){if(su(f),f.G==3){var x=f.U++,v=$n(f.I);if(yt(v,"SID",f.K),yt(v,"RID",x),yt(v,"TYPE","terminate"),rs(f,v),x=new kn(f,f.j,x),x.L=2,x.v=Qa($n(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(x.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=x.v,v=!0),v||(x.g=hu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),$a(x)}fu(f)}function Gs(f){f.g&&(is(f),f.g.cancel(),f.g=null)}function su(f){Gs(f),f.u&&(h.clearTimeout(f.u),f.u=null),Xs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function $s(f){if(!Ls(f.h)&&!f.s){f.s=!0;var x=f.Ga;me||L(),ue||(me(),ue=!0),Ve.add(x,f),f.B=0}}function Fd(f,x){return Ps(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=jt(E(f.Ga,f,x),yl(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const X=new kn(this,this.j,f);let Z=this.o;if(this.S&&(Z?(Z=A(Z),R(Z,this.S)):Z=this.S),this.m!==null||this.O||(X.H=Z,Z=null),this.P)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(x+=S,4096<x){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=ou(this,X,x),v=$n(this.I),yt(v,"RID",f),yt(v,"CVER",22),this.D&&yt(v,"X-HTTP-Session-Id",this.D),rs(this,v),Z&&(this.O?x="headers="+encodeURIComponent(String(hl(Z)))+"&"+x:this.m&&sn(v,this.m,Z)),Vs(this.h,X),this.Ua&&yt(v,"TYPE","init"),this.P?(yt(v,"$req",x),yt(v,"SID","null"),X.T=!0,br(X,v,null)):br(X,v,x),this.G=2}}else this.G==3&&(f?pl(this,f):this.i.length==0||Ls(this.h)||pl(this))};function pl(f,x){var v;x?v=x.l:v=f.U++;const S=$n(f.I);yt(S,"SID",f.K),yt(S,"RID",v),yt(S,"AID",f.T),rs(f,S),f.m&&f.o&&sn(S,f.m,f.o),v=new kn(f,f.j,v,f.B+1),f.m===null&&(v.H=f.o),x&&(f.i=x.D.concat(f.i)),x=ou(f,v,1e3),v.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Vs(f.h,v),br(v,S,x)}function rs(f,x){f.H&&ce(f.H,function(v,S){yt(x,S,v)}),f.l&&ll({},function(v,S){yt(x,S,v)})}function ou(f,x,v){v=Math.min(f.i.length,v);var S=f.l?E(f.l.Na,f.l,f):null;e:{var X=f.i;let Z=-1;for(;;){const pe=["count="+v];Z==-1?0<v?(Z=X[0].g,pe.push("ofs="+Z)):Z=0:pe.push("ofs="+Z);let at=!0;for(let Jt=0;Jt<v;Jt++){let st=X[Jt].g;const on=X[Jt].map;if(st-=Z,0>st)Z=Math.max(0,X[Jt].g-100),at=!1;else try{Pr(on,pe,"req"+st+"_")}catch{S&&S(on)}}if(at){S=pe.join("&");break e}}}return f=f.i.splice(0,v),x.D=f,S}function lu(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;me||L(),ue||(me(),ue=!0),Ve.add(x,f),f.v=0}}function gl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=jt(E(f.Fa,f),yl(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=jt(E(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Gs(this),cu(this))};function is(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function cu(f){f.g=new kn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=$n(f.qa);yt(x,"RID","rpc"),yt(x,"SID",f.K),yt(x,"AID",f.T),yt(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&yt(x,"TO",f.ja),yt(x,"TYPE","xmlhttp"),rs(f,x),f.m&&f.o&&sn(x,f.m,f.o),f.L&&(f.g.I=f.L);var v=f.g;f=f.ia,v.L=1,v.v=Qa($n(x)),v.m=null,v.P=!0,ci(v,f)}r.Za=function(){this.C!=null&&(this.C=null,Gs(this),gl(this),Et(19))};function Xs(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function uu(f,x){var v=null;if(f.g==x){Xs(f),is(f),f.g=null;var S=2}else if(sl(f.h,x))v=x.D,In(f.h,x),S=1;else return;if(f.G!=0){if(x.o)if(S==1){v=x.m?x.m.length:0,x=Date.now()-x.F;var X=f.B;S=Ir(),Ne(S,new Pt(S,v)),$s(f)}else lu(f);else if(X=x.s,X==3||X==0&&0<x.X||!(S==1&&Fd(f,x)||S==2&&gl(f)))switch(v&&0<v.length&&(x=f.h,x.i=x.i.concat(v)),X){case 1:gi(f,5);break;case 4:gi(f,10);break;case 3:gi(f,6);break;default:gi(f,2)}}}function yl(f,x){let v=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(v*=2),v*x}function gi(f,x){if(f.j.info("Error code "+x),x==2){var v=E(f.fb,f),S=f.Xa;const X=!S;S=new Gt(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ka(S,"https"),Qa(S),X?Ja(S.toString(),v):vr(S.toString(),v)}else Et(2);f.G=0,f.l&&f.l.sa(x),fu(f),su(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function fu(f){if(f.G=0,f.ka=[],f.l){const x=ol(f.h);(x.length!=0||f.i.length!=0)&&(I(f.ka,x),I(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function du(f,x,v){var S=v instanceof Gt?$n(v):new Gt(v);if(S.g!="")x&&(S.g=x+"."+S.g),Qi(S,S.s);else{var X=h.location;S=X.protocol,x=x?x+"."+X.hostname:X.hostname,X=+X.port;var Z=new Gt(null);S&&Ka(Z,S),x&&(Z.g=x),X&&Qi(Z,X),v&&(Z.l=v),S=Z}return v=f.D,x=f.ya,v&&x&&yt(S,v,x),yt(S,"VER",f.la),rs(f,S),S}function hu(f,x,v){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new dt(new Wi({eb:v})):new dt(f.pa),x.Ha(f.J),x}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ys(){}Ys.prototype.g=function(f,x){return new Dn(f,x)};function Dn(f,x){Fe.call(this),this.g=new Hs(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!z(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!z(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new Br(this)}U(Dn,Fe),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ml(this.g)},Dn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var v={};v.__data__=f,f=v}else this.u&&(v={},v.__data__=rt(f),f=v);x.i.push(new tu(x.Ya++,f)),x.G==3&&$s(x)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,Dn.aa.N.call(this)};function pu(f){qn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const v in x){f=v;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}U(pu,qn);function gu(){$i.call(this),this.status=1}U(gu,$i);function Br(f){this.g=f}U(Br,mu),Br.prototype.ua=function(){Ne(this.g,"a")},Br.prototype.ta=function(f){Ne(this.g,new pu(f))},Br.prototype.sa=function(f){Ne(this.g,new gu)},Br.prototype.ra=function(){Ne(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,d1=function(){return new Ys},f1=function(){return Ir()},u1=Hn,fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,Vf=Yi,li.COMPLETE="complete",c1=li,Gi.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,uc=Gi,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,l1=dt}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const zb="@firebase/firestore",Bb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Up("@firebase/firestore");function Ao(){return Rs.logLevel}function xe(r,...e){if(Rs.logLevel<=Ze.DEBUG){const t=e.map(Qp);Rs.debug(`Firestore (${Wo}): ${r}`,...t)}}function Ui(r,...e){if(Rs.logLevel<=Ze.ERROR){const t=e.map(Qp);Rs.error(`Firestore (${Wo}): ${r}`,...t)}}function Vo(r,...e){if(Rs.logLevel<=Ze.WARN){const t=e.map(Qp);Rs.warn(`Firestore (${Wo}): ${r}`,...t)}}function Qp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,h1(r,a,t)}function h1(r,e,t){let a=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ui(a),new Error(a)}function ht(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||h1(e,o,a)}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends qi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tn.UNAUTHENTICATED))}shutdown(){}}class gR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yR{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,t(y)):Promise.resolve();let l=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const y=l;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},h=y=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(y=>h(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?h(y):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new m1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class xR{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bR{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new xR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);const a=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const o=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=_R(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function et(r,e){return r<e?-1:r>e?1:0}function dp(r,e){const t=Math.min(r.length,e.length);for(let a=0;a<t;a++){const o=r.charAt(a),l=e.charAt(a);if(o!==l)return Ym(o)===Ym(l)?et(o,l):Ym(o)?1:-1}return et(r.length,e.length)}const wR=55296,ER=57343;function Ym(r){const e=r.charCodeAt(0);return e>=wR&&e<=ER}function Uo(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__name__";class Yr{constructor(e,t,a){t===void 0?t=0:t>e.length&&je(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&je(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=Yr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return et(e.length,t.length)}static compareSegments(e,t){const a=Yr.isNumericId(e),o=Yr.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):dp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class St extends Yr{construct(e,t,a){return new St(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new St(t)}static emptyPath(){return new St([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Yr{construct(e,t,a){return new xn(e,t,a)}static isValidIdentifier(e){return TR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qb}static keyField(){return new xn([qb])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(a+=h,o++):(l(),o++)}if(l(),u)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(St.fromString(e))}static fromName(e){return new Se(St.fromString(e).popFirst(5))}static empty(){return new Se(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new St(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(r,e,t){if(!t)throw new ye(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function SR(r,e,t,a){if(e===!0&&a===!0)throw new ye(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Hb(r){if(!Se.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Gb(r){if(Se.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function g1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":je(12329,{type:typeof r})}function zi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vd(r);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(r,e){const t={typeString:r};return e&&(t.value=e),t}function zc(r,e){if(!g1(r))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){t=`JSON missing required field: '${a}'`;break}const u=r[a];if(o&&typeof u!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new ye(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=-62135596800,Xb=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*Xb);return new At(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$b)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xb}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$b;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Qt("string",At._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new At(0,0))}static max(){return new Ue(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function AR(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(a===1e9?new At(t+1,0):new At(t,a));return new Ma(o,Se.empty(),e)}function NR(r){return new Ma(r.readTime,r.key,Ec)}class Ma{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Ma(Ue.min(),Se.empty(),Ec)}static max(){return new Ma(Ue.max(),Se.empty(),Ec)}}function CR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(r.documentKey,e.documentKey),t!==0?t:et(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==RR)throw r;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,a)=>{t(e)})}static reject(e){return new le((t,a)=>{a(e)})}static waitFor(e){return new le((t,a)=>{let o=0,l=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++l,u&&l===o&&t()},y=>a(y))}),u=!0,l===o&&t()})}static or(e){let t=le.resolve(!1);for(const a of e)t=t.next(o=>o?le.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,l)=>{a.push(t.call(this,o,l))}),this.waitFor(a)}static mapArray(e,t){return new le((a,o)=>{const l=e.length,u=new Array(l);let h=0;for(let y=0;y<l;y++){const g=y;t(e[g]).next(b=>{u[g]=b,++h,h===l&&a(u)},b=>o(b))}})}static doWhile(e,t){return new le((a,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):a()};l()})}}function IR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_d.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function wd(r){return r==null}function rd(r){return r===0&&1/r==-1/0}function DR(r){return typeof r=="number"&&Number.isInteger(r)&&!rd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="";function OR(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Yb(e)),e=jR(r.get(t),e);return Yb(e)}function jR(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case y1:t+="";break;default:t+=l}}return t}function Yb(r){return r+y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function qa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function x1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??yn.RED,this.left=o??yn.EMPTY,this.right=l??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new yn(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qb(this.data.getIterator())}getIteratorFrom(e){return new Qb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class Qb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new tr([])}unionWith(e){let t=new nn(xn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new b1("Invalid base64 string: "+l):l}}(e);return new bn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(r){if(ht(!!r,39018),typeof r=="string"){let e=0;const t=MR.exec(r);if(ht(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Bt(r.seconds),nanos:Bt(r.nanos)}}function Bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Pa(r){return typeof r=="string"?bn.fromBase64String(r):bn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="server_timestamp",_1="__type__",w1="__previous_value__",E1="__local_write_time__";function Zp(r){return(r?.mapValue?.fields||{})[_1]?.stringValue===v1}function Ed(r){const e=r.mapValue.fields[w1];return Zp(e)?Ed(e):e}function Tc(r){const e=La(r.mapValue.fields[E1].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t,a,o,l,u,h,y,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=b}}const id="(default)";class Sc{constructor(e,t){this.projectId=e,this.database=t||id}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__type__",PR="__max__",wf={mapValue:{}},S1="__vector__",ad="value";function Va(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zp(r)?4:UR(r)?9007199254740991:VR(r)?10:11:je(28295,{value:r})}function ri(r,e){if(r===e)return!0;const t=Va(r);if(t!==Va(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tc(r).isEqual(Tc(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=La(o.timestampValue),h=La(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Pa(o.bytesValue).isEqual(Pa(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return Bt(o.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(o.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Bt(o.integerValue)===Bt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Bt(o.doubleValue),h=Bt(l.doubleValue);return u===h?rd(u)===rd(h):isNaN(u)&&isNaN(h)}return!1}(r,e);case 9:return Uo(r.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Kb(u)!==Kb(h))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(h[y]===void 0||!ri(u[y],h[y])))return!1;return!0}(r,e);default:return je(52216,{left:r})}}function Ac(r,e){return(r.values||[]).find(t=>ri(t,e))!==void 0}function zo(r,e){if(r===e)return 0;const t=Va(r),a=Va(e);if(t!==a)return et(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(r.booleanValue,e.booleanValue);case 2:return function(l,u){const h=Bt(l.integerValue||l.doubleValue),y=Bt(u.integerValue||u.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1}(r,e);case 3:return Wb(r.timestampValue,e.timestampValue);case 4:return Wb(Tc(r),Tc(e));case 5:return dp(r.stringValue,e.stringValue);case 6:return function(l,u){const h=Pa(l),y=Pa(u);return h.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),y=u.split("/");for(let g=0;g<h.length&&g<y.length;g++){const b=et(h[g],y[g]);if(b!==0)return b}return et(h.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,u){const h=et(Bt(l.latitude),Bt(u.latitude));return h!==0?h:et(Bt(l.longitude),Bt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Jb(r.arrayValue,e.arrayValue);case 10:return function(l,u){const h=l.fields||{},y=u.fields||{},g=h[ad]?.arrayValue,b=y[ad]?.arrayValue,w=et(g?.values?.length||0,b?.values?.length||0);return w!==0?w:Jb(g,b)}(r.mapValue,e.mapValue);case 11:return function(l,u){if(l===wf.mapValue&&u===wf.mapValue)return 0;if(l===wf.mapValue)return 1;if(u===wf.mapValue)return-1;const h=l.fields||{},y=Object.keys(h),g=u.fields||{},b=Object.keys(g);y.sort(),b.sort();for(let w=0;w<y.length&&w<b.length;++w){const E=dp(y[w],b[w]);if(E!==0)return E;const k=zo(h[y[w]],g[b[w]]);if(k!==0)return k}return et(y.length,b.length)}(r.mapValue,e.mapValue);default:throw je(23264,{he:t})}}function Wb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return et(r,e);const t=La(r),a=La(e),o=et(t.seconds,a.seconds);return o!==0?o:et(t.nanos,a.nanos)}function Jb(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=zo(t[o],a[o]);if(l)return l}return et(t.length,a.length)}function Bo(r){return hp(r)}function hp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=La(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Pa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Se.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=hp(l);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of a)l?l=!1:o+=",",o+=`${u}:${hp(t.fields[u])}`;return o+"}"}(r.mapValue):je(61005,{value:r})}function Uf(r){switch(Va(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(r);return e?16+Uf(e):16;case 5:return 2*r.stringValue.length;case 6:return Pa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,l)=>o+Uf(l),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return qa(a.fields,(l,u)=>{o+=l.length+Uf(u)}),o}(r.mapValue);default:throw je(13486,{value:r})}}function Zb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function mp(r){return!!r&&"integerValue"in r}function eg(r){return!!r&&"arrayValue"in r}function ev(r){return!!r&&"nullValue"in r}function tv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zf(r){return!!r&&"mapValue"in r}function VR(r){return(r?.mapValue?.fields||{})[T1]?.stringValue===S1}function gc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return qa(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=gc(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gc(r.arrayValue.values[t]);return e}return{...r}}function UR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(t)}setAll(e){let t=xn.emptyPath(),a={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const y=this.getFieldsMap(t);this.applyChanges(y,a,o),a={},o=[],t=h.popLast()}u?a[h.lastSegment()]=gc(u):o.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){qa(t,(o,l)=>e[o]=l);for(const o of a)delete e[o]}clone(){return new zn(gc(this.value))}}function A1(r){const e=[];return qa(r.fields,(t,a)=>{const o=new xn([t]);if(zf(a)){const l=A1(a.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,a,o,l,u,h){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Sn(e,0,Ue.min(),Ue.min(),Ue.min(),zn.empty(),0)}static newFoundDocument(e,t,a,o){return new Sn(e,1,t,Ue.min(),a,o,0)}static newNoDocument(e,t){return new Sn(e,2,t,Ue.min(),Ue.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,Ue.min(),Ue.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t){this.position=e,this.inclusive=t}}function nv(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?a=Se.comparator(Se.fromName(u.referenceValue),t.key):a=zo(u,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function rv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ri(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function zR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class Kt extends N1{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new FR(e,t,a):t==="array-contains"?new GR(e,a):t==="in"?new $R(e,a):t==="not-in"?new XR(e,a):t==="array-contains-any"?new YR(e,a):new Kt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new qR(e,a):new HR(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zo(t,this.value)):t!==null&&Va(this.value)===Va(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends N1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nr(e,t)}matches(e){return C1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C1(r){return r.op==="and"}function R1(r){return BR(r)&&C1(r)}function BR(r){for(const e of r.filters)if(e instanceof Nr)return!1;return!0}function pp(r){if(r instanceof Kt)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if(R1(r))return r.filters.map(e=>pp(e)).join(",");{const e=r.filters.map(t=>pp(t)).join(",");return`${r.op}(${e})`}}function k1(r,e){return r instanceof Kt?function(a,o){return o instanceof Kt&&a.op===o.op&&a.field.isEqual(o.field)&&ri(a.value,o.value)}(r,e):r instanceof Nr?function(a,o){return o instanceof Nr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((l,u,h)=>l&&k1(u,o.filters[h]),!0):!1}(r,e):void je(19439)}function I1(r){return r instanceof Kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(r):r instanceof Nr?function(t){return t.op.toString()+" {"+t.getFilters().map(I1).join(" ,")+"}"}(r):"Filter"}class FR extends Kt{constructor(e,t,a){super(e,t,a),this.key=Se.fromName(a.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class qR extends Kt{constructor(e,t){super(e,"in",t),this.keys=D1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HR extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=D1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D1(r,e){return(e.arrayValue?.values||[]).map(t=>Se.fromName(t.referenceValue))}class GR extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eg(t)&&Ac(t.arrayValue,this.value)}}class $R extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ac(this.value.arrayValue,t)}}class XR extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ac(this.value.arrayValue,t)}}class YR extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Ac(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,t=null,a=[],o=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function iv(r,e=null,t=[],a=[],o=null,l=null,u=null){return new KR(r,e,t,a,o,l,u)}function tg(r){const e=Be(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>pp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Bo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Bo(a)).join(",")),e.Te=t}return e.Te}function ng(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!zR(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!k1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rv(r.startAt,e.startAt)&&rv(r.endAt,e.endAt)}function gp(r){return Se.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t=null,a=[],o=[],l=null,u="F",h=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QR(r,e,t,a,o,l,u,h){return new Bc(r,e,t,a,o,l,u,h)}function rg(r){return new Bc(r)}function av(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O1(r){return r.collectionGroup!==null}function yc(r){const e=Be(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new nn(xn.comparator);return u.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new od(l,a))}),t.has(xn.keyField().canonicalString())||e.Ie.push(new od(xn.keyField(),a))}return e.Ie}function Jr(r){const e=Be(r);return e.Ee||(e.Ee=WR(e,yc(r))),e.Ee}function WR(r,e){if(r.limitType==="F")return iv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new od(o.field,l)});const t=r.endAt?new sd(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sd(r.startAt.position,r.startAt.inclusive):null;return iv(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function yp(r,e){const t=r.filters.concat([e]);return new Bc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function xp(r,e,t){return new Bc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Td(r,e){return ng(Jr(r),Jr(e))&&r.limitType===e.limitType}function j1(r){return`${tg(Jr(r))}|lt:${r.limitType}`}function No(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>I1(o)).join(", ")}]`),wd(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Bo(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Bo(o)).join(",")),`Target(${a})`}(Jr(r))}; limitType=${r.limitType})`}function Sd(r,e){return e.isFoundDocument()&&function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Se.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(r,e)&&function(a,o){for(const l of yc(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(u,h,y){const g=nv(u,h,y);return u.inclusive?g<=0:g<0}(a.startAt,yc(a),o)||a.endAt&&!function(u,h,y){const g=nv(u,h,y);return u.inclusive?g>=0:g>0}(a.endAt,yc(a),o))}(r,e)}function JR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function M1(r){return(e,t)=>{let a=!1;for(const o of yc(r)){const l=ZR(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function ZR(r,e,t){const a=r.field.isKeyField()?Se.comparator(e.key,t.key):function(l,u,h){const y=u.data.field(l),g=h.data.field(l);return y!==null&&g!==null?zo(y,g):je(42886)}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return je(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,(t,a)=>{for(const[o,l]of a)e(o,l)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Ot(Se.comparator);function Bi(){return ek}const L1=new Ot(Se.comparator);function fc(...r){let e=L1;for(const t of r)e=e.insert(t.key,t);return e}function P1(r){let e=L1;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function ws(){return xc()}function V1(){return xc()}function xc(){return new Ds(r=>r.toString(),(r,e)=>r.isEqual(e))}const tk=new Ot(Se.comparator),nk=new nn(Se.comparator);function tt(...r){let e=nk;for(const t of r)e=e.add(t);return e}const rk=new nn(et);function ik(){return rk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function U1(r){return{integerValue:""+r}}function z1(r,e){return DR(e)?U1(e):ig(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function ak(r,e,t){return r instanceof Nc?function(o,l){const u={fields:{[_1]:{stringValue:v1},[E1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Zp(l)&&(l=Ed(l)),l&&(u.fields[w1]=l),{mapValue:u}}(t,e):r instanceof Fo?F1(r,e):r instanceof Cc?q1(r,e):function(o,l){const u=B1(o,l),h=sv(u)+sv(o.Ae);return mp(u)&&mp(o.Ae)?U1(h):ig(o.serializer,h)}(r,e)}function sk(r,e,t){return r instanceof Fo?F1(r,e):r instanceof Cc?q1(r,e):t}function B1(r,e){return r instanceof Rc?function(a){return mp(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Nc extends Ad{}class Fo extends Ad{constructor(e){super(),this.elements=e}}function F1(r,e){const t=H1(e);for(const a of r.elements)t.some(o=>ri(o,a))||t.push(a);return{arrayValue:{values:t}}}class Cc extends Ad{constructor(e){super(),this.elements=e}}function q1(r,e){let t=H1(e);for(const a of r.elements)t=t.filter(o=>!ri(o,a));return{arrayValue:{values:t}}}class Rc extends Ad{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function sv(r){return Bt(r.integerValue||r.doubleValue)}function H1(r){return eg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t){this.field=e,this.transform=t}}function ok(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Fo&&o instanceof Fo||a instanceof Cc&&o instanceof Cc?Uo(a.elements,o.elements,ri):a instanceof Rc&&o instanceof Rc?ri(a.Ae,o.Ae):a instanceof Nc&&o instanceof Nc}(r.transform,e.transform)}class lk{constructor(e,t){this.version=e,this.transformResults=t}}class Zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nd{}function G1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new X1(r.key,Zr.none()):new Fc(r.key,r.data,Zr.none());{const t=r.data,a=zn.empty();let o=new nn(xn.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?a.delete(l):a.set(l,u),o=o.add(l)}return new Ha(r.key,a,new tr(o.toArray()),Zr.none())}}function ck(r,e,t){r instanceof Fc?function(o,l,u){const h=o.value.clone(),y=lv(o.fieldTransforms,l,u.transformResults);h.setAll(y),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,t):r instanceof Ha?function(o,l,u){if(!Bf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const h=lv(o.fieldTransforms,l,u.transformResults),y=l.data;y.setAll($1(o)),y.setAll(h),l.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(r,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function bc(r,e,t,a){return r instanceof Fc?function(l,u,h,y){if(!Bf(l.precondition,u))return h;const g=l.value.clone(),b=cv(l.fieldTransforms,y,u);return g.setAll(b),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(r,e,t,a):r instanceof Ha?function(l,u,h,y){if(!Bf(l.precondition,u))return h;const g=cv(l.fieldTransforms,y,u),b=u.data;return b.setAll($1(l)),b.setAll(g),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(r,e,t,a):function(l,u,h){return Bf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(r,e,t)}function uk(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),l=B1(a.transform,o||null);l!=null&&(t===null&&(t=zn.empty()),t.set(a.field,l))}return t||null}function ov(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Uo(a,o,(l,u)=>ok(l,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Fc extends Nd{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ha extends Nd{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $1(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function lv(r,e,t){const a=new Map;ht(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,h=e.data.field(l.field);a.set(l.field,sk(u,h,t[o]))}return a}function cv(r,e,t){const a=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);a.set(o.field,ak(l,u,e))}return a}class X1 extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fk extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ck(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=bc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=bc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=V1();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(o.key)?null:h;const y=G1(u,h);y!==null&&a.set(o.key,y),u.isValidDocument()||u.convertToNoDocument(Ue.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,(t,a)=>ov(t,a))&&Uo(this.baseMutations,e.baseMutations,(t,a)=>ov(t,a))}}class sg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return tk}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,a[u].version);return new sg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,lt;function pk(r){switch(r){case se.OK:return je(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return je(15467,{code:r})}}function Y1(r){if(r===void 0)return Ui("GRPC error has no .code"),se.UNKNOWN;switch(r){case Yt.OK:return se.OK;case Yt.CANCELLED:return se.CANCELLED;case Yt.UNKNOWN:return se.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return se.INTERNAL;case Yt.UNAVAILABLE:return se.UNAVAILABLE;case Yt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Yt.NOT_FOUND:return se.NOT_FOUND;case Yt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Yt.ABORTED:return se.ABORTED;case Yt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Yt.DATA_LOSS:return se.DATA_LOSS;default:return je(39323,{code:r})}}(lt=Yt||(Yt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Da([4294967295,4294967295],0);function uv(r){const e=gk().encode(r),t=new o1;return t.update(e),new Uint8Array(t.digest())}function fv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Da([t,a],0),new Da([o,l],0)]}class og{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new dc(`Invalid padding: ${t}`);if(a<0)throw new dc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new dc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Da.fromNumber(this.ge)}ye(e,t,a){let o=e.add(t.multiply(Da.fromNumber(a)));return o.compare(yk)===1&&(o=new Da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=uv(e),[a,o]=fv(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,o,l);if(!this.we(u))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new og(l,o,t);return a.forEach(h=>u.insert(h)),u}insert(e){if(this.ge===0)return;const t=uv(e),[a,o]=fv(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(a,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Cd(Ue.min(),o,new Ot(et),Bi(),tt())}}class qc{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new qc(a,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,a,o){this.be=e,this.removedTargetIds=t,this.key=a,this.De=o}}class K1{constructor(e,t){this.targetId=e,this.Ce=t}}class Q1{constructor(e,t,a=bn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class dv{constructor(){this.ve=0,this.Fe=hv(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),t=tt(),a=tt();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:je(38017,{changeType:l})}}),new qc(this.Me,this.xe,e,t,a)}qe(){this.Oe=!1,this.Fe=hv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.Je=Ef(),this.He=Ef(),this.Ye=new Ot(et)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((a,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,a=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(gp(l))if(a===0){const u=new Se(l.path);this.et(t,u,Sn.newNoDocument(u,Ue.min()))}else ht(a===1,20013,{expectedCount:a});else{const u=this._t(t);if(u!==a){const h=this.ut(e),y=h?this.ct(h,e,u):1;if(y!==0){this.it(t);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let u,h;try{u=Pa(a).toUint8Array()}catch(y){if(y instanceof b1)return Vo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{h=new og(u,o,l)}catch(y){return Vo(y instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return h.ge===0?null:h}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let o=0;return a.forEach(l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,u)=>{const h=this.ot(u);if(h){if(l.current&&gp(h.target)){const y=new Se(h.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,Sn.newNoDocument(y,e))}l.Be&&(t.set(u,l.ke()),l.qe())}});let a=tt();this.He.forEach((l,u)=>{let h=!0;u.forEachWhile(y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(a=a.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const o=new Cd(e,t,this.Ye,this.je,a);return this.je=Bi(),this.Je=Ef(),this.He=Ef(),this.Ye=new Ot(et),o}Xe(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,a),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new dv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nn(et),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nn(et),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dv),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ef(){return new Ot(Se.comparator)}function hv(){return new Ot(Se.comparator)}const bk={asc:"ASCENDING",desc:"DESCENDING"},vk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_k={and:"AND",or:"OR"};class wk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bp(r,e){return r.useProto3Json||wd(e)?e:{value:e}}function ld(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ek(r,e){return ld(r,e.toTimestamp())}function ei(r){return ht(!!r,49232),Ue.fromTimestamp(function(t){const a=La(t);return new At(a.seconds,a.nanos)}(r))}function lg(r,e){return vp(r,e).canonicalString()}function vp(r,e){const t=function(o){return new St(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function J1(r){const e=St.fromString(r);return ht(rw(e),10190,{key:e.toString()}),e}function _p(r,e){return lg(r.databaseId,e.path)}function Km(r,e){const t=J1(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Se(ew(t))}function Z1(r,e){return lg(r.databaseId,e)}function Tk(r){const e=J1(r);return e.length===4?St.emptyPath():ew(e)}function wp(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ew(r){return ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function mv(r,e,t){return{name:_p(r,e),fields:t.value.mapValue.fields}}function Sk(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:je(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,b){return g.useProto3Json?(ht(b===void 0||typeof b=="string",58123),bn.fromBase64String(b||"")):(ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),bn.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const b=g.code===void 0?se.UNKNOWN:Y1(g.code);return new ye(b,g.message||"")}(u);t=new Q1(a,o,l,h||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Km(r,a.document.name),l=ei(a.document.updateTime),u=a.document.createTime?ei(a.document.createTime):Ue.min(),h=new zn({mapValue:{fields:a.document.fields}}),y=Sn.newFoundDocument(o,l,u,h),g=a.targetIds||[],b=a.removedTargetIds||[];t=new Ff(g,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Km(r,a.document),l=a.readTime?ei(a.readTime):Ue.min(),u=Sn.newNoDocument(o,l),h=a.removedTargetIds||[];t=new Ff([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Km(r,a.document),l=a.removedTargetIds||[];t=new Ff([],l,o,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,u=new mk(o,l),h=a.targetId;t=new K1(h,u)}}return t}function Ak(r,e){let t;if(e instanceof Fc)t={update:mv(r,e.key,e.value)};else if(e instanceof X1)t={delete:_p(r,e.key)};else if(e instanceof Ha)t={update:mv(r,e.key,e.data),updateMask:Mk(e.fieldMask)};else{if(!(e instanceof fk))return je(16599,{Vt:e.type});t={verify:_p(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,u){const h=u.transform;if(h instanceof Nc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Cc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw je(20930,{transform:u.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:Ek(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je(27497)}(r,e.precondition)),t}function Nk(r,e){return r&&r.length>0?(ht(e!==void 0,14353),r.map(t=>function(o,l){let u=o.updateTime?ei(o.updateTime):ei(l);return u.isEqual(Ue.min())&&(u=ei(l)),new lk(u,o.transformResults||[])}(t,e))):[]}function Ck(r,e){return{documents:[Z1(r,e.path)]}}function Rk(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=Z1(r,o);const l=function(g){if(g.length!==0)return nw(Nr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(g){if(g.length!==0)return g.map(b=>function(E){return{field:Co(E.field),direction:Dk(E.dir)}}(b))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=bp(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function kk(r){let e=Tk(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){ht(a===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=function(w){const E=tw(w);return E instanceof Nr&&R1(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(U){return new od(Ro(U.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,wd(E)?null:E}(t.limit));let y=null;t.startAt&&(y=function(w){const E=!!w.before,k=w.values||[];return new sd(k,E)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const E=!w.before,k=w.values||[];return new sd(k,E)}(t.endAt)),QR(e,o,u,l,h,"F",y,g)}function Ik(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Ro(t.unaryFilter.field);return Kt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(t.unaryFilter.field);return Kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ro(t.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ro(t.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(r):r.fieldFilter!==void 0?function(t){return Kt.create(Ro(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Nr.create(t.compositeFilter.filters.map(a=>tw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(t.compositeFilter.op))}(r):je(30097,{filter:r})}function Dk(r){return bk[r]}function Ok(r){return vk[r]}function jk(r){return _k[r]}function Co(r){return{fieldPath:r.canonicalString()}}function Ro(r){return xn.fromServerFormat(r.fieldPath)}function nw(r){return r instanceof Kt?function(t){if(t.op==="=="){if(tv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NAN"}};if(ev(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tv(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NAN"}};if(ev(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(t.field),op:Ok(t.op),value:t.value}}}(r):r instanceof Nr?function(t){const a=t.getFilters().map(o=>nw(o));return a.length===1?a[0]:{compositeFilter:{op:jk(t.op),filters:a}}}(r):je(54877,{filter:r})}function Mk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t,a,o,l=Ue.min(),u=Ue.min(),h=bn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=y}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.yt=e}}function Pk(r){const e=kk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Cn=new Uk}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ma.min())}updateCollectionGroup(e,t,a){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Uk{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new nn(St.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new nn(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iw=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(iw,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="LruGarbageCollector",zk=1048576;function yv([r,e],[t,a]){const o=et(r,t);return o===0?et(e,a):o}class Bk{constructor(e){this.Ir=e,this.buffer=new nn(yv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();yv(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Fk{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(gv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?xe(gv,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.Vr(3e5)})}}class qk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return le.resolve(_d.ce);const a=new Bk(t);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.mr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(pv)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pv):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let a,o,l,u,h,y,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,h=Date.now(),this.removeTargets(e,a,t))).next(w=>(l=w,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(g=Date.now(),Ao()<=Ze.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-b}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${l} targets in `+(y-h)+`ms
	Removed ${w} documents in `+(g-y)+`ms
Total Duration: ${g-b}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function Hk(r,e){return new qk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.changes=new Ds(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?le.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&bc(a.mutation,o,tr.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,tt()).next(()=>a))}getLocalViewOfDocuments(e,t,a=tt()){const o=ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(l=>{let u=fc();return l.forEach((h,y)=>{u=u.insert(h,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const a=ws();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,tt()))}populateOverlays(e,t,a){const o=[];return a.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,a,o){let l=Bi();const u=xc(),h=function(){return xc()}();return t.forEach((y,g)=>{const b=a.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof Ha)?l=l.insert(g.key,g):b!==void 0?(u.set(g.key,b.mutation.getFieldMask()),bc(b.mutation,g,b.mutation.getFieldMask(),At.now())):u.set(g.key,tr.empty())}),this.recalculateAndSaveOverlays(e,l).next(y=>(y.forEach((g,b)=>u.set(g,b)),t.forEach((g,b)=>h.set(g,new $k(b,u.get(g)??null))),h))}recalculateAndSaveOverlays(e,t){const a=xc();let o=new Ot((u,h)=>u-h),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(y=>{const g=t.get(y);if(g===null)return;let b=a.get(y)||tr.empty();b=h.applyToLocalView(g,b),a.set(y,b);const w=(o.get(h.batchId)||tt()).add(y);o=o.insert(h.batchId,w)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),g=y.key,b=y.value,w=V1();b.forEach(E=>{if(!l.has(E)){const k=G1(t.get(E),a.get(E));k!==null&&w.set(E,k),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,w))}return le.waitFor(u)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):le.resolve(ws());let h=Ec,y=l;return u.next(g=>le.forEach(g,(b,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),l.get(b)?le.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{y=y.insert(b,E)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,y,g,tt())).next(b=>({batchId:h,changes:P1(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(a=>{let o=fc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let u=fc();return this.indexManager.getCollectionParents(e,l).next(h=>le.forEach(h,y=>{const g=function(w,E){return new Bc(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(b=>{b.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o))).next(u=>{l.forEach((y,g)=>{const b=g.getKey();u.get(b)===null&&(u=u.insert(b,Sn.newInvalidDocument(b)))});let h=fc();return u.forEach((y,g)=>{const b=l.get(y);b!==void 0&&bc(b.mutation,g,tr.empty(),At.now()),Sd(t,g)&&(h=h.insert(y,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return le.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:Pk(o.bundledQuery),readTime:ei(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.overlays=new Ot(Se.comparator),this.qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const a=ws();return le.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&a.set(o,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,l)=>{this.St(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(a)),le.resolve()}getOverlaysForCollection(e,t,a){const o=ws(),l=t.length+1,u=new Se(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const y=h.getNext().value,g=y.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&y.largestBatchId>a&&o.set(y.getKey(),y)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new Ot((g,b)=>g-b);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let b=l.get(g.largestBatchId);b===null&&(b=ws(),l=l.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const h=ws(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,b)=>h.set(g,b)),!(h.size()>=o)););return le.resolve(h)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new hk(t,a));let l=this.qr.get(t);l===void 0&&(l=tt(),this.qr.set(t,l)),this.qr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Qr=new nn(fn.$r),this.Ur=new nn(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const a=new fn(e,t);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Gr(new fn(e,t))}zr(e,t){e.forEach(a=>this.removeReference(a,t))}jr(e){const t=new Se(new St([])),a=new fn(t,e),o=new fn(t,e+1),l=[];return this.Ur.forEachInRange([a,o],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new St([])),a=new fn(t,e),o=new fn(t,e+1);let l=tt();return this.Ur.forEachInRange([a,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new fn(e,0),a=this.Qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class fn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||et(e.Yr,t.Yr)}static Kr(e,t){return et(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nn(fn.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new dk(l,t,a,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new fn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,t){return le.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.ei(a),l=o<0?0:o;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Jp:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new fn(t,0),o=new fn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([a,o],u=>{const h=this.Xr(u.Yr);l.push(h)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new nn(et);return t.forEach(o=>{const l=new fn(o,0),u=new fn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],h=>{a=a.add(h.Yr)})}),le.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;Se.isDocumentKey(l)||(l=l.child(""));const u=new fn(new Se(l),0);let h=new nn(et);return this.Zr.forEachWhile(y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(h=h.add(y.Yr)),!0)},u),le.resolve(this.ti(h))}ti(e){const t=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ht(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return le.forEach(t.mutations,o=>{const l=new fn(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,t){const a=new fn(t,0),o=this.Zr.firstAfterOrEqual(a);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.ri=e,this.docs=function(){return new Ot(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return le.resolve(a?a.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let a=Bi();return t.forEach(o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():Sn.newInvalidDocument(o))}),le.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=Bi();const u=t.path,h=new Se(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:g,value:{document:b}}=y.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||CR(NR(b),a)<=0||(o.has(b.key)||Sd(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,a,o){je(9500)}ii(e,t){return le.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Zk(this)}getSize(e){return le.resolve(this.size)}}class Zk extends Gk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),le.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.persistence=e,this.si=new Ds(t=>tg(t),ng),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new cg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,t){return this.si.forEach((a,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.oi&&(this.oi=t),le.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Pr(t),le.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.si.forEach((u,h)=>{h.sequenceNumber<=t&&a.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),le.waitFor(l).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const a=this.si.get(t)||null;return le.resolve(a)}addMatchingKeys(e,t,a){return this._i.Wr(t,a),le.resolve()}removeMatchingKeys(e,t,a){this._i.zr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const a=this._i.Hr(t);return le.resolve(a)}containsKey(e,t){return le.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t){this.ui={},this.overlays={},this.ci=new _d(0),this.li=!1,this.li=!0,this.hi=new Qk,this.referenceDelegate=e(this),this.Pi=new eI(this),this.indexManager=new Vk,this.remoteDocumentCache=function(o){return new Jk(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new Lk(t),this.Ii=new Yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ui[e.toKey()];return a||(a=new Wk(t,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,a){xe("MemoryPersistence","Starting transaction:",e);const o=new tI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return le.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,t)))}}class tI extends kR{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Ri=new cg,this.Vi=null}static mi(e){return new ug(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.fi.delete(a.toString()),le.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.fi.add(a.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,a=>{const o=Se.fromPath(a);return this.gi(e,o).next(l=>{l||t.removeEntry(o,Ue.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(a=>{a?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return le.or([()=>le.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class cd{constructor(e,t){this.persistence=e,this.pi=new Ds(a=>OR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Hk(this,t)}static mi(e,t){return new cd(e,t)}Ei(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}wr(e){let t=0;return this.pr(e,a=>{t++}).next(()=>t)}pr(e,t){return le.forEach(this.pi,(a,o)=>this.br(e,a,o).next(l=>l?le.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(h=>{h||(a++,l.removeEntry(u,Ue.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),le.resolve()}removeReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),le.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uf(e.data.value)),t}br(e,t,a){return le.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return le.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Es=a,this.ds=o}static As(e,t){let a=tt(),o=tt();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new fg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return OS()?8:IR(An())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.ys(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,t,o,a).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new nI;return this.Ss(e,t,u).next(h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)})}).next(()=>l.result)}bs(e,t,a,o){return a.documentReadCount<this.fs?(Ao()<=Ze.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(Ao()<=Ze.DEBUG&&xe("QueryEngine","Query:",No(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ao()<=Ze.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):le.resolve())}ys(e,t){if(av(t))return le.resolve(null);let a=Jr(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=xp(t,null,"F"),a=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const u=tt(...l);return this.ps.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,a).next(y=>{const g=this.Ds(t,h);return this.Cs(t,g,u,y.readTime)?this.ys(e,xp(t,null,"F")):this.vs(e,g,t,y)}))})))}ws(e,t,a,o){return av(t)||o.isEqual(Ue.min())?le.resolve(null):this.ps.getDocuments(e,a).next(l=>{const u=this.Ds(t,l);return this.Cs(t,u,a,o)?le.resolve(null):(Ao()<=Ze.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),No(t)),this.vs(e,u,t,AR(o,Ec)).next(h=>h))})}Ds(e,t){let a=new nn(M1(e));return t.forEach((o,l)=>{Sd(e,l)&&(a=a.add(l))}),a}Cs(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,a){return Ao()<=Ze.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",No(t)),this.ps.getDocumentsMatchingQuery(e,t,Ma.min(),a)}vs(e,t,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",iI=3e8;class aI{constructor(e,t,a,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Ot(et),this.xs=new Ds(l=>tg(l),ng),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function sI(r,e,t,a){return new aI(r,e,t,a)}async function sw(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const u=[],h=[];let y=tt();for(const g of o){u.push(g.batchId);for(const b of g.mutations)y=y.add(b.key)}for(const g of l){h.push(g.batchId);for(const b of g.mutations)y=y.add(b.key)}return t.localDocuments.getDocuments(a,y).next(g=>({Ls:g,removedBatchIds:u,addedBatchIds:h}))})})}function oI(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(h,y,g,b){const w=g.batch,E=w.keys();let k=le.resolve();return E.forEach(U=>{k=k.next(()=>b.getEntry(y,U)).next(V=>{const I=g.docVersions.get(U);ht(I!==null,48541),V.version.compareTo(I)<0&&(w.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),b.addEntry(V)))})}),k.next(()=>h.mutationQueue.removeMutationBatch(y,w))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(h){let y=tt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(y=y.add(h.batch.mutations[g].key));return y}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function ow(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function lI(r,e){const t=Be(r),a=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach((b,w)=>{const E=o.get(w);if(!E)return;h.push(t.Pi.removeMatchingKeys(l,b.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(l,b.addedDocuments,w)));let k=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(bn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,a)),o=o.insert(w,k),function(V,I,M){return V.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=iI?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(E,k,b)&&h.push(t.Pi.updateTargetData(l,k))});let y=Bi(),g=tt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))}),h.push(cI(l,u,e.documentUpdates).next(b=>{y=b.ks,g=b.qs})),!a.isEqual(Ue.min())){const b=t.Pi.getLastRemoteSnapshotVersion(l).next(w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,a));h.push(b)}return le.waitFor(h).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,y,g)).next(()=>y)}).then(l=>(t.Ms=o,l))}function cI(r,e,t){let a=tt(),o=tt();return t.forEach(l=>a=a.add(l)),e.getEntries(r,a).next(l=>{let u=Bi();return t.forEach((h,y)=>{const g=l.get(h);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),y.isNoDocument()&&y.version.isEqual(Ue.min())?(e.removeEntry(h,y.readTime),u=u.insert(h,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),u=u.insert(h,y)):xe(dg,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",y.version)}),{ks:u,qs:o}})}function uI(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Jp),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function fI(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.Pi.getTargetData(a,e).next(l=>l?(o=l,le.resolve(o)):t.Pi.allocateTargetId(a).next(u=>(o=new Aa(e,u,"TargetPurposeListen",a.currentSequenceNumber),t.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(a.targetId,a),t.xs.set(e,a.targetId)),a})}async function Ep(r,e,t){const a=Be(r),o=a.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,u=>a.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Zo(u))throw u;xe(dg,`Failed to update sequence numbers for target ${e}: ${u}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function xv(r,e,t){const a=Be(r);let o=Ue.min(),l=tt();return a.persistence.runTransaction("Execute query","readwrite",u=>function(y,g,b){const w=Be(y),E=w.xs.get(b);return E!==void 0?le.resolve(w.Ms.get(E)):w.Pi.getTargetData(g,b)}(a,u,Jr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(u,h.targetId).next(y=>{l=y})}).next(()=>a.Fs.getDocumentsMatchingQuery(u,e,t?o:Ue.min(),t?l:tt())).next(h=>(dI(a,JR(e),h),{documents:h,Qs:l})))}function dI(r,e,t){let a=r.Os.get(e)||Ue.min();t.forEach((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),r.Os.set(e,a)}class bv{constructor(){this.activeTargetIds=ik()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hI{constructor(){this.Mo=new bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,a){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bv,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="ConnectivityMonitor";class _v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(vv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(vv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf=null;function Tp(){return Tf===null?Tf=function(){return 268435456+Math.round(2147483648*Math.random())}():Tf++,"0x"+Tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="RestConnection",pI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===id?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,t,a,o,l){const u=Tp(),h=this.zo(e,t.toUriEncodedString());xe(Qm,`Sending RPC '${e}' ${u}:`,h,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,l);const{host:g}=new URL(h),b=Yo(g);return this.Jo(e,h,y,a,b).then(w=>(xe(Qm,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Vo(Qm,`RPC '${e}' ${u} failed with error: `,w,"url: ",h,"request:",a),w})}Ho(e,t,a,o,l,u){return this.Go(e,t,a,o,l)}jo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),a&&a.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const a=pI[e];return`${this.Uo}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class xI extends gI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,o,l){const u=Tp();return new Promise((h,y)=>{const g=new l1;g.setWithCredentials(!0),g.listenOnce(c1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Vf.NO_ERROR:const w=g.getResponseJson();xe(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Vf.TIMEOUT:xe(En,`RPC '${e}' ${u} timed out`),y(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case Vf.HTTP_ERROR:const E=g.getStatus();if(xe(En,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const U=k?.error;if(U&&U.status&&U.message){const V=function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(z)>=0?z:se.UNKNOWN}(U.status);y(new ye(V,U.message))}else y(new ye(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ye(se.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{xe(En,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(o);xe(En,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",b,a,15)})}T_(e,t,a){const o=Tp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=d1(),h=f1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,a),y.encodeInitMessageHeaders=!0;const b=l.join("");xe(En,`Creating RPC '${e}' stream ${o}: ${b}`,y);const w=u.createWebChannel(b,y);this.I_(w);let E=!1,k=!1;const U=new yI({Yo:I=>{k?xe(En,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(E||(xe(En,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),xe(En,`RPC '${e}' stream ${o} sending:`,I),w.send(I))},Zo:()=>w.close()}),V=(I,M,z)=>{I.listen(M,G=>{try{z(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return V(w,uc.EventType.OPEN,()=>{k||(xe(En,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),V(w,uc.EventType.CLOSE,()=>{k||(k=!0,xe(En,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(w))}),V(w,uc.EventType.ERROR,I=>{k||(k=!0,Vo(En,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),U.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),V(w,uc.EventType.MESSAGE,I=>{if(!k){const M=I.data[0];ht(!!M,16349);const z=M,G=z?.error||z[0]?.error;if(G){xe(En,`RPC '${e}' stream ${o} received error:`,G);const ne=G.status;let re=function(A){const C=Yt[A];if(C!==void 0)return Y1(C)}(ne),ce=G.message;re===void 0&&(re=se.INTERNAL,ce="Unknown error status: "+ne+" with message "+G.message),k=!0,U.a_(new ye(re,ce)),w.close()}else xe(En,`RPC '${e}' stream ${o} received:`,M),U.u_(M)}}),V(h,u1.STAT_EVENT,I=>{I.stat===fp.PROXY?xe(En,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===fp.NOPROXY&&xe(En,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(r){return new wk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t,a=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=a,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-a);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class cw{constructor(e,t,a,o,l,u,h,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===t&&this.G_(a,o)},a=>{e(()=>{const o=new ye(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,t){const a=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return xe(wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(xe(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bI extends cw{constructor(e,t,a,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Sk(this.serializer,e),a=function(l){if(!("targetChange"in l))return Ue.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?ei(u.readTime):Ue.min()}(e);return this.listener.H_(t,a)}Y_(e){const t={};t.database=wp(this.serializer),t.addTarget=function(l,u){let h;const y=u.target;if(h=gp(y)?{documents:Ck(l,y)}:{query:Rk(l,y).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=W1(l,u.resumeToken);const g=bp(l,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ue.min())>0){h.readTime=ld(l,u.snapshotVersion.toTimestamp());const g=bp(l,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,e);const a=Ik(this.serializer,e);a&&(t.labels=a),this.q_(t)}Z_(e){const t={};t.database=wp(this.serializer),t.removeTarget=e,this.q_(t)}}class vI extends cw{constructor(e,t,a,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Nk(e.writeResults,e.commitTime),a=ei(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=wp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>Ak(this.serializer,a))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class wI extends _I{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,vp(t,a),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(se.UNKNOWN,l.toString())})}Ho(e,t,a,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ho(e,vp(t,a),o,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class EI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class TI{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{a.enqueueAndForget(async()=>{Os(this)&&(xe(ks,"Restarting streams for network reachability change."),await async function(y){const g=Be(y);g.Ea.add(4),await Hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await kd(g)}(this))})}),this.Ra=new EI(a,o)}}async function kd(r){if(Os(r))for(const e of r.da)await e(!0)}async function Hc(r){for(const e of r.da)await e(!1)}function uw(r,e){const t=Be(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gg(t)?pg(t):el(t).O_()&&mg(t,e))}function hg(r,e){const t=Be(r),a=el(t);t.Ia.delete(e),a.O_()&&fw(t,e),t.Ia.size===0&&(a.O_()?a.L_():Os(t)&&t.Ra.set("Unknown"))}function mg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(r).Y_(e)}function fw(r,e){r.Va.Ue(e),el(r).Z_(e)}function pg(r){r.Va=new xk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),el(r).start(),r.Ra.ua()}function gg(r){return Os(r)&&!el(r).x_()&&r.Ia.size>0}function Os(r){return Be(r).Ea.size===0}function dw(r){r.Va=void 0}async function SI(r){r.Ra.set("Online")}async function AI(r){r.Ia.forEach((e,t)=>{mg(r,e)})}async function NI(r,e){dw(r),gg(r)?(r.Ra.ha(e),pg(r)):r.Ra.set("Unknown")}async function CI(r,e,t){if(r.Ra.set("Online"),e instanceof Q1&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const h of l.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))}(r,e)}catch(a){xe(ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ud(r,a)}else if(e instanceof Ff?r.Va.Ze(e):e instanceof K1?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ue.min()))try{const a=await ow(r.localStore);t.compareTo(a)>=0&&await function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const b=l.Ia.get(g);b&&l.Ia.set(g,b.withResumeToken(y.resumeToken,u))}}),h.targetMismatches.forEach((y,g)=>{const b=l.Ia.get(y);if(!b)return;l.Ia.set(y,b.withResumeToken(bn.EMPTY_BYTE_STRING,b.snapshotVersion)),fw(l,y);const w=new Aa(b.target,y,g,b.sequenceNumber);mg(l,w)}),l.remoteSyncer.applyRemoteEvent(h)}(r,t)}catch(a){xe(ks,"Failed to raise snapshot:",a),await ud(r,a)}}async function ud(r,e,t){if(!Zo(e))throw e;r.Ea.add(1),await Hc(r),r.Ra.set("Offline"),t||(t=()=>ow(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{xe(ks,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await kd(r)})}function hw(r,e){return e().catch(t=>ud(r,t,e))}async function Id(r){const e=Be(r),t=Ua(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jp;for(;RI(e);)try{const o=await uI(e.localStore,a);if(o===null){e.Ta.length===0&&t.L_();break}a=o.batchId,kI(e,o)}catch(o){await ud(e,o)}mw(e)&&pw(e)}function RI(r){return Os(r)&&r.Ta.length<10}function kI(r,e){r.Ta.push(e);const t=Ua(r);t.O_()&&t.X_&&t.ea(e.mutations)}function mw(r){return Os(r)&&!Ua(r).x_()&&r.Ta.length>0}function pw(r){Ua(r).start()}async function II(r){Ua(r).ra()}async function DI(r){const e=Ua(r);for(const t of r.Ta)e.ea(t.mutations)}async function OI(r,e,t){const a=r.Ta.shift(),o=sg.from(a,e,t);await hw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Id(r)}async function jI(r,e){e&&Ua(r).X_&&await async function(a,o){if(function(u){return pk(u)&&u!==se.ABORTED}(o.code)){const l=a.Ta.shift();Ua(a).B_(),await hw(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Id(a)}}(r,e),mw(r)&&pw(r)}async function Ev(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),xe(ks,"RemoteStore received new credentials");const a=Os(t);t.Ea.add(3),await Hc(t),a&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kd(t)}async function MI(r,e){const t=Be(r);e?(t.Ea.delete(2),await kd(t)):e||(t.Ea.add(2),await Hc(t),t.Ra.set("Unknown"))}function el(r){return r.ma||(r.ma=function(t,a,o){const l=Be(t);return l.sa(),new bI(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Xo:SI.bind(null,r),t_:AI.bind(null,r),r_:NI.bind(null,r),H_:CI.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),gg(r)?pg(r):r.Ra.set("Unknown")):(await r.ma.stop(),dw(r))})),r.ma}function Ua(r){return r.fa||(r.fa=function(t,a,o){const l=Be(t);return l.sa(),new vI(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:II.bind(null,r),r_:jI.bind(null,r),ta:DI.bind(null,r),na:OI.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Id(r)):(await r.fa.stop(),r.Ta.length>0&&(xe(ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const u=Date.now()+a,h=new yg(e,t,u,o,l);return h.start(a),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(r,e){if(Ui("AsyncQueue",`${e}: ${r}`),Zo(r))return new ye(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Se.comparator(t.key,a.key):(t,a)=>Se.comparator(t.key,a.key),this.keyedMap=fc(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new jo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.ga=new Ot(Se.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,a)=>{e.push(a)}),e}}class Ho{constructor(e,t,a,o,l,u,h,y,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,l){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Ho(e,t,jo.emptySet(t),u,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class PI{constructor(){this.queries=Sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=Be(t),l=o.queries;o.queries=Sv(),l.forEach((u,h)=>{for(const y of h.Sa)y.onError(a)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function Sv(){return new Ds(r=>j1(r),Td)}async function gw(r,e){const t=Be(r);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(a=2):(l=new LI,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=xg(u,`Initialization of query '${No(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&bg(t)}async function yw(r,e){const t=Be(r),a=e.query;let o=3;const l=t.queries.get(a);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function VI(r,e){const t=Be(r);let a=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(o)&&(a=!0);u.wa=o}}a&&bg(t)}function UI(r,e,t){const a=Be(r),o=a.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);a.queries.delete(e)}function bg(r){r.Ca.forEach(e=>{e.next()})}var Sp,Av;(Av=Sp||(Sp={})).Ma="default",Av.Cache="cache";class xw{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Ho(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.key=e}}class vw{constructor(e){this.key=e}}class zI{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=M1(e),this.tu=new jo(this.eu)}get nu(){return this.Ya}ru(e,t){const a=t?t.iu:new Tv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,w)=>{const E=o.get(b),k=Sd(this.query,w)?w:null,U=!!E&&this.mutatedKeys.has(E.key),V=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let I=!1;E&&k?E.data.isEqual(k.data)?U!==V&&(a.track({type:3,doc:k}),I=!0):this.su(E,k)||(a.track({type:2,doc:k}),I=!0,(y&&this.eu(k,y)>0||g&&this.eu(k,g)<0)&&(h=!0)):!E&&k?(a.track({type:0,doc:k}),I=!0):E&&!k&&(a.track({type:1,doc:E}),I=!0,(y||g)&&(h=!0)),I&&(k?(u=u.add(k),l=V?l.add(b):l.delete(b)):(u=u.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const b=this.query.limitType==="F"?u.last():u.first();u=u.delete(b.key),l=l.delete(b.key),a.track({type:1,doc:b})}return{tu:u,iu:a,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((b,w)=>function(k,U){const V=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:I})}};return V(k)-V(U)}(b.type,w.type)||this.eu(b.doc,w.doc)),this.ou(a),o=o??!1;const h=t&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,u.length!==0||g?{snapshot:new Ho(this.query,e.tu,l,u,e.mutatedKeys,y===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const t=[];return e.forEach(a=>{this.Xa.has(a)||t.push(new vw(a))}),this.Xa.forEach(a=>{e.has(a)||t.push(new bw(a))}),t}cu(e){this.Ya=e.Qs,this.Xa=tt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vg="SyncEngine";class BI{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class FI{constructor(e){this.key=e,this.hu=!1}}class qI{constructor(e,t,a,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ds(h=>j1(h),Td),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Se.comparator),this.Au=new Map,this.Ru=new cg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HI(r,e,t=!0){const a=Aw(r);let o;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await _w(a,e,t,!0),o}async function GI(r,e){const t=Aw(r);await _w(t,e,!0,!1)}async function _w(r,e,t,a){const o=await fI(r.localStore,Jr(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let h;return a&&(h=await $I(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&uw(r.remoteStore,o),h}async function $I(r,e,t,a,o){r.pu=(w,E,k)=>async function(V,I,M,z){let G=I.view.ru(M);G.Cs&&(G=await xv(V.localStore,I.query,!1).then(({documents:N})=>I.view.ru(N,G)));const ne=z&&z.targetChanges.get(I.targetId),re=z&&z.targetMismatches.get(I.targetId)!=null,ce=I.view.applyChanges(G,V.isPrimaryClient,ne,re);return Cv(V,I.targetId,ce.au),ce.snapshot}(r,w,E,k);const l=await xv(r.localStore,e,!0),u=new zI(e,l.Qs),h=u.ru(l.documents),y=qc.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),g=u.applyChanges(h,r.isPrimaryClient,y);Cv(r,t,g.au);const b=new BI(e,t,u);return r.Tu.set(e,b),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function XI(r,e,t){const a=Be(r),o=a.Tu.get(e),l=a.Iu.get(o.targetId);if(l.length>1)return a.Iu.set(o.targetId,l.filter(u=>!Td(u,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&hg(a.remoteStore,o.targetId),Ap(a,o.targetId)}).catch(Jo)):(Ap(a,o.targetId),await Ep(a.localStore,o.targetId,!0))}async function YI(r,e){const t=Be(r),a=t.Tu.get(e),o=t.Iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),hg(t.remoteStore,a.targetId))}async function KI(r,e,t){const a=n6(r);try{const o=await function(u,h){const y=Be(u),g=At.now(),b=h.reduce((k,U)=>k.add(U.key),tt());let w,E;return y.persistence.runTransaction("Locally write mutations","readwrite",k=>{let U=Bi(),V=tt();return y.Ns.getEntries(k,b).next(I=>{U=I,U.forEach((M,z)=>{z.isValidDocument()||(V=V.add(M))})}).next(()=>y.localDocuments.getOverlayedDocuments(k,U)).next(I=>{w=I;const M=[];for(const z of h){const G=uk(z,w.get(z.key).overlayedDocument);G!=null&&M.push(new Ha(z.key,G,A1(G.value.mapValue),Zr.exists(!0)))}return y.mutationQueue.addMutationBatch(k,g,M,h)}).next(I=>{E=I;const M=I.applyToLocalDocumentSet(w,V);return y.documentOverlayCache.saveOverlays(k,I.batchId,M)})}).then(()=>({batchId:E.batchId,changes:P1(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(u,h,y){let g=u.Vu[u.currentUser.toKey()];g||(g=new Ot(et)),g=g.insert(h,y),u.Vu[u.currentUser.toKey()]=g}(a,o.batchId,t),await Gc(a,o.changes),await Id(a.remoteStore)}catch(o){const l=xg(o,"Failed to persist write");t.reject(l)}}async function ww(r,e){const t=Be(r);try{const a=await lI(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.Au.get(l);u&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ht(u.hu,14607):o.removedDocuments.size>0&&(ht(u.hu,42227),u.hu=!1))}),await Gc(t,a,e)}catch(a){await Jo(a)}}function Nv(r,e,t){const a=Be(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Tu.forEach((l,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const y=Be(u);y.onlineState=h;let g=!1;y.queries.forEach((b,w)=>{for(const E of w.Sa)E.va(h)&&(g=!0)}),g&&bg(y)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function QI(r,e,t){const a=Be(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Au.get(e),l=o&&o.key;if(l){let u=new Ot(Se.comparator);u=u.insert(l,Sn.newNoDocument(l,Ue.min()));const h=tt().add(l),y=new Cd(Ue.min(),new Map,new Ot(et),u,h);await ww(a,y),a.du=a.du.remove(l),a.Au.delete(e),_g(a)}else await Ep(a.localStore,e,!1).then(()=>Ap(a,e,t)).catch(Jo)}async function WI(r,e){const t=Be(r),a=e.batch.batchId;try{const o=await oI(t.localStore,e);Tw(t,a,null),Ew(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Gc(t,o)}catch(o){await Jo(o)}}async function JI(r,e,t){const a=Be(r);try{const o=await function(u,h){const y=Be(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return y.mutationQueue.lookupMutationBatch(g,h).next(w=>(ht(w!==null,37113),b=w.keys(),y.mutationQueue.removeMutationBatch(g,w))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,b,h)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>y.localDocuments.getDocuments(g,b))})}(a.localStore,e);Tw(a,e,t),Ew(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Gc(a,o)}catch(o){await Jo(o)}}function Ew(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function Tw(r,e,t){const a=Be(r);let o=a.Vu[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Ap(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),t&&r.Pu.yu(a,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(a=>{r.Ru.containsKey(a)||Sw(r,a)})}function Sw(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(hg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),_g(r))}function Cv(r,e,t){for(const a of t)a instanceof bw?(r.Ru.addReference(a.key,e),ZI(r,a)):a instanceof vw?(xe(vg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Sw(r,a.key)):je(19791,{wu:a})}function ZI(r,e){const t=e.key,a=t.path.canonicalString();r.du.get(t)||r.Eu.has(a)||(xe(vg,"New document in limbo: "+t),r.Eu.add(a),_g(r))}function _g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Se(St.fromString(e)),a=r.fu.next();r.Au.set(a,new FI(t)),r.du=r.du.insert(t,a),uw(r.remoteStore,new Aa(Jr(rg(t.path)),a,"TargetPurposeLimboResolution",_d.ce))}}async function Gc(r,e,t){const a=Be(r),o=[],l=[],u=[];a.Tu.isEmpty()||(a.Tu.forEach((h,y)=>{u.push(a.pu(y,e,t).then(g=>{if((g||t)&&a.isPrimaryClient){const b=g?!g.fromCache:t?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(g){o.push(g);const b=fg.As(y.targetId,g);l.push(b)}}))}),await Promise.all(u),a.Pu.H_(o),await async function(y,g){const b=Be(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>le.forEach(g,E=>le.forEach(E.Es,k=>b.persistence.referenceDelegate.addReference(w,E.targetId,k)).next(()=>le.forEach(E.ds,k=>b.persistence.referenceDelegate.removeReference(w,E.targetId,k)))))}catch(w){if(!Zo(w))throw w;xe(dg,"Failed to update sequence numbers: "+w)}for(const w of g){const E=w.targetId;if(!w.fromCache){const k=b.Ms.get(E),U=k.snapshotVersion,V=k.withLastLimboFreeSnapshotVersion(U);b.Ms=b.Ms.insert(E,V)}}}(a.localStore,l))}async function e6(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){xe(vg,"User change. New user:",e.toKey());const a=await sw(t.localStore,e);t.currentUser=e,function(l,u){l.mu.forEach(h=>{h.forEach(y=>{y.reject(new ye(se.CANCELLED,u))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Gc(t,a.Ls)}}function t6(r,e){const t=Be(r),a=t.Au.get(e);if(a&&a.hu)return tt().add(a.key);{let o=tt();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const h=t.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function Aw(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QI.bind(null,e),e.Pu.H_=VI.bind(null,e.eventManager),e.Pu.yu=UI.bind(null,e.eventManager),e}function n6(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sI(this.persistence,new rI,e.initialUser,this.serializer)}Cu(e){return new aw(ug.mi,this.serializer)}Du(e){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class r6 extends fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof cd,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Fk(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new aw(a=>cd.mi(a,t),this.serializer)}}class Np{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Nv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=e6.bind(null,this.syncEngine),await MI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PI}()}createDatastore(e){const t=Rd(e.databaseInfo.databaseId),a=function(l){return new xI(l)}(e.databaseInfo);return function(l,u,h,y){return new wI(l,u,h,y)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,l,u,h){return new TI(a,o,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Nv(this.syncEngine,t,0),function(){return _v.v()?new _v:new mI}())}createSyncEngine(e,t){return function(o,l,u,h,y,g,b){const w=new qI(o,l,u,h,y,g);return b&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const a=Be(t);xe(ks,"RemoteStore shutting down."),a.Ea.add(5),await Hc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class i6{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=Tn.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async u=>{xe(za,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(a,u=>(xe(za,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=xg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Jm(r,e){r.asyncQueue.verifyOperationInProgress(),xe(za,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await sw(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Rv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await a6(r);xe(za,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>Ev(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>Ev(e.remoteStore,o)),r._onlineComponents=e}async function a6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){xe(za,"Using user provided OfflineComponentProvider");try{await Jm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Vo("Error using user provided cache. Falling back to memory cache: "+t),await Jm(r,new fd)}}else xe(za,"Using default OfflineComponentProvider"),await Jm(r,new r6(void 0));return r._offlineComponents}async function Cw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(xe(za,"Using user provided OnlineComponentProvider"),await Rv(r,r._uninitializedComponentsProvider._online)):(xe(za,"Using default OnlineComponentProvider"),await Rv(r,new Np))),r._onlineComponents}function s6(r){return Cw(r).then(e=>e.syncEngine)}async function Rw(r){const e=await Cw(r),t=e.eventManager;return t.onListen=HI.bind(null,e.syncEngine),t.onUnlisten=XI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YI.bind(null,e.syncEngine),t}function o6(r,e,t={}){const a=new Mi;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,h,y,g){const b=new Nw({next:E=>{b.Nu(),u.enqueueAndForget(()=>yw(l,w));const k=E.docs.has(h);!k&&E.fromCache?g.reject(new ye(se.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&E.fromCache&&y&&y.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),w=new xw(rg(h.path),b,{includeMetadataChanges:!0,qa:!0});return gw(l,w)}(await Rw(r),r.asyncQueue,e,t,a)),a.promise}function l6(r,e,t={}){const a=new Mi;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,h,y,g){const b=new Nw({next:E=>{b.Nu(),u.enqueueAndForget(()=>yw(l,w)),E.fromCache&&y.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),w=new xw(h,b,{includeMetadataChanges:!0,qa:!0});return gw(l,w)}(await Rw(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="firestore.googleapis.com",Iv=!0;class Dv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Iw,this.ssl=Iv}else this.host=e.host,this.ssl=e.ssl??Iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zk)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kw(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new pR;switch(a.type){case"firstParty":return new bR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=kv.get(t);a&&(xe("ComponentProvider","Removing Datastore"),kv.delete(t),a.terminate())}(this),Promise.resolve()}}function c6(r,e,t,a={}){r=zi(r,Dd);const o=Yo(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},h=`${e}:${t}`;o&&(b_(`https://${h}`),v_("Firestore",!0)),l.host!==Iw&&l.host!==h&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:h,ssl:o,emulatorOptions:a};if(!ja(y,u)&&(r._setSettings(y),a.mockUserToken)){let g,b;if(typeof a.mockUserToken=="string")g=a.mockUserToken,b=Tn.MOCK_USER;else{g=TS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Tn(w)}r._authCredentials=new gR(new m1(g,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new tl(this.firestore,e,this._query)}}class Ft{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(zc(t,Ft._jsonSchema))return new Ft(e,a||null,new Se(St.fromString(t.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Qt("string",Ft._jsonSchemaVersion),referencePath:Qt("string")};class Oa extends tl{constructor(e,t,a){super(e,t,rg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Se(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function Dw(r,e,...t){if(r=rn(r),p1("collection","path",e),r instanceof Dd){const a=St.fromString(e,...t);return Gb(a),new Oa(r,null,a)}{if(!(r instanceof Ft||r instanceof Oa))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...t));return Gb(a),new Oa(r.firestore,null,a)}}function Mn(r,e,...t){if(r=rn(r),arguments.length===1&&(e=Wp.newId()),p1("doc","path",e),r instanceof Dd){const a=St.fromString(e,...t);return Hb(a),new Ft(r,null,new Se(a))}{if(!(r instanceof Ft||r instanceof Oa))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(St.fromString(e,...t));return Hb(a),new Ft(r.firestore,r instanceof Oa?r.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="AsyncQueue";class jv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lw(this,"async_queue_retry"),this._c=()=>{const a=Wm();a&&xe(Ov,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=Wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;xe(Ov,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",Mv(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=yg.createAndSchedule(this,e,t,a,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&je(47125,{Pc:Mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Mv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class $c extends Dd{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new jv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jv(e),this._firestoreClient=void 0,await e}}}function u6(r,e){const t=typeof r=="object"?r:T_(),a=typeof r=="string"?r:id,o=Bp(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=wS("firestore");l&&c6(o,...l)}return o}function wg(r){if(r._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||f6(r),r._firestoreClient}function f6(r){const e=r._freezeSettings(),t=function(o,l,u,h){return new LR(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kw(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new i6(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(bn.fromBase64String(e))}catch(t){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:Qt("string",gr._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(zc(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:Qt("string",ti._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ni(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Qt("string",ni._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=/^__.*__$/;class h6{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}class Ow{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:r})}}class jd{constructor(e,t,a,o,l,u){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.gc(e),a}yc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jw(this.Ac)&&d6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m6{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Rd(e)}Cc(e,t,a,o=!1){return new jd({Ac:e,methodName:t,Dc:a,path:xn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(r){const e=r._freezeSettings(),t=Rd(r._databaseId);return new m6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function p6(r,e,t,a,o,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);Ng("Data must be an object, but it was:",u,a);const h=Mw(a,u);let y,g;if(l.merge)y=new tr(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const b=[];for(const w of l.mergeFields){const E=Cp(e,w,t);if(!u.contains(E))throw new ye(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Pw(b,E)||b.push(E)}y=new tr(b),g=u.fieldTransforms.filter(w=>y.covers(w.field))}else y=null,g=u.fieldTransforms;return new h6(new zn(h),y,g)}class Xc extends nl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function g6(r,e,t){return new jd({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tg extends nl{_toFieldTransform(e){return new ag(e.path,new Nc)}isEqual(e){return e instanceof Tg}}class Sg extends nl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=g6(this,e,!0),a=this.vc.map(l=>rl(l,t)),o=new Fo(a);return new ag(e.path,o)}isEqual(e){return e instanceof Sg&&ja(this.vc,e.vc)}}class Ag extends nl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Rc(e.serializer,z1(e.serializer,this.Fc));return new ag(e.path,t)}isEqual(e){return e instanceof Ag&&this.Fc===e.Fc}}function y6(r,e,t,a){const o=r.Cc(1,e,t);Ng("Data must be an object, but it was:",o,a);const l=[],u=zn.empty();qa(a,(y,g)=>{const b=Cg(e,y,t);g=rn(g);const w=o.yc(b);if(g instanceof Xc)l.push(b);else{const E=rl(g,w);E!=null&&(l.push(b),u.set(b,E))}});const h=new tr(l);return new Ow(u,h,o.fieldTransforms)}function x6(r,e,t,a,o,l){const u=r.Cc(1,e,t),h=[Cp(e,a,t)],y=[o];if(l.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(Cp(e,l[E])),y.push(l[E+1]);const g=[],b=zn.empty();for(let E=h.length-1;E>=0;--E)if(!Pw(g,h[E])){const k=h[E];let U=y[E];U=rn(U);const V=u.yc(k);if(U instanceof Xc)g.push(k);else{const I=rl(U,V);I!=null&&(g.push(k),b.set(k,I))}}const w=new tr(g);return new Ow(b,w,u.fieldTransforms)}function b6(r,e,t,a=!1){return rl(t,r.Cc(a?4:3,e))}function rl(r,e){if(Lw(r=rn(r)))return Ng("Unsupported field value:",e,r),Mw(r,e);if(r instanceof nl)return function(a,o){if(!jw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const l=[];let u=0;for(const h of a){let y=rl(h,o.wc(u));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),u++}return{arrayValue:{values:l}}}(r,e)}return function(a,o){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return z1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=At.fromDate(a);return{timestampValue:ld(o.serializer,l)}}if(a instanceof At){const l=new At(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ld(o.serializer,l)}}if(a instanceof ti)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gr)return{bytesValue:W1(o.serializer,a._byteString)};if(a instanceof Ft){const l=o.databaseId,u=a.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ni)return function(u,h){return{mapValue:{fields:{[T1]:{stringValue:S1},[ad]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return ig(h.serializer,g)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${vd(a)}`)}(r,e)}function Mw(r,e){const t={};return x1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(r,(a,o)=>{const l=rl(o,e.mc(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function Lw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof At||r instanceof ti||r instanceof gr||r instanceof Ft||r instanceof nl||r instanceof ni)}function Ng(r,e,t){if(!Lw(t)||!g1(t)){const a=vd(t);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Cp(r,e,t){if((e=rn(e))instanceof Od)return e._internalPath;if(typeof e=="string")return Cg(r,e);throw dd("Field path arguments must be of type string or ",r,!1,void 0,t)}const v6=new RegExp("[~\\*/\\[\\]]");function Cg(r,e,t){if(e.search(v6)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Od(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function dd(r,e,t,a,o){const l=a&&!a.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(l||u)&&(y+=" (found",l&&(y+=` in field ${a}`),u&&(y+=` in document ${o}`),y+=")"),new ye(se.INVALID_ARGUMENT,h+r+y)}function Pw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _6 extends Vw{data(){return super.data()}}function Rg(r,e){return typeof e=="string"?Cg(r,e):e instanceof Od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class E6 extends kg{}function Uw(r,e,...t){let a=[];e instanceof kg&&a.push(e),a=a.concat(t),function(l){const u=l.filter(y=>y instanceof Ig).length,h=l.filter(y=>y instanceof Md).length;if(u>1||u>0&&h>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Md extends E6{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Md(e,t,a)}_apply(e){const t=this._parse(e);return Bw(e._query,t),new tl(e.firestore,e.converter,yp(e._query,t))}_parse(e){const t=Eg(e.firestore);return function(l,u,h,y,g,b,w){let E;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Pv(w,b);const U=[];for(const V of w)U.push(Lv(y,l,V));E={arrayValue:{values:U}}}else E=Lv(y,l,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Pv(w,b),E=b6(h,u,w,b==="in"||b==="not-in");return Kt.create(g,b,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zw(r,e,t){const a=e,o=Rg("where",r);return Md._create(o,a,t)}class Ig extends kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ig(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let u=o;const h=l.getFlattenedFilters();for(const y of h)Bw(u,y),u=yp(u,y)}(e._query,t),new tl(e.firestore,e.converter,yp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Lv(r,e,t){if(typeof(t=rn(t))=="string"){if(t==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O1(e)&&t.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(St.fromString(t));if(!Se.isDocumentKey(a))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Zb(r,new Se(a))}if(t instanceof Ft)return Zb(r,t._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(t)}.`)}function Pv(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bw(r,e){const t=function(o,l){for(const u of o)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class T6{convertValue(e,t="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return qa(e,(o,l)=>{a[o]=this.convertValue(l,t)}),a}convertVectorValue(e){const t=e.fields?.[ad].arrayValue?.values?.map(a=>Bt(a.doubleValue));return new ni(t)}convertGeoPoint(e){return new ti(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Ed(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const t=La(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=St.fromString(e);ht(rw(a),9688,{name:e});const o=new Sc(a.get(1),a.get(3)),l=new Se(a.popFirst(5));return o.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(r,e,t){let a;return a=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,a}class hc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends Vw{constructor(e,t,a,o,l,u){super(e,t,a,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Rg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ts._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:Qt("string",Ts._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class qf extends Ts{data(e={}){return super.data(e)}}class Mo{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new hc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new qf(this._firestore,this._userDataWriter,a.key,a,new hc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const y=new qf(o._firestore,o._userDataWriter,h.doc.key,h.doc,new hc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const y=new qf(o._firestore,o._userDataWriter,h.doc.key,h.doc,new hc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),b=u.indexOf(h.doc.key)),{type:A6(h.type),doc:y,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function A6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){r=zi(r,Ft);const e=zi(r.firestore,$c);return o6(wg(e),r._key).then(t=>N6(e,r,t))}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Qt("string",Mo._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class Fw extends T6{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function qw(r){r=zi(r,tl);const e=zi(r.firestore,$c),t=wg(e),a=new Fw(e);return w6(r._query),l6(t,r._query).then(o=>new Mo(e,a,r,o))}function Kc(r,e,t){r=zi(r,Ft);const a=zi(r.firestore,$c),o=S6(r.converter,e,t);return Hw(a,[p6(Eg(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Zr.none())])}function Na(r,e,t,...a){r=zi(r,Ft);const o=zi(r.firestore,$c),l=Eg(o);let u;return u=typeof(e=rn(e))=="string"||e instanceof Od?x6(l,"updateDoc",r._key,e,t,a):y6(l,"updateDoc",r._key,e),Hw(o,[u.toMutation(r._key,Zr.exists(!0))])}function Hw(r,e){return function(a,o){const l=new Mi;return a.asyncQueue.enqueueAndForget(async()=>KI(await s6(a),o,l)),l.promise}(wg(r),e)}function N6(r,e,t){const a=t.docs.get(e._key),o=new Fw(r);return new Ts(r,o,e._key,a,new hc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(){return new Xc("deleteField")}function il(){return new Tg("serverTimestamp")}function Hf(...r){return new Sg("arrayUnion",r)}function jn(r){return new Ag("increment",r)}(function(e,t=!0){(function(o){Wo=o})(Ko),Lo(new As("firestore",(a,{instanceIdentifier:o,options:l})=>{const u=a.getProvider("app").getImmediate(),h=new $c(new yR(a.getProvider("auth-internal")),new vR(u,a.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(g.options.projectId,b)}(u,o),u);return l={useFetchStreams:t,...l},h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Ia(zb,Bb,e),Ia(zb,Bb,"esm2020")})();const R6={apiKey:"AIzaSyDJC6o0mIkW4QVCuuJWsMAaZGu4HU7SHEE",authDomain:"pesstatszone.firebaseapp.com",projectId:"pesstatszone",storageBucket:"pesstatszone.firebasestorage.app",messagingSenderId:"1032826590191",appId:"1:1032826590191:web:787beb3a7e5f75cf9b5c1a"},Gw=E_(R6),Sf=fR(Gw),vn=u6(Gw);var Gf={exports:{}},k6=Gf.exports,Vv;function I6(){return Vv||(Vv=1,function(r){(function(e,t){r.exports=t(e)})(typeof $x>"u"?typeof window>"u"?k6:window:$x,function(e){if(typeof e>"u"&&typeof e.document>"u")return!1;var t,a,o,l,u,h=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,y='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',g={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},b={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},w={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},E={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},k={Show:"Show",Ask:"Ask",Prompt:"Prompt"},U={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},V={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},I={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},M={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},z={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},G=function(P){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+P+h)},ne=function(P){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3",`
`+P+h)},re=function(P){return P||(P="head"),e.document[P]!==void 0||(G(`
Notiflix needs to be appended to the "<`+P+'>" element, but you called it before the "<'+P+'>" element has been created.'),!1)},ce=function(P,$){if(!re("head"))return!1;if(P()!==null&&!e.document.getElementById($)){var ee=e.document.createElement("style");ee.id=$,ee.innerHTML=P(),e.document.head.appendChild(ee)}},N=function(){var P={},$=!1,ee=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&($=arguments[0],ee++);for(var be=function(Ae){for(var ze in Ae)Object.prototype.hasOwnProperty.call(Ae,ze)&&(P[ze]=$&&Object.prototype.toString.call(Ae[ze])==="[object Object]"?N(P[ze],Ae[ze]):Ae[ze])};ee<arguments.length;ee++)be(arguments[ee]);return P},A=function(P){var $=e.document.createElement("div");return $.innerHTML=P,$.textContent||$.innerText||""},C=function(P,$){P||(P="110px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+P+'" height="'+P+'" fill="'+$+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ee},R=function(P,$){P||(P="110px"),$||($="#ff5549");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+P+'" height="'+P+'" fill="'+$+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ee},D=function(P,$){P||(P="110px"),$||($="#eebf31");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+P+'" height="'+P+'" fill="'+$+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ee},q=function(P,$){P||(P="110px"),$||($="#26c0d3");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+P+'" height="'+P+'" fill="'+$+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return ee},O=function(P,$){P||(P="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+$+'" width="'+P+'" height="'+P+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';return ee},nt=function(P,$){P||(P="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+$+'" width="'+P+'" height="'+P+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';return ee},ct=function(P,$){P||(P="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" width="'+P+'" height="'+P+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+P+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+P+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+$+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';return ee},W=function(P,$){P||(P="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" fill="'+$+'" width="'+P+'" height="'+P+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';return ee},me=function(P,$){P||(P="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" fill="'+$+'" width="'+P+'" height="'+P+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';return ee},ue=function(P,$){P||(P="60px"),$||($="#32c682");var ee='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+$+'" width="'+P+'" height="'+P+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';return ee},Ve=function(P,$,ee){P||(P="60px");var be='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+P+'" height="'+P+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+$+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+ee+'" stroke="'+ee+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>';return be},L=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},te=0,de=function(P,$,ee,be){if(!re("body"))return!1;t||Rt.Notify.init({});var Ae=N(!0,t,{});if(typeof ee=="object"&&!Array.isArray(ee)||typeof be=="object"&&!Array.isArray(be)){var ze={};typeof ee=="object"?ze=ee:typeof be=="object"&&(ze=be),t=N(!0,t,ze)}var De=t[P.toLocaleLowerCase("en")];te++,typeof $!="string"&&($="Notiflix "+P),t.plainText&&($=A($)),!t.plainText&&$.length>t.messageMaxLength&&(t=N(!0,t,{closeButton:!0,messageMaxLength:150}),$='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),$.length>t.messageMaxLength&&($=$.substring(0,t.messageMaxLength)+"..."),t.fontAwesomeIconStyle==="shadow"&&(De.fontAwesomeIconColor=De.background),t.cssAnimation||(t.cssAnimationDuration=0);var ge=e.document.getElementById(b.wrapID)||e.document.createElement("div");if(ge.id=b.wrapID,ge.style.width=t.width,ge.style.zIndex=t.zindex,ge.style.opacity=t.opacity,t.position==="center-center"?(ge.style.left=t.distance,ge.style.top=t.distance,ge.style.right=t.distance,ge.style.bottom=t.distance,ge.style.margin="auto",ge.classList.add("nx-flex-center-center"),ge.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",ge.style.display="flex",ge.style.flexWrap="wrap",ge.style.flexDirection="column",ge.style.justifyContent="center",ge.style.alignItems="center",ge.style.pointerEvents="none"):t.position==="center-top"?(ge.style.left=t.distance,ge.style.right=t.distance,ge.style.top=t.distance,ge.style.bottom="auto",ge.style.margin="auto"):t.position==="center-bottom"?(ge.style.left=t.distance,ge.style.right=t.distance,ge.style.bottom=t.distance,ge.style.top="auto",ge.style.margin="auto"):t.position==="right-bottom"?(ge.style.right=t.distance,ge.style.bottom=t.distance,ge.style.top="auto",ge.style.left="auto"):t.position==="left-top"?(ge.style.left=t.distance,ge.style.top=t.distance,ge.style.right="auto",ge.style.bottom="auto"):t.position==="left-bottom"?(ge.style.left=t.distance,ge.style.bottom=t.distance,ge.style.top="auto",ge.style.right="auto"):(ge.style.right=t.distance,ge.style.top=t.distance,ge.style.left="auto",ge.style.bottom="auto"),t.backOverlay){var Xe=e.document.getElementById(b.overlayID)||e.document.createElement("div");Xe.id=b.overlayID,Xe.style.width="100%",Xe.style.height="100%",Xe.style.position="fixed",Xe.style.zIndex=t.zindex-1,Xe.style.left=0,Xe.style.top=0,Xe.style.right=0,Xe.style.bottom=0,Xe.style.background=De.backOverlayColor||t.backOverlayColor,Xe.className=t.cssAnimation?"nx-with-animation":"",Xe.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(b.overlayID)||e.document.body.appendChild(Xe)}e.document.getElementById(b.wrapID)||e.document.body.appendChild(ge);var Ee=e.document.createElement("div");Ee.id=t.ID+"-"+te,Ee.className=t.className+" "+De.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&typeof ee!="function"?"nx-with-close-button":"")+" "+(typeof ee=="function"?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),Ee.style.fontSize=t.fontSize,Ee.style.color=De.textColor,Ee.style.background=De.background,Ee.style.borderRadius=t.borderRadius,Ee.style.pointerEvents="all",t.rtl&&(Ee.setAttribute("dir","rtl"),Ee.classList.add("nx-rtl-on")),Ee.style.fontFamily='"'+t.fontFamily+'", '+y,t.cssAnimation&&(Ee.style.animationDuration=t.cssAnimationDuration+"ms");var it="";if(t.closeButton&&typeof ee!="function"&&(it='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+De.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),!t.useIcon)Ee.innerHTML='<span class="nx-message">'+$+"</span>"+(t.closeButton?it:"");else if(t.useFontAwesome)Ee.innerHTML='<i style="color:'+De.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+De.fontAwesomeClassName+" "+(t.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+$+"</span>"+(t.closeButton?it:"");else{var wt="";P===g.Success?wt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+De.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':P===g.Failure?wt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+De.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':P===g.Warning?wt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+De.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':P===g.Info&&(wt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+De.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),Ee.innerHTML=wt+'<span class="nx-message nx-with-icon">'+$+"</span>"+(t.closeButton?it:"")}if(t.position==="left-bottom"||t.position==="right-bottom"){var Fe=e.document.getElementById(b.wrapID);Fe.insertBefore(Ee,Fe.firstChild)}else e.document.getElementById(b.wrapID).appendChild(Ee);var Ne=e.document.getElementById(Ee.id);if(Ne){var Pe,Ye,Ke=function(){Ne.classList.add("nx-remove");var Me=e.document.getElementById(b.overlayID);Me&&0>=ge.childElementCount&&Me.classList.add("nx-remove"),clearTimeout(Pe)},Cn=function(){if(Ne&&Ne.parentNode!==null&&Ne.parentNode.removeChild(Ne),0>=ge.childElementCount&&ge.parentNode!==null){ge.parentNode.removeChild(ge);var Me=e.document.getElementById(b.overlayID);Me&&Me.parentNode!==null&&Me.parentNode.removeChild(Me)}clearTimeout(Ye)};if(t.closeButton&&typeof ee!="function"){var Wt=e.document.getElementById(Ee.id).querySelector("span.nx-close-button");Wt.addEventListener("click",function(){Ke();var Me=setTimeout(function(){Cn(),clearTimeout(Me)},t.cssAnimationDuration)})}if((typeof ee=="function"||t.clickToClose)&&Ne.addEventListener("click",function(){typeof ee=="function"&&ee(),Ke();var Me=setTimeout(function(){Cn(),clearTimeout(Me)},t.cssAnimationDuration)}),!t.closeButton&&typeof ee!="function"){var kt=function(){Pe=setTimeout(function(){Ke()},t.timeout),Ye=setTimeout(function(){Cn()},t.timeout+t.cssAnimationDuration)};kt(),t.pauseOnHover&&(Ne.addEventListener("mouseenter",function(){Ne.classList.add("nx-paused"),clearTimeout(Pe),clearTimeout(Ye)}),Ne.addEventListener("mouseleave",function(){Ne.classList.remove("nx-paused"),kt()}))}}if(t.showOnlyTheLastOne&&0<te)for(var It,rt=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+te+"])"),Rn=0;Rn<rt.length;Rn++)It=rt[Rn],It.parentNode!==null&&It.parentNode.removeChild(It);t=N(!0,t,Ae)},fe=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},we=function(P,$,ee,be,Ae,ze){if(!re("body"))return!1;a||Rt.Report.init({});var De={};if(typeof Ae=="object"&&!Array.isArray(Ae)||typeof ze=="object"&&!Array.isArray(ze)){var ge={};typeof Ae=="object"?ge=Ae:typeof ze=="object"&&(ge=ze),De=N(!0,a,{}),a=N(!0,a,ge)}var Xe=a[P.toLocaleLowerCase("en")];typeof $!="string"&&($="Notiflix "+P),typeof ee!="string"&&(P===w.Success?ee='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':P===w.Failure?ee='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':P===w.Warning?ee='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':P===w.Info&&(ee='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),typeof be!="string"&&(be="Okay"),a.plainText&&($=A($),ee=A(ee),be=A(be)),a.plainText||($.length>a.titleMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',be="Okay"),ee.length>a.messageMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',be="Okay"),be.length>a.buttonMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',be="Okay")),$.length>a.titleMaxLength&&($=$.substring(0,a.titleMaxLength)+"..."),ee.length>a.messageMaxLength&&(ee=ee.substring(0,a.messageMaxLength)+"..."),be.length>a.buttonMaxLength&&(be=be.substring(0,a.buttonMaxLength)+"..."),a.cssAnimation||(a.cssAnimationDuration=0);var Ee=e.document.createElement("div");Ee.id=E.ID,Ee.className=a.className,Ee.style.zIndex=a.zindex,Ee.style.borderRadius=a.borderRadius,Ee.style.fontFamily='"'+a.fontFamily+'", '+y,a.rtl&&(Ee.setAttribute("dir","rtl"),Ee.classList.add("nx-rtl-on")),Ee.style.display="flex",Ee.style.flexWrap="wrap",Ee.style.flexDirection="column",Ee.style.alignItems="center",Ee.style.justifyContent="center";var it="",wt=a.backOverlayClickToClose===!0;a.backOverlay&&(it='<div class="'+a.className+"-overlay"+(a.cssAnimation?" nx-with-animation":"")+(wt?" nx-report-click-to-close":"")+'" style="background:'+(Xe.backOverlayColor||a.backOverlayColor)+";animation-duration:"+a.cssAnimationDuration+'ms;"></div>');var Fe="";if(P===w.Success?Fe=C(a.svgSize,Xe.svgColor):P===w.Failure?Fe=R(a.svgSize,Xe.svgColor):P===w.Warning?Fe=D(a.svgSize,Xe.svgColor):P===w.Info&&(Fe=q(a.svgSize,Xe.svgColor)),Ee.innerHTML=it+'<div class="'+a.className+"-content"+(a.cssAnimation?" nx-with-animation ":"")+" nx-"+a.cssAnimationStyle+'" style="width:'+a.width+"; background:"+a.backgroundColor+"; animation-duration:"+a.cssAnimationDuration+'ms;"><div style="width:'+a.svgSize+"; height:"+a.svgSize+';" class="'+a.className+'-icon">'+Fe+'</div><h5 class="'+a.className+'-title" style="font-weight:500; font-size:'+a.titleFontSize+"; color:"+Xe.titleColor+';">'+$+'</h5><p class="'+a.className+'-message" style="font-size:'+a.messageFontSize+"; color:"+Xe.messageColor+';">'+ee+'</p><a id="NXReportButton" class="'+a.className+'-button" style="font-weight:500; font-size:'+a.buttonFontSize+"; background:"+Xe.buttonBackground+"; color:"+Xe.buttonColor+';">'+be+"</a></div>",!e.document.getElementById(Ee.id)){e.document.body.appendChild(Ee);var Ne=function(){var Ke=e.document.getElementById(Ee.id);Ke.classList.add("nx-remove");var Cn=setTimeout(function(){Ke.parentNode!==null&&Ke.parentNode.removeChild(Ke),clearTimeout(Cn)},a.cssAnimationDuration)},Pe=e.document.getElementById("NXReportButton");if(Pe.addEventListener("click",function(){typeof Ae=="function"&&Ae(),Ne()}),it&&wt){var Ye=e.document.querySelector(".nx-report-click-to-close");Ye.addEventListener("click",function(){Ne()})}}a=N(!0,a,De)},He=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},ke=function(P,$,ee,be,Ae,ze,De,ge,Xe){if(!re("body"))return!1;o||Rt.Confirm.init({});var Ee=N(!0,o,{});typeof Xe!="object"||Array.isArray(Xe)||(o=N(!0,o,Xe)),typeof $!="string"&&($="Notiflix Confirm"),typeof ee!="string"&&(ee="Do you agree with me?"),typeof Ae!="string"&&(Ae="Yes"),typeof ze!="string"&&(ze="No"),typeof De!="function"&&(De=void 0),typeof ge!="function"&&(ge=void 0),o.plainText&&($=A($),ee=A(ee),Ae=A(Ae),ze=A(ze)),o.plainText||($.length>o.titleMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',Ae="Okay",ze="..."),ee.length>o.messageMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',Ae="Okay",ze="..."),(Ae.length||ze.length)>o.buttonsMaxLength&&($="Possible HTML Tags Error",ee='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',Ae="Okay",ze="...")),$.length>o.titleMaxLength&&($=$.substring(0,o.titleMaxLength)+"..."),ee.length>o.messageMaxLength&&(ee=ee.substring(0,o.messageMaxLength)+"..."),Ae.length>o.buttonsMaxLength&&(Ae=Ae.substring(0,o.buttonsMaxLength)+"..."),ze.length>o.buttonsMaxLength&&(ze=ze.substring(0,o.buttonsMaxLength)+"..."),o.cssAnimation||(o.cssAnimationDuration=0);var it=e.document.createElement("div");it.id=U.ID,it.className=o.className+(o.cssAnimation?" nx-with-animation nx-"+o.cssAnimationStyle:""),it.style.zIndex=o.zindex,it.style.padding=o.distance,o.rtl&&(it.setAttribute("dir","rtl"),it.classList.add("nx-rtl-on"));var wt=typeof o.position=="string"?o.position.trim():"center";it.classList.add("nx-position-"+wt),it.style.fontFamily='"'+o.fontFamily+'", '+y;var Fe="";o.backOverlay&&(Fe='<div class="'+o.className+"-overlay"+(o.cssAnimation?" nx-with-animation":"")+'" style="background:'+o.backOverlayColor+";animation-duration:"+o.cssAnimationDuration+'ms;"></div>');var Ne="";typeof De=="function"&&(Ne='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+o.cancelButtonColor+";background:"+o.cancelButtonBackground+";font-size:"+o.buttonsFontSize+';">'+ze+"</a>");var Pe="",Ye=null,Ke=void 0;if(P===k.Ask||P===k.Prompt){Ye=be||"";var Cn=P===k.Ask||200<Ye.length?Math.ceil(1.5*Ye.length):250,Wt=P===k.Prompt?'value="'+Ye+'"':"";Pe='<div><input id="NXConfirmValidationInput" type="text" '+Wt+' maxlength="'+Cn+'" style="font-size:'+o.messageFontSize+";border-radius: "+o.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(it.innerHTML=Fe+'<div class="'+o.className+'-content" style="width:'+o.width+"; background:"+o.backgroundColor+"; animation-duration:"+o.cssAnimationDuration+"ms; border-radius: "+o.borderRadius+';"><div class="'+o.className+'-head"><h5 style="color:'+o.titleColor+";font-size:"+o.titleFontSize+';">'+$+'</h5><div style="color:'+o.messageColor+";font-size:"+o.messageFontSize+';">'+ee+Pe+'</div></div><div class="'+o.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+(typeof De=="function"?"":" nx-full")+'" style="color:'+o.okButtonColor+";background:"+o.okButtonBackground+";font-size:"+o.buttonsFontSize+';">'+Ae+"</a>"+Ne+"</div></div>",!e.document.getElementById(it.id)){e.document.body.appendChild(it);var kt=e.document.getElementById(it.id),It=e.document.getElementById("NXConfirmButtonOk"),rt=e.document.getElementById("NXConfirmValidationInput");if(rt&&(rt.focus(),rt.setSelectionRange(0,(rt.value||"").length),rt.addEventListener("keyup",function(Me){var rr=Me.target.value;if(P===k.Ask&&rr!==Ye)Me.preventDefault(),rt.classList.add("nx-validation-failure"),rt.classList.remove("nx-validation-success");else{P===k.Ask&&(rt.classList.remove("nx-validation-failure"),rt.classList.add("nx-validation-success"));var yr=(Me.key||"").toLocaleLowerCase("en")==="enter"||Me.keyCode===13;yr&&It.dispatchEvent(new Event("click"))}})),It.addEventListener("click",function(Me){if(P===k.Ask&&Ye&&rt){var rr=(rt.value||"").toString();if(rr!==Ye)return rt.focus(),rt.classList.add("nx-validation-failure"),Me.stopPropagation(),Me.preventDefault(),Me.returnValue=!1,Me.cancelBubble=!0,!1;rt.classList.remove("nx-validation-failure")}typeof De=="function"&&(P===k.Prompt&&rt&&(Ke=rt.value||""),De(Ke)),kt.classList.add("nx-remove");var yr=setTimeout(function(){kt.parentNode!==null&&(kt.parentNode.removeChild(kt),clearTimeout(yr))},o.cssAnimationDuration)}),typeof De=="function"){var Rn=e.document.getElementById("NXConfirmButtonCancel");Rn.addEventListener("click",function(){typeof ge=="function"&&(P===k.Prompt&&rt&&(Ke=rt.value||""),ge(Ke)),kt.classList.add("nx-remove");var Me=setTimeout(function(){kt.parentNode!==null&&(kt.parentNode.removeChild(kt),clearTimeout(Me))},o.cssAnimationDuration)})}}o=N(!0,o,Ee)},Ht=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},Je=function(P,$,ee,be,Ae){if(!re("body"))return!1;l||Rt.Loading.init({});var ze=N(!0,l,{});if(typeof $=="object"&&!Array.isArray($)||typeof ee=="object"&&!Array.isArray(ee)){var De={};typeof $=="object"?De=$:typeof ee=="object"&&(De=ee),l=N(!0,l,De)}var ge="";if(typeof $=="string"&&0<$.length&&(ge=$),be){ge=ge.length>l.messageMaxLength?A(ge).toString().substring(0,l.messageMaxLength)+"...":A(ge).toString();var Xe="";0<ge.length&&(Xe='<p id="'+l.messageID+'" class="nx-loading-message" style="color:'+l.messageColor+";font-size:"+l.messageFontSize+';">'+ge+"</p>"),l.cssAnimation||(l.cssAnimationDuration=0);var Ee="";if(P===V.Standard)Ee=O(l.svgSize,l.svgColor);else if(P===V.Hourglass)Ee=nt(l.svgSize,l.svgColor);else if(P===V.Circle)Ee=ct(l.svgSize,l.svgColor);else if(P===V.Arrows)Ee=W(l.svgSize,l.svgColor);else if(P===V.Dots)Ee=me(l.svgSize,l.svgColor);else if(P===V.Pulse)Ee=ue(l.svgSize,l.svgColor);else if(P===V.Custom&&l.customSvgCode!==null&&l.customSvgUrl===null)Ee=l.customSvgCode||"";else if(P===V.Custom&&l.customSvgUrl!==null&&l.customSvgCode===null)Ee='<img class="nx-custom-loading-icon" width="'+l.svgSize+'" height="'+l.svgSize+'" src="'+l.customSvgUrl+'" alt="Notiflix">';else{if(P===V.Custom&&(l.customSvgUrl===null||l.customSvgCode===null))return G('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;Ee=Ve(l.svgSize,"#f8f8f8","#32c682")}var it=parseInt((l.svgSize||"").replace(/[^0-9]/g,"")),wt=e.innerWidth,Fe=it>=wt?wt-40+"px":it+"px",Ne='<div style="width:'+Fe+"; height:"+Fe+';" class="'+l.className+"-icon"+(0<ge.length?" nx-with-message":"")+'">'+Ee+"</div>",Pe=e.document.createElement("div");if(Pe.id=I.ID,Pe.className=l.className+(l.cssAnimation?" nx-with-animation":"")+(l.clickToClose?" nx-loading-click-to-close":""),Pe.style.zIndex=l.zindex,Pe.style.background=l.backgroundColor,Pe.style.animationDuration=l.cssAnimationDuration+"ms",Pe.style.fontFamily='"'+l.fontFamily+'", '+y,Pe.style.display="flex",Pe.style.flexWrap="wrap",Pe.style.flexDirection="column",Pe.style.alignItems="center",Pe.style.justifyContent="center",l.rtl&&(Pe.setAttribute("dir","rtl"),Pe.classList.add("nx-rtl-on")),Pe.innerHTML=Ne+Xe,!e.document.getElementById(Pe.id)&&(e.document.body.appendChild(Pe),l.clickToClose)){var Ye=e.document.getElementById(Pe.id);Ye.addEventListener("click",function(){Pe.classList.add("nx-remove");var Wt=setTimeout(function(){Pe.parentNode!==null&&(Pe.parentNode.removeChild(Pe),clearTimeout(Wt))},l.cssAnimationDuration)})}}else if(e.document.getElementById(I.ID))var Ke=e.document.getElementById(I.ID),Cn=setTimeout(function(){Ke.classList.add("nx-remove");var Wt=setTimeout(function(){Ke.parentNode!==null&&(Ke.parentNode.removeChild(Ke),clearTimeout(Wt))},l.cssAnimationDuration);clearTimeout(Cn)},Ae);l=N(!0,l,ze)},nr=function(P){typeof P!="string"&&(P="");var $=e.document.getElementById(I.ID);if($)if(0<P.length){P=P.length>l.messageMaxLength?A(P).substring(0,l.messageMaxLength)+"...":A(P);var ee=$.getElementsByTagName("p")[0];if(ee)ee.innerHTML=P;else{var be=e.document.createElement("p");be.id=l.messageID,be.className="nx-loading-message nx-loading-message-new",be.style.color=l.messageColor,be.style.fontSize=l.messageFontSize,be.innerHTML=P,$.appendChild(be)}}else G("Where is the new message?")},kr=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},Fn=0,Nn=function(P,$,ee,be,Ae,ze){var De;if(Array.isArray(ee)){if(1>ee.length)return G("Array of HTMLElements should contains at least one HTMLElement."),!1;De=ee}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,ee)){if(1>ee.length)return G("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;De=Array.prototype.slice.call(ee)}else{var ge=typeof ee!="string"||1>(ee||"").length||(ee||"").length===1&&((ee||"")[0]==="#"||(ee||"")[0]===".");if(ge)return G("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var Xe=e.document.querySelectorAll(ee);if(1>Xe.length)return G('You called the "Notiflix.Block..." function with "'+ee+'" selector, but there is no such element(s) in the document.'),!1;De=Xe}u||Rt.Block.init({});var Ee=N(!0,u,{});if(typeof be=="object"&&!Array.isArray(be)||typeof Ae=="object"&&!Array.isArray(Ae)){var it={};typeof be=="object"?it=be:typeof Ae=="object"&&(it=Ae),u=N(!0,u,it)}var wt="";typeof be=="string"&&0<be.length&&(wt=be),u.cssAnimation||(u.cssAnimationDuration=0);var Fe=z.className;typeof u.className=="string"&&(Fe=u.className.trim());var Ne=typeof u.querySelectorLimit=="number"?u.querySelectorLimit:200,Pe=(De||[]).length>=Ne?Ne:De.length,Ye="nx-block-temporary-position";if(P){for(var Ke,Cn=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],Wt=0;Wt<Pe;Wt++)if(Ke=De[Wt],Ke){if(-1<Cn.indexOf(Ke.tagName.toLocaleLowerCase("en")))break;var kt=Ke.querySelectorAll("[id^="+z.ID+"]");if(1>kt.length){var It="";$&&($===M.Hourglass?It=nt(u.svgSize,u.svgColor):$===M.Circle?It=ct(u.svgSize,u.svgColor):$===M.Arrows?It=W(u.svgSize,u.svgColor):$===M.Dots?It=me(u.svgSize,u.svgColor):$===M.Pulse?It=ue(u.svgSize,u.svgColor):It=O(u.svgSize,u.svgColor));var rt='<span class="'+Fe+'-icon" style="width:'+u.svgSize+";height:"+u.svgSize+';">'+It+"</span>",Rn="";0<wt.length&&(wt=wt.length>u.messageMaxLength?A(wt).substring(0,u.messageMaxLength)+"...":A(wt),Rn='<span style="font-size:'+u.messageFontSize+";color:"+u.messageColor+';" class="'+Fe+'-message">'+wt+"</span>"),Fn++;var Me=e.document.createElement("div");Me.id=z.ID+"-"+Fn,Me.className=Fe+(u.cssAnimation?" nx-with-animation":""),Me.style.position=u.position,Me.style.zIndex=u.zindex,Me.style.background=u.backgroundColor,Me.style.animationDuration=u.cssAnimationDuration+"ms",Me.style.fontFamily='"'+u.fontFamily+'", '+y,Me.style.display="flex",Me.style.flexWrap="wrap",Me.style.flexDirection="column",Me.style.alignItems="center",Me.style.justifyContent="center",u.rtl&&(Me.setAttribute("dir","rtl"),Me.classList.add("nx-rtl-on")),Me.innerHTML=rt+Rn;var rr=e.getComputedStyle(Ke).getPropertyValue("position"),yr=typeof rr=="string"?rr.toLocaleLowerCase("en"):"relative",Gi=Math.round(1.25*parseInt(u.svgSize))+40,xr=Ke.offsetHeight||0,qn="";Gi>xr&&(qn="min-height:"+Gi+"px;");var $i="";$i=Ke.getAttribute("id")?"#"+Ke.getAttribute("id"):Ke.classList[0]?"."+Ke.classList[0]:(Ke.tagName||"").toLocaleLowerCase("en");var Hn="",Xi=-1>=["absolute","relative","fixed","sticky"].indexOf(yr);if(Xi||0<qn.length){if(!re("head"))return!1;Xi&&(Hn="position:relative!important;");var Ir='<style id="Style-'+z.ID+"-"+Fn+'">'+$i+"."+Ye+"{"+Hn+qn+"}</style>",si=e.document.createRange();si.selectNode(e.document.head);var Dr=si.createContextualFragment(Ir);e.document.head.appendChild(Dr),Ke.classList.add(Ye)}Ke.appendChild(Me)}}}else var js=function(mt){var an=setTimeout(function(){mt.parentNode!==null&&mt.parentNode.removeChild(mt);var oi=mt.getAttribute("id"),Gn=e.document.getElementById("Style-"+oi);Gn&&Gn.parentNode!==null&&Gn.parentNode.removeChild(Gn),clearTimeout(an)},u.cssAnimationDuration)},Et=function(mt){if(mt&&0<mt.length)for(var an,oi=0;oi<mt.length;oi++)an=mt[oi],an&&(an.classList.add("nx-remove"),js(an));else ne(typeof ee=="string"?'"Notiflix.Block.remove();" function called with "'+ee+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+ee+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Pt=function(mt){var an=setTimeout(function(){mt.classList.remove(Ye),clearTimeout(an)},u.cssAnimationDuration+300)},jt=setTimeout(function(){for(var mt,an=0;an<Pe;an++)mt=De[an],mt&&(Pt(mt),kt=mt.querySelectorAll("[id^="+z.ID+"]"),Et(kt));clearTimeout(jt)},ze);u=N(!0,u,Ee)},Rt={Notify:{init:function(P){t=N(!0,b,P),ce(L,"NotiflixNotifyInternalCSS")},merge:function(P){return t?void(t=N(!0,t,P)):(G("You have to initialize the Notify module before call Merge function."),!1)},success:function(P,$,ee){de(g.Success,P,$,ee)},failure:function(P,$,ee){de(g.Failure,P,$,ee)},warning:function(P,$,ee){de(g.Warning,P,$,ee)},info:function(P,$,ee){de(g.Info,P,$,ee)}},Report:{init:function(P){a=N(!0,E,P),ce(fe,"NotiflixReportInternalCSS")},merge:function(P){return a?void(a=N(!0,a,P)):(G("You have to initialize the Report module before call Merge function."),!1)},success:function(P,$,ee,be,Ae){we(w.Success,P,$,ee,be,Ae)},failure:function(P,$,ee,be,Ae){we(w.Failure,P,$,ee,be,Ae)},warning:function(P,$,ee,be,Ae){we(w.Warning,P,$,ee,be,Ae)},info:function(P,$,ee,be,Ae){we(w.Info,P,$,ee,be,Ae)}},Confirm:{init:function(P){o=N(!0,U,P),ce(He,"NotiflixConfirmInternalCSS")},merge:function(P){return o?void(o=N(!0,o,P)):(G("You have to initialize the Confirm module before call Merge function."),!1)},show:function(P,$,ee,be,Ae,ze,De){ke(k.Show,P,$,null,ee,be,Ae,ze,De)},ask:function(P,$,ee,be,Ae,ze,De,ge){ke(k.Ask,P,$,ee,be,Ae,ze,De,ge)},prompt:function(P,$,ee,be,Ae,ze,De,ge){ke(k.Prompt,P,$,ee,be,Ae,ze,De,ge)}},Loading:{init:function(P){l=N(!0,I,P),ce(Ht,"NotiflixLoadingInternalCSS")},merge:function(P){return l?void(l=N(!0,l,P)):(G("You have to initialize the Loading module before call Merge function."),!1)},standard:function(P,$){Je(V.Standard,P,$,!0,0)},hourglass:function(P,$){Je(V.Hourglass,P,$,!0,0)},circle:function(P,$){Je(V.Circle,P,$,!0,0)},arrows:function(P,$){Je(V.Arrows,P,$,!0,0)},dots:function(P,$){Je(V.Dots,P,$,!0,0)},pulse:function(P,$){Je(V.Pulse,P,$,!0,0)},custom:function(P,$){Je(V.Custom,P,$,!0,0)},notiflix:function(P,$){Je(V.Notiflix,P,$,!0,0)},remove:function(P){typeof P!="number"&&(P=0),Je(null,null,null,!1,P)},change:function(P){nr(P)}},Block:{init:function(P){u=N(!0,z,P),ce(kr,"NotiflixBlockInternalCSS")},merge:function(P){return u?void(u=N(!0,u,P)):(G('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(P,$,ee){Nn(!0,M.Standard,P,$,ee)},hourglass:function(P,$,ee){Nn(!0,M.Hourglass,P,$,ee)},circle:function(P,$,ee){Nn(!0,M.Circle,P,$,ee)},arrows:function(P,$,ee){Nn(!0,M.Arrows,P,$,ee)},dots:function(P,$,ee){Nn(!0,M.Dots,P,$,ee)},pulse:function(P,$,ee){Nn(!0,M.Pulse,P,$,ee)},remove:function(P,$){typeof $!="number"&&($=0),Nn(!1,null,P,null,null,$)}}};return typeof e.Notiflix=="object"?N(!0,e.Notiflix,{Notify:Rt.Notify,Report:Rt.Report,Confirm:Rt.Confirm,Loading:Rt.Loading,Block:Rt.Block}):{Notify:Rt.Notify,Report:Rt.Report,Confirm:Rt.Confirm,Loading:Rt.Loading,Block:Rt.Block}})}(Gf)),Gf.exports}var D6=I6();const he=Wv(D6),O6={user:null,status:"loading",error:null},$w=F.createContext();function j6(r,e){switch(e.type){case"AUTH_INIT":return{...r,status:"loading"};case"AUTH_READY":return{...r,user:e.payload,status:e.payload?"authenticated":"idle",error:null};case"LOGIN_REQUEST":return{...r,status:"loading",error:null};case"LOGIN_SUCCESS":return{...r,user:e.payload,status:"authenticated"};case"LOGIN_FAILURE":return{...r,user:null,status:"error",error:e.payload};case"LOGOUT_SUCCESS":return{...r,user:null,status:"idle"};case"REGISTER_REQUEST":return{...r,status:"loading",error:null};case"REGISTER_SUCCESS":return{...r,user:e.payload,status:"authenticated"};case"REGISTER_FAILURE":return{...r,user:null,status:"error",error:e.payload};default:return r}}const M6=({children:r})=>{const[e,t]=F.useReducer(j6,O6);F.useEffect(()=>{t({type:"AUTH_INIT"});const u=ZN(Sf,async h=>{if(!h){t({type:"AUTH_READY",payload:null});return}let y=h.displayName?.trim()||"";if(!y)try{const b=await getDoc(Mn(vn,"users",h.uid)),w=b.exists()?(b.data()?.dtName||"").trim():"";if(w){y=w;try{await Rb(h,{displayName:w})}catch{}}}catch{}y||(y=h.email?.split("@")[0]||"");const g={...h,displayName:y};t({type:"AUTH_READY",payload:g})});return()=>u()},[]);const a=async(u,h)=>{t({type:"LOGIN_REQUEST"});try{const y=await KN(Sf,u,h);t({type:"LOGIN_SUCCESS",payload:y.user}),he.Notify.success("Inicio de sesin exitoso")}catch(y){t({type:"LOGIN_FAILURE",payload:y}),he.Notify.failure("Error al iniciar sesin")}},o=async()=>{try{await eC(Sf),t({type:"LOGOUT_SUCCESS"}),he.Notify.success("Sesin cerrada")}catch(u){he.Notify.failure("Error al cerrar sesin"),console.error("Error al cerrar sesin:",u)}},l=async(u,h,y)=>{t({type:"REGISTER_REQUEST"});try{const g=await YN(Sf,u,h);await Rb(g.user,{displayName:y}),await Kc(Mn(vn,"users",g.user.uid),{dtName:y,email:u,createdAt:il()},{merge:!0}),t({type:"REGISTER_SUCCESS",payload:g.user}),he.Notify.success("Registro exitoso")}catch(g){t({type:"REGISTER_FAILURE",payload:"Error al registrar usuario"}),he.Notify.failure("Error al registrar usuario"),console.error("Error al registrar usuario:",g)}};return m.jsx($w.Provider,{value:{user:e.user,loading:e.status==="loading",handleLogin:a,handleLogout:o,handleRegister:l,uid:e.user?.uid,isAuthenticated:e.status==="authenticated"},children:r})},Bn=()=>F.useContext($w),Dg=(r={})=>{const[e,t]=F.useState(r);return{form:e,changed:({target:l})=>{const{name:u,value:h}=l;t({...e,[u]:h})},setValue:(l,u)=>{t(h=>({...h,[l]:u}))}}},L6=()=>{const{handleRegister:r}=Bn(),{form:e,changed:t}=Dg(),a=async o=>{o.preventDefault();let l=e;if(!l.email||!l.password||!l.nombre){he.Notify.failure("Por favor, completa todos los campos");return}if(l.password!==l.confirmPassword){he.Notify.failure("Las contraseas no coinciden");return}try{const u=await r(l.email,l.password,l.nombre)}catch(u){console.error("Error al registrar usuario:",u)}};return m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs("form",{onSubmit:a,children:[m.jsx("label",{htmlFor:"nombre",children:"Director Tcnico"}),m.jsx("input",{name:"nombre",className:"w-full border rounded p-2",type:"text",placeholder:"Nombre del DT",required:!0,onChange:t}),m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{name:"email",className:"w-full border rounded p-2",type:"email",placeholder:"Email",required:!0,onChange:t}),m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{name:"password",className:"w-full border rounded p-2",type:"password",placeholder:"Contrasea",required:!0,onChange:t}),m.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contrasea"}),m.jsx("input",{name:"confirmPassword",className:"w-full border rounded p-2",type:"password",placeholder:"Confirmar Contrasea",required:!0,onChange:t}),m.jsx("input",{className:"text-blue-600 hover:underline bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2",type:"submit",value:"Registrarse"})]})})},P6=()=>{const{form:r,changed:e}=Dg(),{user:t,loading:a,handleLogin:o}=Bn(),[l,u]=F.useState(!1),[h,y]=F.useState(!1),g=md();F.useEffect(()=>{if(t&&!a)g("/formacion",{replace:!0});else return},[t,a,g]),F.useEffect(()=>(a&&he.Loading.circle("Cargando"),()=>{he.Loading.remove()}),[a]);const b=async E=>{E.preventDefault();let{email:k,password:U}=r;if(!k||!U){he.Notify.failure("Por favor, completa todos los campos");return}try{const V=await o(k,U)}catch(V){he.Notify.failure("Error al iniciar sesin"),console.error("Error al iniciar sesin:",V)}},w=()=>{u(!l)};return m.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Iniciar Sesin"}),m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs("form",{action:"",onSubmit:b,children:[m.jsx("label",{htmlFor:"email",children:"Email"}),m.jsx("input",{type:"email",name:"email",id:"email",onChange:e,className:"w-full border rounded p-2"}),m.jsx("label",{htmlFor:"password",children:"Contrasea"}),m.jsx("input",{type:h?"text":"password",name:"password",id:"password",onChange:e,className:"w-full border rounded p-2"}),m.jsx("button",{type:"button",onClick:()=>y(!h),className:"text-sm text-blue-600 hover:text-red-600",children:h?"Ocultar Contrasea":"Ver Contrasea"}),m.jsx("input",{type:"submit",value:"Ingresar",className:"text-blue-600 hover:font-bold bg-gray-200 shadow-md rounded-xl p-2 w-full cursor-pointer mt-2"})]})}),m.jsx("button",{onClick:w,className:"text-2xl font-bold mb-4 mt-4 text-center hover:text-blue-600 hover:cursor-pointer",children:"Registrarse"}),l&&m.jsx(L6,{})]})},Xw={fecha:"2018-07-01",bootstrapped:!0,rival:"",activeClub:"",torneoName:"",torneoYear:null,torneoDisplay:"",condition:"",torneosIndex:[],matches:[],rivalesIndex:[],captain:"",starters:[],substitutes:[],goleadoresActiveClub:[],goleadoresRivales:[],autogolesFavor:0};function V6(r,e){switch(e.type){case"ACTUALIZAR_CAMPO":return{...r,[e.campo]:e.valor};case"SET_FECHA":{const a=e.payload;return typeof a!="string"||a.trim()===""?r:{...r,fecha:a,bootstrapped:!0}}case"SET_RIVAL":{const a=e.payload;return typeof a!="string"||a.trim()===""?r:{...r,rival:a}}case"HYDRATE_FROM_FIREBASE":{const a=e.payload||{};return{...r,activeClub:a.activeClub??r.activeClub,torneosIndex:Array.isArray(a.torneosIndex)?a.torneosIndex:[],matches:Array.isArray(a.matches)?a.matches:r.matches,rivalesIndex:Array.isArray(a.rivalesIndex)?a.rivalesIndex:[],goleadoresActiveClub:Array.isArray(a.goleadoresActiveClub)?a.goleadoresActiveClub:r.goleadoresActiveClub}}case"SET_FORMACION":{const{captain:a,starters:o}=e.payload;return{...r,captain:a,starters:o}}case"SET_SUBS":const{substitutes:t}=e.payload;return{...r,substitutes:t};case"ADD_GOLEADOR":{const{name:a,activeClub:o}=e.payload;return r.goleadoresActiveClub.some(u=>u.name===a&&u.activeClub===o)?r:{...r,goleadoresActiveClub:[...r.goleadoresActiveClub,{name:a,activeClub:o,gol:!!e.payload.gol,doblete:!!e.payload.doblete,triplete:!!e.payload.triplete,hattrick:!!e.payload.hattrick,expulsion:!!e.payload.expulsion,isOwnGoal:!!e.payload.isOwnGoal}]}}case"TOGGLE_EVENT":{const{name:a,activeClub:o,event:l}=e.payload;return{...r,goleadoresActiveClub:r.goleadoresActiveClub.map(u=>u.name===a&&u.activeClub===o?{...u,[l]:!u[l]}:u)}}case"REMOVE_GOLEADOR":{const{name:a,activeClub:o}=e.payload;return{...r,goleadoresActiveClub:r.goleadoresActiveClub.filter(l=>!(l.name===a&&l.activeClub===o))}}case"RESET_FORM":return{...Xw,activeClub:r.activeClub,torneosIndex:r.torneosIndex,matches:r.matches,rivalesIndex:r.rivalesIndex};case"OWN_GOAL_FAVOR_INC":return{...r,autogolesFavor:(r.autogolesFavor||0)+1};case"OWN_GOAL_FAVOR_DEC":return{...r,autogolesFavor:Math.max(0,(r.autogolesFavor||0)-1)};case"RIVAL_ADD":{const a=e.payload;return r.goleadoresRivales.some(l=>l.name===a.name&&l.club===a.club)?r:{...r,goleadoresRivales:[...r.goleadoresRivales,a]}}case"RIVAL_TOGGLE":{const{name:a,club:o,field:l}=e.payload;return{...r,goleadoresRivales:r.goleadoresRivales.map(u=>u.name===a&&u.club===o?{...u,[l]:!u[l]}:u)}}case"RIVAL_REMOVE":{const{name:a,club:o}=e.payload;return{...r,goleadoresRivales:r.goleadoresRivales.filter(l=>!(l.name===a&&l.club===o))}}default:return r}}const Yw=F.createContext(null);function ii(){const r=F.useContext(Yw);if(!r)throw new Error("usePartido debe usarse dentro de <PartidoProvider>");return r}function U6({children:r}){const[e,t]=F.useReducer(V6,Xw),a=$f.useMemo(()=>({state:e,dispatch:t}),[e]);return m.jsx(Yw.Provider,{value:a,children:r})}function _e(r=""){return(r??"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Kw=async(r,e,t)=>{if(r)try{he.Loading.standard("Cargando datos...");const a=Mn(vn,"users",r),o=await Yc(a);if(o.exists()){const l=o.data();console.log("[Partido] datos usuario:",l);const{lineups:u,torneosIndex:h,rivalesIndex:y}=l||{},g=_e(l?.activeClub),b=g?l?.lineups?.[g]?.matches||[]:[];e({type:"HYDRATE_FROM_FIREBASE",payload:{torneosIndex:h,rivalesIndex:y,matches:b}}),t&&u&&typeof u=="object"&&(t({type:"LINEUPS_SET_ALL",payload:{lineups:u}}),t({type:"SET_MANAGED_CLUBS",payload:{clubs:Object.keys(u)}}));const w=b.map(E=>E?.fecha).filter(Boolean).sort((E,k)=>new Date(E)-new Date(k)).at(-1);w&&(he.Notify.success("Info Sincronizado"),e({type:"ACTUALIZAR_CAMPO",campo:"fecha",valor:w}))}else console.warn("[Partido] no existe doc para uid:",r)}catch(a){console.error("Error al montar el formulario",a),he.Notify.failure("Error al cargar el formulario")}finally{he.Loading.remove()}},Qc=(r,e,t)=>{F.useEffect(()=>{Kw(r,e,t)},[r])},Og="LINEUP_RESET",Ss="LINEUP_SET_SELECTED",Qw="LINEUP_SET_CAPTAIN",jg="LINEUP_ADD_STARTER",Ww="LINEUP_REMOVE_STARTER",Jw="LINEUP_SAVE_LOCAL",Mg="CLUB_RESET",z6="PLAYERS_ADD",Zw="PLAYERS_REMOVE",eE="LINEUP_DELETE_LOCAL",kc="SAVE_CLUB_NAME",Ic="CLUB_LOAD_FROM_ACTIVE",Ld="LINEUPS_UPSERT_BUCKET",B6={captainName:null,starters:[],selectMode:"captain",selectedOption:"",lineups:{},activeClub:"",players:[],usedClub:!1,managedClubs:[]},tE=F.createContext();function ai(){const r=F.useContext(tE);if(!r)throw new Error("useLineups debe usarse dentro de <LineupsProvider>");return r}function F6(r,e){switch(e.type){case Mg:return{activeClub:"",players:[],lineups:{}};case Og:return{...r,captainName:null,starters:[],selectMode:"captain",selectedOption:""};case Ss:return{...r,selectedOption:e.payload};case Qw:{if(!e.payload||typeof e.payload.captain!="string")return r;const t=_e(e.payload.captain);if(t===""||r.starters.length>=11&&!r.starters.includes(t))return r;const a=r.starters.includes(t)?r.starters:[...r.starters,t];return{...r,captainName:t,starters:a,selectMode:"starters",selectedOption:""}}case Jw:{const t=_e(r.activeClub??"");if(!t)return r;const o=r.lineups?.[t]??{label:t,players:[],formations:[]};if(!e.payload)return r;const{id:l,captain:u,starters:h,createdAt:y}=e.payload,g=_e(u),b=Array.isArray(h)?h.map(_e):[],w=y&&!Number.isNaN(new Date(y).getTime());if(!l||b.length!==11||!g||!w||!b.includes(g))return r;const E=Array.isArray(o.players)?[...o.players]:[];if(o.formations.some(M=>M.id===l))return r;const U=new Date(y).toISOString(),V={id:l,createdAt:U,captain:g,starters:[...b]},I={label:o.label||t,players:E,formations:[V,...o.formations]};return{...r,lineups:{...r.lineups,[t]:I},captainName:null,starters:[],selectMode:"captain",selectedOption:""}}case jg:{if(!e.payload||typeof e.payload.player!="string")return r;const t=_e(e.payload.player);return t===""||r.starters.length>=11||r.starters.includes(t)?r:{...r,starters:[...r.starters,t],selectMode:"starters",selectedOption:""}}case Ww:{if(!e.payload||typeof e.payload.player!="string")return r;const t=_e(e.payload.player);if(t===""||!r.starters.includes(t))return r;const a=r.starters.filter(l=>l!==t),o=t===r.captainName;return{...r,captainName:o?null:r.captainName,starters:a,selectMode:o?"captain":r.selectMode,selectedOption:""}}case eE:{if(!e.payload||typeof e.payload.id!="string")return r;const t=_e(r.activeClub??"");if(!t)return r;const a=r.lineups?.[t];if(!a)return r;const o=a.formations.length,l=a.formations.filter(u=>u.id!==e.payload.id);return l.length===o?r:{...r,lineups:{...r.lineups,[t]:{...a,formations:l}}}}case"SET_MANAGED_CLUBS":{const t=new Set,a=(e.payload?.clubs||[]).map(o=>_e(o)).filter(o=>o&&!t.has(o)&&t.add(o));return{...r,managedClubs:a}}case"LINEUPS_SET_ALL":{const t=e.payload?.lineups;return!t||typeof t!="object"?r:{...r,lineups:{...r.lineups,...t}}}case z6:{if(!e.payload||typeof e.payload.name!="string")return r;const t=_e(e.payload.name);if(t==="")return r;const a=_e(r.activeClub??"");if(!a)return r;const o=r.lineups?.[a]??{label:a,players:[],formations:[]},l=Array.isArray(o.players)?o.players:[];if(l.includes(t))return r;const u=[...l,t].sort((h,y)=>h.localeCompare(y,"es",{sensitivity:"base"}));return{...r,lineups:{...r.lineups,[a]:{...o,players:u}},players:u}}case Zw:{const t=e.payload?.name??"",a=_e(t);if(!a)return r;const o=r.players.filter(b=>b!==a),l=r.starters.filter(b=>b!==a),u=_e(r.captainName)===a,h=_e(r.activeClub??""),y=h?r.lineups?.[h]:null;let g=r.lineups;if(y){const b=y.players.filter(E=>E!==a),w=y.formations.filter(E=>{const k=_e(E.captain)===a,U=Array.isArray(E.starters)&&E.starters.some(V=>V===a);return!(k||U)});g={...r.lineups,[h]:{...y,players:b,formations:w}}}return{...r,players:o,starters:l,captainName:u?null:r.captainName,selectMode:u?"captain":r.selectMode,lineups:g}}case kc:{if(!e.payload||typeof e.payload.name!="string")return r;const t=_e(e.payload.name);if(t==="")return r;const a=new Set([...r.managedClubs||[],t]);return{...r,activeClub:t,managedClubs:Array.from(a)}}case Ic:{const t=_e(r.activeClub||""),a=r.lineups?.[t];return a?{...r,players:a.players,usedClub:!0}:{...r,usedClub:!1,captainName:null,starters:[],selectMode:"captain",selectedOption:"",players:[]}}case Ld:{const{club:t,bucket:a}=e.payload||{};if(!t||!a)return r;const l={...r.lineups?.[t]??{},...a},u=_e(r.activeClub??""),h=_e(t);return{...r,lineups:{...r.lineups,[t]:l},...h===u&&l.players?{players:l.players}:null}}default:return r}}function q6({children:r}){const[e,t]=F.useReducer(F6,B6);return m.jsx(tE.Provider,{value:{state:e,dispatch:t},children:r})}const Re=r=>{if(r==null)return"";let e=Array.isArray(r)?r.join(" "):String(r);return e=e.trim(),e?e.split(/\s+/).map(o=>{const l=_e(o);return l?l.charAt(0).toUpperCase()+l.slice(1):""}).filter(Boolean).join(" "):""};function H6(){const{user:r,handleLogout:e,uid:t,isAuthenticated:a}=Bn(),o=Fi(),[l,u]=F.useState(!1),[h,y]=F.useState(!1),{dispatch:g}=ii(),{dispatch:b}=ai(),w=async()=>{t&&await Kw(t,g)};F.useEffect(()=>{const z=()=>{const G=window.innerWidth,ne=window.innerHeight;y(G<933||ne<431)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const E=z=>o.pathname===z||o.pathname.startsWith(z+"/"),k=z=>`inline-block origin-center transition-transform duration-150 ${E(z)?"scale-150":"scale-100"}`,U=()=>"block px-4 py-2 rounded transition text-gray-700",V=()=>{he.Confirm.show("Reiniciar","Esto borrar el club activo, la formacin y el formulario del partido en esta sesin. Continuar?","S","No",async()=>{try{if(b({type:"CLUB_RESET"}),b({type:"LINEUP_RESET"}),g({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),g({type:"RESET_FORM"}),t){const z=Mn(vn,"users",t);await Kc(z,{activeClub:"",lineups:{},players:[],starters:[],useClub:!1},{merge:!0})}he.Notify.success("Listo: se reinici la sesin de trabajo.")}catch{he.Notify.failure("No se pudo reiniciar.")}},()=>{})},I=()=>{he.Confirm.show("Cerrar Sesin","Ests seguro de que quieres cerrar sesin?","S","No",async()=>{try{b({type:"CLUB_RESET"}),g({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:""}),g({type:"RESET_FORM"}),await e()}catch{he.Notify.failure("No se pudo cerrar sesin correctamente");return}he.Notify.success("Sesin cerrada")},()=>{he.Notify.info("Sesin no cerrada")},{width:"300px",borderRadius:"8px",titleColor:"#333",messageColor:"#555",okButtonBackground:"#4CAF50",cancelButtonBackground:"#f44336"})},M=[{path:"/registrar-partido",label:""},{path:"/versus",label:""},{path:"/temporadas",label:""},{path:"/analisis",label:" "},{path:"/campeonatos",label:""},{path:"/goleadores",label:""},{path:"/formacion",label:""},{path:"/palmares",label:""}];return m.jsxs("nav",{className:"bg-white shadow-md w-full sticky top-0 z-50",children:[!h&&m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[m.jsx("span",{className:"text-xl font-bold text-blue-600 whitespace-nowrap cursor-pointer",onClick:w,children:" Pes Stats Zone"}),m.jsxs("div",{className:"space-x-2 text-sm flex",children:[M.map(({path:z,label:G})=>m.jsx(Yf,{to:z,className:`${U()} flex items-center gap-1 text-xl`,children:m.jsx("span",{className:k(z),children:G})},z)),r&&m.jsxs("div",{className:"flex flex-col items-center justify-center border p-2 rounded-lg",children:[m.jsx("label",{children:"Dt"}),m.jsx("span",{className:"text-gray-700 font-semibold",children:Re(r.displayName)})]}),m.jsx("button",{onClick:V,className:"text-red-600 hover:uppercase hover:font-bold flex items-center gap-1",children:" Reiniciar"}),m.jsx("button",{onClick:()=>I(),className:" bg-red-400 text-white rounded-xl px-4 hover:bg-red-600 flex items-center gap-1",children:"Salir"})]})]}),h&&m.jsx("button",{type:"button",className:"fixed top-3 right-3 bg-white rounded-full shadow-md p-2 text-gray-700 text-2xl z-40",onClick:()=>u(!l),"aria-label":"Abrir men",style:{minWidth:"48px",minHeight:"48px"},children:""}),l&&h&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40 flex",onClick:()=>u(!1),children:m.jsxs("div",{className:"bg-white w-full h-full p-6 shadow-lg flex flex-col items-end overflow-y-auto max-h-screen",onClick:z=>z.stopPropagation(),children:[m.jsxs("div",{className:"mb-6 text-xl font-bold text-blue-600 flex items-center gap-2 w-full justify-end",children:[" Pes Stats Zone",m.jsx("button",{className:"ml-2 text-gray-400 text-2xl",onClick:()=>u(!1),"aria-label":"Cerrar men",tabIndex:0,children:""})]}),m.jsxs("div",{className:"w-full grid grid-cols-3 gap-4",children:[M.map(({path:z,label:G})=>m.jsx(Yf,{to:z,className:`${U()} flex items-center justify-center rounded-xl p-3 text-3xl`,onClick:()=>u(!1),"aria-label":z,title:z,children:m.jsx("span",{className:k(z),children:G})},z)),r&&m.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl p-3 border text-center",children:[m.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"DT"}),m.jsx("span",{className:"text-sm font-semibold text-gray-800 break-words",children:Re(r.displayName)})]}),m.jsx("button",{onClick:()=>{u(!1),V()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:m.jsx("span",{className:"text-s mt-1",children:"Reiniciar"})}),m.jsx("button",{onClick:()=>{u(!1),I()},className:"flex flex-col items-center justify-center rounded-xl p-3 text-red-600",children:m.jsx("span",{className:"text-s mt-1",children:"Salir"})}),m.jsx("div",{className:"flex flex-col items-center justify-center rounded-xl border text-center",children:m.jsx("span",{children:"Versin: 005"})})]})]})})]})}const G6=()=>{const{user:r,loading:e}=Bn();return F.useEffect(()=>(e&&he.Loading.circle("Cargando"),()=>{he.Loading.remove()}),[e]),e?null:r?m.jsxs("div",{children:[m.jsx(H6,{}),m.jsx(o_,{})]}):m.jsx(Ba,{to:"/",replace:!0})},$6=({value:r,onChange:e})=>m.jsxs("div",{children:[m.jsx("input",{type:"date",name:"fecha",value:r,onChange:e,className:"w-full border rounded p-2"}),m.jsx("p",{className:"text-xs text-gray-500",children:"Fecha del Partido"})]}),X6=({value:r,onChange:e,onBlur:t,suggestions:a=[]})=>m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Rival"}),m.jsx("input",{type:"text",name:"rival",value:r||"",onChange:e,onBlur:t,list:"sugerencias-rivales",placeholder:"Rival (nombre completo)",className:"w-full border rounded p-2",autoComplete:"off"}),m.jsx("datalist",{id:"sugerencias-rivales",children:(a||[]).slice().sort((o,l)=>Re(o).localeCompare(Re(l),"es",{sensitivity:"base"})).map(o=>m.jsx("option",{value:Re(o)},o))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un rival nuevo."})]});function Y6({value:r,onChange:e,onBlur:t,suggestions:a=[]}){return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Torneo"}),m.jsx("input",{type:"text",name:"torneoName",value:r||"",onChange:e,onBlur:t,list:"torneos-list",placeholder:"Ej: Copa Argentina",className:"w-full border rounded p-2",autoComplete:"off"}),m.jsx("datalist",{id:"torneos-list",children:(a||[]).map(o=>m.jsx("option",{value:Re(o)},o))}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista o escrib un torneo nuevo."})]})}const K6=({formations:r=[],value:e,onChange:t,disabled:a})=>{const o=Array.isArray(r)?r:r&&typeof r=="object"?Object.values(r):[],l=Array.from(new Set(o.map(u=>u?.captain).filter(u=>typeof u=="string"&&u.trim()!=="")));return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Capitn"}),m.jsxs("select",{disabled:a,className:"w-full border rounded p-2",value:e||"",onChange:u=>t(u.target.value),children:[m.jsx("option",{value:"",children:"-- Eleg un capitn --"}),l.map(u=>m.jsx("option",{value:u,children:Re?Re(u):u},u))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg al Capitn de tu Equipo"})]})},Q6=({players:r=[],starters:e=[],value:t=[],onChange:a,disabled:o})=>{const l=r.filter(h=>!e.includes(h)),u=h=>{const y=h.target.value;y&&(t.includes(y)||a([...t,y]))};return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Suplentes"}),m.jsxs("select",{disabled:o,className:"w-full border rounded p-2",onChange:u,defaultValue:"",name:"substitutes",children:[m.jsx("option",{value:"",children:"Lista de Suplentes"}),l.sort((h,y)=>h.localeCompare(y,"es",{sensitivity:"base"})).map(h=>m.jsx("option",{value:h,children:Re(h)},h))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los jugadores que ingresaron"}),m.jsx("ul",{className:"flex flex-wrap gap-2 mt-2",children:t.map(h=>m.jsxs("li",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-lg",children:[Re(h),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 pl-1",onClick:()=>a(t.filter(y=>y!==h)),children:""})]},h))})]})},W6=r=>e=>{const{name:t,value:a,type:o,checked:l}=e.target;r({type:"ACTUALIZAR_CAMPO",campo:t,valor:o==="checkbox"?l:a})},Uv=(r,e,t)=>a=>{const o=(a.target.value||"").trim();if(!o){he.Notify.failure(t);return}const l=Re(o);l!==o&&r({type:"ACTUALIZAR_CAMPO",campo:e,valor:l})},J6=(r,e,t)=>a=>{const o=r?.[e]?.formations,u=(Array.isArray(o)?o:o&&typeof o=="object"?Object.values(o):[]).find(y=>(y?.captain||"")===a),h=Array.isArray(u?.starters)?u.starters:[];t({type:"SET_FORMACION",payload:{captain:a,starters:h}})},Z6=({disabled:r,onClick:e})=>m.jsx("div",{children:m.jsx("button",{type:"button",disabled:r,className:"bg-green-500 text-white rounded w-full p-2 font-bold disabled:opacity-50 disabled:cursor-not-allowed",onClick:e,children:"Guardar"})}),e5=async({uid:r,matchState:e,activeClub:t,ownGoals:a,rivalGoals:o,condition:l,rivalName:u,autogolesFavor:h=0})=>{if(!r)throw new Error("UID no disponible; no se puede guardar.");if(!t)throw new Error("saveMatch: activeClub vaco");if(!Number.isFinite(a)||!Number.isFinite(o))throw new Error("saveMatch: ownGoals/rivalGoals invlidos");const{fecha:y,captain:g,starters:b,substitutes:w,goleadoresActiveClub:E,goleadoresRivales:k}=e||{},U=y?new Date(y).getFullYear():null,V=e?.torneoName?.trim()||"",I=V&&U?`${V} ${U}`:V||"";if(!y||!u)throw new Error("Faltan completar campos");const M=crypto?.randomUUID&&crypto.randomUUID()||String(Date.now()),z=a>o?"ganado":a<o?"perdido":"empatado",G=z==="ganado"?3:z==="empatado"?1:0,ne=a,re=o,ce=ne-re,N=l==="visitante"?`${u} ${re} - ${ne} ${t}`:`${t} ${ne} - ${re} ${u}`,A={id:M,fecha:y,captain:g,condition:l,rival:u,club:t,torneoName:V,torneoYear:U,torneoDisplay:I,createdAt:Date.now(),starters:b,substitutes:w,goleadoresActiveClub:E||[],goleadoresRivales:k||[],final:z,points:G,golFavor:ne,golContra:re,dfGol:ce,resultMatch:N,autogolesFavor:h},C=Mn(vn,"users",r);await Kc(C,{torneosIndex:Hf(V.toLowerCase()),rivalesIndex:Hf(u.toLowerCase())},{merge:!0});const R=_e?_e(t):t;await Na(C,{[`lineups.${R}.matches`]:Hf(A)});const D=Mn(vn,"users",r),q=ue=>ue?.isOwnGoal||ue?.name==="__OG__";for(const ue of e.goleadoresActiveClub||[]){if(q(ue))continue;const Ve=_e(ue.name||"");if(!Ve)continue;const L=`lineups.${R}.playersStats.${Ve}`,te={},de=(ue.gol?1:0)+(ue.doblete?2:0)+(ue.triplete?3:0);de>0&&(te[`${L}.goals`]=jn(de)),ue.doblete&&(te[`${L}.dobletes`]=jn(1)),ue.triplete&&(te[`${L}.hatTricks`]=jn(1)),ue.expulsion&&(te[`${L}.expulsiones`]=jn(1)),Object.keys(te).length>0&&await Na(D,te)}for(const ue of e.goleadoresRivales||[]){if(q(ue))continue;const Ve=_e(ue.name||"");if(!Ve)continue;const L=`lineups.${R}.rivalsPlayers.${Ve}`,te={};te[`${L}.matchesPlayed`]=jn(1);const de=(ue.gol?1:0)+(ue.doblete?2:0)+(ue.triplete?3:0);de>0&&(te[`${L}.goals`]=jn(de)),ue.doblete&&(te[`${L}.dobletes`]=jn(1)),ue.triplete&&(te[`${L}.hatTricks`]=jn(1)),ue.expulsion&&(te[`${L}.expulsiones`]=jn(1)),Object.keys(te).length>0&&await Na(D,te)}const O=(()=>{const Ve=(te=>(te||"").toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"_").replace(/^_|_$/g,""))(V),L=(U??"").toString().trim()||"s_a";return`${Ve}_${L}`})(),nt=new Set((b||[]).map(ue=>_e(ue)).filter(Boolean));g&&nt.add(_e(g));const ct=new Set((w||[]).map(ue=>_e(ue)).filter(ue=>ue&&!nt.has(ue))),W={},me=(ue,{start:Ve=0,sub:L=0})=>{if(!ue)return;const te=`lineups.${R}.playersStats.${ue}`,de=`${te}.totals`,fe=`${te}.byTournament.${O}`;W[`${de}.matchesPlayed`]=jn(1),W[`${fe}.matchesPlayed`]=jn(1),Ve&&(W[`${de}.starts`]=jn(1),W[`${fe}.starts`]=jn(1)),L&&(W[`${de}.subs`]=jn(1),W[`${fe}.subs`]=jn(1))};return nt.forEach(ue=>me(ue,{start:1})),ct.forEach(ue=>me(ue,{sub:1})),Object.keys(W).length>0?(W[`lineups.${R}.updatedAt`]=il(),await Na(C,W)):console.log("[STATS] sin apariciones que sumar"),{id:M}},t5=async({uid:r,matchState:e,activeClub:t,matchDispatch:a,navigate:o})=>{if(!r){console.error("[handleSaveMatch] uid vaco; no se puede guardar."),he.Notify.failure("No hay usuario autenticado (uid vaco).");return}if(!t){console.warn("[handleSaveMatch] activeClub vaco; bloqueando guardado."),he.Notify.warning("Eleg un club antes de guardar el partido.");return}const l=V=>(V.gol?1:0)+(V.doblete?2:0)+(V.triplete||V.hattrick?3:0),u=(e?.goleadoresActiveClub||[]).filter(V=>V.activeClub===t),h=e?.goleadoresRivales||[],g=u.reduce((V,I)=>V+l(I),0)+(e?.autogolesFavor||0),b=h.reduce((V,I)=>V+l(I),0),w=e?.rival||"Rival",E=(e?.condition||e?.condicion||"neutro").toLowerCase();let k;E==="visitante"?k=`${w} ${b} - ${g} ${Re(t)}`:k=`${Re(t)} ${g} - ${b} ${w}`;const U={uid:r,activeClub:t,condition:E,ownGoals:g,ownGoalsFromOG:e?.autogolesFavor||0,rivalGoals:b,ownScorers:u?.length??0,rivalScorers:h?.length??0,rivalName:w};he.Confirm.show("Confirmar Resultado",k,"Confirmar","Volver",async()=>{try{he.Loading.standard("Guardando partido... "),await e5({uid:r,activeClub:t,matchState:e,ownGoals:g,rivalGoals:b,condition:E,rivalName:w,autogolesFavor:e?.autogolesFavor||0}),he.Notify.success("Partido guardado correctamente "),a({type:"RESET_FORM"}),o("/versus")}catch(V){const I={name:V?.name,code:V?.code,message:V?.message};console.error("[handleSaveMatch] Error al guardar",{...I,stack:V?.stack,context:U}),he.Report.failure("Error al guardar",[I.code?`Cdigo: ${I.code}`:"",I.name?`Tipo: ${I.name}`:"",I.message?`Mensaje: ${I.message}`:"",`Club: ${t} | ${g}-${b} vs ${w}`].filter(Boolean).join(`
`),"Cerrar")}finally{he.Loading.remove()}})},n5=({value:r,onChange:e})=>m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Donde se jug?"}),m.jsxs("div",{className:"flex flex-wrap gap-2 list-disc list-inside",children:[m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"local",checked:r==="local",onChange:e}),m.jsx("span",{className:"ml-2",children:"Local"})]}),m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"visitante",checked:r==="visitante",onChange:e}),m.jsx("span",{className:"ml-2",children:"Visitante"})]}),m.jsxs("label",{className:"flex items-center space-x-1 bg-gray-100 px-3 py-1 rounded-lg",children:[m.jsx("input",{type:"radio",name:"condition",value:"neutro",checked:r==="neutro",onChange:e}),m.jsx("span",{className:"ml-2",children:"Neutro"})]})]})]}),r5=r=>e=>{r({type:"SET_SUBS",payload:{substitutes:e}})},i5=({state:r,dispatch:e,disabled:t})=>{const a=r.starters,o=r.substitutes,l=[...a,...o],u=r.activeClub,h=g=>{const b=g.target.value;if(b==="__OG__"){e({type:"ADD_GOLEADOR",payload:{name:"__OG__",activeClub:u,gol:!0,isOwnGoal:!0}}),g.target.value="";return}r.goleadoresActiveClub.some(E=>E.name===b&&E.activeClub===u)||e({type:"ADD_GOLEADOR",payload:{name:b,activeClub:u}})},y=r.goleadoresActiveClub.filter(g=>g.activeClub===u);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores e Incidencias"}),m.jsxs("select",{disabled:t,className:"w-full border rounded p-2",onChange:h,defaultValue:"",name:"incidents",children:[m.jsx("option",{value:"",children:"Lista de Jugadores"}),m.jsx("option",{value:"__OG__",children:" Gol en contra (rival)"}),l.sort((g,b)=>g.localeCompare(b,"es",{sensitivity:"base"})).map(g=>m.jsx("option",{value:g,children:Re(g)},g))]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Eleg de la lista los goleadores o jugadores que sufrieron una expulsion"}),m.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...y].reverse().map(g=>{const b=g.isOwnGoal||g.name==="__OG__",w=b?"Gol en contra (rival)":Re(g.name);return m.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:w}),m.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[m.jsx("input",{type:"checkbox",className:"ml-4",checked:g.gol,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:g.name,activeClub:u,event:"gol"}})}),"Gol"]}),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>e({type:"REMOVE_GOLEADOR",payload:{name:g.name,activeClub:u}}),children:""})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[!b&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:g.doblete,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:g.name,activeClub:u,event:"doblete"}})}),"Doblete"]}),!b&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:g.triplete,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:g.name,activeClub:u,event:"triplete"}})}),"Hat Trick"]}),!b&&m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:g.expulsion,onChange:()=>e({type:"TOGGLE_EVENT",payload:{name:g.name,activeClub:u,event:"expulsion"}})}),"Expulsin"]})]})]},`${g.name}-${g.activeClub}`)})})]})},a5=({state:r,dispatch:e,disabled:t})=>{const{uid:a}=Bn(),{state:o,dispatch:l}=ii(),{state:u,dispatch:h}=ai();Qc(a,l,h);const[y,g]=F.useState(null),b=Object.keys(u?.lineups||[]),[w,E]=F.useState(u?.activeClub||b[0]||""),k=_e(w||""),U=k?u?.lineups?.[k]:null;F.useEffect(()=>{U&&Object.keys(U).length!==0&&g(U)},[U]);const V=Array.isArray(y?.matches)?y.matches:[];console.log("matches",V);const I=r.rival?.trim()||"",M=!!I&&!t,z=F.useMemo(()=>{const N=(r.goleadoresRivales||[]).map(R=>(R?.name||"").toString().trim()).filter(Boolean),A=_e(I||""),C=(V||[]).filter(R=>_e(R?.rival||"")===A).flatMap(R=>(R?.goleadoresRivales||[]).map(D=>(D?.name||"").toString().trim()).filter(Boolean));return Array.from(new Set([...C,...N])).sort((R,D)=>R.localeCompare(D,"es",{sensitivity:"base"}))},[r.goleadoresRivales,V,I]),[G,ne]=F.useState(""),re=N=>{const A=(N||"").trim();!A||(r.goleadoresRivales||[]).some(R=>R.name===A&&R.club===I)||(e({type:"RIVAL_ADD",payload:{name:A,club:I,gol:!1,doblete:!1,triplete:!1,expulsion:!1}}),ne(""))},ce=F.useMemo(()=>(r.goleadoresRivales||[]).filter(N=>N.club===I),[r.goleadoresRivales,I]);return m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-sm text-gray-600",children:"Goleadores Rivales"}),m.jsx("input",{type:"text",name:"rivalScorer",disabled:!M,placeholder:M?"Apellido (usa Rival como club)":"Completa Rival primero",list:"rival-players-list",className:"w-full border rounded p-2",autoComplete:"off",value:G,onChange:N=>ne(N.target.value),onKeyDown:N=>{N.key==="Enter"&&re(G)},onInput:N=>{z.includes(N.currentTarget.value)&&re(N.currentTarget.value)}}),m.jsx("datalist",{id:"rival-players-list",children:z.map(N=>m.jsx("option",{value:N},N))}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Escrib solo el ",m.jsx("b",{children:"Apellido"}),". El club se toma del campo ",m.jsx("b",{children:"Rival"}),"."]}),m.jsx("ul",{className:"flex flex-col gap-2 mt-2",children:[...ce].reverse().map(N=>m.jsxs("li",{className:"border p-3 rounded-lg shadow-sm bg-white space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-semibold text-blue-700 flex-1",children:Re(N.name)}),m.jsxs("label",{className:"flex items-center gap-1 text-sm flex-1 justify-center",children:[m.jsx("input",{type:"checkbox",className:"ml-4",checked:N.gol,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:N.name,club:N.club,field:"gol"}})}),"Gol"]}),m.jsx("button",{type:"button",className:"text-red-500 hover:text-red-700 flex-1 text-right",onClick:()=>e({type:"RIVAL_REMOVE",payload:{name:N.name,club:N.club}}),children:""})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:N.doblete,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:N.name,club:N.club,field:"doblete"}})}),"Doblete"]}),m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:N.triplete,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:N.name,club:N.club,field:"triplete"}})}),"Triplete"]}),m.jsxs("label",{className:"flex items-center gap-1 text-sm",children:[m.jsx("input",{type:"checkbox",checked:N.expulsion,onChange:()=>e({type:"RIVAL_TOGGLE",payload:{name:N.name,club:N.club,field:"expulsion"}})}),"Expulsin"]})]})]},`${N.name}-${N.club}`))})]})};function oc(r){return(r.gol?1:0)+(r.doblete?2:0)+(r.triplete||r.hattrick?3:0)}function zv(r){const e=r?.filter(t=>t.expulsion||t.expulsado)||[];return e.length?e.map(t=>Re(t.name)):[]}const Af=({items:r,tone:e="slate"})=>{if(!r||r===""||r.length===0)return m.jsx("span",{className:"text-slate-400",children:""});const t=e==="red"?"bg-red-50 text-red-700 ring-1 ring-red-200":"bg-slate-50 text-slate-700 ring-1 ring-slate-200";return m.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((a,o)=>m.jsx("span",{className:`px-2.5 py-1 rounded-full text-sm ${t}`,children:a},`${a}-${o}`))})},Nf=({title:r,children:e})=>m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("div",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:r}),e]}),s5=({state:r,activeClub:e})=>{const t=r?.rival||"Rival",a=r?.torneoDisplay||r?.torneoName||r?.torneo||"",l=(r?.goleadoresActiveClub||[]).filter(M=>M.activeClub===e),u=r?.goleadoresRivales||[],h=l.reduce((M,z)=>M+oc(z),0),y=u.reduce((M,z)=>M+oc(z),0),g=(u||[]).filter(M=>M?.enContra||M?.autogol||M?.og||M?.ogContra).length,b=h+g,w=(r?.condition||r?.condicion||"neutro").toLowerCase(),E=w==="visitante"?`${t} ${y} - ${b} ${Re(e)}`:`${Re(e)} ${b} - ${y} ${t}`,k=(l||[]).filter(M=>oc(M)>0).map(M=>{const z=oc(M),G=M.isOwnGoal||M.name==="__OG__"?"Gol en contra":Re(M.name);return z>1?`${G} (${z})`:G}),U=(Array.isArray(u)?u:[]).filter(M=>!(M.expulsion||M.expulsado)).map(M=>{const z=oc(M),G=z>1?` (${z})`:"",ne=M?.enContra||M?.autogol||M?.og||M?.ogContra?" (EC)":"";return`${Re(M.name)}${G}${ne}`}),V=zv(l),I=zv(u);return m.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-6 shadow-sm space-y-5",children:[a?m.jsx("div",{className:"flex items-center justify-between",children:m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-violet-50 text-violet-700 ring-1 ring-violet-200",children:Re(a)})}):null,m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:E}),w!=="neutro"&&m.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-50 text-blue-700 ring-1 ring-blue-200",children:w==="visitante"?"Visitante":"Local"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsx(Nf,{title:`Goleadores ${Re(e)}`,children:m.jsx(Af,{items:k})}),m.jsx(Nf,{title:`Goleadores ${t}`,children:m.jsx(Af,{items:U})})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsx(Nf,{title:`Expulsados ${Re(e)}`,children:m.jsx(Af,{items:V,tone:"red"})}),m.jsx(Nf,{title:`Expulsados ${t}`,children:m.jsx(Af,{items:I,tone:"red"})})]})]})},o5=({activeClub:r,matchState:e,matchDispatch:t})=>{F.useEffect(()=>{r&&e.activeClub!==r&&t({type:"ACTUALIZAR_CAMPO",campo:"activeClub",valor:r})},[r,e.activeClub,t])},l5=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai(),{activeClub:l,lineups:u}=a,h=md(),y=W6(t),g=J6(u,l,t),b=r5(t);o5({activeClub:l,matchState:e,matchDispatch:t});const w=a?.activeClub||e?.activeClub||"",E=_e?_e(w):w,k=a?.lineups?.[E]||{},U=(k.players?.length??0)>0,V=(k.formations?.length??0)>0,I=k.playersStats?Object.keys(k.playersStats).length>0:!1;return!E||!U&&!V&&!I?m.jsx(Ba,{to:"/formacion",replace:!0}):m.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Registrar Partido"}),m.jsxs("form",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[m.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center",children:m.jsx("span",{className:"text-lg font-bold text-blue-700",children:e.activeClub?Re(e.activeClub):"Esperando Nombre del Club"})}),m.jsx($6,{value:e.fecha,onChange:y}),m.jsx(X6,{value:e.rival,onChange:y,onBlur:Uv(t,"rival","El campo Rival es Obligatorio"),suggestions:e.rivalesIndex}),m.jsx(Y6,{value:e.torneoName,onChange:y,suggestions:e.torneosIndex,onBlur:Uv(t,"torneoName","El campo Torneo es Obligatorio")}),m.jsx(n5,{value:e.condition,onChange:y}),m.jsx(K6,{disabled:e.substitutes.length>0,formations:u?.[l]?.formations||[],value:e.captain,onChange:g}),m.jsx(Q6,{disabled:!e.captain,players:u?.[l]?.players||[],value:e.substitutes,onChange:b,starters:e.starters,substitutes:e.substitutes}),m.jsx(i5,{state:e,dispatch:t,disabled:!e.captain}),m.jsx(a5,{state:e,dispatch:t,disabled:!e.rival}),m.jsx(s5,{state:e,activeClub:e.activeClub}),m.jsx(Z6,{disabled:!r||!e.fecha||!e.rival||!e.torneoName||!e.condition,onClick:M=>{M.preventDefault(),t5({uid:r,matchState:e,activeClub:l,matchDispatch:t,navigate:h})}})]})]})},c5=(r=[])=>F.useMemo(()=>{const e=new Set;for(const t of r){const a=(t?.captain||"").trim();a&&e.add(a)}return Array.from(e)},[r]),Bv=r=>r==null?0:parseInt(r,10)||0,Cf=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),u5=(r=[])=>F.useMemo(()=>{const e={};for(const t of r){const a=t?.rivalName||t?.rival||t?.opponent||"Rival Desconocido",o=Bv(t?.golesPropios??t?.golFavor??t?.golesFavor??t?.gf),l=Bv(t?.golesRival??t?.golContra??t?.golesContra??t?.gc),u=t?.condition==="local"&&"local"||t?.condition==="visitante"&&"visitante"||"general",h=(t?.captain||"").trim();e[a]||(e[a]={general:Cf(),local:Cf(),visitante:Cf()});const y=o>l?"g":o===l?"e":"p",g=b=>{b.pj++,b[y]++,b.gf+=o,b.gc+=l};g(e[a].general),u!=="general"&&g(e[a][u]),h&&(e[a][h]||(e[a][h]=Cf()),g(e[a][h]))}return e},[r]),f5=(r,e,t,a)=>F.useMemo(()=>[...Object.entries(r)].sort((u,h)=>{if(t==="rival")return a==="asc"?u[0].localeCompare(h[0]):h[0].localeCompare(u[0]);const y=u[1]?.[e]?.[t]??0,g=h[1]?.[e]?.[t]??0;return a==="asc"?y-g:g-y}),[r,e,t,a]),d5=(r={})=>{const{g:e=0,e:t=0,p:a=0}=r;return e>=t&&e>a?"bg-green-100":a>e&&a>=t?"bg-red-100":e===a&&e>t||e===t&&e===a||t>=e&&t>=a?"bg-yellow-100":"bg-pink-100"},Rp=r=>typeof r=="string"&&r.trim()?Re(r):String(r??""),h5=r=>r==="general"?"General":r==="local"?"Local":r==="visitante"?"Visitante":Rp(r),m5=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0}),p5=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai();Qc(r,t,o);const[l,u]=F.useState(null),h=Object.keys(a?.lineups||[]),[y,g]=F.useState(a?.activeClub||h[0]||""),b=_e(y||""),w=b?a?.lineups?.[b]:null,E=a?.lineups?.[b]||{},k=(E.players?.length??0)>0,U=(E.formations?.length??0)>0,V=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!b||!k&&!U&&!V)return m.jsx(Ba,{to:"/formacion",replace:!0});F.useEffect(()=>{w&&Object.keys(w).length!==0&&u(w)},[w]);const I=Array.isArray(l?.matches)?l.matches:[],[M,z]=F.useState("general"),[G,ne]=F.useState("rival"),[re,ce]=F.useState("asc"),N=c5(I),A=u5(I),C=f5(A,M,G,re),R=F.useMemo(()=>["general","local","visitante",...N],[N]);return m.jsxs("div",{className:"p-4 max-w-7xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:" Estadsticas del Equipo"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-2 items-end justify-center",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:y,onChange:D=>g(D.target.value),children:h.map(D=>m.jsx("option",{value:D,children:Rp(D)},D))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"mbito"}),m.jsxs("select",{className:"border p-1 rounded text-sm",value:M,onChange:D=>z(D.target.value),children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"local",children:"Local"}),m.jsx("option",{value:"visitante",children:"Visitante"}),N.map(D=>m.jsx("option",{value:D,children:Rp(D)},D))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Campo"}),m.jsxs("select",{value:G,onChange:D=>ne(D.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"rival",children:"Nombre"}),m.jsx("option",{value:"pj",children:"PJ"}),m.jsx("option",{value:"g",children:"G"}),m.jsx("option",{value:"e",children:"E"}),m.jsx("option",{value:"p",children:"P"}),m.jsx("option",{value:"gf",children:"GF"}),m.jsx("option",{value:"gc",children:"GC"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),m.jsxs("select",{value:re,onChange:D=>ce(D.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"asc",children:"Ascendente"}),m.jsx("option",{value:"desc",children:"Descendente"})]})]})]}),m.jsx("div",{className:"max-h-[80vh] w-[100%] mx-auto overflow-auto border rounded",children:m.jsxs("table",{className:"w-full table-fixed text-[11px] md:text-sm border-collapse",children:[m.jsx("thead",{className:"bg-blue-200 sticky top-0 shadow-lg",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border px-2 py-2 w-[70px] text-left font-bold",children:"Rival"}),R.map(D=>m.jsx("th",{className:"border px-2 py-1 text-center w-[100px]",children:h5(D)},D))]})}),m.jsx("tbody",{children:C.map(([D,q],O)=>{const nt=O%2===0?"bg-white":"bg-gray-200";return m.jsxs("tr",{className:nt,children:[m.jsx("td",{className:"border px-2 py-2 font-semibold text-left",children:m.jsx("div",{title:D,children:D})}),R.map(ct=>{const W=q[ct]||m5(),me=W.pj>0?d5(W):nt,ue=W.gf-W.gc,Ve=ue>0?"text-green-800":ue<0?"text-red-800":"text-gray-700",L=ue>0?`${ue}`:ue<0?`${Math.abs(ue)}`:"0";return W.pj===0?m.jsx("td",{className:`border px-1 py-1 text-center align-middle ${nt}`,children:m.jsx("span",{className:"text-xl font-black text-gray-900 leading-none",children:""})},ct):m.jsx("td",{className:`border px-1 py-1 whitespace-pre-line text-center align-top ${me}`,children:m.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[m.jsxs("div",{className:"text-[12px] text-gray-500 flex items-center gap-3 lg:gap-5",children:[m.jsx("span",{children:"G"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"E"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"P"})]}),m.jsxs("div",{className:"font-bold tabular-nums flex items-center gap-3 lg:gap-4",children:[m.jsx("span",{children:W.g}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:W.e}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:W.p})]}),m.jsxs("div",{className:"text-[12px] text-gray-500 flex items-center gap-1 lg:gap-3",children:[m.jsx("span",{children:"PJ"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"GF"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:"GC"}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{className:!0,children:"DF"})]}),m.jsxs("div",{className:"font-bold tabular-nums flex items-center gap-2 lg:gap-4",children:[m.jsx("span",{children:W.pj}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:W.gf}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{children:W.gc}),m.jsx("span",{className:"text-gray-400",children:""}),m.jsx("span",{className:Ve,children:L})]})]})},ct)})]},D)})})]})})]})};function nE(r,e,t=""){const a=F.useRef(!1),[o,l]=F.useState(!1),u=h=>{if(h&&typeof h.toMillis=="function")return h.toMillis();const y=new Date(h).getTime();return Number.isFinite(y)?y:0};return F.useEffect(()=>{if(!r){l(!0);return}a.current||(async()=>{a.current=!0,he.Loading.circle("Cargando datos del club...");try{const h=await Yc(Mn(vn,"users",r));if(!h.exists())return;const y=h.data(),g=y?.lineups||{},b=Object.keys(g).map(_e),w=Array.isArray(y?.managedClubs)?y.managedClubs.map(_e).filter(G=>b.includes(G)):[],E=b.map(G=>[G,u(g[G]?.updatedAt)]).sort((G,ne)=>ne[1]-G[1]).map(([G])=>G),k=[...w,...E.filter(G=>!w.includes(G))];e({type:"SET_MANAGED_CLUBS",payload:{clubs:k}});let U="",V=0;const I=[];for(const[G,ne]of Object.entries(g)){const re=Array.isArray(ne.players)?ne.players.map(_e):[],ce=ne.formations?Object.entries(ne.formations).map(([C,R])=>{const D=R?.createdAt&&typeof R.createdAt?.toDate=="function"?R.createdAt.toDate().toISOString():String(R?.createdAt||new Date().toISOString());return{id:C,createdAt:D,captain:_e(R?.captain||""),starters:Array.isArray(R?.starters)?R.starters.map(_e):[]}}).sort((C,R)=>new Date(R.createdAt)-new Date(C.createdAt)):[],N=_e(G);I.push(N);const A=u(ne?.updatedAt);A>V&&(V=A,U=N),e({type:"LINEUPS_UPSERT_BUCKET",payload:{club:N,bucket:{label:ne.label??G,players:re,formations:ce}}})}let M="";const z=y?.activeClub?_e(y.activeClub):"";if(z&&I.includes(z))M=z;else if(w.length)for(let G=w.length-1;G>=0;G--){const ne=w[G];if(I.includes(ne)){M=ne;break}}M||(M=U||""),M&&M!==t&&e({type:"SAVE_CLUB_NAME",payload:{name:M}})}catch{he.Notify.failure("Problemas al cargar la informacin de la nube")}finally{he.Loading.remove(),a.current=!1,l(!0)}})()},[r,e]),o}const g5=(r,e,t,a)=>{F.useEffect(()=>{if(!a)return;const o=Object.keys(r||{});if(!o.length||e)return;const l=o[0];t({type:kc,payload:{name:l}}),t({type:Ic})},[r,e,t,a])},y5=(r,e,t)=>{F.useEffect(()=>{if(!r){t("");return}const a=e?.[r]?.label||r,o=Re(a);t(l=>l===o?l:o)},[r,e,t])},x5=(r,e,t,a)=>{const o=F.useRef({clubKey:null,playersJson:""});F.useEffect(()=>{if(!r){console.log("[SYNC] skip: !uid");return}if(!e){console.log("[SYNC] skip: !activeClub");return}const l=_e(e);if(!l){console.log("[SYNC] skip: !clubKey (normalizeName dio vaco)");return}if(!Array.isArray(a)){console.log("[SYNC] skip: !Array.isArray(players)",{players:a});return}const u=[...new Set(a.map(_e))];if(u.length===0){console.log("[SYNC] skip: playersNorm vaco, no subo nada");return}const h=JSON.stringify(u),y=o.current;if(y.clubKey===l&&y.playersJson===h){console.log("[SYNC] skip: mismo payload que el ltimo write");return}(async()=>{try{await Na(Mn(vn,"users",r),{[`lineups.${l}.players`]:u,[`lineups.${l}.updatedAt`]:il()}),o.current={clubKey:l,playersJson:h},he.Notify.success("Plantel sincronizado")}catch(g){console.log("[SYNC] FAIL",g),he.Notify.failure("No se pudo sincronizar el plantel")}})()},[r,e,a])},b5=(r,e)=>{F.useEffect(()=>{r||(e({type:Mg}),e({type:Ld,payload:{club:"",bucket:{}}}))},[r,e])},v5=({teamName:r})=>m.jsxs("div",{children:[" ",m.jsxs("h1",{className:"text-2xl font-bold mb-2",children:[m.jsx("span",{className:"text-blue-700 underline",children:"Equipo del DT:"})," ",m.jsxs("span",{className:"block text-center text-3xl font-extrabold tracking-wide text-emerald-600 drop-shadow-sm -mt-8",children:[m.jsx("br",{}),Re(r)]})]})]}),_5=({value:r,onChange:e,onBlurSave:t,onConfirm:a,suggestions:o=[],disabled:l})=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:"teamName",children:"Nombre del Equipo"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("input",{type:"text",id:"teamName",value:r,onChange:u=>e(u.target.value),onBlur:t,disabled:l,onKeyDown:u=>{u.key==="Enter"&&(u.preventDefault(),a())},className:"w-full p-2 border rounded",list:"club-suggestions",placeholder:"Ej.: Newell's, Talleres CBA, Instituto"}),m.jsx("datalist",{id:"club-suggestions",children:(o||[]).map(({key:u,label:h})=>m.jsx("option",{value:h},u))}),m.jsx("button",{type:"button",className:"bg-blue-500 text-white rounded px-3",onClick:a,children:"Guardar Equipo"})]})]}),Fv=({name:r,activeClub:e,lineups:t,dispatch:a,setValue:o})=>{const l=_e(e||""),u=_e(r||"");if(!l||!u)return;if(u.length<2){he.Notify.failure("Nombre corto");return}const h=(t?.[l]?.players||[]).map(_e);if(h.includes(u)){he.Notify.failure("Jugador repetido");return}a({type:"LINEUPS_UPSERT_BUCKET",payload:{club:l,bucket:{...t?.[l]||{},players:[...h,u]}}}),o?.("playerName",""),he.Notify.success("Jugador agregado")},w5=({form:r,changed:e,players:t=[],dispatch:a,setValue:o,activeClub:l,lineups:u})=>{const[h,y]=F.useState(r?.playerName||"");return F.useEffect(()=>{y(r?.playerName||"")},[r?.playerName]),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"playerName",children:"Jugadores"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("input",{type:"text",name:"playerName",id:"playerName",value:h,onChange:g=>{y(g.target.value),e?.(g)},className:"w-full p-2 border rounded",placeholder:"Aadir jugador",onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),Fv({name:h,activeClub:l,lineups:u,dispatch:a,setValue:o}),y(""))}}),m.jsx("button",{type:"button",onClick:()=>Fv({name:h,activeClub:l,lineups:u,dispatch:a,setValue:o}),className:"bg-blue-500 text-white  rounded",children:"Aadir Jugador"})]})]})},E5=(r,e,t)=>{if(!r){he.Notify.failure("Que Equipo dirigs?");return}e(!0),t({type:Og})},T5=({players:r=[],selectedOption:e,dispatch:t,teamName:a,setShowForm:o,activeClub:l,uid:u})=>!Array.isArray(r)||r.length===0?null:m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"flex items-baseline justify-between",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Jugadores aadidos"}),m.jsxs("span",{className:"text-sm text-gray-500",children:["Total: ",r.length]})]}),m.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-1.5",children:[...r].sort((h,y)=>h.localeCompare(y,"es",{sensitivity:"base"})).map(h=>m.jsxs("div",{className:"flex items-center justify-between rounded-md bg-gray-50 border border-gray-200 px-2 py-1.5 hover:bg-gray-100",children:[m.jsx("span",{className:"truncate text-gray-800",title:Re(h),children:Re(h)}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("button",{type:"button",className:"md:hidden text-gray-400 hover:text-gray-600 text-sm","aria-label":"Ver nombre completo",onClick:()=>he.Notify.info(Re(h)),children:""}),m.jsx("button",{type:"button","aria-label":`Eliminar ${Re(h)}`,title:"Eliminar",className:"inline-flex h-7 w-7 items-center justify-center rounded-full text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>{e===h&&t({type:Ss,payload:""}),t({type:Zw,payload:{name:h}}),he.Notify.success("Jugador eliminado")},children:""})]})]},h))}),m.jsx("button",{type:"button",onClick:()=>{E5(a,o,t),he.Notify.info("Nueva formacin")},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",children:"Nueva Formacin"})]}),S5=(r=[],e=[])=>F.useMemo(()=>{const t=Array.isArray(r)?r:[],a=Array.isArray(e)?e:[],o=t.filter(u=>!a.includes(u)).sort((u,h)=>u.localeCompare(h,"es",{sensitivity:"base"})),l=t.filter(u=>a.includes(u)).sort((u,h)=>u.localeCompare(h,"es",{sensitivity:"base"}));return{remaining:o,chosen:l}},[r,e]),A5=(r={},e="")=>{const t=r?.[e]||{};return[...Array.isArray(t.formations)?t.formations:[]].sort((l,u)=>new Date(u.createdAt)-new Date(l.createdAt))};async function N5({uid:r,teamName:e,lineups:t,dispatch:a}){const o=String(e||"").trim();if(!o)return he.Notify.failure("Qu equipo dirigs?");if(!r)return he.Notify.failure("No hay sesin.");const l=_e(o),u=Re(o);a({type:kc,payload:{name:l}});try{await Kc(Mn(vn,"users",r),{managedClubs:Hf(l),activeClub:l,lineups:{[l]:{label:u,players:t?.[l]?.players??[],formations:t?.[l]?.formations??[],playersStats:t?.[l]?.playersStats??{},rivalsPlayers:t?.[l]?.rivalsPlayers??{},matches:t?.[l]?.matches??[],updatedAt:il()}}},{merge:!0});const h=await Yc(Mn(vn,"users",r)),g=(h.exists()?h.data():null)?.lineups?.[l];if(g){const b=g?.formations?Object.entries(g.formations).map(([w,E])=>({id:w,...E})).sort((w,E)=>new Date(E.createdAt)-new Date(w.createdAt)):[];a({type:Ld,payload:{club:l,bucket:{label:g.label??u,players:g.players??[],formations:b,playersStats:g.playersStats??{},rivalsPlayers:g.rivalsPlayers??{},matches:g.matches??[]}}})}a({type:Ic}),he.Notify.success("Club guardado/activado")}catch(h){console.error(h),he.Notify.failure("No se pudo guardar el club en la nube")}}const qv=(r,e,t,a)=>{if(!r){he.Notify.failure("Eleg un capitn");return}const o=_e(r);if(!e.includes(o)){he.Notify.failure("Capitn invlido");return}if(t.length>=11&&!t.includes(o)){he.Notify.warning("Equipo Titular Completo");return}a({type:Qw,payload:{captain:o}}),he.Notify.success(`Capitn: ${Re(o)}`)},C5=({showForm:r,selectMode:e,players:t=[],selectedOption:a="",starters:o=[],dispatch:l})=>r&&e==="captain"&&Array.isArray(t)&&t.length>0?m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Arm tu Formacin Inicial"}),m.jsxs("select",{value:a,onChange:h=>l({type:Ss,payload:h.target.value}),onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),qv(a,t,o,l))},className:"border w-full",disabled:!Array.isArray(t)||t.length===0,children:[m.jsx("option",{value:"",children:"Seleccionar Capitn"}),[...Array.isArray(t)?t:[]].sort((h,y)=>h.localeCompare(y,"es",{sensitivity:"base"})).map(h=>m.jsx("option",{value:h,children:Re(h)},h))]}),m.jsx("button",{type:"button",onClick:()=>qv(a,t,o,l),className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:!Array.isArray(t)||t.length===0||!a,children:"Confirmar Capitn"})]}):null,R5=(r,e,t)=>{const a=_e(r||"");if(a){if(e.length>=11){he.Notify.warning("Ya hay 11");return}if(e.includes(a)){he.Notify.warning("Ya est en titulares");return}t({type:jg,payload:{player:a}}),t({type:Ss,payload:""}),he.Notify.success("Titular agregado")}},k5=(r,e,t)=>{const a=_e(r);if(!a){he.Notify.failure("Eleg un jugador");return}if(e.length>=11){he.Notify.warning("Ya hay 11");return}if(e.includes(a)){he.Notify.warning("Ya est en titulares");return}t({type:jg,payload:{player:a}}),he.Notify.success("Titular agregado")},I5=({selectedOption:r="",players:e=[],starters:t=[],remaining:a=[],chosen:o=[],dispatch:l})=>m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-800 mb-4 underline",children:"Arma tu Formacin Inicial"}),m.jsxs("select",{value:r,onChange:u=>{const h=u.target.value;l({type:Ss,payload:h}),R5(h,t,l)&&l({type:Ss,payload:""})},className:"border w-full",disabled:e.length===0||t.length>=11,children:[m.jsx("option",{value:"",children:"Eleg un titular"}),[...a].map(u=>m.jsx("option",{value:u,children:Re(u)},u)),m.jsx("option",{disabled:!0,value:"",children:" Ya elegidos "}),o.map(u=>m.jsx("option",{value:u,disabled:!0,children:Re(u)},u))]}),m.jsx("button",{type:"button",onClick:()=>{k5(r,t,l)&&l({type:Ss,payload:""})},className:"bg-blue-500 text-white rounded w-full p-2 mt-2",disabled:t.length>=11||r==="",children:"Agregar Jugador Titular"})]}),D5=async({starters:r=[],captainName:e="",activeClub:t="",teamName:a="",players:o=[],uid:l="",dispatch:u,setShowForm:h})=>{if(!Array.isArray(r)||r.length!==11)return he.Notify.failure("Debs elegir exactamente 11 titulares."),!1;if(!e){he.Notify.failure("Eleg un capitn.");return}if(!r.includes(e)){he.Notify.failure("El capitn debe estar entre los 11 titulares.");return}if(!t&&!a){he.Notify.failure("Guard el nombre del equipo antes de guardar la formacin.");return}if(!l){he.Notify.failure("No hay sesin.");return}const y=crypto&&crypto.randomUUID?crypto.randomUUID():String(Date.now()),g=_e(t||a),b=new Date().toISOString(),w=e,E=[...r];if(!g){he.Notify.failure("Falta el nombre del equipo.");return}u({type:Jw,payload:{id:y,name:a,captain:e,starters:E,createdAt:new Date,players:[...o]}});try{await Na(Mn(vn,"users",l),{[`lineups.${g}.formations.${y}`]:{createdAt:b,captain:w,starters:E},[`lineups.${g}.players`]:[...new Set(o.map(_e))],[`lineups.${g}.updatedAt`]:il()}),h(!1),he.Notify.success("Equipo guardado")}catch(k){console.error(k),he.Notify.failure("No se pudo guardar la formacin en la nube")}},O5=({captainName:r,starters:e=[],dispatch:t,activeClub:a,teamName:o,players:l=[],uid:u,setShowForm:h})=>{const y=!!r,g=Array.isArray(e)&&e.length>0;return m.jsxs("div",{children:[y&&m.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700",children:[m.jsx("strong",{children:"Capitn:"})," ",Re(r)]}),g&&m.jsxs("div",{children:[m.jsx("h1",{children:`Titulares (${e.length}/11)`}),m.jsx("ul",{className:"list-disc pl-5 grid grid-cols-3 gap-x-6 gap-y-2 mb-2",children:[...e].sort((b,w)=>b.localeCompare(w,"es",{sensitivity:"base"})).map(b=>m.jsxs("li",{className:"text-gray-700 flex items-center",children:[m.jsx("button",{type:"button",onClick:()=>{t({type:Ww,payload:{player:b}}),he.Notify.success("Jugador eliminado"),b===r&&he.Notify.info("Capitn eliminado. Volv a elegir un capitn.")},className:"mr-2","aria-label":`Eliminar ${Re(b)}`,title:"Eliminar",children:""}),m.jsx("span",{children:Re(b)})]},b))}),m.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2 mt-2",onClick:()=>D5({starters:e,captainName:r,activeClub:a,teamName:o,players:l,uid:u,dispatch:t,setShowForm:h}),disabled:e.length!==11||!r,children:"Guardar Titulares"})]})]})},j5=(r,e,t,a,o)=>{const l=_e(e||t);!a||!l||he.Confirm.show("Confirmar eliminacin","Seguro que quers eliminar esta formacin?","S, eliminar","Cancelar",async()=>{o({type:eE,payload:{id:r.id}}),he.Notify.success("Formacin eliminada");const u=_e(e||t);if(!(!a||!u))try{await Na(Mn(vn,"users",a),{[`lineups.${u}.formations.${r.id}`]:C6(),[`lineups.${u}.updatedAt`]:il()})}catch(h){console.error(h),he.Notify.failure("No se pudo eliminar en la nube")}},()=>{})},M5=(r,e,t)=>{he.Confirm.show("Nuevos Horizontes","Te vas a un nuevo Club??","S, ya firme contrato","no, apret sin querer",()=>{r(!1),e({type:Og}),e({type:Mg}),t("")},()=>{})},L5=({ordered:r=[],activeClub:e,teamName:t,uid:a,dispatch:o,setShowForm:l,setTeamName:u})=>!Array.isArray(r)||r.length===0?null:m.jsx("div",{children:r.length>0&&m.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-2",children:[m.jsx("h1",{className:"text-xl font-semibold text-green-700 mb-2 underline",children:"Formaciones"}),r.map(h=>{const g=[...Array.isArray(h.starters)?h.starters:[]].sort((k,U)=>k.localeCompare(U,"es",{sensitivity:"base"})),b=g.slice(0,4),w=g.slice(4,8),E=g.slice(8,11);return m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"grid md:grid-cols-3 gap-1 md:gap-2",children:[b,w,E].map((k,U)=>m.jsxs("ul",{className:"bg-gray-50 rounded-lg p-1 shadow-inner space-y-1",children:[k.map(V=>m.jsx("li",{className:`px-2 py-1.5 rounded text-left leading-tight ${V===h.captain?"bg-yellow-50 border-l-4 border-yellow-400 font-medium text-yellow-900":"hover:bg-gray-100 text-gray-800"}`,children:Re(V)},V)),U===2&&m.jsx("li",{className:"flex justify-center items-center",children:m.jsx("button",{type:"button","aria-label":"Eliminar formacin",className:"w-9 h-9 rounded-full bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 text-lg font-bold flex items-center justify-center shadow",onClick:()=>j5(h,e,t,a,o),children:""})})]},U))}),m.jsx("hr",{})]},h.id||h.createdAt.toString())}),m.jsx("button",{className:"bg-blue-500 text-white rounded w-full p-2",onClick:()=>M5(l,o,u),children:"Nuevo Club para Dirigir"})]})});function P5(r=[],e={}){return F.useMemo(()=>{const t=new Map;for(const a of Array.isArray(r)?r:[]){const o=_e(a);o&&t.set(o,Re(o))}for(const a of Object.keys(e||{})){const o=_e(a);if(!o)continue;const l=e[o]?.label||o;t.set(o,Re(l))}return[...t.entries()].map(([a,o])=>({key:a,label:o})).sort((a,o)=>a.label.localeCompare(o.label,"es",{sensitivity:"base"}))},[r,e])}const V5=async({uid:r,teamName:e,lineups:t,dispatch:a})=>{const o=(e||"").trim();if(!o)return;const l=_e(o);if(!l)return;if(t?.[l]){a({type:kc,payload:{name:l}}),a({type:Ic}),he.Notify.success("Equipo cargado desde memoria local");return}if(!r){he.Notify.info("No hay sesin para buscar en la nube");return}try{const h=await Yc(Mn(vn,"users",r));if(!h.exists()){he.Notify.info("No se encontraron datos guardados de ese club");return}const g=h.data()?.lineups?.[l];if(!g){he.Notify.info("No se encontraron datos guardados de ese club");return}const b=g.formations?Object.entries(g.formations).map(([w,E])=>({id:w,...E})).sort((w,E)=>new Date(E.createdAt)-new Date(w.createdAt)):[];a({type:Ld,payload:{club:l,bucket:{label:g.label??o,players:g.players??[],formations:b,playersStats:g.playersStats??{},rivalsPlayers:g.rivalsPlayers??{},matches:g.matches??[]}}}),a({type:kc,payload:{name:l}}),a({type:Ic}),he.Notify.success("Equipo cargado desde la nube")}catch(h){console.error(h),he.Notify.failure("No se pudo recuperar el equipo de la nube")}},U5=()=>{const{form:r,changed:e,setValue:t}=Dg(),{uid:a}=Bn(),[o,l]=F.useState(r.teamName||""),[u,h]=F.useState(r.playerName||""),y={...r,playerName:u},g=O=>{O?.target?.name==="playerName"&&h(O.target.value),e(O)},b=(O,nt)=>{O==="playerName"&&h(nt??""),t(O,nt)},{state:w,dispatch:E}=ai(),{captainName:k="",activeClub:U="",starters:V=[],selectMode:I="captain",selectedOption:M="",lineups:z={},players:G=[]}=w??{},ne=_e(U||""),re=z?.[ne]?.players||[],[ce,N]=F.useState(!1),A=nE(a,E,w.activeClub,w.managedClubs);g5(z,U,E,A),y5(U,z,l);const C=A5(z,U),{remaining:R,chosen:D}=S5(re,V);x5(a,U,z,re),b5(a,E);const q=P5(w?.managedClubs,z);return m.jsx("div",{className:"p-4 max-w-7xl mx-auto",children:m.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[m.jsx("div",{className:"space-y-2",children:m.jsxs("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:[m.jsx(v5,{teamName:o}),m.jsx(_5,{value:o,onChange:l,onBlurSave:()=>V5({uid:a,teamName:o,lineups:z,dispatch:E}),onConfirm:()=>N5({uid:a,teamName:o,lineups:z,dispatch:E}),disabled:re.length>0,suggestions:q}),m.jsx(w5,{activeClub:U,lineups:z,form:y,changed:g,players:re,dispatch:E,setValue:b}),m.jsx(T5,{players:re,selectedOption:M,dispatch:E,teamName:o,activeClub:U,uid:a,setShowForm:N})]})}),m.jsx("div",{className:"space-y-2",children:ce?m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6 space-y-4",children:m.jsxs(m.Fragment,{children:[m.jsx(C5,{showForm:ce,selectMode:I,players:re,selectedOption:M,starters:V,dispatch:E}),I==="starters"&&re.length>0&&m.jsx(I5,{selectedOption:M,players:re,starters:V,dispatch:E,remaining:R,chosen:D}),m.jsx(O5,{captainName:k,players:re,starters:V,dispatch:E,activeClub:U,teamName:o,uid:a,setShowForm:N})]})}):re.length!==0?m.jsxs("div",{className:"hidden md:block text-xs text-gray-500",children:["Toc ",m.jsx("strong",{children:"Nueva formacin"})," para empezar a armar el equipo."]}):null}),m.jsx("div",{className:"space-y-2",children:C.length>0&&m.jsx("div",{className:"bg-white shadow-md rounded-xl p-6",children:m.jsx(L5,{ordered:C,activeClub:U,teamName:o,uid:a,dispatch:E,setShowForm:N,setTeamName:l})})})]})})},qt=r=>typeof r=="string"&&r.trim()?Re(r):String(r??"");function z5(r=""){const e=(r||"").toLowerCase();return e.includes("liga")||e.includes("campeonato")}function B5({torneoName:r,torneoYear:e,fecha:t}){if(z5(r)){const o=t?new Date(t):null,l=o?o.getFullYear():Number(e)||0;if(!o)return`${r} ${l}`;const h=o.getMonth()+1>=7?`${l}-${l+1}`:`${l-1}-${l}`;return`${r} ${h}`}const a=Number(e)||(t?new Date(t).getFullYear():"");return`${r} ${a}`}function Zm(){return{pj:0,g:0,e:0,p:0,gf:0,gc:0}}function Hv(r,{esLocal:e,gf:t,gc:a}){const o=t>a?"g":t<a?"p":"e";r.pj+=1,r[o]+=1,r.gf+=t,r.gc+=a}function To(r){const{g:e=0,e:t=0,p:a=0}=r||{};return e>=t&&e>a?"bg-green-100":a>e&&a>=t?"bg-red-100":t>=e&&t>=a?"bg-yellow-100":"bg-pink-100"}function So({gf:r=0,gc:e=0}){return(r||0)-(e||0)}function Rf(r){const e=r.g*3+r.e,t=r.pj*3,a=t>0?(e/t).toFixed(2):"0.00";return{puntos:e,efectividad:a}}function F5({match:r,uid:e,clubKey:t}){if(!r?.id){he.Notify.failure("No se encontr el ID del partido.");return}he.Confirm.show("Borrar Partido",`Ests seguro de borrar el partido de ${r.condition} vs ${qt(r.rival||"")}?`,"S","No",async()=>{try{const a=Mn(vn,"users",e),l=(await Yc(a)).data()||{},u=t||r.club,y=(l?.lineups?.[u]?.matches||[]).filter(g=>g?.id!==r.id);await Na(a,{[`lineups.${u}.matches`]:y}),he.Notify.success("Partido borrado con xito.")}catch(a){console.error(a),he.Notify.failure("No se pudo borrar el partido.")}},()=>he.Notify.info("El partido no se borr"))}const q5=r=>F.useMemo(()=>{const e={};for(const t of r){const a=B5({torneoName:t.torneoName,torneoYear:t.torneoYear,fecha:t.fecha});e[a]||(e[a]={general:Zm(),local:Zm(),visitante:Zm()});const o=Number(t.golFavor)||0,l=Number(t.golContra)||0,u=(t.condition||"").toLowerCase()==="local";Hv(e[a].general,{esLocal:u,gf:o,gc:l}),Hv(u?e[a].local:e[a].visitante,{esLocal:u,gf:o,gc:l})}return e},[r]),H5=(r,e)=>F.useMemo(()=>{const t=o=>{const l=String(o).match(/(\d{4})(?:-(\d{4}))?$/);return l?parseInt(l[2]||l[1],10):0},a=Object.keys(r);return a.sort((o,l)=>e==="asc"?t(o)-t(l):t(l)-t(o)),a},[r,e]),G5=r=>{const e=r?.fecha||r?.createdAt;if(!e)return"";const t=typeof e=="string"?new Date(`${e}T00:00:00`):new Date(e);if(Number.isNaN(t.getTime()))return"";const a=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0");return`${a}/${o}`},rE=[{value:"",label:"Sin definir"},{value:"campeon",label:"Campen"},{value:"subcampeon",label:"Sub Campen"},{value:"3ro",label:"Tercero"},{value:"4to",label:"Cuarto"},{value:"5to",label:"Quinto"},{value:"6to",label:"Sexto"},{value:"7mo",label:"Sptimo"},{value:"8vo",label:"Octavo"},{value:"9no",label:"Noveno"},{value:"10mo",label:"Dcimo"},{value:"lejos",label:"Lejos"},{value:"fase de grupos",label:"Fase de Grupos"},{value:"16 avos de final",label:"16 avos de Final"},{value:"32 avos de final",label:"32 avos de Final"},{value:"octavos de final",label:"Octavos de Final"},{value:"cuartos de final",label:"Cuartos de Final"},{value:"semi Final",label:"Semi Final"}],$5=r=>{switch(r){case"ganado":return"bg-emerald-100 text-emerald-800 font-semibold";case"empatado":return"bg-amber-100 text-amber-800 font-semibold";case"perdido":return"bg-rose-100 text-rose-800 font-semibold";default:return"bg-slate-100 text-slate-700"}},X5=({condition:r})=>{const e="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-semibold";return r==="local"?m.jsx("span",{className:`${e} bg-blue-100 text-blue-800`,children:"Local"}):r==="visitante"?m.jsx("span",{className:`${e} bg-purple-100 text-purple-800`,children:"Visitante"}):r==="neutral"||r==="neutro"?m.jsx("span",{className:`${e} bg-slate-100 text-slate-800`,children:"Neutral"}):m.jsx("span",{className:`${e} bg-slate-100 text-slate-600`,children:"-"})},iE=r=>r?r.triplete||r.hattrick?3:r.doblete?2:r.gol?1:0:0,Y5=r=>{const t=(Array.isArray(r.goleadoresActiveClub)?r.goleadoresActiveClub:[]).map(a=>{const o=iE(a);return!a.name||o<=0?null:o===1?`${qt(a.name)}`:`${qt(a.name)} (${o})`}).filter(Boolean);return t.length?t.join(", "):""},K5=r=>{const t=(Array.isArray(r.goleadoresRivales)?r.goleadoresRivales:[]).map(a=>{const o=iE(a);return!a.name||o<=0?null:o===1?`${qt(a.name)}`:`${qt(a.name)} (${o})`}).filter(Boolean);return t.length?t.join(", "):""},aE=r=>{if(!r||!Array.isArray(r.matches)||!r.matches.length)return null;const e=Array.from(new Set(r.matches.map(t=>t.torneoYear).filter(t=>t!=null)));return e.length?e[0]:null},Q5=async({uid:r,clubKey:e,camp:t,value:a})=>{if(!r||!t||!a)return;const o=aE(t),l=t.matches?.length||0,h=rE.find(w=>w.value===a)?.label||"",y=t.matches[0]||{},g=y.club||y.activeClubName||y.activeClub||e||"Sin club",b={uid:r,clubKey:e,clubName:g,torneoDisplay:t.nombre,resultado:a,resultadoLabel:h,matchesCount:l,year:o,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const w=String(g).replace(/\s+/g,"_"),E=String(t.nombre).replace(/\s+/g,"_"),U=`${r}_${w}_${E}_${o??"NA"}`,V=Mn(vn,"palmares",U);await Kc(V,b,{merge:!0}),he.Notify.success("Palmars guardado"),console.log("Guardado en palmares:",b)}catch(w){he.Notify.failure("Error al guardar palmars"),console.log("error: ",w)}},W5=({matches:r=[],clubKey:e,uid:t})=>{const[a,o]=F.useState({}),l=F.useMemo(()=>{if(!Array.isArray(r))return[];const h=new Map;r.forEach(g=>{const b=g.torneoName||g.torneo||"Sin torneo";h.has(b)||h.set(b,{nombre:b,matches:[],lastDate:null});const w=h.get(b);w.matches.push(g);const E=new Date(g.fecha||g.createdAt||0);(!w.lastDate||E>w.lastDate)&&(w.lastDate=E)});const y=Array.from(h.values());return y.forEach(g=>{g.matches.sort((b,w)=>{const E=new Date(b.fecha||b.createdAt||0).getTime();return new Date(w.fecha||w.createdAt||0).getTime()-E})}),y.sort((g,b)=>{const w=(g.lastDate||0).getTime?g.lastDate.getTime():0;return((b.lastDate||0).getTime?b.lastDate.getTime():0)-w}),y},[r]);F.useEffect(()=>{(async()=>{if(t&&!(!l||!l.length))try{const y=new Set(l.map(k=>k.nombre)),g=Dw(vn,"palmares"),b=Uw(g,zw("uid","==",t)),w=await qw(b),E={};w.forEach(k=>{const U=k.data(),V=U.torneoDisplay,I=U.resultado;y.has(V)&&typeof I=="string"&&(E[V]=I)}),o(k=>({...E,...k}))}catch(y){console.error("Error cargando palmars:",y)}})()},[t,l]);const u=async(h,y)=>{const g=h.nombre;o(b=>({...b,[g]:y}));try{await Q5({uid:t,clubKey:e,camp:h,value:y})}catch(b){console.error("Error guardando en palmares:",b)}};return r.length?(console.log(r),m.jsxs("div",{className:"mt-8",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-4 text-center",children:" Detalle de Partidos por Campeonato"}),l.map(h=>{const y=h.nombre,g=a[y]||"",b=aE(h),w=`${qt(h.nombre)}${b?` ${b}`:""}`;return m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"w-full lg:w-[80%] mx-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 px-3 py-2 border-b border-slate-200 bg-slate-50",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-sm md:text-base text-slate-800",children:w}),m.jsxs("p",{className:"text-[11px] text-slate-500",children:[h.matches.length," partido",h.matches.length!==1?"s":""," jugado",h.matches.length!==1?"s":""," en este campeonato."]})]}),m.jsxs("div",{className:"text-[11px] md:text-sm",children:[m.jsx("label",{className:"mr-2 font-medium",children:"Resultado:"}),m.jsx("select",{className:"border border-slate-300 rounded px-2 py-1 text-[11px] md:text-sm bg-white",value:g,onChange:E=>u(h,E.target.value),children:rE.map(E=>m.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),m.jsx("div",{className:"overflow-x-auto text-[11px] md:text-xs",children:m.jsxs("table",{className:"w-full table-auto border-collapse border border-slate-200 rounded-lg bg-white shadow-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center",children:"Fecha"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-left  lg:w-[150px]",children:"Rival"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center  lg:w-[250px]",children:"Resultado"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center  lg:w-[60px]",children:m.jsx("img",{src:"penc.png",alt:"Editar",className:"inline-block h-10 w-10"})}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center  lg:w-[80px]",children:"Condicin"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-left",children:"Capitn"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-left",children:"Goleadores propios"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center",children:"Goles rival"}),m.jsx("th",{className:"border border-slate-200 px-2 py-1 text-center",children:m.jsx("img",{src:"basu.png",alt:"Borrar",className:"inline-block h-10 w-10 align-middle"})})]})}),m.jsx("tbody",{children:h.matches.map(E=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-center tabular-nums",children:G5(E)}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:qt(E.rival||"")}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:m.jsx("span",{className:"inline-block px-2 py-0.5 rounded-full text-[10px] "+$5(E.final),children:qt(E.resultMatch||"")})}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-center",children:m.jsx("button",{children:m.jsx("img",{src:"pencil.png",alt:"Editar",className:"inline-block h-6 w-6"})})}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-center",children:m.jsx(X5,{condition:E.condition})}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:E.captain?qt(E.captain):""}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:Y5(E)}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-left",children:K5(E)}),m.jsx("td",{className:"border border-slate-200 px-2 py-1 text-center",children:m.jsx("button",{type:"button",onClick:()=>F5({match:E,uid:t,clubKey:e}),className:"inline-flex items-center justify-center",title:"Borrar partido",children:m.jsx("img",{src:"bas.png",alt:"Borrar",className:"inline-block h-6 w-6"})})})]},E.id||`${E.fecha}-${E.rival}-${E.resultMatch}`))})]})})]})},y)})]})):null},J5=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai(),l=Object.keys(a?.lineups||[]),[u,h]=F.useState(a?.activeClub||l[0]||""),y=_e(u||""),g=y?a?.lineups?.[y]:null,b=Array.isArray(g?.matches)?g.matches:[],[w,E]=F.useState("desc"),k=q5(b),U=H5(k,w),V=a?.lineups?.[y]||{},I=(V.players?.length??0)>0,M=(V.formations?.length??0)>0,z=V.playersStats?Object.keys(V.playersStats).length>0:!1;return!y||!I&&!M&&!z?m.jsx(Ba,{to:"/formacion",replace:!0}):m.jsxs("div",{className:"p-4 max-w-screen-2xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:" Campeonatos"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end justify-center",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:u,onChange:G=>h(G.target.value),children:l.map(G=>m.jsx("option",{value:G,children:qt(G)},G))})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),m.jsxs("select",{className:"border p-1 rounded text-sm",value:w,onChange:G=>E(G.target.value),children:[m.jsx("option",{value:"desc",children:"Ms nuevos primero"}),m.jsx("option",{value:"asc",children:"Ms viejos primero"})]})]})]}),m.jsx("div",{className:"md:hidden max-h-[75vh]  overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"w-full  text-[12px]  md:text-sm border-collapse",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Campeonato"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"Pts / Efec."})]})}),m.jsxs("tbody",{children:[U.map(G=>{const ne=k[G],re=So(ne.general),ce=So(ne.local),N=So(ne.visitante),A=To(ne.general),C=To(ne.local),R=To(ne.visitante),{puntos:D,efectividad:q}=Rf(ne.general),{puntos:O,efectividad:nt}=Rf(ne.local),{puntos:ct,efectividad:W}=Rf(ne.visitante);return m.jsxs($f.Fragment,{children:[m.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:qt(G)}),m.jsx("td",{className:`px-2 py-1 text-center ${A}`,children:ne.general.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${A}`,children:ne.general.g}),m.jsx("td",{className:`px-2 py-1 text-center ${A}`,children:ne.general.e}),m.jsx("td",{className:`px-2 py-1 text-center ${A}`,children:ne.general.p}),m.jsx("td",{className:`px-2 py-1 text-center ${A}`,children:ne.general.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${A}`,children:ne.general.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${A}`,children:re}),m.jsxs("td",{className:`px-2 py-1 text-center ${A}`,children:[D," / ",q]})]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"LOCAL"}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:ne.local.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:ne.local.g}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:ne.local.e}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:ne.local.p}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:ne.local.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:ne.local.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${C}`,children:ce}),m.jsxs("td",{className:`px-2 py-1 text-center ${C}`,children:[O," / ",nt]})]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"VISITANTE"}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ne.visitante.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ne.visitante.g}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ne.visitante.e}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ne.visitante.p}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ne.visitante.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ne.visitante.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:N}),m.jsxs("td",{className:`px-2 py-1 text-center ${R}`,children:[ct," / ",W]})]})]},G)}),U.length===0&&m.jsx("tr",{children:m.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:9,children:"No hay partidos cargados para este club."})})]})]})}),m.jsx("div",{className:"hidden md:block max-h-[75vh] overflow-auto",children:m.jsxs("table",{className:"mx-auto w-max table-auto text-[11px] md:text-sm border-collapse",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Campeonato"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200 border-r border-slate-300",children:"Pts / Efec."}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200 border-r border-slate-300",children:"DG L"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"PJ V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"G V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"E V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"P V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GF V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"GC V"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:"DG V"})]})}),m.jsxs("tbody",{children:[U.map((G,ne)=>{const re=ne%2===0?"bg-white":"bg-slate-50",ce=k[G],N=So(ce.general),A=So(ce.local),C=So(ce.visitante),R=To(ce.general),D=To(ce.local),q=To(ce.visitante),{puntos:O,efectividad:nt}=Rf(ce.general);return m.jsxs("tr",{className:`${re} border-t border-slate-100 hover:bg-slate-100/70 transition-colors`,children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:qt(G)}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ce.general.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ce.general.g}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ce.general.e}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ce.general.p}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ce.general.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:ce.general.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${R}`,children:N}),m.jsxs("td",{className:`px-2 py-1 text-center ${R} border-r border-slate-200`,children:[O," / ",nt]}),m.jsx("td",{className:`px-2 py-1 text-center ${D}`,children:ce.local.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${D}`,children:ce.local.g}),m.jsx("td",{className:`px-2 py-1 text-center ${D}`,children:ce.local.e}),m.jsx("td",{className:`px-2 py-1 text-center ${D}`,children:ce.local.p}),m.jsx("td",{className:`px-2 py-1 text-center ${D}`,children:ce.local.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${D}`,children:ce.local.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${D} border-r border-slate-200`,children:A}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:ce.visitante.pj}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:ce.visitante.g}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:ce.visitante.e}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:ce.visitante.p}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:ce.visitante.gf}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:ce.visitante.gc}),m.jsx("td",{className:`px-2 py-1 text-center ${q}`,children:C})]},G)}),U.length===0&&m.jsx("tr",{children:m.jsx("td",{className:"px-2 py-4 text-center text-slate-500",colSpan:23,children:"No hay partidos cargados para este club."})})]})]})}),m.jsx(W5,{matches:b,clubKey:y,uid:r})]})},Ca=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0}),kp=()=>({General:Ca(),Local:Ca(),Visitante:Ca(),Neutral:Ca()});function kf(r,e){r.pj+=1;const t=Number(e.golFavor||0),a=Number(e.golContra||0);r.gf+=t,r.gc+=a,t>a?r.g+=1:t===a?r.e+=1:r.p+=1,r.dif=r.gf-r.gc}function Gv(r,e){kf(r.General,e);const t=String(e?.condition||"").trim().toLowerCase();t==="local"?kf(r.Local,e):t==="visitante"?kf(r.Visitante,e):(t==="neutro"||t==="neutral")&&kf(r.Neutral,e)}function Z5(r){const e=new Map;for(const l of r||[]){const u=(l?.captain||"").trim();e.has(u)||e.set(u,{captain:u,total:kp(),byTournament:{},tourneyMaxTs:{}});const h=e.get(u);Gv(h.total,l);const y=l?.torneoDisplay||"Sin torneo";h.byTournament[y]||(h.byTournament[y]=kp()),Gv(h.byTournament[y],l);const g=l?.createdAt??(l?.fecha?new Date(l.fecha).getTime():0);h.tourneyMaxTs[y]=Math.max(h.tourneyMaxTs[y]||0,g)}const t=[...e.values()].sort((l,u)=>l.captain.localeCompare(u.captain)),a=new Map;t.forEach(l=>{Object.entries(l.tourneyMaxTs).forEach(([u,h])=>{a.set(u,Math.max(a.get(u)||0,h))})});const o=[...a.entries()].sort((l,u)=>u[1]-l[1]).map(([l])=>l);return{captains:t,tournamentsOrdered:o}}const $v=({title:r,rows:e,colorize:t=!0})=>{const a=["General","Local","Visitante","Neutral"];function o({g:y=0,e:g=0,p:b=0}){return t?y>=g&&y>b?"bg-green-100":b>y&&b>=g?"bg-red-100":y===b&&y>g||y===g&&y===b||g>=y&&g>=b?"bg-yellow-100":"bg-gray-100":""}function l(y){return t?y>0?"bg-green-200 font-semibold":y<0?"bg-red-200 font-semibold":"bg-yellow-200 font-semibold":""}const u=({children:y,bg:g})=>m.jsx("td",{className:`px-2.5 py-1.5 border-b border-gray-100 text-center ${g}`,children:y}),h=({value:y})=>m.jsx("td",{className:`px-2.5 py-1.5 border-b border-gray-100 text-center ${l(y)}`,children:y});return m.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden mt-3",children:[m.jsx("div",{className:"bg-blue-50 px-2.5 py-1.5 font-semibold text-sm text-center",children:Re(r)}),m.jsxs("table",{className:"w-full border-collapse text-sm",children:[m.jsx("thead",{className:"bg-blue-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"Tipo"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"Pj"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"G"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"E"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"P"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"GF"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"GC"}),m.jsx("th",{className:"px-2.5 py-1.5 text-left border-b border-gray-300",children:"DIF"})]})}),m.jsx("tbody",{children:a.map((y,g)=>{const b=e[y]||{pj:0,g:0,e:0,p:0,gf:0,gc:0,dif:0},w=o(b);return m.jsxs("tr",{className:g%2===0?"bg-white":"bg-gray-50",children:[m.jsx("td",{className:"px-2.5 py-1.5 border-b border-gray-100",children:y}),m.jsx(u,{bg:w,children:b.pj}),m.jsx(u,{bg:w,children:b.g}),m.jsx(u,{bg:w,children:b.e}),m.jsx(u,{bg:w,children:b.p}),m.jsx(u,{bg:w,children:b.gf}),m.jsx(u,{bg:w,children:b.gc}),m.jsx(h,{value:b.dif})]},y)})})]})]})},e3=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai();Qc(r,t,o);const[l,u]=F.useState(null),h=Object.keys(a?.lineups||[]),[y,g]=F.useState(a?.activeClub||h[0]||""),b=_e(y||""),w=b?a?.lineups?.[b]:null;F.useEffect(()=>{w&&Object.keys(w).length!==0&&u(w)},[w]);const E=Array.isArray(l?.matches)?l.matches:[],k=a?.lineups?.[b]||{},U=(k.players?.length??0)>0,V=(k.formations?.length??0)>0,I=k.playersStats?Object.keys(k.playersStats).length>0:!1;if(!b||!U&&!V&&!I)return m.jsx(Ba,{to:"/formacion",replace:!0});const{captains:M,tournamentsOrdered:z}=F.useMemo(()=>Z5(E),[E]),G=re=>({General:re?.General||Ca(),Local:re?.Local||Ca(),Visitante:re?.Visitante||Ca(),Neutral:re?.Neutral||Ca()}),ne=y;return m.jsxs("div",{className:"p-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-3 items-center mb-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-center col-start-2",children:" Anlisis"}),h.length>1&&m.jsxs("div",{className:"justify-self-end flex items-center gap-2",children:[m.jsx("span",{className:"text-sm text-gray-600",children:"Club:"}),m.jsx("select",{className:"border rounded px-2 py-1 text-sm",value:ne,onChange:re=>g(re.target.value),children:h.map(re=>m.jsx("option",{value:re,children:Re(re)},re))})]})]}),m.jsx("h2",{className:"text-lg font-bold mb-2 text-center underline",children:"Totales Generales"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("div",{className:"flex gap-3 flex-nowrap justify-center mx-auto w-max",children:[M.map(re=>m.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:m.jsx($v,{title:re.captain,rows:G(re.total)})},`total-${re.captain}`)),!M.length&&m.jsx("div",{className:"text-gray-500 text-sm",children:" Sin partidos "})]})}),m.jsx("div",{className:"mt-6 space-y-6",children:z.map(re=>m.jsxs("section",{children:[m.jsx("h3",{className:"font-bold text-base md:text-lg mb-2 text-center underline",children:re}),m.jsx("div",{className:"overflow-x-auto",children:m.jsx("div",{className:"flex gap-3 flex-nowrap justify-center mx-auto w-max",children:M.map(ce=>{const N=ce.byTournament[re]||kp();return m.jsx("div",{className:"min-w-[260px] sm:min-w-[280px] lg:min-w-[320px]",children:m.jsx($v,{title:ce.captain,rows:G(N)})},`${re}-${ce.captain}`)})})})]},re))})]})};function t3(r){const e=parseInt(r.golesFavor)||0,t=parseInt(r.golesContra)||0;return e>t?"bg-green-400":e===t?"bg-yellow-400":"bg-red-400"}const Xv=({children:r})=>m.jsx("h2",{className:"font-semibold text-sm whitespace-nowrap col-start-1",children:r}),Yv=({lista:r})=>m.jsx("div",{className:"flex gap-1 flex-wrap col-start-2 -ml-20",children:r.map(e=>m.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full ${t3(e)}`,title:`${e.fecha} vs ${String(e.rival||"").trim()}: ${e.golesFavor}-${e.golesContra}`},e.id))}),n3=({partidos:r=[],fixedCaptains:e})=>{if(!r.length)return m.jsx("p",{className:"text-center text-gray-500 mt-4",children:"No hay partidos para mostrar."});const t=[...r].sort((u,h)=>new Date(h.fecha)-new Date(u.fecha)),a=t.slice(0,10),o=Array.isArray(e)&&e.length?e.map(u=>u.toLowerCase()):[...new Set(t.map(u=>(u.equipo||"").toLowerCase()).filter(Boolean))].sort(),l=Object.fromEntries(o.map(u=>[u,t.filter(h=>(h.equipo||"").toLowerCase()===u).slice(0,10)]));return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-2 items-center gap-2 mb-2 ml-12",children:[m.jsx(Xv,{children:" ltimos 10 Resultados (General)"}),m.jsx(Yv,{lista:a})]}),o.map(u=>m.jsxs("div",{className:"grid grid-cols-2 items-center gap-2 mb-2 mt-4 ml-12",children:[m.jsxs(Xv,{children:[" ltimos 10 con ",Re(u)]}),m.jsx(Yv,{lista:l[u]})]},u)),m.jsx("br",{})]})},r3=(r=[])=>F.useMemo(()=>r.map(e=>({id:e.id,fecha:e.fecha,rival:e.rival,golesFavor:e.golFavor??0,golesContra:e.golContra??0,equipo:(e.captain||"").toLowerCase(),esLocal:String(e.condition||"").trim().toLowerCase()==="local"})),[r]),Kr=()=>({pj:0,g:0,e:0,p:0,gf:0,gc:0,df:0}),Es=()=>({General:Kr(),Local:Kr(),Visitante:Kr(),Neutral:Kr()}),_s=["PJ","G","E","P","GF","GC","DF"];function va(r,e,t){r.pj+=1,e>t?r.g+=1:e===t?r.e+=1:r.p+=1,r.gf+=e,r.gc+=t,r.df=r.gf-r.gc}function sE(r){return r>0?"bg-green-200":r<0?"bg-red-200":"bg-yellow-200"}function oE(r={}){const{g:e=0,e:t=0,p:a=0}=r;return e>=t&&e>a?"bg-green-100":a>e&&a>=t?"bg-red-100":e===a&&e>t||e===t&&e===a||t>=e&&t>=a?"bg-yellow-100":"bg-pink-100"}const i3=(r,e=[])=>{const t={General:r?.General??Kr(),Local:r?.Local??Kr(),Neutral:r?.Neutral??Kr(),Visitante:r?.Visitante??Kr()},a=[];for(const o of e){const l=t[o]??Kr();a.push(l.pj,l.g,l.e,l.p,l.gf,l.gc,l.df)}return a.map((o,l)=>{const u=l%7,h=Math.floor(l/7),y=e[h],g=t[y]??Kr(),b=u===6?sE(g.df):oE(g);return m.jsx("td",{className:`border px-2 py-1 text-center ${b}`,children:o},`${y}-${l}`)})},Kv=({etiquetas:r,sufijos:e=["",""]})=>m.jsx(m.Fragment,{children:r.flatMap((t,a)=>_s.map(o=>m.jsxs("th",{className:"border px-2 py-1 text-center",children:[o,e[a]]},`${t}-${o}`)))}),If=({triple:r,orden:e})=>m.jsx(m.Fragment,{children:i3(r,e)}),a3=(r=[])=>F.useMemo(()=>{const e={},t=new Set;for(const l of r){if(!l?.fecha)continue;const u=new Date(l.fecha),h=Number.isFinite(u.getTime())?String(u.getFullYear()):"N/A",y=(l?.captain||"").trim();t.add(y),e[h]||(e[h]={general:Es(),capitanes:{}}),e[h].capitanes[y]||(e[h].capitanes[y]=Es());const g=Number(l.golFavor||0),b=Number(l.golContra||0),w=String(l.condition||"").trim().toLowerCase();va(e[h].general.General,g,b),w==="local"?va(e[h].general.Local,g,b):w==="visitante"?va(e[h].general.Visitante,g,b):(w==="neutral"||w==="neutro"||w==="neutro/neutral")&&(e[h].general.Neutral||(e[h].general.Neutral=Es().General),va(e[h].general.Neutral,g,b)),va(e[h].capitanes[y].General,g,b),w==="local"?va(e[h].capitanes[y].Local,g,b):w==="visitante"?va(e[h].capitanes[y].Visitante,g,b):(w==="neutral"||w==="neutro"||w==="neutro/neutral")&&(e[h].capitanes[y].Neutral||(e[h].capitanes[y].Neutral=Es().General),va(e[h].capitanes[y].Neutral,g,b))}const a=Object.keys(e).sort((l,u)=>{const h=parseInt(l.split("-")[0],10);return parseInt(u.split("-")[0],10)-h}),o=[...t].sort((l,u)=>l.localeCompare(u));return{temporadasOrdenadas:a,resumenPorTemporada:e,captainsOrdenados:o}},[r]),Qv=r=>r===0?{bg:"bg-amber-50",icon:"",isTop3:!0}:r===1?{bg:"bg-slate-50",icon:"",isTop3:!0}:r===2?{bg:"bg-orange-50/40",icon:"",isTop3:!0}:{bg:"bg-white",icon:`${r+1}`,isTop3:!1},s3=({playersStats:r={},topN:e=7})=>{const t=Object.entries(r).map(([a,o])=>({name:a,goals:o?.goals??0})).filter(a=>a.goals>0).sort((a,o)=>o.goals-a.goals).slice(0,e);return t.length===0?null:m.jsx("div",{className:"mt-4",children:m.jsxs("div",{className:"max-w-full mx-auto rounded-lg border border-slate-200 bg-white shadow-sm overflow-hidden",children:[m.jsx("div",{className:"px-3 py-2 border-b border-slate-200 text-[10px] md:text-xs font-semibold tracking-wide text-center uppercase text-slate-800",children:"Goleadores"}),m.jsx("table",{className:"w-full text-[11px] md:text-sm border-collapse",children:m.jsxs("tbody",{children:[m.jsx("tr",{children:t.map((a,o)=>{const{bg:l,icon:u,isTop3:h}=Qv(o);return m.jsx("td",{className:`px-2 py-2 text-center border-r last:border-r-0 border-slate-100 ${l}`,children:m.jsxs("div",{className:"flex flex-row items-center justify-center gap-1",children:[m.jsx("span",{className:"text-[11px] md:text-xs text-slate-500",children:u}),m.jsxs("span",{className:"flex flex-row items-baseline gap-1 whitespace-nowrap",children:[m.jsx("span",{className:`tabular-nums ${h?"font-bold text-xs md:text-sm":"font-semibold text-[11px]"} text-slate-900`,children:a.goals}),m.jsxs("span",{className:"text-[9px] text-slate-400 leading-none",children:["gol",a.goals!==1?"es":""]})]})]})},`gpos-${o}`)})}),m.jsx("tr",{children:t.map((a,o)=>{const{bg:l,isTop3:u}=Qv(o);return m.jsx("td",{className:`px-2 pb-2 pt-1 text-center border-r last:border-r-0 border-t border-slate-100 ${l}`,children:m.jsx("span",{className:`truncate ${u?"font-semibold text-slate-800":"text-slate-600"}`,children:qt(a.name)})},`gname-${o}`)})})]})})]})})},o3={PJ:"pj",G:"g",E:"e",P:"p",GF:"gf",GC:"gc",DF:"df"},_a=(r={})=>_s.map(e=>{const t=o3[e],a=r?.[t]??0,o=e==="DF"?sE(r?.df??0):oE(r);return m.jsx("td",{className:`px-2 py-1 text-center ${o}`,children:a},e)}),l3=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai();Qc(r,t,o);const[l,u]=F.useState(null),h=Object.keys(a?.lineups||[]),[y,g]=F.useState(a?.activeClub||h[0]||""),b=_e(y||""),w=b?a?.lineups?.[b]:null,E=a?.lineups?.[b]||{},k=(E.players?.length??0)>0,U=(E.formations?.length??0)>0,V=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!b||!k&&!U&&!V)return m.jsx(Ba,{to:"/formacion",replace:!0});F.useEffect(()=>{w&&Object.keys(w).length!==0&&u(w)},[w]);const I=Array.isArray(l?.matches)?l.matches:[],{temporadasOrdenadas:M,resumenPorTemporada:z,captainsOrdenados:G}=a3(I),ne=r3(I),re=[...M||[]].reverse();return m.jsxs("div",{className:"p-4 max-w-screen-2xl mx-auto",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-center",children:" Temporadas"}),h.length>0&&m.jsxs("div",{className:"text-center mt-3",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:y,onChange:ce=>g(ce.target.value),children:h.map(ce=>m.jsx("option",{value:ce,children:Re(ce)},ce))})]})]}),m.jsx(n3,{partidos:ne}),re.map(ce=>{const N=z[ce];if(!N)return null;const A=Array.isArray(G)?G:[],C=N.general||Es();return m.jsxs("div",{className:"mb-8 space-y-3",children:[m.jsx("div",{className:"md:hidden max-h-[75vh] overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"w-full text-[11px] border-collapse",children:[m.jsx("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] uppercase tracking-wide",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2 text-left border-b border-slate-200",children:"Temporada"}),_s.map(R=>m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",children:R},`head-${R}`))]})}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"border-t border-slate-100 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:ce}),_a(C.General)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Local"}),_a(C.Local)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Visitante"}),_a(C.Visitante)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Neutral"}),_a(C.Neutral)]}),A.map(R=>{const D=N.capitanes?.[R]||Es();return m.jsxs($f.Fragment,{children:[m.jsxs("tr",{className:"border-t border-slate-200 bg-white hover:bg-slate-50/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1.5 font-semibold text-left text-slate-800",children:Re(R)}),_a(D.General)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Local"}),_a(D.Local)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Visitante"}),_a(D.Visitante)]}),m.jsxs("tr",{className:"border-t border-slate-100 bg-slate-50 hover:bg-slate-100/80 transition-colors",children:[m.jsx("td",{className:"px-3 py-1 text-left text-[10px] uppercase tracking-wide text-slate-600",children:"Neutral"}),_a(D.Neutral)]})]},`${ce}-${R}`)})]})]})}),m.jsx("div",{className:"hidden md:block max-h-[75vh] overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm",children:m.jsxs("table",{className:"mx-auto w-full min-w-[860px] text-[11px] md:text-sm border-collapse",children:[m.jsxs("thead",{className:"sticky top-0 z-10 bg-sky-50 text-slate-700 font-semibold shadow-sm text-[10px] md:text-xs uppercase tracking-wide",children:[m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 w-40 text-center border-b border-slate-200",children:"Temporada"}),m.jsx("th",{className:"px-2 py-2 text-center border-b border-slate-200",colSpan:14,children:b})]}),m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200"}),_s.map(R=>m.jsx("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:R},`G-${R}`)),_s.map(R=>m.jsxs("th",{className:"px-2 py-1 text-center border-b border-slate-200",children:[R," N"]},`N-${R}`))]})]}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"bg-white border-t border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 font-semibold text-center",children:ce}),m.jsx(If,{triple:N.general,orden:["General","Neutral"]})]}),m.jsxs("tr",{className:"bg-slate-50",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Condicin"}),_s.map(R=>m.jsxs("th",{className:"border-b border-t border-slate-200 px-2 py-1 text-center text-[10px]",children:[R," L"]},`L-${R}`)),_s.map(R=>m.jsxs("th",{className:"border-b border-t border-slate-200 px-2 py-1 text-center text-[10px]",children:[R," V"]},`V-${R}`))]}),m.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-center text-[10px] uppercase text-slate-600",children:"Totales"}),m.jsx(If,{triple:N.general,orden:["Local","Visitante"]})]}),A.map(R=>{const D=N.capitanes?.[R]||Es();return m.jsxs($f.Fragment,{children:[m.jsxs("tr",{className:"bg-slate-100 border-t border-slate-200",children:[m.jsx("td",{className:"border-r border-slate-200 font-semibold px-2 py-1 text-left",children:Re(R)}),m.jsx(Kv,{etiquetas:["General","Neutral"],sufijos:[""," N"]})]}),m.jsxs("tr",{className:"bg-white hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),m.jsx(If,{triple:D,orden:["General","Neutral"]})]}),m.jsxs("tr",{className:"bg-slate-50",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1 text-[10px] uppercase text-slate-600",children:"Condicin"}),m.jsx(Kv,{etiquetas:["Local","Visitante"],sufijos:[" L"," V"]})]}),m.jsxs("tr",{className:"bg-white border-b border-slate-100 hover:bg-slate-50/70 transition-colors",children:[m.jsx("td",{className:"border-r border-slate-200 px-2 py-1"}),m.jsx(If,{triple:D,orden:["Local","Visitante"]})]})]},`${ce}-${R}`)})]})]})}),m.jsx(s3,{playersStats:l?.playersStats,topN:7})]},ce)})]})},c3=({matches:r})=>{const e=o=>o?o.dobleHattrick?6:o.manito?5:o.poker?4:o.hattrick||o.triplete?3:o.doblete?2:o.gol?1:0:0,t=F.useMemo(()=>{const o={};return r.forEach(l=>{const{torneoDisplay:u,torneoName:h,torneoYear:y,goleadoresActiveClub:g,starters:b,substitutes:w}=l||{};if(!y)return;const E=u||`${h??"Torneo"} ${y}`,k=`${h??E}-${y}`;o[k]||(o[k]={label:E,year:y,jugadores:{}});const U=Array.isArray(b)?b:[],V=Array.isArray(w)?w:[];[...new Set([...U,...V].map(z=>(z??"").toString().trim()).filter(Boolean))].forEach(z=>{const G=z.toLowerCase();o[k].jugadores[G]||(o[k].jugadores[G]={nombre:qt(z),pj:0,goles:0,x2:0,x3:0}),o[k].jugadores[G].pj+=1}),(Array.isArray(g)?g:[]).forEach(z=>{if(!z)return;const ne=(z.pretty??z.prettyName??z.displayName??z.nombre??z.name??"").toString().trim();if(!ne||z.isOwnGoal===!0||ne==="__og__")return;const re=ne.toLowerCase();o[k].jugadores[re]||(o[k].jugadores[re]={nombre:qt(ne),pj:0,goles:0,x2:0,x3:0});const ce=o[k].jugadores[re],N=e(z);ce.goles+=N,z.doblete&&(ce.x2+=1),(z.hattrick||z.triplete)&&(ce.x3+=1)})}),Object.values(o).sort((l,u)=>u.year-l.year||l.label.localeCompare(u.label))},[r]),a=(o,l)=>l?(o/l).toFixed(2):"0.00";return!r||!r.length?m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."}):m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores por campeonato"}),t.map(o=>{const l=Object.values(o.jugadores).filter(u=>u.goles>0).sort((u,h)=>h.goles-u.goles||u.nombre.localeCompare(h.nombre));return m.jsxs("div",{className:"mb-6 border border-slate-200 rounded-lg bg-white shadow-sm p-3",children:[m.jsx("h3",{className:"text-base font-semibold mb-3 text-center underline",children:o.label}),m.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:m.jsxs("table",{className:"table-auto border-collapse border mx-auto min-w-[500px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"PJ"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Prom."}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"})]})}),m.jsxs("tbody",{children:[l.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"border px-2 py-2 text-center text-slate-500",children:"No hubo goles en este campeonato."})}),l.map(u=>m.jsxs("tr",{children:[m.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:u.nombre}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u.pj}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u.goles}),m.jsx("td",{className:"border px-2 py-1 text-center",children:a(u.goles,u.pj)}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u.x2}),m.jsx("td",{className:"border px-2 py-1 text-center",children:u.x3})]},u.nombre))]})]})})]},o.label)})]})},u3=({matches:r})=>{console.log(r);const e=Array.isArray(r)?r:[],[t,a]=F.useState("general"),[o,l]=F.useState("goles"),[u,h]=F.useState("desc"),y=F.useMemo(()=>{const b={},w=I=>I?I.dobleHattrick?6:I.manito?5:I.poker?4:I.hattrick||I.triplete?3:I.doblete?2:I.gol?1:0:0,E=I=>I?String(I).toLowerCase().includes("__og__"):!1;e.forEach(I=>{let M=(I?.condition||"").toString().toLowerCase();M||(I?.local===!0?M="local":I?.local===!1&&(M="visitante"));const z=["general"];M==="local"?z.push("local"):M==="visitante"?z.push("visitante"):(M==="neutral"||M==="neutro")&&z.push("neutro");const G=Array.isArray(I?.goleadoresActiveClub)?I.goleadoresActiveClub:[],ne={};[...Array.isArray(I?.starters)?I.starters:[],...Array.isArray(I?.substitutes)?I.substitutes:[]].forEach(ce=>{const N=ce?.toString().trim();!N||E(N)||(b[N]||(b[N]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),ne[N]||(ne[N]=new Set),z.forEach(A=>ne[N].add(A)))}),G.forEach(ce=>{const N=(ce?.name||ce?.nombre||"").toString().trim();if(!N||E(N))return;const A=w(ce);A&&(b[N]||(b[N]={general:{pj:0,goles:0,x2:0,x3:0},local:{pj:0,goles:0,x2:0,x3:0},visitante:{pj:0,goles:0,x2:0,x3:0},neutro:{pj:0,goles:0,x2:0,x3:0}}),z.forEach(C=>{b[N][C].goles+=A,A===2&&(b[N][C].x2+=1),A===3&&(b[N][C].x3+=1)}))}),Object.entries(ne).forEach(([ce,N])=>{N.forEach(A=>{b[ce][A].pj+=1})})});const k=I=>{const M=I.pj||0,z=I.goles||0;return{...I,pj:M,goles:z,x2:I.x2||0,x3:I.x3||0,prom:M>0?z/M:0}};return Object.entries(b).map(([I,M])=>({nombre:I,general:k(M.general),local:k(M.local),visitante:k(M.visitante),neutro:k(M.neutro)})).sort((I,M)=>{if(o==="nombre"){const z=I.nombre.toLowerCase(),G=M.nombre.toLowerCase();return u==="asc"?z.localeCompare(G):G.localeCompare(z)}else{const z=t,G=I[z]?.[o]??0,ne=M[z]?.[o]??0;return u==="asc"?G-ne:ne-G}})},[e,t,o,u]),g=b=>!b||Number.isNaN(b)?"0.00":b.toFixed(2);return e.length?m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores del equipo"}),m.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 items-end text-sm justify-center",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"mbito"}),m.jsxs("select",{value:t,onChange:b=>a(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"general",children:"General"}),m.jsx("option",{value:"local",children:"Local"}),m.jsx("option",{value:"visitante",children:"Visitante"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Campo"}),m.jsxs("select",{value:o,onChange:b=>l(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"nombre",children:"Nombre"}),m.jsx("option",{value:"pj",children:"PJ"}),m.jsx("option",{value:"goles",children:"Goles"}),m.jsx("option",{value:"x2",children:"x2"}),m.jsx("option",{value:"x3",children:"x3"}),m.jsx("option",{value:"prom",children:"Promedio"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium block",children:"Orden"}),m.jsxs("select",{value:u,onChange:b=>h(b.target.value),className:"border p-1 rounded text-sm",children:[m.jsx("option",{value:"asc",children:"Ascendente"}),m.jsx("option",{value:"desc",children:"Descendente"})]})]})]}),m.jsx("div",{className:"max-h-[80vh] overflow-auto ",children:m.jsxs("table",{className:"table-fixed border-collapse mx-auto min-w-[680px] md:min-w-[780px] text-[11px] md:text-sm tabular-nums",children:[m.jsxs("thead",{className:"sticky top-0 z-20",children:[m.jsxs("tr",{className:"bg-slate-100 text-slate-700",children:[m.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-center sticky left-0 bg-slate-100 z-20 w-10",children:"#"}),m.jsx("th",{rowSpan:2,className:"border px-2 py-2 text-left sticky left-10 bg-slate-100 z-20 w-28 sm:w-20 md:w-20 lg:w-20 overflow-hidden",children:"Jugador"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"General"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Local"}),m.jsx("th",{colSpan:5,className:"border px-2 py-2 text-center font-semibold",children:"Visitante"})]}),m.jsxs("tr",{className:"bg-slate-50 text-slate-600 text-[10px] md:text-xs",children:[["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`gen-${w}`)),["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`loc-${w}`)),["PJ","G","x2","x3","P"].map((b,w)=>m.jsx("th",{className:"border px-2 py-2 w-10 text-center",children:b},`vis-${w}`))]})]}),m.jsx("tbody",{children:y.map((b,w)=>m.jsxs("tr",{className:"even:bg-slate-50 hover:bg-slate-100/70 transition-colors",children:[m.jsx("td",{className:"border px-2 py-2 text-center sticky left-0 bg-white z-10 w-10",children:w+1}),m.jsx("td",{className:"border px-2 py-2 text-left font-semibold sticky left-10 bg-white z-10 w-28 sm:w-20 md:w-20 lg:w-20 max-w-[112px] sm:max-w-[128px] md:max-w-[80px] lg:max-w-[160px] whitespace-nowrap overflow-hidden text-ellipsis",children:qt(b.nombre)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.general.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:g(b.general.prom)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.local.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:g(b.local.prom)}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.pj}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.goles}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x2}),m.jsx("td",{className:"border px-2 py-2 text-center",children:b.visitante.x3}),m.jsx("td",{className:"border px-2 py-2 text-center",children:g(b.visitante.prom)})]},b.nombre))})]})})]}):m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."})},f3=({matches:r})=>{const e=F.useMemo(()=>{const t={};return r.forEach(a=>{(Array.isArray(a.goleadoresRivales)?a.goleadoresRivales:[]).forEach(l=>{if(!l)return;const u=l.name?.toString().trim(),h=l.club?.toString().trim()||"";if(!u)return;const y=u.toLowerCase();if(l.isOwnGoal===!0||l.gol===!1||y.includes("__og__")||y.includes("en contra"))return;const g=`${u.toLowerCase()}|${h.toLowerCase()}`;t[g]||(t[g]={nombre:u,club:h,goles:0,x2:0,x3:0,expulsiones:0});const b=t[g],w=!!l.doblete,E=!!l.triplete,k=!!l.gol,U=!!l.expulsion;E?(b.goles+=3,b.x3+=1):w?(b.goles+=2,b.x2+=1):k&&(b.goles+=1),U&&(b.expulsiones+=1)})}),Object.values(t).map(a=>{const o=qt(a.nombre),l=a.club?qt(a.club):"";return{...a,nombrePretty:o,clubPretty:l}}).sort((a,o)=>o.goles-a.goles||a.clubPretty.localeCompare(o.clubPretty,"es",{sensitivity:"base"})||a.nombrePretty.localeCompare(o.nombrePretty,"es",{sensitivity:"base"}))},[r]);return!r||!r.length?m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No hay partidos cargados para este club."}):e.length?m.jsxs("div",{className:"mt-4",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-center",children:" Goleadores rivales (Villanos)"}),m.jsx("div",{className:"overflow-x-auto text-xs md:text-sm",children:m.jsxs("table",{className:"table-auto border-collapse border mx-auto min-w-[450px]",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-slate-100",children:[m.jsx("th",{className:"border px-2 py-1 text-left",children:"Jugador"}),m.jsx("th",{className:"border px-2 py-1 text-left",children:"Club"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Goles"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x2"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"x3"}),m.jsx("th",{className:"border px-2 py-1 text-center",children:"Expulsiones"})]})}),m.jsx("tbody",{children:e.map(t=>m.jsxs("tr",{children:[m.jsx("td",{className:"border px-2 py-1 text-left font-medium",children:t.nombrePretty}),m.jsx("td",{className:"border px-2 py-1 text-left",children:t.clubPretty||""}),m.jsx("td",{className:"border px-2 py-1 text-center",children:t.goles}),m.jsx("td",{className:"border px-2 py-1 text-center",children:t.x2}),m.jsx("td",{className:"border px-2 py-1 text-center",children:t.x3}),m.jsx("td",{className:"border px-2 py-1 text-center",children:t.expulsiones})]},`${t.nombre}-${t.club}`))})]})})]}):m.jsx("p",{className:"text-center text-sm text-slate-500 mt-4",children:"No se registraron goles rivales."})},d3=({matches:r=[]})=>{const e=F.useMemo(()=>{const t=new Map;return(Array.isArray(r)?r:[]).forEach(a=>{(Array.isArray(a?.goleadoresActiveClub)?a.goleadoresActiveClub:[]).forEach(l=>{if(!l||!!!l.expulsion)return;const h=(l.name||l.nombre||"").trim();h&&t.set(h,(t.get(h)||0)+1)})}),Array.from(t.entries()).map(([a,o])=>({nombre:a,expulsiones:o})).sort((a,o)=>o.expulsiones-a.expulsiones||a.nombre.localeCompare(o.nombre))},[r]);return e.length?m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:"Expulsados"}),m.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:m.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),m.jsx("tbody",{children:e.map((t,a)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:a+1}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:qt(t.nombre)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:t.expulsiones})]},t.nombre))})]})})]}):m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin expulsados "})},h3=({matches:r=[]})=>{const e=F.useMemo(()=>{const t=new Map;return(Array.isArray(r)?r:[]).forEach(a=>{(Array.isArray(a?.goleadoresRivales)?a.goleadoresRivales:[]).forEach(l=>{if(!l||!!!l.expulsion)return;const h=(l.name||l.nombre||"").trim(),y=(l.club||l.equipo||l.rival||"").trim();if(!h)return;const g=`${h}||${y}`;t.set(g,(t.get(g)||0)+1)})}),Array.from(t.entries()).map(([a,o])=>{const[l,u]=a.split("||");return{nombre:l,club:u,expulsiones:o}}).sort((a,o)=>o.expulsiones-a.expulsiones||a.club.localeCompare(o.club,"es",{sensitivity:"base"})||a.nombre.localeCompare(o.nombre,"es",{sensitivity:"base"}))},[r]);return e.length?m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h2",{className:"text-lg md:text-xl font-bold mb-3 text-center",children:"Carniceros"}),m.jsx("div",{className:"overflow-auto border border-slate-200 rounded-lg bg-white shadow-sm  w-full sm:w-4/5 md:w-3/5  mx-auto",children:m.jsxs("table",{className:"w-full border-collapse text-[12px] md:text-sm",children:[m.jsx("thead",{className:"sticky top-0 bg-slate-100 text-slate-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-12",children:"#"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Nombre"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-left",children:"Club"}),m.jsx("th",{className:"border border-slate-200 px-2 py-2 text-center w-28",children:"Expulsiones"})]})}),m.jsx("tbody",{children:e.map((t,a)=>m.jsxs("tr",{className:"even:bg-slate-50",children:[m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:a+1}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:qt(t.nombre)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-left font-semibold",children:qt(t.club)}),m.jsx("td",{className:"border border-slate-200 px-2 py-2 text-center tabular-nums",children:t.expulsiones})]},t.nombre))})]})})]}):m.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:" Sin Carniceros "})},m3=r=>r?String(r).replace(/_/g," ").replace(/\s+/g," ").trim().replace(/\b\w/g,e=>e.toUpperCase()):"",p3=()=>{const{uid:r}=Bn(),{state:e,dispatch:t}=ii(),{state:a,dispatch:o}=ai();Qc(r,t,o);const[l,u]=F.useState(null),h=Object.keys(a?.lineups||[]),[y,g]=F.useState(a?.activeClub||h[0]||""),b=_e(y||""),w=b?a?.lineups?.[b]:null,E=a?.lineups?.[b]||{},k=(E.players?.length??0)>0,U=(E.formations?.length??0)>0,V=E.playersStats?Object.keys(E.playersStats).length>0:!1;if(!b||!k&&!U&&!V)return m.jsx(Ba,{to:"/formacion",replace:!0});F.useEffect(()=>{w&&Object.keys(w).length!==0&&u(w)},[w]);const I=Array.isArray(l?.matches)?l.matches:[],[M,z]=F.useState("goleadores");return m.jsxs("div",{className:"p-4 max-w-screen-2xl mx-auto",children:[m.jsx("div",{className:"flex flex-wrap gap-4 mb-4 items-end justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("label",{className:"text-sm font-medium block",children:"Club"}),m.jsx("select",{className:"border p-1 rounded text-sm",value:y,onChange:G=>g(G.target.value),children:h.map(G=>m.jsx("option",{value:G,children:m3(G)},G))})]})}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[m.jsx("button",{onClick:()=>z("goleadores"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${M==="goleadores"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Goleadores"}),m.jsx("button",{onClick:()=>z("campeonatos"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${M==="campeonatos"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Goleadores por campeonato"}),m.jsx("button",{onClick:()=>z("expulsados"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${M==="expulsados"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Expulsados"}),m.jsx("button",{onClick:()=>z("villanos"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${M==="villanos"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Villanos"}),m.jsx("button",{onClick:()=>z("carniceros"),className:`px-3 py-1.5 rounded-full text-xs md:text-sm border transition ${M==="carniceros"?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"}`,children:"Carniceros"})]}),M==="goleadores"&&m.jsx(u3,{matches:I}),M==="campeonatos"&&m.jsx(c3,{matches:I}),M==="villanos"&&m.jsx(f3,{matches:I}),M==="expulsados"&&m.jsx(d3,{matches:I}),M==="carniceros"&&m.jsx(h3,{matches:I})]})},g3=r=>{const e="inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] md:text-xs font-semibold border";switch(r){case"campeon":return`${e} bg-emerald-50 text-emerald-700 border-emerald-200`;case"subcampeon":return`${e} bg-amber-50 text-amber-700 border-amber-200`;case"3ro":case"tercero":return`${e} bg-sky-50 text-sky-700 border-sky-200`;default:return`${e} bg-slate-50 text-slate-700 border-slate-200`}},y3=r=>{const e=t=>typeof t=="number"?t:parseInt(String(t),10);return[...r].sort((t,a)=>{const o=e(t),l=e(a),u=Number.isNaN(o),h=Number.isNaN(l);return u&&h?String(t).localeCompare(String(a)):u?1:h?-1:l-o})},x3=()=>{const{uid:r}=Bn(),[e,t]=F.useState([]),[a,o]=F.useState(!0),{state:l,dispatch:u}=ii(),{state:h,dispatch:y}=nE(),g=h?.activeClub||l?.activeClub||"",b=_e?_e(g):g,w=h?.lineups?.[b]||{},E=(w.players?.length??0)>0,k=(w.formations?.length??0)>0,U=w.playersStats?Object.keys(w.playersStats).length>0:!1;if(!b||!E&&!k&&!U)return m.jsx(Ba,{to:"/formacion",replace:!0});F.useEffect(()=>{if(!r){t([]),o(!1);return}(async()=>{try{o(!0);const M=Dw(vn,"palmares"),z=Uw(M,zw("uid","==",r)),ne=(await qw(z)).docs.map(re=>({id:re.id,...re.data()}));t(ne)}catch(M){console.error("Error cargando palmars:",M),t([])}finally{o(!1)}})()},[r]);const V=F.useMemo(()=>{if(!e.length)return[];const I=new Map;return e.forEach(z=>{const G=z.year??"Sin ao";I.has(G)||I.set(G,[]),I.get(G).push(z)}),y3(Array.from(I.keys())).map(z=>{const G=I.get(z)||[];return G.sort((ne,re)=>String(ne.torneoDisplay||"").localeCompare(String(re.torneoDisplay||""))),{year:z,campeonatos:G}})},[e]);return m.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[m.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:" Palmars"}),m.jsx("p",{className:"text-xs md:text-sm text-slate-500 text-center mb-6",children:"Campeonatos guardados desde la pantalla de Campeonatos, agrupados por ao y resultado."}),a&&m.jsx("div",{className:"text-center text-sm text-slate-500 mt-6",children:"Cargando palmars..."}),!a&&!e.length&&m.jsxs("div",{className:"text-center text-sm text-slate-500 mt-6",children:["Todava no guardaste resultados de campeonatos.",m.jsx("br",{}),"Us la pantalla ",m.jsx("span",{className:"font-semibold",children:"Campeonatos"})," ","para marcar la posicin final en cada torneo."]}),!a&&V.map(({year:I,campeonatos:M})=>m.jsxs("section",{className:"mb-6",children:[m.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-center gap-2 mb-2",children:[m.jsx("div",{className:"w-8 h-px bg-slate-300 md:w-12"}),m.jsx("h2",{className:"text-sm md:text-base font-semibold text-slate-700",children:Number.isNaN(parseInt(String(I),10))?String(I):I}),m.jsx("div",{className:"flex-1 h-px bg-slate-200"})]}),m.jsx("div",{className:"space-y-2",children:M.map(z=>m.jsxs("div",{className:"w-full max-w-sm md:max-w-md mx-auto flex items-baseline justify-between gap-3 px-3 py-2 rounded-lg bg-white border border-slate-100 shadow-sm",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[12px] md:text-sm font-medium text-slate-900",children:z.torneoDisplay||"Sin nombre"}),z.clubName&&m.jsx("span",{className:"text-[10px] md:text-xs text-slate-500",children:Re(z.clubName)}),z.matchesCount!=null&&m.jsxs("span",{className:"text-[10px] text-slate-400 mt-0.5",children:[z.matchesCount," partido",z.matchesCount===1?"":"s"]})]}),m.jsx("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:z.resultado&&m.jsx("span",{className:g3(z.resultado),children:z.resultadoLabel||z.resultado})})]},z.id))})]},I))]})};function b3(){const{uid:r}=Bn(),{dispatch:e}=ii(),{dispatch:t}=ai();return useUserData(r,e,t),null}const v3="PesStatsZone",_3=()=>m.jsx(rS,{basename:`/${v3}/`,children:m.jsxs(j2,{children:[m.jsx(er,{element:m.jsx(hS,{}),children:m.jsx(er,{path:"/",element:m.jsx(P6,{})})}),m.jsxs(er,{element:m.jsx(G6,{}),children:[m.jsx(er,{path:"*",element:m.jsx(b3,{})}),m.jsx(er,{path:"/registrar-partido",element:m.jsx(l5,{})}),m.jsx(er,{path:"/formacion",element:m.jsx(U5,{})}),m.jsx(er,{path:"/versus",element:m.jsx(p5,{})}),m.jsx(er,{path:"/campeonatos",element:m.jsx(J5,{})}),m.jsx(er,{path:"/analisis",element:m.jsx(e3,{})}),m.jsx(er,{path:"/temporadas",element:m.jsx(l3,{})}),m.jsx(er,{path:"/goleadores",element:m.jsx(p3,{})}),m.jsx(er,{path:"/palmares",element:m.jsx(x3,{})})]})]})});he.Notify.init({position:"center-bottom",distance:"20px",timeout:3e3,clickToClose:!0,fontSize:"16px",width:"280px"});const lE=(()=>{if(typeof window>"u")return!1;const r=[];window.location.search&&r.push(window.location.search.slice(1)),window.location.hash&&window.location.hash.includes("?")&&r.push(window.location.hash.split("?")[1]);const e=new URLSearchParams(r.join("&"));return e.has("rawconsole")||e.get("console")==="raw"})();(function(){if(lE||typeof window>"u"||window.__dedupeInstalled)return;window.__dedupeInstalled=!0;const r=()=>{try{const l=(new Error().stack?.split(`
`)||[]).find(h=>h.includes(".jsx")&&!h.includes("main.jsx"));if(!l)return"";const u=l.match(/(.*?)(\/|\\)([^/\\]+\.jsx:\d+:\d+)/);if(u?.[3])return` [at ${u[3]}]`}catch{}return""},e=new Map,t=250;["log","info","warn","error"].forEach(o=>{const l=console[o].bind(console);console[o]=(...u)=>{const h=o+"::"+u.map(w=>{if(w instanceof Error)return w.stack||w.message;try{return typeof w=="string"?w:JSON.stringify(w)}catch{return String(w)}}).join("||"),y=Date.now(),g=e.get(h)||0;if(y-g<t)return;if(e.set(h,y),e.size>500){const w=y-t;for(const[E,k]of e)k<w&&e.delete(E)}const b=r();b?l(`[${o.toUpperCase()}]${b}`,...u):l(...u)}})})();const w3=typeof window<"u"&&new URLSearchParams((window.location.search||"")+(window.location.hash.includes("?")?"&"+window.location.hash.split("?")[1]:"")).has("debug");if(typeof window<"u"&&w3&&!window.__consolePatched&&!lE){window.__consolePatched=!0,window.__logBuffer=[],window.__origConsole=window.__origConsole||{};const r=()=>{try{const a=(new Error().stack?.split(`
`)||[]).find(l=>l.includes(".jsx")&&!l.includes("main.jsx"));if(!a)return"";const o=a.match(/(.*?)(\/|\\)([^/\\]+\.jsx:\d+:\d+)/);if(o?.[3])return` [at ${o[3]}]`}catch{}return""};["log","info","warn","error"].forEach(t=>{const a=console[t].bind(console);window.__origConsole[t]||(window.__origConsole[t]=a),console[t]=(...o)=>{try{window.__logBuffer.push({level:t,time:new Date().toISOString(),args:o.map(u=>{if(u instanceof Error)return u.stack||u.message;try{return JSON.stringify(u)}catch{return String(u)}})})}catch{}const l=r();l?window.__origConsole[t](`[${t.toUpperCase()}]${l}`,...o):window.__origConsole[t](...o)}}),window.addEventListener("error",t=>{window.__logBuffer.push({level:"error",time:new Date().toISOString(),args:[t?.error?.stack||t?.message||"window.onerror"]})}),window.addEventListener("unhandledrejection",t=>{window.__logBuffer.push({level:"error",time:new Date().toISOString(),args:["unhandledrejection",String(t?.reason)]})}),window.downloadLogs=function(){const t=JSON.stringify(window.__logBuffer||[],null,2),a=new Blob([t],{type:"application/json"}),o=document.createElement("a");o.href=URL.createObjectURL(a),o.download="logs.json",o.click(),URL.revokeObjectURL(o.href)},window.unpatchConsole=function(){window.__origConsole&&(console.log=window.__origConsole.log,console.info=window.__origConsole.info,console.warn=window.__origConsole.warn,console.error=window.__origConsole.error,window.__consolePatched=!1,console.info("[console] restored to raw"))}}FT.createRoot(document.getElementById("root")).render(m.jsx(F.StrictMode,{children:m.jsx(M6,{children:m.jsx(q6,{children:m.jsx(U6,{children:m.jsx(_3,{})})})})}));
